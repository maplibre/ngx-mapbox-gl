(self.webpackChunkshowcase=self.webpackChunkshowcase||[]).push([[179],{6637:(gi,ft,j)=>{"use strict";j.d(ft,{a:()=>$e});var M=j(8484),l=j(5879);function ae(ie,Ge){1&ie&&l.Hsn(0)}const v=["*"];let $e=(()=>{class ie{constructor(ke,Ye,Ve){this.componentFactoryResolver=ke,this.injector=Ye,this.appRef=Ve}ngAfterViewInit(){this.portalOutlet=new M.u0(document.querySelector("left"===this.position?"#layout-left-custom-items":"#layout-right-custom-items"),this.componentFactoryResolver,this.appRef,this.injector),this.portalOutlet.attach(this.portal)}ngOnDestroy(){this.portalOutlet.detach()}}return ie.\u0275fac=function(ke){return new(ke||ie)(l.Y36(l._Vd),l.Y36(l.zs3),l.Y36(l.z2F))},ie.\u0275cmp=l.Xpm({type:ie,selectors:[["showcase-layout-toolbar-menu"]],viewQuery:function(ke,Ye){if(1&ke&&l.Gf(M.ig,5),2&ke){let Ve;l.iGM(Ve=l.CRH())&&(Ye.portal=Ve.first)}},inputs:{position:"position"},ngContentSelectors:v,decls:1,vars:0,consts:[["cdk-portal",""]],template:function(ke,Ye){1&ke&&(l.F$t(),l.YNc(0,ae,1,0,"ng-template",0))},dependencies:[M.bH],encapsulation:2}),ie})()},2627:(gi,ft,j)=>{"use strict";j.d(ft,{$:()=>ie});var M=j(5879),l=j(8184),ae=j(1274),v=j(617),$e=j(2296);let ie=(()=>{class Ge{}return Ge.\u0275fac=function(Ye){return new(Ye||Ge)},Ge.\u0275cmp=M.Xpm({type:Ge,selectors:[["ng-component"]],decls:16,vars:0,consts:[["color","primary"],["id","layout-left-custom-items"],["mat-button","","routerLink","/"],["svgIcon","ngx-maplibre-gl"],["mat-button","","routerLink","/demo"],["mat-button","","routerLink","/doc"],["id","layout-right-custom-items"],["mat-button","","href","https://github.com/maplibre/ngx-maplibre-gl"],["svgIcon","github"]],template:function(Ye,Ve){1&Ye&&(M.TgZ(0,"mat-toolbar",0)(1,"div"),M._UZ(2,"div",1),M.TgZ(3,"a",2),M._UZ(4,"mat-icon",3),M._uU(5," ngx-maplibre-gl "),M.qZA(),M.TgZ(6,"a",4),M._uU(7," Demo "),M.qZA(),M.TgZ(8,"a",5),M._uU(9," Documentation "),M.qZA()(),M.TgZ(10,"div"),M._UZ(11,"div",6),M.TgZ(12,"a",7),M._UZ(13,"mat-icon",8),M._uU(14," GitHub "),M.qZA()()(),M._UZ(15,"router-outlet"))},dependencies:[l.lC,l.rH,ae.Ye,v.Hw,$e.zs],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1;height:100vh}mat-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 16px 0 0}div[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center}.menu-button[_ngcontent-%COMP%]{height:100%}"]}),Ge})()},877:(gi,ft,j)=>{"use strict";j.d(ft,{x:()=>it});var M=j(8484),l=j(6814),ae=j(2296),v=j(617),$e=j(1274),ie=j(8184),Ye=(j(6637),j(2627),j(5879));let it=(()=>{class Le{}return Le.\u0275fac=function(Qe){return new(Qe||Le)},Le.\u0275mod=Ye.oAB({type:Le}),Le.\u0275inj=Ye.cJS({imports:[l.ez,ie.Bz,$e.g0,v.Ps,ae.ot,M.eL]}),Le})()},8956:(gi,ft,j)=>{"use strict";var M=j(6593),l=j(5879),ae=j(8184);let v=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-root"]],decls:1,vars:0,template:function(r,m){1&r&&l._UZ(0,"router-outlet")},dependencies:[ae.lC],encapsulation:2}),c})();var $e=j(617),ie=j(6825);function ke(c){return new l.vHH(3e3,!1)}function ht(c){switch(c.length){case 0:return new ie.ZN;case 1:return c[0];default:return new ie.ZE(c)}}function ct(c,p,r=new Map,m=new Map){const A=[],z=[];let re=-1,ve=null;if(p.forEach(Je=>{const mt=Je.get("offset"),Bt=mt==re,Gt=Bt&&ve||new Map;Je.forEach((Mi,zi)=>{let Fi=zi,Bi=Mi;if("offset"!==zi)switch(Fi=c.normalizePropertyName(Fi,A),Bi){case ie.k1:Bi=r.get(zi);break;case ie.l3:Bi=m.get(zi);break;default:Bi=c.normalizeStyleValue(zi,Fi,Bi,A)}Gt.set(Fi,Bi)}),Bt||z.push(Gt),ve=Gt,re=mt}),A.length)throw function Vn(c){return new l.vHH(3502,!1)}();return z}function De(c,p,r,m){switch(p){case"start":c.onStart(()=>m(r&&qt(r,"start",c)));break;case"done":c.onDone(()=>m(r&&qt(r,"done",c)));break;case"destroy":c.onDestroy(()=>m(r&&qt(r,"destroy",c)))}}function qt(c,p,r){const z=Zt(c.element,c.triggerName,c.fromState,c.toState,p||c.phaseName,r.totalTime??c.totalTime,!!r.disabled),re=c._data;return null!=re&&(z._data=re),z}function Zt(c,p,r,m,A="",z=0,re){return{element:c,triggerName:p,fromState:r,toState:m,phaseName:A,totalTime:z,disabled:!!re}}function ei(c,p,r){let m=c.get(p);return m||c.set(p,m=r),m}function Xe(c){const p=c.indexOf(":");return[c.substring(1,p),c.slice(p+1)]}const St=(()=>typeof document>"u"?null:document.documentElement)();function yi(c){const p=c.parentNode||c.host||null;return p===St?null:p}let Zi=null,An=!1;function se(c,p){for(;p;){if(p===c)return!0;p=yi(p)}return!1}function Ce(c,p,r){if(r)return Array.from(c.querySelectorAll(p));const m=c.querySelector(p);return m?[m]:[]}let Te=(()=>{class c{validateStyleProperty(r){return function vn(c){Zi||(Zi=function Pe(){return typeof document<"u"?document.body:null}()||{},An=!!Zi.style&&"WebkitAppearance"in Zi.style);let p=!0;return Zi.style&&!function gn(c){return"ebkit"==c.substring(1,6)}(c)&&(p=c in Zi.style,!p&&An&&(p="Webkit"+c.charAt(0).toUpperCase()+c.slice(1)in Zi.style)),p}(r)}matchesElement(r,m){return!1}containsElement(r,m){return se(r,m)}getParentElement(r){return yi(r)}query(r,m,A){return Ce(r,m,A)}computeStyle(r,m,A){return A||""}animate(r,m,A,z,re,ve=[],Je){return new ie.ZN(A,z)}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac}),c})(),ne=(()=>{class c{}return c.NOOP=new Te,c})();const Ne=1e3,Xt="ng-enter",Ut="ng-leave",pi="ng-trigger",Ji=".ng-trigger",en="ng-animating",cn=".ng-animating";function Wi(c){if("number"==typeof c)return c;const p=c.match(/^(-?[\.\d]+)(m?s)/);return!p||p.length<2?0:_t(parseFloat(p[1]),p[2])}function _t(c,p){return"s"===p?c*Ne:c}function mi(c,p,r){return c.hasOwnProperty("duration")?c:function vt(c,p,r){let A,z=0,re="";if("string"==typeof c){const ve=c.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ve)return p.push(ke()),{duration:0,delay:0,easing:""};A=_t(parseFloat(ve[1]),ve[2]);const Je=ve[3];null!=Je&&(z=_t(parseFloat(Je),ve[4]));const mt=ve[5];mt&&(re=mt)}else A=c;if(!r){let ve=!1,Je=p.length;A<0&&(p.push(function Ye(){return new l.vHH(3100,!1)}()),ve=!0),z<0&&(p.push(function Ve(){return new l.vHH(3101,!1)}()),ve=!0),ve&&p.splice(Je,0,ke())}return{duration:A,delay:z,easing:re}}(c,p,r)}function q(c,p={}){return Object.keys(c).forEach(r=>{p[r]=c[r]}),p}function B(c){const p=new Map;return Object.keys(c).forEach(r=>{p.set(r,c[r])}),p}function fe(c,p=new Map,r){if(r)for(let[m,A]of r)p.set(m,A);for(let[m,A]of c)p.set(m,A);return p}function Ae(c,p,r){p.forEach((m,A)=>{const z=de(A);r&&!r.has(A)&&r.set(A,c.style[z]),c.style[z]=m})}function pe(c,p){p.forEach((r,m)=>{const A=de(m);c.style[A]=""})}function oe(c){return Array.isArray(c)?1==c.length?c[0]:(0,ie.vP)(c):c}const he=new RegExp("{{\\s*(.+?)\\s*}}","g");function et(c){let p=[];if("string"==typeof c){let r;for(;r=he.exec(c);)p.push(r[1]);he.lastIndex=0}return p}function lt(c,p,r){const m=c.toString(),A=m.replace(he,(z,re)=>{let ve=p[re];return null==ve&&(r.push(function Le(c){return new l.vHH(3003,!1)}()),ve=""),ve.toString()});return A==m?c:A}function be(c){const p=[];let r=c.next();for(;!r.done;)p.push(r.value),r=c.next();return p}const Se=/-+([a-z0-9])/g;function de(c){return c.replace(Se,(...p)=>p[1].toUpperCase())}function Ke(c,p,r){switch(p.type){case 7:return c.visitTrigger(p,r);case 0:return c.visitState(p,r);case 1:return c.visitTransition(p,r);case 2:return c.visitSequence(p,r);case 3:return c.visitGroup(p,r);case 4:return c.visitAnimate(p,r);case 5:return c.visitKeyframes(p,r);case 6:return c.visitStyle(p,r);case 8:return c.visitReference(p,r);case 9:return c.visitAnimateChild(p,r);case 10:return c.visitAnimateRef(p,r);case 11:return c.visitQuery(p,r);case 12:return c.visitStagger(p,r);default:throw function nt(c){return new l.vHH(3004,!1)}()}}function Me(c,p){return window.getComputedStyle(c)[p]}const Ni="*";function Un(c,p){const r=[];return"string"==typeof c?c.split(/\s*,\s*/).forEach(m=>function fr(c,p,r){if(":"==c[0]){const Je=function Pr(c,p){switch(c){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,m)=>parseFloat(m)>parseFloat(r);case":decrement":return(r,m)=>parseFloat(m)<parseFloat(r);default:return p.push(function Kt(c){return new l.vHH(3016,!1)}()),"* => *"}}(c,r);if("function"==typeof Je)return void p.push(Je);c=Je}const m=c.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==m||m.length<4)return r.push(function li(c){return new l.vHH(3015,!1)}()),p;const A=m[1],z=m[2],re=m[3];p.push(_o(A,re));"<"==z[0]&&!(A==Ni&&re==Ni)&&p.push(_o(re,A))}(m,r,p)):r.push(c),r}const Or=new Set(["true","1"]),Nn=new Set(["false","0"]);function _o(c,p){const r=Or.has(c)||Nn.has(c),m=Or.has(p)||Nn.has(p);return(A,z)=>{let re=c==Ni||c==A,ve=p==Ni||p==z;return!re&&r&&"boolean"==typeof A&&(re=A?Or.has(c):Nn.has(c)),!ve&&m&&"boolean"==typeof z&&(ve=z?Or.has(p):Nn.has(p)),re&&ve}}const qi=new RegExp("s*:selfs*,?","g");function lo(c,p,r,m){return new wr(c).build(p,r,m)}class wr{constructor(p){this._driver=p}build(p,r,m){const A=new Mo(r);return this._resetContextStyleTimingState(A),Ke(this,oe(p),A)}_resetContextStyleTimingState(p){p.currentQuerySelector="",p.collectedStyles=new Map,p.collectedStyles.set("",new Map),p.currentTime=0}visitTrigger(p,r){let m=r.queryCount=0,A=r.depCount=0;const z=[],re=[];return"@"==p.name.charAt(0)&&r.errors.push(function ut(){return new l.vHH(3006,!1)}()),p.definitions.forEach(ve=>{if(this._resetContextStyleTimingState(r),0==ve.type){const Je=ve,mt=Je.name;mt.toString().split(/\s*,\s*/).forEach(Bt=>{Je.name=Bt,z.push(this.visitState(Je,r))}),Je.name=mt}else if(1==ve.type){const Je=this.visitTransition(ve,r);m+=Je.queryCount,A+=Je.depCount,re.push(Je)}else r.errors.push(function bt(){return new l.vHH(3007,!1)}())}),{type:7,name:p.name,states:z,transitions:re,queryCount:m,depCount:A,options:null}}visitState(p,r){const m=this.visitStyle(p.styles,r),A=p.options&&p.options.params||null;if(m.containsDynamicStyles){const z=new Set,re=A||{};m.styles.forEach(ve=>{ve instanceof Map&&ve.forEach(Je=>{et(Je).forEach(mt=>{re.hasOwnProperty(mt)||z.add(mt)})})}),z.size&&(be(z.values()),r.errors.push(function Nt(c,p){return new l.vHH(3008,!1)}()))}return{type:0,name:p.name,style:m,options:A?{params:A}:null}}visitTransition(p,r){r.queryCount=0,r.depCount=0;const m=Ke(this,oe(p.animation),r);return{type:1,matchers:Un(p.expr,r.errors),animation:m,queryCount:r.queryCount,depCount:r.depCount,options:Mr(p.options)}}visitSequence(p,r){return{type:2,steps:p.steps.map(m=>Ke(this,m,r)),options:Mr(p.options)}}visitGroup(p,r){const m=r.currentTime;let A=0;const z=p.steps.map(re=>{r.currentTime=m;const ve=Ke(this,re,r);return A=Math.max(A,r.currentTime),ve});return r.currentTime=A,{type:3,steps:z,options:Mr(p.options)}}visitAnimate(p,r){const m=function Cn(c,p){if(c.hasOwnProperty("duration"))return c;if("number"==typeof c)return Go(mi(c,p).duration,0,"");const r=c;if(r.split(/\s+/).some(z=>"{"==z.charAt(0)&&"{"==z.charAt(1))){const z=Go(0,0,"");return z.dynamic=!0,z.strValue=r,z}const A=mi(r,p);return Go(A.duration,A.delay,A.easing)}(p.timings,r.errors);r.currentAnimateTimings=m;let A,z=p.styles?p.styles:(0,ie.oB)({});if(5==z.type)A=this.visitKeyframes(z,r);else{let re=p.styles,ve=!1;if(!re){ve=!0;const mt={};m.easing&&(mt.easing=m.easing),re=(0,ie.oB)(mt)}r.currentTime+=m.duration+m.delay;const Je=this.visitStyle(re,r);Je.isEmptyStep=ve,A=Je}return r.currentAnimateTimings=null,{type:4,timings:m,style:A,options:null}}visitStyle(p,r){const m=this._makeStyleAst(p,r);return this._validateStyleAst(m,r),m}_makeStyleAst(p,r){const m=[],A=Array.isArray(p.styles)?p.styles:[p.styles];for(let ve of A)"string"==typeof ve?ve===ie.l3?m.push(ve):r.errors.push(new l.vHH(3002,!1)):m.push(B(ve));let z=!1,re=null;return m.forEach(ve=>{if(ve instanceof Map&&(ve.has("easing")&&(re=ve.get("easing"),ve.delete("easing")),!z))for(let Je of ve.values())if(Je.toString().indexOf("{{")>=0){z=!0;break}}),{type:6,styles:m,easing:re,offset:p.offset,containsDynamicStyles:z,options:null}}_validateStyleAst(p,r){const m=r.currentAnimateTimings;let A=r.currentTime,z=r.currentTime;m&&z>0&&(z-=m.duration+m.delay),p.styles.forEach(re=>{"string"!=typeof re&&re.forEach((ve,Je)=>{const mt=r.collectedStyles.get(r.currentQuerySelector),Bt=mt.get(Je);let Gt=!0;Bt&&(z!=A&&z>=Bt.startTime&&A<=Bt.endTime&&(r.errors.push(function Qt(c,p,r,m,A){return new l.vHH(3010,!1)}()),Gt=!1),z=Bt.startTime),Gt&&mt.set(Je,{startTime:z,endTime:A}),r.options&&function X(c,p,r){const m=p.params||{},A=et(c);A.length&&A.forEach(z=>{m.hasOwnProperty(z)||r.push(function it(c){return new l.vHH(3001,!1)}())})}(ve,r.options,r.errors)})})}visitKeyframes(p,r){const m={type:5,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push(function Re(){return new l.vHH(3011,!1)}()),m;let z=0;const re=[];let ve=!1,Je=!1,mt=0;const Bt=p.steps.map(Yn=>{const xr=this._makeStyleAst(Yn,r);let wo=null!=xr.offset?xr.offset:function co(c){if("string"==typeof c)return null;let p=null;if(Array.isArray(c))c.forEach(r=>{if(r instanceof Map&&r.has("offset")){const m=r;p=parseFloat(m.get("offset")),m.delete("offset")}});else if(c instanceof Map&&c.has("offset")){const r=c;p=parseFloat(r.get("offset")),r.delete("offset")}return p}(xr.styles),kr=0;return null!=wo&&(z++,kr=xr.offset=wo),Je=Je||kr<0||kr>1,ve=ve||kr<mt,mt=kr,re.push(kr),xr});Je&&r.errors.push(function Ze(){return new l.vHH(3012,!1)}()),ve&&r.errors.push(function Oe(){return new l.vHH(3200,!1)}());const Gt=p.steps.length;let Mi=0;z>0&&z<Gt?r.errors.push(function gt(){return new l.vHH(3202,!1)}()):0==z&&(Mi=1/(Gt-1));const zi=Gt-1,Fi=r.currentTime,Bi=r.currentAnimateTimings,wn=Bi.duration;return Bt.forEach((Yn,xr)=>{const wo=Mi>0?xr==zi?1:Mi*xr:re[xr],kr=wo*wn;r.currentTime=Fi+Bi.delay+kr,Bi.duration=kr,this._validateStyleAst(Yn,r),Yn.offset=wo,m.styles.push(Yn)}),m}visitReference(p,r){return{type:8,animation:Ke(this,oe(p.animation),r),options:Mr(p.options)}}visitAnimateChild(p,r){return r.depCount++,{type:9,options:Mr(p.options)}}visitAnimateRef(p,r){return{type:10,animation:this.visitReference(p.animation,r),options:Mr(p.options)}}visitQuery(p,r){const m=r.currentQuerySelector,A=p.options||{};r.queryCount++,r.currentQuery=p;const[z,re]=function kn(c){const p=!!c.split(/\s*,\s*/).find(r=>":self"==r);return p&&(c=c.replace(qi,"")),c=c.replace(/@\*/g,Ji).replace(/@\w+/g,r=>Ji+"-"+r.slice(1)).replace(/:animating/g,cn),[c,p]}(p.selector);r.currentQuerySelector=m.length?m+" "+z:z,ei(r.collectedStyles,r.currentQuerySelector,new Map);const ve=Ke(this,oe(p.animation),r);return r.currentQuery=null,r.currentQuerySelector=m,{type:11,selector:z,limit:A.limit||0,optional:!!A.optional,includeSelf:re,animation:ve,originalSelector:p.selector,options:Mr(p.options)}}visitStagger(p,r){r.currentQuery||r.errors.push(function Rt(){return new l.vHH(3013,!1)}());const m="full"===p.timings?{duration:0,delay:0,easing:"full"}:mi(p.timings,r.errors,!0);return{type:12,animation:Ke(this,oe(p.animation),r),timings:m,options:null}}}class Mo{constructor(p){this.errors=p,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Mr(c){return c?(c=q(c)).params&&(c.params=function Eo(c){return c?q(c):null}(c.params)):c={},c}function Go(c,p,r){return{duration:c,delay:p,easing:r}}function Fo(c,p,r,m,A,z,re=null,ve=!1){return{type:1,element:c,keyframes:p,preStyleProps:r,postStyleProps:m,duration:A,delay:z,totalTime:A+z,easing:re,subTimeline:ve}}class Da{constructor(){this._map=new Map}get(p){return this._map.get(p)||[]}append(p,r){let m=this._map.get(p);m||this._map.set(p,m=[]),m.push(...r)}has(p){return this._map.has(p)}clear(){this._map.clear()}}const Va=new RegExp(":enter","g"),Ua=new RegExp(":leave","g");function ua(c,p,r,m,A,z=new Map,re=new Map,ve,Je,mt=[]){return(new xl).buildKeyframes(c,p,r,m,A,z,re,ve,Je,mt)}class xl{buildKeyframes(p,r,m,A,z,re,ve,Je,mt,Bt=[]){mt=mt||new Da;const Gt=new Sr(p,r,mt,A,z,Bt,[]);Gt.options=Je;const Mi=Je.delay?Wi(Je.delay):0;Gt.currentTimeline.delayNextStep(Mi),Gt.currentTimeline.setStyles([re],null,Gt.errors,Je),Ke(this,m,Gt);const zi=Gt.timelines.filter(Fi=>Fi.containsAnimation());if(zi.length&&ve.size){let Fi;for(let Bi=zi.length-1;Bi>=0;Bi--){const wn=zi[Bi];if(wn.element===r){Fi=wn;break}}Fi&&!Fi.allowOnlyTimelineStyles()&&Fi.setStyles([ve],null,Gt.errors,Je)}return zi.length?zi.map(Fi=>Fi.buildKeyframes()):[Fo(r,[],[],[],0,Mi,"",!1)]}visitTrigger(p,r){}visitState(p,r){}visitTransition(p,r){}visitAnimateChild(p,r){const m=r.subInstructions.get(r.element);if(m){const A=r.createSubContext(p.options),z=r.currentTimeline.currentTime,re=this._visitSubInstructions(m,A,A.options);z!=re&&r.transformIntoNewTimeline(re)}r.previousNode=p}visitAnimateRef(p,r){const m=r.createSubContext(p.options);m.transformIntoNewTimeline(),this._applyAnimationRefDelays([p.options,p.animation.options],r,m),this.visitReference(p.animation,m),r.transformIntoNewTimeline(m.currentTimeline.currentTime),r.previousNode=p}_applyAnimationRefDelays(p,r,m){for(const A of p){const z=A?.delay;if(z){const re="number"==typeof z?z:Wi(lt(z,A?.params??{},r.errors));m.delayNextStep(re)}}}_visitSubInstructions(p,r,m){let z=r.currentTimeline.currentTime;const re=null!=m.duration?Wi(m.duration):null,ve=null!=m.delay?Wi(m.delay):null;return 0!==re&&p.forEach(Je=>{const mt=r.appendInstructionToTimeline(Je,re,ve);z=Math.max(z,mt.duration+mt.delay)}),z}visitReference(p,r){r.updateOptions(p.options,!0),Ke(this,p.animation,r),r.previousNode=p}visitSequence(p,r){const m=r.subContextCount;let A=r;const z=p.options;if(z&&(z.params||z.delay)&&(A=r.createSubContext(z),A.transformIntoNewTimeline(),null!=z.delay)){6==A.previousNode.type&&(A.currentTimeline.snapshotCurrentStyles(),A.previousNode=ln);const re=Wi(z.delay);A.delayNextStep(re)}p.steps.length&&(p.steps.forEach(re=>Ke(this,re,A)),A.currentTimeline.applyStylesToKeyframe(),A.subContextCount>m&&A.transformIntoNewTimeline()),r.previousNode=p}visitGroup(p,r){const m=[];let A=r.currentTimeline.currentTime;const z=p.options&&p.options.delay?Wi(p.options.delay):0;p.steps.forEach(re=>{const ve=r.createSubContext(p.options);z&&ve.delayNextStep(z),Ke(this,re,ve),A=Math.max(A,ve.currentTimeline.currentTime),m.push(ve.currentTimeline)}),m.forEach(re=>r.currentTimeline.mergeTimelineCollectedStyles(re)),r.transformIntoNewTimeline(A),r.previousNode=p}_visitTiming(p,r){if(p.dynamic){const m=p.strValue;return mi(r.params?lt(m,r.params,r.errors):m,r.errors)}return{duration:p.duration,delay:p.delay,easing:p.easing}}visitAnimate(p,r){const m=r.currentAnimateTimings=this._visitTiming(p.timings,r),A=r.currentTimeline;m.delay&&(r.incrementTime(m.delay),A.snapshotCurrentStyles());const z=p.style;5==z.type?this.visitKeyframes(z,r):(r.incrementTime(m.duration),this.visitStyle(z,r),A.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=p}visitStyle(p,r){const m=r.currentTimeline,A=r.currentAnimateTimings;!A&&m.hasCurrentStyleProperties()&&m.forwardFrame();const z=A&&A.easing||p.easing;p.isEmptyStep?m.applyEmptyStep(z):m.setStyles(p.styles,z,r.errors,r.options),r.previousNode=p}visitKeyframes(p,r){const m=r.currentAnimateTimings,A=r.currentTimeline.duration,z=m.duration,ve=r.createSubContext().currentTimeline;ve.easing=m.easing,p.styles.forEach(Je=>{ve.forwardTime((Je.offset||0)*z),ve.setStyles(Je.styles,Je.easing,r.errors,r.options),ve.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(ve),r.transformIntoNewTimeline(A+z),r.previousNode=p}visitQuery(p,r){const m=r.currentTimeline.currentTime,A=p.options||{},z=A.delay?Wi(A.delay):0;z&&(6===r.previousNode.type||0==m&&r.currentTimeline.hasCurrentStyleProperties())&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ln);let re=m;const ve=r.invokeQuery(p.selector,p.originalSelector,p.limit,p.includeSelf,!!A.optional,r.errors);r.currentQueryTotal=ve.length;let Je=null;ve.forEach((mt,Bt)=>{r.currentQueryIndex=Bt;const Gt=r.createSubContext(p.options,mt);z&&Gt.delayNextStep(z),mt===r.element&&(Je=Gt.currentTimeline),Ke(this,p.animation,Gt),Gt.currentTimeline.applyStylesToKeyframe(),re=Math.max(re,Gt.currentTimeline.currentTime)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(re),Je&&(r.currentTimeline.mergeTimelineCollectedStyles(Je),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=p}visitStagger(p,r){const m=r.parentContext,A=r.currentTimeline,z=p.timings,re=Math.abs(z.duration),ve=re*(r.currentQueryTotal-1);let Je=re*r.currentQueryIndex;switch(z.duration<0?"reverse":z.easing){case"reverse":Je=ve-Je;break;case"full":Je=m.currentStaggerTime}const Bt=r.currentTimeline;Je&&Bt.delayNextStep(Je);const Gt=Bt.currentTime;Ke(this,p.animation,r),r.previousNode=p,m.currentStaggerTime=A.currentTime-Gt+(A.startTime-m.currentTimeline.startTime)}}const ln={};class Sr{constructor(p,r,m,A,z,re,ve,Je){this._driver=p,this.element=r,this.subInstructions=m,this._enterClassName=A,this._leaveClassName=z,this.errors=re,this.timelines=ve,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ln,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Je||new Gr(this._driver,r,0),ve.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(p,r){if(!p)return;const m=p;let A=this.options;null!=m.duration&&(A.duration=Wi(m.duration)),null!=m.delay&&(A.delay=Wi(m.delay));const z=m.params;if(z){let re=A.params;re||(re=this.options.params={}),Object.keys(z).forEach(ve=>{(!r||!re.hasOwnProperty(ve))&&(re[ve]=lt(z[ve],re,this.errors))})}}_copyOptions(){const p={};if(this.options){const r=this.options.params;if(r){const m=p.params={};Object.keys(r).forEach(A=>{m[A]=r[A]})}}return p}createSubContext(p=null,r,m){const A=r||this.element,z=new Sr(this._driver,A,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(A,m||0));return z.previousNode=this.previousNode,z.currentAnimateTimings=this.currentAnimateTimings,z.options=this._copyOptions(),z.updateOptions(p),z.currentQueryIndex=this.currentQueryIndex,z.currentQueryTotal=this.currentQueryTotal,z.parentContext=this,this.subContextCount++,z}transformIntoNewTimeline(p){return this.previousNode=ln,this.currentTimeline=this.currentTimeline.fork(this.element,p),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(p,r,m){const A={duration:r??p.duration,delay:this.currentTimeline.currentTime+(m??0)+p.delay,easing:""},z=new Us(this._driver,p.element,p.keyframes,p.preStyleProps,p.postStyleProps,A,p.stretchStartingKeyframe);return this.timelines.push(z),A}incrementTime(p){this.currentTimeline.forwardTime(this.currentTimeline.duration+p)}delayNextStep(p){p>0&&this.currentTimeline.delayNextStep(p)}invokeQuery(p,r,m,A,z,re){let ve=[];if(A&&ve.push(this.element),p.length>0){p=(p=p.replace(Va,"."+this._enterClassName)).replace(Ua,"."+this._leaveClassName);let mt=this._driver.query(this.element,p,1!=m);0!==m&&(mt=m<0?mt.slice(mt.length+m,mt.length):mt.slice(0,m)),ve.push(...mt)}return!z&&0==ve.length&&re.push(function At(c){return new l.vHH(3014,!1)}()),ve}}class Gr{constructor(p,r,m,A){this._driver=p,this.element=r,this.startTime=m,this._elementTimelineStylesLookup=A,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(p){const r=1===this._keyframes.size&&this._pendingStyles.size;this.duration||r?(this.forwardTime(this.currentTime+p),r&&this.snapshotCurrentStyles()):this.startTime+=p}fork(p,r){return this.applyStylesToKeyframe(),new Gr(this._driver,p,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(p){this.applyStylesToKeyframe(),this.duration=p,this._loadKeyframe()}_updateStyle(p,r){this._localTimelineStyles.set(p,r),this._globalTimelineStyles.set(p,r),this._styleSummary.set(p,{time:this.currentTime,value:r})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(p){p&&this._previousKeyframe.set("easing",p);for(let[r,m]of this._globalTimelineStyles)this._backFill.set(r,m||ie.l3),this._currentKeyframe.set(r,ie.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(p,r,m,A){r&&this._previousKeyframe.set("easing",r);const z=A&&A.params||{},re=function ss(c,p){const r=new Map;let m;return c.forEach(A=>{if("*"===A){m=m||p.keys();for(let z of m)r.set(z,ie.l3)}else fe(A,r)}),r}(p,this._globalTimelineStyles);for(let[ve,Je]of re){const mt=lt(Je,z,m);this._pendingStyles.set(ve,mt),this._localTimelineStyles.has(ve)||this._backFill.set(ve,this._globalTimelineStyles.get(ve)??ie.l3),this._updateStyle(ve,mt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((p,r)=>{this._currentKeyframe.set(r,p)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((p,r)=>{this._currentKeyframe.has(r)||this._currentKeyframe.set(r,p)}))}snapshotCurrentStyles(){for(let[p,r]of this._localTimelineStyles)this._pendingStyles.set(p,r),this._updateStyle(p,r)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const p=[];for(let r in this._currentKeyframe)p.push(r);return p}mergeTimelineCollectedStyles(p){p._styleSummary.forEach((r,m)=>{const A=this._styleSummary.get(m);(!A||r.time>A.time)&&this._updateStyle(m,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const p=new Set,r=new Set,m=1===this._keyframes.size&&0===this.duration;let A=[];this._keyframes.forEach((ve,Je)=>{const mt=fe(ve,new Map,this._backFill);mt.forEach((Bt,Gt)=>{Bt===ie.k1?p.add(Gt):Bt===ie.l3&&r.add(Gt)}),m||mt.set("offset",Je/this.duration),A.push(mt)});const z=p.size?be(p.values()):[],re=r.size?be(r.values()):[];if(m){const ve=A[0],Je=new Map(ve);ve.set("offset",0),Je.set("offset",1),A=[ve,Je]}return Fo(this.element,A,z,re,this.duration,this.startTime,this.easing,!1)}}class Us extends Gr{constructor(p,r,m,A,z,re,ve=!1){super(p,r,re.delay),this.keyframes=m,this.preStyleProps=A,this.postStyleProps=z,this._stretchStartingKeyframe=ve,this.timings={duration:re.duration,delay:re.delay,easing:re.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let p=this.keyframes,{delay:r,duration:m,easing:A}=this.timings;if(this._stretchStartingKeyframe&&r){const z=[],re=m+r,ve=r/re,Je=fe(p[0]);Je.set("offset",0),z.push(Je);const mt=fe(p[0]);mt.set("offset",Nr(ve)),z.push(mt);const Bt=p.length-1;for(let Gt=1;Gt<=Bt;Gt++){let Mi=fe(p[Gt]);const zi=Mi.get("offset");Mi.set("offset",Nr((r+zi*m)/re)),z.push(Mi)}m=re,r=0,A="",p=z}return Fo(this.element,p,this.preStyleProps,this.postStyleProps,m,r,A,!0)}}function Nr(c,p=3){const r=Math.pow(10,p-1);return Math.round(c*r)/r}class zr{}const fs=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ar extends zr{normalizePropertyName(p,r){return de(p)}normalizeStyleValue(p,r,m,A){let z="";const re=m.toString().trim();if(fs.has(r)&&0!==m&&"0"!==m)if("number"==typeof m)z="px";else{const ve=m.match(/^[+-]?[\d\.]+([a-z]*)$/);ve&&0==ve[1].length&&A.push(function Qe(c,p){return new l.vHH(3005,!1)}())}return re+z}}function Ti(c,p,r,m,A,z,re,ve,Je,mt,Bt,Gt,Mi){return{type:0,element:c,triggerName:p,isRemovalTransition:A,fromState:r,fromStyles:z,toState:m,toStyles:re,timelines:ve,queriedElements:Je,preStyleProps:mt,postStyleProps:Bt,totalTime:Gt,errors:Mi}}const rn={};class On{constructor(p,r,m){this._triggerName=p,this.ast=r,this._stateStyles=m}match(p,r,m,A){return function as(c,p,r,m,A){return c.some(z=>z(p,r,m,A))}(this.ast.matchers,p,r,m,A)}buildStyles(p,r,m){let A=this._stateStyles.get("*");return void 0!==p&&(A=this._stateStyles.get(p?.toString())||A),A?A.buildStyles(r,m):new Map}build(p,r,m,A,z,re,ve,Je,mt,Bt){const Gt=[],Mi=this.ast.options&&this.ast.options.params||rn,Fi=this.buildStyles(m,ve&&ve.params||rn,Gt),Bi=Je&&Je.params||rn,wn=this.buildStyles(A,Bi,Gt),Yn=new Set,xr=new Map,wo=new Map,kr="void"===A,Ma={params:Kn(Bi,Mi),delay:this.ast.options?.delay},Qa=Bt?[]:ua(p,r,this.ast.animation,z,re,Fi,wn,Ma,mt,Gt);let Vs=0;if(Qa.forEach(ps=>{Vs=Math.max(ps.duration+ps.delay,Vs)}),Gt.length)return Ti(r,this._triggerName,m,A,kr,Fi,wn,[],[],xr,wo,Vs,Gt);Qa.forEach(ps=>{const os=ps.element,Su=ei(xr,os,new Set);ps.preStyleProps.forEach(or=>Su.add(or));const jd=ei(wo,os,new Set);ps.postStyleProps.forEach(or=>jd.add(or)),os!==r&&Yn.add(os)});const yl=be(Yn.values());return Ti(r,this._triggerName,m,A,kr,Fi,wn,Qa,yl,xr,wo,Vs)}}function Kn(c,p){const r=q(p);for(const m in c)c.hasOwnProperty(m)&&null!=c[m]&&(r[m]=c[m]);return r}class Tr{constructor(p,r,m){this.styles=p,this.defaultParams=r,this.normalizer=m}buildStyles(p,r){const m=new Map,A=q(this.defaultParams);return Object.keys(p).forEach(z=>{const re=p[z];null!==re&&(A[z]=re)}),this.styles.styles.forEach(z=>{"string"!=typeof z&&z.forEach((re,ve)=>{re&&(re=lt(re,A,r));const Je=this.normalizer.normalizePropertyName(ve,r);re=this.normalizer.normalizeStyleValue(ve,Je,re,r),m.set(ve,re)})}),m}}class Wo{constructor(p,r,m){this.name=p,this.ast=r,this._normalizer=m,this.transitionFactories=[],this.states=new Map,r.states.forEach(A=>{this.states.set(A.name,new Tr(A.style,A.options&&A.options.params||{},m))}),on(this.states,"true","1"),on(this.states,"false","0"),r.transitions.forEach(A=>{this.transitionFactories.push(new On(p,A,this.states))}),this.fallbackTransition=function Do(c,p,r){return new On(c,{type:1,animation:{type:2,steps:[],options:null},matchers:[(re,ve)=>!0],options:null,queryCount:0,depCount:0},p)}(p,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(p,r,m,A){return this.transitionFactories.find(re=>re.match(p,r,m,A))||null}matchStyles(p,r,m){return this.fallbackTransition.buildStyles(p,r,m)}}function on(c,p,r){c.has(p)?c.has(r)||c.set(r,c.get(p)):c.has(r)&&c.set(p,c.get(r))}const qo=new Da;class js{constructor(p,r,m){this.bodyNode=p,this._driver=r,this._normalizer=m,this._animations=new Map,this._playersById=new Map,this.players=[]}register(p,r){const m=[],z=lo(this._driver,r,m,[]);if(m.length)throw function hn(c){return new l.vHH(3503,!1)}();this._animations.set(p,z)}_buildPlayer(p,r,m){const A=p.element,z=ct(this._normalizer,p.keyframes,r,m);return this._driver.animate(A,z,p.duration,p.delay,p.easing,[],!0)}create(p,r,m={}){const A=[],z=this._animations.get(p);let re;const ve=new Map;if(z?(re=ua(this._driver,r,z,Xt,Ut,new Map,new Map,m,qo,A),re.forEach(Bt=>{const Gt=ei(ve,Bt.element,new Map);Bt.postStyleProps.forEach(Mi=>Gt.set(Mi,null))})):(A.push(function Zn(){return new l.vHH(3300,!1)}()),re=[]),A.length)throw function In(c){return new l.vHH(3504,!1)}();ve.forEach((Bt,Gt)=>{Bt.forEach((Mi,zi)=>{Bt.set(zi,this._driver.computeStyle(Gt,zi,ie.l3))})});const mt=ht(re.map(Bt=>{const Gt=ve.get(Bt.element);return this._buildPlayer(Bt,new Map,Gt)}));return this._playersById.set(p,mt),mt.onDestroy(()=>this.destroy(p)),this.players.push(mt),mt}destroy(p){const r=this._getPlayer(p);r.destroy(),this._playersById.delete(p);const m=this.players.indexOf(r);m>=0&&this.players.splice(m,1)}_getPlayer(p){const r=this._playersById.get(p);if(!r)throw function wt(c){return new l.vHH(3301,!1)}();return r}listen(p,r,m,A){const z=Zt(r,"","","");return De(this._getPlayer(p),m,z,A),()=>{}}command(p,r,m,A){if("register"==m)return void this.register(p,A[0]);if("create"==m)return void this.create(p,r,A[0]||{});const z=this._getPlayer(p);switch(m){case"play":z.play();break;case"pause":z.pause();break;case"reset":z.reset();break;case"restart":z.restart();break;case"finish":z.finish();break;case"init":z.init();break;case"setPosition":z.setPosition(parseFloat(A[0]));break;case"destroy":this.destroy(p)}}}const dn="ng-animate-queued",ls="ng-animate-disabled",ja=[],Is={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ko={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ho="__ng_removed";class Hs{get params(){return this.options.params}constructor(p,r=""){this.namespaceId=r;const m=p&&p.hasOwnProperty("value");if(this.value=function Js(c){return c??null}(m?p.value:p),m){const z=q(p);delete z.value,this.options=z}else this.options={};this.options.params||(this.options.params={})}absorbOptions(p){const r=p.params;if(r){const m=this.options.params;Object.keys(r).forEach(A=>{null==m[A]&&(m[A]=r[A])})}}}const bn="void",As=new Hs(bn);class Ha{constructor(p,r,m){this.id=p,this.hostElement=r,this._engine=m,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+p,Vr(r,this._hostClassName)}listen(p,r,m,A){if(!this._triggers.has(r))throw function xt(c,p){return new l.vHH(3302,!1)}();if(null==m||0==m.length)throw function kt(c){return new l.vHH(3303,!1)}();if(!function Rr(c){return"start"==c||"done"==c}(m))throw function Ft(c,p){return new l.vHH(3400,!1)}();const z=ei(this._elementListeners,p,[]),re={name:r,phase:m,callback:A};z.push(re);const ve=ei(this._engine.statesByElement,p,new Map);return ve.has(r)||(Vr(p,pi),Vr(p,pi+"-"+r),ve.set(r,As)),()=>{this._engine.afterFlush(()=>{const Je=z.indexOf(re);Je>=0&&z.splice(Je,1),this._triggers.has(r)||ve.delete(r)})}}register(p,r){return!this._triggers.has(p)&&(this._triggers.set(p,r),!0)}_getTrigger(p){const r=this._triggers.get(p);if(!r)throw function Jt(c){return new l.vHH(3401,!1)}();return r}trigger(p,r,m,A=!0){const z=this._getTrigger(r),re=new Lo(this.id,r,p);let ve=this._engine.statesByElement.get(p);ve||(Vr(p,pi),Vr(p,pi+"-"+r),this._engine.statesByElement.set(p,ve=new Map));let Je=ve.get(r);const mt=new Hs(m,this.id);if(!(m&&m.hasOwnProperty("value"))&&Je&&mt.absorbOptions(Je.options),ve.set(r,mt),Je||(Je=As),mt.value!==bn&&Je.value===mt.value){if(!function wl(c,p){const r=Object.keys(c),m=Object.keys(p);if(r.length!=m.length)return!1;for(let A=0;A<r.length;A++){const z=r[A];if(!p.hasOwnProperty(z)||c[z]!==p[z])return!1}return!0}(Je.params,mt.params)){const Bi=[],wn=z.matchStyles(Je.value,Je.params,Bi),Yn=z.matchStyles(mt.value,mt.params,Bi);Bi.length?this._engine.reportError(Bi):this._engine.afterFlush(()=>{pe(p,wn),Ae(p,Yn)})}return}const Mi=ei(this._engine.playersByElement,p,[]);Mi.forEach(Bi=>{Bi.namespaceId==this.id&&Bi.triggerName==r&&Bi.queued&&Bi.destroy()});let zi=z.matchTransition(Je.value,mt.value,p,mt.params),Fi=!1;if(!zi){if(!A)return;zi=z.fallbackTransition,Fi=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:p,triggerName:r,transition:zi,fromState:Je,toState:mt,player:re,isFallbackTransition:Fi}),Fi||(Vr(p,dn),re.onStart(()=>{Zr(p,dn)})),re.onDone(()=>{let Bi=this.players.indexOf(re);Bi>=0&&this.players.splice(Bi,1);const wn=this._engine.playersByElement.get(p);if(wn){let Yn=wn.indexOf(re);Yn>=0&&wn.splice(Yn,1)}}),this.players.push(re),Mi.push(re),re}deregister(p){this._triggers.delete(p),this._engine.statesByElement.forEach(r=>r.delete(p)),this._elementListeners.forEach((r,m)=>{this._elementListeners.set(m,r.filter(A=>A.name!=p))})}clearElementCache(p){this._engine.statesByElement.delete(p),this._elementListeners.delete(p);const r=this._engine.playersByElement.get(p);r&&(r.forEach(m=>m.destroy()),this._engine.playersByElement.delete(p))}_signalRemovalForInnerTriggers(p,r){const m=this._engine.driver.query(p,Ji,!0);m.forEach(A=>{if(A[ho])return;const z=this._engine.fetchNamespacesByElement(A);z.size?z.forEach(re=>re.triggerLeaveAnimation(A,r,!1,!0)):this.clearElementCache(A)}),this._engine.afterFlushAnimationsDone(()=>m.forEach(A=>this.clearElementCache(A)))}triggerLeaveAnimation(p,r,m,A){const z=this._engine.statesByElement.get(p),re=new Map;if(z){const ve=[];if(z.forEach((Je,mt)=>{if(re.set(mt,Je.value),this._triggers.has(mt)){const Bt=this.trigger(p,mt,bn,A);Bt&&ve.push(Bt)}}),ve.length)return this._engine.markElementAsRemoved(this.id,p,!0,r,re),m&&ht(ve).onDone(()=>this._engine.processLeaveNode(p)),!0}return!1}prepareLeaveAnimationListeners(p){const r=this._elementListeners.get(p),m=this._engine.statesByElement.get(p);if(r&&m){const A=new Set;r.forEach(z=>{const re=z.name;if(A.has(re))return;A.add(re);const Je=this._triggers.get(re).fallbackTransition,mt=m.get(re)||As,Bt=new Hs(bn),Gt=new Lo(this.id,re,p);this._engine.totalQueuedPlayers++,this._queue.push({element:p,triggerName:re,transition:Je,fromState:mt,toState:Bt,player:Gt,isFallbackTransition:!0})})}}removeNode(p,r){const m=this._engine;if(p.childElementCount&&this._signalRemovalForInnerTriggers(p,r),this.triggerLeaveAnimation(p,r,!0))return;let A=!1;if(m.totalAnimations){const z=m.players.length?m.playersByQueriedElement.get(p):[];if(z&&z.length)A=!0;else{let re=p;for(;re=re.parentNode;)if(m.statesByElement.get(re)){A=!0;break}}}if(this.prepareLeaveAnimationListeners(p),A)m.markElementAsRemoved(this.id,p,!1,r);else{const z=p[ho];(!z||z===Is)&&(m.afterFlush(()=>this.clearElementCache(p)),m.destroyInnerAnimations(p),m._onRemovalComplete(p,r))}}insertNode(p,r){Vr(p,this._hostClassName)}drainQueuedTransitions(p){const r=[];return this._queue.forEach(m=>{const A=m.player;if(A.destroyed)return;const z=m.element,re=this._elementListeners.get(z);re&&re.forEach(ve=>{if(ve.name==m.triggerName){const Je=Zt(z,m.triggerName,m.fromState.value,m.toState.value);Je._data=p,De(m.player,ve.phase,Je,ve.callback)}}),A.markedForDestroy?this._engine.afterFlush(()=>{A.destroy()}):r.push(m)}),this._queue=[],r.sort((m,A)=>{const z=m.transition.ast.depCount,re=A.transition.ast.depCount;return 0==z||0==re?z-re:this._engine.driver.containsElement(m.element,A.element)?1:-1})}destroy(p){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,p)}elementContainsData(p){let r=!1;return this._elementListeners.has(p)&&(r=!0),r=!!this._queue.find(m=>m.element===p)||r,r}}class $a{_onRemovalComplete(p,r){this.onRemovalComplete(p,r)}constructor(p,r,m){this.bodyNode=p,this.driver=r,this._normalizer=m,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(A,z)=>{}}get queuedPlayers(){const p=[];return this._namespaceList.forEach(r=>{r.players.forEach(m=>{m.queued&&p.push(m)})}),p}createNamespace(p,r){const m=new Ha(p,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(m,r):(this.newHostElements.set(r,m),this.collectEnterElement(r)),this._namespaceLookup[p]=m}_balanceNamespaceList(p,r){const m=this._namespaceList,A=this.namespacesByHostElement;if(m.length-1>=0){let re=!1,ve=this.driver.getParentElement(r);for(;ve;){const Je=A.get(ve);if(Je){const mt=m.indexOf(Je);m.splice(mt+1,0,p),re=!0;break}ve=this.driver.getParentElement(ve)}re||m.unshift(p)}else m.push(p);return A.set(r,p),p}register(p,r){let m=this._namespaceLookup[p];return m||(m=this.createNamespace(p,r)),m}registerTrigger(p,r,m){let A=this._namespaceLookup[p];A&&A.register(r,m)&&this.totalAnimations++}destroy(p,r){if(!p)return;const m=this._fetchNamespace(p);this.afterFlush(()=>{this.namespacesByHostElement.delete(m.hostElement),delete this._namespaceLookup[p];const A=this._namespaceList.indexOf(m);A>=0&&this._namespaceList.splice(A,1)}),this.afterFlushAnimationsDone(()=>m.destroy(r))}_fetchNamespace(p){return this._namespaceLookup[p]}fetchNamespacesByElement(p){const r=new Set,m=this.statesByElement.get(p);if(m)for(let A of m.values())if(A.namespaceId){const z=this._fetchNamespace(A.namespaceId);z&&r.add(z)}return r}trigger(p,r,m,A){if(Qs(r)){const z=this._fetchNamespace(p);if(z)return z.trigger(r,m,A),!0}return!1}insertNode(p,r,m,A){if(!Qs(r))return;const z=r[ho];if(z&&z.setForRemoval){z.setForRemoval=!1,z.setForMove=!0;const re=this.collectedLeaveElements.indexOf(r);re>=0&&this.collectedLeaveElements.splice(re,1)}if(p){const re=this._fetchNamespace(p);re&&re.insertNode(r,m)}A&&this.collectEnterElement(r)}collectEnterElement(p){this.collectedEnterElements.push(p)}markElementAsDisabled(p,r){r?this.disabledNodes.has(p)||(this.disabledNodes.add(p),Vr(p,ls)):this.disabledNodes.has(p)&&(this.disabledNodes.delete(p),Zr(p,ls))}removeNode(p,r,m){if(Qs(r)){const A=p?this._fetchNamespace(p):null;A?A.removeNode(r,m):this.markElementAsRemoved(p,r,!1,m);const z=this.namespacesByHostElement.get(r);z&&z.id!==p&&z.removeNode(r,m)}else this._onRemovalComplete(r,m)}markElementAsRemoved(p,r,m,A,z){this.collectedLeaveElements.push(r),r[ho]={namespaceId:p,setForRemoval:A,hasAnimation:m,removedBeforeQueried:!1,previousTriggersValues:z}}listen(p,r,m,A,z){return Qs(r)?this._fetchNamespace(p).listen(r,m,A,z):()=>{}}_buildInstruction(p,r,m,A,z){return p.transition.build(this.driver,p.element,p.fromState.value,p.toState.value,m,A,p.fromState.options,p.toState.options,r,z)}destroyInnerAnimations(p){let r=this.driver.query(p,Ji,!0);r.forEach(m=>this.destroyActiveAnimationsForElement(m)),0!=this.playersByQueriedElement.size&&(r=this.driver.query(p,cn,!0),r.forEach(m=>this.finishActiveQueriedAnimationOnElement(m)))}destroyActiveAnimationsForElement(p){const r=this.playersByElement.get(p);r&&r.forEach(m=>{m.queued?m.markedForDestroy=!0:m.destroy()})}finishActiveQueriedAnimationOnElement(p){const r=this.playersByQueriedElement.get(p);r&&r.forEach(m=>m.finish())}whenRenderingDone(){return new Promise(p=>{if(this.players.length)return ht(this.players).onDone(()=>p());p()})}processLeaveNode(p){const r=p[ho];if(r&&r.setForRemoval){if(p[ho]=Is,r.namespaceId){this.destroyInnerAnimations(p);const m=this._fetchNamespace(r.namespaceId);m&&m.clearElementCache(p)}this._onRemovalComplete(p,r.setForRemoval)}p.classList?.contains(ls)&&this.markElementAsDisabled(p,!1),this.driver.query(p,".ng-animate-disabled",!0).forEach(m=>{this.markElementAsDisabled(m,!1)})}flush(p=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((m,A)=>this._balanceNamespaceList(m,A)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let m=0;m<this.collectedEnterElements.length;m++)Vr(this.collectedEnterElements[m],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const m=[];try{r=this._flushAnimations(m,p)}finally{for(let A=0;A<m.length;A++)m[A]()}}else for(let m=0;m<this.collectedLeaveElements.length;m++)this.processLeaveNode(this.collectedLeaveElements[m]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(m=>m()),this._flushFns=[],this._whenQuietFns.length){const m=this._whenQuietFns;this._whenQuietFns=[],r.length?ht(r).onDone(()=>{m.forEach(A=>A())}):m.forEach(A=>A())}}reportError(p){throw function Et(c){return new l.vHH(3402,!1)}()}_flushAnimations(p,r){const m=new Da,A=[],z=new Map,re=[],ve=new Map,Je=new Map,mt=new Map,Bt=new Set;this.disabledNodes.forEach(Xi=>{Bt.add(Xi);const $i=this.driver.query(Xi,".ng-animate-queued",!0);for(let fn=0;fn<$i.length;fn++)Bt.add($i[fn])});const Gt=this.bodyNode,Mi=Array.from(this.statesByElement.keys()),zi=Jn(Mi,this.collectedEnterElements),Fi=new Map;let Bi=0;zi.forEach((Xi,$i)=>{const fn=Xt+Bi++;Fi.set($i,fn),Xi.forEach(tr=>Vr(tr,fn))});const wn=[],Yn=new Set,xr=new Set;for(let Xi=0;Xi<this.collectedLeaveElements.length;Xi++){const $i=this.collectedLeaveElements[Xi],fn=$i[ho];fn&&fn.setForRemoval&&(wn.push($i),Yn.add($i),fn.hasAnimation?this.driver.query($i,".ng-star-inserted",!0).forEach(tr=>Yn.add(tr)):xr.add($i))}const wo=new Map,kr=Jn(Mi,Array.from(Yn));kr.forEach((Xi,$i)=>{const fn=Ut+Bi++;wo.set($i,fn),Xi.forEach(tr=>Vr(tr,fn))}),p.push(()=>{zi.forEach((Xi,$i)=>{const fn=Fi.get($i);Xi.forEach(tr=>Zr(tr,fn))}),kr.forEach((Xi,$i)=>{const fn=wo.get($i);Xi.forEach(tr=>Zr(tr,fn))}),wn.forEach(Xi=>{this.processLeaveNode(Xi)})});const Ma=[],Qa=[];for(let Xi=this._namespaceList.length-1;Xi>=0;Xi--)this._namespaceList[Xi].drainQueuedTransitions(r).forEach(fn=>{const tr=fn.player,$o=fn.element;if(Ma.push(tr),this.collectedEnterElements.length){const Co=$o[ho];if(Co&&Co.setForMove){if(Co.previousTriggersValues&&Co.previousTriggersValues.has(fn.triggerName)){const vl=Co.previousTriggersValues.get(fn.triggerName),Ks=this.statesByElement.get(fn.element);if(Ks&&Ks.has(fn.triggerName)){const Au=Ks.get(fn.triggerName);Au.value=vl,Ks.set(fn.triggerName,Au)}}return void tr.destroy()}}const Ba=!Gt||!this.driver.containsElement(Gt,$o),Ts=wo.get($o),el=Fi.get($o),$r=this._buildInstruction(fn,m,el,Ts,Ba);if($r.errors&&$r.errors.length)return void Qa.push($r);if(Ba)return tr.onStart(()=>pe($o,$r.fromStyles)),tr.onDestroy(()=>Ae($o,$r.toStyles)),void A.push(tr);if(fn.isFallbackTransition)return tr.onStart(()=>pe($o,$r.fromStyles)),tr.onDestroy(()=>Ae($o,$r.toStyles)),void A.push(tr);const Iu=[];$r.timelines.forEach(Co=>{Co.stretchStartingKeyframe=!0,this.disabledNodes.has(Co.element)||Iu.push(Co)}),$r.timelines=Iu,m.append($o,$r.timelines),re.push({instruction:$r,player:tr,element:$o}),$r.queriedElements.forEach(Co=>ei(ve,Co,[]).push(tr)),$r.preStyleProps.forEach((Co,vl)=>{if(Co.size){let Ks=Je.get(vl);Ks||Je.set(vl,Ks=new Set),Co.forEach((Au,ku)=>Ks.add(ku))}}),$r.postStyleProps.forEach((Co,vl)=>{let Ks=mt.get(vl);Ks||mt.set(vl,Ks=new Set),Co.forEach((Au,ku)=>Ks.add(ku))})});if(Qa.length){const Xi=[];Qa.forEach($i=>{Xi.push(function je(c,p){return new l.vHH(3505,!1)}())}),Ma.forEach($i=>$i.destroy()),this.reportError(Xi)}const Vs=new Map,yl=new Map;re.forEach(Xi=>{const $i=Xi.element;m.has($i)&&(yl.set($i,$i),this._beforeAnimationBuild(Xi.player.namespaceId,Xi.instruction,Vs))}),A.forEach(Xi=>{const $i=Xi.element;this._getPreviousPlayers($i,!1,Xi.namespaceId,Xi.triggerName,null).forEach(tr=>{ei(Vs,$i,[]).push(tr),tr.destroy()})});const ps=wn.filter(Xi=>Ta(Xi,Je,mt)),os=new Map;Br(os,this.driver,xr,mt,ie.l3).forEach(Xi=>{Ta(Xi,Je,mt)&&ps.push(Xi)});const jd=new Map;zi.forEach((Xi,$i)=>{Br(jd,this.driver,new Set(Xi),Je,ie.k1)}),ps.forEach(Xi=>{const $i=os.get(Xi),fn=jd.get(Xi);os.set(Xi,new Map([...$i?.entries()??[],...fn?.entries()??[]]))});const or=[],bc=[],Tu={};re.forEach(Xi=>{const{element:$i,player:fn,instruction:tr}=Xi;if(m.has($i)){if(Bt.has($i))return fn.onDestroy(()=>Ae($i,tr.toStyles)),fn.disabled=!0,fn.overrideTotalTime(tr.totalTime),void A.push(fn);let $o=Tu;if(yl.size>1){let Ts=$i;const el=[];for(;Ts=Ts.parentNode;){const $r=yl.get(Ts);if($r){$o=$r;break}el.push(Ts)}el.forEach($r=>yl.set($r,$o))}const Ba=this._buildAnimation(fn.namespaceId,tr,Vs,z,jd,os);if(fn.setRealPlayer(Ba),$o===Tu)or.push(fn);else{const Ts=this.playersByElement.get($o);Ts&&Ts.length&&(fn.parentPlayer=ht(Ts)),A.push(fn)}}else pe($i,tr.fromStyles),fn.onDestroy(()=>Ae($i,tr.toStyles)),bc.push(fn),Bt.has($i)&&A.push(fn)}),bc.forEach(Xi=>{const $i=z.get(Xi.element);if($i&&$i.length){const fn=ht($i);Xi.setRealPlayer(fn)}}),A.forEach(Xi=>{Xi.parentPlayer?Xi.syncPlayerEvents(Xi.parentPlayer):Xi.destroy()});for(let Xi=0;Xi<wn.length;Xi++){const $i=wn[Xi],fn=$i[ho];if(Zr($i,Ut),fn&&fn.hasAnimation)continue;let tr=[];if(ve.size){let Ba=ve.get($i);Ba&&Ba.length&&tr.push(...Ba);let Ts=this.driver.query($i,cn,!0);for(let el=0;el<Ts.length;el++){let $r=ve.get(Ts[el]);$r&&$r.length&&tr.push(...$r)}}const $o=tr.filter(Ba=>!Ba.destroyed);$o.length?Sa(this,$i,$o):this.processLeaveNode($i)}return wn.length=0,or.forEach(Xi=>{this.players.push(Xi),Xi.onDone(()=>{Xi.destroy();const $i=this.players.indexOf(Xi);this.players.splice($i,1)}),Xi.play()}),or}elementContainsData(p,r){let m=!1;const A=r[ho];return A&&A.setForRemoval&&(m=!0),this.playersByElement.has(r)&&(m=!0),this.playersByQueriedElement.has(r)&&(m=!0),this.statesByElement.has(r)&&(m=!0),this._fetchNamespace(p).elementContainsData(r)||m}afterFlush(p){this._flushFns.push(p)}afterFlushAnimationsDone(p){this._whenQuietFns.push(p)}_getPreviousPlayers(p,r,m,A,z){let re=[];if(r){const ve=this.playersByQueriedElement.get(p);ve&&(re=ve)}else{const ve=this.playersByElement.get(p);if(ve){const Je=!z||z==bn;ve.forEach(mt=>{mt.queued||!Je&&mt.triggerName!=A||re.push(mt)})}}return(m||A)&&(re=re.filter(ve=>!(m&&m!=ve.namespaceId||A&&A!=ve.triggerName))),re}_beforeAnimationBuild(p,r,m){const z=r.element,re=r.isRemovalTransition?void 0:p,ve=r.isRemovalTransition?void 0:r.triggerName;for(const Je of r.timelines){const mt=Je.element,Bt=mt!==z,Gt=ei(m,mt,[]);this._getPreviousPlayers(mt,Bt,re,ve,r.toState).forEach(zi=>{const Fi=zi.getRealPlayer();Fi.beforeDestroy&&Fi.beforeDestroy(),zi.destroy(),Gt.push(zi)})}pe(z,r.fromStyles)}_buildAnimation(p,r,m,A,z,re){const ve=r.triggerName,Je=r.element,mt=[],Bt=new Set,Gt=new Set,Mi=r.timelines.map(Fi=>{const Bi=Fi.element;Bt.add(Bi);const wn=Bi[ho];if(wn&&wn.removedBeforeQueried)return new ie.ZN(Fi.duration,Fi.delay);const Yn=Bi!==Je,xr=function mn(c){const p=[];return ea(c,p),p}((m.get(Bi)||ja).map(Vs=>Vs.getRealPlayer())).filter(Vs=>!!Vs.element&&Vs.element===Bi),wo=z.get(Bi),kr=re.get(Bi),Ma=ct(this._normalizer,Fi.keyframes,wo,kr),Qa=this._buildPlayer(Fi,Ma,xr);if(Fi.subTimeline&&A&&Gt.add(Bi),Yn){const Vs=new Lo(p,ve,Bi);Vs.setRealPlayer(Qa),mt.push(Vs)}return Qa});mt.forEach(Fi=>{ei(this.playersByQueriedElement,Fi.element,[]).push(Fi),Fi.onDone(()=>function _s(c,p,r){let m=c.get(p);if(m){if(m.length){const A=m.indexOf(r);m.splice(A,1)}0==m.length&&c.delete(p)}return m}(this.playersByQueriedElement,Fi.element,Fi))}),Bt.forEach(Fi=>Vr(Fi,en));const zi=ht(Mi);return zi.onDestroy(()=>{Bt.forEach(Fi=>Zr(Fi,en)),Ae(Je,r.toStyles)}),Gt.forEach(Fi=>{ei(A,Fi,[]).push(zi)}),zi}_buildPlayer(p,r,m){return r.length>0?this.driver.animate(p.element,r,p.duration,p.delay,p.easing,m):new ie.ZN(p.duration,p.delay)}}class Lo{constructor(p,r,m){this.namespaceId=p,this.triggerName=r,this.element=m,this._player=new ie.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(p){this._containsRealPlayer||(this._player=p,this._queuedCallbacks.forEach((r,m)=>{r.forEach(A=>De(p,m,void 0,A))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(p.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(p){this.totalTime=p}syncPlayerEvents(p){const r=this._player;r.triggerCallback&&p.onStart(()=>r.triggerCallback("start")),p.onDone(()=>this.finish()),p.onDestroy(()=>this.destroy())}_queueEvent(p,r){ei(this._queuedCallbacks,p,[]).push(r)}onDone(p){this.queued&&this._queueEvent("done",p),this._player.onDone(p)}onStart(p){this.queued&&this._queueEvent("start",p),this._player.onStart(p)}onDestroy(p){this.queued&&this._queueEvent("destroy",p),this._player.onDestroy(p)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(p){this.queued||this._player.setPosition(p)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(p){const r=this._player;r.triggerCallback&&r.triggerCallback(p)}}function Qs(c){return c&&1===c.nodeType}function $s(c,p){const r=c.style.display;return c.style.display=p??"none",r}function Br(c,p,r,m,A){const z=[];r.forEach(Je=>z.push($s(Je)));const re=[];m.forEach((Je,mt)=>{const Bt=new Map;Je.forEach(Gt=>{const Mi=p.computeStyle(mt,Gt,A);Bt.set(Gt,Mi),(!Mi||0==Mi.length)&&(mt[ho]=Ko,re.push(mt))}),c.set(mt,Bt)});let ve=0;return r.forEach(Je=>$s(Je,z[ve++])),re}function Jn(c,p){const r=new Map;if(c.forEach(ve=>r.set(ve,[])),0==p.length)return r;const A=new Set(p),z=new Map;function re(ve){if(!ve)return 1;let Je=z.get(ve);if(Je)return Je;const mt=ve.parentNode;return Je=r.has(mt)?mt:A.has(mt)?1:re(mt),z.set(ve,Je),Je}return p.forEach(ve=>{const Je=re(ve);1!==Je&&r.get(Je).push(ve)}),r}function Vr(c,p){c.classList?.add(p)}function Zr(c,p){c.classList?.remove(p)}function Sa(c,p,r){ht(r).onDone(()=>c.processLeaveNode(p))}function ea(c,p){for(let r=0;r<c.length;r++){const m=c[r];m instanceof ie.ZE?ea(m.players,p):p.push(m)}}function Ta(c,p,r){const m=r.get(c);if(!m)return!1;let A=p.get(c);return A?m.forEach(z=>A.add(z)):p.set(c,m),r.delete(c),!0}class ha{constructor(p,r,m){this.bodyNode=p,this._driver=r,this._normalizer=m,this._triggerCache={},this.onRemovalComplete=(A,z)=>{},this._transitionEngine=new $a(p,r,m),this._timelineEngine=new js(p,r,m),this._transitionEngine.onRemovalComplete=(A,z)=>this.onRemovalComplete(A,z)}registerTrigger(p,r,m,A,z){const re=p+"-"+A;let ve=this._triggerCache[re];if(!ve){const Je=[],Bt=lo(this._driver,z,Je,[]);if(Je.length)throw function En(c,p){return new l.vHH(3404,!1)}();ve=function gr(c,p,r){return new Wo(c,p,r)}(A,Bt,this._normalizer),this._triggerCache[re]=ve}this._transitionEngine.registerTrigger(r,A,ve)}register(p,r){this._transitionEngine.register(p,r)}destroy(p,r){this._transitionEngine.destroy(p,r)}onInsert(p,r,m,A){this._transitionEngine.insertNode(p,r,m,A)}onRemove(p,r,m){this._transitionEngine.removeNode(p,r,m)}disableAnimations(p,r){this._transitionEngine.markElementAsDisabled(p,r)}process(p,r,m,A){if("@"==m.charAt(0)){const[z,re]=Xe(m);this._timelineEngine.command(z,r,re,A)}else this._transitionEngine.trigger(p,r,m,A)}listen(p,r,m,A,z){if("@"==m.charAt(0)){const[re,ve]=Xe(m);return this._timelineEngine.listen(re,r,ve,z)}return this._transitionEngine.listen(p,r,m,A,z)}flush(p=-1){this._transitionEngine.flush(p)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(p){this._transitionEngine.afterFlushAnimationsDone(p)}}let ta=(()=>{class c{constructor(r,m,A){this._element=r,this._startStyles=m,this._endStyles=A,this._state=0;let z=c.initialStylesByElement.get(r);z||c.initialStylesByElement.set(r,z=new Map),this._initialStyles=z}start(){this._state<1&&(this._startStyles&&Ae(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ae(this._element,this._initialStyles),this._endStyles&&(Ae(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(c.initialStylesByElement.delete(this._element),this._startStyles&&(pe(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pe(this._element,this._endStyles),this._endStyles=null),Ae(this._element,this._initialStyles),this._state=3)}}return c.initialStylesByElement=new WeakMap,c})();function ia(c){let p=null;return c.forEach((r,m)=>{(function Cc(c){return"display"===c||"position"===c})(m)&&(p=p||new Map,p.set(m,r))}),p}class Cl{constructor(p,r,m,A){this.element=p,this.keyframes=r,this.options=m,this._specialStyles=A,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=m.duration,this._delay=m.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(p=>p()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const p=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,p,this.options),this._finalKeyframe=p.length?p[p.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(p){const r=[];return p.forEach(m=>{r.push(Object.fromEntries(m))}),r}_triggerWebAnimation(p,r,m){return p.animate(this._convertKeyframesToObject(r),m)}onStart(p){this._originalOnStartFns.push(p),this._onStartFns.push(p)}onDone(p){this._originalOnDoneFns.push(p),this._onDoneFns.push(p)}onDestroy(p){this._onDestroyFns.push(p)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(p=>p()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(p=>p()),this._onDestroyFns=[])}setPosition(p){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=p*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const p=new Map;this.hasStarted()&&this._finalKeyframe.forEach((m,A)=>{"offset"!==A&&p.set(A,this._finished?m:Me(this.element,A))}),this.currentSnapshot=p}triggerCallback(p){const r="start"===p?this._onStartFns:this._onDoneFns;r.forEach(m=>m()),r.length=0}}class Ia{validateStyleProperty(p){return!0}validateAnimatableStyleProperty(p){return!0}matchesElement(p,r){return!1}containsElement(p,r){return se(p,r)}getParentElement(p){return yi(p)}query(p,r,m){return Ce(p,r,m)}computeStyle(p,r,m){return window.getComputedStyle(p)[r]}animate(p,r,m,A,z,re=[]){const Je={duration:m,delay:A,fill:0==A?"both":"forwards"};z&&(Je.easing=z);const mt=new Map,Bt=re.filter(zi=>zi instanceof Cl);(function tt(c,p){return 0===c||0===p})(m,A)&&Bt.forEach(zi=>{zi.currentSnapshot.forEach((Fi,Bi)=>mt.set(Bi,Fi))});let Gt=function U(c){return c.length?c[0]instanceof Map?c:c.map(p=>B(p)):[]}(r).map(zi=>fe(zi));Gt=function Tt(c,p,r){if(r.size&&p.length){let m=p[0],A=[];if(r.forEach((z,re)=>{m.has(re)||A.push(re),m.set(re,z)}),A.length)for(let z=1;z<p.length;z++){let re=p[z];A.forEach(ve=>re.set(ve,Me(c,ve)))}}return p}(p,Gt,mt);const Mi=function wc(c,p){let r=null,m=null;return Array.isArray(p)&&p.length?(r=ia(p[0]),p.length>1&&(m=ia(p[p.length-1]))):p instanceof Map&&(r=ia(p)),r||m?new ta(c,r,m):null}(p,Gt);return new Cl(p,Gt,Je,Mi)}}var Oi=j(6814);let Nl=(()=>{class c extends ie._j{constructor(r,m){super(),this._nextAnimationId=0,this._renderer=r.createRenderer(m.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(r){const m=this._nextAnimationId.toString();this._nextAnimationId++;const A=Array.isArray(r)?(0,ie.vP)(r):r;return lr(this._renderer,null,m,"register",[A]),new Pn(m,this._renderer)}}return c.\u0275fac=function(r){return new(r||c)(l.LFG(l.FYo),l.LFG(Oi.K0))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac}),c})();class Pn extends ie.LC{constructor(p,r){super(),this._id=p,this._renderer=r}create(p,r){return new El(this._id,p,r||{},this._renderer)}}class El{constructor(p,r,m,A){this.id=p,this.element=r,this._renderer=A,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",m)}_listen(p,r){return this._renderer.listen(this.element,`@@${this.id}:${p}`,r)}_command(p,...r){return lr(this._renderer,this.element,this.id,p,r)}onDone(p){this._listen("done",p)}onStart(p){this._listen("start",p)}onDestroy(p){this._listen("destroy",p)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(p){this._command("setPosition",p)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function lr(c,p,r,m,A){return c.setProperty(p,`@@${r}:${m}`,A)}const Y="@.disabled";let Z=(()=>{class c{constructor(r,m,A){this.delegate=r,this.engine=m,this._zone=A,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,m.onRemovalComplete=(z,re)=>{const ve=re?.parentNode(z);ve&&re.removeChild(ve,z)}}createRenderer(r,m){const z=this.delegate.createRenderer(r,m);if(!(r&&m&&m.data&&m.data.animation)){let Bt=this._rendererCache.get(z);return Bt||(Bt=new H("",z,this.engine,()=>this._rendererCache.delete(z)),this._rendererCache.set(z,Bt)),Bt}const re=m.id,ve=m.id+"-"+this._currentId;this._currentId++,this.engine.register(ve,r);const Je=Bt=>{Array.isArray(Bt)?Bt.forEach(Je):this.engine.registerTrigger(re,ve,r,Bt.name,Bt)};return m.data.animation.forEach(Je),new xe(this,ve,z,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(r,m,A){r>=0&&r<this._microtaskId?this._zone.run(()=>m(A)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(z=>{const[re,ve]=z;re(ve)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([m,A]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return c.\u0275fac=function(r){return new(r||c)(l.LFG(l.FYo),l.LFG(ha),l.LFG(l.R0b))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac}),c})();class H{constructor(p,r,m,A){this.namespaceId=p,this.delegate=r,this.engine=m,this._onDestroy=A}get data(){return this.delegate.data}destroyNode(p){this.delegate.destroyNode?.(p)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(p,r){return this.delegate.createElement(p,r)}createComment(p){return this.delegate.createComment(p)}createText(p){return this.delegate.createText(p)}appendChild(p,r){this.delegate.appendChild(p,r),this.engine.onInsert(this.namespaceId,r,p,!1)}insertBefore(p,r,m,A=!0){this.delegate.insertBefore(p,r,m),this.engine.onInsert(this.namespaceId,r,p,A)}removeChild(p,r,m){this.engine.onRemove(this.namespaceId,r,this.delegate)}selectRootElement(p,r){return this.delegate.selectRootElement(p,r)}parentNode(p){return this.delegate.parentNode(p)}nextSibling(p){return this.delegate.nextSibling(p)}setAttribute(p,r,m,A){this.delegate.setAttribute(p,r,m,A)}removeAttribute(p,r,m){this.delegate.removeAttribute(p,r,m)}addClass(p,r){this.delegate.addClass(p,r)}removeClass(p,r){this.delegate.removeClass(p,r)}setStyle(p,r,m,A){this.delegate.setStyle(p,r,m,A)}removeStyle(p,r,m){this.delegate.removeStyle(p,r,m)}setProperty(p,r,m){"@"==r.charAt(0)&&r==Y?this.disableAnimations(p,!!m):this.delegate.setProperty(p,r,m)}setValue(p,r){this.delegate.setValue(p,r)}listen(p,r,m){return this.delegate.listen(p,r,m)}disableAnimations(p,r){this.engine.disableAnimations(p,r)}}class xe extends H{constructor(p,r,m,A,z){super(r,m,A,z),this.factory=p,this.namespaceId=r}setProperty(p,r,m){"@"==r.charAt(0)?"."==r.charAt(1)&&r==Y?this.disableAnimations(p,m=void 0===m||!!m):this.engine.process(this.namespaceId,p,r.slice(1),m):this.delegate.setProperty(p,r,m)}listen(p,r,m){if("@"==r.charAt(0)){const A=function Vt(c){switch(c){case"body":return document.body;case"document":return document;case"window":return window;default:return c}}(p);let z=r.slice(1),re="";return"@"!=z.charAt(0)&&([z,re]=function wi(c){const p=c.indexOf(".");return[c.substring(0,p),c.slice(p+1)]}(z)),this.engine.listen(this.namespaceId,A,z,re,ve=>{this.factory.scheduleListenerCallback(ve._data||-1,m,ve)})}return this.delegate.listen(p,r,m)}}let Ur=(()=>{class c extends ha{constructor(r,m,A,z){super(r.body,m,A)}ngOnDestroy(){this.flush()}}return c.\u0275fac=function(r){return new(r||c)(l.LFG(Oi.K0),l.LFG(ne),l.LFG(zr),l.LFG(l.z2F))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac}),c})();const pa=[{provide:ie._j,useClass:Nl},{provide:zr,useFactory:function mo(){return new ar}},{provide:ha,useClass:Ur},{provide:l.FYo,useFactory:function ma(c,p,r){return new Z(c,p,r)},deps:[M.se,ha,l.R0b]}],fa=[{provide:ne,useFactory:()=>new Ia},{provide:l.QbO,useValue:"BrowserAnimations"},...pa],rc=[{provide:ne,useClass:Te},{provide:l.QbO,useValue:"NoopAnimations"},...pa];let oc=(()=>{class c{static withConfig(r){return{ngModule:c,providers:r.disableAnimations?rc:fa}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({providers:fa,imports:[M.b2]}),c})(),rl=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Oi.ez]}),c})();function So(c,p,r,m,A,z,re){try{var ve=c[z](re),Je=ve.value}catch(mt){return void r(mt)}ve.done?p(Je):Promise.resolve(Je).then(m,A)}function Fr(c){return function(){var p=this,r=arguments;return new Promise(function(m,A){var z=c.apply(p,r);function re(Je){So(z,m,A,re,ve,"next",Je)}function ve(Je){So(z,m,A,re,ve,"throw",Je)}re(void 0)})}}var Sn=j(5624),ur=j(8645);class ol extends ur.x{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(p){const{hasError:r,_hasValue:m,_value:A,thrownError:z,isStopped:re,_isComplete:ve}=this;r?p.error(z):(re||ve)&&(m&&p.next(A),p.complete())}next(p){this.isStopped||(this._value=p,this._hasValue=!0)}complete(){const{_hasValue:p,_value:r,_isComplete:m}=this;m||(this._isComplete=!0,p&&super.next(r),super.complete())}}var Zs=j(7394),Aa=j(1374);let hr=(()=>{class c{constructor(r){this.zone=r,this.mapCreated=new ol,this.mapLoaded=new ol,this.markersToRemove=[],this.popupsToRemove=[],this.imageIdsToRemove=[],this.subscription=new Zs.w0,this.mapCreated$=this.mapCreated.asObservable(),this.mapLoaded$=this.mapLoaded.asObservable()}setup(r){this.zone.onStable.pipe((0,Aa.P)()).subscribe(()=>{this.createMap(r.mapOptions),this.hookEvents(r.mapEvents),this.mapEvents=r.mapEvents,this.mapCreated.next(void 0),this.mapCreated.complete(),r.mapOptions.terrain&&this.mapInstance.on("load",()=>{this.updateTerrain(r.mapOptions.terrain)})})}destroyMap(){this.mapInstance&&(this.subscription.unsubscribe(),this.mapInstance.remove())}updateMinZoom(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMinZoom(r)})}updateMaxZoom(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMaxZoom(r)})}updateMinPitch(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMinPitch(r)})}updateMaxPitch(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMaxPitch(r)})}updateRenderWorldCopies(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setRenderWorldCopies(r)})}updateScrollZoom(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.scrollZoom.enable():this.mapInstance.scrollZoom.disable()})}updateDragRotate(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.dragRotate.enable():this.mapInstance.dragRotate.disable()})}updateTouchPitch(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.touchPitch.enable():this.mapInstance.touchPitch.disable()})}updateTouchZoomRotate(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.touchZoomRotate.enable():this.mapInstance.touchZoomRotate.disable()})}updateDoubleClickZoom(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.doubleClickZoom.enable():this.mapInstance.doubleClickZoom.disable()})}updateKeyboard(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.keyboard.enable():this.mapInstance.keyboard.disable()})}updateDragPan(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.dragPan.enable():this.mapInstance.dragPan.disable()})}updateBoxZoom(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.boxZoom.enable():this.mapInstance.boxZoom.disable()})}updateStyle(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setStyle(r)})}updateMaxBounds(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMaxBounds(r)})}updateTerrain(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setTerrain(r)})}getTerrain(){return this.zone.runOutsideAngular(()=>this.mapInstance.getTerrain())}changeCanvasCursor(r){this.mapInstance.getCanvasContainer().style.cursor=r}queryRenderedFeatures(r,m){return this.mapInstance.queryRenderedFeatures(r,m)}panTo(r,m){return this.zone.runOutsideAngular(()=>{this.mapInstance.panTo(r,m)})}move(r,m,A,z,re,ve){return this.zone.runOutsideAngular(()=>{this.mapInstance[r]({...m,zoom:A??this.mapInstance.getZoom(),center:z??this.mapInstance.getCenter(),bearing:re??this.mapInstance.getBearing(),pitch:ve??this.mapInstance.getPitch()})})}addLayer(r,m,A){this.zone.runOutsideAngular(()=>{Object.keys(r.layerOptions).forEach(z=>{void 0===r.layerOptions[z]&&delete r.layerOptions[z]}),this.mapInstance.addLayer(r.layerOptions,A),m&&(r.layerEvents.layerClick.observers.length&&this.mapInstance.on("click",r.layerOptions.id,z=>{this.zone.run(()=>{r.layerEvents.layerClick.emit(z)})}),r.layerEvents.layerDblClick.observers.length&&this.mapInstance.on("dblclick",r.layerOptions.id,z=>{this.zone.run(()=>{r.layerEvents.layerDblClick.emit(z)})}),r.layerEvents.layerMouseDown.observers.length&&this.mapInstance.on("mousedown",r.layerOptions.id,z=>{this.zone.run(()=>{r.layerEvents.layerMouseDown.emit(z)})}),r.layerEvents.layerMouseUp.observers.length&&this.mapInstance.on("mouseup",r.layerOptions.id,z=>{this.zone.run(()=>{r.layerEvents.layerMouseUp.emit(z)})}),r.layerEvents.layerMouseEnter.observers.length&&this.mapInstance.on("mouseenter",r.layerOptions.id,z=>{this.zone.run(()=>{r.layerEvents.layerMouseEnter.emit(z)})}),r.layerEvents.layerMouseLeave.observers.length&&this.mapInstance.on("mouseleave",r.layerOptions.id,z=>{this.zone.run(()=>{r.layerEvents.layerMouseLeave.emit(z)})}),r.layerEvents.layerMouseMove.observers.length&&this.mapInstance.on("mousemove",r.layerOptions.id,z=>{this.zone.run(()=>{r.layerEvents.layerMouseMove.emit(z)})}),r.layerEvents.layerMouseOver.observers.length&&this.mapInstance.on("mouseover",r.layerOptions.id,z=>{this.zone.run(()=>{r.layerEvents.layerMouseOver.emit(z)})}),r.layerEvents.layerMouseOut.observers.length&&this.mapInstance.on("mouseout",r.layerOptions.id,z=>{this.zone.run(()=>{r.layerEvents.layerMouseOut.emit(z)})}),r.layerEvents.layerContextMenu.observers.length&&this.mapInstance.on("contextmenu",r.layerOptions.id,z=>{this.zone.run(()=>{r.layerEvents.layerContextMenu.emit(z)})}),r.layerEvents.layerTouchStart.observers.length&&this.mapInstance.on("touchstart",r.layerOptions.id,z=>{this.zone.run(()=>{r.layerEvents.layerTouchStart.emit(z)})}),r.layerEvents.layerTouchEnd.observers.length&&this.mapInstance.on("touchend",r.layerOptions.id,z=>{this.zone.run(()=>{r.layerEvents.layerTouchEnd.emit(z)})}),r.layerEvents.layerTouchCancel.observers.length&&this.mapInstance.on("touchcancel",r.layerOptions.id,z=>{this.zone.run(()=>{r.layerEvents.layerTouchCancel.emit(z)})}))})}removeLayer(r){this.zone.runOutsideAngular(()=>{null!=this.mapInstance.getLayer(r)&&this.mapInstance.removeLayer(r)})}addMarker(r){const m={offset:r.markersOptions.offset,anchor:r.markersOptions.anchor,draggable:!!r.markersOptions.draggable,rotationAlignment:r.markersOptions.rotationAlignment,pitchAlignment:r.markersOptions.pitchAlignment,clickTolerance:r.markersOptions.clickTolerance};r.markersOptions.element.childNodes.length>0&&(m.element=r.markersOptions.element);const A=new Sn.Marker(m);return r.markersEvents.markerDragStart.observers.length&&A.on("dragstart",re=>{if(re){const{target:ve}=re;this.zone.run(()=>{r.markersEvents.markerDragStart.emit(ve)})}}),r.markersEvents.markerDrag.observers.length&&A.on("drag",re=>{if(re){const{target:ve}=re;this.zone.run(()=>{r.markersEvents.markerDrag.emit(ve)})}}),r.markersEvents.markerDragEnd.observers.length&&A.on("dragend",re=>{if(re){const{target:ve}=re;this.zone.run(()=>{r.markersEvents.markerDragEnd.emit(ve)})}}),A.setLngLat(r.markersOptions.feature?r.markersOptions.feature.geometry.coordinates:r.markersOptions.lngLat),this.zone.runOutsideAngular(()=>(A.addTo(this.mapInstance),A))}removeMarker(r){this.markersToRemove.push(r)}createPopup(r,m){return this.zone.runOutsideAngular(()=>{Object.keys(r.popupOptions).forEach(z=>void 0===r.popupOptions[z]&&delete r.popupOptions[z]);const A=new Sn.Popup(r.popupOptions);return A.setDOMContent(m),r.popupEvents.popupClose.observers.length&&A.on("close",()=>{this.zone.run(()=>{r.popupEvents.popupClose.emit()})}),r.popupEvents.popupOpen.observers.length&&A.on("open",()=>{this.zone.run(()=>{r.popupEvents.popupOpen.emit()})}),A})}addPopupToMap(r,m,A=!1){return this.zone.runOutsideAngular(()=>{A&&r._listeners&&delete r._listeners.open,r.setLngLat(m),r.addTo(this.mapInstance)})}addPopupToMarker(r,m){return this.zone.runOutsideAngular(()=>{r.setPopup(m)})}removePopupFromMap(r,m=!1){m&&r._listeners&&delete r._listeners.close,this.popupsToRemove.push(r)}removePopupFromMarker(r){return this.zone.runOutsideAngular(()=>{r.setPopup(void 0)})}addControl(r,m){return this.zone.runOutsideAngular(()=>{this.mapInstance.addControl(r,m)})}removeControl(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.removeControl(r)})}loadAndAddImage(r,m,A){var z=this;return Fr(function*(){return z.zone.runOutsideAngular(()=>new Promise((re,ve)=>{z.mapInstance.loadImage(m,(Je,mt)=>{Je?ve(Je):(z.addImage(r,mt,A),re())})}))})()}addImage(r,m,A){return this.zone.runOutsideAngular(()=>{this.mapInstance.addImage(r,m,A)})}removeImage(r){this.imageIdsToRemove.push(r)}addSource(r,m){return this.zone.runOutsideAngular(()=>{Object.keys(m).forEach(A=>void 0===m[A]&&delete m[A]),this.mapInstance.addSource(r,m)})}getSource(r){return this.mapInstance.getSource(r)}removeSource(r){this.zone.runOutsideAngular(()=>{this.findLayersBySourceId(r).forEach(m=>this.mapInstance.removeLayer(m.id)),this.mapInstance.removeSource(r)})}setAllLayerPaintProperty(r,m){return this.zone.runOutsideAngular(()=>{Object.keys(m).forEach(A=>{this.mapInstance.setPaintProperty(r,A,m[A])})})}setAllLayerLayoutProperty(r,m){return this.zone.runOutsideAngular(()=>{Object.keys(m).forEach(A=>{this.mapInstance.setLayoutProperty(r,A,m[A])})})}setLayerFilter(r,m){return this.zone.runOutsideAngular(()=>{this.mapInstance.setFilter(r,m)})}setLayerBefore(r,m){return this.zone.runOutsideAngular(()=>{this.mapInstance.moveLayer(r,m)})}setLayerZoomRange(r,m,A){return this.zone.runOutsideAngular(()=>{this.mapInstance.setLayerZoomRange(r,m||0,A||20)})}fitBounds(r,m){return this.zone.runOutsideAngular(()=>{this.mapInstance.fitBounds(r,m)})}fitScreenCoordinates(r,m,A){return this.zone.runOutsideAngular(()=>{this.mapInstance.fitScreenCoordinates(r[0],r[1],m,A)})}applyChanges(){this.zone.runOutsideAngular(()=>{this.removeMarkers(),this.removePopups(),this.removeImages()})}createMap(r){l.R0b.assertNotInAngularZone(),Object.keys(r).forEach(A=>{void 0===r[A]&&delete r[A]}),this.mapInstance=new Sn.Map(r),window&&/msie\s|trident\/|edge\//i.test(window.navigator.userAgent)&&this.mapInstance.setStyle(r.style),this.subscription.add(this.zone.onMicrotaskEmpty.subscribe(()=>this.applyChanges()))}removeMarkers(){for(const r of this.markersToRemove)r.remove();this.markersToRemove=[]}removePopups(){for(const r of this.popupsToRemove)r.remove();this.popupsToRemove=[]}removeImages(){for(const r of this.imageIdsToRemove)this.mapInstance.removeImage(r);this.imageIdsToRemove=[]}findLayersBySourceId(r){const m=this.mapInstance.getStyle().layers;return null==m?[]:m.filter(A=>"source"in A&&A.source===r)}hookEvents(r){this.mapInstance.on("load",m=>{this.mapLoaded.next(void 0),this.mapLoaded.complete(),this.zone.run(()=>{r.mapLoad.emit(m.target)})}),r.mapResize.observers.length&&this.mapInstance.on("resize",m=>this.zone.run(()=>{r.mapResize.emit(m)})),r.mapRemove.observers.length&&this.mapInstance.on("remove",m=>this.zone.run(()=>{r.mapRemove.emit(m)})),r.mapMouseDown.observers.length&&this.mapInstance.on("mousedown",m=>this.zone.run(()=>{r.mapMouseDown.emit(m)})),r.mapMouseUp.observers.length&&this.mapInstance.on("mouseup",m=>this.zone.run(()=>{r.mapMouseUp.emit(m)})),r.mapMouseMove.observers.length&&this.mapInstance.on("mousemove",m=>this.zone.run(()=>{r.mapMouseMove.emit(m)})),r.mapClick.observers.length&&this.mapInstance.on("click",m=>this.zone.run(()=>{r.mapClick.emit(m)})),r.mapDblClick.observers.length&&this.mapInstance.on("dblclick",m=>this.zone.run(()=>{r.mapDblClick.emit(m)})),r.mapMouseOver.observers.length&&this.mapInstance.on("mouseover",m=>this.zone.run(()=>{r.mapMouseOver.emit(m)})),r.mapMouseOut.observers.length&&this.mapInstance.on("mouseout",m=>this.zone.run(()=>{r.mapMouseOut.emit(m)})),r.mapContextMenu.observers.length&&this.mapInstance.on("contextmenu",m=>this.zone.run(()=>{r.mapContextMenu.emit(m)})),r.mapTouchStart.observers.length&&this.mapInstance.on("touchstart",m=>this.zone.run(()=>{r.mapTouchStart.emit(m)})),r.mapTouchEnd.observers.length&&this.mapInstance.on("touchend",m=>this.zone.run(()=>{r.mapTouchEnd.emit(m)})),r.mapTouchMove.observers.length&&this.mapInstance.on("touchmove",m=>this.zone.run(()=>{r.mapTouchMove.emit(m)})),r.mapTouchCancel.observers.length&&this.mapInstance.on("touchcancel",m=>this.zone.run(()=>{r.mapTouchCancel.emit(m)})),r.mapWheel.observers.length&&this.mapInstance.on("wheel",m=>this.zone.run(()=>{r.mapWheel.emit(m)})),r.moveStart.observers.length&&this.mapInstance.on("movestart",m=>this.zone.run(()=>r.moveStart.emit(m))),r.move.observers.length&&this.mapInstance.on("move",m=>this.zone.run(()=>r.move.emit(m))),r.moveEnd.observers.length&&this.mapInstance.on("moveend",m=>this.zone.run(()=>r.moveEnd.emit(m))),r.mapDragStart.observers.length&&this.mapInstance.on("dragstart",m=>this.zone.run(()=>{r.mapDragStart.emit(m)})),r.mapDrag.observers.length&&this.mapInstance.on("drag",m=>this.zone.run(()=>{r.mapDrag.emit(m)})),r.mapDragEnd.observers.length&&this.mapInstance.on("dragend",m=>this.zone.run(()=>{r.mapDragEnd.emit(m)})),r.zoomStart.observers.length&&this.mapInstance.on("zoomstart",m=>this.zone.run(()=>r.zoomStart.emit(m))),r.zoomEvt.observers.length&&this.mapInstance.on("zoom",m=>this.zone.run(()=>r.zoomEvt.emit(m))),r.zoomEnd.observers.length&&this.mapInstance.on("zoomend",m=>this.zone.run(()=>r.zoomEnd.emit(m))),r.rotateStart.observers.length&&this.mapInstance.on("rotatestart",m=>this.zone.run(()=>r.rotateStart.emit(m))),r.rotate.observers.length&&this.mapInstance.on("rotate",m=>this.zone.run(()=>r.rotate.emit(m))),r.rotateEnd.observers.length&&this.mapInstance.on("rotateend",m=>this.zone.run(()=>r.rotateEnd.emit(m))),r.pitchStart.observers.length&&this.mapInstance.on("pitchstart",m=>this.zone.run(()=>r.pitchStart.emit(m))),r.pitchEvt.observers.length&&this.mapInstance.on("pitch",m=>this.zone.run(()=>r.pitchEvt.emit(m))),r.pitchEnd.observers.length&&this.mapInstance.on("pitchend",m=>this.zone.run(()=>r.pitchEnd.emit(m))),r.boxZoomStart.observers.length&&this.mapInstance.on("boxzoomstart",m=>this.zone.run(()=>r.boxZoomStart.emit(m))),r.boxZoomEnd.observers.length&&this.mapInstance.on("boxzoomend",m=>this.zone.run(()=>r.boxZoomEnd.emit(m))),r.boxZoomCancel.observers.length&&this.mapInstance.on("boxzoomcancel",m=>this.zone.run(()=>r.boxZoomCancel.emit(m))),r.webGlContextLost.observers.length&&this.mapInstance.on("webglcontextlost",m=>this.zone.run(()=>r.webGlContextLost.emit(m))),r.webGlContextRestored.observers.length&&this.mapInstance.on("webglcontextrestored",m=>this.zone.run(()=>r.webGlContextRestored.emit(m))),r.render.observers.length&&this.mapInstance.on("render",m=>this.zone.run(()=>r.render.emit(m))),r.mapError.observers.length&&this.mapInstance.on("error",m=>this.zone.run(()=>{r.mapError.emit(m)})),r.data.observers.length&&this.mapInstance.on("data",m=>this.zone.run(()=>r.data.emit(m))),r.styleData.observers.length&&this.mapInstance.on("styledata",m=>this.zone.run(()=>r.styleData.emit(m))),r.sourceData.observers.length&&this.mapInstance.on("sourcedata",m=>this.zone.run(()=>r.sourceData.emit(m))),r.dataLoading.observers.length&&this.mapInstance.on("dataloading",m=>this.zone.run(()=>r.dataLoading.emit(m))),r.styleDataLoading.observers.length&&this.mapInstance.on("styledataloading",m=>this.zone.run(()=>r.styleDataLoading.emit(m))),r.sourceDataLoading.observers.length&&this.mapInstance.on("sourcedataloading",m=>this.zone.run(()=>r.sourceDataLoading.emit(m))),r.styleImageMissing.observers.length&&this.mapInstance.on("styleimagemissing",m=>this.zone.run(()=>r.styleImageMissing.emit(m))),r.idle.observers.length&&this.mapInstance.on("idle",m=>this.zone.run(()=>r.idle.emit(m)))}}return c.\u0275fac=function(r){return new(r||c)(l.LFG(l.R0b))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac}),c})();const Ec=["content"],Ml=["*"];class ys{constructor(p){this.container=p}onAdd(){return this.container}onRemove(){return this.container.parentNode.removeChild(this.container)}getDefaultPosition(){return"top-right"}}let Cr=(()=>{class c{constructor(r){this.mapService=r}ngAfterContentInit(){this.content.nativeElement.childNodes.length&&(this.control=new ys(this.content.nativeElement),this.mapService.mapCreated$.subscribe(()=>{this.mapService.addControl(this.control,this.position)}))}ngOnDestroy(){this.mapService.mapInstance.hasControl(this.control)&&this.mapService.removeControl(this.control)}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(hr))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-control"]],viewQuery:function(r,m){if(1&r&&l.Gf(Ec,7),2&r){let A;l.iGM(A=l.CRH())&&(m.content=A.first)}},inputs:{position:"position"},ngContentSelectors:Ml,decls:3,vars:0,consts:[[1,"maplibregl-ctrl"],["content",""]],template:function(r,m){1&r&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},encapsulation:2,changeDetection:0}),c})();var Xo=j(2438),po=j(2181),Ga=j(9397),vs=j(4664),Wr=j(9773),ka=j(8180),zl=j(3620);let Jr=(()=>{class c{constructor(r,m){this.mapService=r,this.zone=m,this.type="geojson",this.updateFeatureData=new ur.x,this.sub=new Zs.w0,this.sourceAdded=!1,this.featureIdCounter=0}ngOnInit(){this.data||(this.data={type:"FeatureCollection",features:[]});const r=this.mapService.mapLoaded$.subscribe(()=>{this.init();const m=(0,Xo.R)(this.mapService.mapInstance,"styledata").pipe((0,po.h)(()=>!this.mapService.mapInstance.getSource(this.id))).subscribe(()=>{this.init()});this.sub.add(m)});this.sub.add(r)}ngOnChanges(r){if(this.sourceAdded&&((r.maxzoom&&!r.maxzoom.isFirstChange()||r.attribution&&!r.attribution.isFirstChange()||r.buffer&&!r.buffer.isFirstChange()||r.tolerance&&!r.tolerance.isFirstChange()||r.cluster&&!r.cluster.isFirstChange()||r.clusterRadius&&!r.clusterRadius.isFirstChange()||r.clusterMaxZoom&&!r.clusterMaxZoom.isFirstChange()||r.clusterMinPoints&&!r.clusterMinPoints.isFirstChange()||r.clusterProperties&&!r.clusterProperties.isFirstChange()||r.lineMetrics&&!r.lineMetrics.isFirstChange()||r.generateId&&!r.generateId.isFirstChange()||r.promoteId&&!r.promoteId.isFirstChange()||r.filter&&!r.filter.isFirstChange())&&(this.ngOnDestroy(),this.ngOnInit()),r.data&&!r.data.isFirstChange())){const m=this.mapService.getSource(this.id);if(void 0===m)return;m.setData(this.data)}}ngOnDestroy(){this.sub.unsubscribe(),this.sourceAdded&&(this.mapService.removeSource(this.id),this.sourceAdded=!1)}getClusterExpansionZoom(r){var m=this;return Fr(function*(){const A=m.mapService.getSource(m.id);return m.zone.run(Fr(function*(){return new Promise((z,re)=>{A.getClusterExpansionZoom(r,(ve,Je)=>{ve?re(ve):z(Je)})})}))})()}getClusterChildren(r){var m=this;return Fr(function*(){const A=m.mapService.getSource(m.id);return m.zone.run(Fr(function*(){return new Promise((z,re)=>{A.getClusterChildren(r,(ve,Je)=>{ve?re(ve):z(Je)})})}))})()}getClusterLeaves(r,m,A){var z=this;return Fr(function*(){const re=z.mapService.getSource(z.id);return z.zone.run(Fr(function*(){return new Promise((ve,Je)=>{re.getClusterLeaves(r,m,A,(mt,Bt)=>{mt?Je(mt):ve(Bt)})})}))})()}_addFeature(r){this.data.features.push(r),this.updateFeatureData.next(void 0)}_removeFeature(r){const m=this.data,A=m.features.indexOf(r);A>-1&&m.features.splice(A,1),this.updateFeatureData.next(void 0)}_getNewFeatureId(){return++this.featureIdCounter}init(){this.mapService.addSource(this.id,{type:"geojson",data:this.data,maxzoom:this.maxzoom,attribution:this.attribution,buffer:this.buffer,tolerance:this.tolerance,cluster:this.cluster,clusterRadius:this.clusterRadius,clusterMaxZoom:this.clusterMaxZoom,clusterMinPoints:this.clusterMinPoints,clusterProperties:this.clusterProperties,lineMetrics:this.lineMetrics,generateId:this.generateId,promoteId:this.promoteId,filter:this.filter});const m=this.updateFeatureData.pipe((0,zl.b)(0)).subscribe(()=>{const A=this.mapService.getSource(this.id);void 0!==A&&A.setData(this.data)});this.sub.add(m),this.sourceAdded=!0}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(hr),l.Y36(l.R0b))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-geojson-source"]],inputs:{id:"id",data:"data",maxzoom:"maxzoom",attribution:"attribution",buffer:"buffer",tolerance:"tolerance",cluster:"cluster",clusterRadius:"clusterRadius",clusterMaxZoom:"clusterMaxZoom",clusterMinPoints:"clusterMinPoints",clusterProperties:"clusterProperties",lineMetrics:"lineMetrics",generateId:"generateId",promoteId:"promoteId",filter:"filter"},features:[l.TTD],decls:0,vars:0,template:function(r,m){},encapsulation:2,changeDetection:0}),c})(),No=(()=>{class c{constructor(r){this.geoJSONSourceComponent=r,this.type="Feature"}ngOnInit(){this.id||(this.id=this.geoJSONSourceComponent._getNewFeatureId()),this.feature={type:this.type,geometry:this.geometry,properties:this.properties?this.properties:{}},this.feature.id=this.id,this.geoJSONSourceComponent._addFeature(this.feature)}ngOnDestroy(){this.geoJSONSourceComponent._removeFeature(this.feature)}updateCoordinates(r){this.feature.geometry.coordinates=r,this.geoJSONSourceComponent.updateFeatureData.next(void 0)}}return c.\u0275fac=function(r){return new(r||c)(l.Y36((0,l.Gpc)(()=>Jr)))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-feature"]],inputs:{id:"id",geometry:"geometry",properties:"properties"},decls:0,vars:0,template:function(r,m){},encapsulation:2,changeDetection:0}),c})(),Za=(()=>{class c{constructor(r,m,A){this.mapService=r,this.ngZone=m,this.featureComponent=A,this.featureDragStart=new l.vpe,this.featureDragEnd=new l.vpe,this.featureDrag=new l.vpe,this.sub=new Zs.w0}ngOnInit(){let r,m,A;if(!this.featureComponent||!this.layer)throw new Error("mglDraggable can only be used on Feature (with a layer as input) or Marker");if(r=this.layer.layerMouseEnter,m=this.layer.layerMouseLeave,A=this.featureComponent.updateCoordinates.bind(this.featureComponent),"Point"!==this.featureComponent.geometry.type)throw new Error("mglDraggable only support point feature");this.handleDraggable(r,m,A)}ngOnDestroy(){this.sub.unsubscribe()}handleDraggable(r,m,A){let z=!1,re=!1;this.mapService.mapCreated$.subscribe(()=>{const ve=(0,Xo.R)(this.mapService.mapInstance,"mouseup"),Je=r.pipe((0,po.h)(()=>!z),(0,po.h)(Gt=>this.filterFeature(Gt)),(0,Ga.b)(()=>{re=!0,this.mapService.changeCanvasCursor("move"),this.mapService.updateDragPan(!1)}),(0,vs.w)(()=>(0,Xo.R)(this.mapService.mapInstance,"mousedown").pipe((0,Wr.R)(m)))),mt=Je.pipe((0,vs.w)(()=>(0,Xo.R)(this.mapService.mapInstance,"mousemove").pipe((0,Wr.R)(ve)))),Bt=Je.pipe((0,vs.w)(()=>ve.pipe((0,ka.q)(1))));this.sub.add(Je.subscribe(Gt=>{z=!0,this.featureDragStart.observers.length&&this.ngZone.run(()=>{this.featureDragStart.emit(Gt)})})),this.sub.add(mt.subscribe(Gt=>{A([Gt.lngLat.lng,Gt.lngLat.lat]),this.featureDrag.observers.length&&this.ngZone.run(()=>{this.featureDrag.emit(Gt)})})),this.sub.add(Bt.subscribe(Gt=>{z=!1,this.featureDragEnd.observers.length&&this.ngZone.run(()=>{this.featureDragEnd.emit(Gt)}),re||(this.mapService.changeCanvasCursor(""),this.mapService.updateDragPan(!0))})),this.sub.add(m.pipe((0,Ga.b)(()=>re=!1),(0,po.h)(()=>!z)).subscribe(()=>{this.mapService.changeCanvasCursor(""),this.mapService.updateDragPan(!0)}))})}filterFeature(r){return!(this.featureComponent&&this.layer&&!this.mapService.queryRenderedFeatures(r.point,{layers:[this.layer.id],filter:["all",["==","$type","Point"],["==","$id",this.featureComponent.id]]})[0])}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(hr),l.Y36(l.R0b),l.Y36(No,9))},c.\u0275dir=l.lG2({type:c,selectors:[["","mglDraggable",""]],inputs:{layer:["mglDraggable","layer"]},outputs:{featureDragStart:"featureDragStart",featureDragEnd:"featureDragEnd",featureDrag:"featureDrag"}}),c})();var _r=j(7398),ks=j(7921);let Qr=(()=>{class c{constructor(r){this.mapService=r,this.layerClick=new l.vpe,this.layerDblClick=new l.vpe,this.layerMouseDown=new l.vpe,this.layerMouseUp=new l.vpe,this.layerMouseEnter=new l.vpe,this.layerMouseLeave=new l.vpe,this.layerMouseMove=new l.vpe,this.layerMouseOver=new l.vpe,this.layerMouseOut=new l.vpe,this.layerContextMenu=new l.vpe,this.layerTouchStart=new l.vpe,this.layerTouchEnd=new l.vpe,this.layerTouchCancel=new l.vpe,this.layerAdded=!1}ngOnInit(){this.sub=this.mapService.mapLoaded$.pipe((0,vs.w)(()=>(0,Xo.R)(this.mapService.mapInstance,"styledata").pipe((0,_r.U)(()=>!1),(0,po.h)(()=>!this.mapService.mapInstance.getLayer(this.id)),(0,ks.O)(!0)))).subscribe(r=>this.init(r))}ngOnChanges(r){this.layerAdded&&(r.paint&&!r.paint.isFirstChange()&&this.mapService.setAllLayerPaintProperty(this.id,r.paint.currentValue),r.layout&&!r.layout.isFirstChange()&&this.mapService.setAllLayerLayoutProperty(this.id,r.layout.currentValue),r.filter&&!r.filter.isFirstChange()&&this.mapService.setLayerFilter(this.id,r.filter.currentValue),r.before&&!r.before.isFirstChange()&&this.mapService.setLayerBefore(this.id,r.before.currentValue),(r.minzoom&&!r.minzoom.isFirstChange()||r.maxzoom&&!r.maxzoom.isFirstChange())&&this.mapService.setLayerZoomRange(this.id,this.minzoom,this.maxzoom))}ngOnDestroy(){this.layerAdded&&(this.mapService.removeLayer(this.id),void 0!==this.sourceIdAdded&&this.mapService.getSource(this.sourceIdAdded)&&this.mapService.removeSource(this.sourceIdAdded)),this.sub&&this.sub.unsubscribe()}init(r){const m={layerOptions:{id:this.id,type:this.type,source:this.source,metadata:this.metadata,"source-layer":this.sourceLayer,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this.layout,paint:this.paint},layerEvents:{layerClick:this.layerClick,layerDblClick:this.layerDblClick,layerMouseDown:this.layerMouseDown,layerMouseUp:this.layerMouseUp,layerMouseEnter:this.layerMouseEnter,layerMouseLeave:this.layerMouseLeave,layerMouseMove:this.layerMouseMove,layerMouseOver:this.layerMouseOver,layerMouseOut:this.layerMouseOut,layerContextMenu:this.layerContextMenu,layerTouchStart:this.layerTouchStart,layerTouchEnd:this.layerTouchEnd,layerTouchCancel:this.layerTouchCancel}};this.removeSource&&"string"!=typeof this.source&&void 0===this.mapService.getSource(this.id)&&(this.sourceIdAdded=this.id),this.mapService.addLayer(m,r,this.before),void 0!==this.sourceIdAdded&&void 0===this.mapService.getSource(this.sourceIdAdded)&&(this.sourceIdAdded=void 0),this.layerAdded=!0}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(hr))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-layer"]],inputs:{id:"id",source:"source",type:"type",metadata:"metadata",sourceLayer:"sourceLayer",removeSource:"removeSource",filter:"filter",layout:"layout",paint:"paint",before:"before",minzoom:"minzoom",maxzoom:"maxzoom"},outputs:{layerClick:"layerClick",layerDblClick:"layerDblClick",layerMouseDown:"layerMouseDown",layerMouseUp:"layerMouseUp",layerMouseEnter:"layerMouseEnter",layerMouseLeave:"layerMouseLeave",layerMouseMove:"layerMouseMove",layerMouseOver:"layerMouseOver",layerMouseOut:"layerMouseOut",layerContextMenu:"layerContextMenu",layerTouchStart:"layerTouchStart",layerTouchEnd:"layerTouchEnd",layerTouchCancel:"layerTouchCancel"},features:[l.TTD],decls:0,vars:0,template:function(r,m){},encapsulation:2}),c})(),Dl=(()=>{class c{constructor(r,m){this.mapService=r,this.zone=m,this.imageError=new l.vpe,this.imageLoaded=new l.vpe,this.isAdded=!1,this.isAdding=!1}ngOnInit(){this.sub=this.mapService.mapLoaded$.pipe((0,vs.w)(()=>(0,Xo.R)(this.mapService.mapInstance,"styledata").pipe((0,ks.O)(void 0),(0,po.h)(()=>!this.isAdding&&!this.mapService.mapInstance.hasImage(this.id))))).subscribe(()=>this.init())}ngOnChanges(r){(r.data&&!r.data.isFirstChange()||r.options&&!r.options.isFirstChange()||r.url&&!r.url.isFirstChange())&&(this.ngOnDestroy(),this.ngOnInit())}ngOnDestroy(){this.isAdded&&this.mapService.removeImage(this.id),this.sub&&this.sub.unsubscribe()}init(){var r=this;return Fr(function*(){if(r.isAdding=!0,r.data)r.mapService.addImage(r.id,r.data,r.options),r.isAdded=!0,r.isAdding=!1;else if(r.url)try{yield r.mapService.loadAndAddImage(r.id,r.url,r.options),r.isAdded=!0,r.isAdding=!1,r.zone.run(()=>{r.imageLoaded.emit()})}catch(m){r.zone.run(()=>{r.imageError.emit(m)})}})()}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(hr),l.Y36(l.R0b))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-image"]],inputs:{id:"id",data:"data",options:"options",url:"url"},outputs:{imageError:"imageError",imageLoaded:"imageLoaded"},features:[l.TTD],decls:0,vars:0,template:function(r,m){},encapsulation:2}),c})(),Mc=(()=>{class c{constructor(r){this.mapService=r,this.type="vector",this.sourceAdded=!1,this.sub=new Zs.w0}ngOnInit(){const r=this.mapService.mapLoaded$.subscribe(()=>{this.init();const m=(0,Xo.R)(this.mapService.mapInstance,"styledata").pipe((0,po.h)(()=>!this.mapService.mapInstance.getSource(this.id))).subscribe(()=>{this.init()});this.sub.add(m)});this.sub.add(r)}ngOnChanges(r){if(this.sourceAdded)if(r.bounds&&!r.bounds.isFirstChange()||r.scheme&&!r.scheme.isFirstChange()||r.minzoom&&!r.minzoom.isFirstChange()||r.maxzoom&&!r.maxzoom.isFirstChange()||r.attribution&&!r.attribution.isFirstChange()||r.promoteId&&!r.promoteId.isFirstChange())this.ngOnDestroy(),this.ngOnInit();else if(r.url&&!r.url.isFirstChange()||r.tiles&&!r.tiles.isFirstChange()){const m=this.mapService.getSource(this.id);if(void 0===m)return;r.url&&this.url&&m.setUrl(this.url),r.tiles&&this.tiles&&m.setTiles(this.tiles)}}ngOnDestroy(){this.sub.unsubscribe(),this.sourceAdded&&(this.mapService.removeSource(this.id),this.sourceAdded=!1)}init(){this.mapService.addSource(this.id,{type:this.type,url:this.url,tiles:this.tiles,bounds:this.bounds,scheme:this.scheme,minzoom:this.minzoom,maxzoom:this.maxzoom,attribution:this.attribution,promoteId:this.promoteId}),this.sourceAdded=!0}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(hr))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-vector-source"]],inputs:{id:"id",url:"url",tiles:"tiles",bounds:"bounds",scheme:"scheme",minzoom:"minzoom",maxzoom:"maxzoom",attribution:"attribution",promoteId:"promoteId"},features:[l.TTD],decls:0,vars:0,template:function(r,m){},encapsulation:2,changeDetection:0}),c})(),na=(()=>{class c{constructor(r){this.mapService=r,this.type="image"}ngOnInit(){this.sub=this.mapService.mapLoaded$.subscribe(()=>this.init())}ngOnChanges(r){if(void 0===this.sourceId)return;const m=this.mapService.getSource(this.sourceId);void 0!==m&&m.updateImage({url:void 0===r.url?void 0:this.url,coordinates:void 0===r.coordinates?void 0:this.coordinates})}ngOnDestroy(){void 0!==this.sub&&this.sub.unsubscribe(),void 0!==this.sourceId&&(this.mapService.removeSource(this.sourceId),this.sourceId=void 0)}init(){this.mapService.addSource(this.id,{type:"image",url:this.url,coordinates:this.coordinates}),this.sourceId=this.id}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(hr))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-image-source"]],inputs:{id:"id",url:"url",coordinates:"coordinates"},features:[l.TTD],decls:0,vars:0,template:function(r,m){},encapsulation:2,changeDetection:0}),c})(),Ci=(()=>{class c{constructor(r){this.mapService=r,this.type="raster-dem",this.sourceAdded=!1,this.sub=new Zs.w0}ngOnInit(){const r=this.mapService.mapLoaded$.subscribe(()=>{this.init();const m=(0,Xo.R)(this.mapService.mapInstance,"styledata").pipe((0,po.h)(()=>!this.mapService.mapInstance.getSource(this.id))).subscribe(()=>{this.init()});this.sub.add(m)});this.sub.add(r)}ngOnChanges(r){this.sourceAdded&&(r.url&&!r.url.isFirstChange()||r.tiles&&!r.tiles.isFirstChange()||r.bounds&&!r.bounds.isFirstChange()||r.minzoom&&!r.minzoom.isFirstChange()||r.maxzoom&&!r.maxzoom.isFirstChange()||r.tileSize&&!r.tileSize.isFirstChange()||r.attribution&&!r.attribution.isFirstChange()||r.encoding&&!r.encoding.isFirstChange())&&(this.ngOnDestroy(),this.ngOnInit())}ngOnDestroy(){this.sub.unsubscribe(),this.sourceAdded&&(this.mapService.removeSource(this.id),this.sourceAdded=!1)}init(){this.mapService.addSource(this.id,{type:this.type,url:this.url,tiles:this.tiles,bounds:this.bounds,minzoom:this.minzoom,maxzoom:this.maxzoom,tileSize:this.tileSize,attribution:this.attribution,encoding:this.encoding}),this.sourceAdded=!0}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(hr))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-raster-dem-source"]],inputs:{id:"id",url:"url",tiles:"tiles",bounds:"bounds",minzoom:"minzoom",maxzoom:"maxzoom",tileSize:"tileSize",attribution:"attribution",encoding:"encoding"},features:[l.TTD],decls:0,vars:0,template:function(r,m){},encapsulation:2,changeDetection:0}),c})();const Wa=["content"],qn=["*"];let zo=(()=>{class c{constructor(r){this.mapService=r,this.markerDragStart=new l.vpe,this.markerDragEnd=new l.vpe,this.markerDrag=new l.vpe}ngOnInit(){if(this.feature&&this.lngLat)throw new Error("feature and lngLat input are mutually exclusive")}ngOnChanges(r){r.lngLat&&!r.lngLat.isFirstChange()&&this.markerInstance.setLngLat(this.lngLat),r.feature&&!r.feature.isFirstChange()&&this.markerInstance.setLngLat(this.feature.geometry.coordinates),r.draggable&&!r.draggable.isFirstChange()&&this.markerInstance.setDraggable(!!this.draggable),r.popupShown&&!r.popupShown.isFirstChange()&&(r.popupShown.currentValue?this.markerInstance.getPopup().addTo(this.mapService.mapInstance):this.markerInstance.getPopup().remove()),r.pitchAlignment&&!r.pitchAlignment.isFirstChange()&&this.markerInstance.setPitchAlignment(r.pitchAlignment.currentValue),r.rotationAlignment&&!r.rotationAlignment.isFirstChange()&&this.markerInstance.setRotationAlignment(r.rotationAlignment.currentValue)}ngAfterViewInit(){this.mapService.mapCreated$.subscribe(()=>{this.markerInstance=this.mapService.addMarker({markersOptions:{offset:this.offset,anchor:this.anchor,pitchAlignment:this.pitchAlignment,rotationAlignment:this.rotationAlignment,draggable:!!this.draggable,element:this.content.nativeElement,feature:this.feature,lngLat:this.lngLat,clickTolerance:this.clickTolerance},markersEvents:{markerDragStart:this.markerDragStart,markerDrag:this.markerDrag,markerDragEnd:this.markerDragEnd}})})}ngOnDestroy(){this.mapService.removeMarker(this.markerInstance),this.markerInstance=void 0}togglePopup(){this.markerInstance.togglePopup()}updateCoordinates(r){this.markerInstance.setLngLat(r)}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(hr))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-marker"]],viewQuery:function(r,m){if(1&r&&l.Gf(Wa,7),2&r){let A;l.iGM(A=l.CRH())&&(m.content=A.first)}},inputs:{offset:"offset",anchor:"anchor",clickTolerance:"clickTolerance",feature:"feature",lngLat:"lngLat",draggable:"draggable",popupShown:"popupShown",className:"className",pitchAlignment:"pitchAlignment",rotationAlignment:"rotationAlignment"},outputs:{markerDragStart:"markerDragStart",markerDragEnd:"markerDragEnd",markerDrag:"markerDrag"},features:[l.TTD],ngContentSelectors:qn,decls:3,vars:2,consts:[["content",""]],template:function(r,m){1&r&&(l.F$t(),l.TgZ(0,"div",null,0),l.Hsn(2),l.qZA()),2&r&&l.Tol(m.className)},encapsulation:2,changeDetection:0}),c})();const N=["content"],Q=["*"];let $=(()=>{class c{constructor(r){this.mapService=r,this.popupClose=new l.vpe,this.popupOpen=new l.vpe}ngOnInit(){if(this.lngLat&&this.marker||this.feature&&this.lngLat||this.feature&&this.marker)throw new Error("marker, lngLat, feature input are mutually exclusive")}ngOnChanges(r){if(r.feature&&!r.feature.isFirstChange()){const m=r.lngLat?this.lngLat:this.feature.geometry.coordinates;this.mapService.removePopupFromMap(this.popupInstance,!0);const A=this.createPopup();this.mapService.addPopupToMap(A,m,this.popupInstance.isOpen()),this.popupInstance=A}if(r.lngLat&&!r.lngLat.isFirstChange()&&this.popupInstance.setLngLat(this.lngLat),r.marker&&!r.marker.isFirstChange()){const m=r.marker.previousValue;m.markerInstance&&this.mapService.removePopupFromMarker(m.markerInstance),this.marker&&this.marker.markerInstance&&this.popupInstance&&this.mapService.addPopupToMarker(this.marker.markerInstance,this.popupInstance)}r.offset&&!r.offset.isFirstChange()&&this.popupInstance&&this.popupInstance.setOffset(this.offset)}ngAfterViewInit(){this.popupInstance=this.createPopup(),this.addPopup(this.popupInstance)}ngOnDestroy(){this.popupInstance&&(this.lngLat||this.feature?this.mapService.removePopupFromMap(this.popupInstance):this.marker&&this.marker.markerInstance&&this.mapService.removePopupFromMarker(this.marker.markerInstance)),this.popupInstance=void 0}createPopup(){return this.mapService.createPopup({popupOptions:{closeButton:this.closeButton,closeOnClick:this.closeOnClick,closeOnMove:this.closeOnMove,focusAfterOpen:this.focusAfterOpen,anchor:this.anchor,offset:this.offset,className:this.className,maxWidth:this.maxWidth},popupEvents:{popupOpen:this.popupOpen,popupClose:this.popupClose}},this.content.nativeElement)}addPopup(r){this.mapService.mapCreated$.subscribe(()=>{if(this.lngLat||this.feature)this.mapService.addPopupToMap(r,this.lngLat?this.lngLat:this.feature.geometry.coordinates);else{if(!this.marker||!this.marker.markerInstance)throw new Error("mgl-popup need either lngLat/marker/feature to be set");this.mapService.addPopupToMarker(this.marker.markerInstance,r)}})}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(hr))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-popup"]],viewQuery:function(r,m){if(1&r&&l.Gf(N,7),2&r){let A;l.iGM(A=l.CRH())&&(m.content=A.first)}},inputs:{closeButton:"closeButton",closeOnClick:"closeOnClick",closeOnMove:"closeOnMove",focusAfterOpen:"focusAfterOpen",anchor:"anchor",className:"className",maxWidth:"maxWidth",feature:"feature",lngLat:"lngLat",marker:"marker",offset:"offset"},outputs:{popupClose:"popupClose",popupOpen:"popupOpen"},features:[l.TTD],ngContentSelectors:Q,decls:3,vars:0,consts:[["content",""]],template:function(r,m){1&r&&(l.F$t(),l.TgZ(0,"div",null,0),l.Hsn(2),l.qZA())},encapsulation:2,changeDetection:0}),c})(),me=(()=>{class c{onFullscreen(){this.mapService.mapInstance.resize()}constructor(r,m){this.mapService=r,this.controlComponent=m}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");this.controlComponent.control=new Sn.FullscreenControl({container:this.container}),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(hr),l.Y36(Cr,1))},c.\u0275dir=l.lG2({type:c,selectors:[["","mglFullscreen",""]],hostBindings:function(r,m){1&r&&l.NdJ("webkitfullscreenchange",function(z){return m.onFullscreen(z.target)},!1,l.Jf7)},inputs:{container:"container"}}),c})(),qe=(()=>{class c{constructor(r,m){this.mapService=r,this.controlComponent=m,this.geolocate=new l.vpe}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");const r={positionOptions:this.positionOptions,fitBoundsOptions:this.fitBoundsOptions,trackUserLocation:this.trackUserLocation,showUserLocation:this.showUserLocation};Object.keys(r).forEach(m=>{void 0===r[m]&&delete r[m]}),this.controlComponent.control=new Sn.GeolocateControl(r),this.controlComponent.control.on("geolocate",m=>{this.geolocate.emit(m)}),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(hr),l.Y36(Cr,1))},c.\u0275dir=l.lG2({type:c,selectors:[["","mglGeolocate",""]],inputs:{positionOptions:"positionOptions",fitBoundsOptions:"fitBoundsOptions",trackUserLocation:"trackUserLocation",showUserLocation:"showUserLocation"},outputs:{geolocate:"geolocate"}}),c})(),Pt=(()=>{class c{constructor(r,m){this.mapService=r,this.controlComponent=m}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");const r={};void 0!==this.showCompass&&(r.showCompass=this.showCompass),void 0!==this.showZoom&&(r.showZoom=this.showZoom),null!=this.visualizePitch&&(r.visualizePitch=this.visualizePitch),this.controlComponent.control=new Sn.NavigationControl(r),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(hr),l.Y36(Cr,1))},c.\u0275dir=l.lG2({type:c,selectors:[["","mglNavigation",""]],inputs:{showCompass:"showCompass",showZoom:"showZoom",visualizePitch:"visualizePitch"}}),c})(),$t=(()=>{class c{constructor(r,m){this.mapService=r,this.controlComponent=m}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");const r={};void 0!==this.compact&&(r.compact=this.compact),void 0!==this.customAttribution&&(r.customAttribution=this.customAttribution),this.controlComponent.control=new Sn.AttributionControl(r),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(hr),l.Y36(Cr,1))},c.\u0275dir=l.lG2({type:c,selectors:[["","mglAttribution",""]],inputs:{compact:"compact",customAttribution:"customAttribution"}}),c})(),Ui=(()=>{class c{constructor(r,m){this.mapService=r,this.controlComponent=m}ngOnChanges(r){r.unit&&!r.unit.isFirstChange()&&this.controlComponent.control.setUnit(r.unit.currentValue)}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");const r={};void 0!==this.maxWidth&&(r.maxWidth=this.maxWidth),void 0!==this.unit&&(r.unit=this.unit),this.controlComponent.control=new Sn.ScaleControl(r),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(hr),l.Y36(Cr,1))},c.\u0275dir=l.lG2({type:c,selectors:[["","mglScale",""]],inputs:{maxWidth:"maxWidth",unit:"unit"},features:[l.TTD]}),c})();var nr=j(3019);function jn(c,p){1&c&&l.GkF(0)}const Rn=function(c){return{$implicit:c}};function Tn(c,p){if(1&c&&(l.ynx(0),l.TgZ(1,"mgl-marker",3),l.YNc(2,jn,1,0,"ng-container",4),l.qZA(),l.BQk()),2&c){const r=l.oxw().$implicit,m=l.oxw();l.xp6(1),l.Q6J("feature",r),l.xp6(1),l.Q6J("ngTemplateOutlet",m.clusterPointTpl)("ngTemplateOutletContext",l.VKq(3,Rn,r))}}function yr(c,p){1&c&&l.GkF(0)}function tn(c,p){if(1&c&&(l.ynx(0),l.TgZ(1,"mgl-marker",3),l.YNc(2,yr,1,0,"ng-container",4),l.qZA(),l.BQk()),2&c){const r=l.oxw().$implicit,m=l.oxw();l.xp6(1),l.Q6J("feature",r),l.xp6(1),l.Q6J("ngTemplateOutlet",m.pointTpl)("ngTemplateOutletContext",l.VKq(3,Rn,r))}}function mr(c,p){if(1&c&&(l.ynx(0),l.YNc(1,Tn,3,5,"ng-container",2),l.YNc(2,tn,3,5,"ng-container",2),l.BQk()),2&c){const r=p.$implicit;l.xp6(1),l.Q6J("ngIf",r.properties.cluster),l.xp6(1),l.Q6J("ngIf",!r.properties.cluster)}}const ra=function(){return{"circle-radius":0}};let Yi=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275dir=l.lG2({type:c,selectors:[["ng-template","mglPoint",""]]}),c})(),bs=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275dir=l.lG2({type:c,selectors:[["ng-template","mglClusterPoint",""]]}),c})(),xs=0,jr=(()=>{class c{constructor(r,m,A){this.mapService=r,this.changeDetectorRef=m,this.ngZone=A,this.layerId="mgl-markers-for-clusters-"+xs++,this.sub=new Zs.w0}ngAfterContentInit(){const m=this.mapService.mapCreated$.pipe((0,vs.w)(()=>(0,Xo.R)(this.mapService.mapInstance,"data").pipe((0,po.h)(A=>A.sourceId===this.source&&"metadata"!==A.sourceDataType&&this.mapService.mapInstance.isSourceLoaded(this.source)))),(0,vs.w)(()=>(0,nr.T)((0,Xo.R)(this.mapService.mapInstance,"move"),(0,Xo.R)(this.mapService.mapInstance,"moveend")).pipe((0,ks.O)(void 0)))).subscribe(()=>{this.ngZone.run(()=>{this.updateCluster()})});this.sub.add(m)}ngOnDestroy(){this.sub.unsubscribe()}trackByClusterPoint(r,m){return m.id}updateCluster(){const r={layers:[this.layerId]};this.pointTpl||(r.filter=["==","cluster",!0]),this.clusterPoints=this.mapService.mapInstance.queryRenderedFeatures(r),this.changeDetectorRef.markForCheck()}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(hr),l.Y36(l.sBO),l.Y36(l.R0b))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-markers-for-clusters"]],contentQueries:function(r,m,A){if(1&r&&(l.Suo(A,Yi,5,l.Rgc),l.Suo(A,bs,5,l.Rgc)),2&r){let z;l.iGM(z=l.CRH())&&(m.pointTpl=z.first),l.iGM(z=l.CRH())&&(m.clusterPointTpl=z.first)}},inputs:{source:"source"},decls:2,vars:6,consts:[["type","circle",3,"id","source","paint"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[3,"feature"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,m){1&r&&(l._UZ(0,"mgl-layer",0),l.YNc(1,mr,3,2,"ng-container",1)),2&r&&(l.Q6J("id",m.layerId)("source",m.source)("paint",l.DdM(5,ra)),l.xp6(1),l.Q6J("ngForOf",m.clusterPoints)("ngForTrackBy",m.trackByClusterPoint))},dependencies:[Oi.sg,Oi.O5,Oi.tP,Qr,zo],encapsulation:2,changeDetection:0}),c})(),fo=(()=>{class c{constructor(r,m){this.mapService=r,this.controlComponent=m}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");this.controlComponent.control=new Sn.TerrainControl({source:this.source,exaggeration:this.exaggeration??1}),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(hr),l.Y36(Cr,1))},c.\u0275dir=l.lG2({type:c,selectors:[["","mglTerrain",""]],inputs:{source:"source",exaggeration:"exaggeration"}}),c})();const Xn=["container"];let un=(()=>{class c{get mapInstance(){return this.mapService.mapInstance}constructor(r){this.mapService=r,this.movingMethod="flyTo",this.mapResize=new l.vpe,this.mapRemove=new l.vpe,this.mapMouseDown=new l.vpe,this.mapMouseUp=new l.vpe,this.mapMouseMove=new l.vpe,this.mapClick=new l.vpe,this.mapDblClick=new l.vpe,this.mapMouseOver=new l.vpe,this.mapMouseOut=new l.vpe,this.mapContextMenu=new l.vpe,this.mapTouchStart=new l.vpe,this.mapTouchEnd=new l.vpe,this.mapTouchMove=new l.vpe,this.mapTouchCancel=new l.vpe,this.mapWheel=new l.vpe,this.moveStart=new l.vpe,this.move=new l.vpe,this.moveEnd=new l.vpe,this.mapDragStart=new l.vpe,this.mapDrag=new l.vpe,this.mapDragEnd=new l.vpe,this.zoomStart=new l.vpe,this.zoomEvt=new l.vpe,this.zoomEnd=new l.vpe,this.rotateStart=new l.vpe,this.rotate=new l.vpe,this.rotateEnd=new l.vpe,this.pitchStart=new l.vpe,this.pitchEvt=new l.vpe,this.pitchEnd=new l.vpe,this.boxZoomStart=new l.vpe,this.boxZoomEnd=new l.vpe,this.boxZoomCancel=new l.vpe,this.webGlContextLost=new l.vpe,this.webGlContextRestored=new l.vpe,this.mapLoad=new l.vpe,this.idle=new l.vpe,this.render=new l.vpe,this.mapError=new l.vpe,this.data=new l.vpe,this.styleData=new l.vpe,this.sourceData=new l.vpe,this.dataLoading=new l.vpe,this.styleDataLoading=new l.vpe,this.sourceDataLoading=new l.vpe,this.styleImageMissing=new l.vpe}ngAfterViewInit(){this.mapService.setup({mapOptions:{collectResourceTiming:this.collectResourceTiming,container:this.mapContainer.nativeElement,crossSourceCollisions:this.crossSourceCollisions,fadeDuration:this.fadeDuration,minZoom:this.minZoom,maxZoom:this.maxZoom,minPitch:this.minPitch,maxPitch:this.maxPitch,style:this.style,hash:this.hash,interactive:this.interactive,bearingSnap:this.bearingSnap,pitchWithRotate:this.pitchWithRotate,clickTolerance:this.clickTolerance,attributionControl:this.attributionControl,logoPosition:this.logoPosition,failIfMajorPerformanceCaveat:this.failIfMajorPerformanceCaveat,preserveDrawingBuffer:this.preserveDrawingBuffer,refreshExpiredTiles:this.refreshExpiredTiles,maxBounds:this.maxBounds,scrollZoom:this.scrollZoom,boxZoom:this.boxZoom,dragRotate:this.dragRotate,dragPan:this.dragPan,keyboard:this.keyboard,doubleClickZoom:this.doubleClickZoom,touchPitch:this.touchPitch,touchZoomRotate:this.touchZoomRotate,trackResize:this.trackResize,center:this.center,zoom:this.zoom,bearing:this.bearing,pitch:this.pitch,renderWorldCopies:this.renderWorldCopies,maxTileCacheSize:this.maxTileCacheSize,localIdeographFontFamily:this.localIdeographFontFamily,transformRequest:this.transformRequest,bounds:this.bounds?this.bounds:this.fitBounds,fitBoundsOptions:this.fitBoundsOptions,antialias:this.antialias,locale:this.locale,cooperativeGestures:this.cooperativeGestures,terrain:this.terrain},mapEvents:this}),this.cursorStyle&&this.mapService.changeCanvasCursor(this.cursorStyle)}ngOnDestroy(){this.mapService.destroyMap()}ngOnChanges(r){var m=this;return Fr(function*(){yield m.mapService.mapCreated$.toPromise(),r.cursorStyle&&!r.cursorStyle.isFirstChange()&&m.mapService.changeCanvasCursor(r.cursorStyle.currentValue),r.minZoom&&!r.minZoom.isFirstChange()&&m.mapService.updateMinZoom(r.minZoom.currentValue),r.maxZoom&&!r.maxZoom.isFirstChange()&&m.mapService.updateMaxZoom(r.maxZoom.currentValue),r.minPitch&&!r.minPitch.isFirstChange()&&m.mapService.updateMinPitch(r.minPitch.currentValue),r.maxPitch&&!r.maxPitch.isFirstChange()&&m.mapService.updateMaxPitch(r.maxPitch.currentValue),r.renderWorldCopies&&!r.renderWorldCopies.isFirstChange()&&m.mapService.updateRenderWorldCopies(r.renderWorldCopies.currentValue),r.scrollZoom&&!r.scrollZoom.isFirstChange()&&m.mapService.updateScrollZoom(r.scrollZoom.currentValue),r.dragRotate&&!r.dragRotate.isFirstChange()&&m.mapService.updateDragRotate(r.dragRotate.currentValue),r.touchPitch&&!r.touchPitch.isFirstChange()&&m.mapService.updateTouchPitch(r.touchPitch.currentValue),r.touchZoomRotate&&!r.touchZoomRotate.isFirstChange()&&m.mapService.updateTouchZoomRotate(r.touchZoomRotate.currentValue),r.doubleClickZoom&&!r.doubleClickZoom.isFirstChange()&&m.mapService.updateDoubleClickZoom(r.doubleClickZoom.currentValue),r.keyboard&&!r.keyboard.isFirstChange()&&m.mapService.updateKeyboard(r.keyboard.currentValue),r.dragPan&&!r.dragPan.isFirstChange()&&m.mapService.updateDragPan(r.dragPan.currentValue),r.boxZoom&&!r.boxZoom.isFirstChange()&&m.mapService.updateBoxZoom(r.boxZoom.currentValue),r.style&&!r.style.isFirstChange()&&m.mapService.updateStyle(r.style.currentValue),r.maxBounds&&!r.maxBounds.isFirstChange()&&m.mapService.updateMaxBounds(r.maxBounds.currentValue),r.fitBounds&&r.fitBounds.currentValue&&!r.fitBounds.isFirstChange()&&m.mapService.fitBounds(r.fitBounds.currentValue,m.fitBoundsOptions),r.fitScreenCoordinates&&r.fitScreenCoordinates.currentValue&&((m.center||m.zoom||m.pitch||m.fitBounds)&&r.fitScreenCoordinates.isFirstChange()&&console.warn("[ngx-maplibre-gl] center / zoom / pitch / fitBounds inputs are being overridden by fitScreenCoordinates input"),m.mapService.fitScreenCoordinates(r.fitScreenCoordinates.currentValue,m.bearing?m.bearing[0]:0,m.movingOptions)),!m.centerWithPanTo||!r.center||r.center.isFirstChange()||r.zoom||r.bearing||r.pitch?(r.center&&!r.center.isFirstChange()||r.zoom&&!r.zoom.isFirstChange()||r.bearing&&!r.bearing.isFirstChange()&&!r.fitScreenCoordinates||r.pitch&&!r.pitch.isFirstChange())&&m.mapService.move(m.movingMethod,m.movingOptions,r.zoom&&m.zoom?m.zoom[0]:void 0,r.center?m.center:void 0,r.bearing&&m.bearing?m.bearing[0]:void 0,r.pitch&&m.pitch?m.pitch[0]:void 0):m.mapService.panTo(m.center,m.panToOptions),r.terrain&&!r.terrain.isFirstChange()&&m.mapService.updateTerrain(r.terrain.currentValue)})()}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(hr))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-map"]],viewQuery:function(r,m){if(1&r&&l.Gf(Xn,7),2&r){let A;l.iGM(A=l.CRH())&&(m.mapContainer=A.first)}},inputs:{collectResourceTiming:"collectResourceTiming",crossSourceCollisions:"crossSourceCollisions",customMapboxApiUrl:"customMapboxApiUrl",fadeDuration:"fadeDuration",hash:"hash",refreshExpiredTiles:"refreshExpiredTiles",failIfMajorPerformanceCaveat:"failIfMajorPerformanceCaveat",bearingSnap:"bearingSnap",interactive:"interactive",pitchWithRotate:"pitchWithRotate",clickTolerance:"clickTolerance",attributionControl:"attributionControl",logoPosition:"logoPosition",maxTileCacheSize:"maxTileCacheSize",localIdeographFontFamily:"localIdeographFontFamily",preserveDrawingBuffer:"preserveDrawingBuffer",trackResize:"trackResize",transformRequest:"transformRequest",bounds:"bounds",antialias:"antialias",locale:"locale",cooperativeGestures:"cooperativeGestures",minZoom:"minZoom",maxZoom:"maxZoom",minPitch:"minPitch",maxPitch:"maxPitch",scrollZoom:"scrollZoom",dragRotate:"dragRotate",touchPitch:"touchPitch",touchZoomRotate:"touchZoomRotate",doubleClickZoom:"doubleClickZoom",keyboard:"keyboard",dragPan:"dragPan",boxZoom:"boxZoom",style:"style",center:"center",maxBounds:"maxBounds",zoom:"zoom",bearing:"bearing",pitch:"pitch",fitBoundsOptions:"fitBoundsOptions",renderWorldCopies:"renderWorldCopies",movingMethod:"movingMethod",movingOptions:"movingOptions",terrain:"terrain",fitBounds:"fitBounds",fitScreenCoordinates:"fitScreenCoordinates",centerWithPanTo:"centerWithPanTo",panToOptions:"panToOptions",cursorStyle:"cursorStyle"},outputs:{mapResize:"mapResize",mapRemove:"mapRemove",mapMouseDown:"mapMouseDown",mapMouseUp:"mapMouseUp",mapMouseMove:"mapMouseMove",mapClick:"mapClick",mapDblClick:"mapDblClick",mapMouseOver:"mapMouseOver",mapMouseOut:"mapMouseOut",mapContextMenu:"mapContextMenu",mapTouchStart:"mapTouchStart",mapTouchEnd:"mapTouchEnd",mapTouchMove:"mapTouchMove",mapTouchCancel:"mapTouchCancel",mapWheel:"mapWheel",moveStart:"moveStart",move:"move",moveEnd:"moveEnd",mapDragStart:"mapDragStart",mapDrag:"mapDrag",mapDragEnd:"mapDragEnd",zoomStart:"zoomStart",zoomEvt:"zoomEvt",zoomEnd:"zoomEnd",rotateStart:"rotateStart",rotate:"rotate",rotateEnd:"rotateEnd",pitchStart:"pitchStart",pitchEvt:"pitchEvt",pitchEnd:"pitchEnd",boxZoomStart:"boxZoomStart",boxZoomEnd:"boxZoomEnd",boxZoomCancel:"boxZoomCancel",webGlContextLost:"webGlContextLost",webGlContextRestored:"webGlContextRestored",mapLoad:"mapLoad",idle:"idle",render:"render",mapError:"mapError",data:"data",styleData:"styleData",sourceData:"sourceData",dataLoading:"dataLoading",styleDataLoading:"styleDataLoading",sourceDataLoading:"sourceDataLoading",styleImageMissing:"styleImageMissing"},features:[l._Bn([hr]),l.TTD],decls:2,vars:0,consts:[["container",""]],template:function(r,m){1&r&&l._UZ(0,"div",null,0)},styles:["[_nghost-%COMP%]{display:block}div[_ngcontent-%COMP%]{height:100%;width:100%}"],changeDetection:0}),c})();var Pa=j(877);const Vl="object"==typeof global&&global&&global.Object===Object&&global;var $d="object"==typeof self&&self&&self.Object===Object&&self;const eo=Vl||$d||Function("return this")(),ui=eo.Symbol;var Ki=Object.prototype,ws=Ki.hasOwnProperty,yo=Ki.toString,al=ui?ui.toStringTag:void 0;var sc=Object.prototype.toString;var Jo=ui?ui.toStringTag:void 0;const Ws=function Ul(c){return null==c?void 0===c?"[object Undefined]":"[object Null]":Jo&&Jo in Object(c)?function Bo(c){var p=ws.call(c,al),r=c[al];try{c[al]=void 0;var m=!0}catch{}var A=yo.call(c);return m&&(p?c[al]=r:delete c[al]),A}(c):function oa(c){return sc.call(c)}(c)},qa=function Vo(c){var p=typeof c;return null!=c&&("object"==p||"function"==p)},Oa=function Ka(c){if(!qa(c))return!1;var p=Ws(c);return"[object Function]"==p||"[object GeneratorFunction]"==p||"[object AsyncFunction]"==p||"[object Proxy]"==p};var c,Hl=eo["__core-js_shared__"],Ra=(c=/[^.]+$/.exec(Hl&&Hl.keys&&Hl.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"";var $l=Function.prototype.toString;const x=function lc(c){if(null!=c){try{return $l.call(c)}catch{}try{return c+""}catch{}}return""};var d=/^\[object .+?Constructor\]$/,y=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const I=function E(c){return!(!qa(c)||function Al(c){return!!Ra&&Ra in c}(c))&&(Oa(c)?y:d).test(x(c))},ce=function W(c,p){var r=function O(c,p){return c?.[p]}(c,p);return I(r)?r:void 0};var ye=function(){try{var c=ce(Object,"defineProperty");return c({},"",{}),c}catch{}}();const we=ye,rt=function Fe(c,p,r){"__proto__"==p&&we?we(c,p,{configurable:!0,enumerable:!0,value:r,writable:!0}):c[p]=r},He=function Mt(c,p,r,m){for(var A=-1,z=null==c?0:c.length;++A<z;){var re=c[A];p(m,re,r(re),c)}return m};var Wt=function Ct(c){return function(p,r,m){for(var A=-1,z=Object(p),re=m(p),ve=re.length;ve--;){var Je=re[c?ve:++A];if(!1===r(z[Je],Je,z))break}return p}}();const oi=Wt,Gi=function Ii(c){return null!=c&&"object"==typeof c},sn=function bi(c){return Gi(c)&&"[object Arguments]"==Ws(c)};var Ri=Object.prototype,Qn=Ri.hasOwnProperty,qr=Ri.propertyIsEnumerable,rr=sn(function(){return arguments}())?sn:function(c){return Gi(c)&&Qn.call(c,"callee")&&!qr.call(c,"callee")};const pn=rr,Dr=Array.isArray;var Os="object"==typeof exports&&exports&&!exports.nodeType&&exports,_a=Os&&"object"==typeof module&&module&&!module.nodeType&&module,Cs=_a&&_a.exports===Os?eo.Buffer:void 0;const Ao=(Cs?Cs.isBuffer:void 0)||function To(){return!1};var er=/^(?:0|[1-9]\d*)$/;const Po=function jo(c,p){var r=typeof c;return!!(p=p??9007199254740991)&&("number"==r||"symbol"!=r&&er.test(c))&&c>-1&&c%1==0&&c<p},Es=function Oo(c){return"number"==typeof c&&c>-1&&c%1==0&&c<=9007199254740991};var Hr={};Hr["[object Float32Array]"]=Hr["[object Float64Array]"]=Hr["[object Int8Array]"]=Hr["[object Int16Array]"]=Hr["[object Int32Array]"]=Hr["[object Uint8Array]"]=Hr["[object Uint8ClampedArray]"]=Hr["[object Uint16Array]"]=Hr["[object Uint32Array]"]=!0,Hr["[object Arguments]"]=Hr["[object Array]"]=Hr["[object ArrayBuffer]"]=Hr["[object Boolean]"]=Hr["[object DataView]"]=Hr["[object Date]"]=Hr["[object Error]"]=Hr["[object Function]"]=Hr["[object Map]"]=Hr["[object Number]"]=Hr["[object Object]"]=Hr["[object RegExp]"]=Hr["[object Set]"]=Hr["[object String]"]=Hr["[object WeakMap]"]=!1;const Rs=function Zd(c){return function(p){return c(p)}};var cd="object"==typeof exports&&exports&&!exports.nodeType&&exports,no=cd&&"object"==typeof module&&module&&!module.nodeType&&module,cl=no&&no.exports===cd&&Vl.process;const Qo=function(){try{return no&&no.require&&no.require("util").types||cl&&cl.binding&&cl.binding("util")}catch{}}();var kc=Qo&&Qo.isTypedArray;const dd=kc?Rs(kc):function If(c){return Gi(c)&&Es(c.length)&&!!Hr[Ws(c)]};var kh=Object.prototype.hasOwnProperty;const Ru=function Pf(c,p){var r=Dr(c),m=!r&&pn(c),A=!r&&!m&&Ao(c),z=!r&&!m&&!A&&dd(c),re=r||m||A||z,ve=re?function fi(c,p){for(var r=-1,m=Array(c);++r<c;)m[r]=p(r);return m}(c.length,String):[],Je=ve.length;for(var mt in c)(p||kh.call(c,mt))&&(!re||!("length"==mt||A&&("offset"==mt||"parent"==mt)||z&&("buffer"==mt||"byteLength"==mt||"byteOffset"==mt)||Po(mt,Je)))&&ve.push(mt);return ve};var Fu=Object.prototype;const ud=function ro(c){var p=c&&c.constructor;return c===("function"==typeof p&&p.prototype||Fu)},Of=function Pc(c,p){return function(r){return c(p(r))}},Rf=Of(Object.keys,Object);var Lu=Object.prototype.hasOwnProperty;const Yd=function qd(c){return null!=c&&Es(c.length)&&!Oa(c)},Kd=function Nu(c){return Yd(c)?Ru(c):function tp(c){if(!ud(c))return Rf(c);var p=[];for(var r in Object(c))Lu.call(c,r)&&"constructor"!=r&&p.push(r);return p}(c)};var Vu=function Bu(c,p){return function(r,m){if(null==r)return r;if(!Yd(r))return c(r,m);for(var A=r.length,z=p?A:-1,re=Object(r);(p?z--:++z<A)&&!1!==m(re[z],z,re););return r}}(function zu(c,p){return c&&oi(c,p,Kd)});const Oh=Vu,ip=function Wl(c,p,r,m){return Oh(c,function(A,z,re){p(m,A,r(A),re)}),m},Pl=function Rc(c,p){return c===p||c!=c&&p!=p},Fc=function ju(c,p){for(var r=c.length;r--;)if(Pl(c[r][0],p))return r;return-1};var np=Array.prototype.splice;function Lc(c){var p=-1,r=null==c?0:c.length;for(this.clear();++p<r;){var m=c[p];this.set(m[0],m[1])}}Lc.prototype.clear=function vo(){this.__data__=[],this.size=0},Lc.prototype.delete=function Hu(c){var p=this.__data__,r=Fc(p,c);return!(r<0||(r==p.length-1?p.pop():np.call(p,r,1),--this.size,0))},Lc.prototype.get=function Lh(c){var p=this.__data__,r=Fc(p,c);return r<0?void 0:p[r][1]},Lc.prototype.has=function $u(c){return Fc(this.__data__,c)>-1},Lc.prototype.set=function Xd(c,p){var r=this.__data__,m=Fc(r,c);return m<0?(++this.size,r.push([c,p])):r[m][1]=p,this};const Jd=Lc,dl=ce(eo,"Map"),Qd=ce(Object,"create");var md=Object.prototype.hasOwnProperty;var pd=Object.prototype.hasOwnProperty;function uc(c){var p=-1,r=null==c?0:c.length;for(this.clear();++p<r;){var m=c[p];this.set(m[0],m[1])}}uc.prototype.clear=function hd(){this.__data__=Qd?Qd(null):{},this.size=0},uc.prototype.delete=function Uh(c){var p=this.has(c)&&delete this.__data__[c];return this.size-=p?1:0,p},uc.prototype.get=function lp(c){var p=this.__data__;if(Qd){var r=p[c];return"__lodash_hash_undefined__"===r?void 0:r}return md.call(p,c)?p[c]:void 0},uc.prototype.has=function va(c){var p=this.__data__;return Qd?void 0!==p[c]:pd.call(p,c)},uc.prototype.set=function zf(c,p){var r=this.__data__;return this.size+=this.has(c)?0:1,r[c]=Qd&&void 0===p?"__lodash_hash_undefined__":p,this};const fd=uc,Fs=function Uf(c,p){var r=c.__data__;return function up(c){var p=typeof c;return"string"==p||"number"==p||"symbol"==p||"boolean"==p?"__proto__"!==c:null===c}(p)?r["string"==typeof p?"string":"hash"]:r.map};function hc(c){var p=-1,r=null==c?0:c.length;for(this.clear();++p<r;){var m=c[p];this.set(m[0],m[1])}}hc.prototype.clear=function dp(){this.size=0,this.__data__={hash:new fd,map:new(dl||Jd),string:new fd}},hc.prototype.delete=function Zh(c){var p=Fs(this,c).delete(c);return this.size-=p?1:0,p},hc.prototype.get=function eu(c){return Fs(this,c).get(c)},hc.prototype.has=function gd(c){return Fs(this,c).has(c)},hc.prototype.set=function hp(c,p){var r=Fs(this,c),m=r.size;return r.set(c,p),this.size+=r.size==m?0:1,this};const Yu=hc;function _d(c){var p=this.__data__=new Jd(c);this.size=p.size}_d.prototype.clear=function sp(){this.__data__=new Jd,this.size=0},_d.prototype.delete=function Bh(c){var p=this.__data__,r=p.delete(c);return this.size=p.size,r},_d.prototype.get=function Lf(c){return this.__data__.get(c)},_d.prototype.has=function Vh(c){return this.__data__.has(c)},_d.prototype.set=function jf(c,p){var r=this.__data__;if(r instanceof Jd){var m=r.__data__;if(!dl||m.length<199)return m.push([c,p]),this.size=++r.size,this;r=this.__data__=new Yu(m)}return r.set(c,p),this.size=r.size,this};const tu=_d;function cr(c){var p=-1,r=null==c?0:c.length;for(this.__data__=new Yu;++p<r;)this.add(c[p])}cr.prototype.add=cr.prototype.push=function Ro(c){return this.__data__.set(c,"__lodash_hash_undefined__"),this},cr.prototype.has=function yd(c){return this.__data__.has(c)};const Ku=cr,Xh=function Kh(c,p){for(var r=-1,m=null==c?0:c.length;++r<m;)if(p(c[r],r,c))return!0;return!1},ql=function ba(c,p){return c.has(p)},gp=function Xu(c,p,r,m,A,z){var re=1&r,ve=c.length,Je=p.length;if(ve!=Je&&!(re&&Je>ve))return!1;var mt=z.get(c),Bt=z.get(p);if(mt&&Bt)return mt==p&&Bt==c;var Gt=-1,Mi=!0,zi=2&r?new Ku:void 0;for(z.set(c,p),z.set(p,c);++Gt<ve;){var Fi=c[Gt],Bi=p[Gt];if(m)var wn=re?m(Bi,Fi,Gt,p,c,z):m(Fi,Bi,Gt,c,p,z);if(void 0!==wn){if(wn)continue;Mi=!1;break}if(zi){if(!Xh(p,function(Yn,xr){if(!ql(zi,xr)&&(Fi===Yn||A(Fi,Yn,r,m,z)))return zi.push(xr)})){Mi=!1;break}}else if(Fi!==Bi&&!A(Fi,Bi,r,m,z)){Mi=!1;break}}return z.delete(c),z.delete(p),Mi},Ju=eo.Uint8Array,Gf=function $f(c){var p=-1,r=Array(c.size);return c.forEach(function(m,A){r[++p]=[A,m]}),r},_p=function Zf(c){var p=-1,r=Array(c.size);return c.forEach(function(m){r[++p]=m}),r};var Yl=ui?ui.prototype:void 0,mc=Yl?Yl.valueOf:void 0;const wd=function xd(c,p){for(var r=-1,m=p.length,A=c.length;++r<m;)c[A+r]=p[r];return c},Uc=function eh(c,p,r){var m=p(c);return Dr(c)?m:wd(m,r(c))},th=function nu(){return[]};var jc=Object.prototype.propertyIsEnumerable,bp=Object.getOwnPropertySymbols,xp=bp?function(c){return null==c?[]:(c=Object(c),function om(c,p){for(var r=-1,m=null==c?0:c.length,A=0,z=[];++r<m;){var re=c[r];p(re,r,c)&&(z[A++]=re)}return z}(bp(c),function(p){return jc.call(c,p)}))}:th;const ih=xp,Ja=function ou(c){return Uc(c,Kd,ih)};var Cd=Object.prototype.hasOwnProperty;const su=ce(eo,"DataView"),au=ce(eo,"Promise"),pc=ce(eo,"Set"),Hc=ce(eo,"WeakMap");var Dd="[object Map]",Sd="[object Promise]",rh="[object Set]",fc="[object WeakMap]",dm="[object DataView]",Wf=x(su),qf=x(dl),Yf=x(au),Kf=x(pc),ul=x(Hc),us=Ws;(su&&us(new su(new ArrayBuffer(1)))!=dm||dl&&us(new dl)!=Dd||au&&us(au.resolve())!=Sd||pc&&us(new pc)!=rh||Hc&&us(new Hc)!=fc)&&(us=function(c){var p=Ws(c),r="[object Object]"==p?c.constructor:void 0,m=r?x(r):"";if(m)switch(m){case Wf:return dm;case qf:return Dd;case Yf:return Sd;case Kf:return rh;case ul:return fc}return p});const Td=us;var um="[object Arguments]",hm="[object Array]",cu="[object Object]",Id=Object.prototype.hasOwnProperty;const pm=function Cp(c,p,r,m,A,z){var re=Dr(c),ve=Dr(p),Je=re?hm:Td(c),mt=ve?hm:Td(p),Bt=(Je=Je==um?cu:Je)==cu,Gt=(mt=mt==um?cu:mt)==cu,Mi=Je==mt;if(Mi&&Ao(c)){if(!Ao(p))return!1;re=!0,Bt=!1}if(Mi&&!Bt)return z||(z=new tu),re||dd(c)?gp(c,p,r,m,A,z):function bd(c,p,r,m,A,z,re){switch(r){case"[object DataView]":if(c.byteLength!=p.byteLength||c.byteOffset!=p.byteOffset)return!1;c=c.buffer,p=p.buffer;case"[object ArrayBuffer]":return!(c.byteLength!=p.byteLength||!z(new Ju(c),new Ju(p)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Pl(+c,+p);case"[object Error]":return c.name==p.name&&c.message==p.message;case"[object RegExp]":case"[object String]":return c==p+"";case"[object Map]":var ve=Gf;case"[object Set]":if(ve||(ve=_p),c.size!=p.size&&!(1&m))return!1;var mt=re.get(c);if(mt)return mt==p;m|=2,re.set(c,p);var Bt=gp(ve(c),ve(p),m,A,z,re);return re.delete(c),Bt;case"[object Symbol]":if(mc)return mc.call(c)==mc.call(p)}return!1}(c,p,Je,r,m,A,z);if(!(1&r)){var zi=Bt&&Id.call(c,"__wrapped__"),Fi=Gt&&Id.call(p,"__wrapped__");if(zi||Fi){var Bi=zi?c.value():c,wn=Fi?p.value():p;return z||(z=new tu),A(Bi,wn,r,m,z)}}return!!Mi&&(z||(z=new tu),function lm(c,p,r,m,A,z){var re=1&r,ve=Ja(c),Je=ve.length;if(Je!=Ja(p).length&&!re)return!1;for(var Gt=Je;Gt--;){var Mi=ve[Gt];if(!(re?Mi in p:Cd.call(p,Mi)))return!1}var zi=z.get(c),Fi=z.get(p);if(zi&&Fi)return zi==p&&Fi==c;var Bi=!0;z.set(c,p),z.set(p,c);for(var wn=re;++Gt<Je;){var Yn=c[Mi=ve[Gt]],xr=p[Mi];if(m)var wo=re?m(xr,Yn,Mi,p,c,z):m(Yn,xr,Mi,c,p,z);if(!(void 0===wo?Yn===xr||A(Yn,xr,r,m,z):wo)){Bi=!1;break}wn||(wn="constructor"==Mi)}if(Bi&&!wn){var kr=c.constructor,Ma=p.constructor;kr!=Ma&&"constructor"in c&&"constructor"in p&&!("function"==typeof kr&&kr instanceof kr&&"function"==typeof Ma&&Ma instanceof Ma)&&(Bi=!1)}return z.delete(c),z.delete(p),Bi}(c,p,r,m,A,z))},xa=function fm(c,p,r,m,A){return c===p||(null==c||null==p||!Gi(c)&&!Gi(p)?c!=c&&p!=p:pm(c,p,r,m,fm,A))},oh=function _m(c){return c==c&&!qa(c)},hl=function Jf(c,p){return function(r){return null!=r&&r[c]===p&&(void 0!==p||c in Object(r))}},Qf=function sh(c){var p=function Xf(c){for(var p=Kd(c),r=p.length;r--;){var m=p[r],A=c[m];p[r]=[m,A,oh(A)]}return p}(c);return 1==p.length&&p[0][2]?hl(p[0][0],p[0][1]):function(r){return r===c||function Ad(c,p,r,m){var A=r.length,z=A,re=!m;if(null==c)return!z;for(c=Object(c);A--;){var ve=r[A];if(re&&ve[2]?ve[1]!==c[ve[0]]:!(ve[0]in c))return!1}for(;++A<z;){var Je=(ve=r[A])[0],mt=c[Je],Bt=ve[1];if(re&&ve[2]){if(void 0===mt&&!(Je in c))return!1}else{var Gt=new tu;if(m)var Mi=m(mt,Bt,Je,c,p,Gt);if(!(void 0===Mi?xa(Bt,mt,3,m,Gt):Mi))return!1}}return!0}(r,c,p)}},vm=function ym(c){return"symbol"==typeof c||Gi(c)&&"[object Symbol]"==Ws(c)};var tg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ep=/^\w*$/;const du=function kd(c,p){if(Dr(c))return!1;var r=typeof c;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=c&&!vm(c))||Ep.test(c)||!tg.test(c)||null!=p&&c in Object(p)};function uu(c,p){if("function"!=typeof c||null!=p&&"function"!=typeof p)throw new TypeError("Expected a function");var r=function(){var m=arguments,A=p?p.apply(this,m):m[0],z=r.cache;if(z.has(A))return z.get(A);var re=c.apply(this,m);return r.cache=z.set(A,re)||z,re};return r.cache=new(uu.Cache||Yu),r}uu.Cache=Yu;const Pd=uu;var ig=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dp=/\\(\\)?/g,Sp=function go(c){var p=Pd(c,function(m){return 500===r.size&&r.clear(),m}),r=p.cache;return p}(function(c){var p=[];return 46===c.charCodeAt(0)&&p.push(""),c.replace(ig,function(r,m,A,z){p.push(A?z.replace(Dp,"$1"):m||r)}),p});const Od=Sp;var wm=ui?ui.prototype:void 0,Ip=wm?wm.toString:void 0;const hu=function Ap(c){if("string"==typeof c)return c;if(Dr(c))return function bm(c,p){for(var r=-1,m=null==c?0:c.length,A=Array(m);++r<m;)A[r]=p(c[r],r,c);return A}(c,Ap)+"";if(vm(c))return Ip?Ip.call(c):"";var p=c+"";return"0"==p&&1/c==-1/0?"-0":p},ch=function lh(c,p){return Dr(c)?c:du(c,p)?[c]:Od(function vr(c){return null==c?"":hu(c)}(c))},pu=function mu(c){if("string"==typeof c||vm(c))return c;var p=c+"";return"0"==p&&1/c==-1/0?"-0":p},Fd=function dh(c,p){for(var r=0,m=(p=ch(p,c)).length;null!=c&&r<m;)c=c[pu(p[r++])];return r&&r==m?c:void 0},Cm=function fu(c,p){return null!=c&&p in Object(c)},a=function t(c,p){return null!=c&&function Em(c,p,r){for(var m=-1,A=(p=ch(p,c)).length,z=!1;++m<A;){var re=pu(p[m]);if(!(z=null!=c&&r(c,re)))break;c=c[re]}return z||++m!=A?z:!!(A=null==c?0:c.length)&&Es(A)&&Po(re,A)&&(Dr(c)||pn(c))}(c,p,Cm)},T=function S(c,p){return du(c)&&oh(p)?hl(pu(c),p):function(r){var m=function Zc(c,p,r){var m=null==c?void 0:Fd(c,p);return void 0===m?r:m}(r,c);return void 0===m&&m===p?a(r,c):xa(p,m,3)}},L=function P(c){return c},_e=function ue(c){return du(c)?function G(c){return function(p){return p?.[c]}}(pu(c)):function te(c){return function(p){return Fd(p,c)}}(c)};var It=Object.prototype.hasOwnProperty,Ot=function at(c,p){return function(r,m){var A=Dr(r)?He:ip,z=p?p():{};return A(r,c,function Be(c){return"function"==typeof c?c:null==c?L:"object"==typeof c?Dr(c)?T(c[0],c[1]):Qf(c):_e(c)}(m),z)}}(function(c,p,r){It.call(c,r)?c[r].push(p):rt(c,r,[p])});const Yt=Ot;var Ei=Object.prototype.hasOwnProperty;const ki=function vi(c,p,r){var m=c[p];(!Ei.call(c,p)||!Pl(m,r)||void 0===r&&!(p in c))&&rt(c,p,r)},si=function Di(c,p,r,m){var A=!r;r||(r={});for(var z=-1,re=p.length;++z<re;){var ve=p[z],Je=m?m(r[ve],c[ve],ve,r,c):void 0;void 0===Je&&(Je=c[ve]),A?rt(r,ve,Je):ki(r,ve,Je)}return r};var bo=Object.prototype.hasOwnProperty;const Ho=function Ns(c){if(!qa(c))return function Fn(c){var p=[];if(null!=c)for(var r in Object(c))p.push(r);return p}(c);var p=ud(c),r=[];for(var m in c)"constructor"==m&&(p||!bo.call(c,m))||r.push(m);return r},xo=function Kr(c){return Yd(c)?Ru(c,!0):Ho(c)};var la="object"==typeof exports&&exports&&!exports.nodeType&&exports,oo=la&&"object"==typeof module&&module&&!module.nodeType&&module,hs=oo&&oo.exports===la?eo.Buffer:void 0,zs=hs?hs.allocUnsafe:void 0;const ns=Of(Object.getPrototypeOf,Object);var ml=Object.getOwnPropertySymbols?function(c){for(var p=[];c;)wd(p,ih(c)),c=ns(c);return p}:th;const La=ml,Ys=function Na(c){return Uc(c,xo,La)};var Ld=Object.prototype.hasOwnProperty;const fl=function Wc(c){var p=new c.constructor(c.byteLength);return new Ju(p).set(new Ju(c)),p};var Dm=/\w*$/;var Pp=ui?ui.prototype:void 0,Op=Pp?Pp.valueOf:void 0;const nC=function iC(c,p,r){var m=c.constructor;switch(p){case"[object ArrayBuffer]":return fl(c);case"[object Boolean]":case"[object Date]":return new m(+c);case"[object DataView]":return function qc(c,p){var r=p?fl(c.buffer):c.buffer;return new c.constructor(r,c.byteOffset,c.byteLength)}(c,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function Tm(c,p){var r=p?fl(c.buffer):c.buffer;return new c.constructor(r,c.byteOffset,c.length)}(c,r);case"[object Map]":case"[object Set]":return new m;case"[object Number]":case"[object String]":return new m(c);case"[object RegExp]":return function Sm(c){var p=new c.constructor(c.source,Dm.exec(c));return p.lastIndex=c.lastIndex,p}(c);case"[object Symbol]":return function Rp(c){return Op?Object(Op.call(c)):{}}(c)}};var sg=Object.create,F_=function(){function c(){}return function(p){if(!qa(p))return{};if(sg)return sg(p);c.prototype=p;var r=new c;return c.prototype=void 0,r}}();const rC=F_;var zn=Qo&&Qo.isMap;const U_=zn?Rs(zn):function z_(c){return Gi(c)&&"[object Map]"==Td(c)};var H_=Qo&&Qo.isSet;const $_=H_?Rs(H_):function g0(c){return Gi(c)&&"[object Set]"==Td(c)};var Z_="[object Arguments]",yu="[object Function]",vu="[object Object]",ao={};ao[Z_]=ao["[object Array]"]=ao["[object ArrayBuffer]"]=ao["[object DataView]"]=ao["[object Boolean]"]=ao["[object Date]"]=ao["[object Float32Array]"]=ao["[object Float64Array]"]=ao["[object Int8Array]"]=ao["[object Int16Array]"]=ao["[object Int32Array]"]=ao["[object Map]"]=ao["[object Number]"]=ao[vu]=ao["[object RegExp]"]=ao["[object Set]"]=ao["[object String]"]=ao["[object Symbol]"]=ao["[object Uint8Array]"]=ao["[object Uint8ClampedArray]"]=ao["[object Uint16Array]"]=ao["[object Uint32Array]"]=!0,ao["[object Error]"]=ao[yu]=ao["[object WeakMap]"]=!1;const T0=function Am(c,p,r,m,A,z){var re,ve=1&p,Je=2&p,mt=4&p;if(r&&(re=A?r(c,m,A,z):r(c)),void 0!==re)return re;if(!qa(c))return c;var Bt=Dr(c);if(Bt){if(re=function ng(c){var p=c.length,r=new c.constructor(p);return p&&"string"==typeof c[0]&&Ld.call(c,"index")&&(r.index=c.index,r.input=c.input),r}(c),!ve)return function so(c,p){var r=-1,m=c.length;for(p||(p=Array(m));++r<m;)p[r]=c[r];return p}(c,re)}else{var Gt=Td(c),Mi=Gt==yu||"[object GeneratorFunction]"==Gt;if(Ao(c))return function ca(c,p){if(p)return c.slice();var r=c.length,m=zs?zs(r):new c.constructor(r);return c.copy(m),m}(c,ve);if(Gt==vu||Gt==Z_||Mi&&!A){if(re=Je||Mi?{}:function L_(c){return"function"!=typeof c.constructor||ud(c)?{}:rC(ns(c))}(c),!ve)return Je?function pl(c,p){return si(c,La(c),p)}(c,function es(c,p){return c&&si(p,xo(p),c)}(re,c)):function Hn(c,p){return si(c,ih(c),p)}(c,function Qi(c,p){return c&&si(p,Kd(p),c)}(re,c))}else{if(!ao[Gt])return A?c:{};re=nC(c,Gt,ve)}}z||(z=new tu);var zi=z.get(c);if(zi)return zi;z.set(c,re),$_(c)?c.forEach(function(wn){re.add(Am(wn,p,r,wn,c,z))}):U_(c)&&c.forEach(function(wn,Yn){re.set(Yn,Am(wn,p,r,Yn,c,z))});var Bi=Bt?void 0:(mt?Je?Ys:Ja:Je?xo:Kd)(c);return function Pi(c,p){for(var r=-1,m=null==c?0:c.length;++r<m&&!1!==p(c[r],r,c););}(Bi||c,function(wn,Yn){Bi&&(wn=c[Yn=wn]),ki(re,Yn,Am(wn,p,r,Yn,c,z))}),re};function P0(c){return"object"==typeof c&&null!=c&&1===c.nodeType}function Bp(c,p){return(!p||"hidden"!==c)&&"visible"!==c&&"clip"!==c}function Vp(c,p){if(c.clientHeight<c.scrollHeight||c.clientWidth<c.scrollWidth){var r=getComputedStyle(c,null);return Bp(r.overflowY,p)||Bp(r.overflowX,p)||!!(A=function(z){if(!z.ownerDocument||!z.ownerDocument.defaultView)return null;try{return z.ownerDocument.defaultView.frameElement}catch{return null}}(m=c))&&(A.clientHeight<m.scrollHeight||A.clientWidth<m.scrollWidth)}var m,A;return!1}function Up(c,p,r,m,A,z,re,ve){return z<c&&re>p||z>c&&re<p?0:z<=c&&ve<=r||re>=p&&ve>=r?z-c-m:re>p&&ve<r||z<c&&ve>r?re-p+A:0}var Q_=function(c,p){var r=window,m=p.scrollMode,A=p.block,z=p.inline,re=p.boundary,ve=p.skipOverflowHiddenElements,Je="function"==typeof re?re:function(Hd){return Hd!==re};if(!P0(c))throw new TypeError("Invalid target");for(var mt,Bt,Gt=document.scrollingElement||document.documentElement,Mi=[],zi=c;P0(zi)&&Je(zi);){if((zi=null==(Bt=(mt=zi).parentElement)?mt.getRootNode().host||null:Bt)===Gt){Mi.push(zi);break}null!=zi&&zi===document.body&&Vp(zi)&&!Vp(document.documentElement)||null!=zi&&Vp(zi,ve)&&Mi.push(zi)}for(var Fi=r.visualViewport?r.visualViewport.width:innerWidth,Bi=r.visualViewport?r.visualViewport.height:innerHeight,wn=window.scrollX||pageXOffset,Yn=window.scrollY||pageYOffset,xr=c.getBoundingClientRect(),wo=xr.height,kr=xr.width,Ma=xr.top,Qa=xr.right,Vs=xr.bottom,yl=xr.left,ps="start"===A||"nearest"===A?Ma:"end"===A?Vs:Ma+wo/2,os="center"===z?yl+kr/2:"end"===z?Qa:yl,Su=[],jd=0;jd<Mi.length;jd++){var or=Mi[jd],bc=or.getBoundingClientRect(),Tu=bc.height,Xi=bc.width,$i=bc.top,fn=bc.right,tr=bc.bottom,$o=bc.left;if("if-needed"===m&&Ma>=0&&yl>=0&&Vs<=Bi&&Qa<=Fi&&Ma>=$i&&Vs<=tr&&yl>=$o&&Qa<=fn)return Su;var Ba=getComputedStyle(or),Ts=parseInt(Ba.borderLeftWidth,10),el=parseInt(Ba.borderTopWidth,10),$r=parseInt(Ba.borderRightWidth,10),Iu=parseInt(Ba.borderBottomWidth,10),xc=0,Co=0,vl="offsetWidth"in or?or.offsetWidth-or.clientWidth-Ts-$r:0,Ks="offsetHeight"in or?or.offsetHeight-or.clientHeight-el-Iu:0,Au="offsetWidth"in or?0===or.offsetWidth?0:Xi/or.offsetWidth:0,ku="offsetHeight"in or?0===or.offsetHeight?0:Tu/or.offsetHeight:0;if(Gt===or)xc="start"===A?ps:"end"===A?ps-Bi:"nearest"===A?Up(Yn,Yn+Bi,Bi,el,Iu,Yn+ps,Yn+ps+wo,wo):ps-Bi/2,Co="start"===z?os:"center"===z?os-Fi/2:"end"===z?os-Fi:Up(wn,wn+Fi,Fi,Ts,$r,wn+os,wn+os+kr,kr),xc=Math.max(0,xc+Yn),Co=Math.max(0,Co+wn);else{xc="start"===A?ps-$i-el:"end"===A?ps-tr+Iu+Ks:"nearest"===A?Up($i,tr,Tu,el,Iu+Ks,ps,ps+wo,wo):ps-($i+Tu/2)+Ks/2,Co="start"===z?os-$o-Ts:"center"===z?os-($o+Xi/2)+vl/2:"end"===z?os-fn+$r+vl:Up($o,fn,Xi,Ts,$r+vl,os,os+kr,kr);var a0=or.scrollLeft,Df=or.scrollTop;ps+=Df-(xc=Math.max(0,Math.min(Df+xc/ku,or.scrollHeight-Tu/ku+Ks))),os+=a0-(Co=Math.max(0,Math.min(a0+Co/Au,or.scrollWidth-Xi/Au+vl)))}Su.push({el:or,top:xc,left:Co})}return Su};function ey(c){return c===Object(c)&&0!==Object.keys(c).length}let iy=(()=>{class c{constructor(){this.resize$=new ur.x}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();var Ca=j(6223),F0=j(6637),Qc=j(2296),xn=j(2495),ms=j(2831),Bn=j(3680),mg=j(7131);let ny=(()=>{class c{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(r){this._vertical=(0,xn.Ig)(r)}get inset(){return this._inset}set inset(r){this._inset=(0,xn.Ig)(r)}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(r,m){2&r&&(l.uIk("aria-orientation",m.vertical?"vertical":"horizontal"),l.ekj("mat-divider-vertical",m.vertical)("mat-divider-horizontal",!m.vertical)("mat-divider-inset",m.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(r,m){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),c})(),L0=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Bn.BQ,Bn.BQ]}),c})();var Jl=j(7849),km=j(8337),Ql=j(6028);const Pm=["*"],ry='@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-base{--mdc-list-list-item-container-shape:0;--mdc-list-list-item-leading-avatar-shape:50%;--mdc-list-list-item-container-color:transparent;--mdc-list-list-item-selected-container-color:transparent;--mdc-list-list-item-leading-avatar-color:transparent;--mdc-list-list-item-leading-icon-size:24px;--mdc-list-list-item-leading-avatar-size:40px;--mdc-list-list-item-trailing-icon-size:24px;--mdc-list-list-item-disabled-state-layer-color:transparent;--mdc-list-list-item-disabled-state-layer-opacity:0;--mdc-list-list-item-disabled-label-text-opacity:0.38;--mdc-list-list-item-disabled-leading-icon-opacity:0.38;--mdc-list-list-item-disabled-trailing-icon-opacity:0.38}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}',pg=["unscopedContent"],oy=["text"],sy=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],ay=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],_g=new l.OlP("ListOption");let dy=(()=>{class c{constructor(r){this._elementRef=r}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.SBq))},c.\u0275dir=l.lG2({type:c,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]}),c})(),uy=(()=>{class c{constructor(r){this._elementRef=r}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.SBq))},c.\u0275dir=l.lG2({type:c,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]}),c})(),hy=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275dir=l.lG2({type:c,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]}),c})(),yg=(()=>{class c{constructor(r){this._listOption=r}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(_g,8))},c.\u0275dir=l.lG2({type:c,hostVars:4,hostBindings:function(r,m){2&r&&l.ekj("mdc-list-item__start",m._isAlignedAtStart())("mdc-list-item__end",!m._isAlignedAtStart())}}),c})(),Rm=(()=>{class c extends yg{}return c.\u0275fac=function(){let p;return function(m){return(p||(p=l.n5z(c)))(m||c)}}(),c.\u0275dir=l.lG2({type:c,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[l.qOj]}),c})(),$0=(()=>{class c extends yg{}return c.\u0275fac=function(){let p;return function(m){return(p||(p=l.n5z(c)))(m||c)}}(),c.\u0275dir=l.lG2({type:c,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[l.qOj]}),c})();const my=new l.OlP("MAT_LIST_CONFIG");let td=(()=>{class c{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,l.f3M)(my,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(r){this._disableRipple=(0,xn.Ig)(r)}get disabled(){return this._disabled}set disabled(r){this._disabled=(0,xn.Ig)(r)}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275dir=l.lG2({type:c,hostVars:1,hostBindings:function(r,m){2&r&&l.uIk("aria-disabled",m.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}}),c})(),vg=(()=>{class c{set lines(r){this._explicitLines=(0,xn.su)(r,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(r){this._disableRipple=(0,xn.Ig)(r)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(r){this._disabled=(0,xn.Ig)(r)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(r,m,A,z,re,ve){this._elementRef=r,this._ngZone=m,this._listBase=A,this._platform=z,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new Zs.w0,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=re||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===ve,A&&!A._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new Bn.IR(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,nr.T)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(r){if(!this._lines||!this._titles||!this._unscopedContent)return;r&&this._checkDomForUnscopedTextContent();const m=this._explicitLines??this._inferLinesFromContent(),A=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",m<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",m<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===m),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===m),this._hasUnscopedTextContent){const z=0===this._titles.length&&1===m;A.classList.toggle("mdc-list-item__primary-text",z),A.classList.toggle("mdc-list-item__secondary-text",!z)}else A.classList.remove("mdc-list-item__primary-text"),A.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let r=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(r+=1),r}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(r=>r.nodeType!==r.COMMENT_NODE).some(r=>!(!r.textContent||!r.textContent.trim()))}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(td,8),l.Y36(ms.t4),l.Y36(Bn.Y2,8),l.Y36(l.QbO,8))},c.\u0275dir=l.lG2({type:c,contentQueries:function(r,m,A){if(1&r&&(l.Suo(A,Rm,4),l.Suo(A,$0,4)),2&r){let z;l.iGM(z=l.CRH())&&(m._avatars=z),l.iGM(z=l.CRH())&&(m._icons=z)}},hostVars:4,hostBindings:function(r,m){2&r&&(l.uIk("aria-disabled",m.disabled)("disabled",m._isButtonElement&&m.disabled||null),l.ekj("mdc-list-item--disabled",m.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}}),c})(),uC=(()=>{class c extends td{}return c.\u0275fac=function(){let p;return function(m){return(p||(p=l.n5z(c)))(m||c)}}(),c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],features:[l._Bn([{provide:td,useExisting:c}]),l.qOj],ngContentSelectors:Pm,decls:1,vars:0,template:function(r,m){1&r&&(l.F$t(),l.Hsn(0))},styles:[ry],encapsulation:2,changeDetection:0}),c})(),py=(()=>{class c extends vg{get activated(){return this._activated}set activated(r){this._activated=(0,xn.Ig)(r)}constructor(r,m,A,z,re,ve){super(r,m,A,z,re,ve),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(td,8),l.Y36(ms.t4),l.Y36(Bn.Y2,8),l.Y36(l.QbO,8))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(r,m,A){if(1&r&&(l.Suo(A,uy,5),l.Suo(A,dy,5),l.Suo(A,hy,5)),2&r){let z;l.iGM(z=l.CRH())&&(m._lines=z),l.iGM(z=l.CRH())&&(m._titles=z),l.iGM(z=l.CRH())&&(m._meta=z)}},viewQuery:function(r,m){if(1&r&&(l.Gf(pg,5),l.Gf(oy,5)),2&r){let A;l.iGM(A=l.CRH())&&(m._unscopedContent=A.first),l.iGM(A=l.CRH())&&(m._itemText=A.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(r,m){2&r&&(l.uIk("aria-current",m._getAriaCurrent()),l.ekj("mdc-list-item--activated",m.activated)("mdc-list-item--with-leading-avatar",0!==m._avatars.length)("mdc-list-item--with-leading-icon",0!==m._icons.length)("mdc-list-item--with-trailing-meta",0!==m._meta.length)("_mat-animation-noopable",m._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[l.qOj],ngContentSelectors:ay,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(r,m){1&r&&(l.F$t(sy),l.Hsn(0),l.TgZ(1,"span",0),l.Hsn(2,1),l.Hsn(3,2),l.TgZ(4,"span",1,2),l.NdJ("cdkObserveContent",function(){return m._updateItemLines(!0)}),l.Hsn(6,3),l.qZA()(),l.Hsn(7,4),l.Hsn(8,5),l._UZ(9,"div",3))},dependencies:[mg.wD],encapsulation:2,changeDetection:0}),c})(),Z0=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275dir=l.lG2({type:c,selectors:[["","mat-subheader",""],["","matSubheader",""]],hostAttrs:[1,"mat-mdc-subheader","mdc-list-group__subheader"]}),c})(),W0=(()=>{class c extends td{constructor(){super(...arguments),this._isNonInteractive=!1}}return c.\u0275fac=function(){let p;return function(m){return(p||(p=l.n5z(c)))(m||c)}}(),c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[l._Bn([{provide:td,useExisting:c}]),l.qOj],ngContentSelectors:Pm,decls:1,vars:0,template:function(r,m){1&r&&(l.F$t(),l.Hsn(0))},styles:[ry],encapsulation:2,changeDetection:0}),c})(),Y0=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[mg.Q8,Oi.ez,Bn.BQ,Bn.si,Bn.us,L0]}),c})();var Gp=j(6232);const _y=(0,ms.i$)({passive:!0});let K0=(()=>{class c{constructor(r,m){this._platform=r,this._ngZone=m,this._monitoredElements=new Map}monitor(r){if(!this._platform.isBrowser)return Gp.E;const m=(0,xn.fI)(r),A=this._monitoredElements.get(m);if(A)return A.subject;const z=new ur.x,re="cdk-text-field-autofilled",ve=Je=>{"cdk-text-field-autofill-start"!==Je.animationName||m.classList.contains(re)?"cdk-text-field-autofill-end"===Je.animationName&&m.classList.contains(re)&&(m.classList.remove(re),this._ngZone.run(()=>z.next({target:Je.target,isAutofilled:!1}))):(m.classList.add(re),this._ngZone.run(()=>z.next({target:Je.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{m.addEventListener("animationstart",ve,_y),m.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(m,{subject:z,unlisten:()=>{m.removeEventListener("animationstart",ve,_y)}}),z}stopMonitoring(r){const m=(0,xn.fI)(r),A=this._monitoredElements.get(m);A&&(A.unlisten(),A.subject.complete(),m.classList.remove("cdk-text-field-autofill-monitored"),m.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(m))}ngOnDestroy(){this._monitoredElements.forEach((r,m)=>this.stopMonitoring(m))}}return c.\u0275fac=function(r){return new(r||c)(l.LFG(ms.t4),l.LFG(l.R0b))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),X0=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({}),c})();var bu=j(4170);const yy=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),vy=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let J0=0;const gC=(0,Bn.FD)(class{constructor(c,p,r,m){this._defaultErrorStateMatcher=c,this._parentForm=p,this._parentFormGroup=r,this.ngControl=m,this.stateChanges=new ur.x}});let by=(()=>{class c extends gC{get disabled(){return this._disabled}set disabled(r){this._disabled=(0,xn.Ig)(r),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(r){this._id=r||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Ca.kI.required)??!1}set required(r){this._required=(0,xn.Ig)(r)}get type(){return this._type}set type(r){this._type=r||"text",this._validateType(),!this._isTextarea&&(0,ms.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(r){r!==this.value&&(this._inputValueAccessor.value=r,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(r){this._readonly=(0,xn.Ig)(r)}constructor(r,m,A,z,re,ve,Je,mt,Bt,Gt){super(ve,z,re,A),this._elementRef=r,this._platform=m,this._autofillMonitor=mt,this._formField=Gt,this._uid="mat-input-"+J0++,this.focused=!1,this.stateChanges=new ur.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Fi=>(0,ms.qK)().has(Fi)),this._iOSKeyupListener=Fi=>{const Bi=Fi.target;!Bi.value&&0===Bi.selectionStart&&0===Bi.selectionEnd&&(Bi.setSelectionRange(1,1),Bi.setSelectionRange(0,0))};const Mi=this._elementRef.nativeElement,zi=Mi.nodeName.toLowerCase();this._inputValueAccessor=Je||Mi,this._previousNativeValue=this.value,this.id=this.id,m.IOS&&Bt.runOutsideAngular(()=>{r.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===zi,this._isTextarea="textarea"===zi,this._isInFormField=!!Gt,this._isNativeSelect&&(this.controlType=Mi.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(r=>{this.autofilled=r.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(r){this._elementRef.nativeElement.focus(r)}_focusChanged(r){r!==this.focused&&(this.focused=r,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const r=this._elementRef.nativeElement.value;this._previousNativeValue!==r&&(this._previousNativeValue=r,this.stateChanges.next())}_dirtyCheckPlaceholder(){const r=this._getPlaceholder();if(r!==this._previousPlaceholder){const m=this._elementRef.nativeElement;this._previousPlaceholder=r,r?m.setAttribute("placeholder",r):m.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){vy.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let r=this._elementRef.nativeElement.validity;return r&&r.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const r=this._elementRef.nativeElement,m=r.options[0];return this.focused||r.multiple||!this.empty||!!(r.selectedIndex>-1&&m&&m.label)}return this.focused||!this.empty}setDescribedByIds(r){r.length?this._elementRef.nativeElement.setAttribute("aria-describedby",r.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const r=this._elementRef.nativeElement;return this._isNativeSelect&&(r.multiple||r.size>1)}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.SBq),l.Y36(ms.t4),l.Y36(Ca.a5,10),l.Y36(Ca.F,8),l.Y36(Ca.sg,8),l.Y36(Bn.rD),l.Y36(yy,10),l.Y36(K0),l.Y36(l.R0b),l.Y36(bu.G_,8))},c.\u0275dir=l.lG2({type:c,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,m){1&r&&l.NdJ("focus",function(){return m._focusChanged(!0)})("blur",function(){return m._focusChanged(!1)})("input",function(){return m._onInput()}),2&r&&(l.Ikx("id",m.id)("disabled",m.disabled)("required",m.required),l.uIk("name",m.name||null)("readonly",m.readonly&&!m._isNativeSelect||null)("aria-invalid",m.empty&&m.required?null:m.errorState)("aria-required",m.required)("id",m.id),l.ekj("mat-input-server",m._isServer)("mat-mdc-form-field-textarea-control",m._isInFormField&&m._isTextarea)("mat-mdc-form-field-input-control",m._isInFormField)("mdc-text-field__input",m._isInFormField)("mat-mdc-native-select-inline",m._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:bu.Eo,useExisting:c}]),l.qOj,l.TTD]}),c})(),xy=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Bn.BQ,bu.lN,bu.lN,X0,Bn.BQ]}),c})();var ec=j(799),Fm=j(9388),wy=j(975),Q0=j(3997);const hh=["*"],ex=["content"];function _c(c,p){if(1&c){const r=l.EpF();l.TgZ(0,"div",2),l.NdJ("click",function(){l.CHM(r);const A=l.oxw();return l.KtG(A._onBackdropClicked())}),l.qZA()}if(2&c){const r=l.oxw();l.ekj("mat-drawer-shown",r._isShowingBackdrop())}}function Lm(c,p){1&c&&(l.TgZ(0,"mat-drawer-content"),l.Hsn(1,2),l.qZA())}const Ea=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],xu=["mat-drawer","mat-drawer-content","*"];function Zp(c,p){if(1&c){const r=l.EpF();l.TgZ(0,"div",2),l.NdJ("click",function(){l.CHM(r);const A=l.oxw();return l.KtG(A._onBackdropClicked())}),l.qZA()}if(2&c){const r=l.oxw();l.ekj("mat-drawer-shown",r._isShowingBackdrop())}}function Fl(c,p){1&c&&(l.TgZ(0,"mat-sidenav-content"),l.Hsn(1,2),l.qZA())}const xg=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],mh=["mat-sidenav","mat-sidenav-content","*"],wu={transformDrawer:(0,ie.X$)("transform",[(0,ie.SB)("open, open-instant",(0,ie.oB)({transform:"none",visibility:"visible"})),(0,ie.SB)("void",(0,ie.oB)({"box-shadow":"none",visibility:"hidden"})),(0,ie.eR)("void => open-instant",(0,ie.jt)("0ms")),(0,ie.eR)("void <=> open, open-instant => void",(0,ie.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},fh=new l.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function gh(){return!1}}),Vd=new l.OlP("MAT_DRAWER_CONTAINER");let id=(()=>{class c extends ec.PQ{constructor(r,m,A,z,re){super(A,z,re),this._changeDetectorRef=r,this._container=m}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.sBO),l.Y36((0,l.Gpc)(()=>wg)),l.Y36(l.SBq),l.Y36(ec.mF),l.Y36(l.R0b))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(r,m){2&r&&l.Udp("margin-left",m._container._contentMargins.left,"px")("margin-right",m._container._contentMargins.right,"px")},features:[l._Bn([{provide:ec.PQ,useExisting:c}]),l.qOj],ngContentSelectors:hh,decls:1,vars:0,template:function(r,m){1&r&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),c})(),Cu=(()=>{class c{get position(){return this._position}set position(r){(r="end"===r?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(r),this._position=r,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(r){this._mode=r,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(r){this._disableClose=(0,xn.Ig)(r)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(r){("true"===r||"false"===r||null==r)&&(r=(0,xn.Ig)(r)),this._autoFocus=r}get opened(){return this._opened}set opened(r){this.toggle((0,xn.Ig)(r))}constructor(r,m,A,z,re,ve,Je,mt){this._elementRef=r,this._focusTrapFactory=m,this._focusMonitor=A,this._platform=z,this._ngZone=re,this._interactivityChecker=ve,this._doc=Je,this._container=mt,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new ur.x,this._animationEnd=new ur.x,this._animationState="void",this.openedChange=new l.vpe(!0),this._openedStream=this.openedChange.pipe((0,po.h)(Bt=>Bt),(0,_r.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,po.h)(Bt=>Bt.fromState!==Bt.toState&&0===Bt.toState.indexOf("open")),(0,wy.h)(void 0)),this._closedStream=this.openedChange.pipe((0,po.h)(Bt=>!Bt),(0,_r.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,po.h)(Bt=>Bt.fromState!==Bt.toState&&"void"===Bt.toState),(0,wy.h)(void 0)),this._destroyed=new ur.x,this.onPositionChanged=new l.vpe,this._modeChanged=new ur.x,this.openedChange.subscribe(Bt=>{Bt?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,Xo.R)(this._elementRef.nativeElement,"keydown").pipe((0,po.h)(Bt=>Bt.keyCode===Ql.hY&&!this.disableClose&&!(0,Ql.Vb)(Bt)),(0,Wr.R)(this._destroyed)).subscribe(Bt=>this._ngZone.run(()=>{this.close(),Bt.stopPropagation(),Bt.preventDefault()}))}),this._animationEnd.pipe((0,Q0.x)((Bt,Gt)=>Bt.fromState===Gt.fromState&&Bt.toState===Gt.toState)).subscribe(Bt=>{const{fromState:Gt,toState:Mi}=Bt;(0===Mi.indexOf("open")&&"void"===Gt||"void"===Mi&&0===Gt.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(r,m){this._interactivityChecker.isFocusable(r)||(r.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const A=()=>{r.removeEventListener("blur",A),r.removeEventListener("mousedown",A),r.removeAttribute("tabindex")};r.addEventListener("blur",A),r.addEventListener("mousedown",A)})),r.focus(m)}_focusByCssSelector(r,m){let A=this._elementRef.nativeElement.querySelector(r);A&&this._forceFocus(A,m)}_takeFocus(){if(!this._focusTrap)return;const r=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(m=>{!m&&"function"==typeof this._elementRef.nativeElement.focus&&r.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(r){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,r):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const r=this._doc.activeElement;return!!r&&this._elementRef.nativeElement.contains(r)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(r){return this.toggle(!0,r)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(r=!this.opened,m){r&&m&&(this._openedVia=m);const A=this._setOpen(r,!r&&this._isFocusWithinDrawer(),this._openedVia||"program");return r||(this._openedVia=null),A}_setOpen(r,m,A){return this._opened=r,r?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",m&&this._restoreFocus(A)),this._updateFocusTrapState(),new Promise(z=>{this.openedChange.pipe((0,ka.q)(1)).subscribe(re=>z(re?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(r){const m=this._elementRef.nativeElement,A=m.parentNode;"end"===r?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),A.insertBefore(this._anchor,m)),A.appendChild(m)):this._anchor&&this._anchor.parentNode.insertBefore(m,this._anchor)}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.SBq),l.Y36(Jl.qV),l.Y36(Jl.tE),l.Y36(ms.t4),l.Y36(l.R0b),l.Y36(Jl.ic),l.Y36(Oi.K0,8),l.Y36(Vd,8))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-drawer"]],viewQuery:function(r,m){if(1&r&&l.Gf(ex,5),2&r){let A;l.iGM(A=l.CRH())&&(m._content=A.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(r,m){1&r&&l.WFA("@transform.start",function(z){return m._animationStarted.next(z)})("@transform.done",function(z){return m._animationEnd.next(z)}),2&r&&(l.uIk("align",null),l.d8E("@transform",m._animationState),l.ekj("mat-drawer-end","end"===m.position)("mat-drawer-over","over"===m.mode)("mat-drawer-push","push"===m.mode)("mat-drawer-side","side"===m.mode)("mat-drawer-opened",m.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:hh,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(r,m){1&r&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},dependencies:[ec.PQ],encapsulation:2,data:{animation:[wu.transformDrawer]},changeDetection:0}),c})(),wg=(()=>{class c{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(r){this._autosize=(0,xn.Ig)(r)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(r){this._backdropOverride=null==r?null:(0,xn.Ig)(r)}get scrollable(){return this._userContent||this._content}constructor(r,m,A,z,re,ve=!1,Je){this._dir=r,this._element=m,this._ngZone=A,this._changeDetectorRef=z,this._animationMode=Je,this._drawers=new l.n_E,this.backdropClick=new l.vpe,this._destroyed=new ur.x,this._doCheckSubject=new ur.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new ur.x,r&&r.change.pipe((0,Wr.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),re.change().pipe((0,Wr.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=ve}ngAfterContentInit(){this._allDrawers.changes.pipe((0,ks.O)(this._allDrawers),(0,Wr.R)(this._destroyed)).subscribe(r=>{this._drawers.reset(r.filter(m=>!m._container||m._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,ks.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(r=>{this._watchDrawerToggle(r),this._watchDrawerPosition(r),this._watchDrawerMode(r)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,zl.b)(10),(0,Wr.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(r=>r.open())}close(){this._drawers.forEach(r=>r.close())}updateContentMargins(){let r=0,m=0;if(this._left&&this._left.opened)if("side"==this._left.mode)r+=this._left._getWidth();else if("push"==this._left.mode){const A=this._left._getWidth();r+=A,m-=A}if(this._right&&this._right.opened)if("side"==this._right.mode)m+=this._right._getWidth();else if("push"==this._right.mode){const A=this._right._getWidth();m+=A,r-=A}r=r||null,m=m||null,(r!==this._contentMargins.left||m!==this._contentMargins.right)&&(this._contentMargins={left:r,right:m},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(r){r._animationStarted.pipe((0,po.h)(m=>m.fromState!==m.toState),(0,Wr.R)(this._drawers.changes)).subscribe(m=>{"open-instant"!==m.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==r.mode&&r.openedChange.pipe((0,Wr.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(r.opened))}_watchDrawerPosition(r){r&&r.onPositionChanged.pipe((0,Wr.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,ka.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(r){r&&r._modeChanged.pipe((0,Wr.R)((0,nr.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(r){const m=this._element.nativeElement.classList,A="mat-drawer-container-has-open";r?m.add(A):m.remove(A)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(r=>{"end"==r.position?this._end=r:this._start=r}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(r=>r&&!r.disableClose&&this._canHaveBackdrop(r)).forEach(r=>r._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(r){return"side"!==r.mode||!!this._backdropOverride}_isDrawerOpen(r){return null!=r&&r.opened}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Fm.Is,8),l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(ec.rL),l.Y36(fh),l.Y36(l.QbO,8))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-drawer-container"]],contentQueries:function(r,m,A){if(1&r&&(l.Suo(A,id,5),l.Suo(A,Cu,5)),2&r){let z;l.iGM(z=l.CRH())&&(m._content=z.first),l.iGM(z=l.CRH())&&(m._allDrawers=z)}},viewQuery:function(r,m){if(1&r&&l.Gf(id,5),2&r){let A;l.iGM(A=l.CRH())&&(m._userContent=A.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(r,m){2&r&&l.ekj("mat-drawer-container-explicit-backdrop",m._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[l._Bn([{provide:Vd,useExisting:c}])],ngContentSelectors:xu,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(r,m){1&r&&(l.F$t(Ea),l.YNc(0,_c,1,2,"div",0),l.Hsn(1),l.Hsn(2,1),l.YNc(3,Lm,2,0,"mat-drawer-content",1)),2&r&&(l.Q6J("ngIf",m.hasBackdrop),l.xp6(3),l.Q6J("ngIf",!m._content))},dependencies:[Oi.O5,id],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),c})(),Wp=(()=>{class c extends id{constructor(r,m,A,z,re){super(r,m,A,z,re)}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.sBO),l.Y36((0,l.Gpc)(()=>Eg)),l.Y36(l.SBq),l.Y36(ec.mF),l.Y36(l.R0b))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-sidenav-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(r,m){2&r&&l.Udp("margin-left",m._container._contentMargins.left,"px")("margin-right",m._container._contentMargins.right,"px")},features:[l._Bn([{provide:ec.PQ,useExisting:c}]),l.qOj],ngContentSelectors:hh,decls:1,vars:0,template:function(r,m){1&r&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),c})(),Cg=(()=>{class c extends Cu{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(r){this._fixedInViewport=(0,xn.Ig)(r)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(r){this._fixedTopGap=(0,xn.su)(r)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(r){this._fixedBottomGap=(0,xn.su)(r)}}return c.\u0275fac=function(){let p;return function(m){return(p||(p=l.n5z(c)))(m||c)}}(),c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(r,m){2&r&&(l.uIk("align",null),l.Udp("top",m.fixedInViewport?m.fixedTopGap:null,"px")("bottom",m.fixedInViewport?m.fixedBottomGap:null,"px"),l.ekj("mat-drawer-end","end"===m.position)("mat-drawer-over","over"===m.mode)("mat-drawer-push","push"===m.mode)("mat-drawer-side","side"===m.mode)("mat-drawer-opened",m.opened)("mat-sidenav-fixed",m.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[l.qOj],ngContentSelectors:hh,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(r,m){1&r&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},dependencies:[ec.PQ],encapsulation:2,data:{animation:[wu.transformDrawer]},changeDetection:0}),c})(),Eg=(()=>{class c extends wg{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}}return c.\u0275fac=function(){let p;return function(m){return(p||(p=l.n5z(c)))(m||c)}}(),c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-sidenav-container"]],contentQueries:function(r,m,A){if(1&r&&(l.Suo(A,Wp,5),l.Suo(A,Cg,5)),2&r){let z;l.iGM(z=l.CRH())&&(m._content=z.first),l.iGM(z=l.CRH())&&(m._allDrawers=z)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(r,m){2&r&&l.ekj("mat-drawer-container-explicit-backdrop",m._backdropOverride)},exportAs:["matSidenavContainer"],features:[l._Bn([{provide:Vd,useExisting:c}]),l.qOj],ngContentSelectors:mh,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(r,m){1&r&&(l.F$t(xg),l.YNc(0,Zp,1,2,"div",0),l.Hsn(1),l.Hsn(2,1),l.YNc(3,Fl,2,0,"mat-sidenav-content",1)),2&r&&(l.Q6J("ngIf",m.hasBackdrop),l.xp6(3),l.Q6J("ngIf",!m._content))},dependencies:[Oi.O5,Wp],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),c})(),Cy=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Oi.ez,Bn.BQ,ec.ZD,ec.ZD,Bn.BQ]}),c})();const Ey=["switch"],My=["*"],Dy=new l.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})}),Sy={provide:Ca.JU,useExisting:(0,l.Gpc)(()=>Ty),multi:!0};class qp{constructor(p,r){this.source=p,this.checked=r}}let tx=0;const _C=(0,Bn.sb)((0,Bn.pj)((0,Bn.Kr)((0,Bn.Id)(class{constructor(c){this._elementRef=c}}))));let yC=(()=>{class c extends _C{get required(){return this._required}set required(r){this._required=(0,xn.Ig)(r)}get checked(){return this._checked}set checked(r){this._checked=(0,xn.Ig)(r),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(r,m,A,z,re,ve,Je){super(r),this._focusMonitor=m,this._changeDetectorRef=A,this.defaults=re,this._onChange=mt=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new l.vpe,this.toggleChange=new l.vpe,this.tabIndex=parseInt(z)||0,this.color=this.defaultColor=re.color||"accent",this._noopAnimations="NoopAnimations"===ve,this.id=this._uniqueId=`${Je}${++tx}`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(r=>{"keyboard"===r||"program"===r?(this._focused=!0,this._changeDetectorRef.markForCheck()):r||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(r){this.checked=!!r}registerOnChange(r){this._onChange=r}registerOnTouched(r){this._onTouched=r}setDisabledState(r){this.disabled=r,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}}return c.\u0275fac=function(r){l.$Z()},c.\u0275dir=l.lG2({type:c,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},features:[l.qOj]}),c})(),Ty=(()=>{class c extends yC{get buttonId(){return`${this.id||this._uniqueId}-button`}constructor(r,m,A,z,re,ve){super(r,m,A,z,re,ve,"mat-mdc-slide-toggle-"),this._labelId=this._uniqueId+"-label"}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new qp(this,this.checked)))}focus(){this._switchElement.nativeElement.focus()}_createChangeEvent(r){return new qp(this,r)}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.SBq),l.Y36(Jl.tE),l.Y36(l.sBO),l.$8M("tabindex"),l.Y36(Dy),l.Y36(l.QbO,8))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-slide-toggle"]],viewQuery:function(r,m){if(1&r&&l.Gf(Ey,5),2&r){let A;l.iGM(A=l.CRH())&&(m._switchElement=A.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:11,hostBindings:function(r,m){2&r&&(l.Ikx("id",m.id),l.uIk("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),l.ekj("mat-mdc-slide-toggle-focused",m._focused)("mat-mdc-slide-toggle-checked",m.checked)("_mat-animation-noopable",m._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[l._Bn([Sy]),l.qOj],ngContentSelectors:My,decls:17,vars:24,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"],[1,"mdc-label",3,"for","click"]],template:function(r,m){if(1&r&&(l.F$t(),l.TgZ(0,"div",0)(1,"button",1,2),l.NdJ("click",function(){return m._handleClick()}),l._UZ(3,"div",3),l.TgZ(4,"div",4)(5,"div",5)(6,"div",6),l._UZ(7,"div",7),l.qZA(),l.TgZ(8,"div",8),l._UZ(9,"div",9),l.qZA(),l.TgZ(10,"div",10),l.O4$(),l.TgZ(11,"svg",11),l._UZ(12,"path",12),l.qZA(),l.TgZ(13,"svg",13),l._UZ(14,"path",14),l.qZA()()()()(),l.kcU(),l.TgZ(15,"label",15),l.NdJ("click",function(z){return z.stopPropagation()}),l.Hsn(16),l.qZA()()),2&r){const A=l.MAs(2);l.ekj("mdc-form-field--align-end","before"==m.labelPosition),l.xp6(1),l.ekj("mdc-switch--selected",m.checked)("mdc-switch--unselected",!m.checked)("mdc-switch--checked",m.checked)("mdc-switch--disabled",m.disabled),l.Q6J("tabIndex",m.tabIndex)("disabled",m.disabled),l.uIk("id",m.buttonId)("name",m.name)("aria-label",m.ariaLabel)("aria-labelledby",m._getAriaLabelledBy())("aria-describedby",m.ariaDescribedby)("aria-required",m.required||null)("aria-checked",m.checked),l.xp6(8),l.Q6J("matRippleTrigger",A)("matRippleDisabled",m.disableRipple||m.disabled)("matRippleCentered",!0),l.xp6(6),l.Q6J("for",m.buttonId),l.uIk("id",m._labelId)}},dependencies:[Bn.wG],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color, #fff)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mdc-switch{width:var(--mdc-switch-track-width, 36px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, #616161)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color, var(--mdc-theme-surface, #fff))}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__focus-ring-wrapper,.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height, 20px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape, 10px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width, 20px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width, 20px))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size, 18px);height:var(--mdc-switch-selected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size, 18px);height:var(--mdc-switch-unselected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size, 48px);width:var(--mdc-switch-state-layer-size, 48px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height, 14px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape, 7px)}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}'],encapsulation:2,changeDetection:0}),c})(),Iy=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({}),c})(),bC=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Iy,Bn.BQ,Bn.si,Oi.ez,Iy,Bn.BQ]}),c})();const nx=["exampleLink"];function rx(c,p){if(1&c){const r=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(r);const A=l.oxw();return l.KtG(A.clearSearch())}),l.TgZ(1,"mat-icon"),l._uU(2,"close"),l.qZA()()}}const ox=function(c){return{_routerLinkActiveWakeUpHack_:c}};function Mg(c,p){if(1&c&&(l.TgZ(0,"a",14,15),l._uU(2),l.qZA()),2&c){const r=l.oxw().$implicit,m=l.oxw(2);l.Q6J("routerLink","/demo/"+(m.isEditMode?"/edit/":"")+r.path)("routerLinkActiveOptions",l.VKq(3,ox,m.isEditMode)),l.xp6(2),l.hij(" ",r.data.label," ")}}function zm(c,p){if(1&c&&(l.ynx(0),l.YNc(1,Mg,3,5,"a",13),l.BQk()),2&c){const r=p.$implicit;l.xp6(1),l.Q6J("ngIf",r)}}function Dg(c,p){if(1&c&&(l.ynx(0),l.TgZ(1,"h3",12),l._uU(2),l.qZA(),l.YNc(3,zm,2,1,"ng-container",9),l._UZ(4,"mat-divider"),l.BQk()),2&c){const r=p.$implicit,m=l.oxw();l.xp6(2),l.Oqu(r),l.xp6(1),l.Q6J("ngForOf",m.routes[r])}}let Yp=(()=>{class c{constructor(r,m,A,z){this.zone=r,this.router=m,this.activatedRoute=A,this.mapResizeService=z,this.sidenavIsOpen=!0,this.isEditMode=!!this.activatedRoute.snapshot.firstChild.params.demoUrl,this.originalRoutes=Yt(Mf[0].children,re=>re.data?re.data.cat:null),this.categories=[nn.STYLES,nn.LAYERS,nn.SOURCES,nn.USER_INTERACTION,nn.CAMERA,nn.CONTROLS_AND_OVERLAYS,nn.TERRAIN]}ngOnInit(){this.routes=this.originalRoutes}ngAfterViewInit(){this.scrollInToActiveExampleLink()}toggleSidenav(){this.sidenavIsOpen=!this.sidenavIsOpen}toggleEdit(r){const m=this.activatedRoute.snapshot.firstChild;this.router.navigate(r.checked?["demo","edit",m.url[0].path]:["demo",m.params.demoUrl])}onSidenavChange(){this.mapResizeService.resize$.next(void 0)}search(){this.routes=function A0(c){return T0(c,5)}(this.originalRoutes),Object.values(this.routes).forEach(r=>{r.forEach((m,A)=>{m.data&&!m.data.label.toLowerCase().includes(this.searchTerm.toLowerCase())&&delete r[A]})})}clearSearch(){this.searchTerm="",this.routes=this.originalRoutes}scrollInToActiveExampleLink(){this.zone.onStable.pipe((0,Aa.P)()).subscribe(()=>{const r=this.exampleLinks.find(m=>m.nativeElement.classList.contains("active"));r&&function R0(c,p){var r=c.isConnected||c.ownerDocument.documentElement.contains(c);if(ey(p)&&"function"==typeof p.behavior)return p.behavior(r?Q_(c,p):[]);if(r){var m=function O0(c){return!1===c?{block:"end",inline:"nearest"}:ey(c)?c:{block:"start",inline:"nearest"}}(p);(function ty(c,p){void 0===p&&(p="auto");var r="scrollBehavior"in document.body.style;c.forEach(function(m){var A=m.el,z=m.top,re=m.left;A.scroll&&r?A.scroll({top:z,left:re,behavior:p}):(A.scrollTop=z,A.scrollLeft=re)})})(Q_(c,m),m.behavior)}}(r.nativeElement,{block:"center",scrollMode:"if-needed"})})}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.R0b),l.Y36(ae.F0),l.Y36(ae.gz),l.Y36(iy))},c.\u0275cmp=l.Xpm({type:c,selectors:[["ng-component"]],viewQuery:function(r,m){if(1&r&&l.Gf(nx,5,l.SBq),2&r){let A;l.iGM(A=l.CRH())&&(m.exampleLinks=A)}},decls:18,vars:5,consts:[["position","left"],["mat-button","",1,"menu-button",3,"click"],["position","right"],["color","accent",3,"ngModel","ngModelChange","change"],["mode","side",3,"opened","openedChange"],["sidenav",""],[1,"search"],["matInput","","type","text","placeholder","Search",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"content"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["matSubheader",""],["mat-list-item","","routerLinkActive","active",3,"routerLink","routerLinkActiveOptions",4,"ngIf"],["mat-list-item","","routerLinkActive","active",3,"routerLink","routerLinkActiveOptions"],["exampleLink",""]],template:function(r,m){1&r&&(l.TgZ(0,"showcase-layout-toolbar-menu",0)(1,"button",1),l.NdJ("click",function(){return m.toggleSidenav()}),l.TgZ(2,"mat-icon"),l._uU(3,"menu"),l.qZA()()(),l.TgZ(4,"showcase-layout-toolbar-menu",2)(5,"mat-slide-toggle",3),l.NdJ("ngModelChange",function(z){return m.isEditMode=z})("change",function(z){return m.toggleEdit(z)}),l._uU(6," Edit! "),l.qZA()(),l.TgZ(7,"mat-sidenav-container")(8,"mat-sidenav",4,5),l.NdJ("openedChange",function(){return m.onSidenavChange()}),l.TgZ(10,"mat-form-field",6)(11,"input",7),l.NdJ("ngModelChange",function(z){return m.searchTerm=z})("ngModelChange",function(){return m.search()}),l.qZA(),l.YNc(12,rx,3,0,"button",8),l.qZA(),l.TgZ(13,"mat-nav-list"),l.YNc(14,Dg,5,2,"ng-container",9),l.qZA()(),l.TgZ(15,"mat-sidenav-content")(16,"section",10),l._UZ(17,"router-outlet"),l.qZA()()()),2&r&&(l.xp6(5),l.Q6J("ngModel",m.isEditMode),l.xp6(3),l.Q6J("opened",m.sidenavIsOpen),l.xp6(3),l.Q6J("ngModel",m.searchTerm),l.xp6(1),l.Q6J("ngIf",m.searchTerm),l.xp6(2),l.Q6J("ngForOf",m.categories))},dependencies:[ae.lC,ae.rH,ae.Od,Oi.sg,Oi.O5,Ca.Fj,Ca.JJ,Ca.On,F0.a,Qc.lW,Qc.RK,W0,py,Z0,ny,by,bu.KE,bu.R9,$e.Hw,Cg,Eg,Wp,Ty],styles:["[_nghost-%COMP%], .content[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:row}mat-sidenav[_ngcontent-%COMP%]{width:345px;display:flex;flex-direction:column;flex:1}mat-nav-list[_ngcontent-%COMP%]{overflow-y:auto}mat-sidenav-container[_ngcontent-%COMP%]{flex:1}.content[_ngcontent-%COMP%]{height:100%}mat-form-field.search[_ngcontent-%COMP%]{width:100%;margin-bottom:-1.25em}a.active[_ngcontent-%COMP%]{color:#fff;background-color:#3f51b5!important}"]}),c})(),Gn=(()=>{class c{constructor(r,m){this.mapResizeService=r,this.map=m,this.sub=new Zs.w0}ngOnInit(){this.sub.add(this.mapResizeService.resize$.subscribe(()=>{this.map.mapInstance.resize()}))}ngOnDestroy(){this.sub.unsubscribe()}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(iy),l.Y36(un))},c.\u0275dir=l.lG2({type:c,selectors:[["mgl-map"]]}),c})(),Ln=(()=>{class c{constructor(r){this.map=r,null!=window.Cypress&&(console.info("Cypress detected. Setting preserveDrawingBuffer=true"),this.map.preserveDrawingBuffer=!0)}onMapIdle(r){window.mglMapTestHelper.map=r.target,window.mglMapTestHelper.idle=!0}onMapRender(r){window.mglMapTestHelper.map=r.target,window.mglMapTestHelper.idle=!1}onMapLoad(r){window.mglMapTestHelper.map=r.target,window.mglMapTestHelper.loaded=!0}ngOnInit(){window.mglMapTestHelper={mapComponent:this.map}}ngOnDestroy(){window.mglMapTestHelper=void 0}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(un))},c.\u0275dir=l.lG2({type:c,selectors:[["mgl-map"]],hostBindings:function(r,m){1&r&&l.NdJ("idle",function(z){return m.onMapIdle(z)})("render",function(z){return m.onMapRender(z)})("mapLoad",function(z){return m.onMapLoad(z)})}}),c})();const Ay=function(c){return[c,40.7135]},sx=function(){return["==","extrude","true"]},_h=function(){return["linear"]},ky=function(){return["zoom"]},ax=function(){return["get","height"]},Py=function(c,p,r){return["interpolate",c,p,15,0,15.05,r]},lx=function(){return["get","min_height"]},Sg=function(c,p){return{"fill-extrusion-color":"#aaa","fill-extrusion-height":c,"fill-extrusion-base":p,"fill-extrusion-opacity":.6}};let Kp=(()=>{class c{onLoad(r){const m=r.getStyle().layers;for(let A=0;A<m.length;A++)if("symbol"===m[A].type&&m[A].layout["text-field"]){this.labelLayerId=m[A].id;break}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:30,consts:[[3,"zoom","center","pitch","bearing","mapLoad"],["id","3d-buildings","source","openmaptiles","sourceLayer","building","type","fill-extrusion",3,"filter","minzoom","paint","before"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map",0),l.NdJ("mapLoad",function(z){return m.onLoad(z)}),l._UZ(1,"mgl-layer",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",15.5)("center",l.VKq(10,Ay,-74.0066))("pitch",45)("bearing",-17.6),l.xp6(1),l.Q6J("filter",l.DdM(12,sx))("minzoom",15)("paint",l.WLB(27,Sg,l.kEZ(16,Py,l.DdM(13,_h),l.DdM(14,ky),l.DdM(15,ax)),l.kEZ(23,Py,l.DdM(20,_h),l.DdM(21,ky),l.DdM(22,lx))))("before",m.labelLayerId))},dependencies:[un,Qr,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const Xp=function(c){return{width:64,height:64,data:c}},xC=function(){return[0,0]},cx=function(c){return{type:"Point",coordinates:c}},dx=function(c){return{type:"Feature",geometry:c}},Tg=function(c){return[c]},ux=function(c){return{type:"FeatureCollection",features:c}},Oy=function(c){return{type:"geojson",data:c}},hx=function(){return{"icon-image":"gradient"}};let mx=(()=>{class c{ngOnInit(){this.imageData=this.generateImage()}generateImage(){const A=new Uint8Array(16384);for(let z=0;z<64;z++)for(let re=0;re<64;re++){const ve=4*(64*re+z);A[ve+0]=re/64*255,A[ve+1]=z/64*255,A[ve+2]=128,A[ve+3]=255}return A}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:3,vars:19,consts:[["id","gradient",3,"data"],["id","points","type","symbol",3,"source","layout"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map"),l._UZ(1,"mgl-image",0)(2,"mgl-layer",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.xp6(1),l.Q6J("data",l.VKq(5,Xp,m.imageData)),l.xp6(1),l.Q6J("source",l.VKq(16,Oy,l.VKq(14,ux,l.VKq(12,Tg,l.VKq(10,dx,l.VKq(8,cx,l.DdM(7,xC)))))))("layout",l.DdM(18,hx)))},dependencies:[un,Qr,Dl,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();function Ry(c,p){if(1&c&&l._UZ(0,"mgl-image",3),2&c){const r=p.$implicit;l.Q6J("id",r.id)("data",r)}}const Fy=function(){return[0,0]},Jp=function(c){return{type:"Point",coordinates:c}},px=function(){return{color:"255,0,0"}},Ig=function(c,p){return{type:"Feature",geometry:c,properties:p}},fx=function(){return[50,0]},Ly=function(){return{color:"255,209,28"}},Ag=function(c){return[c,0]},kg=function(){return{color:"242,127,32"}},gx=function(c,p,r){return[c,p,r]},Qp=function(c){return{type:"FeatureCollection",features:c}},ef=function(c){return{type:"geojson",data:c}},Pg=function(){return["get","color"]},Ny=function(c){return["concat","square-rgb-",c]},_x=function(c){return{"icon-image":c}};let yx=(()=>{class c{constructor(){this.imagesData=[]}generateImage({id:r}){const m="square-rgb-";if(0!==r.indexOf(m))return;const A=r.replace(m,"").split(",").map(Number),ve=new Uint8Array(16384);for(let mt=0;mt<64;mt++)for(let Bt=0;Bt<64;Bt++){const Gt=4*(64*Bt+mt);ve[Gt+0]=A[0],ve[Gt+1]=A[1],ve[Gt+2]=A[2],ve[Gt+3]=255}this.imagesData=[...this.imagesData,{id:r,width:64,height:64,data:ve}]}trackByImage(r,m){return m.id}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:3,vars:41,consts:[[3,"styleImageMissing"],[3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],["id","points","type","symbol",3,"source","layout"],[3,"id","data"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map",0),l.NdJ("styleImageMissing",function(z){return m.generateImage(z)}),l.YNc(1,Ry,1,2,"mgl-image",1),l._UZ(2,"mgl-layer",2),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.xp6(1),l.Q6J("ngForOf",m.imagesData)("ngForTrackBy",m.trackByImage),l.xp6(1),l.Q6J("source",l.VKq(34,ef,l.VKq(32,Qp,l.kEZ(28,gx,l.WLB(10,Ig,l.VKq(7,Jp,l.DdM(6,Fy)),l.DdM(9,px)),l.WLB(17,Ig,l.VKq(14,Jp,l.DdM(13,fx)),l.DdM(16,Ly)),l.WLB(25,Ig,l.VKq(22,Jp,l.VKq(20,Ag,-50)),l.DdM(24,kg))))))("layout",l.VKq(39,_x,l.VKq(37,Ny,l.DdM(36,Pg)))))},dependencies:[Oi.sg,un,Qr,Dl,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const vx=function(){return[0,0]},tf=function(c){return{type:"Point",coordinates:c}},nf=function(c){return{type:"Feature",geometry:c}},Og=function(c){return[c]},zy=function(c){return{type:"FeatureCollection",features:c}},bx=function(c){return{type:"geojson",data:c}},xx=function(){return{"icon-image":"cat","icon-size":.25}};function By(c,p){1&c&&l._UZ(0,"mgl-layer",2),2&c&&l.Q6J("source",l.VKq(11,bx,l.VKq(9,zy,l.VKq(7,Og,l.VKq(5,nf,l.VKq(3,tf,l.DdM(2,vx)))))))("layout",l.DdM(13,xx))}let Rg=(()=>{class c{constructor(){this.imageLoaded=!1}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:3,vars:3,consts:[["id","cat","url","https://upload.wikimedia.org/wikipedia/commons/thumb/6/60/Cat_silhouette.svg/400px-Cat_silhouette.svg.png",3,"imageLoaded"],["id","points","type","symbol",3,"source","layout",4,"ngIf"],["id","points","type","symbol",3,"source","layout"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map")(1,"mgl-image",0),l.NdJ("imageLoaded",function(){return m.imageLoaded=!0}),l.qZA(),l.YNc(2,By,1,14,"mgl-layer",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.xp6(2),l.Q6J("ngIf",m.imageLoaded))},dependencies:[Oi.O5,un,Qr,Dl,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const Vy=function(c){return[c,38.907]},Fg=function(){return[11.15]};let Lg=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:8,consts:[[3,"center","zoom","attributionControl"],["mglAttribution","","position","top-left"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-control",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("center",l.VKq(5,Vy,-77.04))("zoom",l.DdM(7,Fg))("attributionControl",!1))},dependencies:[un,Cr,$t,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();function wx(c,p){1&c&&l._UZ(0,"mgl-feature",4),2&c&&l.Q6J("geometry",p.$implicit)}const Uy=function(){return[8]},jy=function(){return{"icon-image":"oneway"}};let Hy=(()=>{class c{constructor(){this.center=[-90.96,-.47],this.geometries=[{type:"Point",coordinates:[-91.395263671875,-.9145729757782163]},{type:"Point",coordinates:[-90.32958984375,-.6344474832838974]},{type:"Point",coordinates:[-91.34033203125,.01647949196029245]}]}centerMapTo(r){this.center=r.features[0].geometry.coordinates}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:4,vars:9,consts:[[3,"zoom","center","cursorStyle","mapLoad"],["id","symbols-source"],[3,"geometry",4,"ngFor","ngForOf"],["id","symbols","type","symbol","source","symbols-source",3,"layout","layerClick","layerMouseEnter","layerMouseLeave"],[3,"geometry"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map",0),l.NdJ("mapLoad",function(z){return m.map=z}),l.TgZ(1,"mgl-geojson-source",1),l.YNc(2,wx,1,1,"mgl-feature",2),l.qZA(),l.TgZ(3,"mgl-layer",3),l.NdJ("layerClick",function(z){return m.centerMapTo(z)})("layerMouseEnter",function(){return m.cursorStyle="pointer"})("layerMouseLeave",function(){return m.cursorStyle=""}),l.qZA()()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(7,Uy))("center",m.center)("cursorStyle",m.cursorStyle),l.xp6(2),l.Q6J("ngForOf",m.geometries),l.xp6(1),l.Q6J("layout",l.DdM(8,jy)))},dependencies:[Oi.sg,un,Qr,Jr,No,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();function $y(c,p){1&c&&l._UZ(0,"showcase-cluster-point",6),2&c&&l.Q6J("properties",p.$implicit.properties)}const Cx=function(){return[.3]},Gy=function(){return[0,20]},Ng=function(){return["!=","cluster",!0]},zg=function(c){return{fill:c}};function Bg(c,p){if(1&c&&(l.O4$(),l._UZ(0,"path",4)),2&c){const r=p.$implicit;l.Q6J("ngStyle",l.VKq(2,zg,r.fill)),l.uIk("d",r.d)}}const Zy=function(c){return{font:c}},Eu=["#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c"];let Wy=(()=>{class c{constructor(){const r=["<",["get","mag"],2],m=["all",[">=",["get","mag"],2],["<",["get","mag"],3]],A=["all",[">=",["get","mag"],3],["<",["get","mag"],4]],z=["all",[">=",["get","mag"],4],["<",["get","mag"],5]];this.clusterProperties={mag1:["+",["case",r,1,0]],mag2:["+",["case",m,1,0]],mag3:["+",["case",A,1,0]],mag4:["+",["case",z,1,0]],mag5:["+",["case",[">=",["get","mag"],5],1,0]]},this.circlePaint={"circle-color":["case",r,Eu[0],m,Eu[1],A,Eu[2],z,Eu[3],Eu[4]],"circle-opacity":.6,"circle-radius":12},this.labelLayout={"text-field":["number-format",["get","mag"],{"min-fraction-digits":1,"max-fraction-digits":1}],"text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-size":10},this.labelPaint={"text-color":["case",["<",["get","mag"],3],"black","white"]}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:6,vars:16,consts:[[3,"zoom","center"],["id","earthquakes","data","https://maplibre.org/maplibre-gl-js-docs/assets/earthquakes.geojson",3,"cluster","clusterRadius","clusterProperties"],["source","earthquakes"],["mglClusterPoint",""],["id","earthquake_circle","type","circle","source","earthquakes",3,"filter","paint"],["id","earthquake_label","type","symbol","source","earthquakes",3,"filter","layout","paint"],[3,"properties"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-geojson-source",1),l.TgZ(2,"mgl-markers-for-clusters",2),l.YNc(3,$y,1,1,"ng-template",3),l.qZA(),l._UZ(4,"mgl-layer",4)(5,"mgl-layer",5),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(12,Cx))("center",l.DdM(13,Gy)),l.xp6(1),l.Q6J("cluster",!0)("clusterRadius",80)("clusterProperties",m.clusterProperties),l.xp6(3),l.Q6J("filter",l.DdM(14,Ng))("paint",m.circlePaint),l.xp6(1),l.Q6J("filter",l.DdM(15,Ng))("layout",m.labelLayout)("paint",m.labelPaint))},dependencies:function(){return[un,Qr,Jr,bs,jr,Gn,qy,Ln]},styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})(),qy=(()=>{class c{ngOnInit(){const r=[],m=[this.properties.mag1,this.properties.mag2,this.properties.mag3,this.properties.mag4,this.properties.mag5];let A=0;for(let re=0;re<m.length;re++)r.push(A),A+=m[re];this.font=(A>=1e3?22:A>=100?20:A>=10?18:16)+"px sans-serif",this.r=A>=1e3?50:A>=100?32:A>=10?24:18,this.r0=Math.round(.6*this.r),this.w=2*this.r,this.viewbox=`0 0 ${this.w} ${this.w}`,this.textTransform=`translate(${this.r}, ${this.r})`,this.segments=[];for(let re=0;re<m.length;re++)this.segments.push(this.donutSegment(r[re]/A,(r[re]+m[re])/A,Eu[re]));this.totalString=A.toLocaleString()}donutSegment(r,m,A){m-r==1&&(m-=1e-5);const z=2*Math.PI*(r-.25),re=2*Math.PI*(m-.25),ve=Math.cos(z),Je=Math.sin(z),mt=Math.cos(re),Bt=Math.sin(re),Gt=m-r>.5?1:0;return{d:`M ${this.r+this.r0*ve} ${this.r+this.r0*Je} L ${this.r+this.r*ve} ${this.r+this.r*Je} A ${this.r} ${this.r} 0 ${Gt} 1 ${this.r+this.r*mt} ${this.r+this.r*Bt} L ${this.r+this.r0*mt} ${this.r+this.r0*Bt} A ${this.r0} ${this.r0} 0 ${Gt} 0 ${this.r+this.r0*ve} ${this.r+this.r0*Je}`,fill:A}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-cluster-point"]],inputs:{properties:"properties"},decls:5,vars:12,consts:[["text-anchor","middle",3,"ngStyle"],[3,"ngStyle",4,"ngFor","ngForOf"],["fill","white"],["dominant-baseline","central"],[3,"ngStyle"]],template:function(r,m){1&r&&(l.O4$(),l.TgZ(0,"svg",0),l.YNc(1,Bg,1,4,"path",1),l._UZ(2,"circle",2),l.TgZ(3,"text",3),l._uU(4),l.qZA()()),2&r&&(l.Q6J("ngStyle",l.VKq(10,Zy,m.font)),l.uIk("width",m.w)("height",m.w)("viewbox",m.viewbox),l.xp6(1),l.Q6J("ngForOf",m.segments),l.xp6(1),l.uIk("cx",m.r)("cy",m.r)("r",m.r0),l.xp6(1),l.uIk("transform",m.textTransform),l.xp6(1),l.hij(" ",m.totalString," "))},dependencies:[Oi.sg,Oi.PC],encapsulation:2}),c})();const Vg=function(){return["has","point_count"]},Yy=function(){return[0,"#51bbd6"]},Ky=function(){return[100,"#f1f075"]},Xy=function(){return[750,"#f28cb1"]},Bm=function(c,p,r){return[c,p,r]},nd=function(c){return{property:"point_count",type:"interval",stops:c}},Ex=function(){return[0,20]},Mx=function(){return[100,30]},Ug=function(){return[750,40]},Mu=function(c,p){return{"circle-color":c,"circle-radius":p}},jg=function(){return["DIN Offc Pro Medium","Arial Unicode MS Bold"]},Dx=function(c){return{"text-field":"{point_count_abbreviated}","text-font":c,"text-size":12}},Hg=function(){return["!has","point_count"]},wC=function(){return{"circle-color":"#11b4da","circle-radius":4,"circle-stroke-width":1,"circle-stroke-color":"#fff"}};function CC(c,p){if(1&c&&(l.ynx(0),l._UZ(1,"mgl-geojson-source",2)(2,"mgl-layer",3)(3,"mgl-layer",4)(4,"mgl-layer",5),l.BQk()),2&c){const r=l.oxw();l.xp6(1),l.Q6J("data",r.earthquakes)("cluster",!0)("clusterMaxZoom",14)("clusterRadius",50),l.xp6(1),l.Q6J("filter",l.DdM(10,Vg))("paint",l.WLB(29,Mu,l.VKq(18,nd,l.kEZ(14,Bm,l.DdM(11,Yy),l.DdM(12,Ky),l.DdM(13,Xy))),l.VKq(27,nd,l.kEZ(23,Bm,l.DdM(20,Ex),l.DdM(21,Mx),l.DdM(22,Ug))))),l.xp6(1),l.Q6J("filter",l.DdM(32,Vg))("layout",l.VKq(34,Dx,l.DdM(33,jg))),l.xp6(1),l.Q6J("filter",l.DdM(36,Hg))("paint",l.DdM(37,wC))}}const Sx=function(){return[3]},Tx=function(c){return[c,40.66995747013945]};let Jy=(()=>{class c{ngOnInit(){var r=this;return Fr(function*(){r.earthquakes=yield j.e(45).then(j.t.bind(j,3045,19))})()}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:8,consts:[[3,"zoom","center"],[4,"ngIf"],["id","earthquakes",3,"data","cluster","clusterMaxZoom","clusterRadius"],["id","clusters","type","circle","source","earthquakes",3,"filter","paint"],["id","cluster-count","type","symbol","source","earthquakes",3,"filter","layout"],["id","unclustered-point","type","circle","source","earthquakes",3,"filter","paint"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map",0),l.YNc(1,CC,5,38,"ng-container",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(5,Sx))("center",l.VKq(6,Tx,-103.59179687498357)),l.xp6(1),l.Q6J("ngIf",m.earthquakes))},dependencies:[Oi.O5,un,Qr,Jr,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const Ix=function(c){return[c,38.907]},Bs=function(){return[11.15]},Ax=function(){return['<a href="https://github.com/Wykks/ngx-mapbox-gl" target="_blank">Maps made awesome in Angular</a>',"Hello World"]};let kx=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:10,consts:[[3,"center","zoom","attributionControl"],["mglAttribution","","position","bottom-right",3,"customAttribution"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-control",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("center",l.VKq(6,Ix,-77.04))("zoom",l.DdM(8,Bs))("attributionControl",!1),l.xp6(1),l.Q6J("customAttribution",l.DdM(9,Ax)))},dependencies:[un,Cr,$t,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const ev=function(){return[36.235656,50.00387]},Px=function(){return[11.15]};let tv=(()=>{class c{constructor(){this.locale={"FullscreenControl.Enter":"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u043e\u0432\u043d\u043e\u0435\u043a\u0440\u0430\u043d\u043d\u0438\u0439 \u0440\u0435\u0436\u0438\u043c","FullscreenControl.Exit":"\u0412\u0438\u0439\u0442\u0438 \u0437 \u043f\u043e\u0432\u043d\u043e\u0435\u043a\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0440\u0435\u0436\u0438\u043c\u0443","GeolocateControl.FindMyLocation":"\u0417\u043d\u0430\u0439\u0442\u0438 \u043c\u043e\u0454 \u043c\u0456\u0441\u0446\u0435\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u043d\u044f","GeolocateControl.LocationNotAvailable":"\u041c\u0456\u0441\u0446\u0435\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u043d\u044f \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0435","LogoControl.Title":"\u041b\u043e\u0433\u043e Mapbox","NavigationControl.ResetBearing":"C\u043a\u0438\u043d\u0443\u0442\u0438 \u043a\u043e\u043c\u043f\u0430\u0441","NavigationControl.ZoomIn":"\u041d\u0430\u0431\u043b\u0438\u0437\u0438\u0442\u0438","NavigationControl.ZoomOut":"\u0412\u0456\u0434\u0434\u0430\u043b\u0438\u0442\u0438","ScaleControl.Feet":"\u0444","ScaleControl.Meters":"\u043c","ScaleControl.Kilometers":"\u043a\u043c","ScaleControl.Miles":"\u043c\u0438","ScaleControl.NauticalMiles":"\u043d\u043c"}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:5,vars:7,consts:[[3,"center","zoom","locale"],["mglFullscreen","","position","top-left"],["mglGeolocate","","position","top-left"],["mglNavigation","","position","top-left"],["mglScale",""]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-control",1)(2,"mgl-control",2)(3,"mgl-control",3)(4,"mgl-control",4),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("center",l.DdM(5,ev))("zoom",l.DdM(6,Px))("locale",m.locale))},dependencies:[un,Cr,me,Pt,qe,Ui,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const iv=function(c,p,r){return{"background-image":c,width:p,height:r}};function yh(c,p){if(1&c){const r=l.EpF();l.TgZ(0,"mgl-marker",2)(1,"div",3),l.NdJ("click",function(){const z=l.CHM(r).$implicit,re=l.oxw();return l.KtG(re.alert(z.properties.message))}),l.qZA()()}if(2&c){const r=p.$implicit;l.Q6J("feature",r),l.xp6(1),l.Q6J("ngStyle",l.kEZ(2,iv,"url(https://placekitten.com/g/"+r.properties.iconSize.join("/")+"/)",r.properties.iconSize[0]+"px",r.properties.iconSize[1]+"px"))}}const Ox=function(){return[5]},Rx=function(c,p){return[c,p]};let nv=(()=>{class c{constructor(){this.geojson={type:"FeatureCollection",features:[{type:"Feature",properties:{message:"Foo",iconSize:[60,60]},geometry:{type:"Point",coordinates:[-66.324462890625,-16.024695711685304]}},{type:"Feature",properties:{message:"Bar",iconSize:[50,50]},geometry:{type:"Point",coordinates:[-61.2158203125,-15.97189158092897]}},{type:"Feature",properties:{message:"Baz",iconSize:[40,40]},geometry:{type:"Point",coordinates:[-63.29223632812499,-18.28151823530889]}}]}}alert(r){alert(r)}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:9,consts:[[3,"zoom","center"],[3,"feature",4,"ngFor","ngForOf"],[3,"feature"],[1,"marker",3,"ngStyle","click"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map",0),l.YNc(1,yh,2,6,"mgl-marker",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(5,Ox))("center",l.WLB(6,Rx,-65.017,-16.457)),l.xp6(1),l.Q6J("ngForOf",m.geojson.features))},dependencies:[Oi.sg,Oi.PC,un,zo,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".marker[_ngcontent-%COMP%]{border:none;border-radius:50%;cursor:pointer;padding:0}"]}),c})();const Fx=function(){return[3]},rv=function(c){return[c,39]};let EC=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:1,vars:7,consts:[[3,"zoom","center"]],template:function(r,m){1&r&&l._UZ(0,"mgl-map",0),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(4,Fx))("center",l.VKq(5,rv,-77.38)))},dependencies:[un,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const $g=function(){return[9]},Gg=function(c){return[c,40]};let tc=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:1,vars:7,consts:[[3,"zoom","center"]],template:function(r,m){1&r&&l._UZ(0,"mgl-map",0),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(4,$g))("center",l.VKq(5,Gg,-74.5)))},dependencies:[un,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const Lx=["*"],sv=new l.OlP("MAT_CARD_CONFIG");let rf=(()=>{class c{constructor(r){this.appearance=r?.appearance||"raised"}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(sv,8))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,m){2&r&&l.ekj("mat-mdc-card-outlined","outlined"===m.appearance)("mdc-card--outlined","outlined"===m.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:Lx,decls:1,vars:0,template:function(r,m){1&r&&(l.F$t(),l.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),c})(),lv=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Bn.BQ,Oi.ez,Bn.BQ]}),c})();function cv(c,p){if(1&c&&(l.TgZ(0,"mgl-control",3)(1,"mat-card",4)(2,"div"),l._uU(3),l.qZA(),l.TgZ(4,"div"),l._uU(5),l.qZA()()()),2&c){const r=l.oxw();l.xp6(3),l.hij("Longitude:\xa0",r.coordinates[0],""),l.xp6(2),l.hij("Latitude:\xa0",r.coordinates[1],"")}}const dv=function(){return[2]},uv=function(){return[0,0]};let Vx=(()=>{class c{constructor(){this.color="#3887be"}onDragEnd(r){this.coordinates=r.getLngLat().toArray()}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:3,vars:10,consts:[[3,"zoom","center"],[3,"lngLat","draggable","markerDragEnd"],["position","bottom-left",4,"ngIf"],["position","bottom-left"],["appearance","outlined"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map",0)(1,"mgl-marker",1),l.NdJ("markerDragEnd",function(z){return m.onDragEnd(z)}),l.qZA(),l.YNc(2,cv,6,2,"mgl-control",2),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(7,dv))("center",l.DdM(8,uv)),l.xp6(1),l.Q6J("lngLat",l.DdM(9,uv))("draggable",!0),l.xp6(1),l.Q6J("ngIf",m.coordinates))},dependencies:[Oi.O5,un,zo,Cr,rf,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const Wg=function(){return[13]},af=function(){return[11.255,43.77]};let hv=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:6,consts:[[3,"zoom","center"],["mglFullscreen",""]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-control",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(4,Wg))("center",l.DdM(5,af)))},dependencies:[un,Cr,me,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const mv=function(){return[15]},pv=function(c){return[c,37.830348]},fv=function(){return{}},gv=function(c){return[c,37.83381888486939]},_v=function(c){return[c,37.83317489144141]},yv=function(c){return[c,37.83270036637107]},vv=function(c){return[c,37.832056363179625]},bv=function(c){return[c,37.83114119107971]},Ux=function(c){return[c,37.83049717427869]},jx=function(c){return[c,37.829920943955045]},Hx=function(c){return[c,37.82954808664175]},$x=function(c){return[c,37.82944639795659]},Gx=function(c){return[c,37.82880236636284]},Zx=function(c){return[c,37.82931081282506]},Wx=function(c){return[c,37.83080223556934]},qx=function(c){return[c,37.83168351665737]},Yx=function(c){return[c,37.832158048267786]},Kx=function(c){return[c,37.83297152392784]},Xx=function(c){return[c,37.83263257682617]},Jx=function(c){return[c,37.832937629287755]},Qx=function(c){return[c,37.832429207817725]},ew=function(c){return[c,37.832564787218985]},tw=function(c){return[c,37.83337825839438]},iw=function(c){return[c,37.83368330777276]},nw=function(c,p,r,m,A,z,re,ve,Je,mt,Bt,Gt,Mi,zi,Fi,Bi,wn,Yn,xr,wo,kr){return[c,p,r,m,A,z,re,ve,Je,mt,Bt,Gt,Mi,zi,Fi,Bi,wn,Yn,xr,wo,kr]},xv=function(c){return{type:"LineString",coordinates:c}},wv=function(c,p){return{type:"Feature",properties:c,geometry:p}},Cv=function(c){return{type:"geojson",data:c}},Ev=function(){return{"line-join":"round","line-cap":"round"}},Mv=function(){return{"line-color":"#888","line-width":8}};let Dv=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:84,consts:[[3,"zoom","center"],["id","route","type","line",3,"source","layout","paint"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-layer",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(7,mv))("center",l.VKq(8,pv,-122.486052)),l.xp6(1),l.Q6J("source",l.VKq(80,Cv,l.WLB(77,wv,l.DdM(10,fv),l.VKq(75,xv,l.rFY(53,nw,[l.VKq(11,gv,-122.48369693756104),l.VKq(13,_v,-122.48348236083984),l.VKq(15,yv,-122.48339653015138),l.VKq(17,vv,-122.48356819152832),l.VKq(19,bv,-122.48404026031496),l.VKq(21,Ux,-122.48404026031496),l.VKq(23,jx,-122.48348236083984),l.VKq(25,Hx,-122.48356819152832),l.VKq(27,$x,-122.48507022857666),l.VKq(29,Gx,-122.48610019683838),l.VKq(31,Zx,-122.48695850372314),l.VKq(33,Wx,-122.48700141906738),l.VKq(35,qx,-122.48751640319824),l.VKq(37,Yx,-122.48803138732912),l.VKq(39,Kx,-122.48888969421387),l.VKq(41,Xx,-122.48987674713133),l.VKq(43,Jx,-122.49043464660643),l.VKq(45,Qx,-122.49125003814696),l.VKq(47,ew,-122.49163627624512),l.VKq(49,tw,-122.49223709106445),l.VKq(51,iw,-122.49378204345702)])))))("layout",l.DdM(82,Ev))("paint",l.DdM(83,Mv)))},dependencies:[un,Qr,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();function Sv(c,p){if(1&c&&l._UZ(0,"mgl-layer",5),2&c){const r=p.$implicit;l.Q6J("id",r.id)("type",r.type)("filter",r.filter)("paint",r.paint)}}const Tv=function(){return["!=","cluster",!0]},Iv=function(){return{"circle-color":"rgba(0,255,0,0.5)","circle-radius":20,"circle-blur":1}};function qg(c,p){if(1&c&&(l.ynx(0),l._UZ(1,"mgl-geojson-source",2),l.YNc(2,Sv,1,4,"mgl-layer",3),l._UZ(3,"mgl-layer",4),l.BQk()),2&c){const r=l.oxw();l.xp6(1),l.Q6J("data",r.earthquakes)("cluster",!0)("clusterMaxZoom",15)("clusterRadius",20),l.xp6(1),l.Q6J("ngForOf",r.clusterLayers),l.xp6(1),l.Q6J("filter",l.DdM(7,Tv))("paint",l.DdM(8,Iv))}}const Yg=function(){return[3]},Du=function(c){return[c,40.66995747013945]};let rw=(()=>{class c{ngOnInit(){var r=this;return Fr(function*(){r.earthquakes=yield j.e(45).then(j.t.bind(j,3045,19));const m=[[0,"green"],[20,"orange"],[200,"red"]];r.clusterLayers=m.map((A,z)=>({type:"circle",id:`cluster-${z}`,paint:{"circle-color":A[1],"circle-radius":70,"circle-blur":1},filter:z===m.length-1?[">=","point_count",A[0]]:["all",[">=","point_count",A[0]],["<","point_count",m[z+1][0]]]}))})()}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:8,consts:[[3,"zoom","center"],[4,"ngIf"],["id","earthquakes",3,"data","cluster","clusterMaxZoom","clusterRadius"],["source","earthquakes",3,"id","type","filter","paint",4,"ngFor","ngForOf"],["id","unclustered-point","type","circle","source","earthquakes",3,"filter","paint"],["source","earthquakes",3,"id","type","filter","paint"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map",0),l.YNc(1,qg,4,9,"ng-container",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(5,Yg))("center",l.VKq(6,Du,-103.59179687498357)),l.xp6(1),l.Q6J("ngIf",m.earthquakes))},dependencies:[Oi.sg,Oi.O5,un,Qr,Jr,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const ow=function(){return[2]},vh=function(c){return[c,37.830348]},OC=function(){return{"fill-color":"#627BC1","fill-opacity":.5}},Kg=function(){return{"line-color":"#627BC1","line-width":2}},RC=function(){return{"fill-color":"#627BC1","fill-opacity":1}};let Av=(()=>{class c{constructor(){this.hoverFilter=["==","name",""]}activateHoverOn(r){this.hoverFilter=["==","name",r.features[0].properties.name]}disableHover(){this.hoverFilter=["==","name",""]}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:5,vars:14,consts:[[3,"zoom","center"],["id","states","data","https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_110m_admin_1_states_provinces.geojson"],["id","state-fills","type","fill","source","states",3,"paint","layerMouseMove","layerMouseLeave"],["id","state-borders","type","line","source","states",3,"paint"],["id","state-fills-hover","type","fill","source","states",3,"paint","filter"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-geojson-source",1),l.TgZ(2,"mgl-layer",2),l.NdJ("layerMouseMove",function(z){return m.activateHoverOn(z)})("layerMouseLeave",function(){return m.disableHover()}),l.qZA(),l._UZ(3,"mgl-layer",3)(4,"mgl-layer",4),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(8,ow))("center",l.VKq(9,vh,-100.486052)),l.xp6(2),l.Q6J("paint",l.DdM(11,OC)),l.xp6(1),l.Q6J("paint",l.DdM(12,Kg)),l.xp6(1),l.Q6J("paint",l.DdM(13,RC))("filter",m.hoverFilter))},dependencies:[un,Qr,Jr,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const kv=function(){return[9]},FC=function(c){return[c,40]};let yn=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:1,vars:8,consts:[[3,"zoom","center","interactive"]],template:function(r,m){1&r&&l._UZ(0,"mgl-map",0),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(5,kv))("center",l.VKq(6,FC,-74.5))("interactive",!1))},dependencies:[un,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const sw=function(){return[2.9]},aw=function(){return[16.05,48]};let lw=(()=>{class c{changeLangTo(r){this.map&&(this.map.setLayoutProperty("country_1","text-field","{name:"+r+"}"),this.map.setLayoutProperty("country_2","text-field","{name:"+r+"}"),this.map.setLayoutProperty("country_3","text-field","{name:"+r+"}"))}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:10,vars:6,consts:[[3,"zoom","center","mapLoad"],["mat-raised-button","",1,"lang-button",3,"click"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map",0),l.NdJ("mapLoad",function(z){return m.map=z}),l.TgZ(1,"mgl-control")(2,"button",1),l.NdJ("click",function(){return m.changeLangTo("fr")}),l._uU(3," French "),l.qZA(),l.TgZ(4,"button",1),l.NdJ("click",function(){return m.changeLangTo("ru")}),l._uU(5," Russian "),l.qZA(),l.TgZ(6,"button",1),l.NdJ("click",function(){return m.changeLangTo("de")}),l._uU(7," German "),l.qZA(),l.TgZ(8,"button",1),l.NdJ("click",function(){return m.changeLangTo("es")}),l._uU(9," Spanish "),l.qZA()()()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(4,sw))("center",l.DdM(5,aw)))},dependencies:[un,Cr,Qc.lW,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();function bh(c,p){if(1&c&&l._UZ(0,"mgl-geojson-source",3),2&c){const r=l.oxw();l.Q6J("data",r.data)}}const cw=function(){return{"line-color":"yellow","line-opacity":.75,"line-width":5}};function lf(c,p){1&c&&l._UZ(0,"mgl-layer",4),2&c&&l.Q6J("paint",l.DdM(1,cw))}let cf=(()=>{class c{constructor(){this.zoom=[0]}ngOnInit(){var r=this;return Fr(function*(){const m=yield j.e(330).then(j.t.bind(j,3330,19)),A=m.features[0].geometry.coordinates;m.features[0].geometry.coordinates=[A[0]],r.data=m,r.center=A[0],r.zoom=[14],r.pitch=30;let z=0;r.timer=window.setInterval(()=>{z<A.length?(r.center=A[z],m.features[0].geometry.coordinates.push(A[z]),r.data={...r.data},z++):window.clearInterval(r.timer)},10)})()}ngOnDestroy(){window.clearInterval(this.timer)}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:3,vars:8,consts:[["movingMethod","jumpTo",3,"zoom","center","centerWithPanTo","pitch"],["id","trace",3,"data",4,"ngIf"],["id","trace","type","line","source","trace",3,"paint",4,"ngIf"],["id","trace",3,"data"],["id","trace","type","line","source","trace",3,"paint"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map",0),l.YNc(1,bh,1,1,"mgl-geojson-source",1),l.YNc(2,lf,1,2,"mgl-layer",2),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",m.zoom)("center",m.center)("centerWithPanTo",!0)("pitch",m.pitch),l.xp6(1),l.Q6J("ngIf",m.data),l.xp6(1),l.Q6J("ngIf",m.data))},dependencies:[Oi.O5,un,Qr,Jr,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();var rs=j(6321),LC=j(4825);const Ov=function(){return[14]},dw=function(){return{"raster-fade-duration":0}};let Rv=(()=>{class c{constructor(){this.size=.001,this.url="assets/red.png"}ngOnInit(){var r=this;return Fr(function*(){const A=(yield j.e(330).then(j.t.bind(j,3330,19))).features[0].geometry.coordinates,z=A.map(ve=>r.makeRectangle(ve));r.center=A[0],r.coordinates=z[0];let re=0;r.sub=function Pv(c=0,p=rs.z){return c<0&&(c=0),(0,LC.H)(c,c,p)}(250).subscribe(()=>{r.url=Math.random()<.5?"assets/red.png":"assets/blue.png",r.coordinates=z[re],re=(re+1)%z.length})})()}ngOnDestroy(){void 0!==this.sub&&this.sub.unsubscribe()}makeRectangle([r,m]){return[[r,m],[r+this.size,m],[r+this.size,m-this.size],[r,m-this.size]]}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:3,vars:9,consts:[["movingMethod","jumpTo",3,"center","zoom"],["id","test_source",3,"url","coordinates"],["id","test_layer","source","test_source","type","raster",3,"paint"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-image-source",1)(2,"mgl-layer",2),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("center",m.center)("zoom",l.DdM(7,Ov)),l.xp6(1),l.Q6J("url",m.url)("coordinates",m.coordinates),l.xp6(1),l.Q6J("paint",l.DdM(8,dw)))},dependencies:[un,Qr,na,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const Fv=function(){return{enableHighAccuracy:!0}};let Lv=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:5,consts:[["mglGeolocate","",3,"positionOptions","trackUserLocation"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map"),l._UZ(1,"mgl-control",0),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.xp6(1),l.Q6J("positionOptions",l.DdM(4,Fv))("trackUserLocation",!0))},dependencies:[un,Cr,qe,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const Xg=function(c){return[c]},uw=function(){return[17]},hw=function(){return[4.577979,51.038189]},mw=function(){return[4.577979,51.03816]};let Vm=(()=>{class c{constructor(){this.pitch=50,this.bearing=-97}ngOnInit(){let r=0;setInterval(()=>{r+=.01,1===r&&(r=0),this.pitch=45+15*Math.cos(r),this.bearing=20*Math.sin(r)-103},20)}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:7,vars:15,consts:[["movingMethod","jumpTo",3,"interactive","pitch","bearing","zoom","center"],["rotationAlignment","map","pitchAlignment","map",3,"lngLat"],[1,"arrow"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 434 437"],["points","37.5 437.18 218 350.75 217.49 -0.37 37.5 437.18",2,"fill","#579120"],["points","397.55 437.13 218 350.75 217.49 -0.37 397.55 437.13",2,"fill","#6fad2d"],["points","217.22 391.46 397.55 437.13 218 350.75 37.5 437.18 217.22 391.46",2,"fill","#315112"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map",0)(1,"mgl-marker",1)(2,"div",2),l.O4$(),l.TgZ(3,"svg",3),l._UZ(4,"polygon",4)(5,"polygon",5)(6,"polygon",6),l.qZA()()()()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("interactive",!1)("pitch",l.VKq(8,Xg,m.pitch))("bearing",l.VKq(10,Xg,m.bearing))("zoom",l.DdM(12,uw))("center",l.DdM(13,hw)),l.xp6(1),l.Q6J("lngLat",l.DdM(14,mw)))},dependencies:[un,zo,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".arrow[_ngcontent-%COMP%]{width:50px;height:50px;transform:rotate(-97deg)}"]}),c})();const pw=function(){return[9]},fw=function(c){return[c,40]};let gw=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:7,consts:[[3,"zoom","center"],["mglNavigation",""]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-control",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(4,pw))("center",l.VKq(5,fw,-74.5)))},dependencies:[un,Cr,Pt,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();var Um=j(8525),df=j(3651),Nv=j(8484);const zv=["tooltip"],xh=new l.OlP("mat-tooltip-scroll-strategy"),vw={provide:xh,deps:[df.aV],useFactory:function yw(c){return()=>c.scrollStrategies.reposition({scrollThrottle:20})}},Bv=new l.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function bw(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),Jg="tooltip-panel",Vv=(0,ms.i$)({passive:!0});let BC=(()=>{class c{get position(){return this._position}set position(r){r!==this._position&&(this._position=r,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(r){this._positionAtOrigin=(0,xn.Ig)(r),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(r){this._disabled=(0,xn.Ig)(r),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(r){this._showDelay=(0,xn.su)(r)}get hideDelay(){return this._hideDelay}set hideDelay(r){this._hideDelay=(0,xn.su)(r),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(r){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=r?String(r).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(r){this._tooltipClass=r,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(r,m,A,z,re,ve,Je,mt,Bt,Gt,Mi,zi){this._overlay=r,this._elementRef=m,this._scrollDispatcher=A,this._viewContainerRef=z,this._ngZone=re,this._platform=ve,this._ariaDescriber=Je,this._focusMonitor=mt,this._dir=Gt,this._defaultOptions=Mi,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new ur.x,this._scrollStrategy=Bt,this._document=zi,Mi&&(this._showDelay=Mi.showDelay,this._hideDelay=Mi.hideDelay,Mi.position&&(this.position=Mi.position),Mi.positionAtOrigin&&(this.positionAtOrigin=Mi.positionAtOrigin),Mi.touchGestures&&(this.touchGestures=Mi.touchGestures)),Gt.change.pipe((0,Wr.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,Wr.R)(this._destroyed)).subscribe(r=>{r?"keyboard"===r&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const r=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([m,A])=>{r.removeEventListener(m,A,Vv)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(r,this.message,"tooltip"),this._focusMonitor.stopMonitoring(r)}show(r=this.showDelay,m){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const A=this._createOverlay(m);this._detach(),this._portal=this._portal||new Nv.C5(this._tooltipComponent,this._viewContainerRef);const z=this._tooltipInstance=A.attach(this._portal).instance;z._triggerElement=this._elementRef.nativeElement,z._mouseLeaveHideDelay=this._hideDelay,z.afterHidden().pipe((0,Wr.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),z.show(r)}hide(r=this.hideDelay){const m=this._tooltipInstance;m&&(m.isVisible()?m.hide(r):(m._cancelPendingAnimations(),this._detach()))}toggle(r){this._isTooltipVisible()?this.hide():this.show(void 0,r)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(r){if(this._overlayRef){const z=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!r)&&z._origin instanceof l.SBq)return this._overlayRef;this._detach()}const m=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),A=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&r||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(m);return A.positionChanges.pipe((0,Wr.R)(this._destroyed)).subscribe(z=>{this._updateCurrentPositionClass(z.connectionPair),this._tooltipInstance&&z.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:A,panelClass:`${this._cssClassPrefix}-${Jg}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,Wr.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,Wr.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,Wr.R)(this._destroyed)).subscribe(z=>{this._isTooltipVisible()&&z.keyCode===Ql.hY&&!(0,Ql.Vb)(z)&&(z.preventDefault(),z.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(r){const m=r.getConfig().positionStrategy,A=this._getOrigin(),z=this._getOverlayPosition();m.withPositions([this._addOffset({...A.main,...z.main}),this._addOffset({...A.fallback,...z.fallback})])}_addOffset(r){return r}_getOrigin(){const r=!this._dir||"ltr"==this._dir.value,m=this.position;let A;"above"==m||"below"==m?A={originX:"center",originY:"above"==m?"top":"bottom"}:"before"==m||"left"==m&&r||"right"==m&&!r?A={originX:"start",originY:"center"}:("after"==m||"right"==m&&r||"left"==m&&!r)&&(A={originX:"end",originY:"center"});const{x:z,y:re}=this._invertPosition(A.originX,A.originY);return{main:A,fallback:{originX:z,originY:re}}}_getOverlayPosition(){const r=!this._dir||"ltr"==this._dir.value,m=this.position;let A;"above"==m?A={overlayX:"center",overlayY:"bottom"}:"below"==m?A={overlayX:"center",overlayY:"top"}:"before"==m||"left"==m&&r||"right"==m&&!r?A={overlayX:"end",overlayY:"center"}:("after"==m||"right"==m&&r||"left"==m&&!r)&&(A={overlayX:"start",overlayY:"center"});const{x:z,y:re}=this._invertPosition(A.overlayX,A.overlayY);return{main:A,fallback:{overlayX:z,overlayY:re}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,ka.q)(1),(0,Wr.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(r){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=r,this._tooltipInstance._markForCheck())}_invertPosition(r,m){return"above"===this.position||"below"===this.position?"top"===m?m="bottom":"bottom"===m&&(m="top"):"end"===r?r="start":"start"===r&&(r="end"),{x:r,y:m}}_updateCurrentPositionClass(r){const{overlayY:m,originX:A,originY:z}=r;let re;if(re="center"===m?this._dir&&"rtl"===this._dir.value?"end"===A?"left":"right":"start"===A?"left":"right":"bottom"===m&&"top"===z?"above":"below",re!==this._currentPosition){const ve=this._overlayRef;if(ve){const Je=`${this._cssClassPrefix}-${Jg}-`;ve.removePanelClass(Je+this._currentPosition),ve.addPanelClass(Je+re)}this._currentPosition=re}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",r=>{let m;this._setupPointerExitEventsIfNeeded(),void 0!==r.x&&void 0!==r.y&&(m=r),this.show(void 0,m)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",r=>{const m=r.targetTouches?.[0],A=m?{x:m.clientX,y:m.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,A),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const r=[];if(this._platformSupportsMouseEvents())r.push(["mouseleave",m=>{const A=m.relatedTarget;(!A||!this._overlayRef?.overlayElement.contains(A))&&this.hide()}],["wheel",m=>this._wheelListener(m)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const m=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};r.push(["touchend",m],["touchcancel",m])}this._addListeners(r),this._passiveListeners.push(...r)}_addListeners(r){r.forEach(([m,A])=>{this._elementRef.nativeElement.addEventListener(m,A,Vv)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(r){if(this._isTooltipVisible()){const m=this._document.elementFromPoint(r.clientX,r.clientY),A=this._elementRef.nativeElement;m!==A&&!A.contains(m)&&this.hide()}}_disableNativeGesturesIfNecessary(){const r=this.touchGestures;if("off"!==r){const m=this._elementRef.nativeElement,A=m.style;("on"===r||"INPUT"!==m.nodeName&&"TEXTAREA"!==m.nodeName)&&(A.userSelect=A.msUserSelect=A.webkitUserSelect=A.MozUserSelect="none"),("on"===r||!m.draggable)&&(A.webkitUserDrag="none"),A.touchAction="none",A.webkitTapHighlightColor="transparent"}}}return c.\u0275fac=function(r){l.$Z()},c.\u0275dir=l.lG2({type:c,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),c})(),VC=(()=>{class c extends BC{constructor(r,m,A,z,re,ve,Je,mt,Bt,Gt,Mi,zi){super(r,m,A,z,re,ve,Je,mt,Bt,Gt,Mi,zi),this._tooltipComponent=hf,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(r){const A=!this._dir||"ltr"==this._dir.value;return"top"===r.originY?r.offsetY=-8:"bottom"===r.originY?r.offsetY=8:"start"===r.originX?r.offsetX=A?-8:8:"end"===r.originX&&(r.offsetX=A?8:-8),r}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(df.aV),l.Y36(l.SBq),l.Y36(ec.mF),l.Y36(l.s_b),l.Y36(l.R0b),l.Y36(ms.t4),l.Y36(Jl.$s),l.Y36(Jl.tE),l.Y36(xh),l.Y36(Fm.Is,8),l.Y36(Bv,8),l.Y36(Oi.K0))},c.\u0275dir=l.lG2({type:c,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(r,m){2&r&&l.ekj("mat-mdc-tooltip-disabled",m.disabled)},exportAs:["matTooltip"],features:[l.qOj]}),c})(),jv=(()=>{class c{constructor(r,m){this._changeDetectorRef=r,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new ur.x,this._animationsDisabled="NoopAnimations"===m}show(r){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},r)}hide(r){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},r)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:r}){(!r||!this._triggerElement.contains(r))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:r}){(r===this._showAnimation||r===this._hideAnimation)&&this._finalizeAnimation(r===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(r){r?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(r){const m=this._tooltip.nativeElement,A=this._showAnimation,z=this._hideAnimation;if(m.classList.remove(r?z:A),m.classList.add(r?A:z),this._isVisible=r,r&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const re=getComputedStyle(m);("0s"===re.getPropertyValue("animation-duration")||"none"===re.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}r&&this._onShow(),this._animationsDisabled&&(m.classList.add("_mat-animation-noopable"),this._finalizeAnimation(r))}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.sBO),l.Y36(l.QbO,8))},c.\u0275dir=l.lG2({type:c}),c})(),hf=(()=>{class c extends jv{constructor(r,m,A){super(r,A),this._elementRef=m,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const r=this._elementRef.nativeElement.getBoundingClientRect();return r.height>24&&r.width>=200}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.QbO,8))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-tooltip-component"]],viewQuery:function(r,m){if(1&r&&l.Gf(zv,7),2&r){let A;l.iGM(A=l.CRH())&&(m._tooltip=A.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(r,m){1&r&&l.NdJ("mouseleave",function(z){return m._handleMouseLeave(z)}),2&r&&l.Udp("zoom",m.isVisible()?1:null)},features:[l.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(r,m){1&r&&(l.TgZ(0,"div",0,1),l.NdJ("animationend",function(z){return m._handleAnimationEnd(z)}),l.TgZ(2,"div",2),l._uU(3),l.qZA()()),2&r&&(l.ekj("mdc-tooltip--multiline",m._isMultiline),l.Q6J("ngClass",m.tooltipClass),l.xp6(3),l.Oqu(m.message))},dependencies:[Oi.mk],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),c})(),Ew=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({providers:[vw],imports:[Jl.rt,Oi.ez,df.U8,Bn.BQ,Bn.BQ,ec.ZD]}),c})();function Hv(c,p){if(1&c&&(l.TgZ(0,"mat-option",19),l._uU(1),l.qZA()),2&c){const r=p.$implicit;l.Q6J("value",r),l.xp6(1),l.hij(" ",r," ")}}function jm(c,p){if(1&c){const r=l.EpF();l.TgZ(0,"mat-form-field",16)(1,"mat-select",17),l.NdJ("selectionChange",function(A){l.CHM(r);const z=l.oxw(2);return l.KtG(z._changePageSize(A.value))}),l.YNc(2,Hv,2,2,"mat-option",18),l.qZA()()}if(2&c){const r=l.oxw(2);l.Q6J("appearance",r._formFieldAppearance)("color",r.color),l.xp6(1),l.Q6J("value",r.pageSize)("disabled",r.disabled)("aria-labelledby",r._pageSizeLabelId)("panelClass",r.selectConfig.panelClass||"")("disableOptionCentering",r.selectConfig.disableOptionCentering),l.xp6(1),l.Q6J("ngForOf",r._displayedPageSizeOptions)}}function Mw(c,p){if(1&c&&(l.TgZ(0,"div",20),l._uU(1),l.qZA()),2&c){const r=l.oxw(2);l.xp6(1),l.Oqu(r.pageSize)}}function Dw(c,p){if(1&c&&(l.TgZ(0,"div",12)(1,"div",13),l._uU(2),l.qZA(),l.YNc(3,jm,3,8,"mat-form-field",14),l.YNc(4,Mw,2,1,"div",15),l.qZA()),2&c){const r=l.oxw();l.xp6(1),l.s9C("id",r._pageSizeLabelId),l.xp6(1),l.hij(" ",r._intl.itemsPerPageLabel," "),l.xp6(1),l.Q6J("ngIf",r._displayedPageSizeOptions.length>1),l.xp6(1),l.Q6J("ngIf",r._displayedPageSizeOptions.length<=1)}}function Sw(c,p){if(1&c){const r=l.EpF();l.TgZ(0,"button",21),l.NdJ("click",function(){l.CHM(r);const A=l.oxw();return l.KtG(A.firstPage())}),l.O4$(),l.TgZ(1,"svg",7),l._UZ(2,"path",22),l.qZA()()}if(2&c){const r=l.oxw();l.Q6J("matTooltip",r._intl.firstPageLabel)("matTooltipDisabled",r._previousButtonsDisabled())("matTooltipPosition","above")("disabled",r._previousButtonsDisabled()),l.uIk("aria-label",r._intl.firstPageLabel)}}function Tw(c,p){if(1&c){const r=l.EpF();l.O4$(),l.kcU(),l.TgZ(0,"button",23),l.NdJ("click",function(){l.CHM(r);const A=l.oxw();return l.KtG(A.lastPage())}),l.O4$(),l.TgZ(1,"svg",7),l._UZ(2,"path",24),l.qZA()()}if(2&c){const r=l.oxw();l.Q6J("matTooltip",r._intl.lastPageLabel)("matTooltipDisabled",r._nextButtonsDisabled())("matTooltipPosition","above")("disabled",r._nextButtonsDisabled()),l.uIk("aria-label",r._intl.lastPageLabel)}}let Qg=(()=>{class c{constructor(){this.changes=new ur.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(r,m,A)=>{if(0==A||0==m)return`0 of ${A}`;const z=r*m;return`${z+1} \u2013 ${z<(A=Math.max(A,0))?Math.min(z+m,A):z+m} of ${A}`}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const $v={provide:Qg,deps:[[new l.FiY,new l.tp0,Qg]],useFactory:function Iw(c){return c||new Qg}},Hm=new l.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),kw=(0,Bn.Id)((0,Bn.dB)(class{}));let Gv=(()=>{class c extends kw{get pageIndex(){return this._pageIndex}set pageIndex(r){this._pageIndex=Math.max((0,xn.su)(r),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(r){this._length=(0,xn.su)(r),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(r){this._pageSize=Math.max((0,xn.su)(r),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(r){this._pageSizeOptions=(r||[]).map(m=>(0,xn.su)(m)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(r){this._hidePageSize=(0,xn.Ig)(r)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(r){this._showFirstLastButtons=(0,xn.Ig)(r)}constructor(r,m,A){if(super(),this._intl=r,this._changeDetectorRef=m,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new l.vpe,this._intlChanges=r.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),A){const{pageSize:z,pageSizeOptions:re,hidePageSize:ve,showFirstLastButtons:Je}=A;null!=z&&(this._pageSize=z),null!=re&&(this._pageSizeOptions=re),null!=ve&&(this._hidePageSize=ve),null!=Je&&(this._showFirstLastButtons=Je)}}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const r=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(r)}previousPage(){if(!this.hasPreviousPage())return;const r=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(r)}firstPage(){if(!this.hasPreviousPage())return;const r=this.pageIndex;this.pageIndex=0,this._emitPageEvent(r)}lastPage(){if(!this.hasNextPage())return;const r=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(r)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const r=this.getNumberOfPages()-1;return this.pageIndex<r&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(r){const A=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/r)||0,this.pageSize=r,this._emitPageEvent(A)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((r,m)=>r-m),this._changeDetectorRef.markForCheck())}_emitPageEvent(r){this.page.emit({previousPageIndex:r,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return c.\u0275fac=function(r){l.$Z()},c.\u0275dir=l.lG2({type:c,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[l.qOj]}),c})(),Pw=0,e_=(()=>{class c extends Gv{constructor(r,m,A){super(r,m,A),this._pageSizeLabelId="mat-paginator-page-size-label-"+Pw++,this._formFieldAppearance=A?.formFieldAppearance||"outline"}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Qg),l.Y36(l.sBO),l.Y36(Hm,8))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[l.qOj],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],["class","mat-mdc-paginator-page-size",4,"ngIf"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-page-size-label",3,"id"],["class","mat-mdc-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-mdc-paginator-page-size-value",4,"ngIf"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],["hideSingleSelectionIndicator","",3,"value","disabled","aria-labelledby","panelClass","disableOptionCentering","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-mdc-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(r,m){1&r&&(l.TgZ(0,"div",0)(1,"div",1),l.YNc(2,Dw,5,4,"div",2),l.TgZ(3,"div",3)(4,"div",4),l._uU(5),l.qZA(),l.YNc(6,Sw,3,5,"button",5),l.TgZ(7,"button",6),l.NdJ("click",function(){return m.previousPage()}),l.O4$(),l.TgZ(8,"svg",7),l._UZ(9,"path",8),l.qZA()(),l.kcU(),l.TgZ(10,"button",9),l.NdJ("click",function(){return m.nextPage()}),l.O4$(),l.TgZ(11,"svg",7),l._UZ(12,"path",10),l.qZA()(),l.YNc(13,Tw,3,5,"button",11),l.qZA()()()),2&r&&(l.xp6(2),l.Q6J("ngIf",!m.hidePageSize),l.xp6(3),l.hij(" ",m._intl.getRangeLabel(m.pageIndex,m.pageSize,m.length)," "),l.xp6(1),l.Q6J("ngIf",m.showFirstLastButtons),l.xp6(1),l.Q6J("matTooltip",m._intl.previousPageLabel)("matTooltipDisabled",m._previousButtonsDisabled())("matTooltipPosition","above")("disabled",m._previousButtonsDisabled()),l.uIk("aria-label",m._intl.previousPageLabel),l.xp6(3),l.Q6J("matTooltip",m._intl.nextPageLabel)("matTooltipDisabled",m._nextButtonsDisabled())("matTooltipPosition","above")("disabled",m._nextButtonsDisabled()),l.uIk("aria-label",m._intl.nextPageLabel),l.xp6(3),l.Q6J("ngIf",m.showFirstLastButtons))},dependencies:[Oi.sg,Oi.O5,Qc.RK,bu.KE,Um.gD,Bn.ey,VC],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),c})(),Ow=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({providers:[$v],imports:[Oi.ez,Qc.ot,Um.LD,Ew]}),c})();function Zv(c,p){if(1&c&&(l.TgZ(0,"div",8),l._uU(1),l.qZA()),2&c){const r=p.$implicit;l.Q6J("title",r.properties["Secondary ID"]),l.xp6(1),l.hij(" ",r.properties["Primary ID"]," ")}}function Rw(c,p){if(1&c){const r=l.EpF();l.TgZ(0,"div",9),l.NdJ("click",function(A){const re=l.CHM(r).$implicit,ve=l.oxw(2);return l.KtG(ve.selectCluster(A,re))}),l._uU(1),l.qZA()}if(2&c){const r=p.$implicit;l.xp6(1),l.hij(" ",null==r.properties?null:r.properties.point_count," ")}}function t_(c,p){if(1&c&&(l.TgZ(0,"mgl-popup",10),l._UZ(1,"showcase-cluster-popup",11),l.qZA()),2&c){l.oxw();const r=l.MAs(2),m=l.oxw();l.Q6J("feature",m.selectedCluster),l.xp6(1),l.Q6J("clusterComponent",r)("selectedCluster",m.selectedCluster)}}function Fw(c,p){if(1&c&&(l.ynx(0),l._UZ(1,"mgl-geojson-source",2,3),l.TgZ(3,"mgl-markers-for-clusters",4),l.YNc(4,Zv,2,2,"ng-template",5),l.YNc(5,Rw,2,1,"ng-template",6),l.qZA(),l.YNc(6,t_,2,3,"mgl-popup",7),l.BQk()),2&c){const r=l.oxw();l.xp6(1),l.Q6J("data",r.earthquakes)("cluster",!0)("clusterRadius",50)("clusterMaxZoom",14),l.xp6(5),l.Q6J("ngIf",r.selectedCluster)}}const Wv=function(){return[3]},qv=function(c){return[c,40.66995747013945]};function Lw(c,p){if(1&c&&(l.TgZ(0,"mat-list-item"),l._uU(1),l.qZA()),2&c){const r=p.$implicit;l.xp6(1),l.hij(" ",r.properties["Primary ID"]," ")}}let Nw=(()=>{class c{ngOnInit(){var r=this;return Fr(function*(){const m=yield j.e(45).then(j.t.bind(j,3045,19));setInterval(()=>{m.features.length&&m.features.pop(),r.earthquakes={...m}},500)})()}selectCluster(r,m){r.stopPropagation(),this.selectedCluster={geometry:m.geometry,properties:m.properties}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:8,consts:[[3,"zoom","center"],[4,"ngIf"],["id","earthquakes",3,"data","cluster","clusterRadius","clusterMaxZoom"],["clusterComponent",""],["source","earthquakes"],["mglPoint",""],["mglClusterPoint",""],[3,"feature",4,"ngIf"],[1,"marker",3,"title"],[1,"marker-cluster",3,"click"],[3,"feature"],[3,"clusterComponent","selectedCluster"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map",0),l.YNc(1,Fw,7,5,"ng-container",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(5,Wv))("center",l.VKq(6,qv,-103.59179687498357)),l.xp6(1),l.Q6J("ngIf",m.earthquakes))},dependencies:function(){return[Oi.O5,un,Jr,$,Yi,bs,jr,Gn,zw,Ln]},styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".marker-cluster{width:30px;height:30px;border-radius:50%;background-color:#4f615a;display:flex;justify-content:center;align-items:center;color:#fff;border:2px solid #56c498;cursor:pointer}.marker[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;background-color:#7d7d7d;display:flex;justify-content:center;align-items:center;border:2px solid #c9c9c9}"]}),c})(),zw=(()=>{class c{ngOnChanges(r){this.changePage(),r.selectedCluster&&!r.selectedCluster.isFirstChange()&&this.paginator.firstPage()}changePage(r){var m=this;return Fr(function*(){let A=0;r&&(A=5*r.pageIndex),m.leaves=yield m.clusterComponent.getClusterLeaves(m.selectedCluster.properties.cluster_id,5,A)})()}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-cluster-popup"]],viewQuery:function(r,m){if(1&r&&l.Gf(e_,7),2&r){let A;l.iGM(A=l.CRH())&&(m.paginator=A.first)}},inputs:{selectedCluster:"selectedCluster",clusterComponent:"clusterComponent"},features:[l.TTD],decls:3,vars:3,consts:[[4,"ngFor","ngForOf"],[3,"length","pageSize","page"]],template:function(r,m){1&r&&(l.TgZ(0,"mat-list"),l.YNc(1,Lw,2,1,"mat-list-item",0),l.qZA(),l.TgZ(2,"mat-paginator",1),l.NdJ("page",function(z){return m.changePage(z)}),l.qZA()),2&r&&(l.xp6(1),l.Q6J("ngForOf",m.leaves),l.xp6(1),l.Q6J("length",null==m.selectedCluster.properties?null:m.selectedCluster.properties.point_count)("pageSize",5))},dependencies:[Oi.sg,uC,py,e_],encapsulation:2}),c})();function i_(c,p){if(1&c){const r=l.EpF();l.ynx(0),l.TgZ(1,"mgl-control")(2,"button",3),l.NdJ("click",function(){l.CHM(r);const A=l.oxw();return l.KtG(A.alert("Hello"))}),l._uU(3," Hello "),l.qZA()(),l._UZ(4,"mgl-control",4)(5,"mgl-control",5),l.TgZ(6,"mgl-control",6),l.NdJ("geolocate",function(A){l.CHM(r);const z=l.oxw();return l.KtG(z.onGeolocate(A))}),l.qZA(),l._UZ(7,"mgl-control",7)(8,"mgl-control",8),l.BQk()}}let Bw=(()=>{class c{constructor(){this.visible=!0}alert(r){alert(r)}onGeolocate(r){console.log("geolocate",r)}toggleControls(){this.visible=!this.visible}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:5,vars:4,consts:[[4,"ngIf"],["position","bottom-right"],["mat-flat-button","","color","accent",3,"click"],["mat-fab","","color","primary",1,"custom-control",3,"click"],["mglAttribution","","position","top-right"],["mglFullscreen","","position","top-right"],["mglGeolocate","","position","top-right",3,"geolocate"],["mglNavigation","","position","top-right"],["mglScale","","position","top-right"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map"),l.YNc(1,i_,9,0,"ng-container",0),l.TgZ(2,"mgl-control",1)(3,"button",2),l.NdJ("click",function(){return m.toggleControls()}),l._uU(4),l.qZA()()()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.xp6(1),l.Q6J("ngIf",m.visible),l.xp6(3),l.hij(" ",m.visible?"Hide Controls":"Show Controls"," "))},dependencies:[Oi.O5,un,Cr,me,Pt,qe,$t,Ui,Qc.lW,Qc.cs,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const Yv=function(){return[5]},mf=function(c,p){return[c,p]};let Vw=(()=>{class c{alert(r){alert(r)}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:7,vars:20,consts:[[3,"zoom","center"],[3,"lngLat"],[1,"marker",2,"background-image","url(https://placekitten.com/g/60/60/)","width","60px","height","60px",3,"click"],[1,"marker",2,"background-image","url(https://placekitten.com/g/50/50/)","width","50px","height","50px",3,"click"],[1,"marker",2,"background-image","url(https://placekitten.com/g/40/40/)","width","40px","height","40px",3,"click"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map",0)(1,"mgl-marker",1)(2,"div",2),l.NdJ("click",function(){return m.alert("Foo")}),l.qZA()(),l.TgZ(3,"mgl-marker",1)(4,"div",3),l.NdJ("click",function(){return m.alert("Bar")}),l.qZA()(),l.TgZ(5,"mgl-marker",1)(6,"div",4),l.NdJ("click",function(){return m.alert("Baz")}),l.qZA()()()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(7,Yv))("center",l.WLB(8,mf,-65.017,-16.457)),l.xp6(1),l.Q6J("lngLat",l.WLB(11,mf,-66.324462890625,-16.024695711685304)),l.xp6(2),l.Q6J("lngLat",l.WLB(14,mf,-61.2158203125,-15.97189158092897)),l.xp6(2),l.Q6J("lngLat",l.WLB(17,mf,-63.29223632812499,-18.28151823530889)))},dependencies:[un,zo,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".marker[_ngcontent-%COMP%]{border:none;border-radius:50%;cursor:pointer;padding:0}"]}),c})();const Uw=function(){return[2]},Kv=function(){return[0,0]},jw=function(c){return{type:"Point",coordinates:c}};let Hw=(()=>{class c{constructor(){this.layerPaint={"circle-radius":10,"circle-color":"#3887be"},this.coordinates=[0,0]}onDragStart(r){console.log("onDragStart",r)}onDragEnd(r){console.log("onDragEnd",r)}onDrag(r){console.log("onDrag",r),this.coordinates=r.lngLat.toArray()}changeColor(r){this.layerPaint={...this.layerPaint,"circle-color":r}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:11,vars:14,consts:[[3,"zoom","center"],["id","point"],[3,"properties","geometry","mglDraggable","featureDragStart","featureDragEnd","featureDrag"],["id","point","type","circle","source","point",3,"paint","layerMouseEnter","layerMouseLeave"],["targetLayer",""],["position","bottom-left"],["appearance","outlined"]],template:function(r,m){if(1&r&&(l.TgZ(0,"mgl-map",0)(1,"mgl-geojson-source",1)(2,"mgl-feature",2),l.NdJ("featureDragStart",function(z){return m.onDragStart(z)})("featureDragEnd",function(z){return m.onDragEnd(z)})("featureDrag",function(z){return m.onDrag(z)}),l.qZA()(),l.TgZ(3,"mgl-layer",3,4),l.NdJ("layerMouseEnter",function(){return m.changeColor("#3bb2d0")})("layerMouseLeave",function(){return m.changeColor("#3887be")}),l.qZA(),l.TgZ(5,"mgl-control",5)(6,"mat-card",6)(7,"div"),l._uU(8),l.qZA(),l.TgZ(9,"div"),l._uU(10),l.qZA()()()()),2&r){const A=l.MAs(4);l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(9,Uw))("center",l.DdM(10,Kv)),l.xp6(2),l.Q6J("geometry",l.VKq(12,jw,l.DdM(11,Kv)))("mglDraggable",A),l.xp6(1),l.Q6J("paint",m.layerPaint),l.xp6(5),l.hij("Longitude:\xa0",m.coordinates[0],""),l.xp6(2),l.hij("Latitude:\xa0",m.coordinates[1],"")}},dependencies:[un,Qr,Za,Jr,No,Cr,rf,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const $w=function(){return[15]},Gw=function(c){return[c,37.830348]},Xv=function(){return{"line-join":"round","line-cap":"round"}},Jv=function(){return{"line-color":"#888","line-width":8}};let Zw=(()=>{class c{constructor(){this.geometry={type:"LineString",coordinates:[[-122.48369693756104,37.83381888486939],[-122.48348236083984,37.83317489144141],[-122.48339653015138,37.83270036637107],[-122.48356819152832,37.832056363179625],[-122.48404026031496,37.83114119107971],[-122.48404026031496,37.83049717427869],[-122.48348236083984,37.829920943955045],[-122.48356819152832,37.82954808664175],[-122.48507022857666,37.82944639795659],[-122.48610019683838,37.82880236636284],[-122.48695850372314,37.82931081282506],[-122.48700141906738,37.83080223556934],[-122.48751640319824,37.83168351665737],[-122.48803138732912,37.832158048267786],[-122.48888969421387,37.83297152392784],[-122.48987674713133,37.83263257682617],[-122.49043464660643,37.832937629287755],[-122.49125003814696,37.832429207817725],[-122.49163627624512,37.832564787218985],[-122.49223709106445,37.83337825839438],[-122.49378204345702,37.83368330777276]]}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:4,vars:12,consts:[[3,"zoom","center"],["id","oneline"],[3,"geometry"],["id","route","type","line","source","oneline",3,"layout","paint"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map",0)(1,"mgl-geojson-source",1),l._UZ(2,"mgl-feature",2),l.qZA(),l._UZ(3,"mgl-layer",3),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(7,$w))("center",l.VKq(8,Gw,-122.486052)),l.xp6(2),l.Q6J("geometry",m.geometry),l.xp6(1),l.Q6J("layout",l.DdM(10,Xv))("paint",l.DdM(11,Jv)))},dependencies:[un,Qr,Jr,No,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})(),Ww=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:2,consts:[["mglScale","","unit","imperial","position","top-right"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map"),l._UZ(1,"mgl-control",0),l.qZA()),2&r&&l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL")},dependencies:[un,Cr,Ui,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const Qv=function(){return[12]},qw=function(){return[11.39085,47.27574]};let Yw=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:4,vars:7,consts:[[3,"zoom","center","pitch"],["id","terrainSource","url","https://demotiles.maplibre.org/terrain-tiles/tiles.json","tileSize","256"],["mglNavigation","","showCompass","true","showZoom","true","visualizePitch","true"],["mglTerrain","","source","terrainSource","exaggeration","5","position","top-right"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-raster-dem-source",1)(2,"mgl-control",2)(3,"mgl-control",3),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/hybrid/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(5,Qv))("center",l.DdM(6,qw))("pitch",52))},dependencies:[un,Ci,Cr,Pt,fo,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();function Kw(c,p){if(1&c&&(l.TgZ(0,"mgl-popup",3),l._UZ(1,"span",4),l.qZA()),2&c){const r=l.oxw();l.Q6J("lngLat",r.selectedLngLat)("closeOnClick",!1),l.xp6(1),l.Q6J("innerHTML",null==r.selectedElement?null:r.selectedElement.name,l.oJD)}}const n_=function(){return[3]},r_=function(c){return[c,38.907]},o_=function(){return{type:"geojson",data:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_110m_admin_1_states_provinces_shp.geojson"}},Xw=function(){return{"fill-color":"rgba(200, 100, 240, 0.4)","fill-outline-color":"rgba(200, 100, 240, 1)"}};let Jw=(()=>{class c{onClick(r){this.selectedLngLat=r.lngLat,this.selectedElement=r.features[0].properties}onMapClick(){this.selectedElement=null}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:3,vars:13,consts:[[3,"zoom","center","cursorStyle","mapClick"],["id","states-layer","type","fill",3,"source","paint","layerMouseEnter","layerMouseLeave","layerClick"],[3,"lngLat","closeOnClick",4,"ngIf"],[3,"lngLat","closeOnClick"],[3,"innerHTML"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map",0),l.NdJ("mapClick",function(){return m.onMapClick()}),l.TgZ(1,"mgl-layer",1),l.NdJ("layerMouseEnter",function(){return m.cursorStyle="pointer"})("layerMouseLeave",function(){return m.cursorStyle=""})("layerClick",function(z){return m.onClick(z)}),l.qZA(),l.YNc(2,Kw,2,3,"mgl-popup",2),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(8,n_))("center",l.VKq(9,r_,-100.04))("cursorStyle",m.cursorStyle),l.xp6(1),l.Q6J("source",l.DdM(11,o_))("paint",l.DdM(12,Xw)),l.xp6(1),l.Q6J("ngIf",m.selectedElement&&m.selectedLngLat))},dependencies:[Oi.O5,un,Qr,$,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();function s_(c,p){if(1&c&&(l.TgZ(0,"mgl-popup",4),l._UZ(1,"span",5),l.qZA()),2&c){const r=l.oxw();l.Q6J("feature",r.selectedPoint),l.xp6(1),l.Q6J("innerHTML",null==r.selectedPoint.properties?null:r.selectedPoint.properties.description,l.oJD)}}const Qw=function(){return[11.15]},tb=function(c){return[c,38.907]},wh=function(){return["get","icon"]},ib=function(c){return{"icon-image":c,"icon-allow-overlap":!0}};let e1=(()=>{class c{constructor(){this.points={type:"FeatureCollection",features:[{type:"Feature",properties:{description:'<strong>Make it Mount Pleasant</strong><p><a href="http://www.mtpleasantdc.com/makeitmtpleasant" target="_blank" title="Opens in a new window">Make it Mount Pleasant</a> is a handmade and vintage market and afternoon of live entertainment and kids activities. 12:00-6:00 p.m.</p>',icon:"theatre_15"},geometry:{type:"Point",coordinates:[-77.038659,38.931567]}},{type:"Feature",properties:{description:'<strong>Mad Men Season Five Finale Watch Party</strong><p>Head to Lounge 201 (201 Massachusetts Avenue NE) Sunday for a <a href="http://madmens5finale.eventbrite.com/" target="_blank" title="Opens in a new window">Mad Men Season Five Finale Watch Party</a>, complete with 60s costume contest, Mad Men trivia, and retro food and drink. 8:00-11:00 p.m. $10 general admission, $20 admission and two hour open bar.</p>',icon:"theatre_15"},geometry:{type:"Point",coordinates:[-77.003168,38.894651]}},{type:"Feature",properties:{description:'<strong>Big Backyard Beach Bash and Wine Fest</strong><p>EatBar (2761 Washington Boulevard Arlington VA) is throwing a <a href="http://tallulaeatbar.ticketleap.com/2012beachblanket/" target="_blank" title="Opens in a new window">Big Backyard Beach Bash and Wine Fest</a> on Saturday, serving up conch fritters, fish tacos and crab sliders, and Red Apron hot dogs. 12:00-3:00 p.m. $25.grill hot dogs.</p>',icon:"bar_15"},geometry:{type:"Point",coordinates:[-77.090372,38.881189]}},{type:"Feature",properties:{description:'<strong>Ballston Arts & Crafts Market</strong><p>The <a href="http://ballstonarts-craftsmarket.blogspot.com/" target="_blank" title="Opens in a new window">Ballston Arts & Crafts Market</a> sets up shop next to the Ballston metro this Saturday for the first of five dates this summer. Nearly 35 artists and crafters will be on hand selling their wares. 10:00-4:00 p.m.</p>',icon:"art_gallery_15"},geometry:{type:"Point",coordinates:[-77.111561,38.882342]}},{type:"Feature",properties:{description:'<strong>Seersucker Bike Ride and Social</strong><p>Feeling dandy? Get fancy, grab your bike, and take part in this year\'s <a href="http://dandiesandquaintrelles.com/2012/04/the-seersucker-social-is-set-for-june-9th-save-the-date-and-start-planning-your-look/" target="_blank" title="Opens in a new window">Seersucker Social</a> bike ride from Dandies and Quaintrelles. After the ride enjoy a lawn party at Hillwood with jazz, cocktails, paper hat-making, and more. 11:00-7:00 p.m.</p>',icon:"bicycle_15"},geometry:{type:"Point",coordinates:[-77.052477,38.943951]}},{type:"Feature",properties:{description:'<strong>Capital Pride Parade</strong><p>The annual <a href="http://www.capitalpride.org/parade" target="_blank" title="Opens in a new window">Capital Pride Parade</a> makes its way through Dupont this Saturday. 4:30 p.m. Free.</p>',icon:"star_15"},geometry:{type:"Point",coordinates:[-77.043444,38.909664]}},{type:"Feature",properties:{description:'<strong>Muhsinah</strong><p>Jazz-influenced hip hop artist <a href="http://www.muhsinah.com" target="_blank" title="Opens in a new window">Muhsinah</a> plays the <a href="http://www.blackcatdc.com">Black Cat</a> (1811 14th Street NW) tonight with <a href="http://www.exitclov.com" target="_blank" title="Opens in a new window">Exit Clov</a> and <a href="http://godsilla.bandcamp.com" target="_blank" title="Opens in a new window">Gods\u2019illa</a>. 9:00 p.m. $12.</p>',icon:"music_15"},geometry:{type:"Point",coordinates:[-77.031706,38.914581]}},{type:"Feature",properties:{description:'<strong>A Little Night Music</strong><p>The Arlington Players\' production of Stephen Sondheim\'s  <a href="http://www.thearlingtonplayers.org/drupal-6.20/node/4661/show" target="_blank" title="Opens in a new window"><em>A Little Night Music</em></a> comes to the Kogod Cradle at The Mead Center for American Theater (1101 6th Street SW) this weekend and next. 8:00 p.m.</p>',icon:"music_15"},geometry:{type:"Point",coordinates:[-77.020945,38.878241]}},{type:"Feature",properties:{description:'<strong>Truckeroo</strong><p><a href="http://www.truckeroodc.com/www/" target="_blank">Truckeroo</a> brings dozens of food trucks, live music, and games to half and M Street SE (across from Navy Yard Metro Station) today from 11:00 a.m. to 11:00 p.m.</p>',icon:"music_15"},geometry:{type:"Point",coordinates:[-77.007481,38.876516]}}]}}onClick(r){this.selectedPoint=r.features[0]}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:4,vars:14,consts:[[3,"zoom","center","cursorStyle"],["id","points",3,"data"],["id","points","source","points","type","symbol",3,"layout","layerClick","layerMouseEnter","layerMouseLeave"],[3,"feature",4,"ngIf"],[3,"feature"],[3,"innerHTML"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-geojson-source",1),l.TgZ(2,"mgl-layer",2),l.NdJ("layerClick",function(z){return m.onClick(z)})("layerMouseEnter",function(){return m.cursorStyle="pointer"})("layerMouseLeave",function(){return m.cursorStyle=""}),l.qZA(),l.YNc(3,s_,2,2,"mgl-popup",3),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(8,Qw))("center",l.VKq(9,tb,-77.04))("cursorStyle",m.cursorStyle),l.xp6(1),l.Q6J("data",m.points),l.xp6(1),l.Q6J("layout",l.VKq(12,ib,l.DdM(11,wh))),l.xp6(1),l.Q6J("ngIf",m.selectedPoint))},dependencies:[Oi.O5,un,Qr,Jr,$,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const HC=function(){return[3]},pf=function(c){return[c,37.8]};let a_=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:4,vars:12,consts:[[3,"zoom","center"],[3,"lngLat","closeOnClick","className"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map",0)(1,"mgl-popup",1)(2,"h1"),l._uU(3,"Hello world !"),l.qZA()()()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(7,HC))("center",l.VKq(8,pf,-96)),l.xp6(1),l.Q6J("lngLat",l.VKq(10,pf,-96))("closeOnClick",!1)("className","custom-popup-class1 custom-popup-class2"))},dependencies:[un,$,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".custom-popup-class1{color:purple;text-align:center}  .custom-popup-class2{width:300px}"]}),c})();const nb=function(){return{tileSize:512,type:"raster",url:"https://api.maptiler.com/tiles/satellite-v2/tiles.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"}},rb=function(c){return{satellite:c}},n1=function(){return{visibility:"visible"}},ob=function(){return{"raster-opacity":1}},l_=function(c,p){return{id:"satellite",layout:c,minzoom:0,paint:p,"raster-opacity":1,source:"satellite",type:"raster"}},sb=function(c){return[c]},ab=function(c,p){return{version:8,sources:c,layers:p}},lb=function(){return[9]},cb=function(){return[137.9150899566626,36.25956997955441]};let r1=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:1,vars:19,consts:[[3,"zoom","center"]],template:function(r,m){1&r&&l._UZ(0,"mgl-map",0),2&r&&(l.Akn(l.WLB(14,ab,l.VKq(5,rb,l.DdM(4,nb)),l.VKq(12,sb,l.WLB(9,l_,l.DdM(7,n1),l.DdM(8,ob))))),l.Q6J("zoom",l.DdM(17,lb))("center",l.DdM(18,cb)))},dependencies:[un,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const o1=function(){return[15]},db=function(c){return[c,38.8895]},ub=function(){return{"background-image":"url(https://maplibre.org/maplibre-gl-js-docs/assets/washington-monument.jpg)","background-size":"cover",width:"50px",height:"50px","border-radius":"50%",cursor:"pointer"}};let $C=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:6,vars:13,consts:[[3,"zoom","center"],[3,"lngLat"],["myMarker",""],[3,"ngStyle"],[3,"marker"]],template:function(r,m){if(1&r&&(l.TgZ(0,"mgl-map",0)(1,"mgl-marker",1,2),l._UZ(3,"div",3),l.qZA(),l.TgZ(4,"mgl-popup",4),l._uU(5," Construction on the Washington Monument began in 1848. "),l.qZA()()),2&r){const A=l.MAs(2);l.Akn("https://demotiles.maplibre.org/style.json"),l.Q6J("zoom",l.DdM(7,o1))("center",l.VKq(8,db,-77.0353)),l.xp6(1),l.Q6J("lngLat",l.VKq(10,db,-77.0353)),l.xp6(2),l.Q6J("ngStyle",l.DdM(12,ub)),l.xp6(1),l.Q6J("marker",A)}},dependencies:[Oi.PC,un,zo,$,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const hb=["input"],a1=["*"];let mb=0;class l1{constructor(p,r){this.source=p,this.value=r}}const c1={provide:Ca.JU,useExisting:(0,l.Gpc)(()=>vb),multi:!0},pb=new l.OlP("MatRadioGroup"),fb=new l.OlP("mat-radio-default-options",{providedIn:"root",factory:function gb(){return{color:"accent"}}});let _b=(()=>{class c{get name(){return this._name}set name(r){this._name=r,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(r){this._labelPosition="before"===r?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(r){this._value!==r&&(this._value=r,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(r){this._selected=r,this.value=r?r.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(r){this._disabled=(0,xn.Ig)(r),this._markRadiosForCheck()}get required(){return this._required}set required(r){this._required=(0,xn.Ig)(r),this._markRadiosForCheck()}constructor(r){this._changeDetector=r,this._value=null,this._name="mat-radio-group-"+mb++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new l.vpe}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(r=>{r.name=this.name,r._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(m=>{m.checked=this.value===m.value,m.checked&&(this._selected=m)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new l1(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(r=>r._markForCheck())}writeValue(r){this.value=r,this._changeDetector.markForCheck()}registerOnChange(r){this._controlValueAccessorChangeFn=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.disabled=r,this._changeDetector.markForCheck()}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.sBO))},c.\u0275dir=l.lG2({type:c,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),c})();class yb{constructor(p){this._elementRef=p}}const d1=(0,Bn.Kr)((0,Bn.sb)(yb));let u1=(()=>{class c extends d1{get checked(){return this._checked}set checked(r){const m=(0,xn.Ig)(r);this._checked!==m&&(this._checked=m,m&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!m&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),m&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(r){this._value!==r&&(this._value=r,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===r),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(r){this._labelPosition=r}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(r){this._setDisabled((0,xn.Ig)(r))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(r){this._required=(0,xn.Ig)(r)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(r){this._color=r}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(r,m,A,z,re,ve,Je,mt){super(m),this._changeDetector=A,this._focusMonitor=z,this._radioDispatcher=re,this._providerOverride=Je,this._uniqueId="mat-radio-"+ ++mb,this.id=this._uniqueId,this.change=new l.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=r,this._noopAnimations="NoopAnimations"===ve,mt&&(this.tabIndex=(0,xn.su)(mt,0))}focus(r,m){m?this._focusMonitor.focusVia(this._inputElement,m,r):this._inputElement.nativeElement.focus(r)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((r,m)=>{r!==this.id&&m===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(r=>{!r&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new l1(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(r){r.stopPropagation()}_onInputInteraction(r){if(r.stopPropagation(),!this.checked&&!this.disabled){const m=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),m&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(r){this._onInputInteraction(r),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(r){this._disabled!==r&&(this._disabled=r,this._changeDetector.markForCheck())}_updateTabIndex(){const r=this.radioGroup;let m;if(m=r&&r.selected&&!this.disabled?r.selected===this?this.tabIndex:-1:this.tabIndex,m!==this._previousTabIndex){const A=this._inputElement?.nativeElement;A&&(A.setAttribute("tabindex",m+""),this._previousTabIndex=m)}}}return c.\u0275fac=function(r){l.$Z()},c.\u0275dir=l.lG2({type:c,viewQuery:function(r,m){if(1&r&&l.Gf(hb,5),2&r){let A;l.iGM(A=l.CRH())&&(m._inputElement=A.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[l.qOj]}),c})(),vb=(()=>{class c extends _b{}return c.\u0275fac=function(){let p;return function(m){return(p||(p=l.n5z(c)))(m||c)}}(),c.\u0275dir=l.lG2({type:c,selectors:[["mat-radio-group"]],contentQueries:function(r,m,A){if(1&r&&l.Suo(A,bb,5),2&r){let z;l.iGM(z=l.CRH())&&(m._radios=z)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],exportAs:["matRadioGroup"],features:[l._Bn([c1,{provide:pb,useExisting:c}]),l.qOj]}),c})(),bb=(()=>{class c extends u1{constructor(r,m,A,z,re,ve,Je,mt){super(r,m,A,z,re,ve,Je,mt)}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(pb,8),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Jl.tE),l.Y36(km.A8),l.Y36(l.QbO,8),l.Y36(fb,8),l.$8M("tabindex"))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(r,m){1&r&&l.NdJ("focus",function(){return m._inputElement.nativeElement.focus()}),2&r&&(l.uIk("id",m.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),l.ekj("mat-primary","primary"===m.color)("mat-accent","accent"===m.color)("mat-warn","warn"===m.color)("mat-mdc-radio-checked",m.checked)("_mat-animation-noopable",m._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[l.qOj],ngContentSelectors:a1,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(r,m){if(1&r&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3),l.NdJ("click",function(z){return m._onTouchTargetClick(z)}),l.qZA(),l.TgZ(4,"input",4,5),l.NdJ("change",function(z){return m._onInputInteraction(z)}),l.qZA(),l.TgZ(6,"div",6),l._UZ(7,"div",7)(8,"div",8),l.qZA(),l.TgZ(9,"div",9),l._UZ(10,"div",10),l.qZA()(),l.TgZ(11,"label",11),l.Hsn(12),l.qZA()()),2&r){const A=l.MAs(1);l.ekj("mdc-form-field--align-end","before"==m.labelPosition),l.xp6(2),l.ekj("mdc-radio--disabled",m.disabled),l.xp6(2),l.Q6J("id",m.inputId)("checked",m.checked)("disabled",m.disabled)("required",m.required),l.uIk("name",m.name)("value",m.value)("aria-label",m.ariaLabel)("aria-labelledby",m.ariaLabelledby)("aria-describedby",m.ariaDescribedby),l.xp6(5),l.Q6J("matRippleTrigger",A)("matRippleDisabled",m._isRippleDisabled())("matRippleCentered",!0),l.xp6(2),l.Q6J("for",m.inputId)}},dependencies:[Bn.wG],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{--mdc-radio-disabled-selected-icon-opacity:0.38;--mdc-radio-disabled-unselected-icon-opacity:0.38;--mdc-radio-state-layer-size:40px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0}),c})(),h1=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Bn.BQ,Oi.ez,Bn.si,Bn.BQ]}),c})();const xb=function(){return[13]},$m=function(){return[4.899,52.372]};let wb=(()=>{class c{constructor(){this.layerId="streets"}ngOnInit(){this.changeStyle(this.layerId)}changeStyle(r){this.style="streets"===r?"https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL":{version:8,sources:{raster:{type:"raster",tiles:["https://tile.openstreetmap.org/{z}/{x}/{y}.png"],minzoom:0,maxzoom:15,scheme:"xyz",tileSize:256}},layers:[{id:"some-raster-layer-id",type:"raster",source:"raster",layout:{visibility:"visible"},paint:{"raster-opacity":1}}]}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:6,vars:7,consts:[[3,"zoom","center"],[1,"radio-group",3,"ngModel","ngModelChange"],["value","streets"],["value","code"]],template:function(r,m){1&r&&(l._UZ(0,"mgl-map",0),l.TgZ(1,"mat-radio-group",1),l.NdJ("ngModelChange",function(z){return m.changeStyle(z)}),l.TgZ(2,"mat-radio-button",2),l._uU(3,"streets"),l.qZA(),l.TgZ(4,"mat-radio-button",3),l._uU(5,"from code"),l.qZA()()),2&r&&(l.Akn(m.style),l.Q6J("zoom",l.DdM(5,xb))("center",l.DdM(6,$m)),l.xp6(1),l.Q6J("ngModel",m.layerId))},dependencies:[Ca.JJ,Ca.On,un,vb,bb,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".radio-group[_ngcontent-%COMP%]{position:absolute;padding:8px;background:#fff}"]}),c})();const Eb=function(){return{tileSize:512,type:"raster",url:"https://api.maptiler.com/tiles/satellite-v2/tiles.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"}},Db=function(){return{type:"raster-dem",url:"https://demotiles.maplibre.org/terrain-tiles/tiles.json",tileSize:256}},Sb=function(c,p){return{satelliteSource:c,terrainSource:p}},m1=function(){return{id:"satellite",type:"raster",source:"satelliteSource"}},GC=function(c){return[c]},Tb=function(){return{source:"terrainSource",exaggeration:1}},p1=function(c,p,r){return{version:8,sources:c,layers:p,terrain:r}},f1=function(){return[12]},g1=function(){return[11.39085,47.27574]};let _1=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:1,vars:20,consts:[[3,"zoom","center","pitch"]],template:function(r,m){1&r&&l._UZ(0,"mgl-map",0),2&r&&(l.Akn(l.kEZ(14,p1,l.WLB(7,Sb,l.DdM(5,Eb),l.DdM(6,Db)),l.VKq(11,GC,l.DdM(10,m1)),l.DdM(13,Tb))),l.Q6J("zoom",l.DdM(18,f1))("center",l.DdM(19,g1))("pitch",52))},dependencies:[un,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const Gm=function(){return[12]},y1=function(){return[11.39085,47.27574]};let c_=(()=>{class c{constructor(){this.mapLibreExampleSource="https://api.maptiler.com/maps/hybrid/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL",this.terrainSpec={source:"terrainSource",exaggeration:1}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:8,consts:[[3,"zoom","center","pitch","terrain"],["id","terrainSource","url","https://demotiles.maplibre.org/terrain-tiles/tiles.json","tileSize","256"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-raster-dem-source",1),l.qZA()),2&r&&(l.Akn(m.mapLibreExampleSource),l.Q6J("zoom",l.DdM(6,Gm))("center",l.DdM(7,y1))("pitch",52)("terrain",m.terrainSpec))},dependencies:[un,Ci,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const vc=["button"],v1=["*"],Zm=new l.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),Ch=new l.OlP("MatButtonToggleGroup");let Ib=0;class Ab{constructor(p,r){this.source=p,this.value=r}}const kb=(0,Bn.Kr)(class{});let Pb=(()=>{class c extends kb{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(r){this._appearance=r}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(r){const m=(0,xn.Ig)(r);m!==this._checked&&(this._checked=m,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(r){this._disabled=(0,xn.Ig)(r)}constructor(r,m,A,z,re,ve){super(),this._changeDetectorRef=m,this._elementRef=A,this._focusMonitor=z,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new l.vpe;const Je=Number(re);this.tabIndex=Je||0===Je?Je:null,this.buttonToggleGroup=r,this.appearance=ve&&ve.appearance?ve.appearance:"standard"}ngOnInit(){const r=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+Ib++,r&&(r._isPrechecked(this)?this.checked=!0:r._isSelected(this)!==this._checked&&r._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const r=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),r&&r._isSelected(this)&&r._syncButtonToggle(this,!1,!1,!0)}focus(r){this._buttonElement.nativeElement.focus(r)}_onButtonClick(){const r=!!this._isSingleSelector()||!this._checked;r!==this._checked&&(this._checked=r,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new Ab(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Ch,8),l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(Jl.tE),l.$8M("tabindex"),l.Y36(Zm,8))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-button-toggle"]],viewQuery:function(r,m){if(1&r&&l.Gf(vc,5),2&r){let A;l.iGM(A=l.CRH())&&(m._buttonElement=A.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(r,m){1&r&&l.NdJ("focus",function(){return m.focus()}),2&r&&(l.uIk("aria-label",null)("aria-labelledby",null)("id",m.id)("name",null),l.ekj("mat-button-toggle-standalone",!m.buttonToggleGroup)("mat-button-toggle-checked",m.checked)("mat-button-toggle-disabled",m.disabled)("mat-button-toggle-appearance-standard","standard"===m.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[l.qOj],ngContentSelectors:v1,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(r,m){if(1&r&&(l.F$t(),l.TgZ(0,"button",0,1),l.NdJ("click",function(){return m._onButtonClick()}),l.TgZ(2,"span",2),l.Hsn(3),l.qZA()(),l._UZ(4,"span",3)(5,"span",4)),2&r){const A=l.MAs(1);l.Q6J("id",m.buttonId)("disabled",m.disabled||null),l.uIk("tabindex",m.disabled?-1:m.tabIndex)("aria-pressed",m.checked)("name",m._getButtonName())("aria-label",m.ariaLabel)("aria-labelledby",m.ariaLabelledby),l.xp6(5),l.Q6J("matRippleTrigger",A)("matRippleDisabled",m.disableRipple||m.disabled)}},dependencies:[Bn.wG],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0}),c})(),x1=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Bn.BQ,Bn.si,Bn.BQ]}),c})();const d_=function(){return[3]},w1=function(c,p){return[c,p]},Ob=function(){return["https://demotiles.maplibre.org/tiles/{z}/{x}/{y}.pbf"]},E1=function(){return{"line-color":"blue"}};let M1=(()=>{class c{constructor(){this.layouts={countries:{visibility:"none"},names:{visibility:"none","text-field":"{name:latin}","text-size":30}}}ngOnInit(){}toggleLayer(r){this.layouts[r.value]={...this.layouts[r.value],visibility:"visible"===this.layouts[r.value].visibility?"none":"visible"}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:10,vars:16,consts:[[3,"zoom","center"],["id","countries",3,"tiles"],["id","everything","url","https://api.maptiler.com/tiles/v3/tiles.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"],["id","countries-layer","type","line","source","countries","sourceLayer","countries",3,"layout","paint"],["id","names","type","symbol","source","everything","sourceLayer","place",3,"layout"],[1,"menu"],["value","names",3,"checked","change"],["value","countries",3,"checked","change"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-vector-source",1)(2,"mgl-vector-source",2)(3,"mgl-layer",3)(4,"mgl-layer",4),l.qZA(),l.TgZ(5,"div",5)(6,"mat-button-toggle",6),l.NdJ("change",function(z){return m.toggleLayer(z)}),l._uU(7,"countries names"),l.qZA(),l.TgZ(8,"mat-button-toggle",7),l.NdJ("change",function(z){return m.toggleLayer(z)}),l._uU(9,"countries border"),l.qZA()()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(10,d_))("center",l.WLB(11,w1,-71.97722138410576,-13.517379300798098)),l.xp6(1),l.Q6J("tiles",l.DdM(14,Ob)),l.xp6(2),l.Q6J("layout",m.layouts.countries)("paint",l.DdM(15,E1)),l.xp6(1),l.Q6J("layout",m.layouts.names),l.xp6(2),l.Q6J("checked",!0),l.xp6(2),l.Q6J("checked",!0))},dependencies:[un,Qr,Mc,Pb,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".menu[_ngcontent-%COMP%]{position:absolute;padding:8px}"]}),c})();const Rb=function(){return[12]},gf=function(c){return[c,38.897]},D1=function(){return{padding:20}},S1=function(){return{"line-color":"#BF93E4","line-width":5}},Fb=function(){return{"line-join":"round","line-cap":"round"}};let Lb=(()=>{class c{constructor(){this.source={type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",properties:{},coordinates:[[-77.0366048812866,38.89873175227713],[-77.03364372253417,38.89876515143842],[-77.03364372253417,38.89549195896866],[-77.02982425689697,38.89549195896866],[-77.02400922775269,38.89387200688839],[-77.01519012451172,38.891416957534204],[-77.01521158218382,38.892068305429156],[-77.00813055038452,38.892051604275686],[-77.00832366943358,38.89143365883688],[-77.00818419456482,38.89082405874451],[-77.00815200805664,38.88989712255097]]}}]}}}zoomToBounds(){const r=this.source.data.features[0].geometry.coordinates;this.bounds=r.reduce((m,A)=>m.extend(A),new Sn.LngLatBounds(r[0],r[0]))}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:5,vars:15,consts:[[3,"zoom","center","fitBounds","fitBoundsOptions"],["mat-raised-button","",1,"zoom-button",3,"click"],["id","LineString","type","line",3,"source","paint","layout"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map",0)(1,"mgl-control")(2,"button",1),l.NdJ("click",function(){return m.zoomToBounds()}),l._uU(3," Zoom to bounds "),l.qZA()(),l._UZ(4,"mgl-layer",2),l.qZA()),2&r&&(l.Akn("https://demotiles.maplibre.org/style.json"),l.Q6J("zoom",l.DdM(9,Rb))("center",l.VKq(10,gf,-77.0214))("fitBounds",m.bounds)("fitBoundsOptions",l.DdM(12,D1)),l.xp6(4),l.Q6J("source",m.source)("paint",l.DdM(13,S1))("layout",l.DdM(14,Fb)))},dependencies:[un,Qr,Cr,Qc.lW,Gn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})(),_f=(()=>{class c{constructor(r){this.router=r}canActivate(r){return!!Mf[0].children.some(m=>m.path===r.params.demoUrl)||(this.router.navigate(["/demo"]),!1)}}return c.\u0275fac=function(r){return new(r||c)(l.LFG(ae.F0))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const Bb="https://stackblitz.com",Vb=["angular-cli","create-react-app","html","javascript","node","polymer","typescript","vue"],I1=["project","search","ports","settings"],u_=["light","dark"],h_=["editor","preview"],m_={clickToLoad:c=>Ud("ctl",c),devToolsHeight:c=>Ub("devtoolsheight",c),forceEmbedLayout:c=>Ud("embed",c),hideDevTools:c=>Ud("hidedevtools",c),hideExplorer:c=>Ud("hideExplorer",c),hideNavigation:c=>Ud("hideNavigation",c),openFile:c=>jb("file",c),showSidebar:c=>function A1(c,p){return"boolean"==typeof p?`${c}=${p?"1":"0"}`:""}("showSidebar",c),sidebarView:c=>p_("sidebarView",c,I1),startScript:c=>jb("startScript",c),terminalHeight:c=>Ub("terminalHeight",c),theme:c=>p_("theme",c,u_),view:c=>p_("view",c,h_),zenMode:c=>Ud("zenMode",c)};function yf(c={}){const p=Object.entries(c).map(([r,m])=>null!=m&&m_.hasOwnProperty(r)?m_[r](m):"").filter(Boolean);return p.length?`?${p.join("&")}`:""}function Ud(c,p){return!0===p?`${c}=1`:""}function Ub(c,p){if("number"==typeof p&&!Number.isNaN(p)){const r=Math.min(100,Math.max(0,p));return`${c}=${encodeURIComponent(Math.round(r))}`}return""}function p_(c,p="",r=[]){return r.includes(p)?`${c}=${encodeURIComponent(p)}`:""}function jb(c,p){return(Array.isArray(p)?p:[p]).filter(m=>"string"==typeof m&&""!==m.trim()).map(m=>`${c}=${encodeURIComponent(m)}`).join("&")}function f_(){return Math.random().toString(36).slice(2,6)+Math.random().toString(36).slice(2,6)}function vf(c,p){const r={forceEmbedLayout:!0};return p&&"object"==typeof p&&Object.assign(r,p),`${g_(r)}${c}${yf(r)}`}function g_(c={}){return("string"==typeof c.origin?c.origin:Bb).replace(/\/$/,"")}function bf(c,p,r){if(!p||!c||!c.parentNode)throw new Error("Invalid Element");c.id&&(p.id=c.id),c.className&&(p.className=c.className),function Hb(c,p={}){const r=Object.hasOwnProperty.call(p,"height")?`${p.height}`:"300",m=Object.hasOwnProperty.call(p,"width")?`${p.width}`:void 0;c.setAttribute("height",r),m?c.setAttribute("width",m):c.setAttribute("style","width:100%;")}(p,r),c.replaceWith(p)}function xf(c){if("string"==typeof c){const p=document.getElementById(c);if(!p)throw new Error(`Could not find element with id '${c}'`);return p}if(c instanceof HTMLElement)return c;throw new Error(`Invalid element: ${c}`)}class $b{constructor(p){this.pending={},this.port=p,this.port.onmessage=this.messageListener.bind(this)}request({type:p,payload:r}){return new Promise((m,A)=>{const z=f_();this.pending[z]={resolve:m,reject:A},this.port.postMessage({type:p,payload:{...r,__reqid:z}})})}messageListener(p){if("string"!=typeof p.data.payload?.__reqid)return;const{type:r,payload:m}=p.data,{__reqid:A,__success:z,__error:re}=m;this.pending[A]&&(z?this.pending[A].resolve(this.cleanResult(m)):this.pending[A].reject(re?`${r}: ${re}`:r),delete this.pending[A])}cleanResult(p){const r={...p};return delete r.__reqid,delete r.__success,delete r.__error,Object.keys(r).length?r:null}}class k1{constructor(p,r){this.editor={openFile:m=>this._rdc.request({type:"SDK_OPEN_FILE",payload:{path:m}}),setCurrentFile:m=>this._rdc.request({type:"SDK_SET_CURRENT_FILE",payload:{path:m}}),setTheme:m=>this._rdc.request({type:"SDK_SET_UI_THEME",payload:{theme:m}}),setView:m=>this._rdc.request({type:"SDK_SET_UI_VIEW",payload:{view:m}}),showSidebar:(m=!0)=>this._rdc.request({type:"SDK_TOGGLE_SIDEBAR",payload:{visible:m}})},this.preview={origin:"",getUrl:()=>this._rdc.request({type:"SDK_GET_PREVIEW_URL",payload:{}}).then(m=>m?.url??null),setUrl:(m="/")=>{if("string"!=typeof m||!m.startsWith("/"))throw new Error(`Invalid argument: expected a path starting with '/', got '${m}'`);return this._rdc.request({type:"SDK_SET_PREVIEW_URL",payload:{path:m}})}},this._rdc=new $b(p),Object.defineProperty(this.preview,"origin",{value:"string"==typeof r.previewOrigin?r.previewOrigin:null,writable:!1})}applyFsDiff(p){const r=m=>null!==m&&"object"==typeof m;if(!r(p)||!r(p.create))throw new Error("Invalid diff object: expected diff.create to be an object.");if(!Array.isArray(p.destroy))throw new Error("Invalid diff object: expected diff.destroy to be an array.");return this._rdc.request({type:"SDK_APPLY_FS_DIFF",payload:p})}getDependencies(){return this._rdc.request({type:"SDK_GET_DEPS_SNAPSHOT",payload:{}})}getFsSnapshot(){return this._rdc.request({type:"SDK_GET_FS_SNAPSHOT",payload:{}})}}const qm=[];class Gb{constructor(p){this.id=f_(),this.element=p,this.pending=new Promise((r,m)=>{const A=({data:mt,ports:Bt})=>{"SDK_INIT_SUCCESS"===mt?.action&&mt.id===this.id&&(this.vm=new k1(Bt[0],mt.payload),r(this.vm),re())},z=()=>{this.element.contentWindow?.postMessage({action:"SDK_INIT",id:this.id},"*")};function re(){window.clearInterval(Je),window.removeEventListener("message",A)}window.addEventListener("message",A),z();let ve=0;const Je=window.setInterval(()=>{if(!this.vm)return ve>=20?(re(),m("Timeout: Unable to establish a connection with the StackBlitz VM"),void qm.forEach((mt,Bt)=>{mt.id===this.id&&qm.splice(Bt,1)})):(ve++,void z());re()},500)}),qm.push(this)}}function Zb({template:c,title:p,description:r,dependencies:m,files:A,settings:z}){if(!Vb.includes(c)){const mt=Vb.map(Bt=>`'${Bt}'`).join(", ");console.warn(`Unsupported project.template: must be one of ${mt}`)}const re=[],ve=(mt,Bt,Gt="")=>{re.push(function Eh(c,p){const r=document.createElement("input");return r.type="hidden",r.name=c,r.value=p,r}(mt,"string"==typeof Bt?Bt:Gt))};ve("project[title]",p),"string"==typeof r&&r.length>0&&ve("project[description]",r),ve("project[template]",c,"javascript"),m&&("node"===c?console.warn("Invalid project.dependencies: dependencies must be provided as a 'package.json' file when using the 'node' template."):ve("project[dependencies]",JSON.stringify(m))),z&&ve("project[settings]",JSON.stringify(z)),Object.entries(A).forEach(([mt,Bt])=>{ve(`project[files][${function P1(c){return c.replace(/\[/g,"%5B").replace(/\]/g,"%5D")}(mt)}]`,Bt)});const Je=document.createElement("form");return Je.method="POST",Je.setAttribute("style","display:none!important;"),Je.append(...re),Je}function Ym(c){return c?.contentWindow?((c=>{const p=c instanceof Element?"element":"id";return qm.find(r=>r[p]===c)??null})(c)??new Gb(c)).pending:Promise.reject("Provided element is not an iframe.")}const F1_embedProject=function v_(c,p,r){const m=xf(c),A=function ZC(c,p){const r=Zb(c);return r.action=vf("/run",p),r.id="sb_run",`<!doctype html>\n<html>\n<head><title></title></head>\n<body>\n  ${r.outerHTML}\n  <script>document.getElementById('${r.id}').submit();<\/script>\n</body>\n</html>`}(p,r),z=document.createElement("iframe");return bf(m,z,r),z.contentDocument?.write(A),Ym(z)};var b_=j(9315),qb=j(2096),x_=j(7715),wf=j(940),L1=j(4716);function Cf(c){return c.replace(/(^\w|-\w)/g,w_)}function w_(c){return c.replace(/-/,"").toUpperCase()}var Ef=j(9862);const Yb="app/demo/examples/";let Kb=(()=>{class c{constructor(r){this.http=r,this.fileCache=new Map,this.loadFile("example.css")}getDemoFiles(r){let m=this.fileCache.get(r);return m||(m=this.http.get(`${Yb}${r}.component.ts`,{responseType:"text"}).pipe((0,vs.w)(A=>this.loadAdditionnalFilesIfNecessary(A)),(0,wf.d)(1)),this.fileCache.set(r,m),m)}loadAdditionnalFilesIfNecessary(r){const m=/'\.\/([\w-.]+\.\w+)'/g;let A;const z=[],re={"src/demo.ts":r};for(;A=m.exec(r);)z.push(this.loadFile(A[1]));return z.length?(0,b_.D)(z).pipe((0,_r.U)(ve=>({...Object.assign({},...ve),...re}))):(0,qb.of)(re)}loadFile(r){let m=this.fileCache.get(r);return m||(m=this.http.get(`${Yb}${r}`,{responseType:"text"}).pipe((0,_r.U)(A=>({[`src/${r}`]:A})),(0,wf.d)(1)),this.fileCache.set(r,m),m)}}return c.\u0275fac=function(r){return new(r||c)(l.LFG(Ef.eN))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const Mh=["determinateSpinner"];function N1(c,p){if(1&c&&(l.O4$(),l.TgZ(0,"svg",11),l._UZ(1,"circle",12),l.qZA()),2&c){const r=l.oxw();l.uIk("viewBox",r._viewBox()),l.xp6(1),l.Udp("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeCircumference()/2,"px")("stroke-width",r._circleStrokeWidth(),"%"),l.uIk("r",r._circleRadius())}}const Xb=(0,Bn.pj)(class{constructor(c){this._elementRef=c}},"primary"),C_=new l.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function YC(){return{diameter:Jb}}}),Jb=100;let z1=(()=>{class c extends Xb{constructor(r,m,A){super(r),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=Jb,this._noopAnimations="NoopAnimations"===m&&!!A&&!A._forceAnimations,A&&(A.color&&(this.color=this.defaultColor=A.color),A.diameter&&(this.diameter=A.diameter),A.strokeWidth&&(this.strokeWidth=A.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(r){this._value=Math.max(0,Math.min(100,(0,xn.su)(r)))}get diameter(){return this._diameter}set diameter(r){this._diameter=(0,xn.su)(r)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(r){this._strokeWidth=(0,xn.su)(r)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const r=2*this._circleRadius()+this.strokeWidth;return`0 0 ${r} ${r}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.SBq),l.Y36(l.QbO,8),l.Y36(C_))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(r,m){if(1&r&&l.Gf(Mh,5),2&r){let A;l.iGM(A=l.CRH())&&(m._determinateCircle=A.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(r,m){2&r&&(l.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===m.mode?m.value:null)("mode",m.mode),l.Udp("width",m.diameter,"px")("height",m.diameter,"px")("--mdc-circular-progress-size",m.diameter+"px")("--mdc-circular-progress-active-indicator-width",m.diameter+"px"),l.ekj("_mat-animation-noopable",m._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===m.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[l.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(r,m){if(1&r&&(l.YNc(0,N1,2,8,"ng-template",null,0,l.W1O),l.TgZ(2,"div",1,2),l.O4$(),l.TgZ(4,"svg",3),l._UZ(5,"circle",4),l.qZA()(),l.kcU(),l.TgZ(6,"div",5)(7,"div",6)(8,"div",7),l.GkF(9,8),l.qZA(),l.TgZ(10,"div",9),l.GkF(11,8),l.qZA(),l.TgZ(12,"div",10),l.GkF(13,8),l.qZA()()()),2&r){const A=l.MAs(1);l.xp6(4),l.uIk("viewBox",m._viewBox()),l.xp6(1),l.Udp("stroke-dasharray",m._strokeCircumference(),"px")("stroke-dashoffset",m._strokeDashOffset(),"px")("stroke-width",m._circleStrokeWidth(),"%"),l.uIk("r",m._circleRadius()),l.xp6(4),l.Q6J("ngTemplateOutlet",A),l.xp6(2),l.Q6J("ngTemplateOutlet",A),l.xp6(2),l.Q6J("ngTemplateOutlet",A)}},dependencies:[Oi.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),c})(),B1=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Oi.ez,Bn.BQ]}),c})();const Qb=["container"];function e0(c,p){1&c&&(l.TgZ(0,"div",2),l._UZ(1,"mat-spinner")(2,"div"),l.qZA())}let V1=(()=>{class c{constructor(r,m,A,z,re){this.zone=r,this.activatedRoute=m,this.demoFileLoaderService=A,this.http=z,this.ChangeDetectorRef=re,this.loading=!0,this.projectbase$=(0,b_.D)([this.http.get("assets/stackblitz/main.notts",{responseType:"text"}),this.http.get("assets/stackblitz/angular.json",{responseType:"text"})]).pipe((0,wf.d)(1))}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}ngAfterViewInit(){this.sub=this.activatedRoute.params.pipe((0,Ga.b)(()=>{this.loading=!0,this.ChangeDetectorRef.markForCheck()}),(0,vs.w)(r=>(0,b_.D)([this.projectbase$,this.demoFileLoaderService.getDemoFiles(r.demoUrl),(0,qb.of)(r.demoUrl)])),(0,vs.w)(([r,m,A])=>(0,x_.D)(this.openExample(r,m,A)).pipe((0,L1.x)(()=>{this.loading=!1,this.ChangeDetectorRef.markForCheck()})))).subscribe()}openExample(r,m,A){var z=this;return Fr(function*(){if(z.vm)return void(yield z.vm.applyFsDiff({create:m,destroy:[]}));const re=function qC(c,p,r){return{files:{"src/main.ts":c[0].replace(/###/g,Cf(r)+"Component"),"angular.json":c[1],"src/index.html":"<showcase-demo></showcase-demo>","src/styles.css":"\nhtml, body {\n  display: flex;\n  flex: 1;\n  min-height: 100vh;\n  margin: 0;\n}\n","src/polyfills.ts":"\nimport 'zone.js';\n(window as any).global = window;\n",...p},title:"",description:"",template:"angular-cli",dependencies:{tslib:"*","maplibre-gl":"*","@maplibre/maplibre-gl-style-spec":"*","@maplibre/ngx-maplibre-gl":"*","@angular/cdk":"^16","@angular/material":"^16","@angular/animations":"^16","@angular/forms":"^16","@angular/common":"^16","@angular/compiler":"^16","@angular/core":"^16","@angular/platform-browser":"^16","@angular/platform-browser-dynamic":"^16","@angular/router":"^16",url:"*",querystring:"*",events:"*","@types/supercluster":"*","@types/geojson":"*"}}}(r,m,A);yield z.zone.runOutsideAngular(Fr(function*(){z.vm=yield F1_embedProject(z.stackblitzContainer.nativeElement,re,{hideExplorer:!0,hideNavigation:!0,forceEmbedLayout:!0,openFile:"src/demo.ts"})}))})()}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.R0b),l.Y36(ae.gz),l.Y36(Kb),l.Y36(Ef.eN),l.Y36(l.sBO))},c.\u0275cmp=l.Xpm({type:c,selectors:[["ng-component"]],viewQuery:function(r,m){if(1&r&&l.Gf(Qb,5),2&r){let A;l.iGM(A=l.CRH())&&(m.stackblitzContainer=A.first)}},decls:3,vars:1,consts:[["container",""],["class","loader",4,"ngIf"],[1,"loader"]],template:function(r,m){1&r&&(l._UZ(0,"div",null,0),l.YNc(2,e0,3,0,"div",1)),2&r&&(l.xp6(2),l.Q6J("ngIf",m.loading))},dependencies:[Oi.O5,z1],styles:["[_nghost-%COMP%]{display:flex;flex:1;position:relative}[_nghost-%COMP%]     iframe{height:100%;width:100%;border:0}.loader[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}"],changeDetection:0}),c})();var nn=(()=>((nn=nn||{}).STYLES="Styles",nn.LAYERS="Layers",nn.SOURCES="Sources",nn.USER_INTERACTION="User interaction",nn.CAMERA="Camera",nn.CONTROLS_AND_OVERLAYS="Controls and overlays",nn.TERRAIN="3D Terrain",nn))();const Mf=[{path:"",component:Yp,children:[{path:"edit/:demoUrl",component:V1,canActivate:[_f]},{path:"display-map",component:tc,data:{label:"Display a map",cat:nn.STYLES}},{path:"custom-style-id",component:EC,data:{label:"Display a map with a custom style",cat:nn.STYLES}},{path:"set-style",component:wb,data:{label:"Change a map's style",cat:nn.STYLES}},{path:"satellite-map",component:r1,data:{label:"Display a satellite map",cat:nn.STYLES}},{path:"add-image-generated",component:mx,data:{label:"Add a generated icon to the map",cat:nn.LAYERS}},{path:"add-image",component:Rg,data:{label:"Add an icon to the map",cat:nn.LAYERS}},{path:"toggle-layers",component:M1,data:{label:"Show and hide layers",cat:nn.LAYERS}},{path:"3d-buildings",component:Kp,data:{label:"Display 3d buildings",cat:nn.LAYERS}},{path:"cluster",component:Jy,data:{label:"Create and style clusters",cat:nn.LAYERS}},{path:"heatmap",component:rw,data:{label:"Create a heatmap layer",cat:nn.LAYERS}},{path:"geojson-line",component:Dv,data:{label:"Add a GeoJSON line",cat:nn.LAYERS}},{path:"ngx-geojson-line",component:Zw,data:{label:"[NGX] Add a GeoJSON line",cat:nn.LAYERS}},{path:"custom-marker-icons",component:nv,data:{label:"Add custom icons with Markers",cat:nn.CONTROLS_AND_OVERLAYS}},{path:"ngx-custom-marker-icons",component:Vw,data:{label:"[NGX] Add custom icons with Markers",cat:nn.CONTROLS_AND_OVERLAYS}},{path:"live-update-feature",component:cf,data:{label:"Update a feature in realtime",cat:nn.SOURCES}},{path:"live-update-image-source",component:Rv,data:{label:"Update an image source in realtime",cat:nn.SOURCES}},{path:"popup",component:a_,data:{label:"Display a popup",cat:nn.CONTROLS_AND_OVERLAYS}},{path:"set-popup",component:$C,data:{label:"Attach a popup to a marker instance",cat:nn.CONTROLS_AND_OVERLAYS}},{path:"fullscreen",component:hv,data:{label:"View a fullscreen map",cat:nn.CONTROLS_AND_OVERLAYS}},{path:"navigation",component:gw,data:{label:"Display map navigation controls",cat:nn.CONTROLS_AND_OVERLAYS}},{path:"locate-user",component:Lv,data:{label:"Locate the user",cat:nn.CONTROLS_AND_OVERLAYS}},{path:"attribution-position",component:Lg,data:{label:"Change the default position for attribution",cat:nn.CONTROLS_AND_OVERLAYS}},{path:"ngx-scale-control",component:Ww,data:{label:"[NGX] Show scale information",cat:nn.CONTROLS_AND_OVERLAYS}},{path:"ngx-custom-control",component:Bw,data:{label:"[NGX] Add a custom control",cat:nn.CONTROLS_AND_OVERLAYS}},{path:"interactive-false",component:yn,data:{label:"Display a non-interactive map",cat:nn.USER_INTERACTION}},{path:"language-switch",component:lw,data:{label:"Change a map's language",cat:nn.USER_INTERACTION}},{path:"center-on-symbol",component:Hy,data:{label:"Center the map on a clicked symbol",cat:nn.USER_INTERACTION}},{path:"ngx-drag-a-point",component:Hw,data:{label:"[NGX] Create a draggable point",cat:nn.USER_INTERACTION}},{path:"drag-a-marker",component:Vx,data:{label:"Create a draggable marker",cat:nn.USER_INTERACTION}},{path:"hover-styles",component:Av,data:{label:"Create a hover effect",cat:nn.USER_INTERACTION}},{path:"popup-on-click",component:e1,data:{label:"Display a popup on click",cat:nn.CONTROLS_AND_OVERLAYS}},{path:"zoomto-linestring",component:Lb,data:{label:"Fit to the bounds of a LineString",cat:nn.USER_INTERACTION}},{path:"cluster-html",component:Wy,data:{label:"Display HTML clusters with custom properties",cat:nn.LAYERS}},{path:"ngx-cluster-html",component:Nw,data:{label:"[NGX] Display HTML clusters with custom properties",cat:nn.LAYERS}},{path:"polygon-popup-on-click",component:Jw,data:{label:"Show polygon information on click",cat:nn.CONTROLS_AND_OVERLAYS}},{path:"add-image-missing-generated",component:yx,data:{label:"Generate and add a missing icon to the map",cat:nn.STYLES}},{path:"custom-attribution",component:kx,data:{label:"Add custom attributions",cat:nn.CONTROLS_AND_OVERLAYS}},{path:"custom-locale",component:tv,data:{label:"Add custom localization for controls",cat:nn.CONTROLS_AND_OVERLAYS}},{path:"marker-alignment",component:Vm,data:{label:"Marker alignment options",cat:nn.CAMERA}},{path:"terrain-style",component:_1,data:{label:"Initialize 3D Terrain using style",cat:nn.TERRAIN}},{path:"terrain-control",component:Yw,data:{label:"Terrain Control",cat:nn.TERRAIN}},{path:"terrain",component:c_,data:{label:"[NGX] Initialize 3D Terrain declaratively",cat:nn.TERRAIN}},{path:"**",redirectTo:"display-map"}]}],U1=function(){return[2]},t0=[{path:"",component:(()=>{class c{constructor(){this.center=[0,0],this.panToOptions={duration:1e4,easing:r=>r}}moveCenter(){if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;const r=this.center[0];0===r?this.center=[90,0]:90===r?this.center=[180,0]:180===r?this.center=[-90,0]:-90===r&&(this.center=[0,0])}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["ng-component"]],decls:5,vars:8,consts:[[3,"zoom","center","centerWithPanTo","panToOptions","interactive","mapLoad","moveEnd"],[1,"main"],["svgIcon","ngx-maplibre-gl-red",1,"logo"]],template:function(r,m){1&r&&(l.TgZ(0,"mgl-map",0),l.NdJ("mapLoad",function(){return m.moveCenter()})("moveEnd",function(){return m.moveCenter()}),l.qZA(),l.TgZ(1,"div",1),l._UZ(2,"mat-icon",2),l.TgZ(3,"h1"),l._uU(4,"Angular binding of maplibre-gl-js"),l.qZA()()),2&r&&(l.Akn("https://demotiles.maplibre.org/style.json"),l.Q6J("zoom",l.DdM(7,U1))("center",m.center)("centerWithPanTo",!0)("panToOptions",m.panToOptions)("interactive",!1))},dependencies:[un,$e.Hw],styles:["[_nghost-%COMP%]{display:flex;flex:1;position:relative}.main[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;pointer-events:none}.logo[_ngcontent-%COMP%]{width:150px;height:150px}mgl-map[_ngcontent-%COMP%]{flex:1}"]}),c})(),pathMatch:"full"}],n0=[{path:"",component:j(2627).$,children:[{path:"demo",children:Mf},...t0,{path:"doc",loadChildren:()=>j.e(257).then(j.bind(j,3257)).then(c=>c.DocModule)}]},{path:"**",redirectTo:""}];let r0=(()=>{class c{constructor(r,m){r.addSvgIcon("ngx-maplibre-gl",m.bypassSecurityTrustResourceUrl("assets/ngx-maplibre-gl.svg")),r.addSvgIcon("ngx-maplibre-gl-red",m.bypassSecurityTrustResourceUrl("assets/ngx-maplibre-gl-red.svg")),r.addSvgIcon("github",m.bypassSecurityTrustResourceUrl("assets/github.svg"))}}return c.\u0275fac=function(r){return new(r||c)(l.LFG($e.jv),l.LFG(M.H7))},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[M.b2,oc,$e.Ps,ae.Bz.forRoot(n0,{}),rl,Pa.x]}),c})(),o0=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({providers:[_f],imports:[ae.Bz,Ef.JF,Oi.ez,Ca.u5,rl,Pa.x,h1,x1,Qc.ot,Y0,lv,B1,xy,$e.Ps,Cy,Ow,bC]}),c})(),s0=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[rl,$e.Ps]}),c})(),H1=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c,bootstrap:[v]}),c.\u0275inj=l.cJS({imports:[ae.Bz,r0,s0,o0]}),c})();(0,l.G48)(),M.q6().bootstrapModule(H1).catch(c=>console.log(c))},5619:(gi,ft,j)=>{"use strict";j.d(ft,{X:()=>l});var M=j(8645);class l extends M.x{constructor(v){super(),this._value=v}get value(){return this.getValue()}_subscribe(v){const $e=super._subscribe(v);return!$e.closed&&v.next(this._value),$e}getValue(){const{hasError:v,thrownError:$e,_value:ie}=this;if(v)throw $e;return this._throwIfClosed(),ie}next(v){super.next(this._value=v)}}},5592:(gi,ft,j)=>{"use strict";j.d(ft,{y:()=>ke});var M=j(305),l=j(7394),ae=j(4850),v=j(8407),$e=j(2653),ie=j(4674),Ge=j(1441);let ke=(()=>{class Le{constructor(Qe){Qe&&(this._subscribe=Qe)}lift(Qe){const ut=new Le;return ut.source=this,ut.operator=Qe,ut}subscribe(Qe,ut,bt){const Nt=function it(Le){return Le&&Le instanceof M.Lv||function Ve(Le){return Le&&(0,ie.m)(Le.next)&&(0,ie.m)(Le.error)&&(0,ie.m)(Le.complete)}(Le)&&(0,l.Nn)(Le)}(Qe)?Qe:new M.Hp(Qe,ut,bt);return(0,Ge.x)(()=>{const{operator:ti,source:xi}=this;Nt.add(ti?ti.call(Nt,xi):xi?this._subscribe(Nt):this._trySubscribe(Nt))}),Nt}_trySubscribe(Qe){try{return this._subscribe(Qe)}catch(ut){Qe.error(ut)}}forEach(Qe,ut){return new(ut=Ye(ut))((bt,Nt)=>{const ti=new M.Hp({next:xi=>{try{Qe(xi)}catch(Qt){Nt(Qt),ti.unsubscribe()}},error:Nt,complete:bt});this.subscribe(ti)})}_subscribe(Qe){var ut;return null===(ut=this.source)||void 0===ut?void 0:ut.subscribe(Qe)}[ae.L](){return this}pipe(...Qe){return(0,v.U)(Qe)(this)}toPromise(Qe){return new(Qe=Ye(Qe))((ut,bt)=>{let Nt;this.subscribe(ti=>Nt=ti,ti=>bt(ti),()=>ut(Nt))})}}return Le.create=nt=>new Le(nt),Le})();function Ye(Le){var nt;return null!==(nt=Le??$e.config.Promise)&&void 0!==nt?nt:Promise}},8645:(gi,ft,j)=>{"use strict";j.d(ft,{x:()=>Ge});var M=j(5592),l=j(7394);const v=(0,j(2306).d)(Ye=>function(){Ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var $e=j(9039),ie=j(1441);let Ge=(()=>{class Ye extends M.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(it){const Le=new ke(this,this);return Le.operator=it,Le}_throwIfClosed(){if(this.closed)throw new v}next(it){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Le of this.currentObservers)Le.next(it)}})}error(it){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=it;const{observers:Le}=this;for(;Le.length;)Le.shift().error(it)}})}complete(){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:it}=this;for(;it.length;)it.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var it;return(null===(it=this.observers)||void 0===it?void 0:it.length)>0}_trySubscribe(it){return this._throwIfClosed(),super._trySubscribe(it)}_subscribe(it){return this._throwIfClosed(),this._checkFinalizedStatuses(it),this._innerSubscribe(it)}_innerSubscribe(it){const{hasError:Le,isStopped:nt,observers:Qe}=this;return Le||nt?l.Lc:(this.currentObservers=null,Qe.push(it),new l.w0(()=>{this.currentObservers=null,(0,$e.P)(Qe,it)}))}_checkFinalizedStatuses(it){const{hasError:Le,thrownError:nt,isStopped:Qe}=this;Le?it.error(nt):Qe&&it.complete()}asObservable(){const it=new M.y;return it.source=this,it}}return Ye.create=(Ve,it)=>new ke(Ve,it),Ye})();class ke extends Ge{constructor(Ve,it){super(),this.destination=Ve,this.source=it}next(Ve){var it,Le;null===(Le=null===(it=this.destination)||void 0===it?void 0:it.next)||void 0===Le||Le.call(it,Ve)}error(Ve){var it,Le;null===(Le=null===(it=this.destination)||void 0===it?void 0:it.error)||void 0===Le||Le.call(it,Ve)}complete(){var Ve,it;null===(it=null===(Ve=this.destination)||void 0===Ve?void 0:Ve.complete)||void 0===it||it.call(Ve)}_subscribe(Ve){var it,Le;return null!==(Le=null===(it=this.source)||void 0===it?void 0:it.subscribe(Ve))&&void 0!==Le?Le:l.Lc}}},305:(gi,ft,j)=>{"use strict";j.d(ft,{Hp:()=>bt,Lv:()=>Le});var M=j(4674),l=j(7394),ae=j(2653),v=j(3894),$e=j(2420);const ie=Ye("C",void 0,void 0);function Ye(Re,Ze,Oe){return{kind:Re,value:Ze,error:Oe}}var Ve=j(7599),it=j(1441);class Le extends l.w0{constructor(Ze){super(),this.isStopped=!1,Ze?(this.destination=Ze,(0,l.Nn)(Ze)&&Ze.add(this)):this.destination=Qt}static create(Ze,Oe,gt){return new bt(Ze,Oe,gt)}next(Ze){this.isStopped?xi(function ke(Re){return Ye("N",Re,void 0)}(Ze),this):this._next(Ze)}error(Ze){this.isStopped?xi(function Ge(Re){return Ye("E",void 0,Re)}(Ze),this):(this.isStopped=!0,this._error(Ze))}complete(){this.isStopped?xi(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ze){this.destination.next(Ze)}_error(Ze){try{this.destination.error(Ze)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const nt=Function.prototype.bind;function Qe(Re,Ze){return nt.call(Re,Ze)}class ut{constructor(Ze){this.partialObserver=Ze}next(Ze){const{partialObserver:Oe}=this;if(Oe.next)try{Oe.next(Ze)}catch(gt){Nt(gt)}}error(Ze){const{partialObserver:Oe}=this;if(Oe.error)try{Oe.error(Ze)}catch(gt){Nt(gt)}else Nt(Ze)}complete(){const{partialObserver:Ze}=this;if(Ze.complete)try{Ze.complete()}catch(Oe){Nt(Oe)}}}class bt extends Le{constructor(Ze,Oe,gt){let Rt;if(super(),(0,M.m)(Ze)||!Ze)Rt={next:Ze??void 0,error:Oe??void 0,complete:gt??void 0};else{let At;this&&ae.config.useDeprecatedNextContext?(At=Object.create(Ze),At.unsubscribe=()=>this.unsubscribe(),Rt={next:Ze.next&&Qe(Ze.next,At),error:Ze.error&&Qe(Ze.error,At),complete:Ze.complete&&Qe(Ze.complete,At)}):Rt=Ze}this.destination=new ut(Rt)}}function Nt(Re){ae.config.useDeprecatedSynchronousErrorHandling?(0,it.O)(Re):(0,v.h)(Re)}function xi(Re,Ze){const{onStoppedNotification:Oe}=ae.config;Oe&&Ve.z.setTimeout(()=>Oe(Re,Ze))}const Qt={closed:!0,next:$e.Z,error:function ti(Re){throw Re},complete:$e.Z}},7394:(gi,ft,j)=>{"use strict";j.d(ft,{Lc:()=>ie,w0:()=>$e,Nn:()=>Ge});var M=j(4674);const ae=(0,j(2306).d)(Ye=>function(it){Ye(this),this.message=it?`${it.length} errors occurred during unsubscription:\n${it.map((Le,nt)=>`${nt+1}) ${Le.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=it});var v=j(9039);class $e{constructor(Ve){this.initialTeardown=Ve,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ve;if(!this.closed){this.closed=!0;const{_parentage:it}=this;if(it)if(this._parentage=null,Array.isArray(it))for(const Qe of it)Qe.remove(this);else it.remove(this);const{initialTeardown:Le}=this;if((0,M.m)(Le))try{Le()}catch(Qe){Ve=Qe instanceof ae?Qe.errors:[Qe]}const{_finalizers:nt}=this;if(nt){this._finalizers=null;for(const Qe of nt)try{ke(Qe)}catch(ut){Ve=Ve??[],ut instanceof ae?Ve=[...Ve,...ut.errors]:Ve.push(ut)}}if(Ve)throw new ae(Ve)}}add(Ve){var it;if(Ve&&Ve!==this)if(this.closed)ke(Ve);else{if(Ve instanceof $e){if(Ve.closed||Ve._hasParent(this))return;Ve._addParent(this)}(this._finalizers=null!==(it=this._finalizers)&&void 0!==it?it:[]).push(Ve)}}_hasParent(Ve){const{_parentage:it}=this;return it===Ve||Array.isArray(it)&&it.includes(Ve)}_addParent(Ve){const{_parentage:it}=this;this._parentage=Array.isArray(it)?(it.push(Ve),it):it?[it,Ve]:Ve}_removeParent(Ve){const{_parentage:it}=this;it===Ve?this._parentage=null:Array.isArray(it)&&(0,v.P)(it,Ve)}remove(Ve){const{_finalizers:it}=this;it&&(0,v.P)(it,Ve),Ve instanceof $e&&Ve._removeParent(this)}}$e.EMPTY=(()=>{const Ye=new $e;return Ye.closed=!0,Ye})();const ie=$e.EMPTY;function Ge(Ye){return Ye instanceof $e||Ye&&"closed"in Ye&&(0,M.m)(Ye.remove)&&(0,M.m)(Ye.add)&&(0,M.m)(Ye.unsubscribe)}function ke(Ye){(0,M.m)(Ye)?Ye():Ye.unsubscribe()}},2653:(gi,ft,j)=>{"use strict";j.d(ft,{config:()=>M});const M={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(gi,ft,j)=>{"use strict";j.d(ft,{a:()=>Ve});var M=j(5592),l=j(7453),ae=j(7715),v=j(2737),$e=j(7400),ie=j(9940),Ge=j(2714),ke=j(8251),Ye=j(7103);function Ve(...nt){const Qe=(0,ie.yG)(nt),ut=(0,ie.jO)(nt),{args:bt,keys:Nt}=(0,l.D)(nt);if(0===bt.length)return(0,ae.D)([],Qe);const ti=new M.y(function it(nt,Qe,ut=v.y){return bt=>{Le(Qe,()=>{const{length:Nt}=nt,ti=new Array(Nt);let xi=Nt,Qt=Nt;for(let Re=0;Re<Nt;Re++)Le(Qe,()=>{const Ze=(0,ae.D)(nt[Re],Qe);let Oe=!1;Ze.subscribe((0,ke.x)(bt,gt=>{ti[Re]=gt,Oe||(Oe=!0,Qt--),Qt||bt.next(ut(ti.slice()))},()=>{--xi||bt.complete()}))},bt)},bt)}}(bt,Qe,Nt?xi=>(0,Ge.n)(Nt,xi):v.y));return ut?ti.pipe((0,$e.Z)(ut)):ti}function Le(nt,Qe,ut){nt?(0,Ye.f)(ut,nt,Qe):Qe()}},5211:(gi,ft,j)=>{"use strict";j.d(ft,{z:()=>$e});var M=j(7537),ae=j(9940),v=j(7715);function $e(...ie){return function l(){return(0,M.J)(1)}()((0,v.D)(ie,(0,ae.yG)(ie)))}},4911:(gi,ft,j)=>{"use strict";j.d(ft,{P:()=>ae});var M=j(5592),l=j(4829);function ae(v){return new M.y($e=>{(0,l.Xf)(v()).subscribe($e)})}},6232:(gi,ft,j)=>{"use strict";j.d(ft,{E:()=>l});const l=new(j(5592).y)($e=>$e.complete())},9315:(gi,ft,j)=>{"use strict";j.d(ft,{D:()=>ke});var M=j(5592),l=j(7453),ae=j(4829),v=j(9940),$e=j(8251),ie=j(7400),Ge=j(2714);function ke(...Ye){const Ve=(0,v.jO)(Ye),{args:it,keys:Le}=(0,l.D)(Ye),nt=new M.y(Qe=>{const{length:ut}=it;if(!ut)return void Qe.complete();const bt=new Array(ut);let Nt=ut,ti=ut;for(let xi=0;xi<ut;xi++){let Qt=!1;(0,ae.Xf)(it[xi]).subscribe((0,$e.x)(Qe,Re=>{Qt||(Qt=!0,ti--),bt[xi]=Re},()=>Nt--,void 0,()=>{(!Nt||!Qt)&&(ti||Qe.next(Le?(0,Ge.n)(Le,bt):bt),Qe.complete())}))}});return Ve?nt.pipe((0,ie.Z)(Ve)):nt}},7715:(gi,ft,j)=>{"use strict";j.d(ft,{D:()=>gt});var M=j(4829),l=j(7103),ae=j(9360),v=j(8251);function $e(Rt,At=0){return(0,ae.e)((li,Kt)=>{li.subscribe((0,v.x)(Kt,Li=>(0,l.f)(Kt,Rt,()=>Kt.next(Li),At),()=>(0,l.f)(Kt,Rt,()=>Kt.complete(),At),Li=>(0,l.f)(Kt,Rt,()=>Kt.error(Li),At)))})}function ie(Rt,At=0){return(0,ae.e)((li,Kt)=>{Kt.add(Rt.schedule(()=>li.subscribe(Kt),At))})}var Ye=j(5592),it=j(4971),Le=j(4674);function Qe(Rt,At){if(!Rt)throw new Error("Iterable cannot be null");return new Ye.y(li=>{(0,l.f)(li,At,()=>{const Kt=Rt[Symbol.asyncIterator]();(0,l.f)(li,At,()=>{Kt.next().then(Li=>{Li.done?li.complete():li.next(Li.value)})},0,!0)})})}var ut=j(8382),bt=j(4026),Nt=j(4266),ti=j(3664),xi=j(5726),Qt=j(9853),Re=j(541);function gt(Rt,At){return At?function Oe(Rt,At){if(null!=Rt){if((0,ut.c)(Rt))return function Ge(Rt,At){return(0,M.Xf)(Rt).pipe(ie(At),$e(At))}(Rt,At);if((0,Nt.z)(Rt))return function Ve(Rt,At){return new Ye.y(li=>{let Kt=0;return At.schedule(function(){Kt===Rt.length?li.complete():(li.next(Rt[Kt++]),li.closed||this.schedule())})})}(Rt,At);if((0,bt.t)(Rt))return function ke(Rt,At){return(0,M.Xf)(Rt).pipe(ie(At),$e(At))}(Rt,At);if((0,xi.D)(Rt))return Qe(Rt,At);if((0,ti.T)(Rt))return function nt(Rt,At){return new Ye.y(li=>{let Kt;return(0,l.f)(li,At,()=>{Kt=Rt[it.h](),(0,l.f)(li,At,()=>{let Li,Si;try{({value:Li,done:Si}=Kt.next())}catch(En){return void li.error(En)}Si?li.complete():li.next(Li)},0,!0)}),()=>(0,Le.m)(Kt?.return)&&Kt.return()})}(Rt,At);if((0,Re.L)(Rt))return function Ze(Rt,At){return Qe((0,Re.Q)(Rt),At)}(Rt,At)}throw(0,Qt.z)(Rt)}(Rt,At):(0,M.Xf)(Rt)}},2438:(gi,ft,j)=>{"use strict";j.d(ft,{R:()=>Ve});var M=j(4829),l=j(5592),ae=j(1631),v=j(4266),$e=j(4674),ie=j(7400);const Ge=["addListener","removeListener"],ke=["addEventListener","removeEventListener"],Ye=["on","off"];function Ve(ut,bt,Nt,ti){if((0,$e.m)(Nt)&&(ti=Nt,Nt=void 0),ti)return Ve(ut,bt,Nt).pipe((0,ie.Z)(ti));const[xi,Qt]=function Qe(ut){return(0,$e.m)(ut.addEventListener)&&(0,$e.m)(ut.removeEventListener)}(ut)?ke.map(Re=>Ze=>ut[Re](bt,Ze,Nt)):function Le(ut){return(0,$e.m)(ut.addListener)&&(0,$e.m)(ut.removeListener)}(ut)?Ge.map(it(ut,bt)):function nt(ut){return(0,$e.m)(ut.on)&&(0,$e.m)(ut.off)}(ut)?Ye.map(it(ut,bt)):[];if(!xi&&(0,v.z)(ut))return(0,ae.z)(Re=>Ve(Re,bt,Nt))((0,M.Xf)(ut));if(!xi)throw new TypeError("Invalid event target");return new l.y(Re=>{const Ze=(...Oe)=>Re.next(1<Oe.length?Oe:Oe[0]);return xi(Ze),()=>Qt(Ze)})}function it(ut,bt){return Nt=>ti=>ut[Nt](bt,ti)}},4829:(gi,ft,j)=>{"use strict";j.d(ft,{Xf:()=>nt});var M=j(7582),l=j(4266),ae=j(4026),v=j(5592),$e=j(8382),ie=j(5726),Ge=j(9853),ke=j(3664),Ye=j(541),Ve=j(4674),it=j(3894),Le=j(4850);function nt(Re){if(Re instanceof v.y)return Re;if(null!=Re){if((0,$e.c)(Re))return function Qe(Re){return new v.y(Ze=>{const Oe=Re[Le.L]();if((0,Ve.m)(Oe.subscribe))return Oe.subscribe(Ze);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Re);if((0,l.z)(Re))return function ut(Re){return new v.y(Ze=>{for(let Oe=0;Oe<Re.length&&!Ze.closed;Oe++)Ze.next(Re[Oe]);Ze.complete()})}(Re);if((0,ae.t)(Re))return function bt(Re){return new v.y(Ze=>{Re.then(Oe=>{Ze.closed||(Ze.next(Oe),Ze.complete())},Oe=>Ze.error(Oe)).then(null,it.h)})}(Re);if((0,ie.D)(Re))return ti(Re);if((0,ke.T)(Re))return function Nt(Re){return new v.y(Ze=>{for(const Oe of Re)if(Ze.next(Oe),Ze.closed)return;Ze.complete()})}(Re);if((0,Ye.L)(Re))return function xi(Re){return ti((0,Ye.Q)(Re))}(Re)}throw(0,Ge.z)(Re)}function ti(Re){return new v.y(Ze=>{(function Qt(Re,Ze){var Oe,gt,Rt,At;return(0,M.mG)(this,void 0,void 0,function*(){try{for(Oe=(0,M.KL)(Re);!(gt=yield Oe.next()).done;)if(Ze.next(gt.value),Ze.closed)return}catch(li){Rt={error:li}}finally{try{gt&&!gt.done&&(At=Oe.return)&&(yield At.call(Oe))}finally{if(Rt)throw Rt.error}}Ze.complete()})})(Re,Ze).catch(Oe=>Ze.error(Oe))})}},3019:(gi,ft,j)=>{"use strict";j.d(ft,{T:()=>ie});var M=j(7537),l=j(4829),ae=j(6232),v=j(9940),$e=j(7715);function ie(...Ge){const ke=(0,v.yG)(Ge),Ye=(0,v._6)(Ge,1/0),Ve=Ge;return Ve.length?1===Ve.length?(0,l.Xf)(Ve[0]):(0,M.J)(Ye)((0,$e.D)(Ve,ke)):ae.E}},2096:(gi,ft,j)=>{"use strict";j.d(ft,{of:()=>ae});var M=j(9940),l=j(7715);function ae(...v){const $e=(0,M.yG)(v);return(0,l.D)(v,$e)}},8504:(gi,ft,j)=>{"use strict";j.d(ft,{_:()=>ae});var M=j(5592),l=j(4674);function ae(v,$e){const ie=(0,l.m)(v)?v:()=>v,Ge=ke=>ke.error(ie());return new M.y($e?ke=>$e.schedule(Ge,0,ke):Ge)}},4825:(gi,ft,j)=>{"use strict";j.d(ft,{H:()=>$e});var M=j(5592),l=j(6321),ae=j(671);function $e(ie=0,Ge,ke=l.P){let Ye=-1;return null!=Ge&&((0,ae.K)(Ge)?ke=Ge:Ye=Ge),new M.y(Ve=>{let it=function v(ie){return ie instanceof Date&&!isNaN(ie)}(ie)?+ie-ke.now():ie;it<0&&(it=0);let Le=0;return ke.schedule(function(){Ve.closed||(Ve.next(Le++),0<=Ye?this.schedule(void 0,Ye):Ve.complete())},it)})}},8251:(gi,ft,j)=>{"use strict";j.d(ft,{x:()=>l});var M=j(305);function l(v,$e,ie,Ge,ke){return new ae(v,$e,ie,Ge,ke)}class ae extends M.Lv{constructor($e,ie,Ge,ke,Ye,Ve){super($e),this.onFinalize=Ye,this.shouldUnsubscribe=Ve,this._next=ie?function(it){try{ie(it)}catch(Le){$e.error(Le)}}:super._next,this._error=ke?function(it){try{ke(it)}catch(Le){$e.error(Le)}finally{this.unsubscribe()}}:super._error,this._complete=Ge?function(){try{Ge()}catch(it){$e.error(it)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var $e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ie}=this;super.unsubscribe(),!ie&&(null===($e=this.onFinalize)||void 0===$e||$e.call(this))}}}},6306:(gi,ft,j)=>{"use strict";j.d(ft,{K:()=>v});var M=j(4829),l=j(8251),ae=j(9360);function v($e){return(0,ae.e)((ie,Ge)=>{let Ve,ke=null,Ye=!1;ke=ie.subscribe((0,l.x)(Ge,void 0,void 0,it=>{Ve=(0,M.Xf)($e(it,v($e)(ie))),ke?(ke.unsubscribe(),ke=null,Ve.subscribe(Ge)):Ye=!0})),Ye&&(ke.unsubscribe(),ke=null,Ve.subscribe(Ge))})}},6328:(gi,ft,j)=>{"use strict";j.d(ft,{b:()=>ae});var M=j(1631),l=j(4674);function ae(v,$e){return(0,l.m)($e)?(0,M.z)(v,$e,1):(0,M.z)(v,1)}},3620:(gi,ft,j)=>{"use strict";j.d(ft,{b:()=>v});var M=j(6321),l=j(9360),ae=j(8251);function v($e,ie=M.z){return(0,l.e)((Ge,ke)=>{let Ye=null,Ve=null,it=null;const Le=()=>{if(Ye){Ye.unsubscribe(),Ye=null;const Qe=Ve;Ve=null,ke.next(Qe)}};function nt(){const Qe=it+$e,ut=ie.now();if(ut<Qe)return Ye=this.schedule(void 0,Qe-ut),void ke.add(Ye);Le()}Ge.subscribe((0,ae.x)(ke,Qe=>{Ve=Qe,it=ie.now(),Ye||(Ye=ie.schedule(nt,$e),ke.add(Ye))},()=>{Le(),ke.complete()},void 0,()=>{Ve=Ye=null}))})}},3572:(gi,ft,j)=>{"use strict";j.d(ft,{d:()=>ae});var M=j(9360),l=j(8251);function ae(v){return(0,M.e)(($e,ie)=>{let Ge=!1;$e.subscribe((0,l.x)(ie,ke=>{Ge=!0,ie.next(ke)},()=>{Ge||ie.next(v),ie.complete()}))})}},3997:(gi,ft,j)=>{"use strict";j.d(ft,{x:()=>v});var M=j(2737),l=j(9360),ae=j(8251);function v(ie,Ge=M.y){return ie=ie??$e,(0,l.e)((ke,Ye)=>{let Ve,it=!0;ke.subscribe((0,ae.x)(Ye,Le=>{const nt=Ge(Le);(it||!ie(Ve,nt))&&(it=!1,Ve=nt,Ye.next(Le))}))})}function $e(ie,Ge){return ie===Ge}},2181:(gi,ft,j)=>{"use strict";j.d(ft,{h:()=>ae});var M=j(9360),l=j(8251);function ae(v,$e){return(0,M.e)((ie,Ge)=>{let ke=0;ie.subscribe((0,l.x)(Ge,Ye=>v.call($e,Ye,ke++)&&Ge.next(Ye)))})}},4716:(gi,ft,j)=>{"use strict";j.d(ft,{x:()=>l});var M=j(9360);function l(ae){return(0,M.e)((v,$e)=>{try{v.subscribe($e)}finally{$e.add(ae)}})}},1374:(gi,ft,j)=>{"use strict";j.d(ft,{P:()=>Ge});var M=j(6973),l=j(2181),ae=j(8180),v=j(3572),$e=j(3026),ie=j(2737);function Ge(ke,Ye){const Ve=arguments.length>=2;return it=>it.pipe(ke?(0,l.h)((Le,nt)=>ke(Le,nt,it)):ie.y,(0,ae.q)(1),Ve?(0,v.d)(Ye):(0,$e.T)(()=>new M.K))}},7398:(gi,ft,j)=>{"use strict";j.d(ft,{U:()=>ae});var M=j(9360),l=j(8251);function ae(v,$e){return(0,M.e)((ie,Ge)=>{let ke=0;ie.subscribe((0,l.x)(Ge,Ye=>{Ge.next(v.call($e,Ye,ke++))}))})}},975:(gi,ft,j)=>{"use strict";j.d(ft,{h:()=>l});var M=j(7398);function l(ae){return(0,M.U)(()=>ae)}},7537:(gi,ft,j)=>{"use strict";j.d(ft,{J:()=>ae});var M=j(1631),l=j(2737);function ae(v=1/0){return(0,M.z)(l.y,v)}},1631:(gi,ft,j)=>{"use strict";j.d(ft,{z:()=>ke});var M=j(7398),l=j(4829),ae=j(9360),v=j(7103),$e=j(8251),Ge=j(4674);function ke(Ye,Ve,it=1/0){return(0,Ge.m)(Ve)?ke((Le,nt)=>(0,M.U)((Qe,ut)=>Ve(Le,Qe,nt,ut))((0,l.Xf)(Ye(Le,nt))),it):("number"==typeof Ve&&(it=Ve),(0,ae.e)((Le,nt)=>function ie(Ye,Ve,it,Le,nt,Qe,ut,bt){const Nt=[];let ti=0,xi=0,Qt=!1;const Re=()=>{Qt&&!Nt.length&&!ti&&Ve.complete()},Ze=gt=>ti<Le?Oe(gt):Nt.push(gt),Oe=gt=>{Qe&&Ve.next(gt),ti++;let Rt=!1;(0,l.Xf)(it(gt,xi++)).subscribe((0,$e.x)(Ve,At=>{nt?.(At),Qe?Ze(At):Ve.next(At)},()=>{Rt=!0},void 0,()=>{if(Rt)try{for(ti--;Nt.length&&ti<Le;){const At=Nt.shift();ut?(0,v.f)(Ve,ut,()=>Oe(At)):Oe(At)}Re()}catch(At){Ve.error(At)}}))};return Ye.subscribe((0,$e.x)(Ve,Ze,()=>{Qt=!0,Re()})),()=>{bt?.()}}(Le,nt,Ye,it)))}},3020:(gi,ft,j)=>{"use strict";j.d(ft,{B:()=>$e});var M=j(4829),l=j(8645),ae=j(305),v=j(9360);function $e(Ge={}){const{connector:ke=(()=>new l.x),resetOnError:Ye=!0,resetOnComplete:Ve=!0,resetOnRefCountZero:it=!0}=Ge;return Le=>{let nt,Qe,ut,bt=0,Nt=!1,ti=!1;const xi=()=>{Qe?.unsubscribe(),Qe=void 0},Qt=()=>{xi(),nt=ut=void 0,Nt=ti=!1},Re=()=>{const Ze=nt;Qt(),Ze?.unsubscribe()};return(0,v.e)((Ze,Oe)=>{bt++,!ti&&!Nt&&xi();const gt=ut=ut??ke();Oe.add(()=>{bt--,0===bt&&!ti&&!Nt&&(Qe=ie(Re,it))}),gt.subscribe(Oe),!nt&&bt>0&&(nt=new ae.Hp({next:Rt=>gt.next(Rt),error:Rt=>{ti=!0,xi(),Qe=ie(Qt,Ye,Rt),gt.error(Rt)},complete:()=>{Nt=!0,xi(),Qe=ie(Qt,Ve),gt.complete()}}),(0,M.Xf)(Ze).subscribe(nt))})(Le)}}function ie(Ge,ke,...Ye){if(!0===ke)return void Ge();if(!1===ke)return;const Ve=new ae.Hp({next:()=>{Ve.unsubscribe(),Ge()}});return ke(...Ye).subscribe(Ve)}},940:(gi,ft,j)=>{"use strict";j.d(ft,{d:()=>$e});var M=j(8645),l=j(4552);class ae extends M.x{constructor(Ge=1/0,ke=1/0,Ye=l.l){super(),this._bufferSize=Ge,this._windowTime=ke,this._timestampProvider=Ye,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ke===1/0,this._bufferSize=Math.max(1,Ge),this._windowTime=Math.max(1,ke)}next(Ge){const{isStopped:ke,_buffer:Ye,_infiniteTimeWindow:Ve,_timestampProvider:it,_windowTime:Le}=this;ke||(Ye.push(Ge),!Ve&&Ye.push(it.now()+Le)),this._trimBuffer(),super.next(Ge)}_subscribe(Ge){this._throwIfClosed(),this._trimBuffer();const ke=this._innerSubscribe(Ge),{_infiniteTimeWindow:Ye,_buffer:Ve}=this,it=Ve.slice();for(let Le=0;Le<it.length&&!Ge.closed;Le+=Ye?1:2)Ge.next(it[Le]);return this._checkFinalizedStatuses(Ge),ke}_trimBuffer(){const{_bufferSize:Ge,_timestampProvider:ke,_buffer:Ye,_infiniteTimeWindow:Ve}=this,it=(Ve?1:2)*Ge;if(Ge<1/0&&it<Ye.length&&Ye.splice(0,Ye.length-it),!Ve){const Le=ke.now();let nt=0;for(let Qe=1;Qe<Ye.length&&Ye[Qe]<=Le;Qe+=2)nt=Qe;nt&&Ye.splice(0,nt+1)}}}var v=j(3020);function $e(ie,Ge,ke){let Ye,Ve=!1;return ie&&"object"==typeof ie?({bufferSize:Ye=1/0,windowTime:Ge=1/0,refCount:Ve=!1,scheduler:ke}=ie):Ye=ie??1/0,(0,v.B)({connector:()=>new ae(Ye,Ge,ke),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ve})}},7921:(gi,ft,j)=>{"use strict";j.d(ft,{O:()=>v});var M=j(5211),l=j(9940),ae=j(9360);function v(...$e){const ie=(0,l.yG)($e);return(0,ae.e)((Ge,ke)=>{(ie?(0,M.z)($e,Ge,ie):(0,M.z)($e,Ge)).subscribe(ke)})}},4664:(gi,ft,j)=>{"use strict";j.d(ft,{w:()=>v});var M=j(4829),l=j(9360),ae=j(8251);function v($e,ie){return(0,l.e)((Ge,ke)=>{let Ye=null,Ve=0,it=!1;const Le=()=>it&&!Ye&&ke.complete();Ge.subscribe((0,ae.x)(ke,nt=>{Ye?.unsubscribe();let Qe=0;const ut=Ve++;(0,M.Xf)($e(nt,ut)).subscribe(Ye=(0,ae.x)(ke,bt=>ke.next(ie?ie(nt,bt,ut,Qe++):bt),()=>{Ye=null,Le()}))},()=>{it=!0,Le()}))})}},8180:(gi,ft,j)=>{"use strict";j.d(ft,{q:()=>v});var M=j(6232),l=j(9360),ae=j(8251);function v($e){return $e<=0?()=>M.E:(0,l.e)((ie,Ge)=>{let ke=0;ie.subscribe((0,ae.x)(Ge,Ye=>{++ke<=$e&&(Ge.next(Ye),$e<=ke&&Ge.complete())}))})}},9773:(gi,ft,j)=>{"use strict";j.d(ft,{R:()=>$e});var M=j(9360),l=j(8251),ae=j(4829),v=j(2420);function $e(ie){return(0,M.e)((Ge,ke)=>{(0,ae.Xf)(ie).subscribe((0,l.x)(ke,()=>ke.complete(),v.Z)),!ke.closed&&Ge.subscribe(ke)})}},9397:(gi,ft,j)=>{"use strict";j.d(ft,{b:()=>$e});var M=j(4674),l=j(9360),ae=j(8251),v=j(2737);function $e(ie,Ge,ke){const Ye=(0,M.m)(ie)||Ge||ke?{next:ie,error:Ge,complete:ke}:ie;return Ye?(0,l.e)((Ve,it)=>{var Le;null===(Le=Ye.subscribe)||void 0===Le||Le.call(Ye);let nt=!0;Ve.subscribe((0,ae.x)(it,Qe=>{var ut;null===(ut=Ye.next)||void 0===ut||ut.call(Ye,Qe),it.next(Qe)},()=>{var Qe;nt=!1,null===(Qe=Ye.complete)||void 0===Qe||Qe.call(Ye),it.complete()},Qe=>{var ut;nt=!1,null===(ut=Ye.error)||void 0===ut||ut.call(Ye,Qe),it.error(Qe)},()=>{var Qe,ut;nt&&(null===(Qe=Ye.unsubscribe)||void 0===Qe||Qe.call(Ye)),null===(ut=Ye.finalize)||void 0===ut||ut.call(Ye)}))}):v.y}},3026:(gi,ft,j)=>{"use strict";j.d(ft,{T:()=>v});var M=j(6973),l=j(9360),ae=j(8251);function v(ie=$e){return(0,l.e)((Ge,ke)=>{let Ye=!1;Ge.subscribe((0,ae.x)(ke,Ve=>{Ye=!0,ke.next(Ve)},()=>Ye?ke.complete():ke.error(ie())))})}function $e(){return new M.K}},1954:(gi,ft,j)=>{"use strict";j.d(ft,{o:()=>$e});var M=j(7394);class l extends M.w0{constructor(Ge,ke){super()}schedule(Ge,ke=0){return this}}const ae={setInterval(ie,Ge,...ke){const{delegate:Ye}=ae;return Ye?.setInterval?Ye.setInterval(ie,Ge,...ke):setInterval(ie,Ge,...ke)},clearInterval(ie){const{delegate:Ge}=ae;return(Ge?.clearInterval||clearInterval)(ie)},delegate:void 0};var v=j(9039);class $e extends l{constructor(Ge,ke){super(Ge,ke),this.scheduler=Ge,this.work=ke,this.pending=!1}schedule(Ge,ke=0){var Ye;if(this.closed)return this;this.state=Ge;const Ve=this.id,it=this.scheduler;return null!=Ve&&(this.id=this.recycleAsyncId(it,Ve,ke)),this.pending=!0,this.delay=ke,this.id=null!==(Ye=this.id)&&void 0!==Ye?Ye:this.requestAsyncId(it,this.id,ke),this}requestAsyncId(Ge,ke,Ye=0){return ae.setInterval(Ge.flush.bind(Ge,this),Ye)}recycleAsyncId(Ge,ke,Ye=0){if(null!=Ye&&this.delay===Ye&&!1===this.pending)return ke;null!=ke&&ae.clearInterval(ke)}execute(Ge,ke){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ye=this._execute(Ge,ke);if(Ye)return Ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ge,ke){let Ve,Ye=!1;try{this.work(Ge)}catch(it){Ye=!0,Ve=it||new Error("Scheduled action threw falsy error")}if(Ye)return this.unsubscribe(),Ve}unsubscribe(){if(!this.closed){const{id:Ge,scheduler:ke}=this,{actions:Ye}=ke;this.work=this.state=this.scheduler=null,this.pending=!1,(0,v.P)(Ye,this),null!=Ge&&(this.id=this.recycleAsyncId(ke,Ge,null)),this.delay=null,super.unsubscribe()}}}},2631:(gi,ft,j)=>{"use strict";j.d(ft,{v:()=>ae});var M=j(4552);class l{constructor($e,ie=l.now){this.schedulerActionCtor=$e,this.now=ie}schedule($e,ie=0,Ge){return new this.schedulerActionCtor(this,$e).schedule(Ge,ie)}}l.now=M.l.now;class ae extends l{constructor($e,ie=l.now){super($e,ie),this.actions=[],this._active=!1}flush($e){const{actions:ie}=this;if(this._active)return void ie.push($e);let Ge;this._active=!0;do{if(Ge=$e.execute($e.state,$e.delay))break}while($e=ie.shift());if(this._active=!1,Ge){for(;$e=ie.shift();)$e.unsubscribe();throw Ge}}}},6321:(gi,ft,j)=>{"use strict";j.d(ft,{P:()=>v,z:()=>ae});var M=j(1954);const ae=new(j(2631).v)(M.o),v=ae},4552:(gi,ft,j)=>{"use strict";j.d(ft,{l:()=>M});const M={now:()=>(M.delegate||Date).now(),delegate:void 0}},7599:(gi,ft,j)=>{"use strict";j.d(ft,{z:()=>M});const M={setTimeout(l,ae,...v){const{delegate:$e}=M;return $e?.setTimeout?$e.setTimeout(l,ae,...v):setTimeout(l,ae,...v)},clearTimeout(l){const{delegate:ae}=M;return(ae?.clearTimeout||clearTimeout)(l)},delegate:void 0}},4971:(gi,ft,j)=>{"use strict";j.d(ft,{h:()=>l});const l=function M(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(gi,ft,j)=>{"use strict";j.d(ft,{L:()=>M});const M="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(gi,ft,j)=>{"use strict";j.d(ft,{K:()=>l});const l=(0,j(2306).d)(ae=>function(){ae(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(gi,ft,j)=>{"use strict";j.d(ft,{_6:()=>ie,jO:()=>v,yG:()=>$e});var M=j(4674),l=j(671);function ae(Ge){return Ge[Ge.length-1]}function v(Ge){return(0,M.m)(ae(Ge))?Ge.pop():void 0}function $e(Ge){return(0,l.K)(ae(Ge))?Ge.pop():void 0}function ie(Ge,ke){return"number"==typeof ae(Ge)?Ge.pop():ke}},7453:(gi,ft,j)=>{"use strict";j.d(ft,{D:()=>$e});const{isArray:M}=Array,{getPrototypeOf:l,prototype:ae,keys:v}=Object;function $e(Ge){if(1===Ge.length){const ke=Ge[0];if(M(ke))return{args:ke,keys:null};if(function ie(Ge){return Ge&&"object"==typeof Ge&&l(Ge)===ae}(ke)){const Ye=v(ke);return{args:Ye.map(Ve=>ke[Ve]),keys:Ye}}}return{args:Ge,keys:null}}},9039:(gi,ft,j)=>{"use strict";function M(l,ae){if(l){const v=l.indexOf(ae);0<=v&&l.splice(v,1)}}j.d(ft,{P:()=>M})},2306:(gi,ft,j)=>{"use strict";function M(l){const v=l($e=>{Error.call($e),$e.stack=(new Error).stack});return v.prototype=Object.create(Error.prototype),v.prototype.constructor=v,v}j.d(ft,{d:()=>M})},2714:(gi,ft,j)=>{"use strict";function M(l,ae){return l.reduce((v,$e,ie)=>(v[$e]=ae[ie],v),{})}j.d(ft,{n:()=>M})},1441:(gi,ft,j)=>{"use strict";j.d(ft,{O:()=>v,x:()=>ae});var M=j(2653);let l=null;function ae($e){if(M.config.useDeprecatedSynchronousErrorHandling){const ie=!l;if(ie&&(l={errorThrown:!1,error:null}),$e(),ie){const{errorThrown:Ge,error:ke}=l;if(l=null,Ge)throw ke}}else $e()}function v($e){M.config.useDeprecatedSynchronousErrorHandling&&l&&(l.errorThrown=!0,l.error=$e)}},7103:(gi,ft,j)=>{"use strict";function M(l,ae,v,$e=0,ie=!1){const Ge=ae.schedule(function(){v(),ie?l.add(this.schedule(null,$e)):this.unsubscribe()},$e);if(l.add(Ge),!ie)return Ge}j.d(ft,{f:()=>M})},2737:(gi,ft,j)=>{"use strict";function M(l){return l}j.d(ft,{y:()=>M})},4266:(gi,ft,j)=>{"use strict";j.d(ft,{z:()=>M});const M=l=>l&&"number"==typeof l.length&&"function"!=typeof l},5726:(gi,ft,j)=>{"use strict";j.d(ft,{D:()=>l});var M=j(4674);function l(ae){return Symbol.asyncIterator&&(0,M.m)(ae?.[Symbol.asyncIterator])}},4674:(gi,ft,j)=>{"use strict";function M(l){return"function"==typeof l}j.d(ft,{m:()=>M})},8382:(gi,ft,j)=>{"use strict";j.d(ft,{c:()=>ae});var M=j(4850),l=j(4674);function ae(v){return(0,l.m)(v[M.L])}},3664:(gi,ft,j)=>{"use strict";j.d(ft,{T:()=>ae});var M=j(4971),l=j(4674);function ae(v){return(0,l.m)(v?.[M.h])}},4026:(gi,ft,j)=>{"use strict";j.d(ft,{t:()=>l});var M=j(4674);function l(ae){return(0,M.m)(ae?.then)}},541:(gi,ft,j)=>{"use strict";j.d(ft,{L:()=>v,Q:()=>ae});var M=j(7582),l=j(4674);function ae($e){return(0,M.FC)(this,arguments,function*(){const Ge=$e.getReader();try{for(;;){const{value:ke,done:Ye}=yield(0,M.qq)(Ge.read());if(Ye)return yield(0,M.qq)(void 0);yield yield(0,M.qq)(ke)}}finally{Ge.releaseLock()}})}function v($e){return(0,l.m)($e?.getReader)}},671:(gi,ft,j)=>{"use strict";j.d(ft,{K:()=>l});var M=j(4674);function l(ae){return ae&&(0,M.m)(ae.schedule)}},9360:(gi,ft,j)=>{"use strict";j.d(ft,{A:()=>l,e:()=>ae});var M=j(4674);function l(v){return(0,M.m)(v?.lift)}function ae(v){return $e=>{if(l($e))return $e.lift(function(ie){try{return v(ie,this)}catch(Ge){this.error(Ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(gi,ft,j)=>{"use strict";j.d(ft,{Z:()=>v});var M=j(7398);const{isArray:l}=Array;function v($e){return(0,M.U)(ie=>function ae($e,ie){return l(ie)?$e(...ie):$e(ie)}($e,ie))}},2420:(gi,ft,j)=>{"use strict";function M(){}j.d(ft,{Z:()=>M})},8407:(gi,ft,j)=>{"use strict";j.d(ft,{U:()=>ae,z:()=>l});var M=j(2737);function l(...v){return ae(v)}function ae(v){return 0===v.length?M.y:1===v.length?v[0]:function(ie){return v.reduce((Ge,ke)=>ke(Ge),ie)}}},3894:(gi,ft,j)=>{"use strict";j.d(ft,{h:()=>ae});var M=j(2653),l=j(7599);function ae(v){l.z.setTimeout(()=>{const{onUnhandledError:$e}=M.config;if(!$e)throw v;$e(v)})}},9853:(gi,ft,j)=>{"use strict";function M(l){return new TypeError(`You provided ${null!==l&&"object"==typeof l?"an invalid object":`'${l}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(ft,{z:()=>M})},5624:function(gi){gi.exports=function(){"use strict";var ft,j,M;function l(v,$e){if(ft)if(j){var ie="var sharedChunk = {}; ("+ft+")(sharedChunk); ("+j+")(sharedChunk);",Ge={};ft(Ge),M=$e(Ge),typeof window<"u"&&(M.workerUrl=window.URL.createObjectURL(new Blob([ie],{type:"text/javascript"})))}else j=$e;else ft=$e}return l(0,function(v){function $e(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var ie=Ge;function Ge(o,t){this.x=o,this.y=t}Ge.prototype={clone:function(){return new Ge(this.x,this.y)},add:function(o){return this.clone()._add(o)},sub:function(o){return this.clone()._sub(o)},multByPoint:function(o){return this.clone()._multByPoint(o)},divByPoint:function(o){return this.clone()._divByPoint(o)},mult:function(o){return this.clone()._mult(o)},div:function(o){return this.clone()._div(o)},rotate:function(o){return this.clone()._rotate(o)},rotateAround:function(o,t){return this.clone()._rotateAround(o,t)},matMult:function(o){return this.clone()._matMult(o)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(o){return this.x===o.x&&this.y===o.y},dist:function(o){return Math.sqrt(this.distSqr(o))},distSqr:function(o){var t=o.x-this.x,a=o.y-this.y;return t*t+a*a},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(o){return Math.atan2(this.y-o.y,this.x-o.x)},angleWith:function(o){return this.angleWithSep(o.x,o.y)},angleWithSep:function(o,t){return Math.atan2(this.x*t-this.y*o,this.x*o+this.y*t)},_matMult:function(o){var t=o[2]*this.x+o[3]*this.y;return this.x=o[0]*this.x+o[1]*this.y,this.y=t,this},_add:function(o){return this.x+=o.x,this.y+=o.y,this},_sub:function(o){return this.x-=o.x,this.y-=o.y,this},_mult:function(o){return this.x*=o,this.y*=o,this},_div:function(o){return this.x/=o,this.y/=o,this},_multByPoint:function(o){return this.x*=o.x,this.y*=o.y,this},_divByPoint:function(o){return this.x/=o.x,this.y/=o.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var o=this.y;return this.y=this.x,this.x=-o,this},_rotate:function(o){var t=Math.cos(o),a=Math.sin(o),f=a*this.x+t*this.y;return this.x=t*this.x-a*this.y,this.y=f,this},_rotateAround:function(o,t){var a=Math.cos(o),f=Math.sin(o),w=t.y+f*(this.x-t.x)+a*(this.y-t.y);return this.x=t.x+a*(this.x-t.x)-f*(this.y-t.y),this.y=w,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Ge.convert=function(o){return o instanceof Ge?o:Array.isArray(o)?new Ge(o[0],o[1]):o};var ke=$e(ie),Ye=Ve;function Ve(o,t,a,f){this.cx=3*o,this.bx=3*(a-o)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(f-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=o,this.p1y=t,this.p2x=a,this.p2y=f}Ve.prototype={sampleCurveX:function(o){return((this.ax*o+this.bx)*o+this.cx)*o},sampleCurveY:function(o){return((this.ay*o+this.by)*o+this.cy)*o},sampleCurveDerivativeX:function(o){return(3*this.ax*o+2*this.bx)*o+this.cx},solveCurveX:function(o,t){if(void 0===t&&(t=1e-6),o<0)return 0;if(o>1)return 1;for(var a=o,f=0;f<8;f++){var w=this.sampleCurveX(a)-o;if(Math.abs(w)<t)return a;var S=this.sampleCurveDerivativeX(a);if(Math.abs(S)<1e-6)break;a-=w/S}var T=0,P=1;for(a=o,f=0;f<20&&(w=this.sampleCurveX(a),!(Math.abs(w-o)<t));f++)o>w?T=a:P=a,a=.5*(P-T)+T;return a},solve:function(o,t){return this.sampleCurveY(this.solveCurveX(o,t))}};var it=$e(Ye);function Le(o,t,a,f){const w=new it(o,t,a,f);return function(S){return w.solve(S)}}const nt=Le(.25,.1,.25,1);function Qe(o,t,a){return Math.min(a,Math.max(t,o))}function ut(o,t,a){const f=a-t,w=((o-t)%f+f)%f+t;return w===t?a:w}function bt(o,...t){for(const a of t)for(const f in a)o[f]=a[f];return o}let Nt=1;function ti(o,t){o.forEach(a=>{t[a]&&(t[a]=t[a].bind(t))})}function xi(o,t,a){const f={};for(const w in o)f[w]=t.call(a||this,o[w],w,o);return f}function Qt(o,t,a){const f={};for(const w in o)t.call(a||this,o[w],w,o)&&(f[w]=o[w]);return f}function Re(o){return Array.isArray(o)?o.map(Re):"object"==typeof o&&o?xi(o,Re):o}const Ze={};function Oe(o){Ze[o]||(typeof console<"u"&&console.warn(o),Ze[o]=!0)}function gt(o,t,a){return(a.y-o.y)*(t.x-o.x)>(t.y-o.y)*(a.x-o.x)}function Rt(o){let t=0;for(let a,f,w=0,S=o.length,T=S-1;w<S;T=w++)a=o[w],f=o[T],t+=(f.x-a.x)*(a.y+f.y);return t}function At(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}let li=null;function Kt(o){if(null==li){const t=o.navigator?o.navigator.userAgent:null;li=!!o.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return li}function Li(o){return typeof ImageBitmap<"u"&&o instanceof ImageBitmap}const Si="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let En,Vn;const hn={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(o){const t=requestAnimationFrame(o);return{cancel:()=>cancelAnimationFrame(t)}},getImageData(o,t=0){return this.getImageCanvasContext(o).getImageData(-t,-t,o.width+2*t,o.height+2*t)},getImageCanvasContext(o){const t=window.document.createElement("canvas"),a=t.getContext("2d",{willReadFrequently:!0});if(!a)throw new Error("failed to create canvas 2d context");return t.width=o.width,t.height=o.height,a.drawImage(o,0,0,o.width,o.height),a},resolveURL:o=>(En||(En=document.createElement("a")),En.href=o,En.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(null==Vn&&(Vn=matchMedia("(prefers-reduced-motion: reduce)")),Vn.matches)}},Zn={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};class In extends Error{constructor(t,a,f,w){super(`AJAXError: ${a} (${t}): ${f}`),this.status=t,this.statusText=a,this.url=f,this.body=w}}const wt=At()?()=>self.worker&&self.worker.referrer:()=>("blob:"===window.location.protocol?window.parent:window).location.href,xt=o=>Zn.REGISTERED_PROTOCOLS[o.substring(0,o.indexOf("://"))];function kt(o,t){const a=new AbortController,f=new Request(o.url,{method:o.method||"GET",body:o.body,credentials:o.credentials,headers:o.headers,referrer:wt(),signal:a.signal});let w=!1,S=!1;return"json"===o.type&&f.headers.set("Accept","application/json"),S||fetch(f).then(T=>{return T.ok?(P=T,void("arrayBuffer"===o.type||"image"===o.type?P.arrayBuffer():"json"===o.type?P.json():P.text()).then(L=>{S||(w=!0,t(null,L,P.headers.get("Cache-Control"),P.headers.get("Expires")))}).catch(L=>{S||t(new Error(L.message))})):T.blob().then(P=>t(new In(T.status,T.statusText,o.url,P)));var P}).catch(T=>{20!==T.code&&t(new Error(T.message))}),{cancel:()=>{S=!0,w||a.abort()}}}const Ft=function(o,t){if(/:\/\//.test(o.url)&&!/^https?:|^file:/.test(o.url)){if(At()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",o,t);if(!At())return(xt(o.url)||kt)(o,t)}if(!(/^file:/.test(a=o.url)||/^file:/.test(wt())&&!/^\w+:/.test(a))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return kt(o,t);if(At()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",o,t,void 0,!0)}var a;return function(f,w){const S=new XMLHttpRequest;S.open(f.method||"GET",f.url,!0),"arrayBuffer"!==f.type&&"image"!==f.type||(S.responseType="arraybuffer");for(const T in f.headers)S.setRequestHeader(T,f.headers[T]);return"json"===f.type&&(S.responseType="text",S.setRequestHeader("Accept","application/json")),S.withCredentials="include"===f.credentials,S.onerror=()=>{w(new Error(S.statusText))},S.onload=()=>{if((S.status>=200&&S.status<300||0===S.status)&&null!==S.response){let T=S.response;if("json"===f.type)try{T=JSON.parse(S.response)}catch(P){return w(P)}w(null,T,S.getResponseHeader("Cache-Control"),S.getResponseHeader("Expires"))}else{const T=new Blob([S.response],{type:S.getResponseHeader("Content-Type")});w(new In(S.status,S.statusText,f.url,T))}},S.send(f.body),{cancel:()=>S.abort()}}(o,t)},Jt=function(o,t){return Ft(bt(o,{type:"arrayBuffer"}),t)};function Et(o){if(!o||o.indexOf("://")<=0||0===o.indexOf("data:image/")||0===o.indexOf("blob:"))return!0;const t=new URL(o),a=window.location;return t.protocol===a.protocol&&t.host===a.host}function hi(o,t,a){a[o]&&-1!==a[o].indexOf(t)||(a[o]=a[o]||[],a[o].push(t))}function je(o,t,a){if(a&&a[o]){const f=a[o].indexOf(t);-1!==f&&a[o].splice(f,1)}}class ot{constructor(t,a={}){bt(this,a),this.type=t}}class ht extends ot{constructor(t,a={}){super("error",bt({error:t},a))}}class ct{on(t,a){return this._listeners=this._listeners||{},hi(t,a,this._listeners),this}off(t,a){return je(t,a,this._listeners),je(t,a,this._oneTimeListeners),this}once(t,a){return a?(this._oneTimeListeners=this._oneTimeListeners||{},hi(t,a,this._oneTimeListeners),this):new Promise(f=>this.once(t,f))}fire(t,a){"string"==typeof t&&(t=new ot(t,a||{}));const f=t.type;if(this.listens(f)){t.target=this;const w=this._listeners&&this._listeners[f]?this._listeners[f].slice():[];for(const P of w)P.call(this,t);const S=this._oneTimeListeners&&this._oneTimeListeners[f]?this._oneTimeListeners[f].slice():[];for(const P of S)je(f,P,this._oneTimeListeners),P.call(this,t);const T=this._eventedParent;T&&(bt(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),T.fire(t))}else t instanceof ht&&console.error(t.error);return this}listens(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)}setEventedParent(t,a){return this._eventedParent=t,this._eventedParentData=a,this}}var De={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const qt=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Zt(o,t){const a={};for(const f in o)"ref"!==f&&(a[f]=o[f]);return qt.forEach(f=>{f in t&&(a[f]=t[f])}),a}function ei(o,t){if(Array.isArray(o)){if(!Array.isArray(t)||o.length!==t.length)return!1;for(let a=0;a<o.length;a++)if(!ei(o[a],t[a]))return!1;return!0}if("object"==typeof o&&null!==o&&null!==t){if("object"!=typeof t||Object.keys(o).length!==Object.keys(t).length)return!1;for(const a in o)if(!ei(o[a],t[a]))return!1;return!0}return o===t}const Xe={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function St(o,t,a){a.push({command:Xe.addSource,args:[o,t[o]]})}function yi(o,t,a){t.push({command:Xe.removeSource,args:[o]}),a[o]=!0}function gn(o,t,a,f){yi(o,a,f),St(o,t,a)}function Zi(o,t,a){let f;for(f in o[a])if(Object.prototype.hasOwnProperty.call(o[a],f)&&"data"!==f&&!ei(o[a][f],t[a][f]))return!1;for(f in t[a])if(Object.prototype.hasOwnProperty.call(t[a],f)&&"data"!==f&&!ei(o[a][f],t[a][f]))return!1;return!0}function An(o,t,a,f,w,S){let T;for(T in t=t||{},o=o||{})Object.prototype.hasOwnProperty.call(o,T)&&(ei(o[T],t[T])||a.push({command:S,args:[f,T,t[T],w]}));for(T in t)Object.prototype.hasOwnProperty.call(t,T)&&!Object.prototype.hasOwnProperty.call(o,T)&&(ei(o[T],t[T])||a.push({command:S,args:[f,T,t[T],w]}))}function vn(o){return o.id}function Mn(o,t){return o[t.id]=t,o}class Pe{constructor(t,a,f,w){this.message=(t?`${t}: `:"")+f,w&&(this.identifier=w),null!=a&&a.__line__&&(this.line=a.__line__)}}function se(o,...t){for(const a of t)for(const f in a)o[f]=a[f];return o}class Ce extends Error{constructor(t,a){super(a),this.message=a,this.key=t}}class Ie{constructor(t,a=[]){this.parent=t,this.bindings={};for(const[f,w]of a)this.bindings[f]=w}concat(t){return new Ie(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(`${t} not found in scope.`)}has(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)}}const Te={kind:"null"},ne={kind:"number"},Ne={kind:"string"},dt={kind:"boolean"},jt={kind:"color"},Xt={kind:"object"},Ut={kind:"value"},pi={kind:"collator"},Ji={kind:"formatted"},en={kind:"padding"},cn={kind:"resolvedImage"};function Wi(o,t){return{kind:"array",itemType:o,N:t}}function _t(o){if("array"===o.kind){const t=_t(o.itemType);return"number"==typeof o.N?`array<${t}, ${o.N}>`:"value"===o.itemType.kind?"array":`array<${t}>`}return o.kind}const mi=[Te,ne,Ne,dt,jt,Ji,Xt,Wi(Ut),en,cn];function vt(o,t){if("error"===t.kind)return null;if("array"===o.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!vt(o.itemType,t.itemType))&&("number"!=typeof o.N||o.N===t.N))return null}else{if(o.kind===t.kind)return null;if("value"===o.kind)for(const a of mi)if(!vt(a,t))return null}return`Expected ${_t(o)} but found ${_t(t)} instead.`}function q(o,t){return t.some(a=>a.kind===o.kind)}function B(o,t){return t.some(a=>"null"===a?null===o:"array"===a?Array.isArray(o):"object"===a?o&&!Array.isArray(o)&&"object"==typeof o:a===typeof o)}function U(o,t){return"array"===o.kind&&"array"===t.kind?o.itemType.kind===t.itemType.kind&&"number"==typeof o.N:o.kind===t.kind}const Ae=4/29,pe=6/29,oe=3*pe*pe,X=pe*pe*pe,he=Math.PI/180,et=180/Math.PI;function lt(o){return(o%=360)<0&&(o+=360),o}function be([o,t,a,f]){let w,S;const T=de((.2225045*(o=Se(o))+.7168786*(t=Se(t))+.0606169*(a=Se(a)))/1);o===t&&t===a?w=S=T:(w=de((.4360747*o+.3850649*t+.1430804*a)/.96422),S=de((.0139322*o+.0971045*t+.7141733*a)/.82521));const P=116*T-16;return[P<0?0:P,500*(w-T),200*(T-S),f]}function Se(o){return o<=.04045?o/12.92:Math.pow((o+.055)/1.055,2.4)}function de(o){return o>X?Math.pow(o,1/3):o/oe+Ae}function Ee([o,t,a,f]){let w=(o+16)/116,S=isNaN(t)?w:w+t/500,T=isNaN(a)?w:w-a/200;return w=1*Tt(w),S=.96422*Tt(S),T=.82521*Tt(T),[tt(3.1338561*S-1.6168667*w-.4906146*T),tt(-.9787684*S+1.9161415*w+.033454*T),tt(.0719453*S-.2289914*w+1.4052427*T),f]}function tt(o){return(o=o<=.00304?12.92*o:1.055*Math.pow(o,1/2.4)-.055)<0?0:o>1?1:o}function Tt(o){return o>pe?o*o*o:oe*(o-Ae)}function Ke(o){return parseInt(o.padEnd(2,o),16)/255}function Me(o,t){return We(t?o/100:o,0,1)}function We(o,t,a){return Math.min(Math.max(t,o),a)}function zt(o){return!o.some(Number.isNaN)}const ri={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class Ht{constructor(t,a,f,w=1,S=!0){this.r=t,this.g=a,this.b=f,this.a=w,S||(this.r*=w,this.g*=w,this.b*=w,w||this.overwriteGetter("rgb",[t,a,f,w]))}static parse(t){if(t instanceof Ht)return t;if("string"!=typeof t)return;const a=function(f){if("transparent"===(f=f.toLowerCase()))return[0,0,0,0];const w=ri[f];if(w){const[T,P,L]=w;return[T/255,P/255,L/255,1]}if(f.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(f)){const T=f.length<6?1:2;let P=1;return[Ke(f.slice(P,P+=T)),Ke(f.slice(P,P+=T)),Ke(f.slice(P,P+=T)),Ke(f.slice(P,P+T)||"ff")]}if(f.startsWith("rgb")){const T=f.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(T){const[P,L,G,K,te,le,ue,_e,Be,Ue,at,yt]=T,st=[K||" ",ue||" ",Ue].join("");if("  "===st||"  /"===st||",,"===st||",,,"===st){const It=[G,le,Be].join(""),Ot="%%%"===It?100:""===It?255:0;if(Ot){const Yt=[We(+L/Ot,0,1),We(+te/Ot,0,1),We(+_e/Ot,0,1),at?Me(+at,yt):1];if(zt(Yt))return Yt}}return}}const S=f.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(S){const[T,P,L,G,K,te,le,ue,_e]=S,Be=[L||" ",K||" ",le].join("");if("  "===Be||"  /"===Be||",,"===Be||",,,"===Be){const Ue=[+P,We(+G,0,100),We(+te,0,100),ue?Me(+ue,_e):1];if(zt(Ue))return function([at,yt,st,It]){function Ot(Yt){const Pi=(Yt+at/30)%12,ji=yt*Math.min(st,1-st);return st-ji*Math.max(-1,Math.min(Pi-3,9-Pi,1))}return at=lt(at),yt/=100,st/=100,[Ot(0),Ot(8),Ot(4),It]}(Ue)}}}(t);return a?new Ht(...a,!1):void 0}get rgb(){const{r:t,g:a,b:f,a:w}=this,S=w||1/0;return this.overwriteGetter("rgb",[t/S,a/S,f/S,w])}get hcl(){return this.overwriteGetter("hcl",function(t){const[a,f,w,S]=be(t),T=Math.sqrt(f*f+w*w);return[Math.round(1e4*T)?lt(Math.atan2(w,f)*et):NaN,T,a,S]}(this.rgb))}get lab(){return this.overwriteGetter("lab",be(this.rgb))}overwriteGetter(t,a){return Object.defineProperty(this,t,{value:a}),a}toString(){const[t,a,f,w]=this.rgb;return`rgba(${[t,a,f].map(S=>Math.round(255*S)).join(",")},${w})`}}Ht.black=new Ht(0,0,0,1),Ht.white=new Ht(1,1,1,1),Ht.transparent=new Ht(0,0,0,0),Ht.red=new Ht(1,0,0,1);class di{constructor(t,a,f){this.sensitivity=t?a?"variant":"case":a?"accent":"base",this.locale=f,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(t,a){return this.collator.compare(t,a)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Wn{constructor(t,a,f,w,S){this.text=t,this.image=a,this.scale=f,this.fontStack=w,this.textColor=S}}class Ni{constructor(t){this.sections=t}static fromString(t){return new Ni([new Wn(t,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(t=>0!==t.text.length||t.image&&0!==t.image.name.length)}static factory(t){return t instanceof Ni?t:Ni.fromString(t)}toString(){return 0===this.sections.length?"":this.sections.map(t=>t.text).join("")}}class Un{constructor(t){this.values=t.slice()}static parse(t){if(t instanceof Un)return t;if("number"==typeof t)return new Un([t,t,t,t]);if(Array.isArray(t)&&!(t.length<1||t.length>4)){for(const a of t)if("number"!=typeof a)return;switch(t.length){case 1:t=[t[0],t[0],t[0],t[0]];break;case 2:t=[t[0],t[1],t[0],t[1]];break;case 3:t=[t[0],t[1],t[2],t[1]]}return new Un(t)}}toString(){return JSON.stringify(this.values)}}class fr{constructor(t){this.name=t.name,this.available=t.available}toString(){return this.name}static fromString(t){return t?new fr({name:t,available:!1}):null}}function Pr(o,t,a,f){return"number"==typeof o&&o>=0&&o<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof a&&a>=0&&a<=255?void 0===f||"number"==typeof f&&f>=0&&f<=1?null:`Invalid rgba value [${[o,t,a,f].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof f?[o,t,a,f]:[o,t,a]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Or(o){if(null===o||"string"==typeof o||"boolean"==typeof o||"number"==typeof o||o instanceof Ht||o instanceof di||o instanceof Ni||o instanceof Un||o instanceof fr)return!0;if(Array.isArray(o)){for(const t of o)if(!Or(t))return!1;return!0}if("object"==typeof o){for(const t in o)if(!Or(o[t]))return!1;return!0}return!1}function Nn(o){if(null===o)return Te;if("string"==typeof o)return Ne;if("boolean"==typeof o)return dt;if("number"==typeof o)return ne;if(o instanceof Ht)return jt;if(o instanceof di)return pi;if(o instanceof Ni)return Ji;if(o instanceof Un)return en;if(o instanceof fr)return cn;if(Array.isArray(o)){const t=o.length;let a;for(const f of o){const w=Nn(f);if(a){if(a===w)continue;a=Ut;break}a=w}return Wi(a||Ut,t)}return Xt}function _o(o){const t=typeof o;return null===o?"":"string"===t||"number"===t||"boolean"===t?String(o):o instanceof Ht||o instanceof Ni||o instanceof Un||o instanceof fr?o.toString():JSON.stringify(o)}class Dn{constructor(t,a){this.type=t,this.value=a}static parse(t,a){if(2!==t.length)return a.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!Or(t[1]))return a.error("invalid value");const f=t[1];let w=Nn(f);const S=a.expectedType;return"array"!==w.kind||0!==w.N||!S||"array"!==S.kind||"number"==typeof S.N&&0!==S.N||(w=S),new Dn(w,f)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class qi{constructor(t){this.name="ExpressionEvaluationError",this.message=t}toJSON(){return this.message}}const lo={string:Ne,number:ne,boolean:dt,object:Xt};class Lr{constructor(t,a){this.type=t,this.args=a}static parse(t,a){if(t.length<2)return a.error("Expected at least one argument.");let f,w=1;const S=t[0];if("array"===S){let P,L;if(t.length>2){const G=t[1];if("string"!=typeof G||!(G in lo)||"object"===G)return a.error('The item type argument of "array" must be one of string, number, boolean',1);P=lo[G],w++}else P=Ut;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return a.error('The length argument to "array" must be a positive integer literal',2);L=t[2],w++}f=Wi(P,L)}else{if(!lo[S])throw new Error(`Types doesn't contain name = ${S}`);f=lo[S]}const T=[];for(;w<t.length;w++){const P=a.parse(t[w],w,Ut);if(!P)return null;T.push(P)}return new Lr(f,T)}evaluate(t){for(let a=0;a<this.args.length;a++){const f=this.args[a].evaluate(t);if(!vt(this.type,Nn(f)))return f;if(a===this.args.length-1)throw new qi(`Expected value to be of type ${_t(this.type)}, but found ${_t(Nn(f))} instead.`)}throw new Error}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}}const wr={"to-boolean":dt,"to-color":jt,"to-number":ne,"to-string":Ne};class kn{constructor(t,a){this.type=t,this.args=a}static parse(t,a){if(t.length<2)return a.error("Expected at least one argument.");const f=t[0];if(!wr[f])throw new Error(`Can't parse ${f} as it is not part of the known types`);if(("to-boolean"===f||"to-string"===f)&&2!==t.length)return a.error("Expected one argument.");const w=wr[f],S=[];for(let T=1;T<t.length;T++){const P=a.parse(t[T],T,Ut);if(!P)return null;S.push(P)}return new kn(w,S)}evaluate(t){if("boolean"===this.type.kind)return!!this.args[0].evaluate(t);if("color"===this.type.kind){let a,f;for(const w of this.args){if(a=w.evaluate(t),f=null,a instanceof Ht)return a;if("string"==typeof a){const S=t.parseColor(a);if(S)return S}else if(Array.isArray(a)&&(f=a.length<3||a.length>4?`Invalid rbga value ${JSON.stringify(a)}: expected an array containing either three or four numeric values.`:Pr(a[0],a[1],a[2],a[3]),!f))return new Ht(a[0]/255,a[1]/255,a[2]/255,a[3])}throw new qi(f||`Could not parse color from value '${"string"==typeof a?a:JSON.stringify(a)}'`)}if("padding"===this.type.kind){let a;for(const f of this.args){a=f.evaluate(t);const w=Un.parse(a);if(w)return w}throw new qi(`Could not parse padding from value '${"string"==typeof a?a:JSON.stringify(a)}'`)}if("number"===this.type.kind){let a=null;for(const f of this.args){if(a=f.evaluate(t),null===a)return 0;const w=Number(a);if(!isNaN(w))return w}throw new qi(`Could not convert ${JSON.stringify(a)} to number.`)}return"formatted"===this.type.kind?Ni.fromString(_o(this.args[0].evaluate(t))):"resolvedImage"===this.type.kind?fr.fromString(_o(this.args[0].evaluate(t))):_o(this.args[0].evaluate(t))}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}}const Eo=["Unknown","Point","LineString","Polygon"];class Mo{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?Eo[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(t){let a=this._parseColorCache[t];return a||(a=this._parseColorCache[t]=Ht.parse(t)),a}}class co{constructor(t,a,f=[],w,S=new Ie,T=[]){this.registry=t,this.path=f,this.key=f.map(P=>`[${P}]`).join(""),this.scope=S,this.errors=T,this.expectedType=w,this._isConstant=a}parse(t,a,f,w,S={}){return a?this.concat(a,f,w)._parse(t,S):this._parse(t,S)}_parse(t,a){function f(w,S,T){return"assert"===T?new Lr(S,[w]):"coerce"===T?new kn(S,[w]):w}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const w=t[0];if("string"!=typeof w)return this.error(`Expression name must be a string, but found ${typeof w} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const S=this.registry[w];if(S){let T=S.parse(t,this);if(!T)return null;if(this.expectedType){const P=this.expectedType,L=T.type;if("string"!==P.kind&&"number"!==P.kind&&"boolean"!==P.kind&&"object"!==P.kind&&"array"!==P.kind||"value"!==L.kind)if("color"!==P.kind&&"formatted"!==P.kind&&"resolvedImage"!==P.kind||"value"!==L.kind&&"string"!==L.kind)if("padding"!==P.kind||"value"!==L.kind&&"number"!==L.kind&&"array"!==L.kind){if(this.checkSubtype(P,L))return null}else T=f(T,P,a.typeAnnotation||"coerce");else T=f(T,P,a.typeAnnotation||"coerce");else T=f(T,P,a.typeAnnotation||"assert")}if(!(T instanceof Dn)&&"resolvedImage"!==T.type.kind&&this._isConstant(T)){const P=new Mo;try{T=new Dn(T.type,T.evaluate(P))}catch(L){return this.error(L.message),null}}return T}return this.error(`Unknown expression "${w}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===t?"'undefined' value invalid. Use null instead.":"object"==typeof t?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof t} instead.`)}concat(t,a,f){const w="number"==typeof t?this.path.concat(t):this.path,S=f?this.scope.concat(f):this.scope;return new co(this.registry,this._isConstant,w,a||null,S,this.errors)}error(t,...a){const f=`${this.key}${a.map(w=>`[${w}]`).join("")}`;this.errors.push(new Ce(f,t))}checkSubtype(t,a){const f=vt(t,a);return f&&this.error(f),f}}class Cn{constructor(t,a,f){this.type=pi,this.locale=f,this.caseSensitive=t,this.diacriticSensitive=a}static parse(t,a){if(2!==t.length)return a.error("Expected one argument.");const f=t[1];if("object"!=typeof f||Array.isArray(f))return a.error("Collator options argument must be an object.");const w=a.parse(void 0!==f["case-sensitive"]&&f["case-sensitive"],1,dt);if(!w)return null;const S=a.parse(void 0!==f["diacritic-sensitive"]&&f["diacritic-sensitive"],1,dt);if(!S)return null;let T=null;return f.locale&&(T=a.parse(f.locale,1,Ne),!T)?null:new Cn(w,S,T)}evaluate(t){return new di(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)}outputDefined(){return!1}}const Mr=8192;function Go(o,t){o[0]=Math.min(o[0],t[0]),o[1]=Math.min(o[1],t[1]),o[2]=Math.max(o[2],t[0]),o[3]=Math.max(o[3],t[1])}function Fo(o,t){return!(o[0]<=t[0]||o[2]>=t[2]||o[1]<=t[1]||o[3]>=t[3])}function Da(o,t){const a=(180+o[0])/360,f=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o[1]*Math.PI/360)))/360,w=Math.pow(2,t.z);return[Math.round(a*w*Mr),Math.round(f*w*Mr)]}function bl(o,t,a){const f=o[0]-t[0],w=o[1]-t[1],S=o[0]-a[0],T=o[1]-a[1];return f*T-S*w==0&&f*S<=0&&w*T<=0}function Ll(o,t){let a=!1;for(let T=0,P=t.length;T<P;T++){const L=t[T];for(let G=0,K=L.length;G<K-1;G++){if(bl(o,L[G],L[G+1]))return!1;(w=L[G])[1]>(f=o)[1]!=(S=L[G+1])[1]>f[1]&&f[0]<(S[0]-w[0])*(f[1]-w[1])/(S[1]-w[1])+w[0]&&(a=!a)}}var f,w,S;return a}function Va(o,t){for(let a=0;a<t.length;a++)if(Ll(o,t[a]))return!0;return!1}function il(o,t,a,f){const w=f[0]-a[0],S=f[1]-a[1],T=(o[0]-a[0])*S-w*(o[1]-a[1]),P=(t[0]-a[0])*S-w*(t[1]-a[1]);return T>0&&P<0||T<0&&P>0}function Ua(o,t,a){for(const G of a)for(let K=0;K<G.length-1;++K)if((P=[(T=G[K+1])[0]-(S=G[K])[0],T[1]-S[1]])[0]*(L=[(w=t)[0]-(f=o)[0],w[1]-f[1]])[1]-P[1]*L[0]!=0&&il(f,w,S,T)&&il(S,T,f,w))return!0;var f,w,S,T,P,L;return!1}function ua(o,t){for(let a=0;a<o.length;++a)if(!Ll(o[a],t))return!1;for(let a=0;a<o.length-1;++a)if(Ua(o[a],o[a+1],t))return!1;return!0}function xl(o,t){for(let a=0;a<t.length;a++)if(ua(o,t[a]))return!0;return!1}function ln(o,t,a){const f=[];for(let w=0;w<o.length;w++){const S=[];for(let T=0;T<o[w].length;T++){const P=Da(o[w][T],a);Go(t,P),S.push(P)}f.push(S)}return f}function Sr(o,t,a){const f=[];for(let w=0;w<o.length;w++){const S=ln(o[w],t,a);f.push(S)}return f}function Gr(o,t,a,f){if(o[0]<a[0]||o[0]>a[2]){const w=.5*f;let S=o[0]-a[0]>w?-f:a[0]-o[0]>w?f:0;0===S&&(S=o[0]-a[2]>w?-f:a[2]-o[0]>w?f:0),o[0]+=S}Go(t,o)}function Us(o,t,a,f){const w=Math.pow(2,f.z)*Mr,S=[f.x*Mr,f.y*Mr],T=[];for(const P of o)for(const L of P){const G=[L.x+S[0],L.y+S[1]];Gr(G,t,a,w),T.push(G)}return T}function Nr(o,t,a,f){const w=Math.pow(2,f.z)*Mr,S=[f.x*Mr,f.y*Mr],T=[];for(const L of o){const G=[];for(const K of L){const te=[K.x+S[0],K.y+S[1]];Go(t,te),G.push(te)}T.push(G)}if(t[2]-t[0]<=w/2){(P=t)[0]=P[1]=1/0,P[2]=P[3]=-1/0;for(const L of T)for(const G of L)Gr(G,t,a,w)}var P;return T}class ss{constructor(t,a){this.type=dt,this.geojson=t,this.geometries=a}static parse(t,a){if(2!==t.length)return a.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(Or(t[1])){const f=t[1];if("FeatureCollection"===f.type)for(let w=0;w<f.features.length;++w){const S=f.features[w].geometry.type;if("Polygon"===S||"MultiPolygon"===S)return new ss(f,f.features[w].geometry)}else if("Feature"===f.type){const w=f.geometry.type;if("Polygon"===w||"MultiPolygon"===w)return new ss(f,f.geometry)}else if("Polygon"===f.type||"MultiPolygon"===f.type)return new ss(f,f)}return a.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(null!=t.geometry()&&null!=t.canonicalID()){if("Point"===t.geometryType())return function(a,f){const w=[1/0,1/0,-1/0,-1/0],S=[1/0,1/0,-1/0,-1/0],T=a.canonicalID();if("Polygon"===f.type){const P=ln(f.coordinates,S,T),L=Us(a.geometry(),w,S,T);if(!Fo(w,S))return!1;for(const G of L)if(!Ll(G,P))return!1}if("MultiPolygon"===f.type){const P=Sr(f.coordinates,S,T),L=Us(a.geometry(),w,S,T);if(!Fo(w,S))return!1;for(const G of L)if(!Va(G,P))return!1}return!0}(t,this.geometries);if("LineString"===t.geometryType())return function(a,f){const w=[1/0,1/0,-1/0,-1/0],S=[1/0,1/0,-1/0,-1/0],T=a.canonicalID();if("Polygon"===f.type){const P=ln(f.coordinates,S,T),L=Nr(a.geometry(),w,S,T);if(!Fo(w,S))return!1;for(const G of L)if(!ua(G,P))return!1}if("MultiPolygon"===f.type){const P=Sr(f.coordinates,S,T),L=Nr(a.geometry(),w,S,T);if(!Fo(w,S))return!1;for(const G of L)if(!xl(G,P))return!1}return!0}(t,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class Xs{constructor(t,a){this.type=a.type,this.name=t,this.boundExpression=a}static parse(t,a){if(2!==t.length||"string"!=typeof t[1])return a.error("'var' expression requires exactly one string literal argument.");const f=t[1];return a.scope.has(f)?new Xs(f,a.scope.get(f)):a.error(`Unknown variable "${f}". Make sure "${f}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return!1}}class zr{constructor(t,a,f,w){this.name=t,this.type=a,this._evaluate=f,this.args=w}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t)}outputDefined(){return!1}static parse(t,a){const f=t[0],w=zr.definitions[f];if(!w)return a.error(`Unknown expression "${f}". If you wanted a literal array, use ["literal", [...]].`,0);const S=Array.isArray(w)?w[0]:w.type,T=Array.isArray(w)?[[w[1],w[2]]]:w.overloads,P=T.filter(([G])=>!Array.isArray(G)||G.length===t.length-1);let L=null;for(const[G,K]of P){L=new co(a.registry,Zo,a.path,null,a.scope);const te=[];let le=!1;for(let ue=1;ue<t.length;ue++){const _e=t[ue],Be=Array.isArray(G)?G[ue-1]:G.type,Ue=L.parse(_e,1+te.length,Be);if(!Ue){le=!0;break}te.push(Ue)}if(!le)if(Array.isArray(G)&&G.length!==te.length)L.error(`Expected ${G.length} arguments, but found ${te.length} instead.`);else{for(let ue=0;ue<te.length;ue++){const _e=Array.isArray(G)?G[ue]:G.type,Be=te[ue];L.concat(ue+1).checkSubtype(_e,Be.type)}if(0===L.errors.length)return new zr(f,S,K,te)}}if(1===P.length)a.errors.push(...L.errors);else{const G=(P.length?P:T).map(([te])=>{return le=te,Array.isArray(le)?`(${le.map(_t).join(", ")})`:`(${_t(le.type)}...)`;var le}).join(" | "),K=[];for(let te=1;te<t.length;te++){const le=a.parse(t[te],1+K.length);if(!le)return null;K.push(_t(le.type))}a.error(`Expected arguments of type ${G}, but found (${K.join(", ")}) instead.`)}return null}static register(t,a){zr.definitions=a;for(const f in a)t[f]=zr}}function Zo(o){if(o instanceof Xs)return Zo(o.boundExpression);if(o instanceof zr&&"error"===o.name||o instanceof Cn||o instanceof ss)return!1;const t=o instanceof kn||o instanceof Lr;let a=!0;return o.eachChild(f=>{a=t?a&&Zo(f):a&&f instanceof Dn}),!!a&&fs(o)&&Ti(o,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function fs(o){if(o instanceof zr&&("get"===o.name&&1===o.args.length||"feature-state"===o.name||"has"===o.name&&1===o.args.length||"properties"===o.name||"geometry-type"===o.name||"id"===o.name||/^filter-/.test(o.name))||o instanceof ss)return!1;let t=!0;return o.eachChild(a=>{t&&!fs(a)&&(t=!1)}),t}function ar(o){if(o instanceof zr&&"feature-state"===o.name)return!1;let t=!0;return o.eachChild(a=>{t&&!ar(a)&&(t=!1)}),t}function Ti(o,t){if(o instanceof zr&&t.indexOf(o.name)>=0)return!1;let a=!0;return o.eachChild(f=>{a&&!Ti(f,t)&&(a=!1)}),a}function rn(o,t){const a=o.length-1;let f,w,S=0,T=a,P=0;for(;S<=T;)if(P=Math.floor((S+T)/2),f=o[P],w=o[P+1],f<=t){if(P===a||t<w)return P;S=P+1}else{if(!(f>t))throw new qi("Input is not a number.");T=P-1}return 0}class On{constructor(t,a,f){this.type=t,this.input=a,this.labels=[],this.outputs=[];for(const[w,S]of f)this.labels.push(w),this.outputs.push(S)}static parse(t,a){if(t.length-1<4)return a.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return a.error("Expected an even number of arguments.");const f=a.parse(t[1],1,ne);if(!f)return null;const w=[];let S=null;a.expectedType&&"value"!==a.expectedType.kind&&(S=a.expectedType);for(let T=1;T<t.length;T+=2){const P=1===T?-1/0:t[T],L=t[T+1],G=T,K=T+1;if("number"!=typeof P)return a.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',G);if(w.length&&w[w.length-1][0]>=P)return a.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',G);const te=a.parse(L,K,S);if(!te)return null;S=S||te.type,w.push([P,te])}return new On(S,f,w)}evaluate(t){const a=this.labels,f=this.outputs;if(1===a.length)return f[0].evaluate(t);const w=this.input.evaluate(t);if(w<=a[0])return f[0].evaluate(t);const S=a.length;return w>=a[S-1]?f[S-1].evaluate(t):f[rn(a,w)].evaluate(t)}eachChild(t){t(this.input);for(const a of this.outputs)t(a)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}}function uo(o,t,a){return o+a*(t-o)}function as(o,t,a){return o.map((f,w)=>uo(f,t[w],a))}const Kn={number:uo,color:function(o,t,a,f="rgb"){switch(f){case"rgb":{const[w,S,T,P]=as(o.rgb,t.rgb,a);return new Ht(w,S,T,P,!1)}case"hcl":{const[w,S,T,P]=o.hcl,[L,G,K,te]=t.hcl;let le,ue;if(isNaN(w)||isNaN(L))isNaN(w)?isNaN(L)?le=NaN:(le=L,1!==T&&0!==T||(ue=G)):(le=w,1!==K&&0!==K||(ue=S));else{let yt=L-w;L>w&&yt>180?yt-=360:L<w&&w-L>180&&(yt+=360),le=w+a*yt}const[_e,Be,Ue,at]=function([yt,st,It,Ot]){return yt=isNaN(yt)?0:yt*he,Ee([It,Math.cos(yt)*st,Math.sin(yt)*st,Ot])}([le,ue??uo(S,G,a),uo(T,K,a),uo(P,te,a)]);return new Ht(_e,Be,Ue,at,!1)}case"lab":{const[w,S,T,P]=Ee(as(o.lab,t.lab,a));return new Ht(w,S,T,P,!1)}}},array:as,padding:function(o,t,a){return new Un(as(o.values,t.values,a))}};class Tr{constructor(t,a,f,w,S){this.type=t,this.operator=a,this.interpolation=f,this.input=w,this.labels=[],this.outputs=[];for(const[T,P]of S)this.labels.push(T),this.outputs.push(P)}static interpolationFactor(t,a,f,w){let S=0;if("exponential"===t.name)S=gr(a,t.base,f,w);else if("linear"===t.name)S=gr(a,1,f,w);else if("cubic-bezier"===t.name){const T=t.controlPoints;S=new it(T[0],T[1],T[2],T[3]).solve(gr(a,1,f,w))}return S}static parse(t,a){let[f,w,S,...T]=t;if(!Array.isArray(w)||0===w.length)return a.error("Expected an interpolation type expression.",1);if("linear"===w[0])w={name:"linear"};else if("exponential"===w[0]){const G=w[1];if("number"!=typeof G)return a.error("Exponential interpolation requires a numeric base.",1,1);w={name:"exponential",base:G}}else{if("cubic-bezier"!==w[0])return a.error(`Unknown interpolation type ${String(w[0])}`,1,0);{const G=w.slice(1);if(4!==G.length||G.some(K=>"number"!=typeof K||K<0||K>1))return a.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);w={name:"cubic-bezier",controlPoints:G}}}if(t.length-1<4)return a.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return a.error("Expected an even number of arguments.");if(S=a.parse(S,2,ne),!S)return null;const P=[];let L=null;"interpolate-hcl"===f||"interpolate-lab"===f?L=jt:a.expectedType&&"value"!==a.expectedType.kind&&(L=a.expectedType);for(let G=0;G<T.length;G+=2){const K=T[G],te=T[G+1],le=G+3,ue=G+4;if("number"!=typeof K)return a.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',le);if(P.length&&P[P.length-1][0]>=K)return a.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',le);const _e=a.parse(te,ue,L);if(!_e)return null;L=L||_e.type,P.push([K,_e])}return U(L,ne)||U(L,jt)||U(L,en)||U(L,Wi(ne))?new Tr(L,f,w,S,P):a.error(`Type ${_t(L)} is not interpolatable.`)}evaluate(t){const a=this.labels,f=this.outputs;if(1===a.length)return f[0].evaluate(t);const w=this.input.evaluate(t);if(w<=a[0])return f[0].evaluate(t);const S=a.length;if(w>=a[S-1])return f[S-1].evaluate(t);const T=rn(a,w),P=Tr.interpolationFactor(this.interpolation,w,a[T],a[T+1]),L=f[T].evaluate(t),G=f[T+1].evaluate(t);switch(this.operator){case"interpolate":return Kn[this.type.kind](L,G,P);case"interpolate-hcl":return Kn.color(L,G,P,"hcl");case"interpolate-lab":return Kn.color(L,G,P,"lab")}}eachChild(t){t(this.input);for(const a of this.outputs)t(a)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}}function gr(o,t,a,f){const w=f-a,S=o-a;return 0===w?0:1===t?S/w:(Math.pow(t,S)-1)/(Math.pow(t,w)-1)}class Wo{constructor(t,a){this.type=t,this.args=a}static parse(t,a){if(t.length<2)return a.error("Expectected at least one argument.");let f=null;const w=a.expectedType;w&&"value"!==w.kind&&(f=w);const S=[];for(const P of t.slice(1)){const L=a.parse(P,1+S.length,f,void 0,{typeAnnotation:"omit"});if(!L)return null;f=f||L.type,S.push(L)}if(!f)throw new Error("No output type");const T=w&&S.some(P=>vt(w,P.type));return new Wo(T?Ut:f,S)}evaluate(t){let a,f=null,w=0;for(const S of this.args)if(w++,f=S.evaluate(t),f&&f instanceof fr&&!f.available&&(a||(a=f.name),f=null,w===this.args.length&&(f=a)),null!==f)break;return f}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}}class Do{constructor(t,a){this.type=a.type,this.bindings=[].concat(t),this.result=a}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const a of this.bindings)t(a[1]);t(this.result)}static parse(t,a){if(t.length<4)return a.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const f=[];for(let S=1;S<t.length-1;S+=2){const T=t[S];if("string"!=typeof T)return a.error(`Expected string, but found ${typeof T} instead.`,S);if(/[^a-zA-Z0-9_]/.test(T))return a.error("Variable names must contain only alphanumeric characters or '_'.",S);const P=a.parse(t[S+1],S+1);if(!P)return null;f.push([T,P])}const w=a.parse(t[t.length-1],t.length-1,a.expectedType,f);return w?new Do(f,w):null}outputDefined(){return this.result.outputDefined()}}class on{constructor(t,a,f){this.type=t,this.index=a,this.input=f}static parse(t,a){if(3!==t.length)return a.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const f=a.parse(t[1],1,ne),w=a.parse(t[2],2,Wi(a.expectedType||Ut));return f&&w?new on(w.type.itemType,f,w):null}evaluate(t){const a=this.index.evaluate(t),f=this.input.evaluate(t);if(a<0)throw new qi(`Array index out of bounds: ${a} < 0.`);if(a>=f.length)throw new qi(`Array index out of bounds: ${a} > ${f.length-1}.`);if(a!==Math.floor(a))throw new qi(`Array index must be an integer, but found ${a} instead.`);return f[a]}eachChild(t){t(this.index),t(this.input)}outputDefined(){return!1}}class qo{constructor(t,a){this.type=dt,this.needle=t,this.haystack=a}static parse(t,a){if(3!==t.length)return a.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const f=a.parse(t[1],1,Ut),w=a.parse(t[2],2,Ut);return f&&w?q(f.type,[dt,Ne,ne,Te,Ut])?new qo(f,w):a.error(`Expected first argument to be of type boolean, string, number or null, but found ${_t(f.type)} instead`):null}evaluate(t){const a=this.needle.evaluate(t),f=this.haystack.evaluate(t);if(!f)return!1;if(!B(a,["boolean","string","number","null"]))throw new qi(`Expected first argument to be of type boolean, string, number or null, but found ${_t(Nn(a))} instead.`);if(!B(f,["string","array"]))throw new qi(`Expected second argument to be of type array or string, but found ${_t(Nn(f))} instead.`);return f.indexOf(a)>=0}eachChild(t){t(this.needle),t(this.haystack)}outputDefined(){return!0}}class js{constructor(t,a,f){this.type=ne,this.needle=t,this.haystack=a,this.fromIndex=f}static parse(t,a){if(t.length<=2||t.length>=5)return a.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const f=a.parse(t[1],1,Ut),w=a.parse(t[2],2,Ut);if(!f||!w)return null;if(!q(f.type,[dt,Ne,ne,Te,Ut]))return a.error(`Expected first argument to be of type boolean, string, number or null, but found ${_t(f.type)} instead`);if(4===t.length){const S=a.parse(t[3],3,ne);return S?new js(f,w,S):null}return new js(f,w)}evaluate(t){const a=this.needle.evaluate(t),f=this.haystack.evaluate(t);if(!B(a,["boolean","string","number","null"]))throw new qi(`Expected first argument to be of type boolean, string, number or null, but found ${_t(Nn(a))} instead.`);if(!B(f,["string","array"]))throw new qi(`Expected second argument to be of type array or string, but found ${_t(Nn(f))} instead.`);if(this.fromIndex){const w=this.fromIndex.evaluate(t);return f.indexOf(a,w)}return f.indexOf(a)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)}outputDefined(){return!1}}class dn{constructor(t,a,f,w,S,T){this.inputType=t,this.type=a,this.input=f,this.cases=w,this.outputs=S,this.otherwise=T}static parse(t,a){if(t.length<5)return a.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!=1)return a.error("Expected an even number of arguments.");let f,w;a.expectedType&&"value"!==a.expectedType.kind&&(w=a.expectedType);const S={},T=[];for(let G=2;G<t.length-1;G+=2){let K=t[G];const te=t[G+1];Array.isArray(K)||(K=[K]);const le=a.concat(G);if(0===K.length)return le.error("Expected at least one branch label.");for(const _e of K){if("number"!=typeof _e&&"string"!=typeof _e)return le.error("Branch labels must be numbers or strings.");if("number"==typeof _e&&Math.abs(_e)>Number.MAX_SAFE_INTEGER)return le.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof _e&&Math.floor(_e)!==_e)return le.error("Numeric branch labels must be integer values.");if(f){if(le.checkSubtype(f,Nn(_e)))return null}else f=Nn(_e);if(void 0!==S[String(_e)])return le.error("Branch labels must be unique.");S[String(_e)]=T.length}const ue=a.parse(te,G,w);if(!ue)return null;w=w||ue.type,T.push(ue)}const P=a.parse(t[1],1,Ut);if(!P)return null;const L=a.parse(t[t.length-1],t.length-1,w);return L?"value"!==P.type.kind&&a.concat(1).checkSubtype(f,P.type)?null:new dn(f,w,P,S,T,L):null}evaluate(t){const a=this.input.evaluate(t);return(Nn(a)===this.inputType&&this.outputs[this.cases[a]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)}outputDefined(){return this.outputs.every(t=>t.outputDefined())&&this.otherwise.outputDefined()}}class dr{constructor(t,a,f){this.type=t,this.branches=a,this.otherwise=f}static parse(t,a){if(t.length<4)return a.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!=0)return a.error("Expected an odd number of arguments.");let f;a.expectedType&&"value"!==a.expectedType.kind&&(f=a.expectedType);const w=[];for(let T=1;T<t.length-1;T+=2){const P=a.parse(t[T],T,dt);if(!P)return null;const L=a.parse(t[T+1],T+1,f);if(!L)return null;w.push([P,L]),f=f||L.type}const S=a.parse(t[t.length-1],t.length-1,f);if(!S)return null;if(!f)throw new Error("Can't infer output type");return new dr(f,w,S)}evaluate(t){for(const[a,f]of this.branches)if(a.evaluate(t))return f.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[a,f]of this.branches)t(a),t(f);t(this.otherwise)}outputDefined(){return this.branches.every(([t,a])=>a.outputDefined())&&this.otherwise.outputDefined()}}class ls{constructor(t,a,f,w){this.type=t,this.input=a,this.beginIndex=f,this.endIndex=w}static parse(t,a){if(t.length<=2||t.length>=5)return a.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const f=a.parse(t[1],1,Ut),w=a.parse(t[2],2,ne);if(!f||!w)return null;if(!q(f.type,[Wi(Ut),Ne,Ut]))return a.error(`Expected first argument to be of type array or string, but found ${_t(f.type)} instead`);if(4===t.length){const S=a.parse(t[3],3,ne);return S?new ls(f.type,f,w,S):null}return new ls(f.type,f,w)}evaluate(t){const a=this.input.evaluate(t),f=this.beginIndex.evaluate(t);if(!B(a,["string","array"]))throw new qi(`Expected first argument to be of type array or string, but found ${_t(Nn(a))} instead.`);if(this.endIndex){const w=this.endIndex.evaluate(t);return a.slice(f,w)}return a.slice(f)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)}outputDefined(){return!1}}function gs(o,t){return"=="===o||"!="===o?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function cs(o,t,a,f){return 0===f.compare(t,a)}function Yo(o,t,a){const f="=="!==o&&"!="!==o;return class SE{constructor(S,T,P){this.type=dt,this.lhs=S,this.rhs=T,this.collator=P,this.hasUntypedArgument="value"===S.type.kind||"value"===T.type.kind}static parse(S,T){if(3!==S.length&&4!==S.length)return T.error("Expected two or three arguments.");const P=S[0];let L=T.parse(S[1],1,Ut);if(!L)return null;if(!gs(P,L.type))return T.concat(1).error(`"${P}" comparisons are not supported for type '${_t(L.type)}'.`);let G=T.parse(S[2],2,Ut);if(!G)return null;if(!gs(P,G.type))return T.concat(2).error(`"${P}" comparisons are not supported for type '${_t(G.type)}'.`);if(L.type.kind!==G.type.kind&&"value"!==L.type.kind&&"value"!==G.type.kind)return T.error(`Cannot compare types '${_t(L.type)}' and '${_t(G.type)}'.`);f&&("value"===L.type.kind&&"value"!==G.type.kind?L=new Lr(G.type,[L]):"value"!==L.type.kind&&"value"===G.type.kind&&(G=new Lr(L.type,[G])));let K=null;if(4===S.length){if("string"!==L.type.kind&&"string"!==G.type.kind&&"value"!==L.type.kind&&"value"!==G.type.kind)return T.error("Cannot use collator to compare non-string types.");if(K=T.parse(S[3],3,pi),!K)return null}return new SE(L,G,K)}evaluate(S){const T=this.lhs.evaluate(S),P=this.rhs.evaluate(S);if(f&&this.hasUntypedArgument){const L=Nn(T),G=Nn(P);if(L.kind!==G.kind||"string"!==L.kind&&"number"!==L.kind)throw new qi(`Expected arguments for "${o}" to be (string, string) or (number, number), but found (${L.kind}, ${G.kind}) instead.`)}if(this.collator&&!f&&this.hasUntypedArgument){const L=Nn(T),G=Nn(P);if("string"!==L.kind||"string"!==G.kind)return t(S,T,P)}return this.collator?a(S,T,P,this.collator.evaluate(S)):t(S,T,P)}eachChild(S){S(this.lhs),S(this.rhs),this.collator&&S(this.collator)}outputDefined(){return!0}}}const ja=Yo("==",function(o,t,a){return t===a},cs),Is=Yo("!=",function(o,t,a){return t!==a},function(o,t,a,f){return!cs(0,t,a,f)}),Ko=Yo("<",function(o,t,a){return t<a},function(o,t,a,f){return f.compare(t,a)<0}),ho=Yo(">",function(o,t,a){return t>a},function(o,t,a,f){return f.compare(t,a)>0}),Hs=Yo("<=",function(o,t,a){return t<=a},function(o,t,a,f){return f.compare(t,a)<=0}),bn=Yo(">=",function(o,t,a){return t>=a},function(o,t,a,f){return f.compare(t,a)>=0});class As{constructor(t,a,f,w,S){this.type=Ne,this.number=t,this.locale=a,this.currency=f,this.minFractionDigits=w,this.maxFractionDigits=S}static parse(t,a){if(3!==t.length)return a.error("Expected two arguments.");const f=a.parse(t[1],1,ne);if(!f)return null;const w=t[2];if("object"!=typeof w||Array.isArray(w))return a.error("NumberFormat options argument must be an object.");let S=null;if(w.locale&&(S=a.parse(w.locale,1,Ne),!S))return null;let T=null;if(w.currency&&(T=a.parse(w.currency,1,Ne),!T))return null;let P=null;if(w["min-fraction-digits"]&&(P=a.parse(w["min-fraction-digits"],1,ne),!P))return null;let L=null;return w["max-fraction-digits"]&&(L=a.parse(w["max-fraction-digits"],1,ne),!L)?null:new As(f,S,T,P,L)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)}outputDefined(){return!1}}class Ha{constructor(t){this.type=Ji,this.sections=t}static parse(t,a){if(t.length<2)return a.error("Expected at least one argument.");const f=t[1];if(!Array.isArray(f)&&"object"==typeof f)return a.error("First argument must be an image or text section.");const w=[];let S=!1;for(let T=1;T<=t.length-1;++T){const P=t[T];if(S&&"object"==typeof P&&!Array.isArray(P)){S=!1;let L=null;if(P["font-scale"]&&(L=a.parse(P["font-scale"],1,ne),!L))return null;let G=null;if(P["text-font"]&&(G=a.parse(P["text-font"],1,Wi(Ne)),!G))return null;let K=null;if(P["text-color"]&&(K=a.parse(P["text-color"],1,jt),!K))return null;const te=w[w.length-1];te.scale=L,te.font=G,te.textColor=K}else{const L=a.parse(t[T],1,Ut);if(!L)return null;const G=L.type.kind;if("string"!==G&&"value"!==G&&"null"!==G&&"resolvedImage"!==G)return a.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");S=!0,w.push({content:L,scale:null,font:null,textColor:null})}}return new Ha(w)}evaluate(t){return new Ni(this.sections.map(a=>{const f=a.content.evaluate(t);return Nn(f)===cn?new Wn("",f,null,null,null):new Wn(_o(f),null,a.scale?a.scale.evaluate(t):null,a.font?a.font.evaluate(t).join(","):null,a.textColor?a.textColor.evaluate(t):null)}))}eachChild(t){for(const a of this.sections)t(a.content),a.scale&&t(a.scale),a.font&&t(a.font),a.textColor&&t(a.textColor)}outputDefined(){return!1}}class $a{constructor(t){this.type=cn,this.input=t}static parse(t,a){if(2!==t.length)return a.error("Expected two arguments.");const f=a.parse(t[1],1,Ne);return f?new $a(f):a.error("No image name provided.")}evaluate(t){const a=this.input.evaluate(t),f=fr.fromString(a);return f&&t.availableImages&&(f.available=t.availableImages.indexOf(a)>-1),f}eachChild(t){t(this.input)}outputDefined(){return!1}}class Lo{constructor(t){this.type=ne,this.input=t}static parse(t,a){if(2!==t.length)return a.error(`Expected 1 argument, but found ${t.length-1} instead.`);const f=a.parse(t[1],1);return f?"array"!==f.type.kind&&"string"!==f.type.kind&&"value"!==f.type.kind?a.error(`Expected argument of type string or array, but found ${_t(f.type)} instead.`):new Lo(f):null}evaluate(t){const a=this.input.evaluate(t);if("string"==typeof a||Array.isArray(a))return a.length;throw new qi(`Expected value to be of type string or array, but found ${_t(Nn(a))} instead.`)}eachChild(t){t(this.input)}outputDefined(){return!1}}const _s={"==":ja,"!=":Is,">":ho,"<":Ko,">=":bn,"<=":Hs,array:Lr,at:on,boolean:Lr,case:dr,coalesce:Wo,collator:Cn,format:Ha,image:$a,in:qo,"index-of":js,interpolate:Tr,"interpolate-hcl":Tr,"interpolate-lab":Tr,length:Lo,let:Do,literal:Dn,match:dn,number:Lr,"number-format":As,object:Lr,slice:ls,step:On,string:Lr,"to-boolean":kn,"to-color":kn,"to-number":kn,"to-string":kn,var:Xs,within:ss};function Js(o,[t,a,f,w]){t=t.evaluate(o),a=a.evaluate(o),f=f.evaluate(o);const S=w?w.evaluate(o):1,T=Pr(t,a,f,S);if(T)throw new qi(T);return new Ht(t/255,a/255,f/255,S,!1)}function Qs(o,t){return o in t}function Rr(o,t){const a=t[o];return void 0===a?null:a}function $s(o){return{type:o}}function Br(o){return{result:"success",value:o}}function Jn(o){return{result:"error",value:o}}function Vr(o){return"data-driven"===o["property-type"]||"cross-faded-data-driven"===o["property-type"]}function Zr(o){return!!o.expression&&o.expression.parameters.indexOf("zoom")>-1}function Sa(o){return!!o.expression&&o.expression.interpolated}function mn(o){return o instanceof Number?"number":o instanceof String?"string":o instanceof Boolean?"boolean":Array.isArray(o)?"array":null===o?"null":typeof o}function ea(o){return"object"==typeof o&&null!==o&&!Array.isArray(o)}function wl(o){return o}function Ta(o,t){const a="color"===t.type,f=o.stops&&"object"==typeof o.stops[0][0],w=f||!(f||void 0!==o.property),S=o.type||(Sa(t)?"exponential":"interval");if(a||"padding"===t.type){const K=a?Ht.parse:Un.parse;(o=se({},o)).stops&&(o.stops=o.stops.map(te=>[te[0],K(te[1])])),o.default=K(o.default?o.default:t.default)}if(o.colorSpace&&"rgb"!==(T=o.colorSpace)&&"hcl"!==T&&"lab"!==T)throw new Error(`Unknown color space: "${o.colorSpace}"`);var T;let P,L,G;if("exponential"===S)P=ia;else if("interval"===S)P=ta;else if("categorical"===S){P=wc,L=Object.create(null);for(const K of o.stops)L[K[0]]=K[1];G=typeof o.stops[0][0]}else{if("identity"!==S)throw new Error(`Unknown function type "${S}"`);P=Cc}if(f){const K={},te=[];for(let _e=0;_e<o.stops.length;_e++){const Be=o.stops[_e],Ue=Be[0].zoom;void 0===K[Ue]&&(K[Ue]={zoom:Ue,type:o.type,property:o.property,default:o.default,stops:[]},te.push(Ue)),K[Ue].stops.push([Be[0].value,Be[1]])}const le=[];for(const _e of te)le.push([K[_e].zoom,Ta(K[_e],t)]);const ue={name:"linear"};return{kind:"composite",interpolationType:ue,interpolationFactor:Tr.interpolationFactor.bind(void 0,ue),zoomStops:le.map(_e=>_e[0]),evaluate:({zoom:_e},Be)=>ia({stops:le,base:o.base},t,_e).evaluate(_e,Be)}}if(w){const K="exponential"===S?{name:"exponential",base:void 0!==o.base?o.base:1}:null;return{kind:"camera",interpolationType:K,interpolationFactor:Tr.interpolationFactor.bind(void 0,K),zoomStops:o.stops.map(te=>te[0]),evaluate:({zoom:te})=>P(o,t,te,L,G)}}return{kind:"source",evaluate(K,te){const le=te&&te.properties?te.properties[o.property]:void 0;return void 0===le?ha(o.default,t.default):P(o,t,le,L,G)}}}function ha(o,t,a){return void 0!==o?o:void 0!==t?t:void 0!==a?a:void 0}function wc(o,t,a,f,w){return ha(typeof a===w?f[a]:void 0,o.default,t.default)}function ta(o,t,a){if("number"!==mn(a))return ha(o.default,t.default);const f=o.stops.length;if(1===f||a<=o.stops[0][0])return o.stops[0][1];if(a>=o.stops[f-1][0])return o.stops[f-1][1];const w=rn(o.stops.map(S=>S[0]),a);return o.stops[w][1]}function ia(o,t,a){const f=void 0!==o.base?o.base:1;if("number"!==mn(a))return ha(o.default,t.default);const w=o.stops.length;if(1===w||a<=o.stops[0][0])return o.stops[0][1];if(a>=o.stops[w-1][0])return o.stops[w-1][1];const S=rn(o.stops.map(K=>K[0]),a),T=function(K,te,le,ue){const _e=ue-le,Be=K-le;return 0===_e?0:1===te?Be/_e:(Math.pow(te,Be)-1)/(Math.pow(te,_e)-1)}(a,f,o.stops[S][0],o.stops[S+1][0]),P=o.stops[S][1],L=o.stops[S+1][1],G=Kn[t.type]||wl;return"function"==typeof P.evaluate?{evaluate(...K){const te=P.evaluate.apply(void 0,K),le=L.evaluate.apply(void 0,K);if(void 0!==te&&void 0!==le)return G(te,le,T,o.colorSpace)}}:G(P,L,T,o.colorSpace)}function Cc(o,t,a){switch(t.type){case"color":a=Ht.parse(a);break;case"formatted":a=Ni.fromString(a.toString());break;case"resolvedImage":a=fr.fromString(a.toString());break;case"padding":a=Un.parse(a);break;default:mn(a)===t.type||"enum"===t.type&&t.values[a]||(a=void 0)}return ha(a,o.default,t.default)}zr.register(_s,{error:[{kind:"error"},[Ne],(o,[t])=>{throw new qi(t.evaluate(o))}],typeof:[Ne,[Ut],(o,[t])=>_t(Nn(t.evaluate(o)))],"to-rgba":[Wi(ne,4),[jt],(o,[t])=>{const[a,f,w,S]=t.evaluate(o).rgb;return[255*a,255*f,255*w,S]}],rgb:[jt,[ne,ne,ne],Js],rgba:[jt,[ne,ne,ne,ne],Js],has:{type:dt,overloads:[[[Ne],(o,[t])=>Qs(t.evaluate(o),o.properties())],[[Ne,Xt],(o,[t,a])=>Qs(t.evaluate(o),a.evaluate(o))]]},get:{type:Ut,overloads:[[[Ne],(o,[t])=>Rr(t.evaluate(o),o.properties())],[[Ne,Xt],(o,[t,a])=>Rr(t.evaluate(o),a.evaluate(o))]]},"feature-state":[Ut,[Ne],(o,[t])=>Rr(t.evaluate(o),o.featureState||{})],properties:[Xt,[],o=>o.properties()],"geometry-type":[Ne,[],o=>o.geometryType()],id:[Ut,[],o=>o.id()],zoom:[ne,[],o=>o.globals.zoom],"heatmap-density":[ne,[],o=>o.globals.heatmapDensity||0],"line-progress":[ne,[],o=>o.globals.lineProgress||0],accumulated:[Ut,[],o=>void 0===o.globals.accumulated?null:o.globals.accumulated],"+":[ne,$s(ne),(o,t)=>{let a=0;for(const f of t)a+=f.evaluate(o);return a}],"*":[ne,$s(ne),(o,t)=>{let a=1;for(const f of t)a*=f.evaluate(o);return a}],"-":{type:ne,overloads:[[[ne,ne],(o,[t,a])=>t.evaluate(o)-a.evaluate(o)],[[ne],(o,[t])=>-t.evaluate(o)]]},"/":[ne,[ne,ne],(o,[t,a])=>t.evaluate(o)/a.evaluate(o)],"%":[ne,[ne,ne],(o,[t,a])=>t.evaluate(o)%a.evaluate(o)],ln2:[ne,[],()=>Math.LN2],pi:[ne,[],()=>Math.PI],e:[ne,[],()=>Math.E],"^":[ne,[ne,ne],(o,[t,a])=>Math.pow(t.evaluate(o),a.evaluate(o))],sqrt:[ne,[ne],(o,[t])=>Math.sqrt(t.evaluate(o))],log10:[ne,[ne],(o,[t])=>Math.log(t.evaluate(o))/Math.LN10],ln:[ne,[ne],(o,[t])=>Math.log(t.evaluate(o))],log2:[ne,[ne],(o,[t])=>Math.log(t.evaluate(o))/Math.LN2],sin:[ne,[ne],(o,[t])=>Math.sin(t.evaluate(o))],cos:[ne,[ne],(o,[t])=>Math.cos(t.evaluate(o))],tan:[ne,[ne],(o,[t])=>Math.tan(t.evaluate(o))],asin:[ne,[ne],(o,[t])=>Math.asin(t.evaluate(o))],acos:[ne,[ne],(o,[t])=>Math.acos(t.evaluate(o))],atan:[ne,[ne],(o,[t])=>Math.atan(t.evaluate(o))],min:[ne,$s(ne),(o,t)=>Math.min(...t.map(a=>a.evaluate(o)))],max:[ne,$s(ne),(o,t)=>Math.max(...t.map(a=>a.evaluate(o)))],abs:[ne,[ne],(o,[t])=>Math.abs(t.evaluate(o))],round:[ne,[ne],(o,[t])=>{const a=t.evaluate(o);return a<0?-Math.round(-a):Math.round(a)}],floor:[ne,[ne],(o,[t])=>Math.floor(t.evaluate(o))],ceil:[ne,[ne],(o,[t])=>Math.ceil(t.evaluate(o))],"filter-==":[dt,[Ne,Ut],(o,[t,a])=>o.properties()[t.value]===a.value],"filter-id-==":[dt,[Ut],(o,[t])=>o.id()===t.value],"filter-type-==":[dt,[Ne],(o,[t])=>o.geometryType()===t.value],"filter-<":[dt,[Ne,Ut],(o,[t,a])=>{const f=o.properties()[t.value],w=a.value;return typeof f==typeof w&&f<w}],"filter-id-<":[dt,[Ut],(o,[t])=>{const a=o.id(),f=t.value;return typeof a==typeof f&&a<f}],"filter->":[dt,[Ne,Ut],(o,[t,a])=>{const f=o.properties()[t.value],w=a.value;return typeof f==typeof w&&f>w}],"filter-id->":[dt,[Ut],(o,[t])=>{const a=o.id(),f=t.value;return typeof a==typeof f&&a>f}],"filter-<=":[dt,[Ne,Ut],(o,[t,a])=>{const f=o.properties()[t.value],w=a.value;return typeof f==typeof w&&f<=w}],"filter-id-<=":[dt,[Ut],(o,[t])=>{const a=o.id(),f=t.value;return typeof a==typeof f&&a<=f}],"filter->=":[dt,[Ne,Ut],(o,[t,a])=>{const f=o.properties()[t.value],w=a.value;return typeof f==typeof w&&f>=w}],"filter-id->=":[dt,[Ut],(o,[t])=>{const a=o.id(),f=t.value;return typeof a==typeof f&&a>=f}],"filter-has":[dt,[Ut],(o,[t])=>t.value in o.properties()],"filter-has-id":[dt,[],o=>null!==o.id()&&void 0!==o.id()],"filter-type-in":[dt,[Wi(Ne)],(o,[t])=>t.value.indexOf(o.geometryType())>=0],"filter-id-in":[dt,[Wi(Ut)],(o,[t])=>t.value.indexOf(o.id())>=0],"filter-in-small":[dt,[Ne,Wi(Ut)],(o,[t,a])=>a.value.indexOf(o.properties()[t.value])>=0],"filter-in-large":[dt,[Ne,Wi(Ut)],(o,[t,a])=>function(f,w,S,T){for(;S<=T;){const P=S+T>>1;if(w[P]===f)return!0;w[P]>f?T=P-1:S=P+1}return!1}(o.properties()[t.value],a.value,0,a.value.length-1)],all:{type:dt,overloads:[[[dt,dt],(o,[t,a])=>t.evaluate(o)&&a.evaluate(o)],[$s(dt),(o,t)=>{for(const a of t)if(!a.evaluate(o))return!1;return!0}]]},any:{type:dt,overloads:[[[dt,dt],(o,[t,a])=>t.evaluate(o)||a.evaluate(o)],[$s(dt),(o,t)=>{for(const a of t)if(a.evaluate(o))return!0;return!1}]]},"!":[dt,[dt],(o,[t])=>!t.evaluate(o)],"is-supported-script":[dt,[Ne],(o,[t])=>{const a=o.globals&&o.globals.isSupportedScript;return!a||a(t.evaluate(o))}],upcase:[Ne,[Ne],(o,[t])=>t.evaluate(o).toUpperCase()],downcase:[Ne,[Ne],(o,[t])=>t.evaluate(o).toLowerCase()],concat:[Ne,$s(Ut),(o,t)=>t.map(a=>_o(a.evaluate(o))).join("")],"resolved-locale":[Ne,[pi],(o,[t])=>t.evaluate(o).resolvedLocale()]});class Cl{constructor(t,a){var f;this.expression=t,this._warningHistory={},this._evaluator=new Mo,this._defaultValue=a?"color"===(f=a).type&&ea(f.default)?new Ht(0,0,0,0):"color"===f.type?Ht.parse(f.default)||null:"padding"===f.type?Un.parse(f.default)||null:void 0===f.default?null:f.default:null,this._enumValues=a&&"enum"===a.type?a.values:null}evaluateWithoutErrorHandling(t,a,f,w,S,T){return this._evaluator.globals=t,this._evaluator.feature=a,this._evaluator.featureState=f,this._evaluator.canonical=w,this._evaluator.availableImages=S||null,this._evaluator.formattedSection=T,this.expression.evaluate(this._evaluator)}evaluate(t,a,f,w,S,T){this._evaluator.globals=t,this._evaluator.feature=a||null,this._evaluator.featureState=f||null,this._evaluator.canonical=w,this._evaluator.availableImages=S||null,this._evaluator.formattedSection=T||null;try{const P=this.expression.evaluate(this._evaluator);if(null==P||"number"==typeof P&&P!=P)return this._defaultValue;if(this._enumValues&&!(P in this._enumValues))throw new qi(`Expected value to be one of ${Object.keys(this._enumValues).map(L=>JSON.stringify(L)).join(", ")}, but found ${JSON.stringify(P)} instead.`);return P}catch(P){return this._warningHistory[P.message]||(this._warningHistory[P.message]=!0,typeof console<"u"&&console.warn(P.message)),this._defaultValue}}}function Ia(o){return Array.isArray(o)&&o.length>0&&"string"==typeof o[0]&&o[0]in _s}function Oi(o,t){const a=new co(_s,Zo,[],t?function(w){const S={color:jt,string:Ne,number:ne,enum:Ne,boolean:dt,formatted:Ji,padding:en,resolvedImage:cn};return"array"===w.type?Wi(S[w.value]||Ut,w.length):S[w.type]}(t):void 0),f=a.parse(o,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return f?Br(new Cl(f,t)):Jn(a.errors)}class Nl{constructor(t,a){this.kind=t,this._styleExpression=a,this.isStateDependent="constant"!==t&&!ar(a.expression)}evaluateWithoutErrorHandling(t,a,f,w,S,T){return this._styleExpression.evaluateWithoutErrorHandling(t,a,f,w,S,T)}evaluate(t,a,f,w,S,T){return this._styleExpression.evaluate(t,a,f,w,S,T)}}class Pn{constructor(t,a,f,w){this.kind=t,this.zoomStops=f,this._styleExpression=a,this.isStateDependent="camera"!==t&&!ar(a.expression),this.interpolationType=w}evaluateWithoutErrorHandling(t,a,f,w,S,T){return this._styleExpression.evaluateWithoutErrorHandling(t,a,f,w,S,T)}evaluate(t,a,f,w,S,T){return this._styleExpression.evaluate(t,a,f,w,S,T)}interpolationFactor(t,a,f){return this.interpolationType?Tr.interpolationFactor(this.interpolationType,t,a,f):0}}function El(o,t){const a=Oi(o,t);if("error"===a.result)return a;const f=a.value.expression,w=fs(f);if(!w&&!Vr(t))return Jn([new Ce("","data expressions not supported")]);const S=Ti(f,["zoom"]);if(!S&&!Zr(t))return Jn([new Ce("","zoom expressions not supported")]);const T=ir(f);return T||S?T instanceof Ce?Jn([T]):T instanceof Tr&&!Sa(t)?Jn([new Ce("",'"interpolate" expressions cannot be used with this property')]):Br(T?new Pn(w?"camera":"composite",a.value,T.labels,T instanceof Tr?T.interpolation:void 0):new Nl(w?"constant":"source",a.value)):Jn([new Ce("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class lr{constructor(t,a){this._parameters=t,this._specification=a,se(this,Ta(this._parameters,this._specification))}static deserialize(t){return new lr(t._parameters,t._specification)}static serialize(t){return{_parameters:t._parameters,_specification:t._specification}}}function ir(o){let t=null;if(o instanceof Do)t=ir(o.result);else if(o instanceof Wo){for(const a of o.args)if(t=ir(a),t)break}else(o instanceof On||o instanceof Tr)&&o.input instanceof zr&&"zoom"===o.input.name&&(t=o);return t instanceof Ce||o.eachChild(a=>{const f=ir(a);f instanceof Ce?t=f:!t&&f?t=new Ce("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&f&&t!==f&&(t=new Ce("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),t}function Y(o){if(!0===o||!1===o)return!0;if(!Array.isArray(o)||0===o.length)return!1;switch(o[0]){case"has":return o.length>=2&&"$id"!==o[1]&&"$type"!==o[1];case"in":return o.length>=3&&("string"!=typeof o[1]||Array.isArray(o[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==o.length||Array.isArray(o[1])||Array.isArray(o[2]);case"any":case"all":for(const t of o.slice(1))if(!Y(t)&&"boolean"!=typeof t)return!1;return!0;default:return!0}}const Z={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function H(o){if(null==o)return{filter:()=>!0,needGeometry:!1};Y(o)||(o=wi(o));const t=Oi(o,Z);if("error"===t.result)throw new Error(t.value.map(a=>`${a.key}: ${a.message}`).join(", "));return{filter:(a,f,w)=>t.value.evaluate(a,f,{},w),needGeometry:Vt(o)}}function xe(o,t){return o<t?-1:o>t?1:0}function Vt(o){if(!Array.isArray(o))return!1;if("within"===o[0])return!0;for(let t=1;t<o.length;t++)if(Vt(o[t]))return!0;return!1}function wi(o){if(!o)return!0;const t=o[0];return o.length<=1?"any"!==t:"=="===t?Ur(o[1],o[2],"=="):"!="===t?pa(Ur(o[1],o[2],"==")):"<"===t||">"===t||"<="===t||">="===t?Ur(o[1],o[2],t):"any"===t?(a=o.slice(1),["any"].concat(a.map(wi))):"all"===t?["all"].concat(o.slice(1).map(wi)):"none"===t?["all"].concat(o.slice(1).map(wi).map(pa)):"in"===t?mo(o[1],o.slice(2)):"!in"===t?pa(mo(o[1],o.slice(2))):"has"===t?ma(o[1]):"!has"===t?pa(ma(o[1])):"within"!==t||o;var a}function Ur(o,t,a){switch(o){case"$type":return[`filter-type-${a}`,t];case"$id":return[`filter-id-${a}`,t];default:return[`filter-${a}`,o,t]}}function mo(o,t){if(0===t.length)return!1;switch(o){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(a=>typeof a!=typeof t[0])?["filter-in-large",o,["literal",t.sort(xe)]]:["filter-in-small",o,["literal",t]]}}function ma(o){switch(o){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",o]}}function pa(o){return["!",o]}function fa(o){const t=typeof o;if("number"===t||"boolean"===t||"string"===t||null==o)return JSON.stringify(o);if(Array.isArray(o)){let w="[";for(const S of o)w+=`${fa(S)},`;return`${w}]`}const a=Object.keys(o).sort();let f="{";for(let w=0;w<a.length;w++)f+=`${JSON.stringify(a[w])}:${fa(o[a[w]])},`;return`${f}}`}function rc(o){let t="";for(const a of qt)t+=`/${fa(o[a])}`;return t}function oc(o){const t=o.value;return t?[new Pe(o.key,t,"constants have been deprecated as of v8")]:[]}function Xr(o){return o instanceof Number||o instanceof String||o instanceof Boolean?o.valueOf():o}function nl(o){if(Array.isArray(o))return o.map(nl);if(o instanceof Object&&!(o instanceof Number||o instanceof String||o instanceof Boolean)){const t={};for(const a in o)t[a]=nl(o[a]);return t}return Xr(o)}function Gs(o){const t=o.key,a=o.value,f=o.valueSpec||{},w=o.objectElementValidators||{},S=o.style,T=o.styleSpec,P=o.validateSpec;let L=[];const G=mn(a);if("object"!==G)return[new Pe(t,a,`object expected, ${G} found`)];for(const K in a){const te=K.split(".")[0],le=f[te]||f["*"];let ue;if(w[te])ue=w[te];else if(f[te])ue=P;else if(w["*"])ue=w["*"];else{if(!f["*"]){L.push(new Pe(t,a[K],`unknown property "${K}"`));continue}ue=P}L=L.concat(ue({key:(t&&`${t}.`)+K,value:a[K],valueSpec:le,style:S,styleSpec:T,object:a,objectKey:K,validateSpec:P},a))}for(const K in f)w[K]||f[K].required&&void 0===f[K].default&&void 0===a[K]&&L.push(new Pe(t,a,`missing required property "${K}"`));return L}function rl(o){const t=o.value,a=o.valueSpec,f=o.style,w=o.styleSpec,S=o.key,T=o.arrayElementValidator||o.validateSpec;if("array"!==mn(t))return[new Pe(S,t,`array expected, ${mn(t)} found`)];if(a.length&&t.length!==a.length)return[new Pe(S,t,`array length ${a.length} expected, length ${t.length} found`)];if(a["min-length"]&&t.length<a["min-length"])return[new Pe(S,t,`array length at least ${a["min-length"]} expected, length ${t.length} found`)];let P={type:a.value,values:a.values};w.$version<7&&(P.function=a.function),"object"===mn(a.value)&&(P=a.value);let L=[];for(let G=0;G<t.length;G++)L=L.concat(T({array:t,arrayIndex:G,value:t[G],valueSpec:P,validateSpec:o.validateSpec,style:f,styleSpec:w,key:`${S}[${G}]`}));return L}function So(o){const t=o.key,a=o.value,f=o.valueSpec;let w=mn(a);return"number"===w&&a!=a&&(w="NaN"),"number"!==w?[new Pe(t,a,`number expected, ${w} found`)]:"minimum"in f&&a<f.minimum?[new Pe(t,a,`${a} is less than the minimum value ${f.minimum}`)]:"maximum"in f&&a>f.maximum?[new Pe(t,a,`${a} is greater than the maximum value ${f.maximum}`)]:[]}function Fr(o){const t=o.valueSpec,a=Xr(o.value.type);let f,w,S,T={};const P="categorical"!==a&&void 0===o.value.property,L=!P,G="array"===mn(o.value.stops)&&"array"===mn(o.value.stops[0])&&"object"===mn(o.value.stops[0][0]),K=Gs({key:o.key,value:o.value,valueSpec:o.styleSpec.function,validateSpec:o.validateSpec,style:o.style,styleSpec:o.styleSpec,objectElementValidators:{stops:function(ue){if("identity"===a)return[new Pe(ue.key,ue.value,'identity function may not have a "stops" property')];let _e=[];const Be=ue.value;return _e=_e.concat(rl({key:ue.key,value:Be,valueSpec:ue.valueSpec,validateSpec:ue.validateSpec,style:ue.style,styleSpec:ue.styleSpec,arrayElementValidator:te})),"array"===mn(Be)&&0===Be.length&&_e.push(new Pe(ue.key,Be,"array must have at least one stop")),_e},default:function(ue){return ue.validateSpec({key:ue.key,value:ue.value,valueSpec:t,validateSpec:ue.validateSpec,style:ue.style,styleSpec:ue.styleSpec})}}});return"identity"===a&&P&&K.push(new Pe(o.key,o.value,'missing required property "property"')),"identity"===a||o.value.stops||K.push(new Pe(o.key,o.value,'missing required property "stops"')),"exponential"===a&&o.valueSpec.expression&&!Sa(o.valueSpec)&&K.push(new Pe(o.key,o.value,"exponential functions not supported")),o.styleSpec.$version>=8&&(L&&!Vr(o.valueSpec)?K.push(new Pe(o.key,o.value,"property functions not supported")):P&&!Zr(o.valueSpec)&&K.push(new Pe(o.key,o.value,"zoom functions not supported"))),"categorical"!==a&&!G||void 0!==o.value.property||K.push(new Pe(o.key,o.value,'"property" property is required')),K;function te(ue){let _e=[];const Be=ue.value,Ue=ue.key;if("array"!==mn(Be))return[new Pe(Ue,Be,`array expected, ${mn(Be)} found`)];if(2!==Be.length)return[new Pe(Ue,Be,`array length 2 expected, length ${Be.length} found`)];if(G){if("object"!==mn(Be[0]))return[new Pe(Ue,Be,`object expected, ${mn(Be[0])} found`)];if(void 0===Be[0].zoom)return[new Pe(Ue,Be,"object stop key must have zoom")];if(void 0===Be[0].value)return[new Pe(Ue,Be,"object stop key must have value")];if(S&&S>Xr(Be[0].zoom))return[new Pe(Ue,Be[0].zoom,"stop zoom values must appear in ascending order")];Xr(Be[0].zoom)!==S&&(S=Xr(Be[0].zoom),w=void 0,T={}),_e=_e.concat(Gs({key:`${Ue}[0]`,value:Be[0],valueSpec:{zoom:{}},validateSpec:ue.validateSpec,style:ue.style,styleSpec:ue.styleSpec,objectElementValidators:{zoom:So,value:le}}))}else _e=_e.concat(le({key:`${Ue}[0]`,value:Be[0],valueSpec:{},validateSpec:ue.validateSpec,style:ue.style,styleSpec:ue.styleSpec},Be));return Ia(nl(Be[1]))?_e.concat([new Pe(`${Ue}[1]`,Be[1],"expressions are not allowed in function stops.")]):_e.concat(ue.validateSpec({key:`${Ue}[1]`,value:Be[1],valueSpec:t,validateSpec:ue.validateSpec,style:ue.style,styleSpec:ue.styleSpec}))}function le(ue,_e){const Be=mn(ue.value),Ue=Xr(ue.value),at=null!==ue.value?ue.value:_e;if(f){if(Be!==f)return[new Pe(ue.key,at,`${Be} stop domain type must match previous stop domain type ${f}`)]}else f=Be;if("number"!==Be&&"string"!==Be&&"boolean"!==Be)return[new Pe(ue.key,at,"stop domain value must be a number, string, or boolean")];if("number"!==Be&&"categorical"!==a){let yt=`number expected, ${Be} found`;return Vr(t)&&void 0===a&&(yt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Pe(ue.key,at,yt)]}return"categorical"!==a||"number"!==Be||isFinite(Ue)&&Math.floor(Ue)===Ue?"categorical"!==a&&"number"===Be&&void 0!==w&&Ue<w?[new Pe(ue.key,at,"stop domain values must appear in ascending order")]:(w=Ue,"categorical"===a&&Ue in T?[new Pe(ue.key,at,"stop domain values must be unique")]:(T[Ue]=!0,[])):[new Pe(ue.key,at,`integer expected, found ${Ue}`)]}}function Sn(o){const t=("property"===o.expressionContext?El:Oi)(nl(o.value),o.valueSpec);if("error"===t.result)return t.value.map(f=>new Pe(`${o.key}${f.key}`,o.value,f.message));const a=t.value.expression||t.value._styleExpression.expression;if("property"===o.expressionContext&&"text-font"===o.propertyKey&&!a.outputDefined())return[new Pe(o.key,o.value,`Invalid data expression for "${o.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===o.expressionContext&&"layout"===o.propertyType&&!ar(a))return[new Pe(o.key,o.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===o.expressionContext&&!ar(a))return[new Pe(o.key,o.value,'"feature-state" data expressions are not supported with filters.')];if(o.expressionContext&&0===o.expressionContext.indexOf("cluster")){if(!Ti(a,["zoom","feature-state"]))return[new Pe(o.key,o.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===o.expressionContext&&!fs(a))return[new Pe(o.key,o.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function ur(o){const t=o.key,a=o.value,f=o.valueSpec,w=[];return Array.isArray(f.values)?-1===f.values.indexOf(Xr(a))&&w.push(new Pe(t,a,`expected one of [${f.values.join(", ")}], ${JSON.stringify(a)} found`)):-1===Object.keys(f.values).indexOf(Xr(a))&&w.push(new Pe(t,a,`expected one of [${Object.keys(f.values).join(", ")}], ${JSON.stringify(a)} found`)),w}function ol(o){return Y(nl(o.value))?Sn(se({},o,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Zs(o)}function Zs(o){const t=o.value,a=o.key;if("array"!==mn(t))return[new Pe(a,t,`array expected, ${mn(t)} found`)];const f=o.styleSpec;let w,S=[];if(t.length<1)return[new Pe(a,t,"filter array must have at least 1 element")];switch(S=S.concat(ur({key:`${a}[0]`,value:t[0],valueSpec:f.filter_operator,style:o.style,styleSpec:o.styleSpec})),Xr(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&"$type"===Xr(t[1])&&S.push(new Pe(a,t,`"$type" cannot be use with operator "${t[0]}"`));case"==":case"!=":3!==t.length&&S.push(new Pe(a,t,`filter array for operator "${t[0]}" must have 3 elements`));case"in":case"!in":t.length>=2&&(w=mn(t[1]),"string"!==w&&S.push(new Pe(`${a}[1]`,t[1],`string expected, ${w} found`)));for(let T=2;T<t.length;T++)w=mn(t[T]),"$type"===Xr(t[1])?S=S.concat(ur({key:`${a}[${T}]`,value:t[T],valueSpec:f.geometry_type,style:o.style,styleSpec:o.styleSpec})):"string"!==w&&"number"!==w&&"boolean"!==w&&S.push(new Pe(`${a}[${T}]`,t[T],`string, number, or boolean expected, ${w} found`));break;case"any":case"all":case"none":for(let T=1;T<t.length;T++)S=S.concat(Zs({key:`${a}[${T}]`,value:t[T],style:o.style,styleSpec:o.styleSpec}));break;case"has":case"!has":w=mn(t[1]),2!==t.length?S.push(new Pe(a,t,`filter array for "${t[0]}" operator must have 2 elements`)):"string"!==w&&S.push(new Pe(`${a}[1]`,t[1],`string expected, ${w} found`));break;case"within":w=mn(t[1]),2!==t.length?S.push(new Pe(a,t,`filter array for "${t[0]}" operator must have 2 elements`)):"object"!==w&&S.push(new Pe(`${a}[1]`,t[1],`object expected, ${w} found`))}return S}function Aa(o,t){const a=o.key,f=o.validateSpec,w=o.style,S=o.styleSpec,T=o.value,P=o.objectKey,L=S[`${t}_${o.layerType}`];if(!L)return[];const G=P.match(/^(.*)-transition$/);if("paint"===t&&G&&L[G[1]]&&L[G[1]].transition)return f({key:a,value:T,valueSpec:S.transition,style:w,styleSpec:S});const K=o.valueSpec||L[P];if(!K)return[new Pe(a,T,`unknown property "${P}"`)];let te;if("string"===mn(T)&&Vr(K)&&!K.tokens&&(te=/^{([^}]+)}$/.exec(T)))return[new Pe(a,T,`"${P}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(te[1])} }\`.`)];const le=[];return"symbol"===o.layerType&&("text-field"===P&&w&&!w.glyphs&&le.push(new Pe(a,T,'use of "text-field" requires a style "glyphs" property')),"text-font"===P&&ea(nl(T))&&"identity"===Xr(T.type)&&le.push(new Pe(a,T,'"text-font" does not support identity functions'))),le.concat(f({key:o.key,value:T,valueSpec:K,style:w,styleSpec:S,expressionContext:"property",propertyType:t,propertyKey:P}))}function hr(o){return Aa(o,"paint")}function Ec(o){return Aa(o,"layout")}function Ml(o){let t=[];const a=o.value,f=o.key,w=o.style,S=o.styleSpec;a.type||a.ref||t.push(new Pe(f,a,'either "type" or "ref" is required'));let T=Xr(a.type);const P=Xr(a.ref);if(a.id){const L=Xr(a.id);for(let G=0;G<o.arrayIndex;G++){const K=w.layers[G];Xr(K.id)===L&&t.push(new Pe(f,a.id,`duplicate layer id "${a.id}", previously used at line ${K.id.__line__}`))}}if("ref"in a){let L;["type","source","source-layer","filter","layout"].forEach(G=>{G in a&&t.push(new Pe(f,a[G],`"${G}" is prohibited for ref layers`))}),w.layers.forEach(G=>{Xr(G.id)===P&&(L=G)}),L?L.ref?t.push(new Pe(f,a.ref,"ref cannot reference another ref layer")):T=Xr(L.type):t.push(new Pe(f,a.ref,`ref layer "${P}" not found`))}else if("background"!==T)if(a.source){const L=w.sources&&w.sources[a.source],G=L&&Xr(L.type);L?"vector"===G&&"raster"===T?t.push(new Pe(f,a.source,`layer "${a.id}" requires a raster source`)):"raster"===G&&"raster"!==T?t.push(new Pe(f,a.source,`layer "${a.id}" requires a vector source`)):"vector"!==G||a["source-layer"]?"raster-dem"===G&&"hillshade"!==T?t.push(new Pe(f,a.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==T||!a.paint||!a.paint["line-gradient"]||"geojson"===G&&L.lineMetrics||t.push(new Pe(f,a,`layer "${a.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new Pe(f,a,`layer "${a.id}" must specify a "source-layer"`)):t.push(new Pe(f,a.source,`source "${a.source}" not found`))}else t.push(new Pe(f,a,'missing required property "source"'));return t=t.concat(Gs({key:f,value:a,valueSpec:S.layer,style:o.style,styleSpec:o.styleSpec,validateSpec:o.validateSpec,objectElementValidators:{"*":()=>[],type:()=>o.validateSpec({key:`${f}.type`,value:a.type,valueSpec:S.layer.type,style:o.style,styleSpec:o.styleSpec,validateSpec:o.validateSpec,object:a,objectKey:"type"}),filter:ol,layout:L=>Gs({layer:a,key:L.key,value:L.value,style:L.style,styleSpec:L.styleSpec,validateSpec:L.validateSpec,objectElementValidators:{"*":G=>Ec(se({layerType:T},G))}}),paint:L=>Gs({layer:a,key:L.key,value:L.value,style:L.style,styleSpec:L.styleSpec,validateSpec:L.validateSpec,objectElementValidators:{"*":G=>hr(se({layerType:T},G))}})}})),t}function ys(o){const t=o.value,a=o.key,f=mn(t);return"string"!==f?[new Pe(a,t,`string expected, ${f} found`)]:[]}const Cr={promoteId:function({key:o,value:t}){if("string"===mn(t))return ys({key:o,value:t});{const a=[];for(const f in t)a.push(...ys({key:`${o}.${f}`,value:t[f]}));return a}}};function Xo(o){const t=o.value,a=o.key,f=o.styleSpec,w=o.style,S=o.validateSpec;if(!t.type)return[new Pe(a,t,'"type" is required')];const T=Xr(t.type);let P;switch(T){case"vector":case"raster":case"raster-dem":return P=Gs({key:a,value:t,valueSpec:f[`source_${T.replace("-","_")}`],style:o.style,styleSpec:f,objectElementValidators:Cr,validateSpec:S}),P;case"geojson":if(P=Gs({key:a,value:t,valueSpec:f.source_geojson,style:w,styleSpec:f,validateSpec:S,objectElementValidators:Cr}),t.cluster)for(const L in t.clusterProperties){const[G,K]=t.clusterProperties[L],te="string"==typeof G?[G,["accumulated"],["get",L]]:G;P.push(...Sn({key:`${a}.${L}.map`,value:K,validateSpec:S,expressionContext:"cluster-map"})),P.push(...Sn({key:`${a}.${L}.reduce`,value:te,validateSpec:S,expressionContext:"cluster-reduce"}))}return P;case"video":return Gs({key:a,value:t,valueSpec:f.source_video,style:w,validateSpec:S,styleSpec:f});case"image":return Gs({key:a,value:t,valueSpec:f.source_image,style:w,validateSpec:S,styleSpec:f});case"canvas":return[new Pe(a,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ur({key:`${a}.type`,value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:w,validateSpec:S,styleSpec:f})}}function po(o){const t=o.value,a=o.styleSpec,f=a.light,w=o.style;let S=[];const T=mn(t);if(void 0===t)return S;if("object"!==T)return S=S.concat([new Pe("light",t,`object expected, ${T} found`)]),S;for(const P in t){const L=P.match(/^(.*)-transition$/);S=S.concat(L&&f[L[1]]&&f[L[1]].transition?o.validateSpec({key:P,value:t[P],valueSpec:a.transition,validateSpec:o.validateSpec,style:w,styleSpec:a}):f[P]?o.validateSpec({key:P,value:t[P],valueSpec:f[P],validateSpec:o.validateSpec,style:w,styleSpec:a}):[new Pe(P,t[P],`unknown property "${P}"`)])}return S}function Ga(o){const t=o.value,a=o.styleSpec,f=a.terrain,w=o.style;let S=[];const T=mn(t);if(void 0===t)return S;if("object"!==T)return S=S.concat([new Pe("terrain",t,`object expected, ${T} found`)]),S;for(const P in t)S=S.concat(f[P]?o.validateSpec({key:P,value:t[P],valueSpec:f[P],validateSpec:o.validateSpec,style:w,styleSpec:a}):[new Pe(P,t[P],`unknown property "${P}"`)]);return S}function vs(o){let t=[];const a=o.value,f=o.key;if(Array.isArray(a)){const w=[],S=[];for(const T in a)a[T].id&&w.includes(a[T].id)&&t.push(new Pe(f,a,`all the sprites' ids must be unique, but ${a[T].id} is duplicated`)),w.push(a[T].id),a[T].url&&S.includes(a[T].url)&&t.push(new Pe(f,a,`all the sprites' URLs must be unique, but ${a[T].url} is duplicated`)),S.push(a[T].url),t=t.concat(Gs({key:`${f}[${T}]`,value:a[T],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:o.validateSpec}));return t}return ys({key:f,value:a})}const Wr={"*":()=>[],array:rl,boolean:function(o){const t=o.value,a=o.key,f=mn(t);return"boolean"!==f?[new Pe(a,t,`boolean expected, ${f} found`)]:[]},number:So,color:function(o){const t=o.key,a=o.value,f=mn(a);return"string"!==f?[new Pe(t,a,`color expected, ${f} found`)]:Ht.parse(String(a))?[]:[new Pe(t,a,`color expected, "${a}" found`)]},constants:oc,enum:ur,filter:ol,function:Fr,layer:Ml,object:Gs,source:Xo,light:po,terrain:Ga,string:ys,formatted:function(o){return 0===ys(o).length?[]:Sn(o)},resolvedImage:function(o){return 0===ys(o).length?[]:Sn(o)},padding:function(o){const t=o.key,a=o.value;if("array"===mn(a)){if(a.length<1||a.length>4)return[new Pe(t,a,`padding requires 1 to 4 values; ${a.length} values found`)];const f={type:"number"};let w=[];for(let S=0;S<a.length;S++)w=w.concat(o.validateSpec({key:`${t}[${S}]`,value:a[S],validateSpec:o.validateSpec,valueSpec:f}));return w}return So({key:t,value:a,valueSpec:{}})},sprite:vs};function ka(o){const t=o.value,a=o.valueSpec,f=o.styleSpec;return o.validateSpec=ka,a.expression&&ea(Xr(t))?Fr(o):a.expression&&Ia(nl(t))?Sn(o):a.type&&Wr[a.type]?Wr[a.type](o):Gs(se({},o,{valueSpec:a.type?f[a.type]:a}))}function zl(o){const t=o.value,a=o.key,f=ys(o);return f.length||(-1===t.indexOf("{fontstack}")&&f.push(new Pe(a,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&f.push(new Pe(a,t,'"glyphs" url must include a "{range}" token'))),f}function Jr(o,t=De){let a=[];return a=a.concat(ka({key:"",value:o,valueSpec:t.$root,styleSpec:t,style:o,validateSpec:ka,objectElementValidators:{glyphs:zl,"*":()=>[]}})),o.constants&&(a=a.concat(oc({key:"constants",value:o.constants,style:o,styleSpec:t,validateSpec:ka}))),Za(a)}function No(o){return function(t){return o({...t,validateSpec:ka})}}function Za(o){return[].concat(o).sort((t,a)=>t.line-a.line)}function _r(o){return function(...t){return Za(o.apply(this,t))}}Jr.source=_r(No(Xo)),Jr.sprite=_r(No(vs)),Jr.glyphs=_r(No(zl)),Jr.light=_r(No(po)),Jr.terrain=_r(No(Ga)),Jr.layer=_r(No(Ml)),Jr.filter=_r(No(ol)),Jr.paintProperty=_r(No(hr)),Jr.layoutProperty=_r(No(Ec));const ks=Jr,Qr=ks.light,Dl=ks.paintProperty,Mc=ks.layoutProperty;function Sl(o,t){let a=!1;if(t&&t.length)for(const f of t)o.fire(new ht(new Error(f.message))),a=!0;return a}class sl{constructor(t,a,f){const w=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;const T=new Int32Array(this.arrayBuffer);t=T[0],this.d=(a=T[1])+2*(f=T[2]);for(let L=0;L<this.d*this.d;L++){const G=T[3+L],K=T[3+L+1];w.push(G===K?null:T.subarray(G,K))}const P=T[3+w.length+1];this.keys=T.subarray(T[3+w.length],P),this.bboxes=T.subarray(P),this.insert=this._insertReadonly}else{this.d=a+2*f;for(let T=0;T<this.d*this.d;T++)w.push([]);this.keys=[],this.bboxes=[]}this.n=a,this.extent=t,this.padding=f,this.scale=a/t,this.uid=0;const S=f/a*t;this.min=-S,this.max=t+S}insert(t,a,f,w,S){this._forEachCell(a,f,w,S,this._insertCell,this.uid++,void 0,void 0),this.keys.push(t),this.bboxes.push(a),this.bboxes.push(f),this.bboxes.push(w),this.bboxes.push(S)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(t,a,f,w,S,T){this.cells[S].push(T)}query(t,a,f,w,S){const T=this.min,P=this.max;if(t<=T&&a<=T&&P<=f&&P<=w&&!S)return Array.prototype.slice.call(this.keys);{const L=[];return this._forEachCell(t,a,f,w,this._queryCell,L,{},S),L}}_queryCell(t,a,f,w,S,T,P,L){const G=this.cells[S];if(null!==G){const K=this.keys,te=this.bboxes;for(let le=0;le<G.length;le++){const ue=G[le];if(void 0===P[ue]){const _e=4*ue;(L?L(te[_e+0],te[_e+1],te[_e+2],te[_e+3]):t<=te[_e+2]&&a<=te[_e+3]&&f>=te[_e+0]&&w>=te[_e+1])?(P[ue]=!0,T.push(K[ue])):P[ue]=!1}}}}_forEachCell(t,a,f,w,S,T,P,L){const G=this._convertToCellCoord(t),K=this._convertToCellCoord(a),te=this._convertToCellCoord(f),le=this._convertToCellCoord(w);for(let ue=G;ue<=te;ue++)for(let _e=K;_e<=le;_e++){const Be=this.d*_e+ue;if((!L||L(this._convertFromCellCoord(ue),this._convertFromCellCoord(_e),this._convertFromCellCoord(ue+1),this._convertFromCellCoord(_e+1)))&&S.call(this,t,a,f,w,Be,T,P,L))return}}_convertFromCellCoord(t){return(t-this.padding)/this.scale}_convertToCellCoord(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const t=this.cells,a=3+this.cells.length+1+1;let f=0;for(let T=0;T<this.cells.length;T++)f+=this.cells[T].length;const w=new Int32Array(a+f+this.keys.length+this.bboxes.length);w[0]=this.extent,w[1]=this.n,w[2]=this.padding;let S=a;for(let T=0;T<t.length;T++){const P=t[T];w[3+T]=S,w.set(P,S),S+=P.length}return w[3+t.length]=S,w.set(this.keys,S),S+=this.keys.length,w[3+t.length+1]=S,w.set(this.bboxes,S),S+=this.bboxes.length,w.buffer}static serialize(t,a){const f=t.toArrayBuffer();return a&&a.push(f),{buffer:f}}static deserialize(t){return new sl(t.buffer)}}const na={};function Ci(o,t,a={}){if(na[o])throw new Error(`${o} is already registered.`);Object.defineProperty(t,"_classRegistryKey",{value:o,writeable:!1}),na[o]={klass:t,omit:a.omit||[],shallow:a.shallow||[]}}Ci("Object",Object),Ci("TransferableGridIndex",sl),Ci("Color",Ht),Ci("Error",Error),Ci("AJAXError",In),Ci("ResolvedImage",fr),Ci("StylePropertyFunction",lr),Ci("StyleExpression",Cl,{omit:["_evaluator"]}),Ci("ZoomDependentExpression",Pn),Ci("ZoomConstantExpression",Nl),Ci("CompoundExpression",zr,{omit:["_evaluate"]});for(const o in _s)_s[o]._classRegistryKey||Ci(`Expression_${o}`,_s[o]);function Bl(o){return o&&typeof ArrayBuffer<"u"&&(o instanceof ArrayBuffer||o.constructor&&"ArrayBuffer"===o.constructor.name)}function Wa(o,t){if(null==o||"boolean"==typeof o||"number"==typeof o||"string"==typeof o||o instanceof Boolean||o instanceof Number||o instanceof String||o instanceof Date||o instanceof RegExp||o instanceof Blob)return o;if(Bl(o)||Li(o))return t&&t.push(o),o;if(ArrayBuffer.isView(o)){const a=o;return t&&t.push(a.buffer),a}if(o instanceof ImageData)return t&&t.push(o.data.buffer),o;if(Array.isArray(o)){const a=[];for(const f of o)a.push(Wa(f,t));return a}if("object"==typeof o){const a=o.constructor,f=a._classRegistryKey;if(!f)throw new Error("can't serialize object of unregistered class");if(!na[f])throw new Error(`${f} is not registered.`);const w=a.serialize?a.serialize(o,t):{};if(a.serialize){if(t&&w===t[t.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const S in o){if(!o.hasOwnProperty(S)||na[f].omit.indexOf(S)>=0)continue;const T=o[S];w[S]=na[f].shallow.indexOf(S)>=0?T:Wa(T,t)}o instanceof Error&&(w.message=o.message)}if(w.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==f&&(w.$name=f),w}throw new Error("can't serialize object of type "+typeof o)}function qn(o){if(null==o||"boolean"==typeof o||"number"==typeof o||"string"==typeof o||o instanceof Boolean||o instanceof Number||o instanceof String||o instanceof Date||o instanceof RegExp||o instanceof Blob||Bl(o)||Li(o)||ArrayBuffer.isView(o)||o instanceof ImageData)return o;if(Array.isArray(o))return o.map(qn);if("object"==typeof o){const t=o.$name||"Object";if(!na[t])throw new Error(`can't deserialize unregistered class ${t}`);const{klass:a}=na[t];if(!a)throw new Error(`can't deserialize unregistered class ${t}`);if(a.deserialize)return a.deserialize(o);const f=Object.create(a.prototype);for(const w of Object.keys(o)){if("$name"===w)continue;const S=o[w];f[w]=na[t].shallow.indexOf(w)>=0?S:qn(S)}return f}throw new Error("can't deserialize object of type "+typeof o)}class zo{constructor(){this.first=!0}update(t,a){const f=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=f,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=f,!0):(this.lastFloorZoom>f?(this.lastIntegerZoom=f+1,this.lastIntegerZoomTime=a):this.lastFloorZoom<f&&(this.lastIntegerZoom=f,this.lastIntegerZoomTime=a),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=f,!0))}}const N={"Latin-1 Supplement":o=>o>=128&&o<=255,Arabic:o=>o>=1536&&o<=1791,"Arabic Supplement":o=>o>=1872&&o<=1919,"Arabic Extended-A":o=>o>=2208&&o<=2303,"Hangul Jamo":o=>o>=4352&&o<=4607,"Unified Canadian Aboriginal Syllabics":o=>o>=5120&&o<=5759,Khmer:o=>o>=6016&&o<=6143,"Unified Canadian Aboriginal Syllabics Extended":o=>o>=6320&&o<=6399,"General Punctuation":o=>o>=8192&&o<=8303,"Letterlike Symbols":o=>o>=8448&&o<=8527,"Number Forms":o=>o>=8528&&o<=8591,"Miscellaneous Technical":o=>o>=8960&&o<=9215,"Control Pictures":o=>o>=9216&&o<=9279,"Optical Character Recognition":o=>o>=9280&&o<=9311,"Enclosed Alphanumerics":o=>o>=9312&&o<=9471,"Geometric Shapes":o=>o>=9632&&o<=9727,"Miscellaneous Symbols":o=>o>=9728&&o<=9983,"Miscellaneous Symbols and Arrows":o=>o>=11008&&o<=11263,"CJK Radicals Supplement":o=>o>=11904&&o<=12031,"Kangxi Radicals":o=>o>=12032&&o<=12255,"Ideographic Description Characters":o=>o>=12272&&o<=12287,"CJK Symbols and Punctuation":o=>o>=12288&&o<=12351,Hiragana:o=>o>=12352&&o<=12447,Katakana:o=>o>=12448&&o<=12543,Bopomofo:o=>o>=12544&&o<=12591,"Hangul Compatibility Jamo":o=>o>=12592&&o<=12687,Kanbun:o=>o>=12688&&o<=12703,"Bopomofo Extended":o=>o>=12704&&o<=12735,"CJK Strokes":o=>o>=12736&&o<=12783,"Katakana Phonetic Extensions":o=>o>=12784&&o<=12799,"Enclosed CJK Letters and Months":o=>o>=12800&&o<=13055,"CJK Compatibility":o=>o>=13056&&o<=13311,"CJK Unified Ideographs Extension A":o=>o>=13312&&o<=19903,"Yijing Hexagram Symbols":o=>o>=19904&&o<=19967,"CJK Unified Ideographs":o=>o>=19968&&o<=40959,"Yi Syllables":o=>o>=40960&&o<=42127,"Yi Radicals":o=>o>=42128&&o<=42191,"Hangul Jamo Extended-A":o=>o>=43360&&o<=43391,"Hangul Syllables":o=>o>=44032&&o<=55215,"Hangul Jamo Extended-B":o=>o>=55216&&o<=55295,"Private Use Area":o=>o>=57344&&o<=63743,"CJK Compatibility Ideographs":o=>o>=63744&&o<=64255,"Arabic Presentation Forms-A":o=>o>=64336&&o<=65023,"Vertical Forms":o=>o>=65040&&o<=65055,"CJK Compatibility Forms":o=>o>=65072&&o<=65103,"Small Form Variants":o=>o>=65104&&o<=65135,"Arabic Presentation Forms-B":o=>o>=65136&&o<=65279,"Halfwidth and Fullwidth Forms":o=>o>=65280&&o<=65519};function Q(o){for(const t of o)if(qe(t.charCodeAt(0)))return!0;return!1}function $(o){for(const t of o)if(!me(t.charCodeAt(0)))return!1;return!0}function me(o){return!(N.Arabic(o)||N["Arabic Supplement"](o)||N["Arabic Extended-A"](o)||N["Arabic Presentation Forms-A"](o)||N["Arabic Presentation Forms-B"](o))}function qe(o){return!(746!==o&&747!==o&&(o<4352||!(N["Bopomofo Extended"](o)||N.Bopomofo(o)||N["CJK Compatibility Forms"](o)&&!(o>=65097&&o<=65103)||N["CJK Compatibility Ideographs"](o)||N["CJK Compatibility"](o)||N["CJK Radicals Supplement"](o)||N["CJK Strokes"](o)||!(!N["CJK Symbols and Punctuation"](o)||o>=12296&&o<=12305||o>=12308&&o<=12319||12336===o)||N["CJK Unified Ideographs Extension A"](o)||N["CJK Unified Ideographs"](o)||N["Enclosed CJK Letters and Months"](o)||N["Hangul Compatibility Jamo"](o)||N["Hangul Jamo Extended-A"](o)||N["Hangul Jamo Extended-B"](o)||N["Hangul Jamo"](o)||N["Hangul Syllables"](o)||N.Hiragana(o)||N["Ideographic Description Characters"](o)||N.Kanbun(o)||N["Kangxi Radicals"](o)||N["Katakana Phonetic Extensions"](o)||N.Katakana(o)&&12540!==o||!(!N["Halfwidth and Fullwidth Forms"](o)||65288===o||65289===o||65293===o||o>=65306&&o<=65310||65339===o||65341===o||65343===o||o>=65371&&o<=65503||65507===o||o>=65512&&o<=65519)||!(!N["Small Form Variants"](o)||o>=65112&&o<=65118||o>=65123&&o<=65126)||N["Unified Canadian Aboriginal Syllabics"](o)||N["Unified Canadian Aboriginal Syllabics Extended"](o)||N["Vertical Forms"](o)||N["Yijing Hexagram Symbols"](o)||N["Yi Syllables"](o)||N["Yi Radicals"](o))))}function Pt(o){return!(qe(o)||(t=o,N["Latin-1 Supplement"](t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||N["General Punctuation"](t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||N["Letterlike Symbols"](t)||N["Number Forms"](t)||N["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||N["Control Pictures"](t)&&9251!==t||N["Optical Character Recognition"](t)||N["Enclosed Alphanumerics"](t)||N["Geometric Shapes"](t)||N["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||N["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||N["CJK Symbols and Punctuation"](t)||N.Katakana(t)||N["Private Use Area"](t)||N["CJK Compatibility Forms"](t)||N["Small Form Variants"](t)||N["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t));var t}function $t(o){return o>=1424&&o<=2303||N["Arabic Presentation Forms-A"](o)||N["Arabic Presentation Forms-B"](o)}function Ui(o,t){return!(!t&&$t(o)||o>=2304&&o<=3583||o>=3840&&o<=4255||N.Khmer(o))}function nr(o){for(const t of o)if($t(t.charCodeAt(0)))return!0;return!1}const jn="deferred",Rn="loading",Tn="loaded";let yr=null,tn="unavailable",mr=null;const ra=function(o){o&&"string"==typeof o&&o.indexOf("NetworkError")>-1&&(tn="error"),yr&&yr(o)};function Yi(){bs.fire(new ot("pluginStateChange",{pluginStatus:tn,pluginURL:mr}))}const bs=new ct,xs=function(){return tn},jr=function(){if(tn!==jn||!mr)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");tn=Rn,Yi(),mr&&Jt({url:mr},o=>{o?ra(o):(tn=Tn,Yi())})},fo={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>tn===Tn||null!=fo.applyArabicShaping,isLoading:()=>tn===Rn,setState(o){if(!At())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");tn=o.pluginStatus,mr=o.pluginURL},isParsed(){if(!At())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return null!=fo.applyArabicShaping&&null!=fo.processBidirectionalText&&null!=fo.processStyledBidirectionalText},getPluginURL(){if(!At())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return mr}};class Xn{constructor(t,a){this.zoom=t,a?(this.now=a.now,this.fadeDuration=a.fadeDuration,this.zoomHistory=a.zoomHistory,this.transition=a.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new zo,this.transition={})}isSupportedScript(t){return function(a,f){for(const w of a)if(!Ui(w.charCodeAt(0),f))return!1;return!0}(t,fo.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const t=this.zoom,a=t-Math.floor(t),f=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:a+(1-a)*f}:{fromScale:.5,toScale:1,t:1-(1-f)*a}}}class un{constructor(t,a){this.property=t,this.value=a,this.expression=function(f,w){if(ea(f))return new lr(f,w);if(Ia(f)){const S=El(f,w);if("error"===S.result)throw new Error(S.value.map(T=>`${T.key}: ${T.message}`).join(", "));return S.value}{let S=f;return"color"===w.type&&"string"==typeof f?S=Ht.parse(f):"padding"!==w.type||"number"!=typeof f&&!Array.isArray(f)||(S=Un.parse(f)),{kind:"constant",evaluate:()=>S}}}(void 0===a?t.specification.default:a,t.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(t,a,f){return this.property.possiblyEvaluate(this,t,a,f)}}class Pa{constructor(t){this.property=t,this.value=new un(t,void 0)}transitioned(t,a){return new Vl(this.property,this.value,a,bt({},t.transition,this.transition),t.now)}untransitioned(){return new Vl(this.property,this.value,null,{},0)}}class Dc{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)}getValue(t){return Re(this._values[t].value.value)}setValue(t,a){Object.prototype.hasOwnProperty.call(this._values,t)||(this._values[t]=new Pa(this._values[t].property)),this._values[t].value=new un(this._values[t].property,null===a?void 0:Re(a))}getTransition(t){return Re(this._values[t].transition)}setTransition(t,a){Object.prototype.hasOwnProperty.call(this._values,t)||(this._values[t]=new Pa(this._values[t].property)),this._values[t].transition=Re(a)||void 0}serialize(){const t={};for(const a of Object.keys(this._values)){const f=this.getValue(a);void 0!==f&&(t[a]=f);const w=this.getTransition(a);void 0!==w&&(t[`${a}-transition`]=w)}return t}transitioned(t,a){const f=new $d(this._properties);for(const w of Object.keys(this._values))f._values[w]=this._values[w].transitioned(t,a._values[w]);return f}untransitioned(){const t=new $d(this._properties);for(const a of Object.keys(this._values))t._values[a]=this._values[a].untransitioned();return t}}class Vl{constructor(t,a,f,w,S){this.property=t,this.value=a,this.begin=S+w.delay||0,this.end=this.begin+w.duration||0,t.specification.transition&&(w.delay||w.duration)&&(this.prior=f)}possiblyEvaluate(t,a,f){const w=t.now||0,S=this.value.possiblyEvaluate(t,a,f),T=this.prior;if(T){if(w>this.end)return this.prior=null,S;if(this.value.isDataDriven())return this.prior=null,S;if(w<this.begin)return T.possiblyEvaluate(t,a,f);{const P=(w-this.begin)/(this.end-this.begin);return this.property.interpolate(T.possiblyEvaluate(t,a,f),S,function(L){if(L<=0)return 0;if(L>=1)return 1;const G=L*L,K=G*L;return 4*(L<.5?K:3*(L-G)+K-.75)}(P))}}return S}}class $d{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)}possiblyEvaluate(t,a,f){const w=new ni(this._properties);for(const S of Object.keys(this._values))w._values[S]=this._values[S].possiblyEvaluate(t,a,f);return w}hasTransition(){for(const t of Object.keys(this._values))if(this._values[t].prior)return!0;return!1}}class Sc{constructor(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)}getValue(t){return Re(this._values[t].value)}setValue(t,a){this._values[t]=new un(this._values[t].property,null===a?void 0:Re(a))}serialize(){const t={};for(const a of Object.keys(this._values)){const f=this.getValue(a);void 0!==f&&(t[a]=f)}return t}possiblyEvaluate(t,a,f){const w=new ni(this._properties);for(const S of Object.keys(this._values))w._values[S]=this._values[S].possiblyEvaluate(t,a,f);return w}}class eo{constructor(t,a,f){this.property=t,this.value=a,this.parameters=f}isConstant(){return"constant"===this.value.kind}constantOr(t){return"constant"===this.value.kind?this.value.value:t}evaluate(t,a,f,w){return this.property.evaluate(this.value,this.parameters,t,a,f,w)}}class ni{constructor(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)}get(t){return this._values[t]}}class ui{constructor(t){this.specification=t}possiblyEvaluate(t,a){if(t.isDataDriven())throw new Error("Value should not be data driven");return t.expression.evaluate(a)}interpolate(t,a,f){const w=Kn[this.specification.type];return w?w(t,a,f):t}}class Ki{constructor(t,a){this.specification=t,this.overrides=a}possiblyEvaluate(t,a,f,w){return new eo(this,"constant"===t.expression.kind||"camera"===t.expression.kind?{kind:"constant",value:t.expression.evaluate(a,null,{},f,w)}:t.expression,a)}interpolate(t,a,f){if("constant"!==t.value.kind||"constant"!==a.value.kind)return t;if(void 0===t.value.value||void 0===a.value.value)return new eo(this,{kind:"constant",value:void 0},t.parameters);const w=Kn[this.specification.type];if(w){const S=w(t.value.value,a.value.value,f);return new eo(this,{kind:"constant",value:S},t.parameters)}return t}evaluate(t,a,f,w,S,T){return"constant"===t.kind?t.value:t.evaluate(a,f,w,S,T)}}class ws extends Ki{possiblyEvaluate(t,a,f,w){if(void 0===t.value)return new eo(this,{kind:"constant",value:void 0},a);if("constant"===t.expression.kind){const S=t.expression.evaluate(a,null,{},f,w),T="resolvedImage"===t.property.specification.type&&"string"!=typeof S?S.name:S,P=this._calculate(T,T,T,a);return new eo(this,{kind:"constant",value:P},a)}if("camera"===t.expression.kind){const S=this._calculate(t.expression.evaluate({zoom:a.zoom-1}),t.expression.evaluate({zoom:a.zoom}),t.expression.evaluate({zoom:a.zoom+1}),a);return new eo(this,{kind:"constant",value:S},a)}return new eo(this,t.expression,a)}evaluate(t,a,f,w,S,T){if("source"===t.kind){const P=t.evaluate(a,f,w,S,T);return this._calculate(P,P,P,a)}return"composite"===t.kind?this._calculate(t.evaluate({zoom:Math.floor(a.zoom)-1},f,w),t.evaluate({zoom:Math.floor(a.zoom)},f,w),t.evaluate({zoom:Math.floor(a.zoom)+1},f,w),a):t.value}_calculate(t,a,f,w){return w.zoom>w.zoomHistory.lastIntegerZoom?{from:t,to:a}:{from:f,to:a}}interpolate(t){return t}}class yo{constructor(t){this.specification=t}possiblyEvaluate(t,a,f,w){if(void 0!==t.value){if("constant"===t.expression.kind){const S=t.expression.evaluate(a,null,{},f,w);return this._calculate(S,S,S,a)}return this._calculate(t.expression.evaluate(new Xn(Math.floor(a.zoom-1),a)),t.expression.evaluate(new Xn(Math.floor(a.zoom),a)),t.expression.evaluate(new Xn(Math.floor(a.zoom+1),a)),a)}}_calculate(t,a,f,w){return w.zoom>w.zoomHistory.lastIntegerZoom?{from:t,to:a}:{from:f,to:a}}interpolate(t){return t}}class al{constructor(t){this.specification=t}possiblyEvaluate(t,a,f,w){return!!t.expression.evaluate(a,null,{},f,w)}interpolate(){return!1}}class Bo{constructor(t){this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const a in t){const f=t[a];f.specification.overridable&&this.overridableProperties.push(a);const w=this.defaultPropertyValues[a]=new un(f,void 0),S=this.defaultTransitionablePropertyValues[a]=new Pa(f);this.defaultTransitioningPropertyValues[a]=S.untransitioned(),this.defaultPossiblyEvaluatedValues[a]=w.possiblyEvaluate({})}}}Ci("DataDrivenProperty",Ki),Ci("DataConstantProperty",ui),Ci("CrossFadedDataDrivenProperty",ws),Ci("CrossFadedProperty",yo),Ci("ColorRampProperty",al);const ga="-transition";class Ps extends ct{constructor(t,a){if(super(),this.id=t.id,this.type=t.type,this._featureFilter={filter:()=>!0,needGeometry:!1},"custom"!==t.type&&(this.metadata=t.metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,"background"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),a.layout&&(this._unevaluatedLayout=new Sc(a.layout)),a.paint)){this._transitionablePaint=new Dc(a.paint);for(const f in t.paint)this.setPaintProperty(f,t.paint[f],{validate:!1});for(const f in t.layout)this.setLayoutProperty(f,t.layout[f],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new ni(a.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)}setLayoutProperty(t,a,f={}){null!=a&&this._validate(Mc,`layers.${this.id}.layout.${t}`,t,a,f)||("visibility"!==t?this._unevaluatedLayout.setValue(t,a):this.visibility=a)}getPaintProperty(t){return t.endsWith(ga)?this._transitionablePaint.getTransition(t.slice(0,-11)):this._transitionablePaint.getValue(t)}setPaintProperty(t,a,f={}){if(null!=a&&this._validate(Dl,`layers.${this.id}.paint.${t}`,t,a,f))return!1;if(t.endsWith(ga))return this._transitionablePaint.setTransition(t.slice(0,-11),a||void 0),!1;{const w=this._transitionablePaint._values[t],S="cross-faded-data-driven"===w.property.specification["property-type"],T=w.value.isDataDriven(),P=w.value;this._transitionablePaint.setValue(t,a),this._handleSpecialPaintPropertyUpdate(t);const L=this._transitionablePaint._values[t].value;return L.isDataDriven()||T||S||this._handleOverridablePaintPropertyUpdate(t,P,L)}}_handleSpecialPaintPropertyUpdate(t){}_handleOverridablePaintPropertyUpdate(t,a,f){return!1}isHidden(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility}updateTransitions(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(t,a){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,void 0,a)),this.paint=this._transitioningPaint.possiblyEvaluate(t,void 0,a)}serialize(){const t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),Qt(t,(a,f)=>!(void 0===a||"layout"===f&&!Object.keys(a).length||"paint"===f&&!Object.keys(a).length))}_validate(t,a,f,w,S={}){return(!S||!1!==S.validate)&&Sl(this,t.call(ks,{key:a,layerType:this.type,objectKey:f,value:w,styleSpec:De,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const t in this.paint._values){const a=this.paint.get(t);if(a instanceof eo&&Vr(a.property.specification)&&("source"===a.value.kind||"composite"===a.value.kind)&&a.value.isStateDependent)return!0}return!1}}const sc={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class oa{constructor(t,a){this._structArray=t,this._pos1=a*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class to{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(t,a){return t._trim(),a&&(t.isTransferred=!0,a.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}}static deserialize(t){const a=Object.create(this.prototype);return a.arrayBuffer=t.arrayBuffer,a.length=t.length,a.capacity=t.arrayBuffer.byteLength/a.bytesPerElement,a._refreshViews(),a}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(t){this.reserve(t),this.length=t}reserve(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const a=this.uint8;this._refreshViews(),a&&this.uint8.set(a)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function io(o,t=1){let a=0,f=0;return{members:o.map(w=>{const S=sc[w.type].BYTES_PER_ELEMENT,T=a=ds(a,Math.max(t,S)),P=w.components||1;return f=Math.max(f,S),a+=S*P,{name:w.name,type:w.type,components:P,offset:T}}),size:ds(a,Math.max(f,t)),alignment:t}}function ds(o,t){return Math.ceil(o/t)*t}class Jo extends to{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,a){const f=this.length;return this.resize(f+1),this.emplace(f,t,a)}emplace(t,a,f){const w=2*t;return this.int16[w+0]=a,this.int16[w+1]=f,t}}Jo.prototype.bytesPerElement=4,Ci("StructArrayLayout2i4",Jo);class Ul extends to{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,a,f){const w=this.length;return this.resize(w+1),this.emplace(w,t,a,f)}emplace(t,a,f,w){const S=3*t;return this.int16[S+0]=a,this.int16[S+1]=f,this.int16[S+2]=w,t}}Ul.prototype.bytesPerElement=6,Ci("StructArrayLayout3i6",Ul);class Ws extends to{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,a,f,w){const S=this.length;return this.resize(S+1),this.emplace(S,t,a,f,w)}emplace(t,a,f,w,S){const T=4*t;return this.int16[T+0]=a,this.int16[T+1]=f,this.int16[T+2]=w,this.int16[T+3]=S,t}}Ws.prototype.bytesPerElement=8,Ci("StructArrayLayout4i8",Ws);class Vo extends to{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,a,f,w,S,T){const P=this.length;return this.resize(P+1),this.emplace(P,t,a,f,w,S,T)}emplace(t,a,f,w,S,T,P){const L=6*t;return this.int16[L+0]=a,this.int16[L+1]=f,this.int16[L+2]=w,this.int16[L+3]=S,this.int16[L+4]=T,this.int16[L+5]=P,t}}Vo.prototype.bytesPerElement=12,Ci("StructArrayLayout2i4i12",Vo);class qa extends to{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,a,f,w,S,T){const P=this.length;return this.resize(P+1),this.emplace(P,t,a,f,w,S,T)}emplace(t,a,f,w,S,T,P){const L=4*t,G=8*t;return this.int16[L+0]=a,this.int16[L+1]=f,this.uint8[G+4]=w,this.uint8[G+5]=S,this.uint8[G+6]=T,this.uint8[G+7]=P,t}}qa.prototype.bytesPerElement=8,Ci("StructArrayLayout2i4ub8",qa);class Ya extends to{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,a){const f=this.length;return this.resize(f+1),this.emplace(f,t,a)}emplace(t,a,f){const w=2*t;return this.float32[w+0]=a,this.float32[w+1]=f,t}}Ya.prototype.bytesPerElement=8,Ci("StructArrayLayout2f8",Ya);class Tc extends to{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,a,f,w,S,T,P,L,G,K){const te=this.length;return this.resize(te+1),this.emplace(te,t,a,f,w,S,T,P,L,G,K)}emplace(t,a,f,w,S,T,P,L,G,K,te){const le=10*t;return this.uint16[le+0]=a,this.uint16[le+1]=f,this.uint16[le+2]=w,this.uint16[le+3]=S,this.uint16[le+4]=T,this.uint16[le+5]=P,this.uint16[le+6]=L,this.uint16[le+7]=G,this.uint16[le+8]=K,this.uint16[le+9]=te,t}}Tc.prototype.bytesPerElement=20,Ci("StructArrayLayout10ui20",Tc);class Tl extends to{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,a,f,w,S,T,P,L,G,K,te,le){const ue=this.length;return this.resize(ue+1),this.emplace(ue,t,a,f,w,S,T,P,L,G,K,te,le)}emplace(t,a,f,w,S,T,P,L,G,K,te,le,ue){const _e=12*t;return this.int16[_e+0]=a,this.int16[_e+1]=f,this.int16[_e+2]=w,this.int16[_e+3]=S,this.uint16[_e+4]=T,this.uint16[_e+5]=P,this.uint16[_e+6]=L,this.uint16[_e+7]=G,this.int16[_e+8]=K,this.int16[_e+9]=te,this.int16[_e+10]=le,this.int16[_e+11]=ue,t}}Tl.prototype.bytesPerElement=24,Ci("StructArrayLayout4i4ui4i24",Tl);class jl extends to{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,a,f){const w=this.length;return this.resize(w+1),this.emplace(w,t,a,f)}emplace(t,a,f,w){const S=3*t;return this.float32[S+0]=a,this.float32[S+1]=f,this.float32[S+2]=w,t}}jl.prototype.bytesPerElement=12,Ci("StructArrayLayout3f12",jl);class Ka extends to{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t){const a=this.length;return this.resize(a+1),this.emplace(a,t)}emplace(t,a){return this.uint32[1*t+0]=a,t}}Ka.prototype.bytesPerElement=4,Ci("StructArrayLayout1ul4",Ka);class Oa extends to{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,a,f,w,S,T,P,L,G){const K=this.length;return this.resize(K+1),this.emplace(K,t,a,f,w,S,T,P,L,G)}emplace(t,a,f,w,S,T,P,L,G,K){const te=10*t,le=5*t;return this.int16[te+0]=a,this.int16[te+1]=f,this.int16[te+2]=w,this.int16[te+3]=S,this.int16[te+4]=T,this.int16[te+5]=P,this.uint32[le+3]=L,this.uint16[te+8]=G,this.uint16[te+9]=K,t}}Oa.prototype.bytesPerElement=20,Ci("StructArrayLayout6i1ul2ui20",Oa);class Hl extends to{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,a,f,w,S,T){const P=this.length;return this.resize(P+1),this.emplace(P,t,a,f,w,S,T)}emplace(t,a,f,w,S,T,P){const L=6*t;return this.int16[L+0]=a,this.int16[L+1]=f,this.int16[L+2]=w,this.int16[L+3]=S,this.int16[L+4]=T,this.int16[L+5]=P,t}}Hl.prototype.bytesPerElement=12,Ci("StructArrayLayout2i2i2i12",Hl);class Il extends to{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,a,f,w,S){const T=this.length;return this.resize(T+1),this.emplace(T,t,a,f,w,S)}emplace(t,a,f,w,S,T){const P=4*t,L=8*t;return this.float32[P+0]=a,this.float32[P+1]=f,this.float32[P+2]=w,this.int16[L+6]=S,this.int16[L+7]=T,t}}Il.prototype.bytesPerElement=16,Ci("StructArrayLayout2f1f2i16",Il);class Ra extends to{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,a,f,w){const S=this.length;return this.resize(S+1),this.emplace(S,t,a,f,w)}emplace(t,a,f,w,S){const T=12*t,P=3*t;return this.uint8[T+0]=a,this.uint8[T+1]=f,this.float32[P+1]=w,this.float32[P+2]=S,t}}Ra.prototype.bytesPerElement=12,Ci("StructArrayLayout2ub2f12",Ra);class Al extends to{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,a,f){const w=this.length;return this.resize(w+1),this.emplace(w,t,a,f)}emplace(t,a,f,w){const S=3*t;return this.uint16[S+0]=a,this.uint16[S+1]=f,this.uint16[S+2]=w,t}}Al.prototype.bytesPerElement=6,Ci("StructArrayLayout3ui6",Al);class ac extends to{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,a,f,w,S,T,P,L,G,K,te,le,ue,_e,Be,Ue,at){const yt=this.length;return this.resize(yt+1),this.emplace(yt,t,a,f,w,S,T,P,L,G,K,te,le,ue,_e,Be,Ue,at)}emplace(t,a,f,w,S,T,P,L,G,K,te,le,ue,_e,Be,Ue,at,yt){const st=24*t,It=12*t,Ot=48*t;return this.int16[st+0]=a,this.int16[st+1]=f,this.uint16[st+2]=w,this.uint16[st+3]=S,this.uint32[It+2]=T,this.uint32[It+3]=P,this.uint32[It+4]=L,this.uint16[st+10]=G,this.uint16[st+11]=K,this.uint16[st+12]=te,this.float32[It+7]=le,this.float32[It+8]=ue,this.uint8[Ot+36]=_e,this.uint8[Ot+37]=Be,this.uint8[Ot+38]=Ue,this.uint32[It+10]=at,this.int16[st+22]=yt,t}}ac.prototype.bytesPerElement=48,Ci("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",ac);class kl extends to{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,a,f,w,S,T,P,L,G,K,te,le,ue,_e,Be,Ue,at,yt,st,It,Ot,Yt,Pi,ji,Ai,Ei,vi,ki){const Di=this.length;return this.resize(Di+1),this.emplace(Di,t,a,f,w,S,T,P,L,G,K,te,le,ue,_e,Be,Ue,at,yt,st,It,Ot,Yt,Pi,ji,Ai,Ei,vi,ki)}emplace(t,a,f,w,S,T,P,L,G,K,te,le,ue,_e,Be,Ue,at,yt,st,It,Ot,Yt,Pi,ji,Ai,Ei,vi,ki,Di){const si=34*t,Qi=17*t;return this.int16[si+0]=a,this.int16[si+1]=f,this.int16[si+2]=w,this.int16[si+3]=S,this.int16[si+4]=T,this.int16[si+5]=P,this.int16[si+6]=L,this.int16[si+7]=G,this.uint16[si+8]=K,this.uint16[si+9]=te,this.uint16[si+10]=le,this.uint16[si+11]=ue,this.uint16[si+12]=_e,this.uint16[si+13]=Be,this.uint16[si+14]=Ue,this.uint16[si+15]=at,this.uint16[si+16]=yt,this.uint16[si+17]=st,this.uint16[si+18]=It,this.uint16[si+19]=Ot,this.uint16[si+20]=Yt,this.uint16[si+21]=Pi,this.uint16[si+22]=ji,this.uint32[Qi+12]=Ai,this.float32[Qi+13]=Ei,this.float32[Qi+14]=vi,this.float32[Qi+15]=ki,this.float32[Qi+16]=Di,t}}kl.prototype.bytesPerElement=68,Ci("StructArrayLayout8i15ui1ul4f68",kl);class $l extends to{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t){const a=this.length;return this.resize(a+1),this.emplace(a,t)}emplace(t,a){return this.float32[1*t+0]=a,t}}$l.prototype.bytesPerElement=4,Ci("StructArrayLayout1f4",$l);class lc extends to{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,a,f){const w=this.length;return this.resize(w+1),this.emplace(w,t,a,f)}emplace(t,a,f,w){const S=4*t;return this.uint32[2*t+0]=a,this.uint16[S+2]=f,this.uint16[S+3]=w,t}}lc.prototype.bytesPerElement=8,Ci("StructArrayLayout1ul2ui8",lc);class x extends to{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,a){const f=this.length;return this.resize(f+1),this.emplace(f,t,a)}emplace(t,a,f){const w=2*t;return this.uint16[w+0]=a,this.uint16[w+1]=f,t}}x.prototype.bytesPerElement=4,Ci("StructArrayLayout2ui4",x);class i extends to{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t){const a=this.length;return this.resize(a+1),this.emplace(a,t)}emplace(t,a){return this.uint16[1*t+0]=a,t}}i.prototype.bytesPerElement=2,Ci("StructArrayLayout1ui2",i);class d extends to{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,a,f,w){const S=this.length;return this.resize(S+1),this.emplace(S,t,a,f,w)}emplace(t,a,f,w,S){const T=4*t;return this.float32[T+0]=a,this.float32[T+1]=f,this.float32[T+2]=w,this.float32[T+3]=S,t}}d.prototype.bytesPerElement=16,Ci("StructArrayLayout4f16",d);class _ extends oa{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new ke(this.anchorPointX,this.anchorPointY)}}_.prototype.size=20;class C extends Oa{get(t){return new _(this,t)}}Ci("CollisionBoxArray",C);class h extends oa{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(t){this._structArray.uint8[this._pos1+37]=t}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(t){this._structArray.uint8[this._pos1+38]=t}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(t){this._structArray.uint32[this._pos4+10]=t}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}h.prototype.size=48;class b extends ac{get(t){return new h(this,t)}}Ci("PlacedSymbolArray",b);class y extends oa{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(t){this._structArray.uint32[this._pos4+12]=t}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get textOffset0(){return this._structArray.float32[this._pos4+14]}get textOffset1(){return this._structArray.float32[this._pos4+15]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+16]}}y.prototype.size=68;class E extends kl{get(t){return new y(this,t)}}Ci("SymbolInstanceArray",E);class I extends $l{getoffsetX(t){return this.float32[1*t+0]}}Ci("GlyphOffsetArray",I);class O extends Ul{getx(t){return this.int16[3*t+0]}gety(t){return this.int16[3*t+1]}gettileUnitDistanceFromAnchor(t){return this.int16[3*t+2]}}Ci("SymbolLineVertexArray",O);class R extends oa{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}R.prototype.size=8;class W extends lc{get(t){return new R(this,t)}}Ci("FeatureIndexArray",W);class ce extends Jo{}class ye extends Jo{}class we extends Jo{}class Fe extends Vo{}class rt extends qa{}class Mt extends Ya{}class He extends Tc{}class Ct extends Tl{}class Lt extends jl{}class Wt extends Ka{}class oi extends Hl{}class fi extends Ra{}class ci extends Al{}class Ii extends x{}const Gi=io([{name:"a_pos",components:2,type:"Int16"}],4),{members:_n}=Gi;class bi{constructor(t=[]){this.segments=t}prepareSegment(t,a,f,w){let S=this.segments[this.segments.length-1];return t>bi.MAX_VERTEX_ARRAY_LENGTH&&Oe(`Max vertices per segment is ${bi.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${t}`),(!S||S.vertexLength+t>bi.MAX_VERTEX_ARRAY_LENGTH||S.sortKey!==w)&&(S={vertexOffset:a.length,primitiveOffset:f.length,vertexLength:0,primitiveLength:0},void 0!==w&&(S.sortKey=w),this.segments.push(S)),S}get(){return this.segments}destroy(){for(const t of this.segments)for(const a in t.vaos)t.vaos[a].destroy()}static simpleSegment(t,a,f,w){return new bi([{vertexOffset:t,primitiveOffset:a,vertexLength:f,primitiveLength:w,vaos:{},sortKey:0}])}}function sn(o,t){return 256*(o=Qe(Math.floor(o),0,255))+Qe(Math.floor(t),0,255)}bi.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ci("SegmentVector",bi);const Ri=io([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Qn={exports:{}},Yr=function(o,t){var a,f,w,S,T,P,L,G;for(f=o.length-(a=3&o.length),w=t,T=3432918353,P=461845907,G=0;G<f;)L=255&o.charCodeAt(G)|(255&o.charCodeAt(++G))<<8|(255&o.charCodeAt(++G))<<16|(255&o.charCodeAt(++G))<<24,++G,w=27492+(65535&(S=5*(65535&(w=(w^=L=(65535&(L=(L=(65535&L)*T+(((L>>>16)*T&65535)<<16)&4294967295)<<15|L>>>17))*P+(((L>>>16)*P&65535)<<16)&4294967295)<<13|w>>>19))+((5*(w>>>16)&65535)<<16)&4294967295))+((58964+(S>>>16)&65535)<<16);switch(L=0,a){case 3:L^=(255&o.charCodeAt(G+2))<<16;case 2:L^=(255&o.charCodeAt(G+1))<<8;case 1:w^=L=(65535&(L=(L=(65535&(L^=255&o.charCodeAt(G)))*T+(((L>>>16)*T&65535)<<16)&4294967295)<<15|L>>>17))*P+(((L>>>16)*P&65535)<<16)&4294967295}return w^=o.length,w=2246822507*(65535&(w^=w>>>16))+((2246822507*(w>>>16)&65535)<<16)&4294967295,w=3266489909*(65535&(w^=w>>>13))+((3266489909*(w>>>16)&65535)<<16)&4294967295,(w^=w>>>16)>>>0},Dr=function(o,t){for(var a,f=o.length,w=t^f,S=0;f>=4;)a=1540483477*(65535&(a=255&o.charCodeAt(S)|(255&o.charCodeAt(++S))<<8|(255&o.charCodeAt(++S))<<16|(255&o.charCodeAt(++S))<<24))+((1540483477*(a>>>16)&65535)<<16),w=1540483477*(65535&w)+((1540483477*(w>>>16)&65535)<<16)^(a=1540483477*(65535&(a^=a>>>24))+((1540483477*(a>>>16)&65535)<<16)),f-=4,++S;switch(f){case 3:w^=(255&o.charCodeAt(S+2))<<16;case 2:w^=(255&o.charCodeAt(S+1))<<8;case 1:w=1540483477*(65535&(w^=255&o.charCodeAt(S)))+((1540483477*(w>>>16)&65535)<<16)}return w=1540483477*(65535&(w^=w>>>13))+((1540483477*(w>>>16)&65535)<<16),(w^=w>>>15)>>>0};Qn.exports=Yr,Qn.exports.murmur3=Yr,Qn.exports.murmur2=Dr;var To=$e(Qn.exports);class Uo{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(t,a,f,w){this.ids.push(Os(t)),this.positions.push(a,f,w)}getPositions(t){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const a=Os(t);let f=0,w=this.ids.length-1;for(;f<w;){const T=f+w>>1;this.ids[T]>=a?w=T:f=T+1}const S=[];for(;this.ids[f]===a;)S.push({index:this.positions[3*f],start:this.positions[3*f+1],end:this.positions[3*f+2]}),f++;return S}static serialize(t,a){const f=new Float64Array(t.ids),w=new Uint32Array(t.positions);return _a(f,w,0,f.length-1),a&&a.push(f.buffer,w.buffer),{ids:f,positions:w}}static deserialize(t){const a=new Uo;return a.ids=t.ids,a.positions=t.positions,a.indexed=!0,a}}function Os(o){const t=+o;return!isNaN(t)&&t<=Number.MAX_SAFE_INTEGER?t:To(String(o))}function _a(o,t,a,f){for(;a<f;){const w=o[a+f>>1];let S=a-1,T=f+1;for(;;){do{S++}while(o[S]<w);do{T--}while(o[T]>w);if(S>=T)break;Io(o,S,T),Io(t,3*S,3*T),Io(t,3*S+1,3*T+1),Io(t,3*S+2,3*T+2)}T-a<f-T?(_a(o,t,a,T),a=T+1):(_a(o,t,T+1,f),f=T)}}function Io(o,t,a){const f=o[t];o[t]=o[a],o[a]=f}Ci("FeaturePositionMap",Uo);class Cs{constructor(t,a){this.gl=t.gl,this.location=a}}class sa extends Cs{constructor(t,a){super(t,a),this.current=0}set(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t))}}class Gl extends Cs{constructor(t,a){super(t,a),this.current=[0,0,0,0]}set(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))}}class Ao extends Cs{constructor(t,a){super(t,a),this.current=Ht.transparent}set(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))}}const ko=new Float32Array(16);function er(o){return[sn(255*o.r,255*o.g),sn(255*o.b,255*o.a)]}class jo{constructor(t,a,f){this.value=t,this.uniformNames=a.map(w=>`u_${w}`),this.type=f}setUniform(t,a,f){t.set(f.constantOr(this.value))}getBinding(t,a,f){return"color"===this.type?new Ao(t,a):new sa(t,a)}}class Po{constructor(t,a){this.uniformNames=a.map(f=>`u_${f}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(t,a){this.pixelRatioFrom=a.pixelRatio,this.pixelRatioTo=t.pixelRatio,this.patternFrom=a.tlbr,this.patternTo=t.tlbr}setUniform(t,a,f,w){const S="u_pattern_to"===w?this.patternTo:"u_pattern_from"===w?this.patternFrom:"u_pixel_ratio_to"===w?this.pixelRatioTo:"u_pixel_ratio_from"===w?this.pixelRatioFrom:null;S&&t.set(S)}getBinding(t,a,f){return"u_pattern"===f.substr(0,9)?new Gl(t,a):new sa(t,a)}}class sr{constructor(t,a,f,w){this.expression=t,this.type=f,this.maxValue=0,this.paintVertexAttributes=a.map(S=>({name:`a_${S}`,type:"Float32",components:"color"===f?2:1,offset:0})),this.paintVertexArray=new w}populatePaintArray(t,a,f,w,S){const T=this.paintVertexArray.length,P=this.expression.evaluate(new Xn(0),a,{},w,[],S);this.paintVertexArray.resize(t),this._setPaintValue(T,t,P)}updatePaintArray(t,a,f,w){const S=this.expression.evaluate({zoom:0},f,w);this._setPaintValue(t,a,S)}_setPaintValue(t,a,f){if("color"===this.type){const w=er(f);for(let S=t;S<a;S++)this.paintVertexArray.emplace(S,w[0],w[1])}else{for(let w=t;w<a;w++)this.paintVertexArray.emplace(w,f);this.maxValue=Math.max(this.maxValue,Math.abs(f))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Oo{constructor(t,a,f,w,S,T){this.expression=t,this.uniformNames=a.map(P=>`u_${P}_t`),this.type=f,this.useIntegerZoom=w,this.zoom=S,this.maxValue=0,this.paintVertexAttributes=a.map(P=>({name:`a_${P}`,type:"Float32",components:"color"===f?4:2,offset:0})),this.paintVertexArray=new T}populatePaintArray(t,a,f,w,S){const T=this.expression.evaluate(new Xn(this.zoom),a,{},w,[],S),P=this.expression.evaluate(new Xn(this.zoom+1),a,{},w,[],S),L=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(L,t,T,P)}updatePaintArray(t,a,f,w){const S=this.expression.evaluate({zoom:this.zoom},f,w),T=this.expression.evaluate({zoom:this.zoom+1},f,w);this._setPaintValue(t,a,S,T)}_setPaintValue(t,a,f,w){if("color"===this.type){const S=er(f),T=er(w);for(let P=t;P<a;P++)this.paintVertexArray.emplace(P,S[0],S[1],T[0],T[1])}else{for(let S=t;S<a;S++)this.paintVertexArray.emplace(S,f,w);this.maxValue=Math.max(this.maxValue,Math.abs(f),Math.abs(w))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(t,a){const f=this.useIntegerZoom?Math.floor(a.zoom):a.zoom,w=Qe(this.expression.interpolationFactor(f,this.zoom,this.zoom+1),0,1);t.set(w)}getBinding(t,a,f){return new sa(t,a)}}class Es{constructor(t,a,f,w,S,T){this.expression=t,this.type=a,this.useIntegerZoom=f,this.zoom=w,this.layerId=T,this.zoomInPaintVertexArray=new S,this.zoomOutPaintVertexArray=new S}populatePaintArray(t,a,f){const w=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(w,t,a.patterns&&a.patterns[this.layerId],f)}updatePaintArray(t,a,f,w,S){this._setPaintValues(t,a,f.patterns&&f.patterns[this.layerId],S)}_setPaintValues(t,a,f,w){if(!w||!f)return;const{min:S,mid:T,max:P}=f,L=w[S],G=w[T],K=w[P];if(L&&G&&K)for(let te=t;te<a;te++)this.zoomInPaintVertexArray.emplace(te,G.tl[0],G.tl[1],G.br[0],G.br[1],L.tl[0],L.tl[1],L.br[0],L.br[1],G.pixelRatio,L.pixelRatio),this.zoomOutPaintVertexArray.emplace(te,G.tl[0],G.tl[1],G.br[0],G.br[1],K.tl[0],K.tl[1],K.br[0],K.br[1],G.pixelRatio,K.pixelRatio)}upload(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,Ri.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,Ri.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class rd{constructor(t,a,f){this.binders={},this._buffers=[];const w=[];for(const S in t.paint._values){if(!f(S))continue;const T=t.paint.get(S);if(!(T instanceof eo&&Vr(T.property.specification)))continue;const P=Zl(S,t.type),L=T.value,G=T.property.specification.type,K=T.property.useIntegerZoom,te=T.property.specification["property-type"],le="cross-faded"===te||"cross-faded-data-driven"===te;if("constant"===L.kind)this.binders[S]=le?new Po(L.value,P):new jo(L.value,P,G),w.push(`/u_${S}`);else if("source"===L.kind||le){const ue=Pu(S,G,"source");this.binders[S]=le?new Es(L,G,K,a,ue,t.id):new sr(L,P,G,ue),w.push(`/a_${S}`)}else{const ue=Pu(S,G,"composite");this.binders[S]=new Oo(L,P,G,K,a,ue),w.push(`/z_${S}`)}}this.cacheKey=w.sort().join("")}getMaxValue(t){const a=this.binders[t];return a instanceof sr||a instanceof Oo?a.maxValue:0}populatePaintArrays(t,a,f,w,S){for(const T in this.binders){const P=this.binders[T];(P instanceof sr||P instanceof Oo||P instanceof Es)&&P.populatePaintArray(t,a,f,w,S)}}setConstantPatternPositions(t,a){for(const f in this.binders){const w=this.binders[f];w instanceof Po&&w.setConstantPatternPositions(t,a)}}updatePaintArrays(t,a,f,w,S){let T=!1;for(const P in t){const L=a.getPositions(P);for(const G of L){const K=f.feature(G.index);for(const te in this.binders){const le=this.binders[te];if((le instanceof sr||le instanceof Oo||le instanceof Es)&&!0===le.expression.isStateDependent){const ue=w.paint.get(te);le.expression=ue.value,le.updatePaintArray(G.start,G.end,K,t[P],S),T=!0}}}}return T}defines(){const t=[];for(const a in this.binders){const f=this.binders[a];(f instanceof jo||f instanceof Po)&&t.push(...f.uniformNames.map(w=>`#define HAS_UNIFORM_${w}`))}return t}getBinderAttributes(){const t=[];for(const a in this.binders){const f=this.binders[a];if(f instanceof sr||f instanceof Oo)for(let w=0;w<f.paintVertexAttributes.length;w++)t.push(f.paintVertexAttributes[w].name);else if(f instanceof Es)for(let w=0;w<Ri.members.length;w++)t.push(Ri.members[w].name)}return t}getBinderUniforms(){const t=[];for(const a in this.binders){const f=this.binders[a];if(f instanceof jo||f instanceof Po||f instanceof Oo)for(const w of f.uniformNames)t.push(w)}return t}getPaintVertexBuffers(){return this._buffers}getUniforms(t,a){const f=[];for(const w in this.binders){const S=this.binders[w];if(S instanceof jo||S instanceof Po||S instanceof Oo)for(const T of S.uniformNames)if(a[T]){const P=S.getBinding(t,a[T],T);f.push({name:T,property:w,binding:P})}}return f}setUniforms(t,a,f,w){for(const{name:S,property:T,binding:P}of a)this.binders[T].setUniform(P,w,f.get(T),S)}updatePaintBuffers(t){this._buffers=[];for(const a in this.binders){const f=this.binders[a];if(t&&f instanceof Es){const w=2===t.fromScale?f.zoomInPaintVertexBuffer:f.zoomOutPaintVertexBuffer;w&&this._buffers.push(w)}else(f instanceof sr||f instanceof Oo)&&f.paintVertexBuffer&&this._buffers.push(f.paintVertexBuffer)}}upload(t){for(const a in this.binders){const f=this.binders[a];(f instanceof sr||f instanceof Oo||f instanceof Es)&&f.upload(t)}this.updatePaintBuffers()}destroy(){for(const t in this.binders){const a=this.binders[t];(a instanceof sr||a instanceof Oo||a instanceof Es)&&a.destroy()}}}class ya{constructor(t,a,f=(()=>!0)){this.programConfigurations={};for(const w of t)this.programConfigurations[w.id]=new rd(w,a,f);this.needsUpload=!1,this._featureMap=new Uo,this._bufferOffset=0}populatePaintArrays(t,a,f,w,S,T){for(const P in this.programConfigurations)this.programConfigurations[P].populatePaintArrays(t,a,w,S,T);void 0!==a.id&&this._featureMap.add(a.id,f,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0}updatePaintArrays(t,a,f,w){for(const S of f)this.needsUpload=this.programConfigurations[S.id].updatePaintArrays(t,this._featureMap,a,S,w)||this.needsUpload}get(t){return this.programConfigurations[t]}upload(t){if(this.needsUpload){for(const a in this.programConfigurations)this.programConfigurations[a].upload(t);this.needsUpload=!1}}destroy(){for(const t in this.programConfigurations)this.programConfigurations[t].destroy()}}function Zl(o,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[o]||[o.replace(`${t}-`,"").replace(/-/g,"_")]}function Pu(o,t,a){const w={"line-pattern":{source:He,composite:He},"fill-pattern":{source:He,composite:He},"fill-extrusion-pattern":{source:He,composite:He}}[o];return w&&w[a]||{color:{source:Ya,composite:d},number:{source:$l,composite:Ya}}[t][a]}Ci("ConstantBinder",jo),Ci("CrossFadedConstantBinder",Po),Ci("SourceExpressionBinder",sr),Ci("CrossFadedCompositeBinder",Es),Ci("CompositeExpressionBinder",Oo),Ci("ProgramConfiguration",rd,{omit:["_buffers"]}),Ci("ProgramConfigurationSet",ya);var Ir=8192;const od=Math.pow(2,14)-1,Xa=-od-1;function ll(o){const t=Ir/o.extent,a=o.loadGeometry();for(let f=0;f<a.length;f++){const w=a[f];for(let S=0;S<w.length;S++){const T=w[S],P=Math.round(T.x*t),L=Math.round(T.y*t);T.x=Qe(P,Xa,od),T.y=Qe(L,Xa,od),(P<T.x||P>T.x+1||L<T.y||L>T.y+1)&&Oe("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return a}function cc(o,t){return{type:o.type,id:o.id,properties:o.properties,geometry:t?ll(o):[]}}function sd(o,t,a,f,w){o.emplaceBack(2*t+(f+1)/2,2*a+(w+1)/2)}class Dh{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(a=>a.id),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new ye,this.indexArray=new ci,this.segments=new bi,this.programConfigurations=new ya(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id)}populate(t,a,f){const w=this.layers[0],S=[];let T=null,P=!1;"circle"===w.type&&(T=w.layout.get("circle-sort-key"),P=!T.isConstant());for(const{feature:L,id:G,index:K,sourceLayerIndex:te}of t){const le=this.layers[0]._featureFilter.needGeometry,ue=cc(L,le);if(!this.layers[0]._featureFilter.filter(new Xn(this.zoom),ue,f))continue;const _e=P?T.evaluate(ue,{},f):void 0,Be={id:G,properties:L.properties,type:L.type,sourceLayerIndex:te,index:K,geometry:le?ue.geometry:ll(L),patterns:{},sortKey:_e};S.push(Be)}P&&S.sort((L,G)=>L.sortKey-G.sortKey);for(const L of S){const{geometry:G,index:K,sourceLayerIndex:te}=L,le=t[K].feature;this.addFeature(L,G,K,f),a.featureIndex.insert(le,G,K,te,this.index)}}update(t,a,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,a,this.stateDependentLayers,f)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,_n),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(t,a,f,w){for(const S of a)for(const T of S){const P=T.x,L=T.y;if(P<0||P>=Ir||L<0||L>=Ir)continue;const G=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),K=G.vertexLength;sd(this.layoutVertexArray,P,L,-1,-1),sd(this.layoutVertexArray,P,L,1,-1),sd(this.layoutVertexArray,P,L,1,1),sd(this.layoutVertexArray,P,L,-1,1),this.indexArray.emplaceBack(K,K+1,K+2),this.indexArray.emplaceBack(K,K+3,K+2),G.vertexLength+=4,G.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,f,{},w)}}function Sh(o,t){for(let a=0;a<o.length;a++)if(ld(t,o[a]))return!0;for(let a=0;a<t.length;a++)if(ld(o,t[a]))return!0;return!!dc(o,t)}function Th(o,t,a){return!!ld(o,t)||!!Gd(t,o,a)}function Ic(o,t){if(1===o.length)return Tf(t,o[0]);for(let a=0;a<t.length;a++){const f=t[a];for(let w=0;w<f.length;w++)if(ld(o,f[w]))return!0}for(let a=0;a<o.length;a++)if(Tf(t,o[a]))return!0;for(let a=0;a<t.length;a++)if(dc(o,t[a]))return!0;return!1}function ad(o,t,a){if(o.length>1){if(dc(o,t))return!0;for(let f=0;f<t.length;f++)if(Gd(t[f],o,a))return!0}for(let f=0;f<o.length;f++)if(Gd(o[f],t,a))return!0;return!1}function dc(o,t){if(0===o.length||0===t.length)return!1;for(let a=0;a<o.length-1;a++){const f=o[a],w=o[a+1];for(let S=0;S<t.length-1;S++)if(Jm(f,w,t[S],t[S+1]))return!0}return!1}function Jm(o,t,a,f){return gt(o,a,f)!==gt(t,a,f)&&gt(o,t,a)!==gt(o,t,f)}function Gd(o,t,a){const f=a*a;if(1===t.length)return o.distSqr(t[0])<f;for(let w=1;w<t.length;w++)if(Ac(o,t[w-1],t[w])<f)return!0;return!1}function Ac(o,t,a){const f=t.distSqr(a);if(0===f)return o.distSqr(t);const w=((o.x-t.x)*(a.x-t.x)+(o.y-t.y)*(a.y-t.y))/f;return o.distSqr(w<0?t:w>1?a:a.sub(t)._mult(w)._add(t))}function Tf(o,t){let a,f,w,S=!1;for(let T=0;T<o.length;T++){a=o[T];for(let P=0,L=a.length-1;P<a.length;L=P++)f=a[P],w=a[L],f.y>t.y!=w.y>t.y&&t.x<(w.x-f.x)*(t.y-f.y)/(w.y-f.y)+f.x&&(S=!S)}return S}function ld(o,t){let a=!1;for(let f=0,w=o.length-1;f<o.length;w=f++){const S=o[f],T=o[w];S.y>t.y!=T.y>t.y&&t.x<(T.x-S.x)*(t.y-S.y)/(T.y-S.y)+S.x&&(a=!a)}return a}function E_(o,t,a){const f=a[0],w=a[2];if(o.x<f.x&&t.x<f.x||o.x>w.x&&t.x>w.x||o.y<f.y&&t.y<f.y||o.y>w.y&&t.y>w.y)return!1;const S=gt(o,t,a[0]);return S!==gt(o,t,a[1])||S!==gt(o,t,a[2])||S!==gt(o,t,a[3])}function Ou(o,t,a){const f=t.paint.get(o).value;return"constant"===f.kind?f.value:a.programConfigurations.get(t.id).getMaxValue(o)}function Ih(o){return Math.sqrt(o[0]*o[0]+o[1]*o[1])}function Hr(o,t,a,f,w){if(!t[0]&&!t[1])return o;const S=ke.convert(t)._mult(w);"viewport"===a&&S._rotate(-f);const T=[];for(let P=0;P<o.length;P++)T.push(o[P].sub(S));return T}let If,Af;Ci("CircleBucket",Dh,{omit:["layers"]});var Zd={get paint(){return Af=Af||new Bo({"circle-radius":new Ki(De.paint_circle["circle-radius"]),"circle-color":new Ki(De.paint_circle["circle-color"]),"circle-blur":new Ki(De.paint_circle["circle-blur"]),"circle-opacity":new Ki(De.paint_circle["circle-opacity"]),"circle-translate":new ui(De.paint_circle["circle-translate"]),"circle-translate-anchor":new ui(De.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new ui(De.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new ui(De.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Ki(De.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Ki(De.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Ki(De.paint_circle["circle-stroke-opacity"])})},get layout(){return If=If||new Bo({"circle-sort-key":new Ki(De.layout_circle["circle-sort-key"])})}},Rs=1e-6,cd=typeof Float32Array<"u"?Float32Array:Array;function no(o){return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}function Qm(o,t,a){var f=t[0],w=t[1],S=t[2],T=t[3],P=t[4],L=t[5],G=t[6],K=t[7],te=t[8],le=t[9],ue=t[10],_e=t[11],Be=t[12],Ue=t[13],at=t[14],yt=t[15],st=a[0],It=a[1],Ot=a[2],Yt=a[3];return o[0]=st*f+It*P+Ot*te+Yt*Be,o[1]=st*w+It*L+Ot*le+Yt*Ue,o[2]=st*S+It*G+Ot*ue+Yt*at,o[3]=st*T+It*K+Ot*_e+Yt*yt,o[4]=(st=a[4])*f+(It=a[5])*P+(Ot=a[6])*te+(Yt=a[7])*Be,o[5]=st*w+It*L+Ot*le+Yt*Ue,o[6]=st*S+It*G+Ot*ue+Yt*at,o[7]=st*T+It*K+Ot*_e+Yt*yt,o[8]=(st=a[8])*f+(It=a[9])*P+(Ot=a[10])*te+(Yt=a[11])*Be,o[9]=st*w+It*L+Ot*le+Yt*Ue,o[10]=st*S+It*G+Ot*ue+Yt*at,o[11]=st*T+It*K+Ot*_e+Yt*yt,o[12]=(st=a[12])*f+(It=a[13])*P+(Ot=a[14])*te+(Yt=a[15])*Be,o[13]=st*w+It*L+Ot*le+Yt*Ue,o[14]=st*S+It*G+Ot*ue+Yt*at,o[15]=st*T+It*K+Ot*_e+Yt*yt,o}Math.hypot||(Math.hypot=function(){for(var o=0,t=arguments.length;t--;)o+=arguments[t]*arguments[t];return Math.sqrt(o)});var cl,kf=Qm;function Qo(o,t,a){var f=t[0],w=t[1],S=t[2],T=t[3];return o[0]=a[0]*f+a[4]*w+a[8]*S+a[12]*T,o[1]=a[1]*f+a[5]*w+a[9]*S+a[13]*T,o[2]=a[2]*f+a[6]*w+a[10]*S+a[14]*T,o[3]=a[3]*f+a[7]*w+a[11]*S+a[15]*T,o}function kc(o,t){const a=Qo([],[o.x,o.y,0,1],t);return new ke(a[0]/a[3],a[1]/a[3])}cl=new cd(4),cd!=Float32Array&&(cl[0]=0,cl[1]=0,cl[2]=0,cl[3]=0);class Ah extends Dh{}let dd;Ci("HeatmapBucket",Ah,{omit:["layers"]});var Wd={get paint(){return dd=dd||new Bo({"heatmap-radius":new Ki(De.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Ki(De.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new ui(De.paint_heatmap["heatmap-intensity"]),"heatmap-color":new al(De.paint_heatmap["heatmap-color"]),"heatmap-opacity":new ui(De.paint_heatmap["heatmap-opacity"])})}};function kh(o,{width:t,height:a},f,w){if(w){if(w instanceof Uint8ClampedArray)w=new Uint8Array(w.buffer);else if(w.length!==t*a*f)throw new RangeError(`mismatched image size. expected: ${w.length} but got: ${t*a*f}`)}else w=new Uint8Array(t*a*f);return o.width=t,o.height=a,o.data=w,o}function Pf(o,{width:t,height:a},f){if(t===o.width&&a===o.height)return;const w=kh({},{width:t,height:a},f);Ru(o,w,{x:0,y:0},{x:0,y:0},{width:Math.min(o.width,t),height:Math.min(o.height,a)},f),o.width=t,o.height=a,o.data=w.data}function Ru(o,t,a,f,w,S){if(0===w.width||0===w.height)return t;if(w.width>o.width||w.height>o.height||a.x>o.width-w.width||a.y>o.height-w.height)throw new RangeError("out of range source coordinates for image copy");if(w.width>t.width||w.height>t.height||f.x>t.width-w.width||f.y>t.height-w.height)throw new RangeError("out of range destination coordinates for image copy");const T=o.data,P=t.data;if(T===P)throw new Error("srcData equals dstData, so image is already copied");for(let L=0;L<w.height;L++){const G=((a.y+L)*o.width+a.x)*S,K=((f.y+L)*t.width+f.x)*S;for(let te=0;te<w.width*S;te++)P[K+te]=T[G+te]}return t}class Fu{constructor(t,a){kh(this,t,1,a)}resize(t){Pf(this,t,1)}clone(){return new Fu({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,a,f,w,S){Ru(t,a,f,w,S,1)}}class ro{constructor(t,a){kh(this,t,4,a)}resize(t){Pf(this,t,4)}replace(t,a){a?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t}clone(){return new ro({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,a,f,w,S){Ru(t,a,f,w,S,4)}}function ud(o){const t={},a=o.resolution||256,f=o.clips?o.clips.length:1,w=o.image||new ro({width:a,height:f});if(Math.log(a)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${a}`);const S=(T,P,L)=>{t[o.evaluationKey]=L;const G=o.expression.evaluate(t);w.data[T+P+0]=Math.floor(255*G.r/G.a),w.data[T+P+1]=Math.floor(255*G.g/G.a),w.data[T+P+2]=Math.floor(255*G.b/G.a),w.data[T+P+3]=Math.floor(255*G.a)};if(o.clips)for(let T=0,P=0;T<f;++T,P+=4*a)for(let L=0,G=0;L<a;L++,G+=4){const K=L/(a-1),{start:te,end:le}=o.clips[T];S(P,G,te*(1-K)+le*K)}else for(let T=0,P=0;T<a;T++,P+=4)S(0,P,T/(a-1));return w}let Pc;Ci("AlphaImage",Fu),Ci("RGBAImage",ro);var Of={get paint(){return Pc=Pc||new Bo({"hillshade-illumination-direction":new ui(De.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new ui(De.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new ui(De.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new ui(De.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new ui(De.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new ui(De.paint_hillshade["hillshade-accent-color"])})}};const ep=io([{name:"a_pos",components:2,type:"Int16"}],4),{members:Rf}=ep;var Ph={exports:{}};function Lu(o,t,a){a=a||2;var f,w,S,T,P,L,G,K=t&&t.length,te=K?t[0]*a:o.length,le=tp(o,0,te,a,!0),ue=[];if(!le||le.next===le.prev)return ue;if(K&&(le=function(Be,Ue,at,yt){var st,It,Ot,Yt=[];for(st=0,It=Ue.length;st<It;st++)(Ot=tp(Be,Ue[st]*yt,st<It-1?Ue[st+1]*yt:Be.length,yt,!1))===Ot.next&&(Ot.steiner=!0),Yt.push(Oh(Ot));for(Yt.sort(Ff),st=0;st<Yt.length;st++)at=Bu(Yt[st],at);return at}(o,t,le,a)),o.length>80*a){f=S=o[0],w=T=o[1];for(var _e=a;_e<te;_e+=a)(P=o[_e])<f&&(f=P),(L=o[_e+1])<w&&(w=L),P>S&&(S=P),L>T&&(T=L);G=0!==(G=Math.max(S-f,T-w))?32767/G:0}return qd(le,ue,a,f,w,G,0),ue}function tp(o,t,a,f,w){var S,T;if(w===Lh(o,t,a,f)>0)for(S=t;S<a;S+=f)T=np(S,o[S],o[S+1],T);else for(S=a-f;S>=t;S-=f)T=np(S,o[S],o[S+1],T);return T&&Uu(T,T.next)&&(Hu(T),T=T.next),T}function Oc(o,t){if(!o)return o;t||(t=o);var a,f=o;do{if(a=!1,f.steiner||!Uu(f,f.next)&&0!==vo(f.prev,f,f.next))f=f.next;else{if(Hu(f),(f=t=f.prev)===f.next)break;a=!0}}while(a||f!==t);return t}function qd(o,t,a,f,w,S,T){if(o){!T&&S&&function(K,te,le,ue){var _e=K;do{0===_e.z&&(_e.z=Vu(_e.x,_e.y,te,le,ue)),_e.prevZ=_e.prev,_e.nextZ=_e.next,_e=_e.next}while(_e!==K);_e.prevZ.nextZ=null,_e.prevZ=null,function(Be){var Ue,at,yt,st,It,Ot,Yt,Pi,ji=1;do{for(at=Be,Be=null,It=null,Ot=0;at;){for(Ot++,yt=at,Yt=0,Ue=0;Ue<ji&&(Yt++,yt=yt.nextZ);Ue++);for(Pi=ji;Yt>0||Pi>0&&yt;)0!==Yt&&(0===Pi||!yt||at.z<=yt.z)?(st=at,at=at.nextZ,Yt--):(st=yt,yt=yt.nextZ,Pi--),It?It.nextZ=st:Be=st,st.prevZ=It,It=st;at=yt}It.nextZ=null,ji*=2}while(Ot>1)}(_e)}(o,f,w,S);for(var P,L,G=o;o.prev!==o.next;)if(P=o.prev,L=o.next,S?Nu(o,f,w,S):Yd(o))t.push(P.i/a|0),t.push(o.i/a|0),t.push(L.i/a|0),Hu(o),o=L.next,G=L.next;else if((o=L)===G){T?1===T?qd(o=Kd(Oc(o),t,a),t,a,f,w,S,2):2===T&&zu(o,t,a,f,w,S):qd(Oc(o),t,a,f,w,S,1);break}}}function Yd(o){var t=o.prev,a=o,f=o.next;if(vo(t,a,f)>=0)return!1;for(var w=t.x,S=a.x,T=f.x,P=t.y,L=a.y,G=f.y,K=w<S?w<T?w:T:S<T?S:T,te=P<L?P<G?P:G:L<G?L:G,le=w>S?w>T?w:T:S>T?S:T,ue=P>L?P>G?P:G:L>G?L:G,_e=f.next;_e!==t;){if(_e.x>=K&&_e.x<=le&&_e.y>=te&&_e.y<=ue&&Wl(w,P,S,L,T,G,_e.x,_e.y)&&vo(_e.prev,_e,_e.next)>=0)return!1;_e=_e.next}return!0}function Nu(o,t,a,f){var w=o.prev,S=o,T=o.next;if(vo(w,S,T)>=0)return!1;for(var P=w.x,L=S.x,G=T.x,K=w.y,te=S.y,le=T.y,ue=P<L?P<G?P:G:L<G?L:G,_e=K<te?K<le?K:le:te<le?te:le,Be=P>L?P>G?P:G:L>G?L:G,Ue=K>te?K>le?K:le:te>le?te:le,at=Vu(ue,_e,t,a,f),yt=Vu(Be,Ue,t,a,f),st=o.prevZ,It=o.nextZ;st&&st.z>=at&&It&&It.z<=yt;){if(st.x>=ue&&st.x<=Be&&st.y>=_e&&st.y<=Ue&&st!==w&&st!==T&&Wl(P,K,L,te,G,le,st.x,st.y)&&vo(st.prev,st,st.next)>=0||(st=st.prevZ,It.x>=ue&&It.x<=Be&&It.y>=_e&&It.y<=Ue&&It!==w&&It!==T&&Wl(P,K,L,te,G,le,It.x,It.y)&&vo(It.prev,It,It.next)>=0))return!1;It=It.nextZ}for(;st&&st.z>=at;){if(st.x>=ue&&st.x<=Be&&st.y>=_e&&st.y<=Ue&&st!==w&&st!==T&&Wl(P,K,L,te,G,le,st.x,st.y)&&vo(st.prev,st,st.next)>=0)return!1;st=st.prevZ}for(;It&&It.z<=yt;){if(It.x>=ue&&It.x<=Be&&It.y>=_e&&It.y<=Ue&&It!==w&&It!==T&&Wl(P,K,L,te,G,le,It.x,It.y)&&vo(It.prev,It,It.next)>=0)return!1;It=It.nextZ}return!0}function Kd(o,t,a){var f=o;do{var w=f.prev,S=f.next.next;!Uu(w,S)&&Rc(w,f,f.next,S)&&Fc(w,S)&&Fc(S,w)&&(t.push(w.i/a|0),t.push(f.i/a|0),t.push(S.i/a|0),Hu(f),Hu(f.next),f=o=S),f=f.next}while(f!==o);return Oc(f)}function zu(o,t,a,f,w,S){var T=o;do{for(var P=T.next.next;P!==T.prev;){if(T.i!==P.i&&ip(T,P)){var L=Rh(T,P);return T=Oc(T,T.next),L=Oc(L,L.next),qd(T,t,a,f,w,S,0),void qd(L,t,a,f,w,S,0)}P=P.next}T=T.next}while(T!==o)}function Ff(o,t){return o.x-t.x}function Bu(o,t){var a=function(w,S){var T,P=S,L=w.x,G=w.y,K=-1/0;do{if(G<=P.y&&G>=P.next.y&&P.next.y!==P.y){var te=P.x+(G-P.y)*(P.next.x-P.x)/(P.next.y-P.y);if(te<=L&&te>K&&(K=te,T=P.x<P.next.x?P:P.next,te===L))return T}P=P.next}while(P!==S);if(!T)return null;var le,ue=T,_e=T.x,Be=T.y,Ue=1/0;P=T;do{L>=P.x&&P.x>=_e&&L!==P.x&&Wl(G<Be?L:K,G,_e,Be,G<Be?K:L,G,P.x,P.y)&&(le=Math.abs(G-P.y)/(L-P.x),Fc(P,w)&&(le<Ue||le===Ue&&(P.x>T.x||P.x===T.x&&M_(T,P)))&&(T=P,Ue=le)),P=P.next}while(P!==ue);return T}(o,t);if(!a)return t;var f=Rh(a,o);return Oc(f,f.next),Oc(a,a.next)}function M_(o,t){return vo(o.prev,o,t.prev)<0&&vo(t.next,o,o.next)<0}function Vu(o,t,a,f,w){return(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=(o-a)*w|0)|o<<8))|o<<4))|o<<2))|o<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-f)*w|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Oh(o){var t=o,a=o;do{(t.x<a.x||t.x===a.x&&t.y<a.y)&&(a=t),t=t.next}while(t!==o);return a}function Wl(o,t,a,f,w,S,T,P){return(w-T)*(t-P)>=(o-T)*(S-P)&&(o-T)*(f-P)>=(a-T)*(t-P)&&(a-T)*(S-P)>=(w-T)*(f-P)}function ip(o,t){return o.next.i!==t.i&&o.prev.i!==t.i&&!function(a,f){var w=a;do{if(w.i!==a.i&&w.next.i!==a.i&&w.i!==f.i&&w.next.i!==f.i&&Rc(w,w.next,a,f))return!0;w=w.next}while(w!==a);return!1}(o,t)&&(Fc(o,t)&&Fc(t,o)&&function(a,f){var w=a,S=!1,T=(a.x+f.x)/2,P=(a.y+f.y)/2;do{w.y>P!=w.next.y>P&&w.next.y!==w.y&&T<(w.next.x-w.x)*(P-w.y)/(w.next.y-w.y)+w.x&&(S=!S),w=w.next}while(w!==a);return S}(o,t)&&(vo(o.prev,o,t.prev)||vo(o,t.prev,t))||Uu(o,t)&&vo(o.prev,o,o.next)>0&&vo(t.prev,t,t.next)>0)}function vo(o,t,a){return(t.y-o.y)*(a.x-t.x)-(t.x-o.x)*(a.y-t.y)}function Uu(o,t){return o.x===t.x&&o.y===t.y}function Rc(o,t,a,f){var w=ju(vo(o,t,a)),S=ju(vo(o,t,f)),T=ju(vo(a,f,o)),P=ju(vo(a,f,t));return w!==S&&T!==P||!(0!==w||!Pl(o,a,t))||!(0!==S||!Pl(o,f,t))||!(0!==T||!Pl(a,o,f))||!(0!==P||!Pl(a,t,f))}function Pl(o,t,a){return t.x<=Math.max(o.x,a.x)&&t.x>=Math.min(o.x,a.x)&&t.y<=Math.max(o.y,a.y)&&t.y>=Math.min(o.y,a.y)}function ju(o){return o>0?1:o<0?-1:0}function Fc(o,t){return vo(o.prev,o,o.next)<0?vo(o,t,o.next)>=0&&vo(o,o.prev,t)>=0:vo(o,t,o.prev)<0||vo(o,o.next,t)<0}function Rh(o,t){var a=new Fh(o.i,o.x,o.y),f=new Fh(t.i,t.x,t.y),w=o.next,S=t.prev;return o.next=t,t.prev=o,a.next=w,w.prev=a,f.next=a,a.prev=f,S.next=f,f.prev=S,f}function np(o,t,a,f){var w=new Fh(o,t,a);return f?(w.next=f.next,w.prev=f,f.next.prev=w,f.next=w):(w.prev=w,w.next=w),w}function Hu(o){o.next.prev=o.prev,o.prev.next=o.next,o.prevZ&&(o.prevZ.nextZ=o.nextZ),o.nextZ&&(o.nextZ.prevZ=o.prevZ)}function Fh(o,t,a){this.i=o,this.x=t,this.y=a,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Lh(o,t,a,f){for(var w=0,S=t,T=a-f;S<a;S+=f)w+=(o[T]-o[S])*(o[S+1]+o[T+1]),T=S;return w}Ph.exports=Lu,Ph.exports.default=Lu,Lu.deviation=function(o,t,a,f){var w=t&&t.length,S=Math.abs(Lh(o,0,w?t[0]*a:o.length,a));if(w)for(var T=0,P=t.length;T<P;T++)S-=Math.abs(Lh(o,t[T]*a,T<P-1?t[T+1]*a:o.length,a));var L=0;for(T=0;T<f.length;T+=3){var G=f[T]*a,K=f[T+1]*a,te=f[T+2]*a;L+=Math.abs((o[G]-o[te])*(o[K+1]-o[G+1])-(o[G]-o[K])*(o[te+1]-o[G+1]))}return 0===S&&0===L?0:Math.abs((L-S)/S)},Lu.flatten=function(o){for(var t=o[0][0].length,a={vertices:[],holes:[],dimensions:t},f=0,w=0;w<o.length;w++){for(var S=0;S<o[w].length;S++)for(var T=0;T<t;T++)a.vertices.push(o[w][S][T]);w>0&&a.holes.push(f+=o[w-1].length)}return a};var rp=$e(Ph.exports);function $u(o,t,a,f,w){Nh(o,t,a||0,f||o.length-1,w||op)}function Nh(o,t,a,f,w){for(;f>a;){if(f-a>600){var S=f-a+1,T=t-a+1,P=Math.log(S),L=.5*Math.exp(2*P/3),G=.5*Math.sqrt(P*L*(S-L)/S)*(T-S/2<0?-1:1);Nh(o,t,Math.max(a,Math.floor(t-T*L/S+G)),Math.min(f,Math.floor(t+(S-T)*L/S+G)),w)}var K=o[t],te=a,le=f;for(Xd(o,a,t),w(o[f],K)>0&&Xd(o,a,f);te<le;){for(Xd(o,te,le),te++,le--;w(o[te],K)<0;)te++;for(;w(o[le],K)>0;)le--}0===w(o[a],K)?Xd(o,a,le):Xd(o,++le,f),le<=t&&(a=le+1),t<=le&&(f=le-1)}}function Xd(o,t,a){var f=o[t];o[t]=o[a],o[a]=f}function op(o,t){return o<t?-1:o>t?1:0}function Lc(o,t){const a=o.length;if(a<=1)return[o];const f=[];let w,S;for(let T=0;T<a;T++){const P=Rt(o[T]);0!==P&&(o[T].area=Math.abs(P),void 0===S&&(S=P<0),S===P<0?(w&&f.push(w),w=[o[T]]):w.push(o[T]))}if(w&&f.push(w),t>1)for(let T=0;T<f.length;T++)f[T].length<=t||($u(f[T],t,1,f[T].length-1,Jd),f[T]=f[T].slice(0,t));return f}function Jd(o,t){return t.area-o.area}function sp(o,t,a){const f=a.patternDependencies;let w=!1;for(const S of t){const T=S.paint.get(`${o}-pattern`);T.isConstant()||(w=!0);const P=T.constantOr(null);P&&(w=!0,f[P.to]=!0,f[P.from]=!0)}return w}function zh(o,t,a,f,w){const S=w.patternDependencies;for(const T of t){const P=T.paint.get(`${o}-pattern`).value;if("constant"!==P.kind){let L=P.evaluate({zoom:f-1},a,{},w.availableImages),G=P.evaluate({zoom:f},a,{},w.availableImages),K=P.evaluate({zoom:f+1},a,{},w.availableImages);L=L&&L.name?L.name:L,G=G&&G.name?G.name:G,K=K&&K.name?K.name:K,S[L]=!0,S[G]=!0,S[K]=!0,a.patterns[T.id]={min:L,mid:G,max:K}}}return a}class Bh{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(a=>a.id),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new we,this.indexArray=new ci,this.indexArray2=new Ii,this.programConfigurations=new ya(t.layers,t.zoom),this.segments=new bi,this.segments2=new bi,this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id)}populate(t,a,f){this.hasPattern=sp("fill",this.layers,a);const w=this.layers[0].layout.get("fill-sort-key"),S=!w.isConstant(),T=[];for(const{feature:P,id:L,index:G,sourceLayerIndex:K}of t){const te=this.layers[0]._featureFilter.needGeometry,le=cc(P,te);if(!this.layers[0]._featureFilter.filter(new Xn(this.zoom),le,f))continue;const ue=S?w.evaluate(le,{},f,a.availableImages):void 0,_e={id:L,properties:P.properties,type:P.type,sourceLayerIndex:K,index:G,geometry:te?le.geometry:ll(P),patterns:{},sortKey:ue};T.push(_e)}S&&T.sort((P,L)=>P.sortKey-L.sortKey);for(const P of T){const{geometry:L,index:G,sourceLayerIndex:K}=P;if(this.hasPattern){const te=zh("fill",this.layers,P,this.zoom,a);this.patternFeatures.push(te)}else this.addFeature(P,L,G,f,{});a.featureIndex.insert(t[G].feature,L,G,K,this.index)}}update(t,a,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,a,this.stateDependentLayers,f)}addFeatures(t,a,f){for(const w of this.patternFeatures)this.addFeature(w,w.geometry,w.index,a,f)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Rf),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(t,a,f,w,S){for(const T of Lc(a,500)){let P=0;for(const ue of T)P+=ue.length;const L=this.segments.prepareSegment(P,this.layoutVertexArray,this.indexArray),G=L.vertexLength,K=[],te=[];for(const ue of T){if(0===ue.length)continue;ue!==T[0]&&te.push(K.length/2);const _e=this.segments2.prepareSegment(ue.length,this.layoutVertexArray,this.indexArray2),Be=_e.vertexLength;this.layoutVertexArray.emplaceBack(ue[0].x,ue[0].y),this.indexArray2.emplaceBack(Be+ue.length-1,Be),K.push(ue[0].x),K.push(ue[0].y);for(let Ue=1;Ue<ue.length;Ue++)this.layoutVertexArray.emplaceBack(ue[Ue].x,ue[Ue].y),this.indexArray2.emplaceBack(Be+Ue-1,Be+Ue),K.push(ue[Ue].x),K.push(ue[Ue].y);_e.vertexLength+=ue.length,_e.primitiveLength+=ue.length}const le=rp(K,te);for(let ue=0;ue<le.length;ue+=3)this.indexArray.emplaceBack(G+le[ue],G+le[ue+1],G+le[ue+2]);L.vertexLength+=P,L.primitiveLength+=le.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,f,S,w)}}let Gu,Lf;Ci("FillBucket",Bh,{omit:["layers","patternFeatures"]});var D_={get paint(){return Lf=Lf||new Bo({"fill-antialias":new ui(De.paint_fill["fill-antialias"]),"fill-opacity":new Ki(De.paint_fill["fill-opacity"]),"fill-color":new Ki(De.paint_fill["fill-color"]),"fill-outline-color":new Ki(De.paint_fill["fill-outline-color"]),"fill-translate":new ui(De.paint_fill["fill-translate"]),"fill-translate-anchor":new ui(De.paint_fill["fill-translate-anchor"]),"fill-pattern":new ws(De.paint_fill["fill-pattern"])})},get layout(){return Gu=Gu||new Bo({"fill-sort-key":new Ki(De.layout_fill["fill-sort-key"])})}};const Vh=io([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),S_=io([{name:"a_centroid",components:2,type:"Int16"}],4),{members:T_}=Vh;var dl={},I_=ie,Qd=hd;function hd(o,t,a,f,w){this.properties={},this.extent=a,this.type=0,this._pbf=o,this._geometry=-1,this._keys=f,this._values=w,o.readFields(Zu,this,t)}function Zu(o,t,a){1==o?t.id=a.readVarint():2==o?function(f,w){for(var S=f.readVarint()+f.pos;f.pos<S;){var T=w._keys[f.readVarint()],P=w._values[f.readVarint()];w.properties[T]=P}}(a,t):3==o?t.type=a.readVarint():4==o&&(t._geometry=a.pos)}function Uh(o){for(var t,a,f=0,w=0,S=o.length,T=S-1;w<S;T=w++)f+=((a=o[T]).x-(t=o[w]).x)*(t.y+a.y);return f}hd.types=["Unknown","Point","LineString","Polygon"],hd.prototype.loadGeometry=function(){var o=this._pbf;o.pos=this._geometry;for(var t,a=o.readVarint()+o.pos,f=1,w=0,S=0,T=0,P=[];o.pos<a;){if(w<=0){var L=o.readVarint();f=7&L,w=L>>3}if(w--,1===f||2===f)S+=o.readSVarint(),T+=o.readSVarint(),1===f&&(t&&P.push(t),t=[]),t.push(new I_(S,T));else{if(7!==f)throw new Error("unknown command "+f);t&&t.push(t[0].clone())}}return t&&P.push(t),P},hd.prototype.bbox=function(){var o=this._pbf;o.pos=this._geometry;for(var t=o.readVarint()+o.pos,a=1,f=0,w=0,S=0,T=1/0,P=-1/0,L=1/0,G=-1/0;o.pos<t;){if(f<=0){var K=o.readVarint();a=7&K,f=K>>3}if(f--,1===a||2===a)(w+=o.readSVarint())<T&&(T=w),w>P&&(P=w),(S+=o.readSVarint())<L&&(L=S),S>G&&(G=S);else if(7!==a)throw new Error("unknown command "+a)}return[T,L,P,G]},hd.prototype.toGeoJSON=function(o,t,a){var f,w,S=this.extent*Math.pow(2,a),T=this.extent*o,P=this.extent*t,L=this.loadGeometry(),G=hd.types[this.type];function K(ue){for(var _e=0;_e<ue.length;_e++){var Be=ue[_e];ue[_e]=[360*(Be.x+T)/S-180,360/Math.PI*Math.atan(Math.exp((180-360*(Be.y+P)/S)*Math.PI/180))-90]}}switch(this.type){case 1:var te=[];for(f=0;f<L.length;f++)te[f]=L[f][0];K(L=te);break;case 2:for(f=0;f<L.length;f++)K(L[f]);break;case 3:for(L=function(ue){var _e=ue.length;if(_e<=1)return[ue];for(var Be,Ue,at=[],yt=0;yt<_e;yt++){var st=Uh(ue[yt]);0!==st&&(void 0===Ue&&(Ue=st<0),Ue===st<0?(Be&&at.push(Be),Be=[ue[yt]]):Be.push(ue[yt]))}return Be&&at.push(Be),at}(L),f=0;f<L.length;f++)for(w=0;w<L[f].length;w++)K(L[f][w])}1===L.length?L=L[0]:G="Multi"+G;var le={type:"Feature",geometry:{type:G,coordinates:L},properties:this.properties};return"id"in this&&(le.id=this.id),le};var ap=Qd,jh=Hh;function Hh(o,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=o,this._keys=[],this._values=[],this._features=[],o.readFields(md,this,t),this.length=this._features.length}function md(o,t,a){15===o?t.version=a.readVarint():1===o?t.name=a.readString():5===o?t.extent=a.readVarint():2===o?t._features.push(a.pos):3===o?t._keys.push(a.readString()):4===o&&t._values.push(function(f){for(var w=null,S=f.readVarint()+f.pos;f.pos<S;){var T=f.readVarint()>>3;w=1===T?f.readString():2===T?f.readFloat():3===T?f.readDouble():4===T?f.readVarint64():5===T?f.readVarint():6===T?f.readSVarint():7===T?f.readBoolean():null}return w}(a))}Hh.prototype.feature=function(o){if(o<0||o>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[o];var t=this._pbf.readVarint()+this._pbf.pos;return new ap(this._pbf,t,this.extent,this._keys,this._values)};var lp=jh;function cp(o,t,a){if(3===o){var f=new lp(a,a.readVarint()+a.pos);f.length&&(t[f.name]=f)}}dl.VectorTile=function(o,t){this.layers=o.readFields(cp,{},t)},dl.VectorTileFeature=Qd,dl.VectorTileLayer=jh;const Wu=dl.VectorTileFeature.types,pd=Math.pow(2,13);function va(o,t,a,f,w,S,T,P){o.emplaceBack(t,a,2*Math.floor(f*pd)+T,w*pd*2,S*pd*2,Math.round(P))}class $h{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(a=>a.id),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Fe,this.centroidVertexArray=new ce,this.indexArray=new ci,this.programConfigurations=new ya(t.layers,t.zoom),this.segments=new bi,this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id)}populate(t,a,f){this.features=[],this.hasPattern=sp("fill-extrusion",this.layers,a);for(const{feature:w,id:S,index:T,sourceLayerIndex:P}of t){const L=this.layers[0]._featureFilter.needGeometry,G=cc(w,L);if(!this.layers[0]._featureFilter.filter(new Xn(this.zoom),G,f))continue;const K={id:S,sourceLayerIndex:P,index:T,geometry:L?G.geometry:ll(w),properties:w.properties,type:w.type,patterns:{}};this.hasPattern?this.features.push(zh("fill-extrusion",this.layers,K,this.zoom,a)):this.addFeature(K,K.geometry,T,f,{}),a.featureIndex.insert(w,K.geometry,T,P,this.index,!0)}}addFeatures(t,a,f){for(const w of this.features){const{geometry:S}=w;this.addFeature(w,S,w.index,a,f)}}update(t,a,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,a,this.stateDependentLayers,f)}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.centroidVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,T_),this.centroidVertexBuffer=t.createVertexBuffer(this.centroidVertexArray,S_.members,!0),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(t,a,f,w,S){const T={x:0,y:0,vertexCount:0};for(const P of Lc(a,500)){let L=0;for(const _e of P)L+=_e.length;let G=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const _e of P){if(0===_e.length||((o=_e).every(t=>t.x<0)||o.every(t=>t.x>Ir)||o.every(t=>t.y<0)||o.every(t=>t.y>Ir)))continue;let Be=0;for(let Ue=0;Ue<_e.length;Ue++){const at=_e[Ue];if(Ue>=1){const yt=_e[Ue-1];if(!Nf(at,yt)){G.vertexLength+4>bi.MAX_VERTEX_ARRAY_LENGTH&&(G=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const st=at.sub(yt)._perp()._unit(),It=yt.dist(at);Be+It>32768&&(Be=0),va(this.layoutVertexArray,at.x,at.y,st.x,st.y,0,0,Be),va(this.layoutVertexArray,at.x,at.y,st.x,st.y,0,1,Be),T.x+=2*at.x,T.y+=2*at.y,T.vertexCount+=2,Be+=It,va(this.layoutVertexArray,yt.x,yt.y,st.x,st.y,0,0,Be),va(this.layoutVertexArray,yt.x,yt.y,st.x,st.y,0,1,Be),T.x+=2*yt.x,T.y+=2*yt.y,T.vertexCount+=2;const Ot=G.vertexLength;this.indexArray.emplaceBack(Ot,Ot+2,Ot+1),this.indexArray.emplaceBack(Ot+1,Ot+2,Ot+3),G.vertexLength+=4,G.primitiveLength+=2}}}}if(G.vertexLength+L>bi.MAX_VERTEX_ARRAY_LENGTH&&(G=this.segments.prepareSegment(L,this.layoutVertexArray,this.indexArray)),"Polygon"!==Wu[t.type])continue;const K=[],te=[],le=G.vertexLength;for(const _e of P)if(0!==_e.length){_e!==P[0]&&te.push(K.length/2);for(let Be=0;Be<_e.length;Be++){const Ue=_e[Be];va(this.layoutVertexArray,Ue.x,Ue.y,0,0,1,1,0),T.x+=Ue.x,T.y+=Ue.y,T.vertexCount+=1,K.push(Ue.x),K.push(Ue.y)}}const ue=rp(K,te);for(let _e=0;_e<ue.length;_e+=3)this.indexArray.emplaceBack(le+ue[_e],le+ue[_e+2],le+ue[_e+1]);G.primitiveLength+=ue.length/3,G.vertexLength+=L}var o;for(let P=0;P<T.vertexCount;P++)this.centroidVertexArray.emplaceBack(Math.floor(T.x/T.vertexCount),Math.floor(T.y/T.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,f,S,w)}}function Nf(o,t){return o.x===t.x&&(o.x<0||o.x>Ir)||o.y===t.y&&(o.y<0||o.y>Ir)}let Gh;Ci("FillExtrusionBucket",$h,{omit:["layers","features"]});var uc={get paint(){return Gh=Gh||new Bo({"fill-extrusion-opacity":new ui(De["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Ki(De["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new ui(De["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new ui(De["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ws(De["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Ki(De["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Ki(De["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new ui(De["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};function fd(o,t){return o.x*t.x+o.y*t.y}function dp(o,t){if(1===o.length){let a=0;const f=t[a++];let w;for(;!w||f.equals(w);)if(w=t[a++],!w)return 1/0;for(;a<t.length;a++){const S=t[a],T=o[0],P=w.sub(f),L=S.sub(f),G=T.sub(f),K=fd(P,P),te=fd(P,L),le=fd(L,L),ue=fd(G,P),_e=fd(G,L),Be=K*le-te*te,Ue=(le*ue-te*_e)/Be,at=(K*_e-te*ue)/Be,yt=f.z*(1-Ue-at)+w.z*Ue+S.z*at;if(isFinite(yt))return yt}return 1/0}{let a=1/0;for(const f of t)a=Math.min(a,f.z);return a}}const Bf=io([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:up}=Bf,Vf=io([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Uf}=Vf,Fs=dl.VectorTileFeature.types,Zh=Math.cos(Math.PI/180*37.5),Wh=Math.pow(2,14)/.5;class eu{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(a=>a.id),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(a=>{this.gradients[a.id]={}}),this.layoutVertexArray=new rt,this.layoutVertexArray2=new Mt,this.indexArray=new ci,this.programConfigurations=new ya(t.layers,t.zoom),this.segments=new bi,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id)}populate(t,a,f){this.hasPattern=sp("line",this.layers,a);const w=this.layers[0].layout.get("line-sort-key"),S=!w.isConstant(),T=[];for(const{feature:P,id:L,index:G,sourceLayerIndex:K}of t){const te=this.layers[0]._featureFilter.needGeometry,le=cc(P,te);if(!this.layers[0]._featureFilter.filter(new Xn(this.zoom),le,f))continue;const ue=S?w.evaluate(le,{},f):void 0,_e={id:L,properties:P.properties,type:P.type,sourceLayerIndex:K,index:G,geometry:te?le.geometry:ll(P),patterns:{},sortKey:ue};T.push(_e)}S&&T.sort((P,L)=>P.sortKey-L.sortKey);for(const P of T){const{geometry:L,index:G,sourceLayerIndex:K}=P;if(this.hasPattern){const te=zh("line",this.layers,P,this.zoom,a);this.patternFeatures.push(te)}else this.addFeature(P,L,G,f,{});a.featureIndex.insert(t[G].feature,L,G,K,this.index)}}update(t,a,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,a,this.stateDependentLayers,f)}addFeatures(t,a,f){for(const w of this.patternFeatures)this.addFeature(w,w.geometry,w.index,a,f)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,Uf)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,up),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(t){if(t.properties&&Object.prototype.hasOwnProperty.call(t.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(t.properties,"mapbox_clip_end"))return{start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}}addFeature(t,a,f,w,S){const T=this.layers[0].layout,P=T.get("line-join").evaluate(t,{}),L=T.get("line-cap"),G=T.get("line-miter-limit"),K=T.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);for(const te of a)this.addLine(te,t,P,L,G,K);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,f,S,w)}addLine(t,a,f,w,S,T){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let at=0;at<t.length-1;at++)this.totalDistance+=t[at].dist(t[at+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const P="Polygon"===Fs[a.type];let L=t.length;for(;L>=2&&t[L-1].equals(t[L-2]);)L--;let G=0;for(;G<L-1&&t[G].equals(t[G+1]);)G++;if(L<(P?3:2))return;"bevel"===f&&(S=1.05);const K=this.overscaling<=16?15*Ir/(512*this.overscaling):0,te=this.segments.prepareSegment(10*L,this.layoutVertexArray,this.indexArray);let le,ue,_e,Be,Ue;this.e1=this.e2=-1,P&&(le=t[L-2],Ue=t[G].sub(le)._unit()._perp());for(let at=G;at<L;at++){if(_e=at===L-1?P?t[G+1]:void 0:t[at+1],_e&&t[at].equals(_e))continue;Ue&&(Be=Ue),le&&(ue=le),le=t[at],Ue=_e?_e.sub(le)._unit()._perp():Be,Be=Be||Ue;let yt=Be.add(Ue);0===yt.x&&0===yt.y||yt._unit();const st=Be.x*Ue.x+Be.y*Ue.y,It=yt.x*Ue.x+yt.y*Ue.y,Ot=0!==It?1/It:1/0,Yt=2*Math.sqrt(2-2*It),Pi=It<Zh&&ue&&_e,ji=Be.x*Ue.y-Be.y*Ue.x>0;if(Pi&&at>G){const vi=le.dist(ue);if(vi>2*K){const ki=le.sub(le.sub(ue)._mult(K/vi)._round());this.updateDistance(ue,ki),this.addCurrentVertex(ki,Be,0,0,te),ue=ki}}const Ai=ue&&_e;let Ei=Ai?f:P?"butt":w;if(Ai&&"round"===Ei&&(Ot<T?Ei="miter":Ot<=2&&(Ei="fakeround")),"miter"===Ei&&Ot>S&&(Ei="bevel"),"bevel"===Ei&&(Ot>2&&(Ei="flipbevel"),Ot<S&&(Ei="miter")),ue&&this.updateDistance(ue,le),"miter"===Ei)yt._mult(Ot),this.addCurrentVertex(le,yt,0,0,te);else if("flipbevel"===Ei){if(Ot>100)yt=Ue.mult(-1);else{const vi=Ot*Be.add(Ue).mag()/Be.sub(Ue).mag();yt._perp()._mult(vi*(ji?-1:1))}this.addCurrentVertex(le,yt,0,0,te),this.addCurrentVertex(le,yt.mult(-1),0,0,te)}else if("bevel"===Ei||"fakeround"===Ei){const vi=-Math.sqrt(Ot*Ot-1),ki=ji?vi:0,Di=ji?0:vi;if(ue&&this.addCurrentVertex(le,Be,ki,Di,te),"fakeround"===Ei){const si=Math.round(180*Yt/Math.PI/20);for(let Qi=1;Qi<si;Qi++){let Hi=Qi/si;if(.5!==Hi){const br=Hi-.5;Hi+=Hi*br*(Hi-1)*((1.0904+st*(st*(3.55645-1.43519*st)-3.2452))*br*br+(.848013+st*(.215638*st-1.06021)))}const Fn=Ue.sub(Be)._mult(Hi)._add(Be)._unit()._mult(ji?-1:1);this.addHalfVertex(le,Fn.x,Fn.y,!1,ji,0,te)}}_e&&this.addCurrentVertex(le,Ue,-ki,-Di,te)}else if("butt"===Ei)this.addCurrentVertex(le,yt,0,0,te);else if("square"===Ei){const vi=ue?1:-1;this.addCurrentVertex(le,yt,vi,vi,te)}else"round"===Ei&&(ue&&(this.addCurrentVertex(le,Be,0,0,te),this.addCurrentVertex(le,Be,1,1,te,!0)),_e&&(this.addCurrentVertex(le,Ue,-1,-1,te,!0),this.addCurrentVertex(le,Ue,0,0,te)));if(Pi&&at<L-1){const vi=le.dist(_e);if(vi>2*K){const ki=le.add(_e.sub(le)._mult(K/vi)._round());this.updateDistance(le,ki),this.addCurrentVertex(ki,Ue,0,0,te),le=ki}}}}addCurrentVertex(t,a,f,w,S,T=!1){const P=a.y*w-a.x,L=-a.y-a.x*w;this.addHalfVertex(t,a.x+a.y*f,a.y-a.x*f,T,!1,f,S),this.addHalfVertex(t,P,L,T,!0,-w,S),this.distance>Wh/2&&0===this.totalDistance&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(t,a,f,w,S,T))}addHalfVertex({x:t,y:a},f,w,S,T,P,L){const G=.5*(this.lineClips?this.scaledDistance*(Wh-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((t<<1)+(S?1:0),(a<<1)+(T?1:0),Math.round(63*f)+128,Math.round(63*w)+128,1+(0===P?0:P<0?-1:1)|(63&G)<<2,G>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const K=L.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,K),L.primitiveLength++),T?this.e2=K:this.e1=K}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(t,a){this.distance+=t.dist(a),this.updateScaledDistance()}}let Ls,gd;Ci("LineBucket",eu,{omit:["layers","patternFeatures"]});var qh={get paint(){return gd=gd||new Bo({"line-opacity":new Ki(De.paint_line["line-opacity"]),"line-color":new Ki(De.paint_line["line-color"]),"line-translate":new ui(De.paint_line["line-translate"]),"line-translate-anchor":new ui(De.paint_line["line-translate-anchor"]),"line-width":new Ki(De.paint_line["line-width"]),"line-gap-width":new Ki(De.paint_line["line-gap-width"]),"line-offset":new Ki(De.paint_line["line-offset"]),"line-blur":new Ki(De.paint_line["line-blur"]),"line-dasharray":new yo(De.paint_line["line-dasharray"]),"line-pattern":new ws(De.paint_line["line-pattern"]),"line-gradient":new al(De.paint_line["line-gradient"])})},get layout(){return Ls=Ls||new Bo({"line-cap":new ui(De.layout_line["line-cap"]),"line-join":new Ki(De.layout_line["line-join"]),"line-miter-limit":new ui(De.layout_line["line-miter-limit"]),"line-round-limit":new ui(De.layout_line["line-round-limit"]),"line-sort-key":new Ki(De.layout_line["line-sort-key"])})}};class hp extends Ki{possiblyEvaluate(t,a){return a=new Xn(Math.floor(a.zoom),{now:a.now,fadeDuration:a.fadeDuration,zoomHistory:a.zoomHistory,transition:a.transition}),super.possiblyEvaluate(t,a)}evaluate(t,a,f,w){return a=bt({},a,{zoom:Math.floor(a.zoom)}),super.evaluate(t,a,f,w)}}let qu;function hc(o,t){return t>0?t+2*o:o}const Yu=io([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),mp=io([{name:"a_projected_pos",components:3,type:"Float32"}],4);io([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const jf=io([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);io([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Yh=io([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),_d=io([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function tu(o,t,a){return o.sections.forEach(f=>{f.text=function(w,S,T){const P=S.layout.get("text-transform").evaluate(T,{});return"uppercase"===P?w=w.toLocaleUpperCase():"lowercase"===P&&(w=w.toLocaleLowerCase()),fo.applyArabicShaping&&(w=fo.applyArabicShaping(w)),w}(f.text,t,a)}),o}io([{name:"triangle",components:3,type:"Uint16"}]),io([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),io([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),io([{type:"Float32",name:"offsetX"}]),io([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);const Nc={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"};var Ro=24,pp=cr,yd=function(o,t,a,f,w){var S,T,P=8*w-f-1,L=(1<<P)-1,G=L>>1,K=-7,te=a?w-1:0,le=a?-1:1,ue=o[t+te];for(te+=le,S=ue&(1<<-K)-1,ue>>=-K,K+=P;K>0;S=256*S+o[t+te],te+=le,K-=8);for(T=S&(1<<-K)-1,S>>=-K,K+=f;K>0;T=256*T+o[t+te],te+=le,K-=8);if(0===S)S=1-G;else{if(S===L)return T?NaN:1/0*(ue?-1:1);T+=Math.pow(2,f),S-=G}return(ue?-1:1)*T*Math.pow(2,S-f)},fp=function(o,t,a,f,w,S){var T,P,L,G=8*S-w-1,K=(1<<G)-1,te=K>>1,le=23===w?Math.pow(2,-24)-Math.pow(2,-77):0,ue=f?0:S-1,_e=f?1:-1,Be=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(P=isNaN(t)?1:0,T=K):(T=Math.floor(Math.log(t)/Math.LN2),t*(L=Math.pow(2,-T))<1&&(T--,L*=2),(t+=T+te>=1?le/L:le*Math.pow(2,1-te))*L>=2&&(T++,L/=2),T+te>=K?(P=0,T=K):T+te>=1?(P=(t*L-1)*Math.pow(2,w),T+=te):(P=t*Math.pow(2,te-1)*Math.pow(2,w),T=0));w>=8;o[a+ue]=255&P,ue+=_e,P/=256,w-=8);for(T=T<<w|P,G+=w;G>0;o[a+ue]=255&T,ue+=_e,T/=256,G-=8);o[a+ue-_e]|=128*Be};function cr(o){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(o)?o:new Uint8Array(o||0),this.pos=0,this.type=0,this.length=this.buf.length}cr.Varint=0,cr.Fixed64=1,cr.Bytes=2,cr.Fixed32=5;var Ku=4294967296,Kh=1/Ku,Xh=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function ba(o){return o.type===cr.Bytes?o.readVarint()+o.pos:o.pos+1}function Jh(o,t,a){var f=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));a.realloc(f);for(var w=a.pos-1;w>=o;w--)a.buf[w+f]=a.buf[w]}function Qh(o,t){for(var a=0;a<o.length;a++)t.writeVarint(o[a])}function Xu(o,t){for(var a=0;a<o.length;a++)t.writeSVarint(o[a])}function gp(o,t){for(var a=0;a<o.length;a++)t.writeFloat(o[a])}function Hf(o,t){for(var a=0;a<o.length;a++)t.writeDouble(o[a])}function Ju(o,t){for(var a=0;a<o.length;a++)t.writeBoolean(o[a])}function $f(o,t){for(var a=0;a<o.length;a++)t.writeFixed32(o[a])}function Gf(o,t){for(var a=0;a<o.length;a++)t.writeSFixed32(o[a])}function Zf(o,t){for(var a=0;a<o.length;a++)t.writeFixed64(o[a])}function _p(o,t){for(var a=0;a<o.length;a++)t.writeSFixed64(o[a])}function vd(o,t){return(o[t]|o[t+1]<<8|o[t+2]<<16)+16777216*o[t+3]}function zc(o,t,a){o[a]=t,o[a+1]=t>>>8,o[a+2]=t>>>16,o[a+3]=t>>>24}function Qu(o,t){return(o[t]|o[t+1]<<8|o[t+2]<<16)+(o[t+3]<<24)}cr.prototype={destroy:function(){this.buf=null},readFields:function(o,t,a){for(a=a||this.length;this.pos<a;){var f=this.readVarint(),w=f>>3,S=this.pos;this.type=7&f,o(w,t,this),this.pos===S&&this.skip(f)}return t},readMessage:function(o,t){return this.readFields(o,t,this.readVarint()+this.pos)},readFixed32:function(){var o=vd(this.buf,this.pos);return this.pos+=4,o},readSFixed32:function(){var o=Qu(this.buf,this.pos);return this.pos+=4,o},readFixed64:function(){var o=vd(this.buf,this.pos)+vd(this.buf,this.pos+4)*Ku;return this.pos+=8,o},readSFixed64:function(){var o=vd(this.buf,this.pos)+Qu(this.buf,this.pos+4)*Ku;return this.pos+=8,o},readFloat:function(){var o=yd(this.buf,this.pos,!0,23,4);return this.pos+=4,o},readDouble:function(){var o=yd(this.buf,this.pos,!0,52,8);return this.pos+=8,o},readVarint:function(o){var t,a,f=this.buf;return t=127&(a=f[this.pos++]),a<128?t:(t|=(127&(a=f[this.pos++]))<<7,a<128?t:(t|=(127&(a=f[this.pos++]))<<14,a<128?t:(t|=(127&(a=f[this.pos++]))<<21,a<128?t:function(w,S,T){var P,L,G=T.buf;if(P=(112&(L=G[T.pos++]))>>4,L<128||(P|=(127&(L=G[T.pos++]))<<3,L<128)||(P|=(127&(L=G[T.pos++]))<<10,L<128)||(P|=(127&(L=G[T.pos++]))<<17,L<128)||(P|=(127&(L=G[T.pos++]))<<24,L<128)||(P|=(1&(L=G[T.pos++]))<<31,L<128))return function ql(o,t,a){return a?4294967296*t+(o>>>0):4294967296*(t>>>0)+(o>>>0)}(w,P,S);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(a=f[this.pos]))<<28,o,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var o=this.readVarint();return o%2==1?(o+1)/-2:o/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var o=this.readVarint()+this.pos,t=this.pos;return this.pos=o,o-t>=12&&Xh?Xh.decode(this.buf.subarray(t,o)):function(a,f,w){for(var S="",T=f;T<w;){var P,L,G,K=a[T],te=null,le=K>239?4:K>223?3:K>191?2:1;if(T+le>w)break;1===le?K<128&&(te=K):2===le?128==(192&(P=a[T+1]))&&(te=(31&K)<<6|63&P)<=127&&(te=null):3===le?(L=a[T+2],128==(192&(P=a[T+1]))&&128==(192&L)&&((te=(15&K)<<12|(63&P)<<6|63&L)<=2047||te>=55296&&te<=57343)&&(te=null)):4===le&&(L=a[T+2],G=a[T+3],128==(192&(P=a[T+1]))&&128==(192&L)&&128==(192&G)&&((te=(15&K)<<18|(63&P)<<12|(63&L)<<6|63&G)<=65535||te>=1114112)&&(te=null)),null===te?(te=65533,le=1):te>65535&&(te-=65536,S+=String.fromCharCode(te>>>10&1023|55296),te=56320|1023&te),S+=String.fromCharCode(te),T+=le}return S}(this.buf,t,o)},readBytes:function(){var o=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,o);return this.pos=o,t},readPackedVarint:function(o,t){if(this.type!==cr.Bytes)return o.push(this.readVarint(t));var a=ba(this);for(o=o||[];this.pos<a;)o.push(this.readVarint(t));return o},readPackedSVarint:function(o){if(this.type!==cr.Bytes)return o.push(this.readSVarint());var t=ba(this);for(o=o||[];this.pos<t;)o.push(this.readSVarint());return o},readPackedBoolean:function(o){if(this.type!==cr.Bytes)return o.push(this.readBoolean());var t=ba(this);for(o=o||[];this.pos<t;)o.push(this.readBoolean());return o},readPackedFloat:function(o){if(this.type!==cr.Bytes)return o.push(this.readFloat());var t=ba(this);for(o=o||[];this.pos<t;)o.push(this.readFloat());return o},readPackedDouble:function(o){if(this.type!==cr.Bytes)return o.push(this.readDouble());var t=ba(this);for(o=o||[];this.pos<t;)o.push(this.readDouble());return o},readPackedFixed32:function(o){if(this.type!==cr.Bytes)return o.push(this.readFixed32());var t=ba(this);for(o=o||[];this.pos<t;)o.push(this.readFixed32());return o},readPackedSFixed32:function(o){if(this.type!==cr.Bytes)return o.push(this.readSFixed32());var t=ba(this);for(o=o||[];this.pos<t;)o.push(this.readSFixed32());return o},readPackedFixed64:function(o){if(this.type!==cr.Bytes)return o.push(this.readFixed64());var t=ba(this);for(o=o||[];this.pos<t;)o.push(this.readFixed64());return o},readPackedSFixed64:function(o){if(this.type!==cr.Bytes)return o.push(this.readSFixed64());var t=ba(this);for(o=o||[];this.pos<t;)o.push(this.readSFixed64());return o},skip:function(o){var t=7&o;if(t===cr.Varint)for(;this.buf[this.pos++]>127;);else if(t===cr.Bytes)this.pos=this.readVarint()+this.pos;else if(t===cr.Fixed32)this.pos+=4;else{if(t!==cr.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(o,t){this.writeVarint(o<<3|t)},realloc:function(o){for(var t=this.length||16;t<this.pos+o;)t*=2;if(t!==this.length){var a=new Uint8Array(t);a.set(this.buf),this.buf=a,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(o){this.realloc(4),zc(this.buf,o,this.pos),this.pos+=4},writeSFixed32:function(o){this.realloc(4),zc(this.buf,o,this.pos),this.pos+=4},writeFixed64:function(o){this.realloc(8),zc(this.buf,-1&o,this.pos),zc(this.buf,Math.floor(o*Kh),this.pos+4),this.pos+=8},writeSFixed64:function(o){this.realloc(8),zc(this.buf,-1&o,this.pos),zc(this.buf,Math.floor(o*Kh),this.pos+4),this.pos+=8},writeVarint:function(o){(o=+o||0)>268435455||o<0?function(t,a){var f,w,S,P;if(t>=0?(f=t%4294967296|0,w=t/4294967296|0):(w=~(-t/4294967296),4294967295^(f=~(-t%4294967296))?f=f+1|0:(f=0,w=w+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");a.realloc(10),S=f,(P=a).buf[P.pos++]=127&S|128,S>>>=7,P.buf[P.pos++]=127&S|128,S>>>=7,P.buf[P.pos++]=127&S|128,S>>>=7,P.buf[P.pos++]=127&S|128,P.buf[P.pos]=127&(S>>>=7),function(S,T){var P=(7&S)<<4;T.buf[T.pos++]|=P|((S>>>=3)?128:0),S&&(T.buf[T.pos++]=127&S|((S>>>=7)?128:0),S&&(T.buf[T.pos++]=127&S|((S>>>=7)?128:0),S&&(T.buf[T.pos++]=127&S|((S>>>=7)?128:0),S&&(T.buf[T.pos++]=127&S|((S>>>=7)?128:0),S&&(T.buf[T.pos++]=127&S)))))}(w,a)}(o,this):(this.realloc(4),this.buf[this.pos++]=127&o|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=o>>>7&127))))},writeSVarint:function(o){this.writeVarint(o<0?2*-o-1:2*o)},writeBoolean:function(o){this.writeVarint(!!o)},writeString:function(o){o=String(o),this.realloc(4*o.length),this.pos++;var t=this.pos;this.pos=function(f,w,S){for(var T,P,L=0;L<w.length;L++){if((T=w.charCodeAt(L))>55295&&T<57344){if(!P){T>56319||L+1===w.length?(f[S++]=239,f[S++]=191,f[S++]=189):P=T;continue}if(T<56320){f[S++]=239,f[S++]=191,f[S++]=189,P=T;continue}T=P-55296<<10|T-56320|65536,P=null}else P&&(f[S++]=239,f[S++]=191,f[S++]=189,P=null);T<128?f[S++]=T:(T<2048?f[S++]=T>>6|192:(T<65536?f[S++]=T>>12|224:(f[S++]=T>>18|240,f[S++]=T>>12&63|128),f[S++]=T>>6&63|128),f[S++]=63&T|128)}return S}(this.buf,o,this.pos);var a=this.pos-t;a>=128&&Jh(t,a,this),this.pos=t-1,this.writeVarint(a),this.pos+=a},writeFloat:function(o){this.realloc(4),fp(this.buf,o,this.pos,!0,23,4),this.pos+=4},writeDouble:function(o){this.realloc(8),fp(this.buf,o,this.pos,!0,52,8),this.pos+=8},writeBytes:function(o){var t=o.length;this.writeVarint(t),this.realloc(t);for(var a=0;a<t;a++)this.buf[this.pos++]=o[a]},writeRawMessage:function(o,t){this.pos++;var a=this.pos;o(t,this);var f=this.pos-a;f>=128&&Jh(a,f,this),this.pos=a-1,this.writeVarint(f),this.pos+=f},writeMessage:function(o,t,a){this.writeTag(o,cr.Bytes),this.writeRawMessage(t,a)},writePackedVarint:function(o,t){t.length&&this.writeMessage(o,Qh,t)},writePackedSVarint:function(o,t){t.length&&this.writeMessage(o,Xu,t)},writePackedBoolean:function(o,t){t.length&&this.writeMessage(o,Ju,t)},writePackedFloat:function(o,t){t.length&&this.writeMessage(o,gp,t)},writePackedDouble:function(o,t){t.length&&this.writeMessage(o,Hf,t)},writePackedFixed32:function(o,t){t.length&&this.writeMessage(o,$f,t)},writePackedSFixed32:function(o,t){t.length&&this.writeMessage(o,Gf,t)},writePackedFixed64:function(o,t){t.length&&this.writeMessage(o,Zf,t)},writePackedSFixed64:function(o,t){t.length&&this.writeMessage(o,_p,t)},writeBytesField:function(o,t){this.writeTag(o,cr.Bytes),this.writeBytes(t)},writeFixed32Field:function(o,t){this.writeTag(o,cr.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(o,t){this.writeTag(o,cr.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(o,t){this.writeTag(o,cr.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(o,t){this.writeTag(o,cr.Fixed64),this.writeSFixed64(t)},writeVarintField:function(o,t){this.writeTag(o,cr.Varint),this.writeVarint(t)},writeSVarintField:function(o,t){this.writeTag(o,cr.Varint),this.writeSVarint(t)},writeStringField:function(o,t){this.writeTag(o,cr.Bytes),this.writeString(t)},writeFloatField:function(o,t){this.writeTag(o,cr.Fixed32),this.writeFloat(t)},writeDoubleField:function(o,t){this.writeTag(o,cr.Fixed64),this.writeDouble(t)},writeBooleanField:function(o,t){this.writeVarintField(o,!!t)}};var em=$e(pp);const tm=3;function im(o,t,a){1===o&&a.readMessage(yp,t)}function yp(o,t,a){if(3===o){const{id:f,bitmap:w,width:S,height:T,left:P,top:L,advance:G}=a.readMessage(Bc,{});t.push({id:f,bitmap:new Fu({width:S+2*tm,height:T+2*tm},w),metrics:{width:S,height:T,left:P,top:L,advance:G}})}}function Bc(o,t,a){1===o?t.id=a.readVarint():2===o?t.bitmap=a.readBytes():3===o?t.width=a.readVarint():4===o?t.height=a.readVarint():5===o?t.left=a.readSVarint():6===o?t.top=a.readSVarint():7===o&&(t.advance=a.readVarint())}const nm=tm;function rm(o){let t=0,a=0;for(const T of o)t+=T.w*T.h,a=Math.max(a,T.w);o.sort((T,P)=>P.h-T.h);const f=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),a),h:1/0}];let w=0,S=0;for(const T of o)for(let P=f.length-1;P>=0;P--){const L=f[P];if(!(T.w>L.w||T.h>L.h)){if(T.x=L.x,T.y=L.y,S=Math.max(S,T.y+T.h),w=Math.max(w,T.x+T.w),T.w===L.w&&T.h===L.h){const G=f.pop();P<f.length&&(f[P]=G)}else T.h===L.h?(L.x+=T.w,L.w-=T.w):T.w===L.w?(L.y+=T.h,L.h-=T.h):(f.push({x:L.x+T.w,y:L.y,w:L.w-T.w,h:T.h}),L.y+=T.h,L.h-=T.h);break}}return{w,h:S,fill:t/(w*S)||0}}const aa=1;class vp{constructor(t,{pixelRatio:a,version:f,stretchX:w,stretchY:S,content:T}){this.paddedRect=t,this.pixelRatio=a,this.stretchX=w,this.stretchY=S,this.content=T,this.version=f}get tl(){return[this.paddedRect.x+aa,this.paddedRect.y+aa]}get br(){return[this.paddedRect.x+this.paddedRect.w-aa,this.paddedRect.y+this.paddedRect.h-aa]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*aa)/this.pixelRatio,(this.paddedRect.h-2*aa)/this.pixelRatio]}}class iu{constructor(t,a){const f={},w={};this.haveRenderCallbacks=[];const S=[];this.addImages(t,f,S),this.addImages(a,w,S);const{w:T,h:P}=rm(S),L=new ro({width:T||1,height:P||1});for(const G in t){const K=t[G],te=f[G].paddedRect;ro.copy(K.data,L,{x:0,y:0},{x:te.x+aa,y:te.y+aa},K.data)}for(const G in a){const K=a[G],te=w[G].paddedRect,le=te.x+aa,ue=te.y+aa,_e=K.data.width,Be=K.data.height;ro.copy(K.data,L,{x:0,y:0},{x:le,y:ue},K.data),ro.copy(K.data,L,{x:0,y:Be-1},{x:le,y:ue-1},{width:_e,height:1}),ro.copy(K.data,L,{x:0,y:0},{x:le,y:ue+Be},{width:_e,height:1}),ro.copy(K.data,L,{x:_e-1,y:0},{x:le-1,y:ue},{width:1,height:Be}),ro.copy(K.data,L,{x:0,y:0},{x:le+_e,y:ue},{width:1,height:Be})}this.image=L,this.iconPositions=f,this.patternPositions=w}addImages(t,a,f){for(const w in t){const S=t[w],T={x:0,y:0,w:S.data.width+2*aa,h:S.data.height+2*aa};f.push(T),a[w]=new vp(T,S),S.hasRenderCallback&&this.haveRenderCallbacks.push(w)}}patchUpdatedImages(t,a){t.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const f in t.updatedImages)this.patchUpdatedImage(this.iconPositions[f],t.getImage(f),a),this.patchUpdatedImage(this.patternPositions[f],t.getImage(f),a)}patchUpdatedImage(t,a,f){if(!t||!a||t.version===a.version)return;t.version=a.version;const[w,S]=t.tl;f.update(a.data,void 0,{x:w,y:S})}}var Yl;Ci("ImagePosition",vp),Ci("ImageAtlas",iu),v.WritingMode=void 0,(Yl=v.WritingMode||(v.WritingMode={}))[Yl.none=0]="none",Yl[Yl.horizontal=1]="horizontal",Yl[Yl.vertical=2]="vertical",Yl[Yl.horizontalOnly=3]="horizontalOnly";const mc=-17;class bd{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(t,a){const f=new bd;return f.scale=t||1,f.fontStack=a,f}static forImage(t){const a=new bd;return a.imageName=t,a}}class Vc{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(t,a){const f=new Vc;for(let w=0;w<t.sections.length;w++){const S=t.sections[w];S.image?f.addImageSection(S):f.addTextSection(S,a)}return f}length(){return this.text.length}getSection(t){return this.sections[this.sectionIndex[t]]}getSectionIndex(t){return this.sectionIndex[t]}getCharCode(t){return this.text.charCodeAt(t)}verticalizePunctuation(){this.text=function(t){let a="";for(let f=0;f<t.length;f++){const w=t.charCodeAt(f+1)||null,S=t.charCodeAt(f-1)||null;a+=w&&Pt(w)&&!Nc[t[f+1]]||S&&Pt(S)&&!Nc[t[f-1]]||!Nc[t[f]]?t[f]:Nc[t[f]]}return a}(this.text)}trim(){let t=0;for(let f=0;f<this.text.length&&wd[this.text.charCodeAt(f)];f++)t++;let a=this.text.length;for(let f=this.text.length-1;f>=0&&f>=t&&wd[this.text.charCodeAt(f)];f--)a--;this.text=this.text.substring(t,a),this.sectionIndex=this.sectionIndex.slice(t,a)}substring(t,a){const f=new Vc;return f.text=this.text.substring(t,a),f.sectionIndex=this.sectionIndex.slice(t,a),f.sections=this.sections,f}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((t,a)=>Math.max(t,this.sections[a].scale),0)}addTextSection(t,a){this.text+=t.text,this.sections.push(bd.forText(t.scale,t.fontStack||a));const f=this.sections.length-1;for(let w=0;w<t.text.length;++w)this.sectionIndex.push(f)}addImageSection(t){const a=t.image?t.image.name:"";if(0===a.length)return void Oe("Can't add FormattedSection with an empty image.");const f=this.getNextImageSectionCharCode();f?(this.text+=String.fromCharCode(f),this.sections.push(bd.forImage(a)),this.sectionIndex.push(this.sections.length-1)):Oe("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function xd(o,t,a,f,w,S,T,P,L,G,K,te,le,ue,_e,Be){const Ue=Vc.fromFeature(o,w);let at;te===v.WritingMode.vertical&&Ue.verticalizePunctuation();const{processBidirectionalText:yt,processStyledBidirectionalText:st}=fo;if(yt&&1===Ue.sections.length){at=[];const Yt=yt(Ue.toString(),ru(Ue,G,S,t,f,ue,_e));for(const Pi of Yt){const ji=new Vc;ji.text=Pi,ji.sections=Ue.sections;for(let Ai=0;Ai<Pi.length;Ai++)ji.sectionIndex.push(0);at.push(ji)}}else if(st){at=[];const Yt=st(Ue.text,Ue.sectionIndex,ru(Ue,G,S,t,f,ue,_e));for(const Pi of Yt){const ji=new Vc;ji.text=Pi[0],ji.sectionIndex=Pi[1],ji.sections=Ue.sections,at.push(ji)}}else at=function(Yt,Pi){const ji=[],Ai=Yt.text;let Ei=0;for(const vi of Pi)ji.push(Yt.substring(Ei,vi)),Ei=vi;return Ei<Ai.length&&ji.push(Yt.substring(Ei,Ai.length)),ji}(Ue,ru(Ue,G,S,t,f,ue,_e));const It=[],Ot={positionedLines:It,text:Ue.toString(),top:K[1],bottom:K[1],left:K[0],right:K[0],writingMode:te,iconsInText:!1,verticalizable:!1};return function(Yt,Pi,ji,Ai,Ei,vi,ki,Di,si,Qi,Hi,Fn){let br=0,Ar=mc,bo=0,Ns=0;const Ho="right"===Di?1:"left"===Di?0:.5;let Kr=0;for(const oo of Ei){oo.trim();const is=oo.getMaxScale(),hs=(is-1)*Ro,zs={positionedGlyphs:[],lineOffset:0};Yt.positionedLines[Kr]=zs;const ca=zs.positionedGlyphs;let qs=0;if(!oo.length()){Ar+=vi,++Kr;continue}for(let Ms=0;Ms<oo.length();Ms++){const Hn=oo.getSection(Ms),Fa=oo.getSectionIndex(Ms),Ds=oo.getCharCode(Ms);let ns=0,wa=null,ml=null,La=null,pl=Ro;const da=!(si===v.WritingMode.horizontal||!Hi&&!qe(Ds)||Hi&&(wd[Ds]||(xo=Ds,N.Arabic(xo)||N["Arabic Supplement"](xo)||N["Arabic Extended-A"](xo)||N["Arabic Presentation Forms-A"](xo)||N["Arabic Presentation Forms-B"](xo))));if(Hn.imageName){const Na=Ai[Hn.imageName];if(!Na)continue;La=Hn.imageName,Yt.iconsInText=Yt.iconsInText||!0,ml=Na.paddedRect;const Ys=Na.displaySize;Hn.scale=Hn.scale*Ro/Fn,wa={width:Ys[0],height:Ys[1],left:aa,top:-nm,advance:da?Ys[1]:Ys[0]},ns=hs+(Ro-Ys[1]*Hn.scale),pl=wa.advance;const Xl=da?Ys[0]*Hn.scale-Ro*is:Ys[1]*Hn.scale-Ro*is;Xl>0&&Xl>qs&&(qs=Xl)}else{const Na=ji[Hn.fontStack],Ys=Na&&Na[Ds];if(Ys&&Ys.rect)ml=Ys.rect,wa=Ys.metrics;else{const Xl=Pi[Hn.fontStack],Ld=Xl&&Xl[Ds];if(!Ld)continue;wa=Ld.metrics}ns=(is-Hn.scale)*Ro}da?(Yt.verticalizable=!0,ca.push({glyph:Ds,imageName:La,x:br,y:Ar+ns,vertical:da,scale:Hn.scale,fontStack:Hn.fontStack,sectionIndex:Fa,metrics:wa,rect:ml}),br+=pl*Hn.scale+Qi):(ca.push({glyph:Ds,imageName:La,x:br,y:Ar+ns,vertical:da,scale:Hn.scale,fontStack:Hn.fontStack,sectionIndex:Fa,metrics:wa,rect:ml}),br+=wa.advance*Hn.scale+Qi)}0!==ca.length&&(bo=Math.max(br-Qi,bo),bp(ca,0,ca.length-1,Ho,qs)),br=0;const so=vi*is+qs;zs.lineOffset=Math.max(qs,hs),Ar+=so,Ns=Math.max(so,Ns),++Kr}var xo;const es=Ar-mc,{horizontalAlign:ts,verticalAlign:la}=jc(ki);(function(oo,is,hs,zs,ca,qs,so,Ms,Hn){const Fa=(is-hs)*ca;let Ds=0;Ds=qs!==so?-Ms*zs-mc:(-zs*Hn+.5)*so;for(const ns of oo)for(const wa of ns.positionedGlyphs)wa.x+=Fa,wa.y+=Ds})(Yt.positionedLines,Ho,ts,la,bo,Ns,vi,es,Ei.length),Yt.top+=-la*es,Yt.bottom=Yt.top+es,Yt.left+=-ts*bo,Yt.right=Yt.left+bo}(Ot,t,a,f,at,T,P,L,te,G,le,Be),!function(Yt){for(const Pi of Yt)if(0!==Pi.positionedGlyphs.length)return!1;return!0}(It)&&Ot}const wd={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},eh={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Uc(o,t,a,f,w,S){if(t.imageName){const T=f[t.imageName];return T?T.displaySize[0]*t.scale*Ro/S+w:0}{const T=a[t.fontStack],P=T&&T[o];return P?P.metrics.advance*t.scale+w:0}}function om(o,t,a,f){const w=Math.pow(o-t,2);return f?o<t?w/2:2*w:w+Math.abs(a)*a}function sm(o,t,a){let f=0;return 10===o&&(f-=1e4),a&&(f+=150),40!==o&&65288!==o||(f+=50),41!==t&&65289!==t||(f+=50),f}function nu(o,t,a,f,w,S){let T=null,P=om(t,a,w,S);for(const L of f){const G=om(t-L.x,a,w,S)+L.badness;G<=P&&(T=L,P=G)}return{index:o,x:t,priorBreak:T,badness:P}}function th(o){return o?th(o.priorBreak).concat(o.index):[]}function ru(o,t,a,f,w,S,T){if("point"!==S)return[];if(!o)return[];const P=[],L=function(le,ue,_e,Be,Ue,at){let yt=0;for(let st=0;st<le.length();st++){const It=le.getSection(st);yt+=Uc(le.getCharCode(st),It,Be,Ue,ue,at)}return yt/Math.max(1,Math.ceil(yt/_e))}(o,t,a,f,w,T),G=o.text.indexOf("\u200b")>=0;let K=0;for(let le=0;le<o.length();le++){const ue=o.getSection(le),_e=o.getCharCode(le);if(wd[_e]||(K+=Uc(_e,ue,f,w,t,T)),le<o.length()-1){const Be=!((te=_e)<11904||!(N["Bopomofo Extended"](te)||N.Bopomofo(te)||N["CJK Compatibility Forms"](te)||N["CJK Compatibility Ideographs"](te)||N["CJK Compatibility"](te)||N["CJK Radicals Supplement"](te)||N["CJK Strokes"](te)||N["CJK Symbols and Punctuation"](te)||N["CJK Unified Ideographs Extension A"](te)||N["CJK Unified Ideographs"](te)||N["Enclosed CJK Letters and Months"](te)||N["Halfwidth and Fullwidth Forms"](te)||N.Hiragana(te)||N["Ideographic Description Characters"](te)||N["Kangxi Radicals"](te)||N["Katakana Phonetic Extensions"](te)||N.Katakana(te)||N["Vertical Forms"](te)||N["Yi Radicals"](te)||N["Yi Syllables"](te)));(eh[_e]||Be||ue.imageName)&&P.push(nu(le+1,K,L,P,sm(_e,o.getCharCode(le+1),Be&&G),!1))}}var te;return th(nu(o.length(),K,L,P,0,!0))}function jc(o){let t=.5,a=.5;switch(o){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(o){case"bottom":case"bottom-right":case"bottom-left":a=1;break;case"top":case"top-right":case"top-left":a=0}return{horizontalAlign:t,verticalAlign:a}}function bp(o,t,a,f,w){if(!f&&!w)return;const S=o[a],T=(o[a].x+S.metrics.advance*S.scale)*f;for(let P=t;P<=a;P++)o[P].x-=T,o[P].y+=w}function xp(o,t,a){const{horizontalAlign:f,verticalAlign:w}=jc(a),S=t[0]-o.displaySize[0]*f,T=t[1]-o.displaySize[1]*w;return{image:o,top:T,bottom:T+o.displaySize[1],left:S,right:S+o.displaySize[0]}}function ih(o,t,a,f,w,S){const T=o.image;let P;if(T.content){const Ue=T.content,at=T.pixelRatio||1;P=[Ue[0]/at,Ue[1]/at,T.displaySize[0]-Ue[2]/at,T.displaySize[1]-Ue[3]/at]}const L=t.left*S,G=t.right*S;let K,te,le,ue;"width"===a||"both"===a?(ue=w[0]+L-f[3],te=w[0]+G+f[1]):(ue=w[0]+(L+G-T.displaySize[0])/2,te=ue+T.displaySize[0]);const _e=t.top*S,Be=t.bottom*S;return"height"===a||"both"===a?(K=w[1]+_e-f[0],le=w[1]+Be+f[2]):(K=w[1]+(_e+Be-T.displaySize[1])/2,le=K+T.displaySize[1]),{image:T,top:K,right:te,bottom:le,left:ue,collisionPadding:P}}const ou=255,Ja=128,Kl=ou*Ja;function am(o,t){const{expression:a}=t;if("constant"===a.kind)return{kind:"constant",layoutSize:a.evaluate(new Xn(o+1))};if("source"===a.kind)return{kind:"source"};{const{zoomStops:f,interpolationType:w}=a;let S=0;for(;S<f.length&&f[S]<=o;)S++;S=Math.max(0,S-1);let T=S;for(;T<f.length&&f[T]<o+1;)T++;T=Math.min(f.length-1,T);const P=f[S],L=f[T];return"composite"===a.kind?{kind:"composite",minZoom:P,maxZoom:L,interpolationType:w}:{kind:"camera",minZoom:P,maxZoom:L,minSize:a.evaluate(new Xn(P)),maxSize:a.evaluate(new Xn(L)),interpolationType:w}}}function Cd(o,t,a){let f="never";const w=o.get(t);return w?f=w:o.get(a)&&(f="always"),f}const lm=dl.VectorTileFeature.types,Ed=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function nh(o,t,a,f,w,S,T,P,L,G,K,te,le){const ue=P?Math.min(Kl,Math.round(P[0])):0,_e=P?Math.min(Kl,Math.round(P[1])):0;o.emplaceBack(t,a,Math.round(32*f),Math.round(32*w),S,T,(ue<<1)+(L?1:0),_e,16*G,16*K,256*te,256*le)}function su(o,t,a){o.emplaceBack(t.x,t.y,a),o.emplaceBack(t.x,t.y,a),o.emplaceBack(t.x,t.y,a),o.emplaceBack(t.x,t.y,a)}function A_(o){for(const t of o.sections)if(nr(t.text))return!0;return!1}class au{constructor(t){this.layoutVertexArray=new Ct,this.indexArray=new ci,this.programConfigurations=t,this.segments=new bi,this.dynamicLayoutVertexArray=new Lt,this.opacityVertexArray=new Wt,this.hasVisibleVertices=!1,this.placedSymbolArray=new b}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(t,a,f,w){this.isEmpty()||(f&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Yu.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,a),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,mp.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,Ed,!0),this.opacityVertexBuffer.itemSize=1),(f||w)&&this.programConfigurations.upload(t))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Ci("SymbolBuffers",au);class lu{constructor(t,a,f){this.layoutVertexArray=new t,this.layoutAttributes=a,this.indexArray=new f,this.segments=new bi,this.collisionVertexArray=new fi}upload(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,jf.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Ci("CollisionBuffers",lu);class pc{constructor(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(T=>T.id),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=no([]),this.placementViewportMatrix=no([]);const a=this.layers[0]._unevaluatedLayout._values;this.textSizeData=am(this.zoom,a["text-size"]),this.iconSizeData=am(this.zoom,a["icon-size"]);const f=this.layers[0].layout,w=f.get("symbol-sort-key"),S=f.get("symbol-z-order");this.canOverlap="never"!==Cd(f,"text-overlap","text-allow-overlap")||"never"!==Cd(f,"icon-overlap","icon-allow-overlap")||f.get("text-ignore-placement")||f.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==S&&!w.isConstant(),this.sortFeaturesByY=("viewport-y"===S||"auto"===S&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===f.get("symbol-placement")&&(this.writingModes=f.get("text-writing-mode").map(T=>v.WritingMode[T])),this.stateDependentLayerIds=this.layers.filter(T=>T.isStateDependent()).map(T=>T.id),this.sourceID=t.sourceID}createArrays(){this.text=new au(new ya(this.layers,this.zoom,t=>/^text/.test(t))),this.icon=new au(new ya(this.layers,this.zoom,t=>/^icon/.test(t))),this.glyphOffsetArray=new I,this.lineVertexArray=new O,this.symbolInstances=new E}calculateGlyphDependencies(t,a,f,w,S){for(let T=0;T<t.length;T++)if(a[t.charCodeAt(T)]=!0,(f||w)&&S){const P=Nc[t.charAt(T)];P&&(a[P.charCodeAt(0)]=!0)}}populate(t,a,f){const w=this.layers[0],S=w.layout,T=S.get("text-font"),P=S.get("text-field"),L=S.get("icon-image"),G=("constant"!==P.value.kind||P.value.value instanceof Ni&&!P.value.value.isEmpty()||P.value.value.toString().length>0)&&("constant"!==T.value.kind||T.value.value.length>0),K="constant"!==L.value.kind||!!L.value.value||Object.keys(L.parameters).length>0,te=S.get("symbol-sort-key");if(this.features=[],!G&&!K)return;const le=a.iconDependencies,ue=a.glyphDependencies,_e=a.availableImages,Be=new Xn(this.zoom);for(const{feature:Ue,id:at,index:yt,sourceLayerIndex:st}of t){const It=w._featureFilter.needGeometry,Ot=cc(Ue,It);if(!w._featureFilter.filter(Be,Ot,f))continue;let Yt,Pi;if(It||(Ot.geometry=ll(Ue)),G){const Ai=w.getValueAndResolveTokens("text-field",Ot,f,_e),Ei=Ni.factory(Ai);A_(Ei)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===xs()||this.hasRTLText&&fo.isParsed())&&(Yt=tu(Ei,w,Ot))}if(K){const Ai=w.getValueAndResolveTokens("icon-image",Ot,f,_e);Pi=Ai instanceof fr?Ai:fr.fromString(Ai)}if(!Yt&&!Pi)continue;const ji=this.sortFeaturesByKey?te.evaluate(Ot,{},f):void 0;if(this.features.push({id:at,text:Yt,icon:Pi,index:yt,sourceLayerIndex:st,geometry:Ot.geometry,properties:Ue.properties,type:lm[Ue.type],sortKey:ji}),Pi&&(le[Pi.name]=!0),Yt){const Ai=T.evaluate(Ot,{},f).join(","),Ei="viewport"!==S.get("text-rotation-alignment")&&"point"!==S.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(v.WritingMode.vertical)>=0;for(const vi of Yt.sections)if(vi.image)le[vi.image.name]=!0;else{const ki=Q(Yt.toString()),Di=vi.fontStack||Ai,si=ue[Di]=ue[Di]||{};this.calculateGlyphDependencies(vi.text,si,Ei,this.allowVerticalPlacement,ki)}}}"line"===S.get("symbol-placement")&&(this.features=function(Ue){const at={},yt={},st=[];let It=0;function Ot(Ai){st.push(Ue[Ai]),It++}function Yt(Ai,Ei,vi){const ki=yt[Ai];return delete yt[Ai],yt[Ei]=ki,st[ki].geometry[0].pop(),st[ki].geometry[0]=st[ki].geometry[0].concat(vi[0]),ki}function Pi(Ai,Ei,vi){const ki=at[Ei];return delete at[Ei],at[Ai]=ki,st[ki].geometry[0].shift(),st[ki].geometry[0]=vi[0].concat(st[ki].geometry[0]),ki}function ji(Ai,Ei,vi){const ki=vi?Ei[0][Ei[0].length-1]:Ei[0][0];return`${Ai}:${ki.x}:${ki.y}`}for(let Ai=0;Ai<Ue.length;Ai++){const Ei=Ue[Ai],vi=Ei.geometry,ki=Ei.text?Ei.text.toString():null;if(!ki){Ot(Ai);continue}const Di=ji(ki,vi),si=ji(ki,vi,!0);if(Di in yt&&si in at&&yt[Di]!==at[si]){const Qi=Pi(Di,si,vi),Hi=Yt(Di,si,st[Qi].geometry);delete at[Di],delete yt[si],yt[ji(ki,st[Hi].geometry,!0)]=Hi,st[Qi].geometry=null}else Di in yt?Yt(Di,si,vi):si in at?Pi(Di,si,vi):(Ot(Ai),at[Di]=It-1,yt[si]=It-1)}return st.filter(Ai=>Ai.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Ue,at)=>Ue.sortKey-at.sortKey)}update(t,a,f){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,a,this.layers,f),this.icon.programConfigurations.updatePaintArrays(t,a,this.layers,f))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(t,a){const f=this.lineVertexArray.length;if(void 0!==t.segment){let w=t.dist(a[t.segment+1]),S=t.dist(a[t.segment]);const T={};for(let P=t.segment+1;P<a.length;P++)T[P]={x:a[P].x,y:a[P].y,tileUnitDistanceFromAnchor:w},P<a.length-1&&(w+=a[P+1].dist(a[P]));for(let P=t.segment||0;P>=0;P--)T[P]={x:a[P].x,y:a[P].y,tileUnitDistanceFromAnchor:S},P>0&&(S+=a[P-1].dist(a[P]));for(let P=0;P<a.length;P++){const L=T[P];this.lineVertexArray.emplaceBack(L.x,L.y,L.tileUnitDistanceFromAnchor)}}return{lineStartIndex:f,lineLength:this.lineVertexArray.length-f}}addSymbols(t,a,f,w,S,T,P,L,G,K,te,le){const ue=t.indexArray,_e=t.layoutVertexArray,Be=t.segments.prepareSegment(4*a.length,_e,ue,this.canOverlap?T.sortKey:void 0),Ue=this.glyphOffsetArray.length,at=Be.vertexLength,yt=this.allowVerticalPlacement&&P===v.WritingMode.vertical?Math.PI/2:0,st=T.text&&T.text.sections;for(let It=0;It<a.length;It++){const{tl:Ot,tr:Yt,bl:Pi,br:ji,tex:Ai,pixelOffsetTL:Ei,pixelOffsetBR:vi,minFontScaleX:ki,minFontScaleY:Di,glyphOffset:si,isSDF:Qi,sectionIndex:Hi}=a[It],Fn=Be.vertexLength,br=si[1];nh(_e,L.x,L.y,Ot.x,br+Ot.y,Ai.x,Ai.y,f,Qi,Ei.x,Ei.y,ki,Di),nh(_e,L.x,L.y,Yt.x,br+Yt.y,Ai.x+Ai.w,Ai.y,f,Qi,vi.x,Ei.y,ki,Di),nh(_e,L.x,L.y,Pi.x,br+Pi.y,Ai.x,Ai.y+Ai.h,f,Qi,Ei.x,vi.y,ki,Di),nh(_e,L.x,L.y,ji.x,br+ji.y,Ai.x+Ai.w,Ai.y+Ai.h,f,Qi,vi.x,vi.y,ki,Di),su(t.dynamicLayoutVertexArray,L,yt),ue.emplaceBack(Fn,Fn+1,Fn+2),ue.emplaceBack(Fn+1,Fn+2,Fn+3),Be.vertexLength+=4,Be.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(si[0]),It!==a.length-1&&Hi===a[It+1].sectionIndex||t.programConfigurations.populatePaintArrays(_e.length,T,T.index,{},le,st&&st[Hi])}t.placedSymbolArray.emplaceBack(L.x,L.y,Ue,this.glyphOffsetArray.length-Ue,at,G,K,L.segment,f?f[0]:0,f?f[1]:0,w[0],w[1],P,0,!1,0,te)}_addCollisionDebugVertex(t,a,f,w,S,T){return a.emplaceBack(0,0),t.emplaceBack(f.x,f.y,w,S,Math.round(T.x),Math.round(T.y))}addCollisionDebugVertices(t,a,f,w,S,T,P){const L=S.segments.prepareSegment(4,S.layoutVertexArray,S.indexArray),G=L.vertexLength,K=S.layoutVertexArray,te=S.collisionVertexArray,le=P.anchorX,ue=P.anchorY;this._addCollisionDebugVertex(K,te,T,le,ue,new ke(t,a)),this._addCollisionDebugVertex(K,te,T,le,ue,new ke(f,a)),this._addCollisionDebugVertex(K,te,T,le,ue,new ke(f,w)),this._addCollisionDebugVertex(K,te,T,le,ue,new ke(t,w)),L.vertexLength+=4;const _e=S.indexArray;_e.emplaceBack(G,G+1),_e.emplaceBack(G+1,G+2),_e.emplaceBack(G+2,G+3),_e.emplaceBack(G+3,G),L.primitiveLength+=4}addDebugCollisionBoxes(t,a,f,w){for(let S=t;S<a;S++){const T=this.collisionBoxArray.get(S);this.addCollisionDebugVertices(T.x1,T.y1,T.x2,T.y2,w?this.textCollisionBox:this.iconCollisionBox,T.anchorPoint,f)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new lu(oi,Yh.members,Ii),this.iconCollisionBox=new lu(oi,Yh.members,Ii);for(let t=0;t<this.symbolInstances.length;t++){const a=this.symbolInstances.get(t);this.addDebugCollisionBoxes(a.textBoxStartIndex,a.textBoxEndIndex,a,!0),this.addDebugCollisionBoxes(a.verticalTextBoxStartIndex,a.verticalTextBoxEndIndex,a,!0),this.addDebugCollisionBoxes(a.iconBoxStartIndex,a.iconBoxEndIndex,a,!1),this.addDebugCollisionBoxes(a.verticalIconBoxStartIndex,a.verticalIconBoxEndIndex,a,!1)}}_deserializeCollisionBoxesForSymbol(t,a,f,w,S,T,P,L,G){const K={};for(let te=a;te<f;te++){const le=t.get(te);K.textBox={x1:le.x1,y1:le.y1,x2:le.x2,y2:le.y2,anchorPointX:le.anchorPointX,anchorPointY:le.anchorPointY},K.textFeatureIndex=le.featureIndex;break}for(let te=w;te<S;te++){const le=t.get(te);K.verticalTextBox={x1:le.x1,y1:le.y1,x2:le.x2,y2:le.y2,anchorPointX:le.anchorPointX,anchorPointY:le.anchorPointY},K.verticalTextFeatureIndex=le.featureIndex;break}for(let te=T;te<P;te++){const le=t.get(te);K.iconBox={x1:le.x1,y1:le.y1,x2:le.x2,y2:le.y2,anchorPointX:le.anchorPointX,anchorPointY:le.anchorPointY},K.iconFeatureIndex=le.featureIndex;break}for(let te=L;te<G;te++){const le=t.get(te);K.verticalIconBox={x1:le.x1,y1:le.y1,x2:le.x2,y2:le.y2,anchorPointX:le.anchorPointX,anchorPointY:le.anchorPointY},K.verticalIconFeatureIndex=le.featureIndex;break}return K}deserializeCollisionBoxes(t){this.collisionArrays=[];for(let a=0;a<this.symbolInstances.length;a++){const f=this.symbolInstances.get(a);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,f.textBoxStartIndex,f.textBoxEndIndex,f.verticalTextBoxStartIndex,f.verticalTextBoxEndIndex,f.iconBoxStartIndex,f.iconBoxEndIndex,f.verticalIconBoxStartIndex,f.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(t,a){const f=t.placedSymbolArray.get(a),w=f.vertexStartIndex+4*f.numGlyphs;for(let S=f.vertexStartIndex;S<w;S+=4)t.indexArray.emplaceBack(S,S+1,S+2),t.indexArray.emplaceBack(S+1,S+2,S+3)}getSortedSymbolIndexes(t){if(this.sortedAngle===t&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const a=Math.sin(t),f=Math.cos(t),w=[],S=[],T=[];for(let P=0;P<this.symbolInstances.length;++P){T.push(P);const L=this.symbolInstances.get(P);w.push(0|Math.round(a*L.anchorX+f*L.anchorY)),S.push(L.featureIndex)}return T.sort((P,L)=>w[P]-w[L]||S[L]-S[P]),T}addToSortKeyRanges(t,a){const f=this.sortKeyRanges[this.sortKeyRanges.length-1];f&&f.sortKey===a?f.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:a,symbolInstanceStart:t,symbolInstanceEnd:t+1})}sortFeatures(t){if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const a of this.symbolInstanceIndexes){const f=this.symbolInstances.get(a);this.featureSortOrder.push(f.featureIndex),[f.rightJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.leftJustifiedTextSymbolIndex].forEach((w,S,T)=>{w>=0&&T.indexOf(w)===S&&this.addIndicesForPlacedSymbol(this.text,w)}),f.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,f.verticalPlacedTextSymbolIndex),f.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,f.placedIconSymbolIndex),f.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,f.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let Md,Hc;Ci("SymbolBucket",pc,{omit:["layers","collisionBoxArray","features","compareText"]}),pc.MAX_GLYPHS=65535,pc.addDynamicAttributes=su;var Dd={get paint(){return Hc=Hc||new Bo({"icon-opacity":new Ki(De.paint_symbol["icon-opacity"]),"icon-color":new Ki(De.paint_symbol["icon-color"]),"icon-halo-color":new Ki(De.paint_symbol["icon-halo-color"]),"icon-halo-width":new Ki(De.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Ki(De.paint_symbol["icon-halo-blur"]),"icon-translate":new ui(De.paint_symbol["icon-translate"]),"icon-translate-anchor":new ui(De.paint_symbol["icon-translate-anchor"]),"text-opacity":new Ki(De.paint_symbol["text-opacity"]),"text-color":new Ki(De.paint_symbol["text-color"],{runtimeType:jt,getOverride:o=>o.textColor,hasOverride:o=>!!o.textColor}),"text-halo-color":new Ki(De.paint_symbol["text-halo-color"]),"text-halo-width":new Ki(De.paint_symbol["text-halo-width"]),"text-halo-blur":new Ki(De.paint_symbol["text-halo-blur"]),"text-translate":new ui(De.paint_symbol["text-translate"]),"text-translate-anchor":new ui(De.paint_symbol["text-translate-anchor"])})},get layout(){return Md=Md||new Bo({"symbol-placement":new ui(De.layout_symbol["symbol-placement"]),"symbol-spacing":new ui(De.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new ui(De.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Ki(De.layout_symbol["symbol-sort-key"]),"symbol-z-order":new ui(De.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new ui(De.layout_symbol["icon-allow-overlap"]),"icon-overlap":new ui(De.layout_symbol["icon-overlap"]),"icon-ignore-placement":new ui(De.layout_symbol["icon-ignore-placement"]),"icon-optional":new ui(De.layout_symbol["icon-optional"]),"icon-rotation-alignment":new ui(De.layout_symbol["icon-rotation-alignment"]),"icon-size":new Ki(De.layout_symbol["icon-size"]),"icon-text-fit":new ui(De.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ui(De.layout_symbol["icon-text-fit-padding"]),"icon-image":new Ki(De.layout_symbol["icon-image"]),"icon-rotate":new Ki(De.layout_symbol["icon-rotate"]),"icon-padding":new Ki(De.layout_symbol["icon-padding"]),"icon-keep-upright":new ui(De.layout_symbol["icon-keep-upright"]),"icon-offset":new Ki(De.layout_symbol["icon-offset"]),"icon-anchor":new Ki(De.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new ui(De.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new ui(De.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new ui(De.layout_symbol["text-rotation-alignment"]),"text-field":new Ki(De.layout_symbol["text-field"]),"text-font":new Ki(De.layout_symbol["text-font"]),"text-size":new Ki(De.layout_symbol["text-size"]),"text-max-width":new Ki(De.layout_symbol["text-max-width"]),"text-line-height":new ui(De.layout_symbol["text-line-height"]),"text-letter-spacing":new Ki(De.layout_symbol["text-letter-spacing"]),"text-justify":new Ki(De.layout_symbol["text-justify"]),"text-radial-offset":new Ki(De.layout_symbol["text-radial-offset"]),"text-variable-anchor":new ui(De.layout_symbol["text-variable-anchor"]),"text-anchor":new Ki(De.layout_symbol["text-anchor"]),"text-max-angle":new ui(De.layout_symbol["text-max-angle"]),"text-writing-mode":new ui(De.layout_symbol["text-writing-mode"]),"text-rotate":new Ki(De.layout_symbol["text-rotate"]),"text-padding":new ui(De.layout_symbol["text-padding"]),"text-keep-upright":new ui(De.layout_symbol["text-keep-upright"]),"text-transform":new Ki(De.layout_symbol["text-transform"]),"text-offset":new Ki(De.layout_symbol["text-offset"]),"text-allow-overlap":new ui(De.layout_symbol["text-allow-overlap"]),"text-overlap":new ui(De.layout_symbol["text-overlap"]),"text-ignore-placement":new ui(De.layout_symbol["text-ignore-placement"]),"text-optional":new ui(De.layout_symbol["text-optional"])})}};class cm{constructor(t){if(void 0===t.property.overrides)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=t.property.overrides?t.property.overrides.runtimeType:Te,this.defaultValue=t}evaluate(t){if(t.formattedSection){const a=this.defaultValue.property.overrides;if(a&&a.hasOverride(t.formattedSection))return a.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default}eachChild(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Ci("FormatSectionOverride",cm,{omit:["defaultValue"]});class Sd extends Ps{constructor(t){super(t,Dd)}recalculate(t,a){if(super.recalculate(t,a),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]="map"===this.layout.get("text-rotation-alignment")?"map":"viewport"),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){const f=this.layout.get("text-writing-mode");if(f){const w=[];for(const S of f)w.indexOf(S)<0&&w.push(S);this.layout._values["text-writing-mode"]=w}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(t,a,f,w){const S=this.layout.get(t).evaluate(a,{},f,w),T=this._unevaluatedLayout._values[t];return T.isDataDriven()||Ia(T.value)||!S?S:(P=a.properties,S.replace(/{([^{}]+)}/g,(G,K)=>K in P?String(P[K]):""));var P}createBucket(t){return new pc(t)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const t of Dd.paint.overridableProperties){if(!Sd.hasPaintOverride(this.layout,t))continue;const a=this.paint.get(t),f=new cm(a),w=new Cl(f,a.property.specification);let S=null;S="constant"===a.value.kind||"source"===a.value.kind?new Nl("source",w):new Pn("composite",w,a.value.zoomStops),this.paint._values[t]=new eo(a.property,S,a.parameters)}}_handleOverridablePaintPropertyUpdate(t,a,f){return!(!this.layout||a.isDataDriven()||f.isDataDriven())&&Sd.hasPaintOverride(this.layout,t)}static hasPaintOverride(t,a){const f=t.get("text-field"),w=Dd.paint.properties[a];let S=!1;const T=P=>{for(const L of P)if(w.overrides&&w.overrides.hasOverride(L))return void(S=!0)};if("constant"===f.value.kind&&f.value.value instanceof Ni)T(f.value.value.sections);else if("source"===f.value.kind){const P=G=>{S||(G instanceof Dn&&Nn(G.value)===Ji?T(G.value.sections):G instanceof Ha?T(G.sections):G.eachChild(P))},L=f.value;L._styleExpression&&P(L._styleExpression.expression)}return S}}let rh;var fc={get paint(){return rh=rh||new Bo({"background-color":new ui(De.paint_background["background-color"]),"background-pattern":new yo(De.paint_background["background-pattern"]),"background-opacity":new ui(De.paint_background["background-opacity"])})}};let dm;var Wf={get paint(){return dm=dm||new Bo({"raster-opacity":new ui(De.paint_raster["raster-opacity"]),"raster-hue-rotate":new ui(De.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new ui(De.paint_raster["raster-brightness-min"]),"raster-brightness-max":new ui(De.paint_raster["raster-brightness-max"]),"raster-saturation":new ui(De.paint_raster["raster-saturation"]),"raster-contrast":new ui(De.paint_raster["raster-contrast"]),"raster-resampling":new ui(De.paint_raster["raster-resampling"]),"raster-fade-duration":new ui(De.paint_raster["raster-fade-duration"])})}};class qf extends Ps{constructor(t){super(t,{}),this.onAdd=a=>{this.implementation.onAdd&&this.implementation.onAdd(a,a.painter.context.gl)},this.onRemove=a=>{this.implementation.onRemove&&this.implementation.onRemove(a,a.painter.context.gl)},this.implementation=t}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}const Yf={circle:class extends Ps{constructor(o){super(o,Zd)}createBucket(o){return new Dh(o)}queryRadius(o){const t=o;return Ou("circle-radius",this,t)+Ou("circle-stroke-width",this,t)+Ih(this.paint.get("circle-translate"))}queryIntersectsFeature(o,t,a,f,w,S,T,P){const L=Hr(o,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),S.angle,T),G=this.paint.get("circle-radius").evaluate(t,a)+this.paint.get("circle-stroke-width").evaluate(t,a),K="map"===this.paint.get("circle-pitch-alignment"),te=K?L:(_e=P,L.map(Be=>kc(Be,_e))),le=K?G*T:G;var _e;for(const ue of f)for(const _e of ue){const Be=K?_e:kc(_e,P);let Ue=le;const at=Qo([],[_e.x,_e.y,0,1],P);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?Ue*=at[3]/S.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(Ue*=S.cameraToCenterDistance/at[3]),Th(te,Be,Ue))return!0}return!1}},heatmap:class extends Ps{createBucket(o){return new Ah(o)}constructor(o){super(o,Wd),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(o){"heatmap-color"===o&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=ud({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}},hillshade:class extends Ps{constructor(o){super(o,Of)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}},fill:class extends Ps{constructor(o){super(o,D_)}recalculate(o,t){super.recalculate(o,t);const a=this.paint._values["fill-outline-color"];"constant"===a.value.kind&&void 0===a.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(o){return new Bh(o)}queryRadius(){return Ih(this.paint.get("fill-translate"))}queryIntersectsFeature(o,t,a,f,w,S,T){return Ic(Hr(o,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),S.angle,T),f)}isTileClipped(){return!0}},"fill-extrusion":class extends Ps{constructor(o){super(o,uc)}createBucket(o){return new $h(o)}queryRadius(){return Ih(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(o,t,a,f,w,S,T,P){const L=Hr(o,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),S.angle,T),G=this.paint.get("fill-extrusion-height").evaluate(t,a),K=this.paint.get("fill-extrusion-base").evaluate(t,a),te=function(ue,_e,Be,Ue){const at=[];for(const yt of ue){const st=[yt.x,yt.y,0,1];Qo(st,st,_e),at.push(new ke(st[0]/st[3],st[1]/st[3]))}return at}(L,P),le=function(ue,_e,Be,Ue){const at=[],yt=[],st=Ue[8]*_e,It=Ue[9]*_e,Ot=Ue[10]*_e,Yt=Ue[11]*_e,Pi=Ue[8]*Be,ji=Ue[9]*Be,Ai=Ue[10]*Be,Ei=Ue[11]*Be;for(const vi of ue){const ki=[],Di=[];for(const si of vi){const Qi=si.x,Hi=si.y,Fn=Ue[0]*Qi+Ue[4]*Hi+Ue[12],br=Ue[1]*Qi+Ue[5]*Hi+Ue[13],Ar=Ue[2]*Qi+Ue[6]*Hi+Ue[14],bo=Ue[3]*Qi+Ue[7]*Hi+Ue[15],Ns=Ar+Ot,Ho=bo+Yt,Kr=Fn+Pi,xo=br+ji,es=Ar+Ai,ts=bo+Ei,la=new ke((Fn+st)/Ho,(br+It)/Ho);la.z=Ns/Ho,ki.push(la);const oo=new ke(Kr/ts,xo/ts);oo.z=es/ts,Di.push(oo)}at.push(ki),yt.push(Di)}return[at,yt]}(f,K,G,P);return function(ue,_e,Be){let Ue=1/0;Ic(Be,_e)&&(Ue=dp(Be,_e[0]));for(let at=0;at<_e.length;at++){const yt=_e[at],st=ue[at];for(let It=0;It<yt.length-1;It++){const Ot=yt[It],Yt=[Ot,yt[It+1],st[It+1],st[It],Ot];Sh(Be,Yt)&&(Ue=Math.min(Ue,dp(Be,Yt)))}}return Ue!==1/0&&Ue}(le[0],le[1],te)}},line:class extends Ps{constructor(o){super(o,qh),this.gradientVersion=0,qu||(qu=new hp(qh.paint.properties["line-width"].specification),qu.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(o){"line-gradient"===o&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof On,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER)}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(o,t){super.recalculate(o,t),this.paint._values["line-floorwidth"]=qu.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,o)}createBucket(o){return new eu(o)}queryRadius(o){const t=o,a=hc(Ou("line-width",this,t),Ou("line-gap-width",this,t)),f=Ou("line-offset",this,t);return a/2+Math.abs(f)+Ih(this.paint.get("line-translate"))}queryIntersectsFeature(o,t,a,f,w,S,T){const P=Hr(o,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),S.angle,T),L=T/2*hc(this.paint.get("line-width").evaluate(t,a),this.paint.get("line-gap-width").evaluate(t,a)),G=this.paint.get("line-offset").evaluate(t,a);return G&&(f=function(K,te){const le=[];for(let ue=0;ue<K.length;ue++){const _e=K[ue],Be=[];for(let Ue=0;Ue<_e.length;Ue++){const at=_e[Ue-1],yt=_e[Ue],st=_e[Ue+1],It=0===Ue?new ke(0,0):yt.sub(at)._unit()._perp(),Ot=Ue===_e.length-1?new ke(0,0):st.sub(yt)._unit()._perp(),Yt=It._add(Ot)._unit(),Pi=Yt.x*Ot.x+Yt.y*Ot.y;0!==Pi&&Yt._mult(1/Pi),Be.push(Yt._mult(te)._add(yt))}le.push(Be)}return le}(f,G*T)),function(K,te,le){for(let ue=0;ue<te.length;ue++){const _e=te[ue];if(K.length>=3)for(let Be=0;Be<_e.length;Be++)if(ld(K,_e[Be]))return!0;if(ad(K,_e,le))return!0}return!1}(P,f,L)}isTileClipped(){return!0}},symbol:Sd,background:class extends Ps{constructor(o){super(o,fc)}},raster:class extends Ps{constructor(o){super(o,Wf)}}};class Kf{constructor(t){this._callback=t,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const ul=6371008.8;class us{constructor(t,a){if(isNaN(t)||isNaN(a))throw new Error(`Invalid LngLat object: (${t}, ${a})`);if(this.lng=+t,this.lat=+a,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new us(ut(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(t){const a=Math.PI/180,f=this.lat*a,w=t.lat*a,S=Math.sin(f)*Math.sin(w)+Math.cos(f)*Math.cos(w)*Math.cos((t.lng-this.lng)*a);return ul*Math.acos(Math.min(S,1))}static convert(t){if(t instanceof us)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new us(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new us(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Td=2*Math.PI*ul;function wp(o){return Td*Math.cos(o*Math.PI/180)}function um(o){return(180+o)/360}function hm(o){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o*Math.PI/360)))/360}function cu(o,t){return o/wp(t)}function mm(o){return 360/Math.PI*Math.atan(Math.exp((180-360*o)*Math.PI/180))-90}class Id{constructor(t,a,f=0){this.x=+t,this.y=+a,this.z=+f}static fromLngLat(t,a=0){const f=us.convert(t);return new Id(um(f.lng),hm(f.lat),cu(a,f.lat))}toLngLat(){return new us(360*this.x-180,mm(this.y))}toAltitude(){return this.z*wp(mm(this.y))}meterInMercatorCoordinateUnits(){return 1/Td*(t=mm(this.y),1/Math.cos(t*Math.PI/180));var t}}function Cp(o,t,a){var f=2*Math.PI*6378137/256/Math.pow(2,a);return[o*f-2*Math.PI*6378137/2,t*f-2*Math.PI*6378137/2]}class pm{constructor(t,a,f){if(t<0||t>25||f<0||f>=Math.pow(2,t)||a<0||a>=Math.pow(2,t))throw new Error(`x=${a}, y=${f}, z=${t} outside of bounds. 0<=x<${Math.pow(2,t)}, 0<=y<${Math.pow(2,t)} 0<=z<=25 `);this.z=t,this.x=a,this.y=f,this.key=gc(0,t,t,a,f)}equals(t){return this.z===t.z&&this.x===t.x&&this.y===t.y}url(t,a,f){const w=(T=this.y,P=this.z,L=Cp(256*(S=this.x),256*(T=Math.pow(2,P)-T-1),P),G=Cp(256*(S+1),256*(T+1),P),L[0]+","+L[1]+","+G[0]+","+G[1]);var S,T,P,L,G;const K=function(te,le,ue){let _e,Be="";for(let Ue=te;Ue>0;Ue--)_e=1<<Ue-1,Be+=(le&_e?1:0)+(ue&_e?2:0);return Be}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===f?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,a>1?"@2x":"").replace(/{quadkey}/g,K).replace(/{bbox-epsg-3857}/g,w)}isChildOf(t){const a=this.z-t.z;return a>0&&t.x===this.x>>a&&t.y===this.y>>a}getTilePoint(t){const a=Math.pow(2,this.z);return new ke((t.x*a-this.x)*Ir,(t.y*a-this.y)*Ir)}toString(){return`${this.z}/${this.x}/${this.y}`}}class fm{constructor(t,a){this.wrap=t,this.canonical=a,this.key=gc(t,a.z,a.z,a.x,a.y)}}class xa{constructor(t,a,f,w,S){if(t<f)throw new Error(`overscaledZ should be >= z; overscaledZ = ${t}; z = ${f}`);this.overscaledZ=t,this.wrap=a,this.canonical=new pm(f,+w,+S),this.key=gc(a,t,f,w,S)}clone(){return new xa(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)}scaledTo(t){if(t>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${t}; overscaledZ = ${this.overscaledZ}`);const a=this.canonical.z-t;return t>this.canonical.z?new xa(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new xa(t,this.wrap,t,this.canonical.x>>a,this.canonical.y>>a)}calculateScaledKey(t,a){if(t>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${t}; overscaledZ = ${this.overscaledZ}`);const f=this.canonical.z-t;return t>this.canonical.z?gc(this.wrap*+a,t,this.canonical.z,this.canonical.x,this.canonical.y):gc(this.wrap*+a,t,t,this.canonical.x>>f,this.canonical.y>>f)}isChildOf(t){if(t.wrap!==this.wrap)return!1;const a=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>a&&t.canonical.y===this.canonical.y>>a}children(t){if(this.overscaledZ>=t)return[new xa(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const a=this.canonical.z+1,f=2*this.canonical.x,w=2*this.canonical.y;return[new xa(a,this.wrap,a,f,w),new xa(a,this.wrap,a,f+1,w),new xa(a,this.wrap,a,f,w+1),new xa(a,this.wrap,a,f+1,w+1)]}isLessThan(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))}wrapped(){return new xa(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(t){return new xa(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new fm(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(t){return this.canonical.getTilePoint(new Id(t.x-this.wrap,t.y))}}function gc(o,t,a,f,w){(o*=2)<0&&(o=-1*o-1);const S=1<<a;return(S*S*o+S*w+f).toString(36)+a.toString(36)+t.toString(36)}Ci("CanonicalTileID",pm),Ci("OverscaledTileID",xa,{omit:["posMatrix"]});class Ol{constructor(t,a,f){if(this.uid=t,a.height!==a.width)throw new RangeError("DEM tiles must be square");if(f&&"mapbox"!==f&&"terrarium"!==f)return void Oe(`"${f}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=a.height;const w=this.dim=a.height-2;this.data=new Uint32Array(a.data.buffer),this.encoding=f||"mapbox";for(let S=0;S<w;S++)this.data[this._idx(-1,S)]=this.data[this._idx(0,S)],this.data[this._idx(w,S)]=this.data[this._idx(w-1,S)],this.data[this._idx(S,-1)]=this.data[this._idx(S,0)],this.data[this._idx(S,w)]=this.data[this._idx(S,w-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(w,-1)]=this.data[this._idx(w-1,0)],this.data[this._idx(-1,w)]=this.data[this._idx(0,w-1)],this.data[this._idx(w,w)]=this.data[this._idx(w-1,w-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let S=0;S<w;S++)for(let T=0;T<w;T++){const P=this.get(S,T);P>this.max&&(this.max=P),P<this.min&&(this.min=P)}}get(t,a){const f=new Uint8Array(this.data.buffer),w=4*this._idx(t,a);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(f[w],f[w+1],f[w+2])}getUnpackVector(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]}_idx(t,a){if(t<-1||t>=this.dim+1||a<-1||a>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(a+1)*this.stride+(t+1)}_unpackMapbox(t,a,f){return(256*t*256+256*a+f)/10-1e4}_unpackTerrarium(t,a,f){return 256*t+a+f/256-32768}getPixels(){return new ro({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(t,a,f){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");let w=a*this.dim,S=a*this.dim+this.dim,T=f*this.dim,P=f*this.dim+this.dim;switch(a){case-1:w=S-1;break;case 1:S=w+1}switch(f){case-1:T=P-1;break;case 1:P=T+1}const L=-a*this.dim,G=-f*this.dim;for(let K=T;K<P;K++)for(let te=w;te<S;te++)this.data[this._idx(te,K)]=t.data[this._idx(te+L,K+G)]}}Ci("DEMData",Ol);class Ad{constructor(t){this._stringToNumber={},this._numberToString=[];for(let a=0;a<t.length;a++){const f=t[a];this._stringToNumber[f]=a,this._numberToString[a]=f}}encode(t){return this._stringToNumber[t]}decode(t){if(t>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${t} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[t]}}class gm{constructor(t,a,f,w,S){this.type="Feature",this._vectorTileFeature=t,t._z=a,t._x=f,t._y=w,this.properties=t.properties,this.id=S}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(t){this._geometry=t}toJSON(){const t={geometry:this.geometry};for(const a in this)"_geometry"!==a&&"_vectorTileFeature"!==a&&(t[a]=this[a]);return t}}class _m{constructor(t,a){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new sl(Ir,16,0),this.grid3D=new sl(Ir,16,0),this.featureIndexArray=new W,this.promoteId=a}insert(t,a,f,w,S,T){const P=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(f,w,S);const L=T?this.grid3D:this.grid;for(let G=0;G<a.length;G++){const K=a[G],te=[1/0,1/0,-1/0,-1/0];for(let le=0;le<K.length;le++){const ue=K[le];te[0]=Math.min(te[0],ue.x),te[1]=Math.min(te[1],ue.y),te[2]=Math.max(te[2],ue.x),te[3]=Math.max(te[3],ue.y)}te[0]<Ir&&te[1]<Ir&&te[2]>=0&&te[3]>=0&&L.insert(P,te[0],te[1],te[2],te[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new dl.VectorTile(new em(this.rawTileData)).layers,this.sourceLayerCoder=new Ad(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(t,a,f,w){this.loadVTLayers();const S=t.params||{},T=Ir/t.tileSize/t.scale,P=H(S.filter),L=t.queryGeometry,G=t.queryPadding*T,K=Xf(L),te=this.grid.query(K.minX-G,K.minY-G,K.maxX+G,K.maxY+G),le=Xf(t.cameraQueryGeometry),ue=this.grid3D.query(le.minX-G,le.minY-G,le.maxX+G,le.maxY+G,(Ue,at,yt,st)=>function(It,Ot,Yt,Pi,ji){for(const Ei of It)if(Ot<=Ei.x&&Yt<=Ei.y&&Pi>=Ei.x&&ji>=Ei.y)return!0;const Ai=[new ke(Ot,Yt),new ke(Ot,ji),new ke(Pi,ji),new ke(Pi,Yt)];if(It.length>2)for(const Ei of Ai)if(ld(It,Ei))return!0;for(let Ei=0;Ei<It.length-1;Ei++)if(E_(It[Ei],It[Ei+1],Ai))return!0;return!1}(t.cameraQueryGeometry,Ue-G,at-G,yt+G,st+G));for(const Ue of ue)te.push(Ue);te.sort(k_);const _e={};let Be;for(let Ue=0;Ue<te.length;Ue++){const at=te[Ue];if(at===Be)continue;Be=at;const yt=this.featureIndexArray.get(at);let st=null;this.loadMatchingFeature(_e,yt.bucketIndex,yt.sourceLayerIndex,yt.featureIndex,P,S.layers,S.availableImages,a,f,w,(It,Ot,Yt)=>(st||(st=ll(It)),Ot.queryIntersectsFeature(L,It,Yt,st,this.z,t.transform,T,t.pixelPosMatrix)))}return _e}loadMatchingFeature(t,a,f,w,S,T,P,L,G,K,te){const le=this.bucketLayerIDs[a];if(T&&!function(Ue,at){for(let yt=0;yt<Ue.length;yt++)if(at.indexOf(Ue[yt])>=0)return!0;return!1}(T,le))return;const ue=this.sourceLayerCoder.decode(f),_e=this.vtLayers[ue].feature(w);if(S.needGeometry){const Ue=cc(_e,!0);if(!S.filter(new Xn(this.tileID.overscaledZ),Ue,this.tileID.canonical))return}else if(!S.filter(new Xn(this.tileID.overscaledZ),_e))return;const Be=this.getId(_e,ue);for(let Ue=0;Ue<le.length;Ue++){const at=le[Ue];if(T&&T.indexOf(at)<0)continue;const yt=L[at];if(!yt)continue;let st={};Be&&K&&(st=K.getState(yt.sourceLayer||"_geojsonTileLayer",Be));const It=bt({},G[at]);It.paint=oh(It.paint,yt.paint,_e,st,P),It.layout=oh(It.layout,yt.layout,_e,st,P);const Ot=!te||te(_e,yt,st);if(!Ot)continue;const Yt=new gm(_e,this.z,this.x,this.y,Be);Yt.layer=It;let Pi=t[at];void 0===Pi&&(Pi=t[at]=[]),Pi.push({featureIndex:w,feature:Yt,intersectionZ:Ot})}}lookupSymbolFeatures(t,a,f,w,S,T,P,L){const G={};this.loadVTLayers();const K=H(S);for(const te of t)this.loadMatchingFeature(G,f,w,te,K,T,P,L,a);return G}hasLayer(t){for(const a of this.bucketLayerIDs)for(const f of a)if(t===f)return!0;return!1}getId(t,a){let f=t.id;return this.promoteId&&(f=t.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[a]],"boolean"==typeof f&&(f=Number(f))),f}}function oh(o,t,a,f,w){return xi(o,(S,T)=>{const P=t instanceof ni?t.get(T):null;return P&&P.evaluate?P.evaluate(a,f,w):P})}function Xf(o){let t=1/0,a=1/0,f=-1/0,w=-1/0;for(const S of o)t=Math.min(t,S.x),a=Math.min(a,S.y),f=Math.max(f,S.x),w=Math.max(w,S.y);return{minX:t,minY:a,maxX:f,maxY:w}}function k_(o,t){return t-o}function Jf(o,t,a,f,w){const S=[];for(let T=0;T<o.length;T++){const P=o[T];let L;for(let G=0;G<P.length-1;G++){let K=P[G],te=P[G+1];K.x<t&&te.x<t||(K.x<t?K=new ke(t,K.y+(t-K.x)/(te.x-K.x)*(te.y-K.y))._round():te.x<t&&(te=new ke(t,K.y+(t-K.x)/(te.x-K.x)*(te.y-K.y))._round()),K.y<a&&te.y<a||(K.y<a?K=new ke(K.x+(a-K.y)/(te.y-K.y)*(te.x-K.x),a)._round():te.y<a&&(te=new ke(K.x+(a-K.y)/(te.y-K.y)*(te.x-K.x),a)._round()),K.x>=f&&te.x>=f||(K.x>=f?K=new ke(f,K.y+(f-K.x)/(te.x-K.x)*(te.y-K.y))._round():te.x>=f&&(te=new ke(f,K.y+(f-K.x)/(te.x-K.x)*(te.y-K.y))._round()),K.y>=w&&te.y>=w||(K.y>=w?K=new ke(K.x+(w-K.y)/(te.y-K.y)*(te.x-K.x),w)._round():te.y>=w&&(te=new ke(K.x+(w-K.y)/(te.y-K.y)*(te.x-K.x),w)._round()),L&&K.equals(L[L.length-1])||(L=[K],S.push(L)),L.push(te)))))}}return S}Ci("FeatureIndex",_m,{omit:["rawTileData","sourceLayerCoder"]});class hl extends ke{constructor(t,a,f,w){super(t,a),this.angle=f,void 0!==w&&(this.segment=w)}clone(){return new hl(this.x,this.y,this.angle,this.segment)}}function sh(o,t,a,f,w){if(void 0===t.segment)return!0;let S=t,T=t.segment+1,P=0;for(;P>-a/2;){if(T--,T<0)return!1;P-=o[T].dist(S),S=o[T]}P+=o[T].dist(o[T+1]),T++;const L=[];let G=0;for(;P<a/2;){const K=o[T],te=o[T+1];if(!te)return!1;let le=o[T-1].angleTo(K)-K.angleTo(te);for(le=Math.abs((le+3*Math.PI)%(2*Math.PI)-Math.PI),L.push({distance:P,angleDelta:le}),G+=le;P-L[0].distance>f;)G-=L.shift().angleDelta;if(G>w)return!1;T++,P+=K.dist(te)}return!0}function Qf(o){let t=0;for(let a=0;a<o.length-1;a++)t+=o[a].dist(o[a+1]);return t}function eg(o,t,a){return o?.6*t*a:0}function ym(o,t){return Math.max(o?o.right-o.left:0,t?t.right-t.left:0)}function vm(o,t,a,f,w,S){const T=eg(a,w,S),P=ym(a,f)*S;let L=0;const G=Qf(o)/2;for(let K=0;K<o.length-1;K++){const te=o[K],le=o[K+1],ue=te.dist(le);if(L+ue>G){const _e=(G-L)/ue,Be=Kn.number(te.x,le.x,_e),Ue=Kn.number(te.y,le.y,_e),at=new hl(Be,Ue,le.angleTo(te),K);return at._round(),!T||sh(o,at,P,T,t)?at:void 0}L+=ue}}function tg(o,t,a,f,w,S,T,P,L){const G=eg(f,S,T),K=ym(f,w),te=K*T,le=0===o[0].x||o[0].x===L||0===o[0].y||o[0].y===L;return t-te<t/4&&(t=te+t/4),Ep(o,le?t/2*P%t:(K/2+2*S)*T*P%t,t,G,a,te,le,!1,L)}function Ep(o,t,a,f,w,S,T,P,L){const G=S/2,K=Qf(o);let te=0,le=t-a,ue=[];for(let _e=0;_e<o.length-1;_e++){const Be=o[_e],Ue=o[_e+1],at=Be.dist(Ue),yt=Ue.angleTo(Be);for(;le+a<te+at;){le+=a;const st=(le-te)/at,It=Kn.number(Be.x,Ue.x,st),Ot=Kn.number(Be.y,Ue.y,st);if(It>=0&&It<L&&Ot>=0&&Ot<L&&le-G>=0&&le+G<=K){const Yt=new hl(It,Ot,yt,_e);Yt._round(),f&&!sh(o,Yt,S,f,w)||ue.push(Yt)}}te+=at}return P||ue.length||T||(ue=Ep(o,te/2,a,f,w,S,T,!0,L)),ue}Ci("Anchor",hl);const kd=aa;function du(o,t,a,f){const w=[],S=o.image,T=S.pixelRatio,P=S.paddedRect.w-2*kd,L=S.paddedRect.h-2*kd,G=o.right-o.left,K=o.bottom-o.top,te=S.stretchX||[[0,P]],le=S.stretchY||[[0,L]],ue=(vi,ki)=>vi+ki[1]-ki[0],_e=te.reduce(ue,0),Be=le.reduce(ue,0),Ue=P-_e,at=L-Be;let yt=0,st=_e,It=0,Ot=Be,Yt=0,Pi=Ue,ji=0,Ai=at;if(S.content&&f){const vi=S.content;yt=$c(te,0,vi[0]),It=$c(le,0,vi[1]),st=$c(te,vi[0],vi[2]),Ot=$c(le,vi[1],vi[3]),Yt=vi[0]-yt,ji=vi[1]-It,Pi=vi[2]-vi[0]-st,Ai=vi[3]-vi[1]-Ot}const Ei=(vi,ki,Di,si)=>{const Qi=Pd(vi.stretch-yt,st,G,o.left),Hi=ah(vi.fixed-Yt,Pi,vi.stretch,_e),Fn=Pd(ki.stretch-It,Ot,K,o.top),br=ah(ki.fixed-ji,Ai,ki.stretch,Be),Ar=Pd(Di.stretch-yt,st,G,o.left),bo=ah(Di.fixed-Yt,Pi,Di.stretch,_e),Ns=Pd(si.stretch-It,Ot,K,o.top),Ho=ah(si.fixed-ji,Ai,si.stretch,Be),Kr=new ke(Qi,Fn),xo=new ke(Ar,Fn),es=new ke(Ar,Ns),ts=new ke(Qi,Ns),la=new ke(Hi/T,br/T),oo=new ke(bo/T,Ho/T),is=t*Math.PI/180;if(is){const ca=Math.sin(is),qs=Math.cos(is),so=[qs,-ca,ca,qs];Kr._matMult(so),xo._matMult(so),ts._matMult(so),es._matMult(so)}const hs=vi.stretch+vi.fixed,zs=ki.stretch+ki.fixed;return{tl:Kr,tr:xo,bl:ts,br:es,tex:{x:S.paddedRect.x+kd+hs,y:S.paddedRect.y+kd+zs,w:Di.stretch+Di.fixed-hs,h:si.stretch+si.fixed-zs},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:la,pixelOffsetBR:oo,minFontScaleX:Pi/T/G,minFontScaleY:Ai/T/K,isSDF:a}};if(f&&(S.stretchX||S.stretchY)){const vi=uu(te,Ue,_e),ki=uu(le,at,Be);for(let Di=0;Di<vi.length-1;Di++){const si=vi[Di],Qi=vi[Di+1];for(let Hi=0;Hi<ki.length-1;Hi++)w.push(Ei(si,ki[Hi],Qi,ki[Hi+1]))}}else w.push(Ei({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:P+1},{fixed:0,stretch:L+1}));return w}function $c(o,t,a){let f=0;for(const w of o)f+=Math.max(t,Math.min(a,w[1]))-Math.max(t,Math.min(a,w[0]));return f}function uu(o,t,a){const f=[{fixed:-kd,stretch:0}];for(const[w,S]of o){const T=f[f.length-1];f.push({fixed:w-T.stretch,stretch:T.stretch}),f.push({fixed:w-T.stretch,stretch:T.stretch+(S-w)})}return f.push({fixed:t+kd,stretch:a}),f}function Pd(o,t,a,f){return o/t*a+f}function ah(o,t,a,f){return o-t*a/f}class go{constructor(t,a,f,w,S,T,P,L,G,K){if(this.boxStartIndex=t.length,G){let te=T.top,le=T.bottom;const ue=T.collisionPadding;ue&&(te-=ue[1],le+=ue[3]);let _e=le-te;_e>0&&(_e=Math.max(10,_e),this.circleDiameter=_e)}else{let te=T.top*P-L[0],le=T.bottom*P+L[2],ue=T.left*P-L[3],_e=T.right*P+L[1];const Be=T.collisionPadding;if(Be&&(ue-=Be[0]*P,te-=Be[1]*P,_e+=Be[2]*P,le+=Be[3]*P),K){const Ue=new ke(ue,te),at=new ke(_e,te),yt=new ke(ue,le),st=new ke(_e,le),It=K*Math.PI/180;Ue._rotate(It),at._rotate(It),yt._rotate(It),st._rotate(It),ue=Math.min(Ue.x,at.x,yt.x,st.x),_e=Math.max(Ue.x,at.x,yt.x,st.x),te=Math.min(Ue.y,at.y,yt.y,st.y),le=Math.max(Ue.y,at.y,yt.y,st.y)}t.emplaceBack(a.x,a.y,ue,te,_e,le,f,w,S)}this.boxEndIndex=t.length}}class Mp{constructor(t=[],a=ig){if(this.data=t,this.length=this.data.length,this.compare=a,this.length>0)for(let f=(this.length>>1)-1;f>=0;f--)this._down(f)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const t=this.data[0],a=this.data.pop();return this.length--,this.length>0&&(this.data[0]=a,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:a,compare:f}=this,w=a[t];for(;t>0;){const S=t-1>>1,T=a[S];if(f(w,T)>=0)break;a[t]=T,t=S}a[t]=w}_down(t){const{data:a,compare:f}=this,w=this.length>>1,S=a[t];for(;t<w;){let T=1+(t<<1),P=a[T];const L=T+1;if(L<this.length&&f(a[L],P)<0&&(T=L,P=a[L]),f(P,S)>=0)break;a[t]=P,t=T}a[t]=S}}function ig(o,t){return o<t?-1:o>t?1:0}function Dp(o,t=1,a=!1){let f=1/0,w=1/0,S=-1/0,T=-1/0;const P=o[0];for(let ue=0;ue<P.length;ue++){const _e=P[ue];(!ue||_e.x<f)&&(f=_e.x),(!ue||_e.y<w)&&(w=_e.y),(!ue||_e.x>S)&&(S=_e.x),(!ue||_e.y>T)&&(T=_e.y)}const L=Math.min(S-f,T-w);let G=L/2;const K=new Mp([],Sp);if(0===L)return new ke(f,w);for(let ue=f;ue<S;ue+=L)for(let _e=w;_e<T;_e+=L)K.push(new Od(ue+G,_e+G,G,o));let te=function(ue){let _e=0,Be=0,Ue=0;const at=ue[0];for(let yt=0,st=at.length,It=st-1;yt<st;It=yt++){const Ot=at[yt],Yt=at[It],Pi=Ot.x*Yt.y-Yt.x*Ot.y;Be+=(Ot.x+Yt.x)*Pi,Ue+=(Ot.y+Yt.y)*Pi,_e+=3*Pi}return new Od(Be/_e,Ue/_e,0,ue)}(o),le=K.length;for(;K.length;){const ue=K.pop();(ue.d>te.d||!te.d)&&(te=ue,a&&console.log("found best %d after %d probes",Math.round(1e4*ue.d)/1e4,le)),ue.max-te.d<=t||(G=ue.h/2,K.push(new Od(ue.p.x-G,ue.p.y-G,G,o)),K.push(new Od(ue.p.x+G,ue.p.y-G,G,o)),K.push(new Od(ue.p.x-G,ue.p.y+G,G,o)),K.push(new Od(ue.p.x+G,ue.p.y+G,G,o)),le+=4)}return a&&(console.log(`num probes: ${le}`),console.log(`best distance: ${te.d}`)),te.p}function Sp(o,t){return t.max-o.max}function Od(o,t,a,f){this.p=new ke(o,t),this.h=a,this.d=function(w,S){let T=!1,P=1/0;for(let L=0;L<S.length;L++){const G=S[L];for(let K=0,te=G.length,le=te-1;K<te;le=K++){const ue=G[K],_e=G[le];ue.y>w.y!=_e.y>w.y&&w.x<(_e.x-ue.x)*(w.y-ue.y)/(_e.y-ue.y)+ue.x&&(T=!T),P=Math.min(P,Ac(w,ue,_e))}}return(T?1:-1)*Math.sqrt(P)}(this.p,f),this.max=this.d+this.h*Math.SQRT2}const bm=Number.POSITIVE_INFINITY;function Tp(o,t){return t[1]!==bm?function(a,f,w){let S=0,T=0;switch(f=Math.abs(f),w=Math.abs(w),a){case"top-right":case"top-left":case"top":T=w-7;break;case"bottom-right":case"bottom-left":case"bottom":T=7-w}switch(a){case"top-right":case"bottom-right":case"right":S=-f;break;case"top-left":case"bottom-left":case"left":S=f}return[S,T]}(o,t[0],t[1]):function(a,f){let w=0,S=0;f<0&&(f=0);const T=f/Math.sqrt(2);switch(a){case"top-right":case"top-left":S=T-7;break;case"bottom-right":case"bottom-left":S=7-T;break;case"bottom":S=7-f;break;case"top":S=f-7}switch(a){case"top-right":case"bottom-right":w=-T;break;case"top-left":case"bottom-left":w=T;break;case"left":w=f;break;case"right":w=-f}return[w,S]}(o,t[0])}function xm(o){switch(o){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function wm(o,t,a,f,w,S,T,P,L,G,K){let te=S.textMaxSize.evaluate(t,{});void 0===te&&(te=T);const le=o.layers[0].layout,ue=le.get("icon-offset").evaluate(t,{},K),_e=Ap(a.horizontal),Be=T/24,Ue=o.tilePixelRatio*Be,at=o.tilePixelRatio*te/24,yt=o.tilePixelRatio*P,st=o.tilePixelRatio*le.get("symbol-spacing"),It=le.get("text-padding")*o.tilePixelRatio,Ot=function(si,Qi,Hi,Fn=1){const br=si.get("icon-padding").evaluate(Qi,{},Hi),Ar=br&&br.values;return[Ar[0]*Fn,Ar[1]*Fn,Ar[2]*Fn,Ar[3]*Fn]}(le,t,K,o.tilePixelRatio),Yt=le.get("text-max-angle")/180*Math.PI,Pi="viewport"!==le.get("text-rotation-alignment")&&"point"!==le.get("symbol-placement"),ji="map"===le.get("icon-rotation-alignment")&&"point"!==le.get("symbol-placement"),Ai=le.get("symbol-placement"),Ei=st/2,vi=le.get("icon-text-fit");let ki;f&&"none"!==vi&&(o.allowVerticalPlacement&&a.vertical&&(ki=ih(f,a.vertical,vi,le.get("icon-text-fit-padding"),ue,Be)),_e&&(f=ih(f,_e,vi,le.get("icon-text-fit-padding"),ue,Be)));const Di=(si,Qi)=>{Qi.x<0||Qi.x>=Ir||Qi.y<0||Qi.y>=Ir||function(Hi,Fn,br,Ar,bo,Ns,Ho,Kr,xo,es,ts,la,oo,is,hs,zs,ca,qs,so,Ms,Hn,Fa,Ds,ns,wa){const ml=Hi.addToLineVertexArray(Fn,br);let La,pl,da,Na,Ys=0,Xl=0,Ld=0,ng=0,Mm=-1,Wc=-1;const fl={};let qc=To(""),Yc=0,Dm=0;if(void 0===Kr._unevaluatedLayout.getValue("text-radial-offset")?[Yc,Dm]=Kr.layout.get("text-offset").evaluate(Hn,{},ns).map(Ss=>Ss*Ro):(Yc=Kr.layout.get("text-radial-offset").evaluate(Hn,{},ns)*Ro,Dm=bm),Hi.allowVerticalPlacement&&Ar.vertical){const Ss=Kr.layout.get("text-rotate").evaluate(Hn,{},ns)+90;da=new go(xo,Fn,es,ts,la,Ar.vertical,oo,is,hs,Ss),Ho&&(Na=new go(xo,Fn,es,ts,la,Ho,ca,qs,hs,Ss))}if(bo){const Ss=Kr.layout.get("icon-rotate").evaluate(Hn,{}),gl="none"!==Kr.layout.get("icon-text-fit"),zd=du(bo,Ss,Ds,gl),_u=Ho?du(Ho,Ss,Ds,gl):void 0;pl=new go(xo,Fn,es,ts,la,bo,ca,qs,!1,Ss),Ys=4*zd.length;const Lp=Hi.iconSizeData;let Xc=null;"source"===Lp.kind?(Xc=[Ja*Kr.layout.get("icon-size").evaluate(Hn,{})],Xc[0]>Kl&&Oe(`${Hi.layerIds[0]}: Value for "icon-size" is >= ${ou}. Reduce your "icon-size".`)):"composite"===Lp.kind&&(Xc=[Ja*Fa.compositeIconSizes[0].evaluate(Hn,{},ns),Ja*Fa.compositeIconSizes[1].evaluate(Hn,{},ns)],(Xc[0]>Kl||Xc[1]>Kl)&&Oe(`${Hi.layerIds[0]}: Value for "icon-size" is >= ${ou}. Reduce your "icon-size".`)),Hi.addSymbols(Hi.icon,zd,Xc,Ms,so,Hn,v.WritingMode.none,Fn,ml.lineStartIndex,ml.lineLength,-1,ns),Mm=Hi.icon.placedSymbolArray.length-1,_u&&(Xl=4*_u.length,Hi.addSymbols(Hi.icon,_u,Xc,Ms,so,Hn,v.WritingMode.vertical,Fn,ml.lineStartIndex,ml.lineLength,-1,ns),Wc=Hi.icon.placedSymbolArray.length-1)}const Sm=Object.keys(Ar.horizontal);for(const Ss of Sm){const gl=Ar.horizontal[Ss];if(!La){qc=To(gl.text);const _u=Kr.layout.get("text-rotate").evaluate(Hn,{},ns);La=new go(xo,Fn,es,ts,la,gl,oo,is,hs,_u)}const zd=1===gl.positionedLines.length;if(Ld+=Ip(Hi,Fn,gl,Ns,Kr,hs,Hn,zs,ml,Ar.vertical?v.WritingMode.horizontal:v.WritingMode.horizontalOnly,zd?Sm:[Ss],fl,Mm,Fa,ns),zd)break}Ar.vertical&&(ng+=Ip(Hi,Fn,Ar.vertical,Ns,Kr,hs,Hn,zs,ml,v.WritingMode.vertical,["vertical"],fl,Wc,Fa,ns));const rg=La?La.boxStartIndex:Hi.collisionBoxArray.length,Pp=La?La.boxEndIndex:Hi.collisionBoxArray.length,Op=da?da.boxStartIndex:Hi.collisionBoxArray.length,Rp=da?da.boxEndIndex:Hi.collisionBoxArray.length,og=pl?pl.boxStartIndex:Hi.collisionBoxArray.length,Tm=pl?pl.boxEndIndex:Hi.collisionBoxArray.length,gu=Na?Na.boxStartIndex:Hi.collisionBoxArray.length,Fp=Na?Na.boxEndIndex:Hi.collisionBoxArray.length;let Rl=-1;const Nd=(Ss,gl)=>Ss&&Ss.circleDiameter?Math.max(Ss.circleDiameter,gl):gl;Rl=Nd(La,Rl),Rl=Nd(da,Rl),Rl=Nd(pl,Rl),Rl=Nd(Na,Rl);const Kc=Rl>-1?1:0;Kc&&(Rl*=wa/Ro),Hi.glyphOffsetArray.length>=pc.MAX_GLYPHS&&Oe("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==Hn.sortKey&&Hi.addToSortKeyRanges(Hi.symbolInstances.length,Hn.sortKey),Hi.symbolInstances.emplaceBack(Fn.x,Fn.y,fl.right>=0?fl.right:-1,fl.center>=0?fl.center:-1,fl.left>=0?fl.left:-1,fl.vertical||-1,Mm,Wc,qc,rg,Pp,Op,Rp,og,Tm,gu,Fp,es,Ld,ng,Ys,Xl,Kc,0,oo,Yc,Dm,Rl)}(o,Qi,si,a,f,w,ki,o.layers[0],o.collisionBoxArray,t.index,t.sourceLayerIndex,o.index,Ue,[It,It,It,It],Pi,L,yt,Ot,ji,ue,t,S,G,K,T)};if("line"===Ai)for(const si of Jf(t.geometry,0,0,Ir,Ir)){const Qi=tg(si,st,Yt,a.vertical||_e,f,24,at,o.overscaling,Ir);for(const Hi of Qi)_e&&hu(o,_e.text,Ei,Hi)||Di(si,Hi)}else if("line-center"===Ai){for(const si of t.geometry)if(si.length>1){const Qi=vm(si,Yt,a.vertical||_e,f,24,at);Qi&&Di(si,Qi)}}else if("Polygon"===t.type)for(const si of Lc(t.geometry,0)){const Qi=Dp(si,16);Di(si[0],new hl(Qi.x,Qi.y,0))}else if("LineString"===t.type)for(const si of t.geometry)Di(si,new hl(si[0].x,si[0].y,0));else if("Point"===t.type)for(const si of t.geometry)for(const Qi of si)Di([Qi],new hl(Qi.x,Qi.y,0))}function Ip(o,t,a,f,w,S,T,P,L,G,K,te,le,ue,_e){const Be=function(yt,st,It,Ot,Yt,Pi,ji,Ai){const Ei=Ot.layout.get("text-rotate").evaluate(Pi,{})*Math.PI/180,vi=[];for(const ki of st.positionedLines)for(const Di of ki.positionedGlyphs){if(!Di.rect)continue;const si=Di.rect||{};let Qi=nm+1,Hi=!0,Fn=1,br=0;const Ar=(Yt||Ai)&&Di.vertical,bo=Di.metrics.advance*Di.scale/2;if(Ai&&st.verticalizable&&(br=ki.lineOffset/2-(Di.imageName?-(Ro-Di.metrics.width*Di.scale)/2:(Di.scale-1)*Ro)),Di.imageName){const so=ji[Di.imageName];Hi=so.sdf,Fn=so.pixelRatio,Qi=aa/Fn}const Ns=Yt?[Di.x+bo,Di.y]:[0,0];let Ho=Yt?[0,0]:[Di.x+bo+It[0],Di.y+It[1]-br],Kr=[0,0];Ar&&(Kr=Ho,Ho=[0,0]);const xo=(Di.metrics.left-Qi)*Di.scale-bo+Ho[0],es=(-Di.metrics.top-Qi)*Di.scale+Ho[1],ts=xo+si.w*Di.scale/Fn,la=es+si.h*Di.scale/Fn,oo=new ke(xo,es),is=new ke(ts,es),hs=new ke(xo,la),zs=new ke(ts,la);if(Ar){const so=new ke(-bo,bo-mc),Ms=-Math.PI/2,Hn=Ro/2-bo,Fa=new ke(5-mc-Hn,-(Di.imageName?Hn:0)),Ds=new ke(...Kr);oo._rotateAround(Ms,so)._add(Fa)._add(Ds),is._rotateAround(Ms,so)._add(Fa)._add(Ds),hs._rotateAround(Ms,so)._add(Fa)._add(Ds),zs._rotateAround(Ms,so)._add(Fa)._add(Ds)}if(Ei){const so=Math.sin(Ei),Ms=Math.cos(Ei),Hn=[Ms,-so,so,Ms];oo._matMult(Hn),is._matMult(Hn),hs._matMult(Hn),zs._matMult(Hn)}const ca=new ke(0,0),qs=new ke(0,0);vi.push({tl:oo,tr:is,bl:hs,br:zs,tex:si,writingMode:st.writingMode,glyphOffset:Ns,sectionIndex:Di.sectionIndex,isSDF:Hi,pixelOffsetTL:ca,pixelOffsetBR:qs,minFontScaleX:0,minFontScaleY:0})}return vi}(0,a,P,w,S,T,f,o.allowVerticalPlacement),Ue=o.textSizeData;let at=null;"source"===Ue.kind?(at=[Ja*w.layout.get("text-size").evaluate(T,{})],at[0]>Kl&&Oe(`${o.layerIds[0]}: Value for "text-size" is >= ${ou}. Reduce your "text-size".`)):"composite"===Ue.kind&&(at=[Ja*ue.compositeTextSizes[0].evaluate(T,{},_e),Ja*ue.compositeTextSizes[1].evaluate(T,{},_e)],(at[0]>Kl||at[1]>Kl)&&Oe(`${o.layerIds[0]}: Value for "text-size" is >= ${ou}. Reduce your "text-size".`)),o.addSymbols(o.text,Be,at,P,S,T,G,t,L.lineStartIndex,L.lineLength,le,_e);for(const yt of K)te[yt]=o.text.placedSymbolArray.length-1;return 4*Be.length}function Ap(o){for(const t in o)return o[t];return null}function hu(o,t,a,f){const w=o.compareText;if(t in w){const S=w[t];for(let T=S.length-1;T>=0;T--)if(f.dist(S[T])<a)return!0}else w[t]=[];return w[t].push(f),!1}const vr=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Gc{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[a,f]=new Uint8Array(t,0,2);if(219!==a)throw new Error("Data does not appear to be in a KDBush format.");const w=f>>4;if(1!==w)throw new Error(`Got v${w} data when expected v1.`);const S=vr[15&f];if(!S)throw new Error("Unrecognized array type.");const[T]=new Uint16Array(t,2,1),[P]=new Uint32Array(t,4,1);return new Gc(P,T,S,t)}constructor(t,a=64,f=Float64Array,w){if(isNaN(t)||t<0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+a,2),65535),this.ArrayType=f,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;const S=vr.indexOf(this.ArrayType),T=2*t*this.ArrayType.BYTES_PER_ELEMENT,P=t*this.IndexArrayType.BYTES_PER_ELEMENT,L=(8-P%8)%8;if(S<0)throw new Error(`Unexpected typed array class: ${f}.`);w&&w instanceof ArrayBuffer?(this.data=w,this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+P+L,2*t),this._pos=2*t,this._finished=!0):(this.data=new ArrayBuffer(8+T+P+L),this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+P+L,2*t),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+S]),new Uint16Array(this.data,2,1)[0]=a,new Uint32Array(this.data,4,1)[0]=t)}add(t,a){const f=this._pos>>1;return this.ids[f]=f,this.coords[this._pos++]=t,this.coords[this._pos++]=a,f}finish(){const t=this._pos>>1;if(t!==this.numItems)throw new Error(`Added ${t} items when expected ${this.numItems}.`);return lh(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,a,f,w){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:S,coords:T,nodeSize:P}=this,L=[0,S.length-1,0],G=[];for(;L.length;){const K=L.pop()||0,te=L.pop()||0,le=L.pop()||0;if(te-le<=P){for(let Ue=le;Ue<=te;Ue++){const at=T[2*Ue],yt=T[2*Ue+1];at>=t&&at<=f&&yt>=a&&yt<=w&&G.push(S[Ue])}continue}const ue=le+te>>1,_e=T[2*ue],Be=T[2*ue+1];_e>=t&&_e<=f&&Be>=a&&Be<=w&&G.push(S[ue]),(0===K?t<=_e:a<=Be)&&(L.push(le),L.push(ue-1),L.push(1-K)),(0===K?f>=_e:w>=Be)&&(L.push(ue+1),L.push(te),L.push(1-K))}return G}within(t,a,f){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:w,coords:S,nodeSize:T}=this,P=[0,w.length-1,0],L=[],G=f*f;for(;P.length;){const K=P.pop()||0,te=P.pop()||0,le=P.pop()||0;if(te-le<=T){for(let Ue=le;Ue<=te;Ue++)pu(S[2*Ue],S[2*Ue+1],t,a)<=G&&L.push(w[Ue]);continue}const ue=le+te>>1,_e=S[2*ue],Be=S[2*ue+1];pu(_e,Be,t,a)<=G&&L.push(w[ue]),(0===K?t-f<=_e:a-f<=Be)&&(P.push(le),P.push(ue-1),P.push(1-K)),(0===K?t+f>=_e:a+f>=Be)&&(P.push(ue+1),P.push(te),P.push(1-K))}return L}}function lh(o,t,a,f,w,S){if(w-f<=a)return;const T=f+w>>1;ch(o,t,T,f,w,S),lh(o,t,a,f,T-1,1-S),lh(o,t,a,T+1,w,1-S)}function ch(o,t,a,f,w,S){for(;w>f;){if(w-f>600){const G=w-f+1,K=a-f+1,te=Math.log(G),le=.5*Math.exp(2*te/3),ue=.5*Math.sqrt(te*le*(G-le)/G)*(K-G/2<0?-1:1);ch(o,t,a,Math.max(f,Math.floor(a-K*le/G+ue)),Math.min(w,Math.floor(a+(G-K)*le/G+ue)),S)}const T=t[2*a+S];let P=f,L=w;for(Rd(o,t,f,a),t[2*w+S]>T&&Rd(o,t,f,w);P<L;){for(Rd(o,t,P,L),P++,L--;t[2*P+S]<T;)P++;for(;t[2*L+S]>T;)L--}t[2*f+S]===T?Rd(o,t,f,L):(L++,Rd(o,t,L,w)),L<=a&&(f=L+1),a<=L&&(w=L-1)}}function Rd(o,t,a,f){mu(o,a,f),mu(t,2*a,2*f),mu(t,2*a+1,2*f+1)}function mu(o,t,a){const f=o[t];o[t]=o[a],o[a]=f}function pu(o,t,a,f){const w=o-a,S=t-f;return w*w+S*S}var dh;v.PerformanceMarkers=void 0,(dh=v.PerformanceMarkers||(v.PerformanceMarkers={})).create="create",dh.load="load",dh.fullLoad="fullLoad";let Fd=null,Zc=[];const kp=1e3/60,fu="loadTime",Cm="fullLoadTime",Em={mark(o){performance.mark(o)},frame(o){const t=o;null!=Fd&&Zc.push(t-Fd),Fd=t},clearMetrics(){Fd=null,Zc=[],performance.clearMeasures(fu),performance.clearMeasures(Cm);for(const o in v.PerformanceMarkers)performance.clearMarks(v.PerformanceMarkers[o])},getPerformanceMetrics(){performance.measure(fu,v.PerformanceMarkers.create,v.PerformanceMarkers.load),performance.measure(Cm,v.PerformanceMarkers.create,v.PerformanceMarkers.fullLoad);const o=performance.getEntriesByName(fu)[0].duration,t=performance.getEntriesByName(Cm)[0].duration,a=Zc.length,f=1/(Zc.reduce((S,T)=>S+T,0)/a/1e3),w=Zc.filter(S=>S>kp).reduce((S,T)=>S+(T-kp)/kp,0);return{loadTime:o,fullLoadTime:t,fps:f,percentDroppedFrames:w/(a+w)*100,totalFrames:a}}};v.AJAXError=In,v.ARRAY_TYPE=cd,v.Actor=class{constructor(o,t,a){this.target=o,this.parent=t,this.mapId=a,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},ti(["receive","process"],this),this.invoker=new Kf(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=At()?o:window}send(o,t,a,f,w=!1){const S=Math.round(1e18*Math.random()).toString(36).substring(0,10);a&&(this.callbacks[S]=a);const T=Kt(this.globalScope)?void 0:[];return this.target.postMessage({id:S,type:o,hasCallback:!!a,targetMapId:f,mustQueue:w,sourceMapId:this.mapId,data:Wa(t,T)},T),{cancel:()=>{a&&delete this.callbacks[S],this.target.postMessage({id:S,type:"<cancel>",targetMapId:f,sourceMapId:this.mapId})}}}receive(o){const t=o.data,a=t.id;if(a&&(!t.targetMapId||this.mapId===t.targetMapId))if("<cancel>"===t.type){delete this.tasks[a];const f=this.cancelCallbacks[a];delete this.cancelCallbacks[a],f&&f()}else At()||t.mustQueue?(this.tasks[a]=t,this.taskQueue.push(a),this.invoker.trigger()):this.processTask(a,t)}process(){if(!this.taskQueue.length)return;const o=this.taskQueue.shift(),t=this.tasks[o];delete this.tasks[o],this.taskQueue.length&&this.invoker.trigger(),t&&this.processTask(o,t)}processTask(o,t){if("<response>"===t.type){const a=this.callbacks[o];delete this.callbacks[o],a&&(t.error?a(qn(t.error)):a(null,qn(t.data)))}else{let a=!1;const f=Kt(this.globalScope)?void 0:[],w=t.hasCallback?(P,L)=>{a=!0,delete this.cancelCallbacks[o],this.target.postMessage({id:o,type:"<response>",sourceMapId:this.mapId,error:P?Wa(P):null,data:Wa(L,f)},f)}:P=>{a=!0};let S=null;const T=qn(t.data);if(this.parent[t.type])S=this.parent[t.type](t.sourceMapId,T,w);else if(this.parent.getWorkerSource){const P=t.type.split(".");S=this.parent.getWorkerSource(t.sourceMapId,P[0],T.source)[P[1]](T,w)}else w(new Error(`Could not find function ${t.type}`));!a&&S&&S.cancel&&(this.cancelCallbacks[o]=S.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},v.AlphaImage=Fu,v.CanonicalTileID=pm,v.CollisionBoxArray=C,v.CollisionCircleLayoutArray=class extends Il{},v.Color=Ht,v.DEMData=Ol,v.DataConstantProperty=ui,v.DictionaryCoder=Ad,v.EXTENT=Ir,v.ErrorEvent=ht,v.EvaluationParameters=Xn,v.Event=ot,v.Evented=ct,v.FeatureIndex=_m,v.FillBucket=Bh,v.FillExtrusionBucket=$h,v.GeoJSONFeature=gm,v.ImageAtlas=iu,v.ImagePosition=vp,v.KDBush=Gc,v.LineBucket=eu,v.LineStripIndexArray=class extends i{},v.LngLat=us,v.MercatorCoordinate=Id,v.ONE_EM=Ro,v.OverscaledTileID=xa,v.PerformanceUtils=Em,v.Point=ke,v.Pos3dArray=class extends Ul{},v.PosArray=ce,v.Properties=Bo,v.Protobuf=em,v.QuadTriangleArray=class extends Al{},v.RGBAImage=ro,v.RasterBoundsArray=class extends Ws{},v.RequestPerformance=class{constructor(o){this._marks={start:[o.url,"start"].join("#"),end:[o.url,"end"].join("#"),measure:o.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let o=performance.getEntriesByName(this._marks.measure);return 0===o.length&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),o=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),o}},v.SegmentVector=bi,v.SymbolBucket=pc,v.Transitionable=Dc,v.TriangleIndexArray=ci,v.Uniform1f=sa,v.Uniform1i=class extends Cs{constructor(o,t){super(o,t),this.current=0}set(o){this.current!==o&&(this.current=o,this.gl.uniform1i(this.location,o))}},v.Uniform2f=class extends Cs{constructor(o,t){super(o,t),this.current=[0,0]}set(o){o[0]===this.current[0]&&o[1]===this.current[1]||(this.current=o,this.gl.uniform2f(this.location,o[0],o[1]))}},v.Uniform3f=class extends Cs{constructor(o,t){super(o,t),this.current=[0,0,0]}set(o){o[0]===this.current[0]&&o[1]===this.current[1]&&o[2]===this.current[2]||(this.current=o,this.gl.uniform3f(this.location,o[0],o[1],o[2]))}},v.Uniform4f=Gl,v.UniformColor=Ao,v.UniformMatrix4f=class extends Cs{constructor(o,t){super(o,t),this.current=ko}set(o){if(o[12]!==this.current[12]||o[0]!==this.current[0])return this.current=o,void this.gl.uniformMatrix4fv(this.location,!1,o);for(let t=1;t<16;t++)if(o[t]!==this.current[t]){this.current=o,this.gl.uniformMatrix4fv(this.location,!1,o);break}}},v.UnwrappedTileID=fm,v.ValidationError=Pe,v.ZoomHistory=zo,v.addDynamicAttributes=su,v.arrayBufferToImage=function(o,t){const a=new Image;a.onload=()=>{t(null,a),URL.revokeObjectURL(a.src),a.onload=null,window.requestAnimationFrame(()=>{a.src=Si})},a.onerror=()=>t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const f=new Blob([new Uint8Array(o)],{type:"image/png"});a.src=o.byteLength?URL.createObjectURL(f):Si},v.arrayBufferToImageBitmap=function(o,t){const a=new Blob([new Uint8Array(o)],{type:"image/png"});createImageBitmap(a).then(f=>{t(null,f)}).catch(f=>{t(new Error(`Could not load image because of ${f.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})},v.asyncAll=function(o,t,a){if(!o.length)return a(null,[]);let f=o.length;const w=new Array(o.length);let S=null;o.forEach((T,P)=>{t(T,(L,G)=>{L&&(S=L),w[P]=G,0==--f&&a(S,w)})})},v.bezier=Le,v.bindAll=ti,v.clamp=Qe,v.clipLine=Jf,v.clone=function(o){var t=new cd(16);return t[0]=o[0],t[1]=o[1],t[2]=o[2],t[3]=o[3],t[4]=o[4],t[5]=o[5],t[6]=o[6],t[7]=o[7],t[8]=o[8],t[9]=o[9],t[10]=o[10],t[11]=o[11],t[12]=o[12],t[13]=o[13],t[14]=o[14],t[15]=o[15],t},v.clone$1=Re,v.collisionCircleLayout=_d,v.config=Zn,v.copy=function(o,t){return o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3],o[4]=t[4],o[5]=t[5],o[6]=t[6],o[7]=t[7],o[8]=t[8],o[9]=t[9],o[10]=t[10],o[11]=t[11],o[12]=t[12],o[13]=t[13],o[14]=t[14],o[15]=t[15],o},v.create=function(){var o=new cd(16);return cd!=Float32Array&&(o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0),o[0]=1,o[5]=1,o[10]=1,o[15]=1,o},v.createExpression=Oi,v.createFilter=H,v.createLayout=io,v.createStyleLayer=function(o){return"custom"===o.type?new qf(o):new Yf[o.type](o)},v.deepEqual=function o(t,a){if(Array.isArray(t)){if(!Array.isArray(a)||t.length!==a.length)return!1;for(let f=0;f<t.length;f++)if(!o(t[f],a[f]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==a){if("object"!=typeof a||Object.keys(t).length!==Object.keys(a).length)return!1;for(const f in t)if(!o(t[f],a[f]))return!1;return!0}return t===a},v.derefLayers=function(o){o=o.slice();const t=Object.create(null);for(let a=0;a<o.length;a++)t[o[a].id]=o[a];for(let a=0;a<o.length;a++)"ref"in o[a]&&(o[a]=Zt(o[a],t[o[a].ref]));return o},v.diffStyles=function(o,t){if(!o)return[{command:Xe.setStyle,args:[t]}];let a=[];try{if(!ei(o.version,t.version))return[{command:Xe.setStyle,args:[t]}];ei(o.center,t.center)||a.push({command:Xe.setCenter,args:[t.center]}),ei(o.zoom,t.zoom)||a.push({command:Xe.setZoom,args:[t.zoom]}),ei(o.bearing,t.bearing)||a.push({command:Xe.setBearing,args:[t.bearing]}),ei(o.pitch,t.pitch)||a.push({command:Xe.setPitch,args:[t.pitch]}),ei(o.sprite,t.sprite)||a.push({command:Xe.setSprite,args:[t.sprite]}),ei(o.glyphs,t.glyphs)||a.push({command:Xe.setGlyphs,args:[t.glyphs]}),ei(o.transition,t.transition)||a.push({command:Xe.setTransition,args:[t.transition]}),ei(o.light,t.light)||a.push({command:Xe.setLight,args:[t.light]});const f={},w=[];!function(T,P,L,G){let K;for(K in P=P||{},T=T||{})Object.prototype.hasOwnProperty.call(T,K)&&(Object.prototype.hasOwnProperty.call(P,K)||yi(K,L,G));for(K in P)Object.prototype.hasOwnProperty.call(P,K)&&(Object.prototype.hasOwnProperty.call(T,K)?ei(T[K],P[K])||("geojson"===T[K].type&&"geojson"===P[K].type&&Zi(T,P,K)?L.push({command:Xe.setGeoJSONSourceData,args:[K,P[K].data]}):gn(K,P,L,G)):St(K,P,L))}(o.sources,t.sources,w,f);const S=[];o.layers&&o.layers.forEach(T=>{f[T.source]?a.push({command:Xe.removeLayer,args:[T.id]}):S.push(T)}),a=a.concat(w),function(T,P,L){P=P||[];const G=(T=T||[]).map(vn),K=P.map(vn),te=T.reduce(Mn,{}),le=P.reduce(Mn,{}),ue=G.slice(),_e=Object.create(null);let Be,Ue,at,yt,st,It,Ot;for(Be=0,Ue=0;Be<G.length;Be++)at=G[Be],Object.prototype.hasOwnProperty.call(le,at)?Ue++:(L.push({command:Xe.removeLayer,args:[at]}),ue.splice(ue.indexOf(at,Ue),1));for(Be=0,Ue=0;Be<K.length;Be++)at=K[K.length-1-Be],ue[ue.length-1-Be]!==at&&(Object.prototype.hasOwnProperty.call(te,at)?(L.push({command:Xe.removeLayer,args:[at]}),ue.splice(ue.lastIndexOf(at,ue.length-Ue),1)):Ue++,It=ue[ue.length-Be],L.push({command:Xe.addLayer,args:[le[at],It]}),ue.splice(ue.length-Be,0,at),_e[at]=!0);for(Be=0;Be<K.length;Be++)if(at=K[Be],yt=te[at],st=le[at],!_e[at]&&!ei(yt,st))if(ei(yt.source,st.source)&&ei(yt["source-layer"],st["source-layer"])&&ei(yt.type,st.type)){for(Ot in An(yt.layout,st.layout,L,at,null,Xe.setLayoutProperty),An(yt.paint,st.paint,L,at,null,Xe.setPaintProperty),ei(yt.filter,st.filter)||L.push({command:Xe.setFilter,args:[at,st.filter]}),ei(yt.minzoom,st.minzoom)&&ei(yt.maxzoom,st.maxzoom)||L.push({command:Xe.setLayerZoomRange,args:[at,st.minzoom,st.maxzoom]}),yt)Object.prototype.hasOwnProperty.call(yt,Ot)&&"layout"!==Ot&&"paint"!==Ot&&"filter"!==Ot&&"metadata"!==Ot&&"minzoom"!==Ot&&"maxzoom"!==Ot&&(0===Ot.indexOf("paint.")?An(yt[Ot],st[Ot],L,at,Ot.slice(6),Xe.setPaintProperty):ei(yt[Ot],st[Ot])||L.push({command:Xe.setLayerProperty,args:[at,Ot,st[Ot]]}));for(Ot in st)Object.prototype.hasOwnProperty.call(st,Ot)&&!Object.prototype.hasOwnProperty.call(yt,Ot)&&"layout"!==Ot&&"paint"!==Ot&&"filter"!==Ot&&"metadata"!==Ot&&"minzoom"!==Ot&&"maxzoom"!==Ot&&(0===Ot.indexOf("paint.")?An(yt[Ot],st[Ot],L,at,Ot.slice(6),Xe.setPaintProperty):ei(yt[Ot],st[Ot])||L.push({command:Xe.setLayerProperty,args:[at,Ot,st[Ot]]}))}else L.push({command:Xe.removeLayer,args:[at]}),It=ue[ue.lastIndexOf(at)+1],L.push({command:Xe.addLayer,args:[st,It]})}(S,t.layers,a)}catch(f){console.warn("Unable to compute style diff:",f),a=[{command:Xe.setStyle,args:[t]}]}return a},v.dot=function(o,t){return o[0]*t[0]+o[1]*t[1]+o[2]*t[2]+o[3]*t[3]},v.earthRadius=ul,v.ease=nt,v.emitValidationErrors=Sl,v.emptyStyle=function(){const o={},t=De.$version;for(const a in De.$root){const f=De.$root[a];if(f.required){let w=null;w="version"===a?t:"array"===f.type?[]:{},null!=w&&(o[a]=w)}}return o},v.equals=function(o,t){var a=o[0],f=o[1],w=o[2],S=o[3],T=o[4],P=o[5],L=o[6],G=o[7],K=o[8],te=o[9],le=o[10],ue=o[11],_e=o[12],Be=o[13],Ue=o[14],at=o[15],yt=t[0],st=t[1],It=t[2],Ot=t[3],Yt=t[4],Pi=t[5],ji=t[6],Ai=t[7],Ei=t[8],vi=t[9],ki=t[10],Di=t[11],si=t[12],Qi=t[13],Hi=t[14],Fn=t[15];return Math.abs(a-yt)<=Rs*Math.max(1,Math.abs(a),Math.abs(yt))&&Math.abs(f-st)<=Rs*Math.max(1,Math.abs(f),Math.abs(st))&&Math.abs(w-It)<=Rs*Math.max(1,Math.abs(w),Math.abs(It))&&Math.abs(S-Ot)<=Rs*Math.max(1,Math.abs(S),Math.abs(Ot))&&Math.abs(T-Yt)<=Rs*Math.max(1,Math.abs(T),Math.abs(Yt))&&Math.abs(P-Pi)<=Rs*Math.max(1,Math.abs(P),Math.abs(Pi))&&Math.abs(L-ji)<=Rs*Math.max(1,Math.abs(L),Math.abs(ji))&&Math.abs(G-Ai)<=Rs*Math.max(1,Math.abs(G),Math.abs(Ai))&&Math.abs(K-Ei)<=Rs*Math.max(1,Math.abs(K),Math.abs(Ei))&&Math.abs(te-vi)<=Rs*Math.max(1,Math.abs(te),Math.abs(vi))&&Math.abs(le-ki)<=Rs*Math.max(1,Math.abs(le),Math.abs(ki))&&Math.abs(ue-Di)<=Rs*Math.max(1,Math.abs(ue),Math.abs(Di))&&Math.abs(_e-si)<=Rs*Math.max(1,Math.abs(_e),Math.abs(si))&&Math.abs(Be-Qi)<=Rs*Math.max(1,Math.abs(Be),Math.abs(Qi))&&Math.abs(Ue-Hi)<=Rs*Math.max(1,Math.abs(Ue),Math.abs(Hi))&&Math.abs(at-Fn)<=Rs*Math.max(1,Math.abs(at),Math.abs(Fn))},v.evaluateSizeForFeature=function(o,{uSize:t,uSizeT:a},{lowerSize:f,upperSize:w}){return"source"===o.kind?f/Ja:"composite"===o.kind?Kn.number(f/Ja,w/Ja,a):t},v.evaluateSizeForZoom=function(o,t){let a=0,f=0;if("constant"===o.kind)f=o.layoutSize;else if("source"!==o.kind){const{interpolationType:w,minZoom:S,maxZoom:T}=o,P=w?Qe(Tr.interpolationFactor(w,t,S,T),0,1):0;"camera"===o.kind?f=Kn.number(o.minSize,o.maxSize,P):a=P}return{uSizeT:a,uSize:f}},v.evaluateVariableOffset=Tp,v.evented=bs,v.exported=hn,v.extend=bt,v.filterObject=Qt,v.findLineIntersection=function(o,t,a,f){const w=t.y-o.y,S=t.x-o.x,T=f.y-a.y,P=f.x-a.x,L=T*S-P*w;if(0===L)return null;const G=(P*(o.y-a.y)-T*(o.x-a.x))/L;return new ke(o.x+G*S,o.y+G*w)},v.fromScaling=function(o,t){return o[0]=t[0],o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=t[1],o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=t[2],o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o},v.getAnchorAlignment=jc,v.getAnchorJustification=xm,v.getArrayBuffer=Jt,v.getDefaultExportFromCjs=$e,v.getJSON=function(o,t){return Ft(bt(o,{type:"json"}),t)},v.getOverlapMode=Cd,v.getProtocolAction=xt,v.getRTLTextPluginStatus=xs,v.getReferrer=wt,v.getVideo=function(o,t){const a=window.document.createElement("video");a.muted=!0,a.onloadstart=function(){t(null,a)};for(let f=0;f<o.length;f++){const w=window.document.createElement("source");Et(o[f])||(a.crossOrigin="Anonymous"),w.src=o[f],a.appendChild(w)}return{cancel:()=>{}}},v.groupByLayout=function(o,t){const a={};for(let w=0;w<o.length;w++){const S=t&&t[o[w].id]||rc(o[w]);t&&(t[o[w].id]=S);let T=a[S];T||(T=a[S]=[]),T.push(o[w])}const f=[];for(const w in a)f.push(a[w]);return f},v.identity=no,v.interpolate=Kn,v.invert=function(o,t){var a=t[0],f=t[1],w=t[2],S=t[3],T=t[4],P=t[5],L=t[6],G=t[7],K=t[8],te=t[9],le=t[10],ue=t[11],_e=t[12],Be=t[13],Ue=t[14],at=t[15],yt=a*P-f*T,st=a*L-w*T,It=a*G-S*T,Ot=f*L-w*P,Yt=f*G-S*P,Pi=w*G-S*L,ji=K*Be-te*_e,Ai=K*Ue-le*_e,Ei=K*at-ue*_e,vi=te*Ue-le*Be,ki=te*at-ue*Be,Di=le*at-ue*Ue,si=yt*Di-st*ki+It*vi+Ot*Ei-Yt*Ai+Pi*ji;return si?(o[0]=(P*Di-L*ki+G*vi)*(si=1/si),o[1]=(w*ki-f*Di-S*vi)*si,o[2]=(Be*Pi-Ue*Yt+at*Ot)*si,o[3]=(le*Yt-te*Pi-ue*Ot)*si,o[4]=(L*Ei-T*Di-G*Ai)*si,o[5]=(a*Di-w*Ei+S*Ai)*si,o[6]=(Ue*It-_e*Pi-at*st)*si,o[7]=(K*Pi-le*It+ue*st)*si,o[8]=(T*ki-P*Ei+G*ji)*si,o[9]=(f*Ei-a*ki-S*ji)*si,o[10]=(_e*Yt-Be*It+at*yt)*si,o[11]=(te*It-K*Yt-ue*yt)*si,o[12]=(P*Ai-T*vi-L*ji)*si,o[13]=(a*vi-f*Ai+w*ji)*si,o[14]=(Be*st-_e*Ot-Ue*yt)*si,o[15]=(K*Ot-te*st+le*yt)*si,o):null},v.isImageBitmap=Li,v.isSafari=Kt,v.isWorker=At,v.keysDifference=function(o,t){const a=[];for(const f in o)f in t||a.push(f);return a},v.lazyLoadRTLTextPlugin=function(){fo.isLoading()||fo.isLoaded()||"deferred"!==xs()||jr()},v.makeRequest=Ft,v.mapObject=xi,v.mercatorXfromLng=um,v.mercatorYfromLat=hm,v.mercatorZfromAltitude=cu,v.mul=kf,v.mul$1=function(o,t,a){return o[0]=t[0]*a[0],o[1]=t[1]*a[1],o[2]=t[2]*a[2],o[3]=t[3]*a[3],o},v.multiply=Qm,v.nextPowerOfTwo=function(o){return o<=1?1:Math.pow(2,Math.ceil(Math.log(o)/Math.LN2))},v.operations=Xe,v.ortho=function(o,t,a,f,w,S,T){var P=1/(t-a),L=1/(f-w),G=1/(S-T);return o[0]=-2*P,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*L,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*G,o[11]=0,o[12]=(t+a)*P,o[13]=(w+f)*L,o[14]=(T+S)*G,o[15]=1,o},v.parseCacheControl=function(o){const t={};if(o.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(a,f,w,S)=>{const T=w||S;return t[f]=!T||T.toLowerCase(),""}),t["max-age"]){const a=parseInt(t["max-age"],10);isNaN(a)?delete t["max-age"]:t["max-age"]=a}return t},v.parseGlyphPbf=function(o){return new em(o).readFields(im,[])},v.pbf=pp,v.performSymbolLayout=function(o){o.bucket.createArrays(),o.bucket.tilePixelRatio=Ir/(512*o.bucket.overscaling),o.bucket.compareText={},o.bucket.iconsNeedLinear=!1;const t=o.bucket.layers[0].layout,a=o.bucket.layers[0]._unevaluatedLayout._values,f={layoutIconSize:a["icon-size"].possiblyEvaluate(new Xn(o.bucket.zoom+1),o.canonical),layoutTextSize:a["text-size"].possiblyEvaluate(new Xn(o.bucket.zoom+1),o.canonical),textMaxSize:a["text-size"].possiblyEvaluate(new Xn(18))};if("composite"===o.bucket.textSizeData.kind){const{minZoom:L,maxZoom:G}=o.bucket.textSizeData;f.compositeTextSizes=[a["text-size"].possiblyEvaluate(new Xn(L),o.canonical),a["text-size"].possiblyEvaluate(new Xn(G),o.canonical)]}if("composite"===o.bucket.iconSizeData.kind){const{minZoom:L,maxZoom:G}=o.bucket.iconSizeData;f.compositeIconSizes=[a["icon-size"].possiblyEvaluate(new Xn(L),o.canonical),a["icon-size"].possiblyEvaluate(new Xn(G),o.canonical)]}const w=t.get("text-line-height")*Ro,S="viewport"!==t.get("text-rotation-alignment")&&"point"!==t.get("symbol-placement"),T=t.get("text-keep-upright"),P=t.get("text-size");for(const L of o.bucket.features){const G=t.get("text-font").evaluate(L,{},o.canonical).join(","),K=P.evaluate(L,{},o.canonical),te=f.layoutTextSize.evaluate(L,{},o.canonical),le=f.layoutIconSize.evaluate(L,{},o.canonical),ue={horizontal:{},vertical:void 0},_e=L.text;let Be,Ue=[0,0];if(_e){const st=_e.toString(),It=t.get("text-letter-spacing").evaluate(L,{},o.canonical)*Ro,Ot=$(st)?It:0,Yt=t.get("text-anchor").evaluate(L,{},o.canonical),Pi=t.get("text-variable-anchor");if(!Pi){const ki=t.get("text-radial-offset").evaluate(L,{},o.canonical);Ue=ki?Tp(Yt,[ki*Ro,bm]):t.get("text-offset").evaluate(L,{},o.canonical).map(Di=>Di*Ro)}let ji=S?"center":t.get("text-justify").evaluate(L,{},o.canonical);const Ai=t.get("symbol-placement"),Ei="point"===Ai?t.get("text-max-width").evaluate(L,{},o.canonical)*Ro:0,vi=()=>{o.bucket.allowVerticalPlacement&&Q(st)&&(ue.vertical=xd(_e,o.glyphMap,o.glyphPositions,o.imagePositions,G,Ei,w,Yt,"left",Ot,Ue,v.WritingMode.vertical,!0,Ai,te,K))};if(!S&&Pi){const ki="auto"===ji?Pi.map(si=>xm(si)):[ji];let Di=!1;for(let si=0;si<ki.length;si++){const Qi=ki[si];if(!ue.horizontal[Qi])if(Di)ue.horizontal[Qi]=ue.horizontal[0];else{const Hi=xd(_e,o.glyphMap,o.glyphPositions,o.imagePositions,G,Ei,w,"center",Qi,Ot,Ue,v.WritingMode.horizontal,!1,Ai,te,K);Hi&&(ue.horizontal[Qi]=Hi,Di=1===Hi.positionedLines.length)}}vi()}else{"auto"===ji&&(ji=xm(Yt));const ki=xd(_e,o.glyphMap,o.glyphPositions,o.imagePositions,G,Ei,w,Yt,ji,Ot,Ue,v.WritingMode.horizontal,!1,Ai,te,K);ki&&(ue.horizontal[ji]=ki),vi(),Q(st)&&S&&T&&(ue.vertical=xd(_e,o.glyphMap,o.glyphPositions,o.imagePositions,G,Ei,w,Yt,ji,Ot,Ue,v.WritingMode.vertical,!1,Ai,te,K))}}let at=!1;if(L.icon&&L.icon.name){const st=o.imageMap[L.icon.name];st&&(Be=xp(o.imagePositions[L.icon.name],t.get("icon-offset").evaluate(L,{},o.canonical),t.get("icon-anchor").evaluate(L,{},o.canonical)),at=!!st.sdf,void 0===o.bucket.sdfIcons?o.bucket.sdfIcons=at:o.bucket.sdfIcons!==at&&Oe("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(st.pixelRatio!==o.bucket.pixelRatio||0!==t.get("icon-rotate").constantOr(1))&&(o.bucket.iconsNeedLinear=!0))}const yt=Ap(ue.horizontal)||ue.vertical;o.bucket.iconsInText=!!yt&&yt.iconsInText,(yt||Be)&&wm(o.bucket,L,ue,Be,o.imageMap,f,te,le,Ue,at,o.canonical)}o.showCollisionBoxes&&o.bucket.generateCollisionDebugBuffers()},v.perspective=function(o,t,a,f,w){var S,T=1/Math.tan(t/2);return o[0]=T/a,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=T,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=-1,o[12]=0,o[13]=0,o[15]=0,null!=w&&w!==1/0?(o[10]=(w+f)*(S=1/(f-w)),o[14]=2*w*f*S):(o[10]=-1,o[14]=-2*f),o},v.pick=function(o,t){const a={};for(let f=0;f<t.length;f++){const w=t[f];w in o&&(a[w]=o[w])}return a},v.plugin=fo,v.pointGeometry=ie,v.polygonIntersectsPolygon=Sh,v.potpack=rm,v.register=Ci,v.registerForPluginStateChange=function(o){return o({pluginStatus:tn,pluginURL:mr}),bs.on("pluginStateChange",o),o},v.renderColorRamp=ud,v.rotateX=function(o,t,a){var f=Math.sin(a),w=Math.cos(a),S=t[4],T=t[5],P=t[6],L=t[7],G=t[8],K=t[9],te=t[10],le=t[11];return t!==o&&(o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3],o[12]=t[12],o[13]=t[13],o[14]=t[14],o[15]=t[15]),o[4]=S*w+G*f,o[5]=T*w+K*f,o[6]=P*w+te*f,o[7]=L*w+le*f,o[8]=G*w-S*f,o[9]=K*w-T*f,o[10]=te*w-P*f,o[11]=le*w-L*f,o},v.rotateZ=function(o,t,a){var f=Math.sin(a),w=Math.cos(a),S=t[0],T=t[1],P=t[2],L=t[3],G=t[4],K=t[5],te=t[6],le=t[7];return t!==o&&(o[8]=t[8],o[9]=t[9],o[10]=t[10],o[11]=t[11],o[12]=t[12],o[13]=t[13],o[14]=t[14],o[15]=t[15]),o[0]=S*w+G*f,o[1]=T*w+K*f,o[2]=P*w+te*f,o[3]=L*w+le*f,o[4]=G*w-S*f,o[5]=K*w-T*f,o[6]=te*w-P*f,o[7]=le*w-L*f,o},v.sameOrigin=Et,v.scale=function(o,t,a){var f=a[0],w=a[1],S=a[2];return o[0]=t[0]*f,o[1]=t[1]*f,o[2]=t[2]*f,o[3]=t[3]*f,o[4]=t[4]*w,o[5]=t[5]*w,o[6]=t[6]*w,o[7]=t[7]*w,o[8]=t[8]*S,o[9]=t[9]*S,o[10]=t[10]*S,o[11]=t[11]*S,o[12]=t[12],o[13]=t[13],o[14]=t[14],o[15]=t[15],o},v.setRTLTextPlugin=function(o,t,a=!1){if(tn===jn||tn===Rn||tn===Tn)throw new Error("setRTLTextPlugin cannot be called multiple times.");mr=hn.resolveURL(o),tn=jn,yr=t,Yi(),a||jr()},v.sphericalToCartesian=function([o,t,a]){return t+=90,t*=Math.PI/180,a*=Math.PI/180,{x:o*Math.cos(t)*Math.sin(a),y:o*Math.sin(t)*Math.sin(a),z:o*Math.cos(a)}},v.toEvaluationFeature=cc,v.transformMat4=Qo,v.translate=function(o,t,a){var f,w,S,T,P,L,G,K,te,le,ue,_e,Be=a[0],Ue=a[1],at=a[2];return t===o?(o[12]=t[0]*Be+t[4]*Ue+t[8]*at+t[12],o[13]=t[1]*Be+t[5]*Ue+t[9]*at+t[13],o[14]=t[2]*Be+t[6]*Ue+t[10]*at+t[14],o[15]=t[3]*Be+t[7]*Ue+t[11]*at+t[15]):(w=t[1],S=t[2],T=t[3],P=t[4],L=t[5],G=t[6],K=t[7],te=t[8],le=t[9],ue=t[10],_e=t[11],o[0]=f=t[0],o[1]=w,o[2]=S,o[3]=T,o[4]=P,o[5]=L,o[6]=G,o[7]=K,o[8]=te,o[9]=le,o[10]=ue,o[11]=_e,o[12]=f*Be+P*Ue+te*at+t[12],o[13]=w*Be+L*Ue+le*at+t[13],o[14]=S*Be+G*Ue+ue*at+t[14],o[15]=T*Be+K*Ue+_e*at+t[15]),o},v.triggerPluginCompletionEvent=ra,v.unicodeBlockLookup=N,v.uniqueId=function(){return Nt++},v.v8Spec=De,v.validateCustomStyleLayer=function(o){const t=[],a=o.id;return void 0===a&&t.push({message:`layers.${a}: missing required property "id"`}),void 0===o.render&&t.push({message:`layers.${a}: missing required method "render"`}),o.renderingMode&&"2d"!==o.renderingMode&&"3d"!==o.renderingMode&&t.push({message:`layers.${a}: property "renderingMode" must be either "2d" or "3d"`}),t},v.validateLight=Qr,v.validateStyle=ks,v.vectorTile=dl,v.warnOnce=Oe,v.wrap=ut}),l(0,function(v){class $e{constructor(B){this.keyCache={},B&&this.replace(B)}replace(B){this._layerConfigs={},this._layers={},this.update(B,[])}update(B,U){for(const fe of B){this._layerConfigs[fe.id]=fe;const Ae=this._layers[fe.id]=v.createStyleLayer(fe);Ae._featureFilter=v.createFilter(Ae.filter),this.keyCache[fe.id]&&delete this.keyCache[fe.id]}for(const fe of U)delete this.keyCache[fe],delete this._layerConfigs[fe],delete this._layers[fe];this.familiesBySource={};const ee=v.groupByLayout(Object.values(this._layerConfigs),this.keyCache);for(const fe of ee){const Ae=fe.map(lt=>this._layers[lt.id]),pe=Ae[0];if("none"===pe.visibility)continue;const oe=pe.source||"";let X=this.familiesBySource[oe];X||(X=this.familiesBySource[oe]={});const he=pe.sourceLayer||"_geojsonTileLayer";let et=X[he];et||(et=X[he]=[]),et.push(Ae)}}}class ie{constructor(B){const U={},ee=[];for(const oe in B){const X=B[oe],he=U[oe]={};for(const et in X){const lt=X[+et];if(!lt||0===lt.bitmap.width||0===lt.bitmap.height)continue;const be={x:0,y:0,w:lt.bitmap.width+2,h:lt.bitmap.height+2};ee.push(be),he[et]={rect:be,metrics:lt.metrics}}}const{w:fe,h:Ae}=v.potpack(ee),pe=new v.AlphaImage({width:fe||1,height:Ae||1});for(const oe in B){const X=B[oe];for(const he in X){const et=X[+he];if(!et||0===et.bitmap.width||0===et.bitmap.height)continue;const lt=U[oe][he].rect;v.AlphaImage.copy(et.bitmap,pe,{x:0,y:0},{x:lt.x+1,y:lt.y+1},et.bitmap)}}this.image=pe,this.positions=U}}v.register("GlyphAtlas",ie);class Ge{constructor(B){this.tileID=new v.OverscaledTileID(B.tileID.overscaledZ,B.tileID.wrap,B.tileID.canonical.z,B.tileID.canonical.x,B.tileID.canonical.y),this.uid=B.uid,this.zoom=B.zoom,this.pixelRatio=B.pixelRatio,this.tileSize=B.tileSize,this.source=B.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=B.showCollisionBoxes,this.collectResourceTiming=!!B.collectResourceTiming,this.returnDependencies=!!B.returnDependencies,this.promoteId=B.promoteId}parse(B,U,ee,fe,Ae){this.status="parsing",this.data=B,this.collisionBoxArray=new v.CollisionBoxArray;const pe=new v.DictionaryCoder(Object.keys(B.layers).sort()),oe=new v.FeatureIndex(this.tileID,this.promoteId);oe.bucketLayerIDs=[];const X={},he={featureIndex:oe,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:ee},et=U.familiesBySource[this.source];for(const Me in et){const We=B.layers[Me];if(!We)continue;1===We.version&&v.warnOnce(`Vector tile source "${this.source}" layer "${Me}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const zt=pe.encode(Me),ri=[];for(let Ht=0;Ht<We.length;Ht++){const di=We.feature(Ht),Wn=oe.getId(di,Me);ri.push({feature:di,id:Wn,index:Ht,sourceLayerIndex:zt})}for(const Ht of et[Me]){const di=Ht[0];di.source!==this.source&&v.warnOnce(`layer.source = ${di.source} does not equal this.source = ${this.source}`),di.minzoom&&this.zoom<Math.floor(di.minzoom)||di.maxzoom&&this.zoom>=di.maxzoom||"none"!==di.visibility&&(ke(Ht,this.zoom,ee),(X[di.id]=di.createBucket({index:oe.bucketLayerIDs.length,layers:Ht,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:zt,sourceID:this.source})).populate(ri,he,this.tileID.canonical),oe.bucketLayerIDs.push(Ht.map(Wn=>Wn.id)))}}let lt,be,Se,de;const Ee=v.mapObject(he.glyphDependencies,Me=>Object.keys(Me).map(Number));Object.keys(Ee).length?fe.send("getGlyphs",{uid:this.uid,stacks:Ee,source:this.source,tileID:this.tileID,type:"glyphs"},(Me,We)=>{lt||(lt=Me,be=We,Ke.call(this))}):be={};const tt=Object.keys(he.iconDependencies);tt.length?fe.send("getImages",{icons:tt,source:this.source,tileID:this.tileID,type:"icons"},(Me,We)=>{lt||(lt=Me,Se=We,Ke.call(this))}):Se={};const Tt=Object.keys(he.patternDependencies);function Ke(){if(lt)return Ae(lt);if(be&&Se&&de){const Me=new ie(be),We=new v.ImageAtlas(Se,de);for(const zt in X){const ri=X[zt];ri instanceof v.SymbolBucket?(ke(ri.layers,this.zoom,ee),v.performSymbolLayout({bucket:ri,glyphMap:be,glyphPositions:Me.positions,imageMap:Se,imagePositions:We.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):ri.hasPattern&&(ri instanceof v.LineBucket||ri instanceof v.FillBucket||ri instanceof v.FillExtrusionBucket)&&(ke(ri.layers,this.zoom,ee),ri.addFeatures(he,this.tileID.canonical,We.patternPositions))}this.status="done",Ae(null,{buckets:Object.values(X).filter(zt=>!zt.isEmpty()),featureIndex:oe,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Me.image,imageAtlas:We,glyphMap:this.returnDependencies?be:null,iconMap:this.returnDependencies?Se:null,glyphPositions:this.returnDependencies?Me.positions:null})}}Tt.length?fe.send("getImages",{icons:Tt,source:this.source,tileID:this.tileID,type:"patterns"},(Me,We)=>{lt||(lt=Me,de=We,Ke.call(this))}):de={},Ke.call(this)}}function ke(q,B,U){const ee=new v.EvaluationParameters(B);for(const fe of q)fe.recalculate(ee,U)}function Ye(q,B){const U=v.getArrayBuffer(q.request,(ee,fe,Ae,pe)=>{ee?B(ee):fe&&B(null,{vectorTile:new v.vectorTile.VectorTile(new v.Protobuf(fe)),rawData:fe,cacheControl:Ae,expires:pe})});return()=>{U.cancel(),B()}}class Ve{constructor(B,U,ee,fe){this.actor=B,this.layerIndex=U,this.availableImages=ee,this.loadVectorData=fe||Ye,this.loading={},this.loaded={}}loadTile(B,U){const ee=B.uid;this.loading||(this.loading={});const fe=!!(B&&B.request&&B.request.collectResourceTiming)&&new v.RequestPerformance(B.request),Ae=this.loading[ee]=new Ge(B);Ae.abort=this.loadVectorData(B,(pe,oe)=>{if(delete this.loading[ee],pe||!oe)return Ae.status="done",this.loaded[ee]=Ae,U(pe);const X=oe.rawData,he={};oe.expires&&(he.expires=oe.expires),oe.cacheControl&&(he.cacheControl=oe.cacheControl);const et={};if(fe){const lt=fe.finish();lt&&(et.resourceTiming=JSON.parse(JSON.stringify(lt)))}Ae.vectorTile=oe.vectorTile,Ae.parse(oe.vectorTile,this.layerIndex,this.availableImages,this.actor,(lt,be)=>{if(lt||!be)return U(lt);U(null,v.extend({rawTileData:X.slice(0)},be,he,et))}),this.loaded=this.loaded||{},this.loaded[ee]=Ae})}reloadTile(B,U){const ee=this.loaded,fe=B.uid,Ae=this;if(ee&&ee[fe]){const pe=ee[fe];pe.showCollisionBoxes=B.showCollisionBoxes;const oe=(X,he)=>{const et=pe.reloadCallback;et&&(delete pe.reloadCallback,pe.parse(pe.vectorTile,Ae.layerIndex,this.availableImages,Ae.actor,et)),U(X,he)};"parsing"===pe.status?pe.reloadCallback=oe:"done"===pe.status&&(pe.vectorTile?pe.parse(pe.vectorTile,this.layerIndex,this.availableImages,this.actor,oe):oe())}}abortTile(B,U){const ee=this.loading,fe=B.uid;ee&&ee[fe]&&ee[fe].abort&&(ee[fe].abort(),delete ee[fe]),U()}removeTile(B,U){const ee=this.loaded,fe=B.uid;ee&&ee[fe]&&delete ee[fe],U()}}class it{constructor(){this.loaded={}}loadTile(B,U){const{uid:ee,encoding:fe,rawImageData:Ae}=B,pe=v.isImageBitmap(Ae)?this.getImageData(Ae):Ae,oe=new v.DEMData(ee,pe,fe);this.loaded=this.loaded||{},this.loaded[ee]=oe,U(null,oe)}getImageData(B){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(B.width,B.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=B.width,this.offscreenCanvas.height=B.height,this.offscreenCanvasContext.drawImage(B,0,0,B.width,B.height);const U=this.offscreenCanvasContext.getImageData(-1,-1,B.width+2,B.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new v.RGBAImage({width:U.width,height:U.height},U.data)}removeTile(B){const U=this.loaded,ee=B.uid;U&&U[ee]&&delete U[ee]}}function Le(q,B){if(0!==q.length){nt(q[0],B);for(var U=1;U<q.length;U++)nt(q[U],!B)}}function nt(q,B){for(var U=0,ee=0,fe=0,Ae=q.length,pe=Ae-1;fe<Ae;pe=fe++){var oe=(q[fe][0]-q[pe][0])*(q[pe][1]+q[fe][1]),X=U+oe;ee+=Math.abs(U)>=Math.abs(oe)?U-X+oe:oe-X+U,U=X}U+ee>=0!=!!B&&q.reverse()}var Qe=v.getDefaultExportFromCjs(function q(B,U){var ee,fe=B&&B.type;if("FeatureCollection"===fe)for(ee=0;ee<B.features.length;ee++)q(B.features[ee],U);else if("GeometryCollection"===fe)for(ee=0;ee<B.geometries.length;ee++)q(B.geometries[ee],U);else if("Feature"===fe)q(B.geometry,U);else if("Polygon"===fe)Le(B.coordinates,U);else if("MultiPolygon"===fe)for(ee=0;ee<B.coordinates.length;ee++)Le(B.coordinates[ee],U);return B});const ut=v.vectorTile.VectorTileFeature.prototype.toGeoJSON;var bt={exports:{}},Nt=v.pointGeometry,ti=v.vectorTile.VectorTileFeature,xi=Qt;function Qt(q,B){this.options=B||{},this.features=q,this.length=q.length}function Re(q,B){this.id="number"==typeof q.id?q.id:void 0,this.type=q.type,this.rawGeometry=1===q.type?[q.geometry]:q.geometry,this.properties=q.tags,this.extent=B||4096}Qt.prototype.feature=function(q){return new Re(this.features[q],this.options.extent)},Re.prototype.loadGeometry=function(){var q=this.rawGeometry;this.geometry=[];for(var B=0;B<q.length;B++){for(var U=q[B],ee=[],fe=0;fe<U.length;fe++)ee.push(new Nt(U[fe][0],U[fe][1]));this.geometry.push(ee)}return this.geometry},Re.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var q=this.geometry,B=1/0,U=-1/0,ee=1/0,fe=-1/0,Ae=0;Ae<q.length;Ae++)for(var pe=q[Ae],oe=0;oe<pe.length;oe++){var X=pe[oe];B=Math.min(B,X.x),U=Math.max(U,X.x),ee=Math.min(ee,X.y),fe=Math.max(fe,X.y)}return[B,ee,U,fe]},Re.prototype.toGeoJSON=ti.prototype.toGeoJSON;var Ze=v.pbf,Oe=xi;function gt(q){var B=new Ze;return function(U,ee){for(var fe in U.layers)ee.writeMessage(3,Rt,U.layers[fe])}(q,B),B.finish()}function Rt(q,B){var U;B.writeVarintField(15,q.version||1),B.writeStringField(1,q.name||""),B.writeVarintField(5,q.extent||4096);var ee={keys:[],values:[],keycache:{},valuecache:{}};for(U=0;U<q.length;U++)ee.feature=q.feature(U),B.writeMessage(2,At,ee);var fe=ee.keys;for(U=0;U<fe.length;U++)B.writeStringField(3,fe[U]);var Ae=ee.values;for(U=0;U<Ae.length;U++)B.writeMessage(4,En,Ae[U])}function At(q,B){var U=q.feature;void 0!==U.id&&B.writeVarintField(1,U.id),B.writeMessage(2,li,q),B.writeVarintField(3,U.type),B.writeMessage(4,Si,U)}function li(q,B){var U=q.feature,ee=q.keys,fe=q.values,Ae=q.keycache,pe=q.valuecache;for(var oe in U.properties){var X=U.properties[oe],he=Ae[oe];if(null!==X){void 0===he&&(ee.push(oe),Ae[oe]=he=ee.length-1),B.writeVarint(he);var et=typeof X;"string"!==et&&"boolean"!==et&&"number"!==et&&(X=JSON.stringify(X));var lt=et+":"+X,be=pe[lt];void 0===be&&(fe.push(X),pe[lt]=be=fe.length-1),B.writeVarint(be)}}}function Kt(q,B){return(B<<3)+(7&q)}function Li(q){return q<<1^q>>31}function Si(q,B){for(var U=q.loadGeometry(),ee=q.type,fe=0,Ae=0,pe=U.length,oe=0;oe<pe;oe++){var X=U[oe],he=1;1===ee&&(he=X.length),B.writeVarint(Kt(1,he));for(var et=3===ee?X.length-1:X.length,lt=0;lt<et;lt++){1===lt&&1!==ee&&B.writeVarint(Kt(2,et-1));var be=X[lt].x-fe,Se=X[lt].y-Ae;B.writeVarint(Li(be)),B.writeVarint(Li(Se)),fe+=be,Ae+=Se}3===ee&&B.writeVarint(Kt(7,1))}}function En(q,B){var U=typeof q;"string"===U?B.writeStringField(1,q):"boolean"===U?B.writeBooleanField(7,q):"number"===U&&(q%1!=0?B.writeDoubleField(3,q):q<0?B.writeSVarintField(6,q):B.writeVarintField(5,q))}bt.exports=gt,bt.exports.fromVectorTileJs=gt,bt.exports.fromGeojsonVt=function(q,B){B=B||{};var U={};for(var ee in q)U[ee]=new Oe(q[ee].features,B),U[ee].name=ee,U[ee].version=B.version,U[ee].extent=B.extent;return gt({layers:U})},bt.exports.GeoJSONWrapper=Oe;var Vn=v.getDefaultExportFromCjs(bt.exports);const hn={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:q=>q},Zn=Math.fround||(In=new Float32Array(1),q=>(In[0]=+q,In[0]));var In;const wt=3,xt=5,kt=6;class Ft{constructor(B){this.options=Object.assign(Object.create(hn),B),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(B){const{log:U,minZoom:ee,maxZoom:fe}=this.options;U&&console.time("total time");const Ae=`prepare ${B.length} points`;U&&console.time(Ae),this.points=B;const pe=[];for(let X=0;X<B.length;X++){const he=B[X];if(!he.geometry)continue;const[et,lt]=he.geometry.coordinates,be=Zn(hi(et)),Se=Zn(je(lt));pe.push(be,Se,1/0,X,-1,1),this.options.reduce&&pe.push(0)}let oe=this.trees[fe+1]=this._createTree(pe);U&&console.timeEnd(Ae);for(let X=fe;X>=ee;X--){const he=+Date.now();oe=this.trees[X]=this._createTree(this._cluster(oe,X)),U&&console.log("z%d: %d clusters in %dms",X,oe.numItems,+Date.now()-he)}return U&&console.timeEnd("total time"),this}getClusters(B,U){let ee=((B[0]+180)%360+360)%360-180;const fe=Math.max(-90,Math.min(90,B[1]));let Ae=180===B[2]?180:((B[2]+180)%360+360)%360-180;const pe=Math.max(-90,Math.min(90,B[3]));if(B[2]-B[0]>=360)ee=-180,Ae=180;else if(ee>Ae){const lt=this.getClusters([ee,fe,180,pe],U),be=this.getClusters([-180,fe,Ae,pe],U);return lt.concat(be)}const oe=this.trees[this._limitZoom(U)],X=oe.range(hi(ee),je(pe),hi(Ae),je(fe)),he=oe.data,et=[];for(const lt of X){const be=this.stride*lt;et.push(he[be+xt]>1?Jt(he,be,this.clusterProps):this.points[he[be+wt]])}return et}getChildren(B){const U=this._getOriginId(B),ee=this._getOriginZoom(B),fe="No cluster with the specified id.",Ae=this.trees[ee];if(!Ae)throw new Error(fe);const pe=Ae.data;if(U*this.stride>=pe.length)throw new Error(fe);const oe=this.options.radius/(this.options.extent*Math.pow(2,ee-1)),X=Ae.within(pe[U*this.stride],pe[U*this.stride+1],oe),he=[];for(const et of X){const lt=et*this.stride;pe[lt+4]===B&&he.push(pe[lt+xt]>1?Jt(pe,lt,this.clusterProps):this.points[pe[lt+wt]])}if(0===he.length)throw new Error(fe);return he}getLeaves(B,U,ee){const fe=[];return this._appendLeaves(fe,B,U=U||10,ee=ee||0,0),fe}getTile(B,U,ee){const fe=this.trees[this._limitZoom(B)],Ae=Math.pow(2,B),{extent:pe,radius:oe}=this.options,X=oe/pe,he=(ee-X)/Ae,et=(ee+1+X)/Ae,lt={features:[]};return this._addTileFeatures(fe.range((U-X)/Ae,he,(U+1+X)/Ae,et),fe.data,U,ee,Ae,lt),0===U&&this._addTileFeatures(fe.range(1-X/Ae,he,1,et),fe.data,Ae,ee,Ae,lt),U===Ae-1&&this._addTileFeatures(fe.range(0,he,X/Ae,et),fe.data,-1,ee,Ae,lt),lt.features.length?lt:null}getClusterExpansionZoom(B){let U=this._getOriginZoom(B)-1;for(;U<=this.options.maxZoom;){const ee=this.getChildren(B);if(U++,1!==ee.length)break;B=ee[0].properties.cluster_id}return U}_appendLeaves(B,U,ee,fe,Ae){const pe=this.getChildren(U);for(const oe of pe){const X=oe.properties;if(X&&X.cluster?Ae+X.point_count<=fe?Ae+=X.point_count:Ae=this._appendLeaves(B,X.cluster_id,ee,fe,Ae):Ae<fe?Ae++:B.push(oe),B.length===ee)break}return Ae}_createTree(B){const U=new v.KDBush(B.length/this.stride|0,this.options.nodeSize,Float32Array);for(let ee=0;ee<B.length;ee+=this.stride)U.add(B[ee],B[ee+1]);return U.finish(),U.data=B,U}_addTileFeatures(B,U,ee,fe,Ae,pe){for(const oe of B){const X=oe*this.stride,he=U[X+xt]>1;let et,lt,be;if(he)et=Et(U,X,this.clusterProps),lt=U[X],be=U[X+1];else{const Ee=this.points[U[X+wt]];et=Ee.properties;const[tt,Tt]=Ee.geometry.coordinates;lt=hi(tt),be=je(Tt)}const Se={type:1,geometry:[[Math.round(this.options.extent*(lt*Ae-ee)),Math.round(this.options.extent*(be*Ae-fe))]],tags:et};let de;de=he||this.options.generateId?U[X+wt]:this.points[U[X+wt]].id,void 0!==de&&(Se.id=de),pe.features.push(Se)}}_limitZoom(B){return Math.max(this.options.minZoom,Math.min(Math.floor(+B),this.options.maxZoom+1))}_cluster(B,U){const{radius:ee,extent:fe,reduce:Ae,minPoints:pe}=this.options,oe=ee/(fe*Math.pow(2,U)),X=B.data,he=[],et=this.stride;for(let lt=0;lt<X.length;lt+=et){if(X[lt+2]<=U)continue;X[lt+2]=U;const be=X[lt],Se=X[lt+1],de=B.within(X[lt],X[lt+1],oe),Ee=X[lt+xt];let tt=Ee;for(const Tt of de){const Ke=Tt*et;X[Ke+2]>U&&(tt+=X[Ke+xt])}if(tt>Ee&&tt>=pe){let Tt,Ke=be*Ee,Me=Se*Ee,We=-1;const zt=((lt/et|0)<<5)+(U+1)+this.points.length;for(const ri of de){const Ht=ri*et;if(X[Ht+2]<=U)continue;X[Ht+2]=U;const di=X[Ht+xt];Ke+=X[Ht]*di,Me+=X[Ht+1]*di,X[Ht+4]=zt,Ae&&(Tt||(Tt=this._map(X,lt,!0),We=this.clusterProps.length,this.clusterProps.push(Tt)),Ae(Tt,this._map(X,Ht)))}X[lt+4]=zt,he.push(Ke/tt,Me/tt,1/0,zt,-1,tt),Ae&&he.push(We)}else{for(let Tt=0;Tt<et;Tt++)he.push(X[lt+Tt]);if(tt>1)for(const Tt of de){const Ke=Tt*et;if(!(X[Ke+2]<=U)){X[Ke+2]=U;for(let Me=0;Me<et;Me++)he.push(X[Ke+Me])}}}}return he}_getOriginId(B){return B-this.points.length>>5}_getOriginZoom(B){return(B-this.points.length)%32}_map(B,U,ee){if(B[U+xt]>1){const pe=this.clusterProps[B[U+kt]];return ee?Object.assign({},pe):pe}const fe=this.points[B[U+wt]].properties,Ae=this.options.map(fe);return ee&&Ae===fe?Object.assign({},Ae):Ae}}function Jt(q,B,U){return{type:"Feature",id:q[B+wt],properties:Et(q,B,U),geometry:{type:"Point",coordinates:[(ee=q[B],360*(ee-.5)),ot(q[B+1])]}};var ee}function Et(q,B,U){const ee=q[B+xt],fe=ee>=1e4?`${Math.round(ee/1e3)}k`:ee>=1e3?Math.round(ee/100)/10+"k":ee,Ae=q[B+kt],pe=-1===Ae?{}:Object.assign({},U[Ae]);return Object.assign(pe,{cluster:!0,cluster_id:q[B+wt],point_count:ee,point_count_abbreviated:fe})}function hi(q){return q/360+.5}function je(q){const B=Math.sin(q*Math.PI/180),U=.5-.25*Math.log((1+B)/(1-B))/Math.PI;return U<0?0:U>1?1:U}function ot(q){const B=(180-360*q)*Math.PI/180;return 360*Math.atan(Math.exp(B))/Math.PI-90}function ht(q,B,U,ee){for(var fe,Ae=ee,pe=U-B>>1,oe=U-B,X=q[B],he=q[B+1],et=q[U],lt=q[U+1],be=B+3;be<U;be+=3){var Se=ct(q[be],q[be+1],X,he,et,lt);if(Se>Ae)fe=be,Ae=Se;else if(Se===Ae){var de=Math.abs(be-pe);de<oe&&(fe=be,oe=de)}}Ae>ee&&(fe-B>3&&ht(q,B,fe,ee),q[fe+2]=Ae,U-fe>3&&ht(q,fe,U,ee))}function ct(q,B,U,ee,fe,Ae){var pe=fe-U,oe=Ae-ee;if(0!==pe||0!==oe){var X=((q-U)*pe+(B-ee)*oe)/(pe*pe+oe*oe);X>1?(U=fe,ee=Ae):X>0&&(U+=pe*X,ee+=oe*X)}return(pe=q-U)*pe+(oe=B-ee)*oe}function De(q,B,U,ee){var fe={id:void 0===q?null:q,type:B,geometry:U,tags:ee,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Ae){var pe=Ae.geometry,oe=Ae.type;if("Point"===oe||"MultiPoint"===oe||"LineString"===oe)qt(Ae,pe);else if("Polygon"===oe||"MultiLineString"===oe)for(var X=0;X<pe.length;X++)qt(Ae,pe[X]);else if("MultiPolygon"===oe)for(X=0;X<pe.length;X++)for(var he=0;he<pe[X].length;he++)qt(Ae,pe[X][he])}(fe),fe}function qt(q,B){for(var U=0;U<B.length;U+=3)q.minX=Math.min(q.minX,B[U]),q.minY=Math.min(q.minY,B[U+1]),q.maxX=Math.max(q.maxX,B[U]),q.maxY=Math.max(q.maxY,B[U+1])}function Zt(q,B,U,ee){if(B.geometry){var fe=B.geometry.coordinates,Ae=B.geometry.type,pe=Math.pow(U.tolerance/((1<<U.maxZoom)*U.extent),2),oe=[],X=B.id;if(U.promoteId?X=B.properties[U.promoteId]:U.generateId&&(X=ee||0),"Point"===Ae)ei(fe,oe);else if("MultiPoint"===Ae)for(var he=0;he<fe.length;he++)ei(fe[he],oe);else if("LineString"===Ae)Xe(fe,oe,pe,!1);else if("MultiLineString"===Ae){if(U.lineMetrics){for(he=0;he<fe.length;he++)Xe(fe[he],oe=[],pe,!1),q.push(De(X,"LineString",oe,B.properties));return}St(fe,oe,pe,!1)}else if("Polygon"===Ae)St(fe,oe,pe,!0);else{if("MultiPolygon"!==Ae){if("GeometryCollection"===Ae){for(he=0;he<B.geometry.geometries.length;he++)Zt(q,{id:X,geometry:B.geometry.geometries[he],properties:B.properties},U,ee);return}throw new Error("Input data is not a valid GeoJSON object.")}for(he=0;he<fe.length;he++){var et=[];St(fe[he],et,pe,!0),oe.push(et)}}q.push(De(X,Ae,oe,B.properties))}}function ei(q,B){B.push(yi(q[0])),B.push(gn(q[1])),B.push(0)}function Xe(q,B,U,ee){for(var fe,Ae,pe=0,oe=0;oe<q.length;oe++){var X=yi(q[oe][0]),he=gn(q[oe][1]);B.push(X),B.push(he),B.push(0),oe>0&&(pe+=ee?(fe*he-X*Ae)/2:Math.sqrt(Math.pow(X-fe,2)+Math.pow(he-Ae,2))),fe=X,Ae=he}var et=B.length-3;B[2]=1,ht(B,0,et,U),B[et+2]=1,B.size=Math.abs(pe),B.start=0,B.end=B.size}function St(q,B,U,ee){for(var fe=0;fe<q.length;fe++){var Ae=[];Xe(q[fe],Ae,U,ee),B.push(Ae)}}function yi(q){return q/360+.5}function gn(q){var B=Math.sin(q*Math.PI/180),U=.5-.25*Math.log((1+B)/(1-B))/Math.PI;return U<0?0:U>1?1:U}function Zi(q,B,U,ee,fe,Ae,pe,oe){if(ee/=B,Ae>=(U/=B)&&pe<ee)return q;if(pe<U||Ae>=ee)return null;for(var X=[],he=0;he<q.length;he++){var et=q[he],lt=et.geometry,be=et.type,Se=0===fe?et.minX:et.minY,de=0===fe?et.maxX:et.maxY;if(Se>=U&&de<ee)X.push(et);else if(!(de<U||Se>=ee)){var Ee=[];if("Point"===be||"MultiPoint"===be)An(lt,Ee,U,ee,fe);else if("LineString"===be)vn(lt,Ee,U,ee,fe,!1,oe.lineMetrics);else if("MultiLineString"===be)Pe(lt,Ee,U,ee,fe,!1);else if("Polygon"===be)Pe(lt,Ee,U,ee,fe,!0);else if("MultiPolygon"===be)for(var tt=0;tt<lt.length;tt++){var Tt=[];Pe(lt[tt],Tt,U,ee,fe,!0),Tt.length&&Ee.push(Tt)}if(Ee.length){if(oe.lineMetrics&&"LineString"===be){for(tt=0;tt<Ee.length;tt++)X.push(De(et.id,be,Ee[tt],et.tags));continue}"LineString"!==be&&"MultiLineString"!==be||(1===Ee.length?(be="LineString",Ee=Ee[0]):be="MultiLineString"),"Point"!==be&&"MultiPoint"!==be||(be=3===Ee.length?"Point":"MultiPoint"),X.push(De(et.id,be,Ee,et.tags))}}}return X.length?X:null}function An(q,B,U,ee,fe){for(var Ae=0;Ae<q.length;Ae+=3){var pe=q[Ae+fe];pe>=U&&pe<=ee&&(B.push(q[Ae]),B.push(q[Ae+1]),B.push(q[Ae+2]))}}function vn(q,B,U,ee,fe,Ae,pe){for(var oe,X,he=Mn(q),et=0===fe?Ce:Ie,lt=q.start,be=0;be<q.length-3;be+=3){var Se=q[be],de=q[be+1],Ee=q[be+2],tt=q[be+3],Tt=q[be+4],Ke=0===fe?Se:de,Me=0===fe?tt:Tt,We=!1;pe&&(oe=Math.sqrt(Math.pow(Se-tt,2)+Math.pow(de-Tt,2))),Ke<U?Me>U&&(X=et(he,Se,de,tt,Tt,U),pe&&(he.start=lt+oe*X)):Ke>ee?Me<ee&&(X=et(he,Se,de,tt,Tt,ee),pe&&(he.start=lt+oe*X)):se(he,Se,de,Ee),Me<U&&Ke>=U&&(X=et(he,Se,de,tt,Tt,U),We=!0),Me>ee&&Ke<=ee&&(X=et(he,Se,de,tt,Tt,ee),We=!0),!Ae&&We&&(pe&&(he.end=lt+oe*X),B.push(he),he=Mn(q)),pe&&(lt+=oe)}var zt=q.length-3;Se=q[zt],de=q[zt+1],Ee=q[zt+2],(Ke=0===fe?Se:de)>=U&&Ke<=ee&&se(he,Se,de,Ee),zt=he.length-3,Ae&&zt>=3&&(he[zt]!==he[0]||he[zt+1]!==he[1])&&se(he,he[0],he[1],he[2]),he.length&&B.push(he)}function Mn(q){var B=[];return B.size=q.size,B.start=q.start,B.end=q.end,B}function Pe(q,B,U,ee,fe,Ae){for(var pe=0;pe<q.length;pe++)vn(q[pe],B,U,ee,fe,Ae,!1)}function se(q,B,U,ee){q.push(B),q.push(U),q.push(ee)}function Ce(q,B,U,ee,fe,Ae){var pe=(Ae-B)/(ee-B);return q.push(Ae),q.push(U+(fe-U)*pe),q.push(1),pe}function Ie(q,B,U,ee,fe,Ae){var pe=(Ae-U)/(fe-U);return q.push(B+(ee-B)*pe),q.push(Ae),q.push(1),pe}function Te(q,B){for(var U=[],ee=0;ee<q.length;ee++){var fe,Ae=q[ee],pe=Ae.type;if("Point"===pe||"MultiPoint"===pe||"LineString"===pe)fe=ne(Ae.geometry,B);else if("MultiLineString"===pe||"Polygon"===pe){fe=[];for(var oe=0;oe<Ae.geometry.length;oe++)fe.push(ne(Ae.geometry[oe],B))}else if("MultiPolygon"===pe)for(fe=[],oe=0;oe<Ae.geometry.length;oe++){for(var X=[],he=0;he<Ae.geometry[oe].length;he++)X.push(ne(Ae.geometry[oe][he],B));fe.push(X)}U.push(De(Ae.id,pe,fe,Ae.tags))}return U}function ne(q,B){var U=[];U.size=q.size,void 0!==q.start&&(U.start=q.start,U.end=q.end);for(var ee=0;ee<q.length;ee+=3)U.push(q[ee]+B,q[ee+1],q[ee+2]);return U}function Ne(q,B){if(q.transformed)return q;var U,ee,fe,Ae=1<<q.z,pe=q.x,oe=q.y;for(U=0;U<q.features.length;U++){var X=q.features[U],he=X.geometry,et=X.type;if(X.geometry=[],1===et)for(ee=0;ee<he.length;ee+=2)X.geometry.push(dt(he[ee],he[ee+1],B,Ae,pe,oe));else for(ee=0;ee<he.length;ee++){var lt=[];for(fe=0;fe<he[ee].length;fe+=2)lt.push(dt(he[ee][fe],he[ee][fe+1],B,Ae,pe,oe));X.geometry.push(lt)}}return q.transformed=!0,q}function dt(q,B,U,ee,fe,Ae){return[Math.round(U*(q*ee-fe)),Math.round(U*(B*ee-Ae))]}function jt(q,B,U,ee,fe){for(var Ae=B===fe.maxZoom?0:fe.tolerance/((1<<B)*fe.extent),pe={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:U,y:ee,z:B,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},oe=0;oe<q.length;oe++){pe.numFeatures++,Xt(pe,q[oe],Ae,fe);var X=q[oe].minX,he=q[oe].minY,et=q[oe].maxX,lt=q[oe].maxY;X<pe.minX&&(pe.minX=X),he<pe.minY&&(pe.minY=he),et>pe.maxX&&(pe.maxX=et),lt>pe.maxY&&(pe.maxY=lt)}return pe}function Xt(q,B,U,ee){var fe=B.geometry,Ae=B.type,pe=[];if("Point"===Ae||"MultiPoint"===Ae)for(var oe=0;oe<fe.length;oe+=3)pe.push(fe[oe]),pe.push(fe[oe+1]),q.numPoints++,q.numSimplified++;else if("LineString"===Ae)Ut(pe,fe,q,U,!1,!1);else if("MultiLineString"===Ae||"Polygon"===Ae)for(oe=0;oe<fe.length;oe++)Ut(pe,fe[oe],q,U,"Polygon"===Ae,0===oe);else if("MultiPolygon"===Ae)for(var X=0;X<fe.length;X++){var he=fe[X];for(oe=0;oe<he.length;oe++)Ut(pe,he[oe],q,U,!0,0===oe)}if(pe.length){var et=B.tags||null;if("LineString"===Ae&&ee.lineMetrics){for(var lt in et={},B.tags)et[lt]=B.tags[lt];et.mapbox_clip_start=fe.start/fe.size,et.mapbox_clip_end=fe.end/fe.size}var be={geometry:pe,type:"Polygon"===Ae||"MultiPolygon"===Ae?3:"LineString"===Ae||"MultiLineString"===Ae?2:1,tags:et};null!==B.id&&(be.id=B.id),q.features.push(be)}}function Ut(q,B,U,ee,fe,Ae){var pe=ee*ee;if(ee>0&&B.size<(fe?pe:ee))U.numPoints+=B.length/3;else{for(var oe=[],X=0;X<B.length;X+=3)(0===ee||B[X+2]>pe)&&(U.numSimplified++,oe.push(B[X]),oe.push(B[X+1])),U.numPoints++;fe&&function(he,et){for(var lt=0,be=0,Se=he.length,de=Se-2;be<Se;de=be,be+=2)lt+=(he[be]-he[de])*(he[be+1]+he[de+1]);if(lt>0===et)for(be=0,Se=he.length;be<Se/2;be+=2){var Ee=he[be],tt=he[be+1];he[be]=he[Se-2-be],he[be+1]=he[Se-1-be],he[Se-2-be]=Ee,he[Se-1-be]=tt}}(oe,Ae),q.push(oe)}}function pi(q,B){var U=(B=this.options=function(fe,Ae){for(var pe in Ae)fe[pe]=Ae[pe];return fe}(Object.create(this.options),B)).debug;if(U&&console.time("preprocess data"),B.maxZoom<0||B.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(B.promoteId&&B.generateId)throw new Error("promoteId and generateId cannot be used together.");var fe,Ae,pe,oe,X,he,ee=function(fe,Ae){var pe=[];if("FeatureCollection"===fe.type)for(var oe=0;oe<fe.features.length;oe++)Zt(pe,fe.features[oe],Ae,oe);else Zt(pe,"Feature"===fe.type?fe:{geometry:fe},Ae);return pe}(q,B);this.tiles={},this.tileCoords=[],U&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",B.indexMaxZoom,B.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),oe=fe=ee,X=Zi(fe,1,-1-(pe=(Ae=B).buffer/Ae.extent),pe,0,-1,2,Ae),he=Zi(fe,1,1-pe,2+pe,0,-1,2,Ae),(X||he)&&(oe=Zi(fe,1,-pe,1+pe,0,-1,2,Ae)||[],X&&(oe=Te(X,1).concat(oe)),he&&(oe=oe.concat(Te(he,-1)))),(ee=oe).length&&this.splitTile(ee,0,0,0),U&&(ee.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Ji(q,B,U){return 32*((1<<q)*U+B)+q}function en(q,B){return B?q.properties[B]:q.id}function cn(q,B){if(null==q)return!0;if("Feature"===q.type)return null!=en(q,B);if("FeatureCollection"===q.type){const U=new Set;for(const ee of q.features){const fe=en(ee,B);if(null==fe||U.has(fe))return!1;U.add(fe)}return!0}return!1}function Wi(q,B){const U=new Map;if(null!=q)if("Feature"===q.type)U.set(en(q,B),q);else for(const ee of q.features)U.set(en(ee,B),ee);return U}function _t(q,B){const U=q.tileID.canonical;if(!this._geoJSONIndex)return B(null,null);const ee=this._geoJSONIndex.getTile(U.z,U.x,U.y);if(!ee)return B(null,null);const fe=new class{constructor(pe){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=v.EXTENT,this.length=pe.length,this._features=pe}feature(pe){return new class{constructor(oe){this._feature=oe,this.extent=v.EXTENT,this.type=oe.type,this.properties=oe.tags,"id"in oe&&!isNaN(oe.id)&&(this.id=parseInt(oe.id,10))}loadGeometry(){if(1===this._feature.type){const oe=[];for(const X of this._feature.geometry)oe.push([new v.Point(X[0],X[1])]);return oe}{const oe=[];for(const X of this._feature.geometry){const he=[];for(const et of X)he.push(new v.Point(et[0],et[1]));oe.push(he)}return oe}}toGeoJSON(oe,X,he){return ut.call(this,oe,X,he)}}(this._features[pe])}}(ee.features);let Ae=Vn(fe);0===Ae.byteOffset&&Ae.byteLength===Ae.buffer.byteLength||(Ae=new Uint8Array(Ae)),B(null,{vectorTile:fe,rawData:Ae.buffer})}pi.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},pi.prototype.splitTile=function(q,B,U,ee,fe,Ae,pe){for(var oe=[q,B,U,ee],X=this.options,he=X.debug;oe.length;){ee=oe.pop(),U=oe.pop(),B=oe.pop(),q=oe.pop();var et=1<<B,lt=Ji(B,U,ee),be=this.tiles[lt];if(!be&&(he>1&&console.time("creation"),be=this.tiles[lt]=jt(q,B,U,ee,X),this.tileCoords.push({z:B,x:U,y:ee}),he)){he>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",B,U,ee,be.numFeatures,be.numPoints,be.numSimplified),console.timeEnd("creation"));var Se="z"+B;this.stats[Se]=(this.stats[Se]||0)+1,this.total++}if(be.source=q,fe){if(B===X.maxZoom||B===fe)continue;var de=1<<fe-B;if(U!==Math.floor(Ae/de)||ee!==Math.floor(pe/de))continue}else if(B===X.indexMaxZoom||be.numPoints<=X.indexMaxPoints)continue;if(be.source=null,0!==q.length){he>1&&console.time("clipping");var Ee,tt,Tt,Ke,Me,We,zt=.5*X.buffer/X.extent,ri=.5-zt,Ht=.5+zt,di=1+zt;Ee=tt=Tt=Ke=null,Me=Zi(q,et,U-zt,U+Ht,0,be.minX,be.maxX,X),We=Zi(q,et,U+ri,U+di,0,be.minX,be.maxX,X),q=null,Me&&(Ee=Zi(Me,et,ee-zt,ee+Ht,1,be.minY,be.maxY,X),tt=Zi(Me,et,ee+ri,ee+di,1,be.minY,be.maxY,X),Me=null),We&&(Tt=Zi(We,et,ee-zt,ee+Ht,1,be.minY,be.maxY,X),Ke=Zi(We,et,ee+ri,ee+di,1,be.minY,be.maxY,X),We=null),he>1&&console.timeEnd("clipping"),oe.push(Ee||[],B+1,2*U,2*ee),oe.push(tt||[],B+1,2*U,2*ee+1),oe.push(Tt||[],B+1,2*U+1,2*ee),oe.push(Ke||[],B+1,2*U+1,2*ee+1)}}},pi.prototype.getTile=function(q,B,U){var ee=this.options,fe=ee.extent,Ae=ee.debug;if(q<0||q>24)return null;var pe=1<<q,oe=Ji(q,B=(B%pe+pe)%pe,U);if(this.tiles[oe])return Ne(this.tiles[oe],fe);Ae>1&&console.log("drilling down to z%d-%d-%d",q,B,U);for(var X,he=q,et=B,lt=U;!X&&he>0;)he--,et=Math.floor(et/2),lt=Math.floor(lt/2),X=this.tiles[Ji(he,et,lt)];return X&&X.source?(Ae>1&&console.log("found parent tile z%d-%d-%d",he,et,lt),Ae>1&&console.time("drilling down"),this.splitTile(X.source,he,et,lt,q,B,U),Ae>1&&console.timeEnd("drilling down"),this.tiles[oe]?Ne(this.tiles[oe],fe):null):null};class mi extends Ve{constructor(B,U,ee,fe){super(B,U,ee,_t),this._dataUpdateable=new Map,this.loadGeoJSON=(Ae,pe)=>{const{promoteId:oe}=Ae;if(Ae.request)return v.getJSON(Ae.request,(X,he,et,lt)=>{this._dataUpdateable=cn(he,oe)?Wi(he,oe):void 0,pe(X,he,et,lt)});if("string"==typeof Ae.data)try{const X=JSON.parse(Ae.data);this._dataUpdateable=cn(X,oe)?Wi(X,oe):void 0,pe(null,X)}catch{pe(new Error(`Input data given to '${Ae.source}' is not a valid GeoJSON object.`))}else Ae.dataDiff?this._dataUpdateable?(function(X,he,et){var lt,be,Se,de;if(he.removeAll&&X.clear(),he.remove)for(const Ee of he.remove)X.delete(Ee);if(he.add)for(const Ee of he.add){const tt=en(Ee,et);null!=tt&&X.set(tt,Ee)}if(he.update)for(const Ee of he.update){let tt=X.get(Ee.id);if(null==tt)continue;const Tt=!Ee.removeAllProperties&&((null===(lt=Ee.removeProperties)||void 0===lt?void 0:lt.length)>0||(null===(be=Ee.addOrUpdateProperties)||void 0===be?void 0:be.length)>0);if((Ee.newGeometry||Ee.removeAllProperties||Tt)&&(tt={...tt},X.set(Ee.id,tt),Tt&&(tt.properties={...tt.properties})),Ee.newGeometry&&(tt.geometry=Ee.newGeometry),Ee.removeAllProperties)tt.properties={};else if((null===(Se=Ee.removeProperties)||void 0===Se?void 0:Se.length)>0)for(const Ke of Ee.removeProperties)Object.prototype.hasOwnProperty.call(tt.properties,Ke)&&delete tt.properties[Ke];if((null===(de=Ee.addOrUpdateProperties)||void 0===de?void 0:de.length)>0)for(const{key:Ke,value:Me}of Ee.addOrUpdateProperties)tt.properties[Ke]=Me}}(this._dataUpdateable,Ae.dataDiff,oe),pe(null,{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())})):pe(new Error(`Cannot update existing geojson data in ${Ae.source}`)):pe(new Error(`Input data given to '${Ae.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}},fe&&(this.loadGeoJSON=fe)}loadData(B,U){var ee;null===(ee=this._pendingRequest)||void 0===ee||ee.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const fe=!!(B&&B.request&&B.request.collectResourceTiming)&&new v.RequestPerformance(B.request);this._pendingCallback=U,this._pendingRequest=this.loadGeoJSON(B,(Ae,pe)=>{if(delete this._pendingCallback,delete this._pendingRequest,Ae||!pe)return U(Ae);if("object"!=typeof pe)return U(new Error(`Input data given to '${B.source}' is not a valid GeoJSON object.`));{Qe(pe,!0);try{if(B.filter){const X=v.createExpression(B.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===X.result)throw new Error(X.value.map(et=>`${et.key}: ${et.message}`).join(", "));pe={type:"FeatureCollection",features:pe.features.filter(et=>X.value.evaluate({zoom:0},et))}}this._geoJSONIndex=B.cluster?new Ft(function({superclusterOptions:X,clusterProperties:he}){if(!he||!X)return X;const et={},lt={},be={accumulated:null,zoom:0},Se={properties:null},de=Object.keys(he);for(const Ee of de){const[tt,Tt]=he[Ee],Ke=v.createExpression(Tt),Me=v.createExpression("string"==typeof tt?[tt,["accumulated"],["get",Ee]]:tt);et[Ee]=Ke.value,lt[Ee]=Me.value}return X.map=Ee=>{Se.properties=Ee;const tt={};for(const Tt of de)tt[Tt]=et[Tt].evaluate(be,Se);return tt},X.reduce=(Ee,tt)=>{Se.properties=tt;for(const Tt of de)be.accumulated=Ee[Tt],Ee[Tt]=lt[Tt].evaluate(be,Se)},X}(B)).load(pe.features):new pi(X=pe,B.geojsonVtOptions)}catch(X){return U(X)}this.loaded={};const oe={};if(fe){const X=fe.finish();X&&(oe.resourceTiming={},oe.resourceTiming[B.source]=JSON.parse(JSON.stringify(X)))}U(null,oe)}var X})}reloadTile(B,U){const ee=this.loaded;return ee&&ee[B.uid]?super.reloadTile(B,U):this.loadTile(B,U)}removeSource(B,U){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),U()}getClusterExpansionZoom(B,U){try{U(null,this._geoJSONIndex.getClusterExpansionZoom(B.clusterId))}catch(ee){U(ee)}}getClusterChildren(B,U){try{U(null,this._geoJSONIndex.getChildren(B.clusterId))}catch(ee){U(ee)}}getClusterLeaves(B,U){try{U(null,this._geoJSONIndex.getLeaves(B.clusterId,B.limit,B.offset))}catch(ee){U(ee)}}}class vt{constructor(B){this.self=B,this.actor=new v.Actor(B,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:Ve,geojson:mi},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(U,ee)=>{if(this.workerSourceTypes[U])throw new Error(`Worker source with name "${U}" already registered.`);this.workerSourceTypes[U]=ee},this.self.registerRTLTextPlugin=U=>{if(v.plugin.isParsed())throw new Error("RTL text plugin already registered.");v.plugin.applyArabicShaping=U.applyArabicShaping,v.plugin.processBidirectionalText=U.processBidirectionalText,v.plugin.processStyledBidirectionalText=U.processStyledBidirectionalText}}setReferrer(B,U){this.referrer=U}setImages(B,U,ee){this.availableImages[B]=U;for(const fe in this.workerSources[B]){const Ae=this.workerSources[B][fe];for(const pe in Ae)Ae[pe].availableImages=U}ee()}setLayers(B,U,ee){this.getLayerIndex(B).replace(U),ee()}updateLayers(B,U,ee){this.getLayerIndex(B).update(U.layers,U.removedIds),ee()}loadTile(B,U,ee){this.getWorkerSource(B,U.type,U.source).loadTile(U,ee)}loadDEMTile(B,U,ee){this.getDEMWorkerSource(B,U.source).loadTile(U,ee)}reloadTile(B,U,ee){this.getWorkerSource(B,U.type,U.source).reloadTile(U,ee)}abortTile(B,U,ee){this.getWorkerSource(B,U.type,U.source).abortTile(U,ee)}removeTile(B,U,ee){this.getWorkerSource(B,U.type,U.source).removeTile(U,ee)}removeDEMTile(B,U){this.getDEMWorkerSource(B,U.source).removeTile(U)}removeSource(B,U,ee){if(!this.workerSources[B]||!this.workerSources[B][U.type]||!this.workerSources[B][U.type][U.source])return;const fe=this.workerSources[B][U.type][U.source];delete this.workerSources[B][U.type][U.source],void 0!==fe.removeSource?fe.removeSource(U,ee):ee()}loadWorkerSource(B,U,ee){try{this.self.importScripts(U.url),ee()}catch(fe){ee(fe.toString())}}syncRTLPluginState(B,U,ee){try{v.plugin.setState(U);const fe=v.plugin.getPluginURL();if(v.plugin.isLoaded()&&!v.plugin.isParsed()&&null!=fe){this.self.importScripts(fe);const Ae=v.plugin.isParsed();ee(Ae?void 0:new Error(`RTL Text Plugin failed to import scripts from ${fe}`),Ae)}}catch(fe){ee(fe.toString())}}getAvailableImages(B){let U=this.availableImages[B];return U||(U=[]),U}getLayerIndex(B){let U=this.layerIndexes[B];return U||(U=this.layerIndexes[B]=new $e),U}getWorkerSource(B,U,ee){return this.workerSources[B]||(this.workerSources[B]={}),this.workerSources[B][U]||(this.workerSources[B][U]={}),this.workerSources[B][U][ee]||(this.workerSources[B][U][ee]=new this.workerSourceTypes[U]({send:(Ae,pe,oe)=>{this.actor.send(Ae,pe,oe,B)}},this.getLayerIndex(B),this.getAvailableImages(B))),this.workerSources[B][U][ee]}getDEMWorkerSource(B,U){return this.demWorkerSources[B]||(this.demWorkerSources[B]={}),this.demWorkerSources[B][U]||(this.demWorkerSources[B][U]=new it),this.demWorkerSources[B][U]}}return v.isWorker()&&(self.worker=new vt(self)),vt}),l(0,function(v){class ie{static testProp(i){if(!ie.docStyle)return i[0];for(let d=0;d<i.length;d++)if(i[d]in ie.docStyle)return i[d];return i[0]}static create(i,d,_){const C=window.document.createElement(i);return void 0!==d&&(C.className=d),_&&_.appendChild(C),C}static createNS(i,d){return window.document.createElementNS(i,d)}static disableDrag(){ie.docStyle&&ie.selectProp&&(ie.userSelect=ie.docStyle[ie.selectProp],ie.docStyle[ie.selectProp]="none")}static enableDrag(){ie.docStyle&&ie.selectProp&&(ie.docStyle[ie.selectProp]=ie.userSelect)}static setTransform(i,d){i.style[ie.transformProp]=d}static addEventListener(i,d,_,C={}){i.addEventListener(d,_,"passive"in C?C:C.capture)}static removeEventListener(i,d,_,C={}){i.removeEventListener(d,_,"passive"in C?C:C.capture)}static suppressClickInternal(i){i.preventDefault(),i.stopPropagation(),window.removeEventListener("click",ie.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",ie.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",ie.suppressClickInternal,!0)},0)}static mousePos(i,d){const _=i.getBoundingClientRect();return new v.Point(d.clientX-_.left-i.clientLeft,d.clientY-_.top-i.clientTop)}static touchPos(i,d){const _=i.getBoundingClientRect(),C=[];for(let h=0;h<d.length;h++)C.push(new v.Point(d[h].clientX-_.left-i.clientLeft,d[h].clientY-_.top-i.clientTop));return C}static mouseButton(i){return i.button}static remove(i){i.parentNode&&i.parentNode.removeChild(i)}}ie.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,ie.selectProp=ie.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),ie.transformProp=ie.testProp(["transform","WebkitTransform"]);const Ge={supported:!1,testSupport:function(x){!Ve&&Ye&&(it?Le(x):ke=x)}};let ke,Ye,Ve=!1,it=!1;function Le(x){const i=x.createTexture();x.bindTexture(x.TEXTURE_2D,i);try{if(x.texImage2D(x.TEXTURE_2D,0,x.RGBA,x.RGBA,x.UNSIGNED_BYTE,Ye),x.isContextLost())return;Ge.supported=!0}catch{}x.deleteTexture(i),Ve=!0}var nt;typeof document<"u"&&(Ye=document.createElement("img"),Ye.onload=function(){ke&&Le(ke),ke=null,it=!0},Ye.onerror=function(){Ve=!0,ke=null},Ye.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(x){let i,d,_,C;x.resetRequestQueue=()=>{i=[],d=0,_=0,C={}},x.addThrottleControl=I=>{const O=_++;return C[O]=I,O},x.removeThrottleControl=I=>{delete C[I],y()},x.getImage=(I,O,R=!0)=>{Ge.supported&&(I.headers||(I.headers={}),I.headers.accept="image/webp,*/*");const W={requestParameters:I,supportImageRefresh:R,callback:O,cancelled:!1,completed:!1,cancel:()=>{W.completed||W.cancelled||(W.cancelled=!0,W.innerRequest&&(W.innerRequest.cancel(),d--),y())}};return i.push(W),y(),W};const h=I=>{const{requestParameters:O,supportImageRefresh:R,callback:W}=I;return v.extend(O,{type:"image"}),(!1!==R||v.isWorker()||v.getProtocolAction(O.url)||O.headers&&!Object.keys(O.headers).reduce((ce,ye)=>ce&&"accept"===ye,!0)?v.makeRequest:E)(O,(ce,ye,we,Fe)=>{b(I,W,ce,ye,we,Fe)})},b=(I,O,R,W,ce,ye)=>{var we,Fe;R?O(R):W instanceof HTMLImageElement||W instanceof ImageBitmap?O(null,W):W&&(we=W,Fe=(we,Fe)=>{null!=we?O(we):null!=Fe&&O(null,Fe,{cacheControl:ce,expires:ye})},"function"==typeof createImageBitmap?v.arrayBufferToImageBitmap(we,Fe):v.arrayBufferToImage(we,Fe)),I.cancelled||(I.completed=!0,d--,y())},y=()=>{const I=(()=>{const O=Object.keys(C);let R=!1;if(O.length>0)for(const W of O)if(R=C[W](),R)break;return R})()?v.config.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:v.config.MAX_PARALLEL_IMAGE_REQUESTS;for(let O=d;O<I&&i.length>0;O++){const R=i.shift();if(R.cancelled){O--;continue}const W=h(R);d++,R.innerRequest=W}},E=(I,O)=>{const R=new Image,W=I.url;let ce=!1;const ye=I.credentials;return ye&&"include"===ye?R.crossOrigin="use-credentials":(ye&&"same-origin"===ye||!v.sameOrigin(W))&&(R.crossOrigin="anonymous"),R.fetchPriority="high",R.onload=()=>{O(null,R),R.onerror=R.onload=null},R.onerror=()=>{ce||O(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")),R.onerror=R.onload=null},R.src=W,{cancel:()=>{ce=!0,R.src=""}}}}(nt||(nt={})),nt.resetRequestQueue();var Qe,x,ut=nt;(x=Qe||(Qe={})).Glyphs="Glyphs",x.Image="Image",x.Source="Source",x.SpriteImage="SpriteImage",x.SpriteJSON="SpriteJSON",x.Style="Style",x.Tile="Tile",x.Unknown="Unknown";class bt{constructor(i){this._transformRequestFn=i}transformRequest(i,d){return this._transformRequestFn&&this._transformRequestFn(i,d)||{url:i}}normalizeSpriteURL(i,d,_){const C=function(h){const b=h.match(Nt);if(!b)throw new Error(`Unable to parse URL "${h}"`);return{protocol:b[1],authority:b[2],path:b[3]||"/",params:b[4]?b[4].split("&"):[]}}(i);return C.path+=`${d}${_}`,function(h){const b=h.params.length?`?${h.params.join("&")}`:"";return`${h.protocol}://${h.authority}${h.path}${b}`}(C)}setTransformRequest(i){this._transformRequestFn=i}}const Nt=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function ti(x){var i=new v.ARRAY_TYPE(3);return i[0]=x[0],i[1]=x[1],i[2]=x[2],i}var xi,Qt=function(x,i,d){return x[0]=i[0]-d[0],x[1]=i[1]-d[1],x[2]=i[2]-d[2],x};xi=new v.ARRAY_TYPE(3),v.ARRAY_TYPE!=Float32Array&&(xi[0]=0,xi[1]=0,xi[2]=0);var Re=function(x){var i=x[0],d=x[1];return i*i+d*d};function Ze(x){const i=[];if("string"==typeof x)i.push({id:"default",url:x});else if(x&&x.length>0){const d=[];for(const{id:_,url:C}of x){const h=`${_}${C}`;-1===d.indexOf(h)&&(d.push(h),i.push({id:_,url:C}))}}return i}function Oe(x,i,d,_,C){if(_)return void x(_);if(C!==Object.values(i).length||C!==Object.values(d).length)return;const h={};for(const b in i){h[b]={};const y=v.exported.getImageCanvasContext(d[b]),E=i[b];for(const I in E){const{width:O,height:R,x:W,y:ce,sdf:ye,pixelRatio:we,stretchX:Fe,stretchY:rt,content:Mt}=E[I];h[b][I]={data:null,pixelRatio:we,sdf:ye,stretchX:Fe,stretchY:rt,content:Mt,spriteData:{width:O,height:R,x:W,y:ce,context:y}}}}x(null,h)}!function(){var x=new v.ARRAY_TYPE(2);v.ARRAY_TYPE!=Float32Array&&(x[0]=0,x[1]=0)}();class gt{constructor(i,d,_,C){this.context=i,this.format=_,this.texture=i.gl.createTexture(),this.update(d,C)}update(i,d,_){const{width:C,height:h}=i,b=!(this.size&&this.size[0]===C&&this.size[1]===h||_),{context:y}=this,{gl:E}=y;if(this.useMipmap=!(!d||!d.useMipmap),E.bindTexture(E.TEXTURE_2D,this.texture),y.pixelStoreUnpackFlipY.set(!1),y.pixelStoreUnpack.set(1),y.pixelStoreUnpackPremultiplyAlpha.set(this.format===E.RGBA&&(!d||!1!==d.premultiply)),b)this.size=[C,h],i instanceof HTMLImageElement||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageData||v.isImageBitmap(i)?E.texImage2D(E.TEXTURE_2D,0,this.format,this.format,E.UNSIGNED_BYTE,i):E.texImage2D(E.TEXTURE_2D,0,this.format,C,h,0,this.format,E.UNSIGNED_BYTE,i.data);else{const{x:I,y:O}=_||{x:0,y:0};i instanceof HTMLImageElement||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageData||v.isImageBitmap(i)?E.texSubImage2D(E.TEXTURE_2D,0,I,O,E.RGBA,E.UNSIGNED_BYTE,i):E.texSubImage2D(E.TEXTURE_2D,0,I,O,C,h,E.RGBA,E.UNSIGNED_BYTE,i.data)}this.useMipmap&&this.isSizePowerOfTwo()&&E.generateMipmap(E.TEXTURE_2D)}bind(i,d,_){const{context:C}=this,{gl:h}=C;h.bindTexture(h.TEXTURE_2D,this.texture),_!==h.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(_=h.LINEAR),i!==this.filter&&(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,i),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,_||i),this.filter=i),d!==this.wrap&&(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,d),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,d),this.wrap=d)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:i}=this.context;i.deleteTexture(this.texture),this.texture=null}}function Rt(x){const{userImage:i}=x;return!!(i&&i.render&&i.render())&&(x.data.replace(new Uint8Array(i.data.buffer)),!0)}class At extends v.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new v.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(i){if(this.loaded!==i&&(this.loaded=i,i)){for(const{ids:d,callback:_}of this.requestors)this._notify(d,_);this.requestors=[]}}getImage(i){const d=this.images[i];if(d&&!d.data&&d.spriteData){const _=d.spriteData;d.data=new v.RGBAImage({width:_.width,height:_.height},_.context.getImageData(_.x,_.y,_.width,_.height).data),d.spriteData=null}return d}addImage(i,d){if(this.images[i])throw new Error(`Image id ${i} already exist, use updateImage instead`);this._validate(i,d)&&(this.images[i]=d)}_validate(i,d){let _=!0;const C=d.data||d.spriteData;return this._validateStretch(d.stretchX,C&&C.width)||(this.fire(new v.ErrorEvent(new Error(`Image "${i}" has invalid "stretchX" value`))),_=!1),this._validateStretch(d.stretchY,C&&C.height)||(this.fire(new v.ErrorEvent(new Error(`Image "${i}" has invalid "stretchY" value`))),_=!1),this._validateContent(d.content,d)||(this.fire(new v.ErrorEvent(new Error(`Image "${i}" has invalid "content" value`))),_=!1),_}_validateStretch(i,d){if(!i)return!0;let _=0;for(const C of i){if(C[0]<_||C[1]<C[0]||d<C[1])return!1;_=C[1]}return!0}_validateContent(i,d){if(!i)return!0;if(4!==i.length)return!1;const _=d.spriteData,C=_&&_.width||d.data.width,h=_&&_.height||d.data.height;return!(i[0]<0||C<i[0]||i[1]<0||h<i[1]||i[2]<0||C<i[2]||i[3]<0||h<i[3]||i[2]<i[0]||i[3]<i[1])}updateImage(i,d,_=!0){const C=this.getImage(i);if(_&&(C.data.width!==d.data.width||C.data.height!==d.data.height))throw new Error(`size mismatch between old image (${C.data.width}x${C.data.height}) and new image (${d.data.width}x${d.data.height}).`);d.version=C.version+1,this.images[i]=d,this.updatedImages[i]=!0}removeImage(i){const d=this.images[i];delete this.images[i],delete this.patterns[i],d.userImage&&d.userImage.onRemove&&d.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(i,d){let _=!0;if(!this.isLoaded())for(const C of i)this.images[C]||(_=!1);this.isLoaded()||_?this._notify(i,d):this.requestors.push({ids:i,callback:d})}_notify(i,d){const _={};for(const C of i){let h=this.getImage(C);h||(this.fire(new v.Event("styleimagemissing",{id:C})),h=this.getImage(C)),h?_[C]={data:h.data.clone(),pixelRatio:h.pixelRatio,sdf:h.sdf,version:h.version,stretchX:h.stretchX,stretchY:h.stretchY,content:h.content,hasRenderCallback:!(!h.userImage||!h.userImage.render)}:v.warnOnce(`Image "${C}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}d(null,_)}getPixelSize(){const{width:i,height:d}=this.atlasImage;return{width:i,height:d}}getPattern(i){const d=this.patterns[i],_=this.getImage(i);if(!_)return null;if(d&&d.position.version===_.version)return d.position;if(d)d.position.version=_.version;else{const C={w:_.data.width+2,h:_.data.height+2,x:0,y:0},h=new v.ImagePosition(C,_);this.patterns[i]={bin:C,position:h}}return this._updatePatternAtlas(),this.patterns[i].position}bind(i){const d=i.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new gt(i,this.atlasImage,d.RGBA),this.atlasTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE)}_updatePatternAtlas(){const i=[];for(const h in this.patterns)i.push(this.patterns[h].bin);const{w:d,h:_}=v.potpack(i),C=this.atlasImage;C.resize({width:d||1,height:_||1});for(const h in this.patterns){const{bin:b}=this.patterns[h],y=b.x+1,E=b.y+1,I=this.getImage(h).data,O=I.width,R=I.height;v.RGBAImage.copy(I,C,{x:0,y:0},{x:y,y:E},{width:O,height:R}),v.RGBAImage.copy(I,C,{x:0,y:R-1},{x:y,y:E-1},{width:O,height:1}),v.RGBAImage.copy(I,C,{x:0,y:0},{x:y,y:E+R},{width:O,height:1}),v.RGBAImage.copy(I,C,{x:O-1,y:0},{x:y-1,y:E},{width:1,height:R}),v.RGBAImage.copy(I,C,{x:0,y:0},{x:y+O,y:E},{width:1,height:R})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(i){for(const d of i){if(this.callbackDispatchedThisFrame[d])continue;this.callbackDispatchedThisFrame[d]=!0;const _=this.getImage(d);_||v.warnOnce(`Image with ID: "${d}" was not found`),Rt(_)&&this.updateImage(d,_)}}}const li=1e20;function Kt(x,i,d,_,C,h,b,y,E){for(let I=i;I<i+_;I++)Li(x,d*h+I,h,C,b,y,E);for(let I=d;I<d+C;I++)Li(x,I*h+i,1,_,b,y,E)}function Li(x,i,d,_,C,h,b){h[0]=0,b[0]=-li,b[1]=li,C[0]=x[i];for(let y=1,E=0,I=0;y<_;y++){C[y]=x[i+y*d];const O=y*y;do{const R=h[E];I=(C[y]-C[R]+O-R*R)/(y-R)/2}while(I<=b[E]&&--E>-1);E++,h[E]=y,b[E]=I,b[E+1]=li}for(let y=0,E=0;y<_;y++){for(;b[E+1]<y;)E++;const I=h[E],O=y-I;x[i+y*d]=C[I]+O*O}}class Si{constructor(i,d){this.requestManager=i,this.localIdeographFontFamily=d,this.entries={}}setURL(i){this.url=i}getGlyphs(i,d){const _=[];for(const C in i)for(const h of i[C])_.push({stack:C,id:h});v.asyncAll(_,({stack:C,id:h},b)=>{let y=this.entries[C];y||(y=this.entries[C]={glyphs:{},requests:{},ranges:{}});let E=y.glyphs[h];if(void 0!==E)return void b(null,{stack:C,id:h,glyph:E});if(E=this._tinySDF(y,C,h),E)return y.glyphs[h]=E,void b(null,{stack:C,id:h,glyph:E});const I=Math.floor(h/256);if(256*I>65535)return void b(new Error("glyphs > 65535 not supported"));if(y.ranges[I])return void b(null,{stack:C,id:h,glyph:E});if(!this.url)return void b(new Error("glyphsUrl is not set"));let O=y.requests[I];O||(O=y.requests[I]=[],Si.loadGlyphRange(C,I,this.url,this.requestManager,(R,W)=>{if(W){for(const ce in W)this._doesCharSupportLocalGlyph(+ce)||(y.glyphs[+ce]=W[+ce]);y.ranges[I]=!0}for(const ce of O)ce(R,W);delete y.requests[I]})),O.push((R,W)=>{R?b(R):W&&b(null,{stack:C,id:h,glyph:W[h]||null})})},(C,h)=>{if(C)d(C);else if(h){const b={};for(const{stack:y,id:E,glyph:I}of h)(b[y]||(b[y]={}))[E]=I&&{id:I.id,bitmap:I.bitmap.clone(),metrics:I.metrics};d(null,b)}})}_doesCharSupportLocalGlyph(i){return!!this.localIdeographFontFamily&&(v.unicodeBlockLookup["CJK Unified Ideographs"](i)||v.unicodeBlockLookup["Hangul Syllables"](i)||v.unicodeBlockLookup.Hiragana(i)||v.unicodeBlockLookup.Katakana(i))}_tinySDF(i,d,_){const C=this.localIdeographFontFamily;if(!C||!this._doesCharSupportLocalGlyph(_))return;let h=i.tinySDF;if(!h){let y="400";/bold/i.test(d)?y="900":/medium/i.test(d)?y="500":/light/i.test(d)&&(y="200"),h=i.tinySDF=new Si.TinySDF({fontSize:24,buffer:3,radius:8,cutoff:.25,fontFamily:C,fontWeight:y})}const b=h.draw(String.fromCharCode(_));return{id:_,bitmap:new v.AlphaImage({width:b.width||30,height:b.height||30},b.data),metrics:{width:b.glyphWidth||24,height:b.glyphHeight||24,left:b.glyphLeft||0,top:b.glyphTop-27||-8,advance:b.glyphAdvance||24}}}}Si.loadGlyphRange=function(x,i,d,_,C){const h=256*i,b=h+255,y=_.transformRequest(d.replace("{fontstack}",x).replace("{range}",`${h}-${b}`),Qe.Glyphs);v.getArrayBuffer(y,(E,I)=>{if(E)C(E);else if(I){const O={};for(const R of v.parseGlyphPbf(I))O[R.id]=R;C(null,O)}})},Si.TinySDF=class{constructor({fontSize:x=24,buffer:i=3,radius:d=8,cutoff:_=.25,fontFamily:C="sans-serif",fontWeight:h="normal",fontStyle:b="normal"}={}){this.buffer=i,this.cutoff=_,this.radius=d;const y=this.size=x+4*i,E=this._createCanvas(y),I=this.ctx=E.getContext("2d",{willReadFrequently:!0});I.font=`${b} ${h} ${x}px ${C}`,I.textBaseline="alphabetic",I.textAlign="left",I.fillStyle="black",this.gridOuter=new Float64Array(y*y),this.gridInner=new Float64Array(y*y),this.f=new Float64Array(y),this.z=new Float64Array(y+1),this.v=new Uint16Array(y)}_createCanvas(x){const i=document.createElement("canvas");return i.width=i.height=x,i}draw(x){const{width:i,actualBoundingBoxAscent:d,actualBoundingBoxDescent:_,actualBoundingBoxLeft:C,actualBoundingBoxRight:h}=this.ctx.measureText(x),b=Math.ceil(d),y=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(h-C))),E=Math.min(this.size-this.buffer,b+Math.ceil(_)),I=y+2*this.buffer,O=E+2*this.buffer,R=Math.max(I*O,0),W=new Uint8ClampedArray(R),ce={data:W,width:I,height:O,glyphWidth:y,glyphHeight:E,glyphTop:b,glyphLeft:0,glyphAdvance:i};if(0===y||0===E)return ce;const{ctx:ye,buffer:we,gridInner:Fe,gridOuter:rt}=this;ye.clearRect(we,we,y,E),ye.fillText(x,we,we+b);const Mt=ye.getImageData(we,we,y,E);rt.fill(li,0,R),Fe.fill(0,0,R);for(let He=0;He<E;He++)for(let Ct=0;Ct<y;Ct++){const Lt=Mt.data[4*(He*y+Ct)+3]/255;if(0===Lt)continue;const Wt=(He+we)*I+Ct+we;if(1===Lt)rt[Wt]=0,Fe[Wt]=li;else{const oi=.5-Lt;rt[Wt]=oi>0?oi*oi:0,Fe[Wt]=oi<0?oi*oi:0}}Kt(rt,0,0,I,O,I,this.f,this.v,this.z),Kt(Fe,we,we,y,E,I,this.f,this.v,this.z);for(let He=0;He<R;He++){const Ct=Math.sqrt(rt[He])-Math.sqrt(Fe[He]);W[He]=Math.round(255-255*(Ct/this.radius+this.cutoff))}return ce}};class En{constructor(){this.specification=v.v8Spec.light.position}possiblyEvaluate(i,d){return v.sphericalToCartesian(i.expression.evaluate(d))}interpolate(i,d,_){return{x:v.interpolate.number(i.x,d.x,_),y:v.interpolate.number(i.y,d.y,_),z:v.interpolate.number(i.z,d.z,_)}}}let Vn,hn;class Zn extends v.Evented{constructor(i){super(),Vn=Vn||new v.Properties({anchor:new v.DataConstantProperty(v.v8Spec.light.anchor),position:new En,color:new v.DataConstantProperty(v.v8Spec.light.color),intensity:new v.DataConstantProperty(v.v8Spec.light.intensity)}),this._transitionable=new v.Transitionable(Vn),this.setLight(i),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(i,d={}){if(!this._validate(v.validateLight,i,d))for(const _ in i){const C=i[_];_.endsWith("-transition")?this._transitionable.setTransition(_.slice(0,-11),C):this._transitionable.setValue(_,C)}}updateTransitions(i){this._transitioning=this._transitionable.transitioned(i,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(i){this.properties=this._transitioning.possiblyEvaluate(i)}_validate(i,d,_){return(!_||!1!==_.validate)&&v.emitValidationErrors(this,i.call(v.validateStyle,v.extend({value:d,style:{glyphs:!0,sprite:!0},styleSpec:v.v8Spec})))}}class In{constructor(i,d){this.width=i,this.height=d,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(i,d){const _=i.join(",")+String(d);return this.dashEntry[_]||(this.dashEntry[_]=this.addDash(i,d)),this.dashEntry[_]}getDashRanges(i,d,_){const C=[];let h=i.length%2==1?-i[i.length-1]*_:0,b=i[0]*_,y=!0;C.push({left:h,right:b,isDash:y,zeroLength:0===i[0]});let E=i[0];for(let I=1;I<i.length;I++){y=!y;const O=i[I];h=E*_,E+=O,b=E*_,C.push({left:h,right:b,isDash:y,zeroLength:0===O})}return C}addRoundDash(i,d,_){const C=d/2;for(let h=-_;h<=_;h++){const b=this.width*(this.nextRow+_+h);let y=0,E=i[y];for(let I=0;I<this.width;I++){I/E.right>1&&(E=i[++y]);const O=Math.abs(I-E.left),R=Math.abs(I-E.right),W=Math.min(O,R);let ce;const ye=h/_*(C+1);if(E.isDash){const we=C-Math.abs(ye);ce=Math.sqrt(W*W+we*we)}else ce=C-Math.sqrt(W*W+ye*ye);this.data[b+I]=Math.max(0,Math.min(255,ce+128))}}}addRegularDash(i){for(let y=i.length-1;y>=0;--y){const E=i[y],I=i[y+1];E.zeroLength?i.splice(y,1):I&&I.isDash===E.isDash&&(I.left=E.left,i.splice(y,1))}const d=i[0],_=i[i.length-1];d.isDash===_.isDash&&(d.left=_.left-this.width,_.right=d.right+this.width);const C=this.width*this.nextRow;let h=0,b=i[h];for(let y=0;y<this.width;y++){y/b.right>1&&(b=i[++h]);const E=Math.abs(y-b.left),I=Math.abs(y-b.right),O=Math.min(E,I);this.data[C+y]=Math.max(0,Math.min(255,(b.isDash?O:-O)+128))}}addDash(i,d){const _=d?7:0,C=2*_+1;if(this.nextRow+C>this.height)return v.warnOnce("LineAtlas out of space"),null;let h=0;for(let y=0;y<i.length;y++)h+=i[y];if(0!==h){const y=this.width/h,E=this.getDashRanges(i,this.width,y);d?this.addRoundDash(E,y,_):this.addRegularDash(E)}const b={y:(this.nextRow+_+.5)/this.height,height:2*_/this.height,width:h};return this.nextRow+=C,this.dirty=!0,b}bind(i){const d=i.gl;this.texture?(d.bindTexture(d.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,d.texSubImage2D(d.TEXTURE_2D,0,0,0,this.width,this.height,d.ALPHA,d.UNSIGNED_BYTE,this.data))):(this.texture=d.createTexture(),d.bindTexture(d.TEXTURE_2D,this.texture),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),d.texImage2D(d.TEXTURE_2D,0,d.ALPHA,this.width,this.height,0,d.ALPHA,d.UNSIGNED_BYTE,this.data))}}class wt{constructor(i,d,_){this.workerPool=i,this.actors=[],this.currentActor=0,this.id=_;const C=this.workerPool.acquire(_);for(let h=0;h<C.length;h++){const b=new wt.Actor(C[h],d,_);b.name=`Worker ${h}`,this.actors.push(b)}if(!this.actors.length)throw new Error("No actors found")}broadcast(i,d,_){v.asyncAll(this.actors,(C,h)=>{C.send(i,d,h)},_=_||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(i=!0){this.actors.forEach(d=>{d.remove()}),this.actors=[],i&&this.workerPool.release(this.id)}}function xt(x,i,d){const _=function(C,h){if(C)return d(C);if(h){const b=v.pick(v.extend(h,x),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);h.vector_layers&&(b.vectorLayers=h.vector_layers,b.vectorLayerIds=b.vectorLayers.map(y=>y.id)),d(null,b)}};return x.url?v.getJSON(i.transformRequest(x.url,Qe.Source),_):v.exported.frame(()=>_(null,x))}wt.Actor=v.Actor;class kt{constructor(i,d){i&&(d?this.setSouthWest(i).setNorthEast(d):Array.isArray(i)&&(4===i.length?this.setSouthWest([i[0],i[1]]).setNorthEast([i[2],i[3]]):this.setSouthWest(i[0]).setNorthEast(i[1])))}setNorthEast(i){return this._ne=i instanceof v.LngLat?new v.LngLat(i.lng,i.lat):v.LngLat.convert(i),this}setSouthWest(i){return this._sw=i instanceof v.LngLat?new v.LngLat(i.lng,i.lat):v.LngLat.convert(i),this}extend(i){const d=this._sw,_=this._ne;let C,h;if(i instanceof v.LngLat)C=i,h=i;else{if(!(i instanceof kt))return Array.isArray(i)?4===i.length||i.every(Array.isArray)?this.extend(kt.convert(i)):this.extend(v.LngLat.convert(i)):i&&("lng"in i||"lon"in i)&&"lat"in i?this.extend(v.LngLat.convert(i)):this;if(C=i._sw,h=i._ne,!C||!h)return this}return d||_?(d.lng=Math.min(C.lng,d.lng),d.lat=Math.min(C.lat,d.lat),_.lng=Math.max(h.lng,_.lng),_.lat=Math.max(h.lat,_.lat)):(this._sw=new v.LngLat(C.lng,C.lat),this._ne=new v.LngLat(h.lng,h.lat)),this}getCenter(){return new v.LngLat((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new v.LngLat(this.getWest(),this.getNorth())}getSouthEast(){return new v.LngLat(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(i){const{lng:d,lat:_}=v.LngLat.convert(i);let C=this._sw.lng<=d&&d<=this._ne.lng;return this._sw.lng>this._ne.lng&&(C=this._sw.lng>=d&&d>=this._ne.lng),this._sw.lat<=_&&_<=this._ne.lat&&C}static convert(i){return i instanceof kt?i:i&&new kt(i)}static fromLngLat(i,d=0){const _=360*d/40075017,C=_/Math.cos(Math.PI/180*i.lat);return new kt(new v.LngLat(i.lng-C,i.lat-_),new v.LngLat(i.lng+C,i.lat+_))}}class Ft{constructor(i,d,_){this.bounds=kt.convert(this.validateBounds(i)),this.minzoom=d||0,this.maxzoom=_||24}validateBounds(i){return Array.isArray(i)&&4===i.length?[Math.max(-180,i[0]),Math.max(-90,i[1]),Math.min(180,i[2]),Math.min(90,i[3])]:[-180,-90,180,90]}contains(i){const d=Math.pow(2,i.z),_=Math.floor(v.mercatorXfromLng(this.bounds.getWest())*d),C=Math.floor(v.mercatorYfromLat(this.bounds.getNorth())*d),h=Math.ceil(v.mercatorXfromLng(this.bounds.getEast())*d),b=Math.ceil(v.mercatorYfromLat(this.bounds.getSouth())*d);return i.x>=_&&i.x<h&&i.y>=C&&i.y<b}}class Jt extends v.Evented{constructor(i,d,_,C){if(super(),this.id=i,this.dispatcher=_,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,v.extend(this,v.pick(d,["url","scheme","tileSize","promoteId"])),this._options=v.extend({type:"vector"},d),this._collectResourceTiming=d.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(C)}load(){this._loaded=!1,this.fire(new v.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=xt(this._options,this.map._requestManager,(i,d)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),i?this.fire(new v.ErrorEvent(i)):d&&(v.extend(this,d),d.bounds&&(this.tileBounds=new Ft(d.bounds,this.minzoom,this.maxzoom)),this.fire(new v.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new v.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}hasTile(i){return!this.tileBounds||this.tileBounds.contains(i.canonical)}onAdd(i){this.map=i,this.load()}setSourceProperty(i){this._tileJSONRequest&&this._tileJSONRequest.cancel(),i(),this.load()}setTiles(i){return this.setSourceProperty(()=>{this._options.tiles=i}),this}setUrl(i){return this.setSourceProperty(()=>{this.url=i,this._options.url=i}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return v.extend({},this._options)}loadTile(i,d){const _=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),C={request:this.map._requestManager.transformRequest(_,Qe.Tile),uid:i.uid,tileID:i.tileID,zoom:i.tileID.overscaledZ,tileSize:this.tileSize*i.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function h(b,y){return delete i.request,i.aborted?d(null):b&&404!==b.status?d(b):(y&&y.resourceTiming&&(i.resourceTiming=y.resourceTiming),this.map._refreshExpiredTiles&&y&&i.setExpiryData(y),i.loadVectorData(y,this.map.painter),d(null),void(i.reloadCallback&&(this.loadTile(i,i.reloadCallback),i.reloadCallback=null)))}C.request.collectResourceTiming=this._collectResourceTiming,i.actor&&"expired"!==i.state?"loading"===i.state?i.reloadCallback=d:i.request=i.actor.send("reloadTile",C,h.bind(this)):(i.actor=this.dispatcher.getActor(),i.request=i.actor.send("loadTile",C,h.bind(this)))}abortTile(i){i.request&&(i.request.cancel(),delete i.request),i.actor&&i.actor.send("abortTile",{uid:i.uid,type:this.type,source:this.id},void 0)}unloadTile(i){i.unloadVectorData(),i.actor&&i.actor.send("removeTile",{uid:i.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class Et extends v.Evented{constructor(i,d,_,C){super(),this.id=i,this.dispatcher=_,this.setEventedParent(C),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=v.extend({type:"raster"},d),v.extend(this,v.pick(d,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new v.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=xt(this._options,this.map._requestManager,(i,d)=>{this._tileJSONRequest=null,this._loaded=!0,i?this.fire(new v.ErrorEvent(i)):d&&(v.extend(this,d),d.bounds&&(this.tileBounds=new Ft(d.bounds,this.minzoom,this.maxzoom)),this.fire(new v.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new v.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(i){this.map=i,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return v.extend({},this._options)}hasTile(i){return!this.tileBounds||this.tileBounds.contains(i.canonical)}loadTile(i,d){const _=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);i.request=ut.getImage(this.map._requestManager.transformRequest(_,Qe.Tile),(C,h,b)=>{if(delete i.request,i.aborted)i.state="unloaded",d(null);else if(C)i.state="errored",d(C);else if(h){this.map._refreshExpiredTiles&&b&&i.setExpiryData(b);const y=this.map.painter.context,E=y.gl;i.texture=this.map.painter.getTileTexture(h.width),i.texture?i.texture.update(h,{useMipmap:!0}):(i.texture=new gt(y,h,E.RGBA,{useMipmap:!0}),i.texture.bind(E.LINEAR,E.CLAMP_TO_EDGE,E.LINEAR_MIPMAP_NEAREST),y.extTextureFilterAnisotropic&&E.texParameterf(E.TEXTURE_2D,y.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,y.extTextureFilterAnisotropicMax)),i.state="loaded",d(null)}},this.map._refreshExpiredTiles)}abortTile(i,d){i.request&&(i.request.cancel(),delete i.request),d()}unloadTile(i,d){i.texture&&this.map.painter.saveTileTexture(i.texture),d()}hasTransition(){return!1}}class hi extends Et{constructor(i,d,_,C){super(i,d,_,C),this.type="raster-dem",this.maxzoom=22,this._options=v.extend({type:"raster-dem"},d),this.encoding=d.encoding||"mapbox"}serialize(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}}loadTile(i,d){const _=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);function C(h,b){h&&(i.state="errored",d(h)),b&&(i.dem=b,i.needsHillshadePrepare=!0,i.needsTerrainPrepare=!0,i.state="loaded",d(null))}i.request=ut.getImage(this.map._requestManager.transformRequest(_,Qe.Tile),function(h,b){if(delete i.request,i.aborted)i.state="unloaded",d(null);else if(h)i.state="errored",d(h);else if(b){this.map._refreshExpiredTiles&&i.setExpiryData(b),delete b.cacheControl,delete b.expires;const y=v.isImageBitmap(b)&&(null==hn&&(hn=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof createImageBitmap),hn)?b:v.exported.getImageData(b,1),E={uid:i.uid,coord:i.tileID,source:this.id,rawImageData:y,encoding:this.encoding};i.actor&&"expired"!==i.state||(i.actor=this.dispatcher.getActor(),i.actor.send("loadDEMTile",E,C.bind(this)))}}.bind(this),this.map._refreshExpiredTiles),i.neighboringTiles=this._getNeighboringTiles(i.tileID)}_getNeighboringTiles(i){const d=i.canonical,_=Math.pow(2,d.z),C=(d.x-1+_)%_,h=0===d.x?i.wrap-1:i.wrap,b=(d.x+1+_)%_,y=d.x+1===_?i.wrap+1:i.wrap,E={};return E[new v.OverscaledTileID(i.overscaledZ,h,d.z,C,d.y).key]={backfilled:!1},E[new v.OverscaledTileID(i.overscaledZ,y,d.z,b,d.y).key]={backfilled:!1},d.y>0&&(E[new v.OverscaledTileID(i.overscaledZ,h,d.z,C,d.y-1).key]={backfilled:!1},E[new v.OverscaledTileID(i.overscaledZ,i.wrap,d.z,d.x,d.y-1).key]={backfilled:!1},E[new v.OverscaledTileID(i.overscaledZ,y,d.z,b,d.y-1).key]={backfilled:!1}),d.y+1<_&&(E[new v.OverscaledTileID(i.overscaledZ,h,d.z,C,d.y+1).key]={backfilled:!1},E[new v.OverscaledTileID(i.overscaledZ,i.wrap,d.z,d.x,d.y+1).key]={backfilled:!1},E[new v.OverscaledTileID(i.overscaledZ,y,d.z,b,d.y+1).key]={backfilled:!1}),E}unloadTile(i){i.demTexture&&this.map.painter.saveTileTexture(i.demTexture),i.fbo&&(i.fbo.destroy(),delete i.fbo),i.dem&&delete i.dem,delete i.neighboringTiles,i.state="unloaded",i.actor&&i.actor.send("removeDEMTile",{uid:i.uid,source:this.id})}}class je extends v.Evented{constructor(i,d,_,C){super(),this.id=i,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=_.getActor(),this.setEventedParent(C),this._data=d.data,this._options=v.extend({},d),this._collectResourceTiming=d.collectResourceTiming,void 0!==d.maxzoom&&(this.maxzoom=d.maxzoom),d.type&&(this.type=d.type),d.attribution&&(this.attribution=d.attribution),this.promoteId=d.promoteId;const h=v.EXTENT/this.tileSize;this.workerOptions=v.extend({source:this.id,cluster:d.cluster||!1,geojsonVtOptions:{buffer:(void 0!==d.buffer?d.buffer:128)*h,tolerance:(void 0!==d.tolerance?d.tolerance:.375)*h,extent:v.EXTENT,maxZoom:this.maxzoom,lineMetrics:d.lineMetrics||!1,generateId:d.generateId||!1},superclusterOptions:{maxZoom:void 0!==d.clusterMaxZoom?d.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,d.clusterMinPoints||2),extent:v.EXTENT,radius:(d.clusterRadius||50)*h,log:!1,generateId:d.generateId||!1},clusterProperties:d.clusterProperties,filter:d.filter},d.workerOptions),"string"==typeof this.promoteId&&(this.workerOptions.promoteId=this.promoteId)}load(){this._updateWorkerData()}onAdd(i){this.map=i,this.load()}setData(i){return this._data=i,this._updateWorkerData(),this}updateData(i){return this._updateWorkerData(i),this}setClusterOptions(i){return this.workerOptions.cluster=i.cluster,i&&(void 0!==i.clusterRadius&&(this.workerOptions.superclusterOptions.radius=i.clusterRadius),void 0!==i.clusterMaxZoom&&(this.workerOptions.superclusterOptions.maxZoom=i.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(i,d){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:i,source:this.id},d),this}getClusterChildren(i,d){return this.actor.send("geojson.getClusterChildren",{clusterId:i,source:this.id},d),this}getClusterLeaves(i,d,_,C){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:i,limit:d,offset:_},C),this}_updateWorkerData(i){const d=v.extend({},this.workerOptions);i?d.dataDiff=i:"string"==typeof this._data?(d.request=this.map._requestManager.transformRequest(v.exported.resolveURL(this._data),Qe.Source),d.request.collectResourceTiming=this._collectResourceTiming):d.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new v.Event("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,d,(_,C)=>{if(this._pendingLoads--,this._removed||C&&C.abandoned)return void this.fire(new v.Event("dataabort",{dataType:"source"}));let h=null;if(C&&C.resourceTiming&&C.resourceTiming[this.id]&&(h=C.resourceTiming[this.id].slice(0)),_)return void this.fire(new v.ErrorEvent(_));const b={dataType:"source"};this._collectResourceTiming&&h&&h.length>0&&v.extend(b,{resourceTiming:h}),this.fire(new v.Event("data",{...b,sourceDataType:"metadata"})),this.fire(new v.Event("data",{...b,sourceDataType:"content"}))})}loaded(){return 0===this._pendingLoads}loadTile(i,d){const _=i.actor?"reloadTile":"loadTile";i.actor=this.actor;const C={type:this.type,uid:i.uid,tileID:i.tileID,zoom:i.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};i.request=this.actor.send(_,C,(h,b)=>(delete i.request,i.unloadVectorData(),i.aborted?d(null):h?d(h):(i.loadVectorData(b,this.map.painter,"reloadTile"===_),d(null))))}abortTile(i){i.request&&(i.request.cancel(),delete i.request),i.aborted=!0}unloadTile(i){i.unloadVectorData(),this.actor.send("removeTile",{uid:i.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}serialize(){return v.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var ot=v.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class ht extends v.Evented{constructor(i,d,_,C){super(),this.id=i,this.dispatcher=_,this.coordinates=d.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(C),this.options=d}load(i,d){this._loaded=!1,this.fire(new v.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=ut.getImage(this.map._requestManager.transformRequest(this.url,Qe.Image),(_,C)=>{this._request=null,this._loaded=!0,_?this.fire(new v.ErrorEvent(_)):C&&(this.image=C,i&&(this.coordinates=i),d&&d(),this._finishLoading())})}loaded(){return this._loaded}updateImage(i){return i.url?(this._request&&(this._request.cancel(),this._request=null),this.options.url=i.url,this.load(i.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new v.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(i){this.map=i,this.load()}onRemove(){this._request&&(this._request.cancel(),this._request=null)}setCoordinates(i){this.coordinates=i;const d=i.map(v.MercatorCoordinate.fromLngLat);this.tileID=function(C){let h=1/0,b=1/0,y=-1/0,E=-1/0;for(const W of C)h=Math.min(h,W.x),b=Math.min(b,W.y),y=Math.max(y,W.x),E=Math.max(E,W.y);const I=Math.max(y-h,E-b),O=Math.max(0,Math.floor(-Math.log(I)/Math.LN2)),R=Math.pow(2,O);return new v.CanonicalTileID(O,Math.floor((h+y)/2*R),Math.floor((b+E)/2*R))}(d),this.minzoom=this.maxzoom=this.tileID.z;const _=d.map(C=>this.tileID.getTilePoint(C)._round());return this._boundsArray=new v.RasterBoundsArray,this._boundsArray.emplaceBack(_[0].x,_[0].y,0,0),this._boundsArray.emplaceBack(_[1].x,_[1].y,v.EXTENT,0),this._boundsArray.emplaceBack(_[3].x,_[3].y,0,v.EXTENT),this._boundsArray.emplaceBack(_[2].x,_[2].y,v.EXTENT,v.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new v.Event("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const i=this.map.painter.context,d=i.gl;this.boundsBuffer||(this.boundsBuffer=i.createVertexBuffer(this._boundsArray,ot.members)),this.boundsSegments||(this.boundsSegments=v.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new gt(i,this.image,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE));let _=!1;for(const C in this.tiles){const h=this.tiles[C];"loaded"!==h.state&&(h.state="loaded",h.texture=this.texture,_=!0)}_&&this.fire(new v.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(i,d){this.tileID&&this.tileID.equals(i.tileID.canonical)?(this.tiles[String(i.tileID.wrap)]=i,i.buckets={},d(null)):(i.state="errored",d(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class ct extends ht{constructor(i,d,_,C){super(i,d,_,C),this.roundZoom=!0,this.type="video",this.options=d}load(){this._loaded=!1;const i=this.options;this.urls=[];for(const d of i.urls)this.urls.push(this.map._requestManager.transformRequest(d,Qe.Source).url);v.getVideo(this.urls,(d,_)=>{this._loaded=!0,d?this.fire(new v.ErrorEvent(d)):_&&(this.video=_,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(i){if(this.video){const d=this.video.seekable;i<d.start(0)||i>d.end(0)?this.fire(new v.ErrorEvent(new v.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${d.start(0)} and ${d.end(0)}-second mark.`))):this.video.currentTime=i}}getVideo(){return this.video}onAdd(i){this.map||(this.map=i,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const i=this.map.painter.context,d=i.gl;this.boundsBuffer||(this.boundsBuffer=i.createVertexBuffer(this._boundsArray,ot.members)),this.boundsSegments||(this.boundsSegments=v.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE),d.texSubImage2D(d.TEXTURE_2D,0,0,0,d.RGBA,d.UNSIGNED_BYTE,this.video)):(this.texture=new gt(i,this.video,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE));let _=!1;for(const C in this.tiles){const h=this.tiles[C];"loaded"!==h.state&&(h.state="loaded",h.texture=this.texture,_=!0)}_&&this.fire(new v.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class De extends ht{constructor(i,d,_,C){super(i,d,_,C),d.coordinates?Array.isArray(d.coordinates)&&4===d.coordinates.length&&!d.coordinates.some(h=>!Array.isArray(h)||2!==h.length||h.some(b=>"number"!=typeof b))||this.fire(new v.ErrorEvent(new v.ValidationError(`sources.${i}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new v.ErrorEvent(new v.ValidationError(`sources.${i}`,null,'missing required property "coordinates"'))),d.animate&&"boolean"!=typeof d.animate&&this.fire(new v.ErrorEvent(new v.ValidationError(`sources.${i}`,null,'optional "animate" property must be a boolean value'))),d.canvas?"string"==typeof d.canvas||d.canvas instanceof HTMLCanvasElement||this.fire(new v.ErrorEvent(new v.ValidationError(`sources.${i}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new v.ErrorEvent(new v.ValidationError(`sources.${i}`,null,'missing required property "canvas"'))),this.options=d,this.animate=void 0===d.animate||d.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new v.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(i){this.map=i,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let i=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,i=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,i=!0),this._hasInvalidDimensions()||0===Object.keys(this.tiles).length)return;const d=this.map.painter.context,_=d.gl;this.boundsBuffer||(this.boundsBuffer=d.createVertexBuffer(this._boundsArray,ot.members)),this.boundsSegments||(this.boundsSegments=v.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(i||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new gt(d,this.canvas,_.RGBA,{premultiply:!0});let C=!1;for(const h in this.tiles){const b=this.tiles[h];"loaded"!==b.state&&(b.state="loaded",b.texture=this.texture,C=!0)}C&&this.fire(new v.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const i of[this.canvas.width,this.canvas.height])if(isNaN(i)||i<=0)return!0;return!1}}const qt={vector:Jt,raster:Et,"raster-dem":hi,geojson:je,video:ct,image:ht,canvas:De};function Zt(x,i){const d=v.create();return v.translate(d,d,[1,1,0]),v.scale(d,d,[.5*x.width,.5*x.height,1]),v.multiply(d,d,x.calculatePosMatrix(i.toUnwrapped()))}function ei(x,i,d,_,C,h){const b=function(R,W,ce){if(R)for(const ye of R){const we=W[ye];if(we&&we.source===ce&&"fill-extrusion"===we.type)return!0}else for(const ye in W){const we=W[ye];if(we.source===ce&&"fill-extrusion"===we.type)return!0}return!1}(C&&C.layers,i,x.id),y=h.maxPitchScaleFactor(),E=x.tilesIn(_,y,b);E.sort(Xe);const I=[];for(const R of E)I.push({wrappedTileID:R.tileID.wrapped().key,queryResults:R.tile.queryRenderedFeatures(i,d,x._state,R.queryGeometry,R.cameraQueryGeometry,R.scale,C,h,y,Zt(x.transform,R.tileID))});const O=function(R){const W={},ce={};for(const ye of R){const we=ye.queryResults,Fe=ye.wrappedTileID,rt=ce[Fe]=ce[Fe]||{};for(const Mt in we){const He=we[Mt],Ct=rt[Mt]=rt[Mt]||{},Lt=W[Mt]=W[Mt]||[];for(const Wt of He)Ct[Wt.featureIndex]||(Ct[Wt.featureIndex]=!0,Lt.push(Wt))}}return W}(I);for(const R in O)O[R].forEach(W=>{const ce=W.feature,ye=x.getFeatureState(ce.layer["source-layer"],ce.id);ce.source=ce.layer.source,ce.layer["source-layer"]&&(ce.sourceLayer=ce.layer["source-layer"]),ce.state=ye});return O}function Xe(x,i){const d=x.tileID,_=i.tileID;return d.overscaledZ-_.overscaledZ||d.canonical.y-_.canonical.y||d.wrap-_.wrap||d.canonical.x-_.canonical.x}class St{constructor(i,d){this.timeAdded=0,this.fadeEndTime=0,this.tileID=i,this.uid=v.uniqueId(),this.uses=0,this.tileSize=d,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(i){const d=i+this.timeAdded;d<this.fadeEndTime||(this.fadeEndTime=d)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}clearTextures(i){this.demTexture&&i.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(i,d,_){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",i){i.featureIndex&&(this.latestFeatureIndex=i.featureIndex,i.rawTileData?(this.latestRawTileData=i.rawTileData,this.latestFeatureIndex.rawTileData=i.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=i.collisionBoxArray,this.buckets=function(C,h){const b={};if(!h)return b;for(const y of C){const E=y.layerIds.map(I=>h.getLayer(I)).filter(Boolean);if(0!==E.length){y.layers=E,y.stateDependentLayerIds&&(y.stateDependentLayers=y.stateDependentLayerIds.map(I=>E.filter(O=>O.id===I)[0]));for(const I of E)b[I.id]=y}}return b}(i.buckets,d.style),this.hasSymbolBuckets=!1;for(const C in this.buckets){const h=this.buckets[C];if(h instanceof v.SymbolBucket){if(this.hasSymbolBuckets=!0,!_)break;h.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const C in this.buckets){const h=this.buckets[C];if(h instanceof v.SymbolBucket&&h.hasRTLText){this.hasRTLText=!0,v.lazyLoadRTLTextPlugin();break}}this.queryPadding=0;for(const C in this.buckets){const h=this.buckets[C];this.queryPadding=Math.max(this.queryPadding,d.style.getLayer(C).queryRadius(h))}i.imageAtlas&&(this.imageAtlas=i.imageAtlas),i.glyphAtlasImage&&(this.glyphAtlasImage=i.glyphAtlasImage)}else this.collisionBoxArray=new v.CollisionBoxArray}unloadVectorData(){for(const i in this.buckets)this.buckets[i].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(i){return this.buckets[i.id]}upload(i){for(const _ in this.buckets){const C=this.buckets[_];C.uploadPending()&&C.upload(i)}const d=i.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new gt(i,this.imageAtlas.image,d.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new gt(i,this.glyphAtlasImage,d.ALPHA),this.glyphAtlasImage=null)}prepare(i){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(i,this.imageAtlasTexture)}queryRenderedFeatures(i,d,_,C,h,b,y,E,I,O){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:C,cameraQueryGeometry:h,scale:b,tileSize:this.tileSize,pixelPosMatrix:O,transform:E,params:y,queryPadding:this.queryPadding*I},i,d,_):{}}querySourceFeatures(i,d){const _=this.latestFeatureIndex;if(!_||!_.rawTileData)return;const C=_.loadVTLayers(),h=d&&d.sourceLayer?d.sourceLayer:"",b=C._geojsonTileLayer||C[h];if(!b)return;const y=v.createFilter(d&&d.filter),{z:E,x:I,y:O}=this.tileID.canonical,R={z:E,x:I,y:O};for(let W=0;W<b.length;W++){const ce=b.feature(W);if(y.needGeometry){const Fe=v.toEvaluationFeature(ce,!0);if(!y.filter(new v.EvaluationParameters(this.tileID.overscaledZ),Fe,this.tileID.canonical))continue}else if(!y.filter(new v.EvaluationParameters(this.tileID.overscaledZ),ce))continue;const ye=_.getId(ce,h),we=new v.GeoJSONFeature(ce,E,I,O,ye);we.tile=R,i.push(we)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(i){const d=this.expirationTime;if(i.cacheControl){const _=v.parseCacheControl(i.cacheControl);_["max-age"]&&(this.expirationTime=Date.now()+1e3*_["max-age"])}else i.expires&&(this.expirationTime=new Date(i.expires).getTime());if(this.expirationTime){const _=Date.now();let C=!1;if(this.expirationTime>_)C=!1;else if(d)if(this.expirationTime<d)C=!0;else{const h=this.expirationTime-d;h?this.expirationTime=_+Math.max(h,3e4):C=!0}else C=!0;C?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(i,d){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(i).length)return;const _=this.latestFeatureIndex.loadVTLayers();for(const C in this.buckets){if(!d.style.hasLayer(C))continue;const h=this.buckets[C],b=h.layers[0].sourceLayer||"_geojsonTileLayer",y=_[b],E=i[b];if(!y||!E||0===Object.keys(E).length)continue;h.update(E,y,this.imageAtlas&&this.imageAtlas.patternPositions||{});const I=d&&d.style&&d.style.getLayer(C);I&&(this.queryPadding=Math.max(this.queryPadding,I.queryRadius(h)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<v.exported.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(i){this.symbolFadeHoldUntil=v.exported.now()+i}setDependencies(i,d){const _={};for(const C of d)_[C]=!0;this.dependencies[i]=_}hasDependency(i,d){for(const _ of i){const C=this.dependencies[_];if(C)for(const h of d)if(C[h])return!0}return!1}}class yi{constructor(i,d){this.max=i,this.onRemove=d,this.reset()}reset(){for(const i in this.data)for(const d of this.data[i])d.timeout&&clearTimeout(d.timeout),this.onRemove(d.value);return this.data={},this.order=[],this}add(i,d,_){const C=i.wrapped().key;void 0===this.data[C]&&(this.data[C]=[]);const h={value:d,timeout:void 0};if(void 0!==_&&(h.timeout=setTimeout(()=>{this.remove(i,h)},_)),this.data[C].push(h),this.order.push(C),this.order.length>this.max){const b=this._getAndRemoveByKey(this.order[0]);b&&this.onRemove(b)}return this}has(i){return i.wrapped().key in this.data}getAndRemove(i){return this.has(i)?this._getAndRemoveByKey(i.wrapped().key):null}_getAndRemoveByKey(i){const d=this.data[i].shift();return d.timeout&&clearTimeout(d.timeout),0===this.data[i].length&&delete this.data[i],this.order.splice(this.order.indexOf(i),1),d.value}getByKey(i){const d=this.data[i];return d?d[0].value:null}get(i){return this.has(i)?this.data[i.wrapped().key][0].value:null}remove(i,d){if(!this.has(i))return this;const _=i.wrapped().key,C=void 0===d?0:this.data[_].indexOf(d),h=this.data[_][C];return this.data[_].splice(C,1),h.timeout&&clearTimeout(h.timeout),0===this.data[_].length&&delete this.data[_],this.onRemove(h.value),this.order.splice(this.order.indexOf(_),1),this}setMaxSize(i){for(this.max=i;this.order.length>this.max;){const d=this._getAndRemoveByKey(this.order[0]);d&&this.onRemove(d)}return this}filter(i){const d=[];for(const _ in this.data)for(const C of this.data[_])i(C.value)||d.push(C);for(const _ of d)this.remove(_.value.tileID,_)}}class gn{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(i,d,_){const C=String(d);if(this.stateChanges[i]=this.stateChanges[i]||{},this.stateChanges[i][C]=this.stateChanges[i][C]||{},v.extend(this.stateChanges[i][C],_),null===this.deletedStates[i]){this.deletedStates[i]={};for(const h in this.state[i])h!==C&&(this.deletedStates[i][h]=null)}else if(this.deletedStates[i]&&null===this.deletedStates[i][C]){this.deletedStates[i][C]={};for(const h in this.state[i][C])_[h]||(this.deletedStates[i][C][h]=null)}else for(const h in _)this.deletedStates[i]&&this.deletedStates[i][C]&&null===this.deletedStates[i][C][h]&&delete this.deletedStates[i][C][h]}removeFeatureState(i,d,_){if(null===this.deletedStates[i])return;const C=String(d);if(this.deletedStates[i]=this.deletedStates[i]||{},_&&void 0!==d)null!==this.deletedStates[i][C]&&(this.deletedStates[i][C]=this.deletedStates[i][C]||{},this.deletedStates[i][C][_]=null);else if(void 0!==d)if(this.stateChanges[i]&&this.stateChanges[i][C])for(_ in this.deletedStates[i][C]={},this.stateChanges[i][C])this.deletedStates[i][C][_]=null;else this.deletedStates[i][C]=null;else this.deletedStates[i]=null}getState(i,d){const _=String(d),C=v.extend({},(this.state[i]||{})[_],(this.stateChanges[i]||{})[_]);if(null===this.deletedStates[i])return{};if(this.deletedStates[i]){const h=this.deletedStates[i][d];if(null===h)return{};for(const b in h)delete C[b]}return C}initializeTileState(i,d){i.setFeatureState(this.state,d)}coalesceChanges(i,d){const _={};for(const C in this.stateChanges){this.state[C]=this.state[C]||{};const h={};for(const b in this.stateChanges[C])this.state[C][b]||(this.state[C][b]={}),v.extend(this.state[C][b],this.stateChanges[C][b]),h[b]=this.state[C][b];_[C]=h}for(const C in this.deletedStates){this.state[C]=this.state[C]||{};const h={};if(null===this.deletedStates[C])for(const b in this.state[C])h[b]={},this.state[C][b]={};else for(const b in this.deletedStates[C]){if(null===this.deletedStates[C][b])this.state[C][b]={};else for(const y of Object.keys(this.deletedStates[C][b]))delete this.state[C][b][y];h[b]=this.state[C][b]}_[C]=_[C]||{},v.extend(_[C],h)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(_).length)for(const C in i)i[C].setFeatureState(_,d)}}class Zi extends v.Evented{constructor(i,d,_){super(),this.id=i,this.dispatcher=_,this.on("data",C=>{"source"===C.dataType&&"metadata"===C.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===C.dataType&&"content"===C.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=function(C,h,b,y){const E=new qt[h.type](C,h,b,y);if(E.id!==C)throw new Error(`Expected Source id to be ${C} instead of ${E.id}`);return v.bindAll(["load","abort","unload","serialize","prepare"],E),E}(i,d,_,this),this._tiles={},this._cache=new yi(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new gn,this._didEmitContent=!1,this._updated=!1}onAdd(i){this.map=i,this._maxTileCacheSize=i?i._maxTileCacheSize:null,this._maxTileCacheZoomLevels=i?i._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(i)}onRemove(i){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(i)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(void 0===this.used&&void 0===this.usedForTerrain||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const i in this._tiles){const d=this._tiles[i];if("loaded"!==d.state&&"errored"!==d.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const i=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,i&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(i,d){return this._source.loadTile(i,d)}_unloadTile(i){if(this._source.unloadTile)return this._source.unloadTile(i,()=>{})}_abortTile(i){this._source.abortTile&&this._source.abortTile(i,()=>{}),this._source.fire(new v.Event("dataabort",{tile:i,coord:i.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(i){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const d in this._tiles){const _=this._tiles[d];_.upload(i),_.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(i=>i.tileID).sort(An).map(i=>i.key)}getRenderableIds(i){const d=[];for(const _ in this._tiles)this._isIdRenderable(_,i)&&d.push(this._tiles[_]);return i?d.sort((_,C)=>{const h=_.tileID,b=C.tileID,y=new v.Point(h.canonical.x,h.canonical.y)._rotate(this.transform.angle),E=new v.Point(b.canonical.x,b.canonical.y)._rotate(this.transform.angle);return h.overscaledZ-b.overscaledZ||E.y-y.y||E.x-y.x}).map(_=>_.tileID.key):d.map(_=>_.tileID).sort(An).map(_=>_.key)}hasRenderableParent(i){const d=this.findLoadedParent(i,0);return!!d&&this._isIdRenderable(d.tileID.key)}_isIdRenderable(i,d){return this._tiles[i]&&this._tiles[i].hasData()&&!this._coveredTiles[i]&&(d||!this._tiles[i].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const i in this._tiles)"errored"!==this._tiles[i].state&&this._reloadTile(i,"reloading")}}_reloadTile(i,d){const _=this._tiles[i];_&&("loading"!==_.state&&(_.state=d),this._loadTile(_,this._tileLoaded.bind(this,_,i,d)))}_tileLoaded(i,d,_,C){if(C)return i.state="errored",void(404!==C.status?this._source.fire(new v.ErrorEvent(C,{tile:i})):this.update(this.transform,this.terrain));i.timeAdded=v.exported.now(),"expired"===_&&(i.refreshedUponExpiration=!0),this._setTileReloadTimer(d,i),"raster-dem"===this.getSource().type&&i.dem&&this._backfillDEM(i),this._state.initializeTileState(i,this.map?this.map.painter:null),i.aborted||this._source.fire(new v.Event("data",{dataType:"source",tile:i,coord:i.tileID}))}_backfillDEM(i){const d=this.getRenderableIds();for(let C=0;C<d.length;C++){const h=d[C];if(i.neighboringTiles&&i.neighboringTiles[h]){const b=this.getTileByID(h);_(i,b),_(b,i)}}function _(C,h){C.needsHillshadePrepare=!0,C.needsTerrainPrepare=!0;let b=h.tileID.canonical.x-C.tileID.canonical.x;const y=h.tileID.canonical.y-C.tileID.canonical.y,E=Math.pow(2,C.tileID.canonical.z),I=h.tileID.key;0===b&&0===y||Math.abs(y)>1||(Math.abs(b)>1&&(1===Math.abs(b+E)?b+=E:1===Math.abs(b-E)&&(b-=E)),h.dem&&C.dem&&(C.dem.backfillBorder(h.dem,b,y),C.neighboringTiles&&C.neighboringTiles[I]&&(C.neighboringTiles[I].backfilled=!0)))}}getTile(i){return this.getTileByID(i.key)}getTileByID(i){return this._tiles[i]}_retainLoadedChildren(i,d,_,C){for(const h in this._tiles){let b=this._tiles[h];if(C[h]||!b.hasData()||b.tileID.overscaledZ<=d||b.tileID.overscaledZ>_)continue;let y=b.tileID;for(;b&&b.tileID.overscaledZ>d+1;){const I=b.tileID.scaledTo(b.tileID.overscaledZ-1);b=this._tiles[I.key],b&&b.hasData()&&(y=I)}let E=y;for(;E.overscaledZ>d;)if(E=E.scaledTo(E.overscaledZ-1),i[E.key]){C[y.key]=y;break}}}findLoadedParent(i,d){if(i.key in this._loadedParentTiles){const _=this._loadedParentTiles[i.key];return _&&_.tileID.overscaledZ>=d?_:null}for(let _=i.overscaledZ-1;_>=d;_--){const C=i.scaledTo(_),h=this._getLoadedTile(C);if(h)return h}}_getLoadedTile(i){const d=this._tiles[i.key];return d&&d.hasData()?d:this._cache.getByKey(i.wrapped().key)}updateCacheSize(i){const d=Math.ceil(i.width/this._source.tileSize)+1,_=Math.ceil(i.height/this._source.tileSize)+1,C=Math.floor(d*_*(null===this._maxTileCacheZoomLevels?v.config.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),h="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,C):C;this._cache.setMaxSize(h)}handleWrapJump(i){const d=Math.round((i-(void 0===this._prevLng?i:this._prevLng))/360);if(this._prevLng=i,d){const _={};for(const C in this._tiles){const h=this._tiles[C];h.tileID=h.tileID.unwrapTo(h.tileID.wrap+d),_[h.tileID.key]=h}this._tiles=_;for(const C in this._timers)clearTimeout(this._timers[C]),delete this._timers[C];for(const C in this._tiles)this._setTileReloadTimer(C,this._tiles[C])}}update(i,d){if(this.transform=i,this.terrain=d,!this._sourceLoaded||this._paused)return;let _;this.updateCacheSize(i),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?_=i.getVisibleUnwrappedCoordinates(this._source.tileID).map(O=>new v.OverscaledTileID(O.canonical.z,O.wrap,O.canonical.z,O.canonical.x,O.canonical.y)):(_=i.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:d}),this._source.hasTile&&(_=_.filter(O=>this._source.hasTile(O)))):_=[];const C=i.coveringZoomLevel(this._source),h=Math.max(C-Zi.maxOverzooming,this._source.minzoom),b=Math.max(C+Zi.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const O={};for(const R of _)if(R.canonical.z>this._source.minzoom){const W=R.scaledTo(R.canonical.z-1);O[W.key]=W;const ce=R.scaledTo(Math.max(this._source.minzoom,Math.min(R.canonical.z,5)));O[ce.key]=ce}_=_.concat(Object.values(O))}const y=0===_.length&&!this._updated&&this._didEmitContent;this._updated=!0,y&&this.fire(new v.Event("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const E=this._updateRetainedTiles(_,C);if(vn(this._source.type)){const O={},R={},W=Object.keys(E),ce=v.exported.now();for(const ye of W){const we=E[ye],Fe=this._tiles[ye];if(!Fe||0!==Fe.fadeEndTime&&Fe.fadeEndTime<=ce)continue;const rt=this.findLoadedParent(we,h);rt&&(this._addTile(rt.tileID),O[rt.tileID.key]=rt.tileID),R[ye]=we}this._retainLoadedChildren(R,C,b,E);for(const ye in O)E[ye]||(this._coveredTiles[ye]=!0,E[ye]=O[ye]);if(d){const ye={},we={};for(const Fe of _)this._tiles[Fe.key].hasData()?ye[Fe.key]=Fe:we[Fe.key]=Fe;for(const Fe in we){const rt=we[Fe].children(this._source.maxzoom);this._tiles[rt[0].key]&&this._tiles[rt[1].key]&&this._tiles[rt[2].key]&&this._tiles[rt[3].key]&&(ye[rt[0].key]=E[rt[0].key]=rt[0],ye[rt[1].key]=E[rt[1].key]=rt[1],ye[rt[2].key]=E[rt[2].key]=rt[2],ye[rt[3].key]=E[rt[3].key]=rt[3],delete we[Fe])}for(const Fe in we){const rt=this.findLoadedParent(we[Fe],this._source.minzoom);if(rt){ye[rt.tileID.key]=E[rt.tileID.key]=rt.tileID;for(const Mt in ye)ye[Mt].isChildOf(rt.tileID)&&delete ye[Mt]}}for(const Fe in this._tiles)ye[Fe]||(this._coveredTiles[Fe]=!0)}}for(const O in E)this._tiles[O].clearFadeHold();const I=v.keysDifference(this._tiles,E);for(const O of I){const R=this._tiles[O];R.hasSymbolBuckets&&!R.holdingForFade()?R.setHoldDuration(this.map._fadeDuration):R.hasSymbolBuckets&&!R.symbolFadeFinished()||this._removeTile(O)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const i in this._tiles)this._tiles[i].holdingForFade()&&this._removeTile(i)}_updateRetainedTiles(i,d){const _={},C={},h=Math.max(d-Zi.maxOverzooming,this._source.minzoom),b=Math.max(d+Zi.maxUnderzooming,this._source.minzoom),y={};for(const E of i){const I=this._addTile(E);_[E.key]=E,I.hasData()||d<this._source.maxzoom&&(y[E.key]=E)}this._retainLoadedChildren(y,d,b,_);for(const E of i){let I=this._tiles[E.key];if(I.hasData())continue;if(d+1>this._source.maxzoom){const R=E.children(this._source.maxzoom)[0],W=this.getTile(R);if(W&&W.hasData()){_[R.key]=R;continue}}else{const R=E.children(this._source.maxzoom);if(_[R[0].key]&&_[R[1].key]&&_[R[2].key]&&_[R[3].key])continue}let O=I.wasRequested();for(let R=E.overscaledZ-1;R>=h;--R){const W=E.scaledTo(R);if(C[W.key])break;if(C[W.key]=!0,I=this.getTile(W),!I&&O&&(I=this._addTile(W)),I){const ce=I.hasData();if((O||ce)&&(_[W.key]=W),O=I.wasRequested(),ce)break}}}return _}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const i in this._tiles){const d=[];let _,C=this._tiles[i].tileID;for(;C.overscaledZ>0;){if(C.key in this._loadedParentTiles){_=this._loadedParentTiles[C.key];break}d.push(C.key);const h=C.scaledTo(C.overscaledZ-1);if(_=this._getLoadedTile(h),_)break;C=h}for(const h of d)this._loadedParentTiles[h]=_}}_addTile(i){let d=this._tiles[i.key];if(d)return d;d=this._cache.getAndRemove(i),d&&(this._setTileReloadTimer(i.key,d),d.tileID=i,this._state.initializeTileState(d,this.map?this.map.painter:null),this._cacheTimers[i.key]&&(clearTimeout(this._cacheTimers[i.key]),delete this._cacheTimers[i.key],this._setTileReloadTimer(i.key,d)));const _=d;return d||(d=new St(i,this._source.tileSize*i.overscaleFactor()),this._loadTile(d,this._tileLoaded.bind(this,d,i.key,d.state))),d.uses++,this._tiles[i.key]=d,_||this._source.fire(new v.Event("dataloading",{tile:d,coord:d.tileID,dataType:"source"})),d}_setTileReloadTimer(i,d){i in this._timers&&(clearTimeout(this._timers[i]),delete this._timers[i]);const _=d.getExpiryTimeout();_&&(this._timers[i]=setTimeout(()=>{this._reloadTile(i,"expired"),delete this._timers[i]},_))}_removeTile(i){const d=this._tiles[i];d&&(d.uses--,delete this._tiles[i],this._timers[i]&&(clearTimeout(this._timers[i]),delete this._timers[i]),d.uses>0||(d.hasData()&&"reloading"!==d.state?this._cache.add(d.tileID,d,d.getExpiryTimeout()):(d.aborted=!0,this._abortTile(d),this._unloadTile(d))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const i in this._tiles)this._removeTile(i);this._cache.reset()}tilesIn(i,d,_){const C=[],h=this.transform;if(!h)return C;const b=_?h.getCameraQueryGeometry(i):i,y=i.map(ye=>h.pointCoordinate(ye,this.terrain)),E=b.map(ye=>h.pointCoordinate(ye,this.terrain)),I=this.getIds();let O=1/0,R=1/0,W=-1/0,ce=-1/0;for(const ye of E)O=Math.min(O,ye.x),R=Math.min(R,ye.y),W=Math.max(W,ye.x),ce=Math.max(ce,ye.y);for(let ye=0;ye<I.length;ye++){const we=this._tiles[I[ye]];if(we.holdingForFade())continue;const Fe=we.tileID,rt=Math.pow(2,h.zoom-we.tileID.overscaledZ),Mt=d*we.queryPadding*v.EXTENT/we.tileSize/rt,He=[Fe.getTilePoint(new v.MercatorCoordinate(O,R)),Fe.getTilePoint(new v.MercatorCoordinate(W,ce))];if(He[0].x-Mt<v.EXTENT&&He[0].y-Mt<v.EXTENT&&He[1].x+Mt>=0&&He[1].y+Mt>=0){const Ct=y.map(Wt=>Fe.getTilePoint(Wt)),Lt=E.map(Wt=>Fe.getTilePoint(Wt));C.push({tile:we,tileID:Fe,queryGeometry:Ct,cameraQueryGeometry:Lt,scale:rt})}}return C}getVisibleCoordinates(i){const d=this.getRenderableIds(i).map(_=>this._tiles[_].tileID);for(const _ of d)_.posMatrix=this.transform.calculatePosMatrix(_.toUnwrapped());return d}hasTransition(){if(this._source.hasTransition())return!0;if(vn(this._source.type)){const i=v.exported.now();for(const d in this._tiles)if(this._tiles[d].fadeEndTime>=i)return!0}return!1}setFeatureState(i,d,_){this._state.updateState(i=i||"_geojsonTileLayer",d,_)}removeFeatureState(i,d,_){this._state.removeFeatureState(i=i||"_geojsonTileLayer",d,_)}getFeatureState(i,d){return this._state.getState(i=i||"_geojsonTileLayer",d)}setDependencies(i,d,_){const C=this._tiles[i];C&&C.setDependencies(d,_)}reloadTilesForDependencies(i,d){for(const _ in this._tiles)this._tiles[_].hasDependency(i,d)&&this._reloadTile(_,"reloading");this._cache.filter(_=>!_.hasDependency(i,d))}}function An(x,i){const d=Math.abs(2*x.wrap)-+(x.wrap<0),_=Math.abs(2*i.wrap)-+(i.wrap<0);return x.overscaledZ-i.overscaledZ||_-d||i.canonical.y-x.canonical.y||i.canonical.x-x.canonical.x}function vn(x){return"raster"===x||"image"===x||"video"===x}Zi.maxOverzooming=10,Zi.maxUnderzooming=3;const Mn="mapboxgl_preloaded_worker_pool";class Pe{constructor(){this.active={}}acquire(i){if(!this.workers)for(this.workers=[];this.workers.length<Pe.workerCount;)this.workers.push(new Worker(v.config.WORKER_URL));return this.active[i]=!0,this.workers.slice()}release(i){delete this.active[i],0===this.numActive()&&(this.workers.forEach(d=>{d.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Mn]}numActive(){return Object.keys(this.active).length}}const se=Math.floor(v.exported.hardwareConcurrency/2);let Ce;function Ie(){return Ce||(Ce=new Pe),Ce}Pe.workerCount=v.isSafari(globalThis)?Math.max(Math.min(se,3),1):1;class Te{constructor(i,d){this.reset(i,d)}reset(i,d){this.points=i||[],this._distances=[0];for(let _=1;_<this.points.length;_++)this._distances[_]=this._distances[_-1]+this.points[_].dist(this.points[_-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(d||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(i){if(1===this.points.length)return this.points[0];i=v.clamp(i,0,1);let d=1,_=this._distances[d];const C=i*this.paddedLength+this.padding;for(;_<C&&d<this._distances.length;)_=this._distances[++d];const h=d-1,b=this._distances[h],y=_-b,E=y>0?(C-b)/y:0;return this.points[h].mult(1-E).add(this.points[d].mult(E))}}function ne(x,i){let d=!0;return"always"===x||"never"!==x&&"never"!==i||(d=!1),d}class Ne{constructor(i,d,_){const C=this.boxCells=[],h=this.circleCells=[];this.xCellCount=Math.ceil(i/_),this.yCellCount=Math.ceil(d/_);for(let b=0;b<this.xCellCount*this.yCellCount;b++)C.push([]),h.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=i,this.height=d,this.xScale=this.xCellCount/i,this.yScale=this.yCellCount/d,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(i,d,_,C,h){this._forEachCell(d,_,C,h,this._insertBoxCell,this.boxUid++),this.boxKeys.push(i),this.bboxes.push(d),this.bboxes.push(_),this.bboxes.push(C),this.bboxes.push(h)}insertCircle(i,d,_,C){this._forEachCell(d-C,_-C,d+C,_+C,this._insertCircleCell,this.circleUid++),this.circleKeys.push(i),this.circles.push(d),this.circles.push(_),this.circles.push(C)}_insertBoxCell(i,d,_,C,h,b){this.boxCells[h].push(b)}_insertCircleCell(i,d,_,C,h,b){this.circleCells[h].push(b)}_query(i,d,_,C,h,b,y){if(_<0||i>this.width||C<0||d>this.height)return[];const E=[];if(i<=0&&d<=0&&this.width<=_&&this.height<=C){if(h)return[{key:null,x1:i,y1:d,x2:_,y2:C}];for(let I=0;I<this.boxKeys.length;I++)E.push({key:this.boxKeys[I],x1:this.bboxes[4*I],y1:this.bboxes[4*I+1],x2:this.bboxes[4*I+2],y2:this.bboxes[4*I+3]});for(let I=0;I<this.circleKeys.length;I++){const O=this.circles[3*I],R=this.circles[3*I+1],W=this.circles[3*I+2];E.push({key:this.circleKeys[I],x1:O-W,y1:R-W,x2:O+W,y2:R+W})}}else this._forEachCell(i,d,_,C,this._queryCell,E,{hitTest:h,overlapMode:b,seenUids:{box:{},circle:{}}},y);return E}query(i,d,_,C){return this._query(i,d,_,C,!1,null)}hitTest(i,d,_,C,h,b){return this._query(i,d,_,C,!0,h,b).length>0}hitTestCircle(i,d,_,C,h){const b=i-_,y=i+_,E=d-_,I=d+_;if(y<0||b>this.width||I<0||E>this.height)return!1;const O=[];return this._forEachCell(b,E,y,I,this._queryCellCircle,O,{hitTest:!0,overlapMode:C,circle:{x:i,y:d,radius:_},seenUids:{box:{},circle:{}}},h),O.length>0}_queryCell(i,d,_,C,h,b,y,E){const{seenUids:I,hitTest:O,overlapMode:R}=y,W=this.boxCells[h];if(null!==W){const ye=this.bboxes;for(const we of W)if(!I.box[we]){I.box[we]=!0;const Fe=4*we,rt=this.boxKeys[we];if(i<=ye[Fe+2]&&d<=ye[Fe+3]&&_>=ye[Fe+0]&&C>=ye[Fe+1]&&(!E||E(rt))&&(!O||!ne(R,rt.overlapMode))&&(b.push({key:rt,x1:ye[Fe],y1:ye[Fe+1],x2:ye[Fe+2],y2:ye[Fe+3]}),O))return!0}}const ce=this.circleCells[h];if(null!==ce){const ye=this.circles;for(const we of ce)if(!I.circle[we]){I.circle[we]=!0;const Fe=3*we,rt=this.circleKeys[we];if(this._circleAndRectCollide(ye[Fe],ye[Fe+1],ye[Fe+2],i,d,_,C)&&(!E||E(rt))&&(!O||!ne(R,rt.overlapMode))){const Mt=ye[Fe],He=ye[Fe+1],Ct=ye[Fe+2];if(b.push({key:rt,x1:Mt-Ct,y1:He-Ct,x2:Mt+Ct,y2:He+Ct}),O)return!0}}}return!1}_queryCellCircle(i,d,_,C,h,b,y,E){const{circle:I,seenUids:O,overlapMode:R}=y,W=this.boxCells[h];if(null!==W){const ye=this.bboxes;for(const we of W)if(!O.box[we]){O.box[we]=!0;const Fe=4*we,rt=this.boxKeys[we];if(this._circleAndRectCollide(I.x,I.y,I.radius,ye[Fe+0],ye[Fe+1],ye[Fe+2],ye[Fe+3])&&(!E||E(rt))&&!ne(R,rt.overlapMode))return b.push(!0),!0}}const ce=this.circleCells[h];if(null!==ce){const ye=this.circles;for(const we of ce)if(!O.circle[we]){O.circle[we]=!0;const Fe=3*we,rt=this.circleKeys[we];if(this._circlesCollide(ye[Fe],ye[Fe+1],ye[Fe+2],I.x,I.y,I.radius)&&(!E||E(rt))&&!ne(R,rt.overlapMode))return b.push(!0),!0}}}_forEachCell(i,d,_,C,h,b,y,E){const I=this._convertToXCellCoord(i),O=this._convertToYCellCoord(d),R=this._convertToXCellCoord(_),W=this._convertToYCellCoord(C);for(let ce=I;ce<=R;ce++)for(let ye=O;ye<=W;ye++)if(h.call(this,i,d,_,C,this.xCellCount*ye+ce,b,y,E))return}_convertToXCellCoord(i){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(i*this.xScale)))}_convertToYCellCoord(i){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(i*this.yScale)))}_circlesCollide(i,d,_,C,h,b){const y=C-i,E=h-d,I=_+b;return I*I>y*y+E*E}_circleAndRectCollide(i,d,_,C,h,b,y){const E=(b-C)/2,I=Math.abs(i-(C+E));if(I>E+_)return!1;const O=(y-h)/2,R=Math.abs(d-(h+O));if(R>O+_)return!1;if(I<=E||R<=O)return!0;const W=I-E,ce=R-O;return W*W+ce*ce<=_*_}}function dt(x,i,d,_,C){const h=v.create();return i?(v.scale(h,h,[1/C,1/C,1]),d||v.rotateZ(h,h,_.angle)):v.multiply(h,_.labelPlaneMatrix,x),h}function jt(x,i,d,_,C){if(i){const h=v.clone(x);return v.scale(h,h,[C,C,1]),d||v.rotateZ(h,h,-_.angle),h}return _.glCoordMatrix}function Xt(x,i,d){let _;d?(_=[x.x,x.y,d(x.x,x.y),1],v.transformMat4(_,_,i)):(_=[x.x,x.y,0,1],fe(_,_,i));const C=_[3];return{point:new v.Point(_[0]/C,_[1]/C),signedDistanceFromCamera:C}}function Ut(x,i){return.5+x/i*.5}function pi(x,i){const d=x[0]/x[3],_=x[1]/x[3];return d>=-i[0]&&d<=i[0]&&_>=-i[1]&&_<=i[1]}function Ji(x,i,d,_,C,h,b,y,E,I){const O=_?x.textSizeData:x.iconSizeData,R=v.evaluateSizeForZoom(O,d.transform.zoom),W=[256/d.width*2+1,256/d.height*2+1],ce=_?x.text.dynamicLayoutVertexArray:x.icon.dynamicLayoutVertexArray;ce.clear();const ye=x.lineVertexArray,we=_?x.text.placedSymbolArray:x.icon.placedSymbolArray,Fe=d.transform.width/d.transform.height;let rt=!1;for(let Mt=0;Mt<we.length;Mt++){const He=we.get(Mt);if(He.hidden||He.writingMode===v.WritingMode.vertical&&!rt){ee(He.numGlyphs,ce);continue}let Ct;if(rt=!1,I?(Ct=[He.anchorX,He.anchorY,I(He.anchorX,He.anchorY),1],v.transformMat4(Ct,Ct,i)):(Ct=[He.anchorX,He.anchorY,0,1],fe(Ct,Ct,i)),!pi(Ct,W)){ee(He.numGlyphs,ce);continue}const Lt=Ut(d.transform.cameraToCenterDistance,Ct[3]),Wt=v.evaluateSizeForFeature(O,R,He),oi=b?Wt/Lt:Wt*Lt,fi=new v.Point(He.anchorX,He.anchorY),ci=Xt(fi,C,I).point,Ii={projections:{},offsets:{}},Gi=Wi(He,oi,!1,y,i,C,h,x.glyphOffsetArray,ye,ce,ci,fi,Ii,Fe,E,I);rt=Gi.useVertical,(Gi.notEnoughRoom||rt||Gi.needsFlipping&&Wi(He,oi,!0,y,i,C,h,x.glyphOffsetArray,ye,ce,ci,fi,Ii,Fe,E,I).notEnoughRoom)&&ee(He.numGlyphs,ce)}_?x.text.dynamicLayoutVertexBuffer.updateData(ce):x.icon.dynamicLayoutVertexBuffer.updateData(ce)}function en(x,i,d,_,C,h,b,y,E,I,O,R,W){const ce=y.glyphStartIndex+y.numGlyphs,ye=y.lineStartIndex,we=y.lineStartIndex+y.lineLength,Fe=i.getoffsetX(y.glyphStartIndex),rt=i.getoffsetX(ce-1),Mt=B(x*Fe,d,_,C,h,b,y.segment,ye,we,E,I,O,R,W);if(!Mt)return null;const He=B(x*rt,d,_,C,h,b,y.segment,ye,we,E,I,O,R,W);return He?{first:Mt,last:He}:null}function cn(x,i,d,_){return x===v.WritingMode.horizontal&&Math.abs(d.y-i.y)>Math.abs(d.x-i.x)*_?{useVertical:!0}:(x===v.WritingMode.vertical?i.y<d.y:i.x>d.x)?{needsFlipping:!0}:null}function Wi(x,i,d,_,C,h,b,y,E,I,O,R,W,ce,ye,we){const Fe=i/24,rt=x.lineOffsetX*Fe,Mt=x.lineOffsetY*Fe;let He;if(x.numGlyphs>1){const Ct=x.glyphStartIndex+x.numGlyphs,Lt=x.lineStartIndex,Wt=x.lineStartIndex+x.lineLength,oi=en(Fe,y,rt,Mt,d,O,R,x,E,h,W,ye,we);if(!oi)return{notEnoughRoom:!0};const fi=Xt(oi.first.point,b,we).point,ci=Xt(oi.last.point,b,we).point;if(_&&!d){const Ii=cn(x.writingMode,fi,ci,ce);if(Ii)return Ii}He=[oi.first];for(let Ii=x.glyphStartIndex+1;Ii<Ct-1;Ii++)He.push(B(Fe*y.getoffsetX(Ii),rt,Mt,d,O,R,x.segment,Lt,Wt,E,h,W,ye,we));He.push(oi.last)}else{if(_&&!d){const Lt=Xt(R,C,we).point,Wt=x.lineStartIndex+x.segment+1,oi=new v.Point(E.getx(Wt),E.gety(Wt)),fi=Xt(oi,C,we),ci=fi.signedDistanceFromCamera>0?fi.point:_t(R,oi,Lt,1,C,we),Ii=cn(x.writingMode,Lt,ci,ce);if(Ii)return Ii}const Ct=B(Fe*y.getoffsetX(x.glyphStartIndex),rt,Mt,d,O,R,x.segment,x.lineStartIndex,x.lineStartIndex+x.lineLength,E,h,W,ye,we);if(!Ct)return{notEnoughRoom:!0};He=[Ct]}for(const Ct of He)v.addDynamicAttributes(I,Ct.point,Ct.angle);return{}}function _t(x,i,d,_,C,h){const b=Xt(x.add(x.sub(i)._unit()),C,h).point,y=d.sub(b);return d.add(y._mult(_/y.mag()))}function mi(x,i){const{projectionCache:d,lineVertexArray:_,labelPlaneMatrix:C,tileAnchorPoint:h,distanceFromAnchor:b,getElevation:y,previousVertex:E,direction:I,absOffsetX:O}=i;if(d.projections[x])return d.projections[x];const R=new v.Point(_.getx(x),_.gety(x)),W=Xt(R,C,y);if(W.signedDistanceFromCamera>0)return d.projections[x]=W.point,W.point;const ce=x-I;return _t(0===b?h:new v.Point(_.getx(ce),_.gety(ce)),R,E,O-b+1,C,y)}function vt(x,i,d){return x._unit()._perp()._mult(i*d)}function q(x,i,d,_,C,h,b,y){const{projectionCache:E,direction:I}=y;if(E.offsets[x])return E.offsets[x];const O=d.add(i);if(x+I<_||x+I>=C)return E.offsets[x]=O,O;const R=mi(x+I,y),W=vt(R.sub(d),b,I),ce=d.add(W),ye=R.add(W);return E.offsets[x]=v.findLineIntersection(h,O,ce,ye)||O,E.offsets[x]}function B(x,i,d,_,C,h,b,y,E,I,O,R,W,ce){const ye=_?x-i:x+i;let we=ye>0?1:-1,Fe=0;_&&(we*=-1,Fe=Math.PI),we<0&&(Fe+=Math.PI);let rt,Mt,He=we>0?y+b:y+b+1,Ct=C,Lt=C,Wt=0,oi=0;const fi=Math.abs(ye),ci=[];let Ii;for(;Wt+oi<=fi;){if(He+=we,He<y||He>=E)return null;Wt+=oi,Lt=Ct,Mt=rt;const bi={projectionCache:R,lineVertexArray:I,labelPlaneMatrix:O,tileAnchorPoint:h,distanceFromAnchor:Wt,getElevation:ce,previousVertex:Lt,direction:we,absOffsetX:fi};if(Ct=mi(He,bi),0===d)ci.push(Lt),Ii=Ct.sub(Lt);else{let sn;const Ri=Ct.sub(Lt);sn=0===Ri.mag()?vt(mi(He+we,bi).sub(Ct),d,we):vt(Ri,d,we),Mt||(Mt=Lt.add(sn)),rt=q(He,sn,Ct,y,E,Mt,d,bi),ci.push(Mt),Ii=rt.sub(Mt)}oi=Ii.mag()}const Gi=Ii._mult((fi-Wt)/oi)._add(Mt||Lt),_n=Fe+Math.atan2(Ct.y-Lt.y,Ct.x-Lt.x);return ci.push(Gi),{point:Gi,angle:W?_n:0,path:ci}}const U=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ee(x,i){for(let d=0;d<x;d++){const _=i.length;i.resize(_+4),i.float32.set(U,3*_)}}function fe(x,i,d){const _=i[0],C=i[1];return x[0]=d[0]*_+d[4]*C+d[12],x[1]=d[1]*_+d[5]*C+d[13],x[3]=d[3]*_+d[7]*C+d[15],x}const Ae=100;class pe{constructor(i,d=new Ne(i.width+200,i.height+200,25),_=new Ne(i.width+200,i.height+200,25)){this.transform=i,this.grid=d,this.ignoredGrid=_,this.pitchfactor=Math.cos(i._pitch)*i.cameraToCenterDistance,this.screenRightBoundary=i.width+Ae,this.screenBottomBoundary=i.height+Ae,this.gridRightBoundary=i.width+200,this.gridBottomBoundary=i.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(i,d,_,C,h,b){const y=this.projectAndGetPerspectiveRatio(C,i.anchorPointX,i.anchorPointY,b),E=_*y.perspectiveRatio,I=i.x1*E+y.point.x,O=i.y1*E+y.point.y,R=i.x2*E+y.point.x,W=i.y2*E+y.point.y;return!this.isInsideGrid(I,O,R,W)||"always"!==d&&this.grid.hitTest(I,O,R,W,d,h)||y.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[I,O,R,W],offscreen:this.isOffscreen(I,O,R,W)}}placeCollisionCircles(i,d,_,C,h,b,y,E,I,O,R,W,ce,ye){const we=[],Fe=new v.Point(d.anchorX,d.anchorY),rt=Xt(Fe,b,ye),Mt=Ut(this.transform.cameraToCenterDistance,rt.signedDistanceFromCamera),He=(O?h/Mt:h*Mt)/v.ONE_EM,Ct=Xt(Fe,y,ye).point,Lt=en(He,C,d.lineOffsetX*He,d.lineOffsetY*He,!1,Ct,Fe,d,_,y,{projections:{},offsets:{}},!1,ye);let Wt=!1,oi=!1,fi=!0;if(Lt){const ci=.5*W*Mt+ce,Ii=new v.Point(-100,-100),Gi=new v.Point(this.screenRightBoundary,this.screenBottomBoundary),_n=new Te,bi=Lt.first,sn=Lt.last;let Ri=[];for(let rr=bi.path.length-1;rr>=1;rr--)Ri.push(bi.path[rr]);for(let rr=1;rr<sn.path.length;rr++)Ri.push(sn.path[rr]);const Qn=2.5*ci;if(E){const rr=Ri.map(pn=>Xt(pn,E,ye));Ri=rr.some(pn=>pn.signedDistanceFromCamera<=0)?[]:rr.map(pn=>pn.point)}let qr=[];if(Ri.length>0){const rr=Ri[0].clone(),pn=Ri[0].clone();for(let Yr=1;Yr<Ri.length;Yr++)rr.x=Math.min(rr.x,Ri[Yr].x),rr.y=Math.min(rr.y,Ri[Yr].y),pn.x=Math.max(pn.x,Ri[Yr].x),pn.y=Math.max(pn.y,Ri[Yr].y);qr=rr.x>=Ii.x&&pn.x<=Gi.x&&rr.y>=Ii.y&&pn.y<=Gi.y?[Ri]:pn.x<Ii.x||rr.x>Gi.x||pn.y<Ii.y||rr.y>Gi.y?[]:v.clipLine([Ri],Ii.x,Ii.y,Gi.x,Gi.y)}for(const rr of qr){_n.reset(rr,.25*ci);let pn=0;pn=_n.length<=.5*ci?1:Math.ceil(_n.paddedLength/Qn)+1;for(let Yr=0;Yr<pn;Yr++){const Dr=Yr/Math.max(pn-1,1),To=_n.lerp(Dr),Uo=To.x+Ae,Os=To.y+Ae;we.push(Uo,Os,ci,0);const _a=Uo-ci,Io=Os-ci,Cs=Uo+ci,sa=Os+ci;if(fi=fi&&this.isOffscreen(_a,Io,Cs,sa),oi=oi||this.isInsideGrid(_a,Io,Cs,sa),"always"!==i&&this.grid.hitTestCircle(Uo,Os,ci,i,R)&&(Wt=!0,!I))return{circles:[],offscreen:!1,collisionDetected:Wt}}}}return{circles:!I&&Wt||!oi||Mt<this.perspectiveRatioCutoff?[]:we,offscreen:fi,collisionDetected:Wt}}queryRenderedSymbols(i){if(0===i.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const d=[];let _=1/0,C=1/0,h=-1/0,b=-1/0;for(const O of i){const R=new v.Point(O.x+Ae,O.y+Ae);_=Math.min(_,R.x),C=Math.min(C,R.y),h=Math.max(h,R.x),b=Math.max(b,R.y),d.push(R)}const y=this.grid.query(_,C,h,b).concat(this.ignoredGrid.query(_,C,h,b)),E={},I={};for(const O of y){const R=O.key;if(void 0===E[R.bucketInstanceId]&&(E[R.bucketInstanceId]={}),E[R.bucketInstanceId][R.featureIndex])continue;const W=[new v.Point(O.x1,O.y1),new v.Point(O.x2,O.y1),new v.Point(O.x2,O.y2),new v.Point(O.x1,O.y2)];v.polygonIntersectsPolygon(d,W)&&(E[R.bucketInstanceId][R.featureIndex]=!0,void 0===I[R.bucketInstanceId]&&(I[R.bucketInstanceId]=[]),I[R.bucketInstanceId].push(R.featureIndex))}return I}insertCollisionBox(i,d,_,C,h,b){(_?this.ignoredGrid:this.grid).insert({bucketInstanceId:C,featureIndex:h,collisionGroupID:b,overlapMode:d},i[0],i[1],i[2],i[3])}insertCollisionCircles(i,d,_,C,h,b){const y=_?this.ignoredGrid:this.grid,E={bucketInstanceId:C,featureIndex:h,collisionGroupID:b,overlapMode:d};for(let I=0;I<i.length;I+=4)y.insertCircle(E,i[I],i[I+1],i[I+2])}projectAndGetPerspectiveRatio(i,d,_,C){let h;return C?(h=[d,_,C(d,_),1],v.transformMat4(h,h,i)):(h=[d,_,0,1],fe(h,h,i)),{point:new v.Point((h[0]/h[3]+1)/2*this.transform.width+Ae,(-h[1]/h[3]+1)/2*this.transform.height+Ae),perspectiveRatio:.5+this.transform.cameraToCenterDistance/h[3]*.5}}isOffscreen(i,d,_,C){return _<Ae||i>=this.screenRightBoundary||C<Ae||d>this.screenBottomBoundary}isInsideGrid(i,d,_,C){return _>=0&&i<this.gridRightBoundary&&C>=0&&d<this.gridBottomBoundary}getViewportMatrix(){const i=v.identity([]);return v.translate(i,i,[-100,-100,0]),i}}function oe(x,i,d){return i*(v.EXTENT/(x.tileSize*Math.pow(2,d-x.tileID.overscaledZ)))}class X{constructor(i,d,_,C){this.opacity=i?Math.max(0,Math.min(1,i.opacity+(i.placed?d:-d))):C&&_?1:0,this.placed=_}isHidden(){return 0===this.opacity&&!this.placed}}class he{constructor(i,d,_,C,h){this.text=new X(i?i.text:null,d,_,h),this.icon=new X(i?i.icon:null,d,C,h)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class et{constructor(i,d,_){this.text=i,this.icon=d,this.skipFade=_}}class lt{constructor(){this.invProjMatrix=v.create(),this.viewportMatrix=v.create(),this.circles=[]}}class be{constructor(i,d,_,C,h){this.bucketInstanceId=i,this.featureIndex=d,this.sourceLayerIndex=_,this.bucketIndex=C,this.tileID=h}}class Se{constructor(i){this.crossSourceCollisions=i,this.maxGroupID=0,this.collisionGroups={}}get(i){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[i]){const d=++this.maxGroupID;this.collisionGroups[i]={ID:d,predicate:_=>_.collisionGroupID===d}}return this.collisionGroups[i]}}function de(x,i,d,_,C){const{horizontalAlign:h,verticalAlign:b}=v.getAnchorAlignment(x),y=-(h-.5)*i,E=-(b-.5)*d,I=v.evaluateVariableOffset(x,_);return new v.Point(y+I[0]*C,E+I[1]*C)}function Ee(x,i,d,_,C,h){const{x1:b,x2:y,y1:E,y2:I,anchorPointX:O,anchorPointY:R}=x,W=new v.Point(i,d);return _&&W._rotate(C?h:-h),{x1:b+W.x,y1:E+W.y,x2:y+W.x,y2:I+W.y,anchorPointX:O,anchorPointY:R}}class tt{constructor(i,d,_,C,h){this.transform=i.clone(),this.terrain=d,this.collisionIndex=new pe(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=_,this.retainedQueryData={},this.collisionGroups=new Se(C),this.collisionCircleArrays={},this.prevPlacement=h,h&&(h.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(i,d,_,C){const h=_.getBucket(d),b=_.latestFeatureIndex;if(!h||!b||d.id!==h.layerIds[0])return;const y=_.collisionBoxArray,E=h.layers[0].layout,I=Math.pow(2,this.transform.zoom-_.tileID.overscaledZ),O=_.tileSize/v.EXTENT,R=this.transform.calculatePosMatrix(_.tileID.toUnwrapped()),W="map"===E.get("text-pitch-alignment"),ce="map"===E.get("text-rotation-alignment"),ye=oe(_,1,this.transform.zoom),we=dt(R,W,ce,this.transform,ye);let Fe=null;if(W){const Mt=jt(R,W,ce,this.transform,ye);Fe=v.multiply([],this.transform.labelPlaneMatrix,Mt)}this.retainedQueryData[h.bucketInstanceId]=new be(h.bucketInstanceId,b,h.sourceLayerIndex,h.index,_.tileID);const rt={bucket:h,layout:E,posMatrix:R,textLabelPlaneMatrix:we,labelToScreenMatrix:Fe,scale:I,textPixelRatio:O,holdingForFade:_.holdingForFade(),collisionBoxArray:y,partiallyEvaluatedTextSize:v.evaluateSizeForZoom(h.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(h.sourceID)};if(C)for(const Mt of h.sortKeyRanges){const{sortKey:He,symbolInstanceStart:Ct,symbolInstanceEnd:Lt}=Mt;i.push({sortKey:He,symbolInstanceStart:Ct,symbolInstanceEnd:Lt,parameters:rt})}else i.push({symbolInstanceStart:0,symbolInstanceEnd:h.symbolInstances.length,parameters:rt})}attemptAnchorPlacement(i,d,_,C,h,b,y,E,I,O,R,W,ce,ye,we,Fe){const rt=[W.textOffset0,W.textOffset1],Mt=de(i,_,C,rt,h),He=this.collisionIndex.placeCollisionBox(Ee(d,Mt.x,Mt.y,b,y,this.transform.angle),R,E,I,O.predicate,Fe);if((!we||0!==this.collisionIndex.placeCollisionBox(Ee(we,Mt.x,Mt.y,b,y,this.transform.angle),R,E,I,O.predicate,Fe).box.length)&&He.box.length>0){let Ct;if(this.prevPlacement&&this.prevPlacement.variableOffsets[W.crossTileID]&&this.prevPlacement.placements[W.crossTileID]&&this.prevPlacement.placements[W.crossTileID].text&&(Ct=this.prevPlacement.variableOffsets[W.crossTileID].anchor),0===W.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[W.crossTileID]={textOffset:rt,width:_,height:C,anchor:i,textBoxScale:h,prevAnchor:Ct},this.markUsedJustification(ce,i,W,ye),ce.allowVerticalPlacement&&(this.markUsedOrientation(ce,ye,W),this.placedOrientations[W.crossTileID]=ye),{shift:Mt,placedGlyphBoxes:He}}}placeLayerBucketPart(i,d,_){const{bucket:C,layout:h,posMatrix:b,textLabelPlaneMatrix:y,labelToScreenMatrix:E,textPixelRatio:I,holdingForFade:O,collisionBoxArray:R,partiallyEvaluatedTextSize:W,collisionGroup:ce}=i.parameters,ye=h.get("text-optional"),we=h.get("icon-optional"),Fe=v.getOverlapMode(h,"text-overlap","text-allow-overlap"),rt="always"===Fe,Mt=v.getOverlapMode(h,"icon-overlap","icon-allow-overlap"),He="always"===Mt,Ct="map"===h.get("text-rotation-alignment"),Lt="map"===h.get("text-pitch-alignment"),Wt="none"!==h.get("icon-text-fit"),oi="viewport-y"===h.get("symbol-z-order"),fi=rt&&(He||!C.hasIconData()||we),ci=He&&(rt||!C.hasTextData()||ye);!C.collisionArrays&&R&&C.deserializeCollisionBoxes(R);const Ii=this.retainedQueryData[C.bucketInstanceId].tileID,Gi=this.terrain?(bi,sn)=>this.terrain.getElevation(Ii,bi,sn):null,_n=(bi,sn)=>{if(d[bi.crossTileID])return;if(O)return void(this.placements[bi.crossTileID]=new et(!1,!1,!1));let Ri=!1,Qn=!1,qr=!0,rr=null,pn={box:null,offscreen:null},Yr={box:null,offscreen:null},Dr=null,To=null,Uo=null,Os=0,_a=0,Io=0;sn.textFeatureIndex?Os=sn.textFeatureIndex:bi.useRuntimeCollisionCircles&&(Os=bi.featureIndex),sn.verticalTextFeatureIndex&&(_a=sn.verticalTextFeatureIndex);const Cs=sn.textBox;if(Cs){const Ao=er=>{let jo=v.WritingMode.horizontal;if(C.allowVerticalPlacement&&!er&&this.prevPlacement){const Po=this.prevPlacement.placedOrientations[bi.crossTileID];Po&&(this.placedOrientations[bi.crossTileID]=Po,jo=Po,this.markUsedOrientation(C,jo,bi))}return jo},ko=(er,jo)=>{if(C.allowVerticalPlacement&&bi.numVerticalGlyphVertices>0&&sn.verticalTextBox){for(const Po of C.writingModes)if(Po===v.WritingMode.vertical?(pn=jo(),Yr=pn):pn=er(),pn&&pn.box&&pn.box.length)break}else pn=er()};if(h.get("text-variable-anchor")){let er=h.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[bi.crossTileID]){const sr=this.prevPlacement.variableOffsets[bi.crossTileID];er.indexOf(sr.anchor)>0&&(er=er.filter(Oo=>Oo!==sr.anchor),er.unshift(sr.anchor))}const jo=(sr,Oo,Es)=>{const rd=sr.x2-sr.x1,ya=sr.y2-sr.y1,Zl=bi.textBoxScale,Pu=Wt&&"never"===Mt?Oo:null;let Ir={box:[],offscreen:!1};const od="never"!==Fe?2*er.length:er.length;for(let Xa=0;Xa<od;++Xa){const ll=this.attemptAnchorPlacement(er[Xa%er.length],sr,rd,ya,Zl,Ct,Lt,I,b,ce,Xa>=er.length?Fe:"never",bi,C,Es,Pu,Gi);if(ll&&(Ir=ll.placedGlyphBoxes,Ir&&Ir.box&&Ir.box.length)){Ri=!0,rr=ll.shift;break}}return Ir};ko(()=>jo(Cs,sn.iconBox,v.WritingMode.horizontal),()=>{const sr=sn.verticalTextBox;return C.allowVerticalPlacement&&!(pn&&pn.box&&pn.box.length)&&bi.numVerticalGlyphVertices>0&&sr?jo(sr,sn.verticalIconBox,v.WritingMode.vertical):{box:null,offscreen:null}}),pn&&(Ri=pn.box,qr=pn.offscreen);const Po=Ao(pn&&pn.box);if(!Ri&&this.prevPlacement){const sr=this.prevPlacement.variableOffsets[bi.crossTileID];sr&&(this.variableOffsets[bi.crossTileID]=sr,this.markUsedJustification(C,sr.anchor,bi,Po))}}else{const er=(jo,Po)=>{const sr=this.collisionIndex.placeCollisionBox(jo,Fe,I,b,ce.predicate,Gi);return sr&&sr.box&&sr.box.length&&(this.markUsedOrientation(C,Po,bi),this.placedOrientations[bi.crossTileID]=Po),sr};ko(()=>er(Cs,v.WritingMode.horizontal),()=>{const jo=sn.verticalTextBox;return C.allowVerticalPlacement&&bi.numVerticalGlyphVertices>0&&jo?er(jo,v.WritingMode.vertical):{box:null,offscreen:null}}),Ao(pn&&pn.box&&pn.box.length)}}if(Dr=pn,Ri=Dr&&Dr.box&&Dr.box.length>0,qr=Dr&&Dr.offscreen,bi.useRuntimeCollisionCircles){const Ao=C.text.placedSymbolArray.get(bi.centerJustifiedTextSymbolIndex),ko=v.evaluateSizeForFeature(C.textSizeData,W,Ao),er=h.get("text-padding");To=this.collisionIndex.placeCollisionCircles(Fe,Ao,C.lineVertexArray,C.glyphOffsetArray,ko,b,y,E,_,Lt,ce.predicate,bi.collisionCircleDiameter,er,Gi),To.circles.length&&To.collisionDetected&&!_&&v.warnOnce("Collisions detected, but collision boxes are not shown"),Ri=rt||To.circles.length>0&&!To.collisionDetected,qr=qr&&To.offscreen}if(sn.iconFeatureIndex&&(Io=sn.iconFeatureIndex),sn.iconBox){const Ao=ko=>{const er=Wt&&rr?Ee(ko,rr.x,rr.y,Ct,Lt,this.transform.angle):ko;return this.collisionIndex.placeCollisionBox(er,Mt,I,b,ce.predicate,Gi)};Yr&&Yr.box&&Yr.box.length&&sn.verticalIconBox?(Uo=Ao(sn.verticalIconBox),Qn=Uo.box.length>0):(Uo=Ao(sn.iconBox),Qn=Uo.box.length>0),qr=qr&&Uo.offscreen}const sa=ye||0===bi.numHorizontalGlyphVertices&&0===bi.numVerticalGlyphVertices,Gl=we||0===bi.numIconVertices;if(sa||Gl?Gl?sa||(Qn=Qn&&Ri):Ri=Qn&&Ri:Qn=Ri=Qn&&Ri,Ri&&Dr&&Dr.box&&this.collisionIndex.insertCollisionBox(Dr.box,Fe,h.get("text-ignore-placement"),C.bucketInstanceId,Yr&&Yr.box&&_a?_a:Os,ce.ID),Qn&&Uo&&this.collisionIndex.insertCollisionBox(Uo.box,Mt,h.get("icon-ignore-placement"),C.bucketInstanceId,Io,ce.ID),To&&(Ri&&this.collisionIndex.insertCollisionCircles(To.circles,Fe,h.get("text-ignore-placement"),C.bucketInstanceId,Os,ce.ID),_)){const Ao=C.bucketInstanceId;let ko=this.collisionCircleArrays[Ao];void 0===ko&&(ko=this.collisionCircleArrays[Ao]=new lt);for(let er=0;er<To.circles.length;er+=4)ko.circles.push(To.circles[er+0]),ko.circles.push(To.circles[er+1]),ko.circles.push(To.circles[er+2]),ko.circles.push(To.collisionDetected?1:0)}if(0===bi.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");if(0===C.bucketInstanceId)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[bi.crossTileID]=new et(Ri||fi,Qn||ci,qr||C.justReloaded),d[bi.crossTileID]=!0};if(oi){if(0!==i.symbolInstanceStart)throw new Error("bucket.bucketInstanceId should be 0");const bi=C.getSortedSymbolIndexes(this.transform.angle);for(let sn=bi.length-1;sn>=0;--sn){const Ri=bi[sn];_n(C.symbolInstances.get(Ri),C.collisionArrays[Ri])}}else for(let bi=i.symbolInstanceStart;bi<i.symbolInstanceEnd;bi++)_n(C.symbolInstances.get(bi),C.collisionArrays[bi]);if(_&&C.bucketInstanceId in this.collisionCircleArrays){const bi=this.collisionCircleArrays[C.bucketInstanceId];v.invert(bi.invProjMatrix,b),bi.viewportMatrix=this.collisionIndex.getViewportMatrix()}C.justReloaded=!1}markUsedJustification(i,d,_,C){let h;h=C===v.WritingMode.vertical?_.verticalPlacedTextSymbolIndex:{left:_.leftJustifiedTextSymbolIndex,center:_.centerJustifiedTextSymbolIndex,right:_.rightJustifiedTextSymbolIndex}[v.getAnchorJustification(d)];const b=[_.leftJustifiedTextSymbolIndex,_.centerJustifiedTextSymbolIndex,_.rightJustifiedTextSymbolIndex,_.verticalPlacedTextSymbolIndex];for(const y of b)y>=0&&(i.text.placedSymbolArray.get(y).crossTileID=h>=0&&y!==h?0:_.crossTileID)}markUsedOrientation(i,d,_){const C=d===v.WritingMode.horizontal||d===v.WritingMode.horizontalOnly?d:0,h=d===v.WritingMode.vertical?d:0,b=[_.leftJustifiedTextSymbolIndex,_.centerJustifiedTextSymbolIndex,_.rightJustifiedTextSymbolIndex];for(const y of b)i.text.placedSymbolArray.get(y).placedOrientation=C;_.verticalPlacedTextSymbolIndex&&(i.text.placedSymbolArray.get(_.verticalPlacedTextSymbolIndex).placedOrientation=h)}commit(i){this.commitTime=i,this.zoomAtLastRecencyCheck=this.transform.zoom;const d=this.prevPlacement;let _=!1;this.prevZoomAdjustment=d?d.zoomAdjustment(this.transform.zoom):0;const C=d?d.symbolFadeChange(i):1,h=d?d.opacities:{},b=d?d.variableOffsets:{},y=d?d.placedOrientations:{};for(const E in this.placements){const I=this.placements[E],O=h[E];O?(this.opacities[E]=new he(O,C,I.text,I.icon),_=_||I.text!==O.text.placed||I.icon!==O.icon.placed):(this.opacities[E]=new he(null,C,I.text,I.icon,I.skipFade),_=_||I.text||I.icon)}for(const E in h){const I=h[E];if(!this.opacities[E]){const O=new he(I,C,!1,!1);O.isHidden()||(this.opacities[E]=O,_=_||I.text.placed||I.icon.placed)}}for(const E in b)this.variableOffsets[E]||!this.opacities[E]||this.opacities[E].isHidden()||(this.variableOffsets[E]=b[E]);for(const E in y)this.placedOrientations[E]||!this.opacities[E]||this.opacities[E].isHidden()||(this.placedOrientations[E]=y[E]);if(d&&void 0===d.lastPlacementChangeTime)throw new Error("Last placement time for previous placement is not defined");_?this.lastPlacementChangeTime=i:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=d?d.lastPlacementChangeTime:i)}updateLayerOpacities(i,d){const _={};for(const C of d){const h=C.getBucket(i);h&&C.latestFeatureIndex&&i.id===h.layerIds[0]&&this.updateBucketOpacities(h,_,C.collisionBoxArray)}}updateBucketOpacities(i,d,_){i.hasTextData()&&(i.text.opacityVertexArray.clear(),i.text.hasVisibleVertices=!1),i.hasIconData()&&(i.icon.opacityVertexArray.clear(),i.icon.hasVisibleVertices=!1),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexArray.clear(),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexArray.clear();const C=i.layers[0].layout,h=new he(null,0,!1,!1,!0),b=C.get("text-allow-overlap"),y=C.get("icon-allow-overlap"),E=C.get("text-variable-anchor"),I="map"===C.get("text-rotation-alignment"),O="map"===C.get("text-pitch-alignment"),R="none"!==C.get("icon-text-fit"),W=new he(null,0,b&&(y||!i.hasIconData()||C.get("icon-optional")),y&&(b||!i.hasTextData()||C.get("text-optional")),!0);!i.collisionArrays&&_&&(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData())&&i.deserializeCollisionBoxes(_);const ce=(ye,we,Fe)=>{for(let rt=0;rt<we/4;rt++)ye.opacityVertexArray.emplaceBack(Fe);ye.hasVisibleVertices=ye.hasVisibleVertices||Fe!==Ni};for(let ye=0;ye<i.symbolInstances.length;ye++){const we=i.symbolInstances.get(ye),{numHorizontalGlyphVertices:Fe,numVerticalGlyphVertices:rt,crossTileID:Mt}=we;let He=this.opacities[Mt];d[Mt]?He=h:He||(He=W,this.opacities[Mt]=He),d[Mt]=!0;const Ct=we.numIconVertices>0,Lt=this.placedOrientations[we.crossTileID],Wt=Lt===v.WritingMode.vertical,oi=Lt===v.WritingMode.horizontal||Lt===v.WritingMode.horizontalOnly;if(Fe>0||rt>0){const fi=Wn(He.text);ce(i.text,Fe,Wt?Ni:fi),ce(i.text,rt,oi?Ni:fi);const ci=He.text.isHidden();[we.rightJustifiedTextSymbolIndex,we.centerJustifiedTextSymbolIndex,we.leftJustifiedTextSymbolIndex].forEach(_n=>{_n>=0&&(i.text.placedSymbolArray.get(_n).hidden=ci||Wt?1:0)}),we.verticalPlacedTextSymbolIndex>=0&&(i.text.placedSymbolArray.get(we.verticalPlacedTextSymbolIndex).hidden=ci||oi?1:0);const Ii=this.variableOffsets[we.crossTileID];Ii&&this.markUsedJustification(i,Ii.anchor,we,Lt);const Gi=this.placedOrientations[we.crossTileID];Gi&&(this.markUsedJustification(i,"left",we,Gi),this.markUsedOrientation(i,Gi,we))}if(Ct){const fi=Wn(He.icon),ci=!(R&&we.verticalPlacedIconSymbolIndex&&Wt);we.placedIconSymbolIndex>=0&&(ce(i.icon,we.numIconVertices,ci?fi:Ni),i.icon.placedSymbolArray.get(we.placedIconSymbolIndex).hidden=He.icon.isHidden()),we.verticalPlacedIconSymbolIndex>=0&&(ce(i.icon,we.numVerticalIconVertices,ci?Ni:fi),i.icon.placedSymbolArray.get(we.verticalPlacedIconSymbolIndex).hidden=He.icon.isHidden())}if(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData()){const fi=i.collisionArrays[ye];if(fi){let ci=new v.Point(0,0);if(fi.textBox||fi.verticalTextBox){let Gi=!0;if(E){const _n=this.variableOffsets[Mt];_n?(ci=de(_n.anchor,_n.width,_n.height,_n.textOffset,_n.textBoxScale),I&&ci._rotate(O?this.transform.angle:-this.transform.angle)):Gi=!1}fi.textBox&&Tt(i.textCollisionBox.collisionVertexArray,He.text.placed,!Gi||Wt,ci.x,ci.y),fi.verticalTextBox&&Tt(i.textCollisionBox.collisionVertexArray,He.text.placed,!Gi||oi,ci.x,ci.y)}const Ii=!(oi||!fi.verticalIconBox);fi.iconBox&&Tt(i.iconCollisionBox.collisionVertexArray,He.icon.placed,Ii,R?ci.x:0,R?ci.y:0),fi.verticalIconBox&&Tt(i.iconCollisionBox.collisionVertexArray,He.icon.placed,!Ii,R?ci.x:0,R?ci.y:0)}}}if(i.sortFeatures(this.transform.angle),this.retainedQueryData[i.bucketInstanceId]&&(this.retainedQueryData[i.bucketInstanceId].featureSortOrder=i.featureSortOrder),i.hasTextData()&&i.text.opacityVertexBuffer&&i.text.opacityVertexBuffer.updateData(i.text.opacityVertexArray),i.hasIconData()&&i.icon.opacityVertexBuffer&&i.icon.opacityVertexBuffer.updateData(i.icon.opacityVertexArray),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexBuffer&&i.iconCollisionBox.collisionVertexBuffer.updateData(i.iconCollisionBox.collisionVertexArray),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexBuffer&&i.textCollisionBox.collisionVertexBuffer.updateData(i.textCollisionBox.collisionVertexArray),i.text.opacityVertexArray.length!==i.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${i.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${i.text.layoutVertexArray.length}) / 4`);if(i.icon.opacityVertexArray.length!==i.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${i.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${i.icon.layoutVertexArray.length}) / 4`);if(i.bucketInstanceId in this.collisionCircleArrays){const ye=this.collisionCircleArrays[i.bucketInstanceId];i.placementInvProjMatrix=ye.invProjMatrix,i.placementViewportMatrix=ye.viewportMatrix,i.collisionCircleArray=ye.circles,delete this.collisionCircleArrays[i.bucketInstanceId]}}symbolFadeChange(i){return 0===this.fadeDuration?1:(i-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(i){return Math.max(0,(this.transform.zoom-i)/1.5)}hasTransitions(i){return this.stale||i-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(i,d){const _=this.zoomAtLastRecencyCheck===d?1-this.zoomAdjustment(d):1;return this.zoomAtLastRecencyCheck=d,this.commitTime+this.fadeDuration*_>i}setStale(){this.stale=!0}}function Tt(x,i,d,_,C){x.emplaceBack(i?1:0,d?1:0,_||0,C||0),x.emplaceBack(i?1:0,d?1:0,_||0,C||0),x.emplaceBack(i?1:0,d?1:0,_||0,C||0),x.emplaceBack(i?1:0,d?1:0,_||0,C||0)}const Ke=Math.pow(2,25),Me=Math.pow(2,24),We=Math.pow(2,17),zt=Math.pow(2,16),ri=Math.pow(2,9),Ht=Math.pow(2,8),di=Math.pow(2,1);function Wn(x){if(0===x.opacity&&!x.placed)return 0;if(1===x.opacity&&x.placed)return 4294967295;const i=x.placed?1:0,d=Math.floor(127*x.opacity);return d*Ke+i*Me+d*We+i*zt+d*ri+i*Ht+d*di+i}const Ni=0;class Un{constructor(i){this._sortAcrossTiles="viewport-y"!==i.layout.get("symbol-z-order")&&!i.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(i,d,_,C,h){const b=this._bucketParts;for(;this._currentTileIndex<i.length;)if(d.getBucketParts(b,C,i[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,h())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,b.sort((y,E)=>y.sortKey-E.sortKey));this._currentPartIndex<b.length;)if(d.placeLayerBucketPart(b[this._currentPartIndex],this._seenCrossTileIDs,_),this._currentPartIndex++,h())return!0;return!1}}class fr{constructor(i,d,_,C,h,b,y,E){this.placement=new tt(i,d,b,y,E),this._currentPlacementIndex=_.length-1,this._forceFullPlacement=C,this._showCollisionBoxes=h,this._done=!1}isDone(){return this._done}continuePlacement(i,d,_){const C=v.exported.now(),h=()=>!this._forceFullPlacement&&v.exported.now()-C>2;for(;this._currentPlacementIndex>=0;){const b=d[i[this._currentPlacementIndex]],y=this.placement.collisionIndex.transform.zoom;if("symbol"===b.type&&(!b.minzoom||b.minzoom<=y)&&(!b.maxzoom||b.maxzoom>y)){if(this._inProgressLayer||(this._inProgressLayer=new Un(b)),this._inProgressLayer.continuePlacement(_[b.source],this.placement,this._showCollisionBoxes,b,h))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(i){return this.placement.commit(i),this.placement}}const Pr=512/v.EXTENT/2;class Or{constructor(i,d,_){this.tileID=i,this.bucketInstanceId=_,this._symbolsByKey={};const C=new Map;for(let h=0;h<d.length;h++){const b=d.get(h),y=b.key,E=C.get(y);E?E.push(b):C.set(y,[b])}for(const[h,b]of C){const y={positions:b.map(E=>({x:Math.floor(E.anchorX*Pr),y:Math.floor(E.anchorY*Pr)})),crossTileIDs:b.map(E=>E.crossTileID)};if(y.positions.length>128){const E=new v.KDBush(y.positions.length,16,Uint16Array);for(const{x:I,y:O}of y.positions)E.add(I,O);E.finish(),delete y.positions,y.index=E}this._symbolsByKey[h]=y}}getScaledCoordinates(i,d){const{x:_,y:C,z:h}=this.tileID.canonical,{x:b,y,z:E}=d.canonical,I=Pr/Math.pow(2,E-h),O=(y*v.EXTENT+i.anchorY)*I,R=C*v.EXTENT*Pr;return{x:Math.floor((b*v.EXTENT+i.anchorX)*I-_*v.EXTENT*Pr),y:Math.floor(O-R)}}findMatches(i,d,_){const C=this.tileID.canonical.z<d.canonical.z?1:Math.pow(2,this.tileID.canonical.z-d.canonical.z);for(let h=0;h<i.length;h++){const b=i.get(h);if(b.crossTileID)continue;const y=this._symbolsByKey[b.key];if(!y)continue;const E=this.getScaledCoordinates(b,d);if(y.index){const I=y.index.range(E.x-C,E.y-C,E.x+C,E.y+C).sort();for(const O of I){const R=y.crossTileIDs[O];if(!_[R]){_[R]=!0,b.crossTileID=R;break}}}else if(y.positions)for(let I=0;I<y.positions.length;I++){const O=y.positions[I],R=y.crossTileIDs[I];if(Math.abs(O.x-E.x)<=C&&Math.abs(O.y-E.y)<=C&&!_[R]){_[R]=!0,b.crossTileID=R;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:i})=>i)}}class Nn{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class _o{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(i){const d=Math.round((i-this.lng)/360);if(0!==d)for(const _ in this.indexes){const C=this.indexes[_],h={};for(const b in C){const y=C[b];y.tileID=y.tileID.unwrapTo(y.tileID.wrap+d),h[y.tileID.key]=y}this.indexes[_]=h}this.lng=i}addBucket(i,d,_){if(this.indexes[i.overscaledZ]&&this.indexes[i.overscaledZ][i.key]){if(this.indexes[i.overscaledZ][i.key].bucketInstanceId===d.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(i.overscaledZ,this.indexes[i.overscaledZ][i.key])}for(let h=0;h<d.symbolInstances.length;h++)d.symbolInstances.get(h).crossTileID=0;this.usedCrossTileIDs[i.overscaledZ]||(this.usedCrossTileIDs[i.overscaledZ]={});const C=this.usedCrossTileIDs[i.overscaledZ];for(const h in this.indexes){const b=this.indexes[h];if(Number(h)>i.overscaledZ)for(const y in b){const E=b[y];E.tileID.isChildOf(i)&&E.findMatches(d.symbolInstances,i,C)}else{const y=b[i.scaledTo(Number(h)).key];y&&y.findMatches(d.symbolInstances,i,C)}}for(let h=0;h<d.symbolInstances.length;h++){const b=d.symbolInstances.get(h);b.crossTileID||(b.crossTileID=_.generate(),C[b.crossTileID]=!0)}return void 0===this.indexes[i.overscaledZ]&&(this.indexes[i.overscaledZ]={}),this.indexes[i.overscaledZ][i.key]=new Or(i,d.symbolInstances,d.bucketInstanceId),!0}removeBucketCrossTileIDs(i,d){for(const _ of d.getCrossTileIDsLists())for(const C of _)delete this.usedCrossTileIDs[i][C]}removeStaleBuckets(i){let d=!1;for(const _ in this.indexes){const C=this.indexes[_];for(const h in C)i[C[h].bucketInstanceId]||(this.removeBucketCrossTileIDs(_,C[h]),delete C[h],d=!0)}return d}}class Dn{constructor(){this.layerIndexes={},this.crossTileIDs=new Nn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(i,d,_){let C=this.layerIndexes[i.id];void 0===C&&(C=this.layerIndexes[i.id]=new _o);let h=!1;const b={};C.handleWrapJump(_);for(const y of d){const E=y.getBucket(i);E&&i.id===E.layerIds[0]&&(E.bucketInstanceId||(E.bucketInstanceId=++this.maxBucketInstanceId),C.addBucket(y.tileID,E,this.crossTileIDs)&&(h=!0),b[E.bucketInstanceId]=!0)}return C.removeStaleBuckets(b)&&(h=!0),h}pruneUnusedLayers(i){const d={};i.forEach(_=>{d[_]=!0});for(const _ in this.layerIndexes)d[_]||delete this.layerIndexes[_]}}const qi=(x,i)=>v.emitValidationErrors(x,i&&i.filter(d=>"source.canvas"!==d.identifier)),lo=v.pick(v.operations,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),Lr=v.pick(v.operations,["setCenter","setZoom","setBearing","setPitch"]),wr=v.emptyStyle();class kn extends v.Evented{constructor(i,d={}){super(),this.map=i,this.dispatcher=new wt(Ie(),this,i._getMapId()),this.imageManager=new At,this.imageManager.setEventedParent(this),this.glyphManager=new Si(i._requestManager,d.localIdeographFontFamily),this.lineAtlas=new In(256,512),this.crossTileSymbolIndex=new Dn,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new v.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",v.getReferrer());const _=this;this._rtlTextPluginCallback=kn.registerForPluginStateChange(C=>{_.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:C.pluginStatus,pluginURL:C.pluginURL},(h,b)=>{if(v.triggerPluginCompletionEvent(h),b&&b.every(y=>y))for(const y in _.sourceCaches){const E=_.sourceCaches[y].getSource().type;"vector"!==E&&"geojson"!==E||_.sourceCaches[y].reload()}})}),this.on("data",C=>{if("source"!==C.dataType||"metadata"!==C.sourceDataType)return;const h=this.sourceCaches[C.sourceId];if(!h)return;const b=h.getSource();if(b&&b.vectorLayerIds)for(const y in this._layers){const E=this._layers[y];E.source===b.id&&this._validateLayer(E)}})}loadURL(i,d={},_){this.fire(new v.Event("dataloading",{dataType:"style"})),d.validate="boolean"!=typeof d.validate||d.validate;const C=this.map._requestManager.transformRequest(i,Qe.Style);this._request=v.getJSON(C,(h,b)=>{this._request=null,h?this.fire(new v.ErrorEvent(h)):b&&this._load(b,d,_)})}loadJSON(i,d={},_){this.fire(new v.Event("dataloading",{dataType:"style"})),this._request=v.exported.frame(()=>{this._request=null,d.validate=!1!==d.validate,this._load(i,d,_)})}loadEmpty(){this.fire(new v.Event("dataloading",{dataType:"style"})),this._load(wr,{validate:!1})}_load(i,d,_){const C=d.transformStyle?d.transformStyle(_,i):i;if(!d.validate||!qi(this,v.validateStyle(C))){this._loaded=!0,this.stylesheet=C;for(const h in C.sources)this.addSource(h,C.sources[h],{validate:!1});C.sprite?this._loadSprite(C.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(C.glyphs),this._createLayers(),this.light=new Zn(this.stylesheet.light),this.map.setTerrain(this.stylesheet.terrain),this.fire(new v.Event("data",{dataType:"style"})),this.fire(new v.Event("style.load"))}}_createLayers(){const i=v.derefLayers(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",i),this._order=i.map(d=>d.id),this._layers={},this._serializedLayers=null;for(const d of i){const _=v.createStyleLayer(d);_.setEventedParent(this,{layer:{id:d.id}}),this._layers[d.id]=_}}_loadSprite(i,d=!1,_=void 0){this.imageManager.setLoaded(!1),this._spriteRequest=function(C,h,b,y){const E=Ze(C),I=E.length,O=b>1?"@2x":"",R={},W={},ce={};for(const{id:ye,url:we}of E){const Fe=h.transformRequest(h.normalizeSpriteURL(we,O,".json"),Qe.SpriteJSON),rt=`${ye}_${Fe.url}`;R[rt]=v.getJSON(Fe,(Ct,Lt)=>{delete R[rt],W[ye]=Lt,Oe(y,W,ce,Ct,I)});const Mt=h.transformRequest(h.normalizeSpriteURL(we,O,".png"),Qe.SpriteImage),He=`${ye}_${Mt.url}`;R[He]=ut.getImage(Mt,(Ct,Lt)=>{delete R[He],ce[ye]=Lt,Oe(y,W,ce,Ct,I)})}return{cancel(){for(const ye of Object.values(R))ye.cancel()}}}(i,this.map._requestManager,this.map.getPixelRatio(),(C,h)=>{if(this._spriteRequest=null,C)this.fire(new v.ErrorEvent(C));else if(h)for(const b in h){this._spritesImagesIds[b]=[];const y=this._spritesImagesIds[b]?this._spritesImagesIds[b].filter(E=>!(E in h)):[];for(const E of y)this.imageManager.removeImage(E),this._changedImages[E]=!0;for(const E in h[b]){const I="default"===b?E:`${b}:${E}`;this._spritesImagesIds[b].push(I),I in this.imageManager.images?this.imageManager.updateImage(I,h[b][E],!1):this.imageManager.addImage(I,h[b][E]),d&&(this._changedImages[I]=!0)}}this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),d&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new v.Event("data",{dataType:"style"})),_&&_(C)})}_unloadSprite(){for(const i of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(i),this._changedImages[i]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new v.Event("data",{dataType:"style"}))}_validateLayer(i){const d=this.sourceCaches[i.source];if(!d)return;const _=i.sourceLayer;if(!_)return;const C=d.getSource();("geojson"===C.type||C.vectorLayerIds&&-1===C.vectorLayerIds.indexOf(_))&&this.fire(new v.ErrorEvent(new Error(`Source layer "${_}" does not exist on source "${C.id}" as specified by style layer "${i.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const i in this.sourceCaches)if(!this.sourceCaches[i].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(i){const d=this._serializedAllLayers();if(!i||0===i.length)return Object.values(d);const _=[];for(const C of i)d[C]&&_.push(d[C]);return _}_serializedAllLayers(){let i=this._serializedLayers;if(i)return i;i=this._serializedLayers={};const d=Object.keys(this._layers);for(const _ of d){const C=this._layers[_];"custom"!==C.type&&(i[_]=C.serialize())}return i}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const i in this.sourceCaches)if(this.sourceCaches[i].hasTransition())return!0;for(const i in this._layers)if(this._layers[i].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(i){if(!this._loaded)return;const d=this._changed;if(this._changed){const C=Object.keys(this._updatedLayers),h=Object.keys(this._removedLayers);(C.length||h.length)&&this._updateWorkerLayers(C,h);for(const b in this._updatedSources){const y=this._updatedSources[b];if("reload"===y)this._reloadSource(b);else{if("clear"!==y)throw new Error(`Invalid action ${y}`);this._clearSource(b)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const b in this._updatedPaintProps)this._layers[b].updateTransitions(i);this.light.updateTransitions(i),this._resetUpdates()}const _={};for(const C in this.sourceCaches){const h=this.sourceCaches[C];_[C]=h.used,h.used=!1}for(const C of this._order){const h=this._layers[C];h.recalculate(i,this._availableImages),!h.isHidden(i.zoom)&&h.source&&(this.sourceCaches[h.source].used=!0)}for(const C in _){const h=this.sourceCaches[C];_[C]!==h.used&&h.fire(new v.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:C}))}this.light.recalculate(i),this.z=i.zoom,d&&this.fire(new v.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const i=Object.keys(this._changedImages);if(i.length){for(const d in this.sourceCaches)this.sourceCaches[d].reloadTilesForDependencies(["icons","patterns"],i);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const i in this.sourceCaches)this.sourceCaches[i].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(i,d){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(i),removedIds:d})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(i,d={}){this._checkLoaded();const _=this.serialize();if(i=d.transformStyle?d.transformStyle(_,i):i,qi(this,v.validateStyle(i)))return!1;(i=v.clone$1(i)).layers=v.derefLayers(i.layers);const C=v.diffStyles(_,i).filter(b=>!(b.command in Lr));if(0===C.length)return!1;const h=C.filter(b=>!(b.command in lo));if(h.length>0)throw new Error(`Unimplemented: ${h.map(b=>b.command).join(", ")}.`);for(const b of C)"setTransition"!==b.command&&this[b.command].apply(this,b.args);return this.stylesheet=i,!0}addImage(i,d){if(this.getImage(i))return this.fire(new v.ErrorEvent(new Error(`An image named "${i}" already exists.`)));this.imageManager.addImage(i,d),this._afterImageUpdated(i)}updateImage(i,d){this.imageManager.updateImage(i,d)}getImage(i){return this.imageManager.getImage(i)}removeImage(i){if(!this.getImage(i))return this.fire(new v.ErrorEvent(new Error(`An image named "${i}" does not exist.`)));this.imageManager.removeImage(i),this._afterImageUpdated(i)}_afterImageUpdated(i){this._availableImages=this.imageManager.listImages(),this._changedImages[i]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new v.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(i,d,_={}){if(this._checkLoaded(),void 0!==this.sourceCaches[i])throw new Error(`Source "${i}" already exists.`);if(!d.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(d).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(d.type)>=0&&this._validate(v.validateStyle.source,`sources.${i}`,d,null,_))return;this.map&&this.map._collectResourceTiming&&(d.collectResourceTiming=!0);const C=this.sourceCaches[i]=new Zi(i,d,this.dispatcher);C.style=this,C.setEventedParent(this,()=>({isSourceLoaded:C.loaded(),source:C.serialize(),sourceId:i})),C.onAdd(this.map),this._changed=!0}removeSource(i){if(this._checkLoaded(),void 0===this.sourceCaches[i])throw new Error("There is no source with this ID");for(const _ in this._layers)if(this._layers[_].source===i)return this.fire(new v.ErrorEvent(new Error(`Source "${i}" cannot be removed while layer "${_}" is using it.`)));const d=this.sourceCaches[i];delete this.sourceCaches[i],delete this._updatedSources[i],d.fire(new v.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:i})),d.setEventedParent(null),d.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(i,d){if(this._checkLoaded(),void 0===this.sourceCaches[i])throw new Error(`There is no source with this ID=${i}`);const _=this.sourceCaches[i].getSource();if("geojson"!==_.type)throw new Error(`geojsonSource.type is ${_.type}, which is !== 'geojson`);_.setData(d),this._changed=!0}getSource(i){return this.sourceCaches[i]&&this.sourceCaches[i].getSource()}addLayer(i,d,_={}){this._checkLoaded();const C=i.id;if(this.getLayer(C))return void this.fire(new v.ErrorEvent(new Error(`Layer "${C}" already exists on this map.`)));let h;if("custom"===i.type){if(qi(this,v.validateCustomStyleLayer(i)))return;h=v.createStyleLayer(i)}else{if("object"==typeof i.source&&(this.addSource(C,i.source),i=v.clone$1(i),i=v.extend(i,{source:C})),this._validate(v.validateStyle.layer,`layers.${C}`,i,{arrayIndex:-1},_))return;h=v.createStyleLayer(i),this._validateLayer(h),h.setEventedParent(this,{layer:{id:C}})}const b=d?this._order.indexOf(d):this._order.length;if(d&&-1===b)this.fire(new v.ErrorEvent(new Error(`Cannot add layer "${C}" before non-existing layer "${d}".`)));else{if(this._order.splice(b,0,C),this._layerOrderChanged=!0,this._layers[C]=h,this._removedLayers[C]&&h.source&&"custom"!==h.type){const y=this._removedLayers[C];delete this._removedLayers[C],y.type!==h.type?this._updatedSources[h.source]="clear":(this._updatedSources[h.source]="reload",this.sourceCaches[h.source].pause())}this._updateLayer(h),h.onAdd&&h.onAdd(this.map)}}moveLayer(i,d){if(this._checkLoaded(),this._changed=!0,!this._layers[i])return void this.fire(new v.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style and cannot be moved.`)));if(i===d)return;const _=this._order.indexOf(i);this._order.splice(_,1);const C=d?this._order.indexOf(d):this._order.length;d&&-1===C?this.fire(new v.ErrorEvent(new Error(`Cannot move layer "${i}" before non-existing layer "${d}".`))):(this._order.splice(C,0,i),this._layerOrderChanged=!0)}removeLayer(i){this._checkLoaded();const d=this._layers[i];if(!d)return void this.fire(new v.ErrorEvent(new Error(`Cannot remove non-existing layer "${i}".`)));d.setEventedParent(null);const _=this._order.indexOf(i);this._order.splice(_,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[i]=d,delete this._layers[i],this._serializedLayers&&delete this._serializedLayers[i],delete this._updatedLayers[i],delete this._updatedPaintProps[i],d.onRemove&&d.onRemove(this.map)}getLayer(i){return this._layers[i]}hasLayer(i){return i in this._layers}setLayerZoomRange(i,d,_){this._checkLoaded();const C=this.getLayer(i);C?C.minzoom===d&&C.maxzoom===_||(null!=d&&(C.minzoom=d),null!=_&&(C.maxzoom=_),this._updateLayer(C)):this.fire(new v.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${i}".`)))}setFilter(i,d,_={}){this._checkLoaded();const C=this.getLayer(i);if(C){if(!v.deepEqual(C.filter,d))return null==d?(C.filter=void 0,void this._updateLayer(C)):void(this._validate(v.validateStyle.filter,`layers.${C.id}.filter`,d,null,_)||(C.filter=v.clone$1(d),this._updateLayer(C)))}else this.fire(new v.ErrorEvent(new Error(`Cannot filter non-existing layer "${i}".`)))}getFilter(i){return v.clone$1(this.getLayer(i).filter)}setLayoutProperty(i,d,_,C={}){this._checkLoaded();const h=this.getLayer(i);h?v.deepEqual(h.getLayoutProperty(d),_)||(h.setLayoutProperty(d,_,C),this._updateLayer(h)):this.fire(new v.ErrorEvent(new Error(`Cannot style non-existing layer "${i}".`)))}getLayoutProperty(i,d){const _=this.getLayer(i);if(_)return _.getLayoutProperty(d);this.fire(new v.ErrorEvent(new Error(`Cannot get style of non-existing layer "${i}".`)))}setPaintProperty(i,d,_,C={}){this._checkLoaded();const h=this.getLayer(i);h?v.deepEqual(h.getPaintProperty(d),_)||(h.setPaintProperty(d,_,C)&&this._updateLayer(h),this._changed=!0,this._updatedPaintProps[i]=!0):this.fire(new v.ErrorEvent(new Error(`Cannot style non-existing layer "${i}".`)))}getPaintProperty(i,d){return this.getLayer(i).getPaintProperty(d)}setFeatureState(i,d){this._checkLoaded();const _=i.source,C=i.sourceLayer,h=this.sourceCaches[_];if(void 0===h)return void this.fire(new v.ErrorEvent(new Error(`The source '${_}' does not exist in the map's style.`)));const b=h.getSource().type;"geojson"===b&&C?this.fire(new v.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==b||C?(void 0===i.id&&this.fire(new v.ErrorEvent(new Error("The feature id parameter must be provided."))),h.setFeatureState(C,i.id,d)):this.fire(new v.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(i,d){this._checkLoaded();const _=i.source,C=this.sourceCaches[_];if(void 0===C)return void this.fire(new v.ErrorEvent(new Error(`The source '${_}' does not exist in the map's style.`)));const h=C.getSource().type,b="vector"===h?i.sourceLayer:void 0;"vector"!==h||b?d&&"string"!=typeof i.id&&"number"!=typeof i.id?this.fire(new v.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):C.removeFeatureState(b,i.id,d):this.fire(new v.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(i){this._checkLoaded();const d=i.source,_=i.sourceLayer,C=this.sourceCaches[d];if(void 0!==C)return"vector"!==C.getSource().type||_?(void 0===i.id&&this.fire(new v.ErrorEvent(new Error("The feature id parameter must be provided."))),C.getFeatureState(_,i.id)):void this.fire(new v.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new v.ErrorEvent(new Error(`The source '${d}' does not exist in the map's style.`)))}getTransition(){return v.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const i=v.mapObject(this.sourceCaches,C=>C.serialize()),d=this._serializeByIds(this._order),_=this.stylesheet;return v.filterObject({version:_.version,name:_.name,metadata:_.metadata,light:_.light,center:_.center,zoom:_.zoom,bearing:_.bearing,pitch:_.pitch,sprite:_.sprite,glyphs:_.glyphs,transition:_.transition,sources:i,layers:d},C=>void 0!==C)}_updateLayer(i){this._updatedLayers[i.id]=!0,i.source&&!this._updatedSources[i.source]&&"raster"!==this.sourceCaches[i.source].getSource().type&&(this._updatedSources[i.source]="reload",this.sourceCaches[i.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(i){const d=b=>"fill-extrusion"===this._layers[b].type,_={},C=[];for(let b=this._order.length-1;b>=0;b--){const y=this._order[b];if(d(y)){_[y]=b;for(const E of i){const I=E[y];if(I)for(const O of I)C.push(O)}}}C.sort((b,y)=>y.intersectionZ-b.intersectionZ);const h=[];for(let b=this._order.length-1;b>=0;b--){const y=this._order[b];if(d(y))for(let E=C.length-1;E>=0;E--){const I=C[E].feature;if(_[I.layer.id]<b)break;h.push(I),C.pop()}else for(const E of i){const I=E[y];if(I)for(const O of I)h.push(O.feature)}}return h}queryRenderedFeatures(i,d,_){d&&d.filter&&this._validate(v.validateStyle.filter,"queryRenderedFeatures.filter",d.filter,null,d);const C={};if(d&&d.layers){if(!Array.isArray(d.layers))return this.fire(new v.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const y of d.layers){const E=this._layers[y];if(!E)return this.fire(new v.ErrorEvent(new Error(`The layer '${y}' does not exist in the map's style and cannot be queried for features.`))),[];C[E.source]=!0}}const h=[];d.availableImages=this._availableImages;const b=this._serializedAllLayers();for(const y in this.sourceCaches)d.layers&&!C[y]||h.push(ei(this.sourceCaches[y],this._layers,b,i,d,_));return this.placement&&h.push(function(y,E,I,O,R,W,ce){const ye={},we=W.queryRenderedSymbols(O),Fe=[];for(const rt of Object.keys(we).map(Number))Fe.push(ce[rt]);Fe.sort(Xe);for(const rt of Fe){const Mt=rt.featureIndex.lookupSymbolFeatures(we[rt.bucketInstanceId],E,rt.bucketIndex,rt.sourceLayerIndex,R.filter,R.layers,R.availableImages,y);for(const He in Mt){const Ct=ye[He]=ye[He]||[],Lt=Mt[He];Lt.sort((Wt,oi)=>{const fi=rt.featureSortOrder;if(fi){const ci=fi.indexOf(Wt.featureIndex);return fi.indexOf(oi.featureIndex)-ci}return oi.featureIndex-Wt.featureIndex});for(const Wt of Lt)Ct.push(Wt)}}for(const rt in ye)ye[rt].forEach(Mt=>{const He=Mt.feature,Ct=I[y[rt].source].getFeatureState(He.layer["source-layer"],He.id);He.source=He.layer.source,He.layer["source-layer"]&&(He.sourceLayer=He.layer["source-layer"]),He.state=Ct});return ye}(this._layers,b,this.sourceCaches,i,d,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(h)}querySourceFeatures(i,d){d&&d.filter&&this._validate(v.validateStyle.filter,"querySourceFeatures.filter",d.filter,null,d);const _=this.sourceCaches[i];return _?function(C,h){const b=C.getRenderableIds().map(I=>C.getTileByID(I)),y=[],E={};for(let I=0;I<b.length;I++){const O=b[I],R=O.tileID.canonical.key;E[R]||(E[R]=!0,O.querySourceFeatures(y,h))}return y}(_,d):[]}addSourceType(i,d,_){return kn.getSourceType(i)?_(new Error(`A source type called "${i}" already exists.`)):(kn.setSourceType(i,d),d.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:i,url:d.workerSourceURL},_):_(null,null))}getLight(){return this.light.getLight()}setLight(i,d={}){this._checkLoaded();const _=this.light.getLight();let C=!1;for(const b in i)if(!v.deepEqual(i[b],_[b])){C=!0;break}if(!C)return;const h={now:v.exported.now(),transition:v.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(i,d),this.light.updateTransitions(h)}_validate(i,d,_,C,h={}){return(!h||!1!==h.validate)&&qi(this,i.call(v.validateStyle,v.extend({key:d,style:this.serialize(),value:_,styleSpec:v.v8Spec},C)))}_remove(i=!0){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),v.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const d in this._layers)this._layers[d].setEventedParent(null);for(const d in this.sourceCaches){const _=this.sourceCaches[d];_.setEventedParent(null),_.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(i)}_clearSource(i){this.sourceCaches[i].clearTiles()}_reloadSource(i){this.sourceCaches[i].resume(),this.sourceCaches[i].reload()}_updateSources(i){for(const d in this.sourceCaches)this.sourceCaches[d].update(i,this.map.terrain)}_generateCollisionBoxes(){for(const i in this.sourceCaches)this._reloadSource(i)}_updatePlacement(i,d,_,C,h=!1){let b=!1,y=!1;const E={};for(const I of this._order){const O=this._layers[I];if("symbol"!==O.type)continue;if(!E[O.source]){const W=this.sourceCaches[O.source];E[O.source]=W.getRenderableIds(!0).map(ce=>W.getTileByID(ce)).sort((ce,ye)=>ye.tileID.overscaledZ-ce.tileID.overscaledZ||(ce.tileID.isLessThan(ye.tileID)?-1:1))}const R=this.crossTileSymbolIndex.addLayer(O,E[O.source],i.center.lng);b=b||R}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((h=h||this._layerOrderChanged||0===_)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(v.exported.now(),i.zoom))&&(this.pauseablePlacement=new fr(i,this.map.terrain,this._order,h,d,_,C,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,E),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(v.exported.now()),y=!0),b&&this.pauseablePlacement.placement.setStale()),y||b)for(const I of this._order){const O=this._layers[I];"symbol"===O.type&&this.placement.updateLayerOpacities(O,E[O.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(v.exported.now())}_releaseSymbolFadeTiles(){for(const i in this.sourceCaches)this.sourceCaches[i].releaseSymbolFadeTiles()}getImages(i,d,_){this.imageManager.getImages(d.icons,_),this._updateTilesForChangedImages();const C=this.sourceCaches[d.source];C&&C.setDependencies(d.tileID.key,d.type,d.icons)}getGlyphs(i,d,_){this.glyphManager.getGlyphs(d.stacks,_);const C=this.sourceCaches[d.source];C&&C.setDependencies(d.tileID.key,d.type,[""])}getResource(i,d,_){return v.makeRequest(d,_)}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(i,d={}){this._checkLoaded(),i&&this._validate(v.validateStyle.glyphs,"glyphs",i,null,d)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=i,this.glyphManager.entries={},this.glyphManager.setURL(i))}addSprite(i,d,_={},C){this._checkLoaded();const h=[{id:i,url:d}],b=[...Ze(this.stylesheet.sprite),...h];this._validate(v.validateStyle.sprite,"sprite",b,null,_)||(this.stylesheet.sprite=b,this._loadSprite(h,!0,C))}removeSprite(i){this._checkLoaded();const d=Ze(this.stylesheet.sprite);if(d.find(_=>_.id===i)){if(this._spritesImagesIds[i])for(const _ of this._spritesImagesIds[i])this.imageManager.removeImage(_),this._changedImages[_]=!0;d.splice(d.findIndex(_=>_.id===i),1),this.stylesheet.sprite=d.length>0?d:void 0,delete this._spritesImagesIds[i],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new v.Event("data",{dataType:"style"}))}else this.fire(new v.ErrorEvent(new Error(`Sprite "${i}" doesn't exists on this map.`)))}getSprite(){return Ze(this.stylesheet.sprite)}setSprite(i,d={},_){this._checkLoaded(),i&&this._validate(v.validateStyle.sprite,"sprite",i,null,d)||(this.stylesheet.sprite=i,i?this._loadSprite(i,!0,_):(this._unloadSprite(),_&&_(null)))}}kn.getSourceType=function(x){return qt[x]},kn.setSourceType=function(x,i){qt[x]=i},kn.registerForPluginStateChange=v.registerForPluginStateChange;var Eo=v.createLayout([{name:"a_pos",type:"Int16",components:2}]),Mo="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const co={prelude:Cn("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\n","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}\n#ifdef TERRAIN3D\nuniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;\n#endif\nconst highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {\n#ifdef TERRAIN3D\nhighp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));\n#else\nreturn 1.0;\n#endif\n}float calculate_visibility(vec4 pos) {\n#ifdef TERRAIN3D\nvec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;\n#else\nreturn 1.0;\n#endif\n}float ele(vec2 pos) {\n#ifdef TERRAIN3D\nvec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;\n#else\nreturn 0.0;\n#endif\n}float get_elevation(vec2 pos) {\n#ifdef TERRAIN3D\nvec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;\n#else\nreturn 0.0;\n#endif\n}"),background:Cn("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:Cn("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Cn("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),clippingMask:Cn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Cn("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),heatmapTexture:Cn("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Cn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Cn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Cn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:Cn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),fillOutline:Cn("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillOutlinePattern:Cn("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillPattern:Cn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),fillExtrusion:Cn("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),fillExtrusionPattern:Cn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),hillshadePrepare:Cn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Cn("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:Cn("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),lineGradient:Cn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),linePattern:Cn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),lineSDF:Cn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),raster:Cn("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:Cn("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}"),symbolSDF:Cn("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),symbolTextAndIcon:Cn("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}"),terrain:Cn("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",Mo),terrainDepth:Cn("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",Mo),terrainCoords:Cn("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",Mo)};function Cn(x,i){const d=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,_=i.match(/attribute ([\w]+) ([\w]+)/g),C=x.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),h=i.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),b=h?h.concat(C):C,y={};return{fragmentSource:x=x.replace(d,(E,I,O,R,W)=>(y[W]=!0,"define"===I?`\n#ifndef HAS_UNIFORM_u_${W}\nvarying ${O} ${R} ${W};\n#else\nuniform ${O} ${R} u_${W};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${W}\n    ${O} ${R} ${W} = u_${W};\n#endif\n`)),vertexSource:i=i.replace(d,(E,I,O,R,W)=>{const ce="float"===R?"vec2":"vec4",ye=W.match(/color/)?"color":ce;return y[W]?"define"===I?`\n#ifndef HAS_UNIFORM_u_${W}\nuniform lowp float u_${W}_t;\nattribute ${O} ${ce} a_${W};\nvarying ${O} ${R} ${W};\n#else\nuniform ${O} ${R} u_${W};\n#endif\n`:"vec4"===ye?`\n#ifndef HAS_UNIFORM_u_${W}\n    ${W} = a_${W};\n#else\n    ${O} ${R} ${W} = u_${W};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${W}\n    ${W} = unpack_mix_${ye}(a_${W}, u_${W}_t);\n#else\n    ${O} ${R} ${W} = u_${W};\n#endif\n`:"define"===I?`\n#ifndef HAS_UNIFORM_u_${W}\nuniform lowp float u_${W}_t;\nattribute ${O} ${ce} a_${W};\n#else\nuniform ${O} ${R} u_${W};\n#endif\n`:"vec4"===ye?`\n#ifndef HAS_UNIFORM_u_${W}\n    ${O} ${R} ${W} = a_${W};\n#else\n    ${O} ${R} ${W} = u_${W};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${W}\n    ${O} ${R} ${W} = unpack_mix_${ye}(a_${W}, u_${W}_t);\n#else\n    ${O} ${R} ${W} = u_${W};\n#endif\n`}),staticAttributes:_,staticUniforms:b}}class Mr{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(i,d,_,C,h,b,y,E,I){this.context=i;let O=this.boundPaintVertexBuffers.length!==C.length;for(let R=0;!O&&R<C.length;R++)this.boundPaintVertexBuffers[R]!==C[R]&&(O=!0);!this.vao||this.boundProgram!==d||this.boundLayoutVertexBuffer!==_||O||this.boundIndexBuffer!==h||this.boundVertexOffset!==b||this.boundDynamicVertexBuffer!==y||this.boundDynamicVertexBuffer2!==E||this.boundDynamicVertexBuffer3!==I?this.freshBind(d,_,C,h,b,y,E,I):(i.bindVertexArray.set(this.vao),y&&y.bind(),h&&h.dynamicDraw&&h.bind(),E&&E.bind(),I&&I.bind())}freshBind(i,d,_,C,h,b,y,E){const I=i.numAttributes,O=this.context,R=O.gl;this.vao&&this.destroy(),this.vao=O.createVertexArray(),O.bindVertexArray.set(this.vao),this.boundProgram=i,this.boundLayoutVertexBuffer=d,this.boundPaintVertexBuffers=_,this.boundIndexBuffer=C,this.boundVertexOffset=h,this.boundDynamicVertexBuffer=b,this.boundDynamicVertexBuffer2=y,this.boundDynamicVertexBuffer3=E,d.enableAttributes(R,i);for(const W of _)W.enableAttributes(R,i);b&&b.enableAttributes(R,i),y&&y.enableAttributes(R,i),E&&E.enableAttributes(R,i),d.bind(),d.setVertexAttribPointers(R,i,h);for(const W of _)W.bind(),W.setVertexAttribPointers(R,i,h);b&&(b.bind(),b.setVertexAttribPointers(R,i,h)),C&&C.bind(),y&&(y.bind(),y.setVertexAttribPointers(R,i,h)),E&&(E.bind(),E.setVertexAttribPointers(R,i,h)),O.currentNumAttributes=I}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function Go(x){const i=[];for(let d=0;d<x.length;d++){if(null===x[d])continue;const _=x[d].split(" ");i.push(_.pop())}return i}class Fo{constructor(i,d,_,C,h,b,y){const E=i.gl;this.program=E.createProgram();const I=Go(_.staticAttributes),O=C?C.getBinderAttributes():[],R=I.concat(O),W=co.prelude.staticUniforms?Go(co.prelude.staticUniforms):[],ce=_.staticUniforms?Go(_.staticUniforms):[],ye=C?C.getBinderUniforms():[],we=W.concat(ce).concat(ye),Fe=[];for(const oi of we)Fe.indexOf(oi)<0&&Fe.push(oi);const rt=C?C.defines():[];b&&rt.push("#define OVERDRAW_INSPECTOR;"),y&&rt.push("#define TERRAIN3D;");const Mt=rt.concat(co.prelude.fragmentSource,_.fragmentSource).join("\n"),He=rt.concat(co.prelude.vertexSource,_.vertexSource).join("\n"),Ct=E.createShader(E.FRAGMENT_SHADER);if(E.isContextLost())return void(this.failedToCreate=!0);E.shaderSource(Ct,Mt),E.compileShader(Ct),E.attachShader(this.program,Ct);const Lt=E.createShader(E.VERTEX_SHADER);if(E.isContextLost())return void(this.failedToCreate=!0);E.shaderSource(Lt,He),E.compileShader(Lt),E.attachShader(this.program,Lt),this.attributes={};const Wt={};this.numAttributes=R.length;for(let oi=0;oi<this.numAttributes;oi++)R[oi]&&(E.bindAttribLocation(this.program,oi,R[oi]),this.attributes[R[oi]]=oi);E.linkProgram(this.program),E.deleteShader(Lt),E.deleteShader(Ct);for(let oi=0;oi<Fe.length;oi++){const fi=Fe[oi];if(fi&&!Wt[fi]){const ci=E.getUniformLocation(this.program,fi);ci&&(Wt[fi]=ci)}}var oi,fi;this.fixedUniforms=h(i,Wt),this.terrainUniforms={u_depth:new v.Uniform1i(oi=i,(fi=Wt).u_depth),u_terrain:new v.Uniform1i(oi,fi.u_terrain),u_terrain_dim:new v.Uniform1f(oi,fi.u_terrain_dim),u_terrain_matrix:new v.UniformMatrix4f(oi,fi.u_terrain_matrix),u_terrain_unpack:new v.Uniform4f(oi,fi.u_terrain_unpack),u_terrain_exaggeration:new v.Uniform1f(oi,fi.u_terrain_exaggeration)},this.binderUniforms=C?C.getUniforms(i,Wt):[]}draw(i,d,_,C,h,b,y,E,I,O,R,W,ce,ye,we,Fe,rt,Mt){const He=i.gl;if(this.failedToCreate)return;if(i.program.set(this.program),i.setDepthMode(_),i.setStencilMode(C),i.setColorMode(h),i.setCullFace(b),E){i.activeTexture.set(He.TEXTURE2),He.bindTexture(He.TEXTURE_2D,E.depthTexture),i.activeTexture.set(He.TEXTURE3),He.bindTexture(He.TEXTURE_2D,E.texture);for(const Lt in this.terrainUniforms)this.terrainUniforms[Lt].set(E[Lt])}for(const Lt in this.fixedUniforms)this.fixedUniforms[Lt].set(y[Lt]);we&&we.setUniforms(i,this.binderUniforms,ce,{zoom:ye});let Ct=0;switch(d){case He.LINES:Ct=2;break;case He.TRIANGLES:Ct=3;break;case He.LINE_STRIP:Ct=1}for(const Lt of W.get()){const Wt=Lt.vaos||(Lt.vaos={});(Wt[I]||(Wt[I]=new Mr)).bind(i,this,O,we?we.getPaintVertexBuffers():[],R,Lt.vertexOffset,Fe,rt,Mt),He.drawElements(d,Lt.primitiveLength*Ct,He.UNSIGNED_SHORT,Lt.primitiveOffset*Ct*2)}}}function Da(x,i,d){const _=1/oe(d,1,i.transform.tileZoom),C=Math.pow(2,d.tileID.overscaledZ),h=d.tileSize*Math.pow(2,i.transform.tileZoom)/C,b=h*(d.tileID.canonical.x+d.tileID.wrap*C),y=h*d.tileID.canonical.y;return{u_image:0,u_texsize:d.imageAtlasTexture.size,u_scale:[_,x.fromScale,x.toScale],u_fade:x.t,u_pixel_coord_upper:[b>>16,y>>16],u_pixel_coord_lower:[65535&b,65535&y]}}const bl=(x,i,d,_)=>{const C=i.style.light,h=C.properties.get("position"),b=[h.x,h.y,h.z],y=(I=new v.ARRAY_TYPE(9),v.ARRAY_TYPE!=Float32Array&&(I[1]=0,I[2]=0,I[3]=0,I[5]=0,I[6]=0,I[7]=0),I[0]=1,I[4]=1,I[8]=1,I);var I;"viewport"===C.properties.get("anchor")&&function(I,O){var R=Math.sin(O),W=Math.cos(O);I[0]=W,I[1]=R,I[2]=0,I[3]=-R,I[4]=W,I[5]=0,I[6]=0,I[7]=0,I[8]=1}(y,-i.transform.angle),function(I,O,R){var W=O[0],ce=O[1],ye=O[2];I[0]=W*R[0]+ce*R[3]+ye*R[6],I[1]=W*R[1]+ce*R[4]+ye*R[7],I[2]=W*R[2]+ce*R[5]+ye*R[8]}(b,b,y);const E=C.properties.get("color");return{u_matrix:x,u_lightpos:b,u_lightintensity:C.properties.get("intensity"),u_lightcolor:[E.r,E.g,E.b],u_vertical_gradient:+d,u_opacity:_}},Ll=(x,i,d,_,C,h,b)=>v.extend(bl(x,i,d,_),Da(h,i,b),{u_height_factor:-Math.pow(2,C.overscaledZ)/b.tileSize/8}),Va=x=>({u_matrix:x}),il=(x,i,d,_)=>v.extend(Va(x),Da(d,i,_)),Ua=(x,i)=>({u_matrix:x,u_world:i}),ua=(x,i,d,_,C)=>v.extend(il(x,i,d,_),{u_world:C}),xl=(x,i,d,_)=>{const C=x.transform;let h,b;if("map"===_.paint.get("circle-pitch-alignment")){const y=oe(d,1,C.zoom);h=!0,b=[y,y]}else h=!1,b=C.pixelsToGLUnits;return{u_camera_to_center_distance:C.cameraToCenterDistance,u_scale_with_map:+("map"===_.paint.get("circle-pitch-scale")),u_matrix:x.translatePosMatrix(i.posMatrix,d,_.paint.get("circle-translate"),_.paint.get("circle-translate-anchor")),u_pitch_with_map:+h,u_device_pixel_ratio:x.pixelRatio,u_extrude_scale:b}},ln=(x,i,d)=>{const _=oe(d,1,i.zoom),C=Math.pow(2,i.zoom-d.tileID.overscaledZ),h=d.tileID.overscaleFactor();return{u_matrix:x,u_camera_to_center_distance:i.cameraToCenterDistance,u_pixels_to_tile_units:_,u_extrude_scale:[i.pixelsToGLUnits[0]/(_*C),i.pixelsToGLUnits[1]/(_*C)],u_overscale_factor:h}},Sr=(x,i,d=1)=>({u_matrix:x,u_color:i,u_overlay:0,u_overlay_scale:d}),Gr=x=>({u_matrix:x}),Us=(x,i,d,_)=>({u_matrix:x,u_extrude_scale:oe(i,1,d),u_intensity:_});function Nr(x,i){const d=Math.pow(2,i.canonical.z),_=i.canonical.y;return[new v.MercatorCoordinate(0,_/d).toLngLat().lat,new v.MercatorCoordinate(0,(_+1)/d).toLngLat().lat]}const ss=(x,i,d,_)=>{const C=x.transform;return{u_matrix:ar(x,i,d,_),u_ratio:1/oe(i,1,C.zoom),u_device_pixel_ratio:x.pixelRatio,u_units_to_pixels:[1/C.pixelsToGLUnits[0],1/C.pixelsToGLUnits[1]]}},Xs=(x,i,d,_,C)=>v.extend(ss(x,i,d,C),{u_image:0,u_image_height:_}),zr=(x,i,d,_,C)=>{const h=x.transform,b=fs(i,h);return{u_matrix:ar(x,i,d,C),u_texsize:i.imageAtlasTexture.size,u_ratio:1/oe(i,1,h.zoom),u_device_pixel_ratio:x.pixelRatio,u_image:0,u_scale:[b,_.fromScale,_.toScale],u_fade:_.t,u_units_to_pixels:[1/h.pixelsToGLUnits[0],1/h.pixelsToGLUnits[1]]}},Zo=(x,i,d,_,C,h)=>{const b=x.lineAtlas,y=fs(i,x.transform),E="round"===d.layout.get("line-cap"),I=b.getDash(_.from,E),O=b.getDash(_.to,E),R=I.width*C.fromScale,W=O.width*C.toScale;return v.extend(ss(x,i,d,h),{u_patternscale_a:[y/R,-I.height/2],u_patternscale_b:[y/W,-O.height/2],u_sdfgamma:b.width/(256*Math.min(R,W)*x.pixelRatio)/2,u_image:0,u_tex_y_a:I.y,u_tex_y_b:O.y,u_mix:C.t})};function fs(x,i){return 1/oe(x,1,i.tileZoom)}function ar(x,i,d,_){return x.translatePosMatrix(_?_.posMatrix:i.tileID.posMatrix,i,d.paint.get("line-translate"),d.paint.get("line-translate-anchor"))}const Ti=(x,i,d,_,C)=>{return{u_matrix:x,u_tl_parent:i,u_scale_parent:d,u_buffer_scale:1,u_fade_t:_.mix,u_opacity:_.opacity*C.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:C.paint.get("raster-brightness-min"),u_brightness_high:C.paint.get("raster-brightness-max"),u_saturation_factor:(b=C.paint.get("raster-saturation"),b>0?1-1/(1.001-b):-b),u_contrast_factor:(h=C.paint.get("raster-contrast"),h>0?1/(1-h):1+h),u_spin_weights:rn(C.paint.get("raster-hue-rotate"))};var h,b};function rn(x){x*=Math.PI/180;const i=Math.sin(x),d=Math.cos(x);return[(2*d+1)/3,(-Math.sqrt(3)*i-d+1)/3,(Math.sqrt(3)*i-d+1)/3]}const On=(x,i,d,_,C,h,b,y,E,I)=>{const O=C.transform;return{u_is_size_zoom_constant:+("constant"===x||"source"===x),u_is_size_feature_constant:+("constant"===x||"camera"===x),u_size_t:i?i.uSizeT:0,u_size:i?i.uSize:0,u_camera_to_center_distance:O.cameraToCenterDistance,u_pitch:O.pitch/360*2*Math.PI,u_rotate_symbol:+d,u_aspect_ratio:O.width/O.height,u_fade_change:C.options.fadeDuration?C.symbolFadeChange:1,u_matrix:h,u_label_plane_matrix:b,u_coord_matrix:y,u_is_text:+E,u_pitch_with_map:+_,u_texsize:I,u_texture:0}},uo=(x,i,d,_,C,h,b,y,E,I,O)=>{const R=C.transform;return v.extend(On(x,i,d,_,C,h,b,y,E,I),{u_gamma_scale:_?Math.cos(R._pitch)*R.cameraToCenterDistance:1,u_device_pixel_ratio:C.pixelRatio,u_is_halo:+O})},as=(x,i,d,_,C,h,b,y,E,I)=>v.extend(uo(x,i,d,_,C,h,b,y,!0,E,!0),{u_texsize_icon:I,u_texture_icon:1}),Kn=(x,i,d)=>({u_matrix:x,u_opacity:i,u_color:d}),Tr=(x,i,d,_,C,h)=>v.extend(function(b,y,E,I){const O=E.imageManager.getPattern(b.from.toString()),R=E.imageManager.getPattern(b.to.toString()),{width:W,height:ce}=E.imageManager.getPixelSize(),ye=Math.pow(2,I.tileID.overscaledZ),we=I.tileSize*Math.pow(2,E.transform.tileZoom)/ye,Fe=we*(I.tileID.canonical.x+I.tileID.wrap*ye),rt=we*I.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:O.tl,u_pattern_br_a:O.br,u_pattern_tl_b:R.tl,u_pattern_br_b:R.br,u_texsize:[W,ce],u_mix:y.t,u_pattern_size_a:O.displaySize,u_pattern_size_b:R.displaySize,u_scale_a:y.fromScale,u_scale_b:y.toScale,u_tile_units_to_pixels:1/oe(I,1,E.transform.tileZoom),u_pixel_coord_upper:[Fe>>16,rt>>16],u_pixel_coord_lower:[65535&Fe,65535&rt]}}(_,h,d,C),{u_matrix:x,u_opacity:i}),gr={fillExtrusion:(x,i)=>({u_matrix:new v.UniformMatrix4f(x,i.u_matrix),u_lightpos:new v.Uniform3f(x,i.u_lightpos),u_lightintensity:new v.Uniform1f(x,i.u_lightintensity),u_lightcolor:new v.Uniform3f(x,i.u_lightcolor),u_vertical_gradient:new v.Uniform1f(x,i.u_vertical_gradient),u_opacity:new v.Uniform1f(x,i.u_opacity)}),fillExtrusionPattern:(x,i)=>({u_matrix:new v.UniformMatrix4f(x,i.u_matrix),u_lightpos:new v.Uniform3f(x,i.u_lightpos),u_lightintensity:new v.Uniform1f(x,i.u_lightintensity),u_lightcolor:new v.Uniform3f(x,i.u_lightcolor),u_vertical_gradient:new v.Uniform1f(x,i.u_vertical_gradient),u_height_factor:new v.Uniform1f(x,i.u_height_factor),u_image:new v.Uniform1i(x,i.u_image),u_texsize:new v.Uniform2f(x,i.u_texsize),u_pixel_coord_upper:new v.Uniform2f(x,i.u_pixel_coord_upper),u_pixel_coord_lower:new v.Uniform2f(x,i.u_pixel_coord_lower),u_scale:new v.Uniform3f(x,i.u_scale),u_fade:new v.Uniform1f(x,i.u_fade),u_opacity:new v.Uniform1f(x,i.u_opacity)}),fill:(x,i)=>({u_matrix:new v.UniformMatrix4f(x,i.u_matrix)}),fillPattern:(x,i)=>({u_matrix:new v.UniformMatrix4f(x,i.u_matrix),u_image:new v.Uniform1i(x,i.u_image),u_texsize:new v.Uniform2f(x,i.u_texsize),u_pixel_coord_upper:new v.Uniform2f(x,i.u_pixel_coord_upper),u_pixel_coord_lower:new v.Uniform2f(x,i.u_pixel_coord_lower),u_scale:new v.Uniform3f(x,i.u_scale),u_fade:new v.Uniform1f(x,i.u_fade)}),fillOutline:(x,i)=>({u_matrix:new v.UniformMatrix4f(x,i.u_matrix),u_world:new v.Uniform2f(x,i.u_world)}),fillOutlinePattern:(x,i)=>({u_matrix:new v.UniformMatrix4f(x,i.u_matrix),u_world:new v.Uniform2f(x,i.u_world),u_image:new v.Uniform1i(x,i.u_image),u_texsize:new v.Uniform2f(x,i.u_texsize),u_pixel_coord_upper:new v.Uniform2f(x,i.u_pixel_coord_upper),u_pixel_coord_lower:new v.Uniform2f(x,i.u_pixel_coord_lower),u_scale:new v.Uniform3f(x,i.u_scale),u_fade:new v.Uniform1f(x,i.u_fade)}),circle:(x,i)=>({u_camera_to_center_distance:new v.Uniform1f(x,i.u_camera_to_center_distance),u_scale_with_map:new v.Uniform1i(x,i.u_scale_with_map),u_pitch_with_map:new v.Uniform1i(x,i.u_pitch_with_map),u_extrude_scale:new v.Uniform2f(x,i.u_extrude_scale),u_device_pixel_ratio:new v.Uniform1f(x,i.u_device_pixel_ratio),u_matrix:new v.UniformMatrix4f(x,i.u_matrix)}),collisionBox:(x,i)=>({u_matrix:new v.UniformMatrix4f(x,i.u_matrix),u_camera_to_center_distance:new v.Uniform1f(x,i.u_camera_to_center_distance),u_pixels_to_tile_units:new v.Uniform1f(x,i.u_pixels_to_tile_units),u_extrude_scale:new v.Uniform2f(x,i.u_extrude_scale),u_overscale_factor:new v.Uniform1f(x,i.u_overscale_factor)}),collisionCircle:(x,i)=>({u_matrix:new v.UniformMatrix4f(x,i.u_matrix),u_inv_matrix:new v.UniformMatrix4f(x,i.u_inv_matrix),u_camera_to_center_distance:new v.Uniform1f(x,i.u_camera_to_center_distance),u_viewport_size:new v.Uniform2f(x,i.u_viewport_size)}),debug:(x,i)=>({u_color:new v.UniformColor(x,i.u_color),u_matrix:new v.UniformMatrix4f(x,i.u_matrix),u_overlay:new v.Uniform1i(x,i.u_overlay),u_overlay_scale:new v.Uniform1f(x,i.u_overlay_scale)}),clippingMask:(x,i)=>({u_matrix:new v.UniformMatrix4f(x,i.u_matrix)}),heatmap:(x,i)=>({u_extrude_scale:new v.Uniform1f(x,i.u_extrude_scale),u_intensity:new v.Uniform1f(x,i.u_intensity),u_matrix:new v.UniformMatrix4f(x,i.u_matrix)}),heatmapTexture:(x,i)=>({u_matrix:new v.UniformMatrix4f(x,i.u_matrix),u_world:new v.Uniform2f(x,i.u_world),u_image:new v.Uniform1i(x,i.u_image),u_color_ramp:new v.Uniform1i(x,i.u_color_ramp),u_opacity:new v.Uniform1f(x,i.u_opacity)}),hillshade:(x,i)=>({u_matrix:new v.UniformMatrix4f(x,i.u_matrix),u_image:new v.Uniform1i(x,i.u_image),u_latrange:new v.Uniform2f(x,i.u_latrange),u_light:new v.Uniform2f(x,i.u_light),u_shadow:new v.UniformColor(x,i.u_shadow),u_highlight:new v.UniformColor(x,i.u_highlight),u_accent:new v.UniformColor(x,i.u_accent)}),hillshadePrepare:(x,i)=>({u_matrix:new v.UniformMatrix4f(x,i.u_matrix),u_image:new v.Uniform1i(x,i.u_image),u_dimension:new v.Uniform2f(x,i.u_dimension),u_zoom:new v.Uniform1f(x,i.u_zoom),u_unpack:new v.Uniform4f(x,i.u_unpack)}),line:(x,i)=>({u_matrix:new v.UniformMatrix4f(x,i.u_matrix),u_ratio:new v.Uniform1f(x,i.u_ratio),u_device_pixel_ratio:new v.Uniform1f(x,i.u_device_pixel_ratio),u_units_to_pixels:new v.Uniform2f(x,i.u_units_to_pixels)}),lineGradient:(x,i)=>({u_matrix:new v.UniformMatrix4f(x,i.u_matrix),u_ratio:new v.Uniform1f(x,i.u_ratio),u_device_pixel_ratio:new v.Uniform1f(x,i.u_device_pixel_ratio),u_units_to_pixels:new v.Uniform2f(x,i.u_units_to_pixels),u_image:new v.Uniform1i(x,i.u_image),u_image_height:new v.Uniform1f(x,i.u_image_height)}),linePattern:(x,i)=>({u_matrix:new v.UniformMatrix4f(x,i.u_matrix),u_texsize:new v.Uniform2f(x,i.u_texsize),u_ratio:new v.Uniform1f(x,i.u_ratio),u_device_pixel_ratio:new v.Uniform1f(x,i.u_device_pixel_ratio),u_image:new v.Uniform1i(x,i.u_image),u_units_to_pixels:new v.Uniform2f(x,i.u_units_to_pixels),u_scale:new v.Uniform3f(x,i.u_scale),u_fade:new v.Uniform1f(x,i.u_fade)}),lineSDF:(x,i)=>({u_matrix:new v.UniformMatrix4f(x,i.u_matrix),u_ratio:new v.Uniform1f(x,i.u_ratio),u_device_pixel_ratio:new v.Uniform1f(x,i.u_device_pixel_ratio),u_units_to_pixels:new v.Uniform2f(x,i.u_units_to_pixels),u_patternscale_a:new v.Uniform2f(x,i.u_patternscale_a),u_patternscale_b:new v.Uniform2f(x,i.u_patternscale_b),u_sdfgamma:new v.Uniform1f(x,i.u_sdfgamma),u_image:new v.Uniform1i(x,i.u_image),u_tex_y_a:new v.Uniform1f(x,i.u_tex_y_a),u_tex_y_b:new v.Uniform1f(x,i.u_tex_y_b),u_mix:new v.Uniform1f(x,i.u_mix)}),raster:(x,i)=>({u_matrix:new v.UniformMatrix4f(x,i.u_matrix),u_tl_parent:new v.Uniform2f(x,i.u_tl_parent),u_scale_parent:new v.Uniform1f(x,i.u_scale_parent),u_buffer_scale:new v.Uniform1f(x,i.u_buffer_scale),u_fade_t:new v.Uniform1f(x,i.u_fade_t),u_opacity:new v.Uniform1f(x,i.u_opacity),u_image0:new v.Uniform1i(x,i.u_image0),u_image1:new v.Uniform1i(x,i.u_image1),u_brightness_low:new v.Uniform1f(x,i.u_brightness_low),u_brightness_high:new v.Uniform1f(x,i.u_brightness_high),u_saturation_factor:new v.Uniform1f(x,i.u_saturation_factor),u_contrast_factor:new v.Uniform1f(x,i.u_contrast_factor),u_spin_weights:new v.Uniform3f(x,i.u_spin_weights)}),symbolIcon:(x,i)=>({u_is_size_zoom_constant:new v.Uniform1i(x,i.u_is_size_zoom_constant),u_is_size_feature_constant:new v.Uniform1i(x,i.u_is_size_feature_constant),u_size_t:new v.Uniform1f(x,i.u_size_t),u_size:new v.Uniform1f(x,i.u_size),u_camera_to_center_distance:new v.Uniform1f(x,i.u_camera_to_center_distance),u_pitch:new v.Uniform1f(x,i.u_pitch),u_rotate_symbol:new v.Uniform1i(x,i.u_rotate_symbol),u_aspect_ratio:new v.Uniform1f(x,i.u_aspect_ratio),u_fade_change:new v.Uniform1f(x,i.u_fade_change),u_matrix:new v.UniformMatrix4f(x,i.u_matrix),u_label_plane_matrix:new v.UniformMatrix4f(x,i.u_label_plane_matrix),u_coord_matrix:new v.UniformMatrix4f(x,i.u_coord_matrix),u_is_text:new v.Uniform1i(x,i.u_is_text),u_pitch_with_map:new v.Uniform1i(x,i.u_pitch_with_map),u_texsize:new v.Uniform2f(x,i.u_texsize),u_texture:new v.Uniform1i(x,i.u_texture)}),symbolSDF:(x,i)=>({u_is_size_zoom_constant:new v.Uniform1i(x,i.u_is_size_zoom_constant),u_is_size_feature_constant:new v.Uniform1i(x,i.u_is_size_feature_constant),u_size_t:new v.Uniform1f(x,i.u_size_t),u_size:new v.Uniform1f(x,i.u_size),u_camera_to_center_distance:new v.Uniform1f(x,i.u_camera_to_center_distance),u_pitch:new v.Uniform1f(x,i.u_pitch),u_rotate_symbol:new v.Uniform1i(x,i.u_rotate_symbol),u_aspect_ratio:new v.Uniform1f(x,i.u_aspect_ratio),u_fade_change:new v.Uniform1f(x,i.u_fade_change),u_matrix:new v.UniformMatrix4f(x,i.u_matrix),u_label_plane_matrix:new v.UniformMatrix4f(x,i.u_label_plane_matrix),u_coord_matrix:new v.UniformMatrix4f(x,i.u_coord_matrix),u_is_text:new v.Uniform1i(x,i.u_is_text),u_pitch_with_map:new v.Uniform1i(x,i.u_pitch_with_map),u_texsize:new v.Uniform2f(x,i.u_texsize),u_texture:new v.Uniform1i(x,i.u_texture),u_gamma_scale:new v.Uniform1f(x,i.u_gamma_scale),u_device_pixel_ratio:new v.Uniform1f(x,i.u_device_pixel_ratio),u_is_halo:new v.Uniform1i(x,i.u_is_halo)}),symbolTextAndIcon:(x,i)=>({u_is_size_zoom_constant:new v.Uniform1i(x,i.u_is_size_zoom_constant),u_is_size_feature_constant:new v.Uniform1i(x,i.u_is_size_feature_constant),u_size_t:new v.Uniform1f(x,i.u_size_t),u_size:new v.Uniform1f(x,i.u_size),u_camera_to_center_distance:new v.Uniform1f(x,i.u_camera_to_center_distance),u_pitch:new v.Uniform1f(x,i.u_pitch),u_rotate_symbol:new v.Uniform1i(x,i.u_rotate_symbol),u_aspect_ratio:new v.Uniform1f(x,i.u_aspect_ratio),u_fade_change:new v.Uniform1f(x,i.u_fade_change),u_matrix:new v.UniformMatrix4f(x,i.u_matrix),u_label_plane_matrix:new v.UniformMatrix4f(x,i.u_label_plane_matrix),u_coord_matrix:new v.UniformMatrix4f(x,i.u_coord_matrix),u_is_text:new v.Uniform1i(x,i.u_is_text),u_pitch_with_map:new v.Uniform1i(x,i.u_pitch_with_map),u_texsize:new v.Uniform2f(x,i.u_texsize),u_texsize_icon:new v.Uniform2f(x,i.u_texsize_icon),u_texture:new v.Uniform1i(x,i.u_texture),u_texture_icon:new v.Uniform1i(x,i.u_texture_icon),u_gamma_scale:new v.Uniform1f(x,i.u_gamma_scale),u_device_pixel_ratio:new v.Uniform1f(x,i.u_device_pixel_ratio),u_is_halo:new v.Uniform1i(x,i.u_is_halo)}),background:(x,i)=>({u_matrix:new v.UniformMatrix4f(x,i.u_matrix),u_opacity:new v.Uniform1f(x,i.u_opacity),u_color:new v.UniformColor(x,i.u_color)}),backgroundPattern:(x,i)=>({u_matrix:new v.UniformMatrix4f(x,i.u_matrix),u_opacity:new v.Uniform1f(x,i.u_opacity),u_image:new v.Uniform1i(x,i.u_image),u_pattern_tl_a:new v.Uniform2f(x,i.u_pattern_tl_a),u_pattern_br_a:new v.Uniform2f(x,i.u_pattern_br_a),u_pattern_tl_b:new v.Uniform2f(x,i.u_pattern_tl_b),u_pattern_br_b:new v.Uniform2f(x,i.u_pattern_br_b),u_texsize:new v.Uniform2f(x,i.u_texsize),u_mix:new v.Uniform1f(x,i.u_mix),u_pattern_size_a:new v.Uniform2f(x,i.u_pattern_size_a),u_pattern_size_b:new v.Uniform2f(x,i.u_pattern_size_b),u_scale_a:new v.Uniform1f(x,i.u_scale_a),u_scale_b:new v.Uniform1f(x,i.u_scale_b),u_pixel_coord_upper:new v.Uniform2f(x,i.u_pixel_coord_upper),u_pixel_coord_lower:new v.Uniform2f(x,i.u_pixel_coord_lower),u_tile_units_to_pixels:new v.Uniform1f(x,i.u_tile_units_to_pixels)}),terrain:(x,i)=>({u_matrix:new v.UniformMatrix4f(x,i.u_matrix),u_texture:new v.Uniform1i(x,i.u_texture),u_ele_delta:new v.Uniform1f(x,i.u_ele_delta)}),terrainDepth:(x,i)=>({u_matrix:new v.UniformMatrix4f(x,i.u_matrix),u_ele_delta:new v.Uniform1f(x,i.u_ele_delta)}),terrainCoords:(x,i)=>({u_matrix:new v.UniformMatrix4f(x,i.u_matrix),u_texture:new v.Uniform1i(x,i.u_texture),u_terrain_coords_id:new v.Uniform1f(x,i.u_terrain_coords_id),u_ele_delta:new v.Uniform1f(x,i.u_ele_delta)})};class Wo{constructor(i,d,_){this.context=i;const C=i.gl;this.buffer=C.createBuffer(),this.dynamicDraw=!!_,this.context.unbindVAO(),i.bindElementBuffer.set(this.buffer),C.bufferData(C.ELEMENT_ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?C.DYNAMIC_DRAW:C.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(i){const d=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,0,i.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Do={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class on{constructor(i,d,_,C){this.length=d.length,this.attributes=_,this.itemSize=d.bytesPerElement,this.dynamicDraw=C,this.context=i;const h=i.gl;this.buffer=h.createBuffer(),i.bindVertexBuffer.set(this.buffer),h.bufferData(h.ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?h.DYNAMIC_DRAW:h.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(i){if(i.length!==this.length)throw new Error(`Length of new data is ${i.length}, which doesn't match current length of ${this.length}`);const d=this.context.gl;this.bind(),d.bufferSubData(d.ARRAY_BUFFER,0,i.arrayBuffer)}enableAttributes(i,d){for(let _=0;_<this.attributes.length;_++){const C=d.attributes[this.attributes[_].name];void 0!==C&&i.enableVertexAttribArray(C)}}setVertexAttribPointers(i,d,_){for(let C=0;C<this.attributes.length;C++){const h=this.attributes[C],b=d.attributes[h.name];void 0!==b&&i.vertexAttribPointer(b,h.components,i[Do[h.type]],!1,this.itemSize,h.offset+this.itemSize*(_||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const qo=new WeakMap;function js(x){if(qo.has(x))return qo.get(x);{const i=x.getParameter(x.VERSION).startsWith("WebGL 2.0");return qo.set(x,i),i}}class dn{constructor(i){this.gl=i.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(i){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class dr extends dn{getDefault(){return v.Color.transparent}set(i){const d=this.current;(i.r!==d.r||i.g!==d.g||i.b!==d.b||i.a!==d.a||this.dirty)&&(this.gl.clearColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class ls extends dn{getDefault(){return 1}set(i){(i!==this.current||this.dirty)&&(this.gl.clearDepth(i),this.current=i,this.dirty=!1)}}class gs extends dn{getDefault(){return 0}set(i){(i!==this.current||this.dirty)&&(this.gl.clearStencil(i),this.current=i,this.dirty=!1)}}class cs extends dn{getDefault(){return[!0,!0,!0,!0]}set(i){const d=this.current;(i[0]!==d[0]||i[1]!==d[1]||i[2]!==d[2]||i[3]!==d[3]||this.dirty)&&(this.gl.colorMask(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class Yo extends dn{getDefault(){return!0}set(i){(i!==this.current||this.dirty)&&(this.gl.depthMask(i),this.current=i,this.dirty=!1)}}class ja extends dn{getDefault(){return 255}set(i){(i!==this.current||this.dirty)&&(this.gl.stencilMask(i),this.current=i,this.dirty=!1)}}class Is extends dn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(i){const d=this.current;(i.func!==d.func||i.ref!==d.ref||i.mask!==d.mask||this.dirty)&&(this.gl.stencilFunc(i.func,i.ref,i.mask),this.current=i,this.dirty=!1)}}class Ko extends dn{getDefault(){const i=this.gl;return[i.KEEP,i.KEEP,i.KEEP]}set(i){const d=this.current;(i[0]!==d[0]||i[1]!==d[1]||i[2]!==d[2]||this.dirty)&&(this.gl.stencilOp(i[0],i[1],i[2]),this.current=i,this.dirty=!1)}}class ho extends dn{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;i?d.enable(d.STENCIL_TEST):d.disable(d.STENCIL_TEST),this.current=i,this.dirty=!1}}class Hs extends dn{getDefault(){return[0,1]}set(i){const d=this.current;(i[0]!==d[0]||i[1]!==d[1]||this.dirty)&&(this.gl.depthRange(i[0],i[1]),this.current=i,this.dirty=!1)}}class bn extends dn{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;i?d.enable(d.DEPTH_TEST):d.disable(d.DEPTH_TEST),this.current=i,this.dirty=!1}}class As extends dn{getDefault(){return this.gl.LESS}set(i){(i!==this.current||this.dirty)&&(this.gl.depthFunc(i),this.current=i,this.dirty=!1)}}class Ha extends dn{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;i?d.enable(d.BLEND):d.disable(d.BLEND),this.current=i,this.dirty=!1}}class $a extends dn{getDefault(){const i=this.gl;return[i.ONE,i.ZERO]}set(i){const d=this.current;(i[0]!==d[0]||i[1]!==d[1]||this.dirty)&&(this.gl.blendFunc(i[0],i[1]),this.current=i,this.dirty=!1)}}class Lo extends dn{getDefault(){return v.Color.transparent}set(i){const d=this.current;(i.r!==d.r||i.g!==d.g||i.b!==d.b||i.a!==d.a||this.dirty)&&(this.gl.blendColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class _s extends dn{getDefault(){return this.gl.FUNC_ADD}set(i){(i!==this.current||this.dirty)&&(this.gl.blendEquation(i),this.current=i,this.dirty=!1)}}class Js extends dn{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;i?d.enable(d.CULL_FACE):d.disable(d.CULL_FACE),this.current=i,this.dirty=!1}}class Qs extends dn{getDefault(){return this.gl.BACK}set(i){(i!==this.current||this.dirty)&&(this.gl.cullFace(i),this.current=i,this.dirty=!1)}}class Rr extends dn{getDefault(){return this.gl.CCW}set(i){(i!==this.current||this.dirty)&&(this.gl.frontFace(i),this.current=i,this.dirty=!1)}}class $s extends dn{getDefault(){return null}set(i){(i!==this.current||this.dirty)&&(this.gl.useProgram(i),this.current=i,this.dirty=!1)}}class Br extends dn{getDefault(){return this.gl.TEXTURE0}set(i){(i!==this.current||this.dirty)&&(this.gl.activeTexture(i),this.current=i,this.dirty=!1)}}class Jn extends dn{getDefault(){const i=this.gl;return[0,0,i.drawingBufferWidth,i.drawingBufferHeight]}set(i){const d=this.current;(i[0]!==d[0]||i[1]!==d[1]||i[2]!==d[2]||i[3]!==d[3]||this.dirty)&&(this.gl.viewport(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class Vr extends dn{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.bindFramebuffer(d.FRAMEBUFFER,i),this.current=i,this.dirty=!1}}class Zr extends dn{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.bindRenderbuffer(d.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class Sa extends dn{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.bindTexture(d.TEXTURE_2D,i),this.current=i,this.dirty=!1}}class mn extends dn{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.bindBuffer(d.ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class ea extends dn{getDefault(){return null}set(i){const d=this.gl;d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class wl extends dn{getDefault(){return null}set(i){var d;if(i===this.current&&!this.dirty)return;const _=this.gl;js(_)?_.bindVertexArray(i):null===(d=_.getExtension("OES_vertex_array_object"))||void 0===d||d.bindVertexArrayOES(i),this.current=i,this.dirty=!1}}class Ta extends dn{getDefault(){return 4}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_ALIGNMENT,i),this.current=i,this.dirty=!1}}class ha extends dn{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i),this.current=i,this.dirty=!1}}class wc extends dn{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,i),this.current=i,this.dirty=!1}}class ta extends dn{constructor(i,d){super(i),this.context=i,this.parent=d}getDefault(){return null}}class ia extends ta{setDirty(){this.dirty=!0}set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,i,0),this.current=i,this.dirty=!1}}class Cc extends ta{set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_ATTACHMENT,d.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class Cl extends ta{set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_STENCIL_ATTACHMENT,d.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class Ia{constructor(i,d,_,C,h){this.context=i,this.width=d,this.height=_;const b=i.gl,y=this.framebuffer=b.createFramebuffer();if(this.colorAttachment=new ia(i,y),C)this.depthAttachment=h?new Cl(i,y):new Cc(i,y);else if(h)throw new Error("Stencil cannot be setted without depth");if(b.checkFramebufferStatus(b.FRAMEBUFFER)!==b.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const i=this.context.gl,d=this.colorAttachment.get();if(d&&i.deleteTexture(d),this.depthAttachment){const _=this.depthAttachment.get();_&&i.deleteRenderbuffer(_)}i.deleteFramebuffer(this.framebuffer)}}class Oi{constructor(i,d,_){this.blendFunction=i,this.blendColor=d,this.mask=_}}Oi.Replace=[1,0],Oi.disabled=new Oi(Oi.Replace,v.Color.transparent,[!1,!1,!1,!1]),Oi.unblended=new Oi(Oi.Replace,v.Color.transparent,[!0,!0,!0,!0]),Oi.alphaBlended=new Oi([1,771],v.Color.transparent,[!0,!0,!0,!0]);class Nl{constructor(i){var d,_;if(this.gl=i,this.clearColor=new dr(this),this.clearDepth=new ls(this),this.clearStencil=new gs(this),this.colorMask=new cs(this),this.depthMask=new Yo(this),this.stencilMask=new ja(this),this.stencilFunc=new Is(this),this.stencilOp=new Ko(this),this.stencilTest=new ho(this),this.depthRange=new Hs(this),this.depthTest=new bn(this),this.depthFunc=new As(this),this.blend=new Ha(this),this.blendFunc=new $a(this),this.blendColor=new Lo(this),this.blendEquation=new _s(this),this.cullFace=new Js(this),this.cullFaceSide=new Qs(this),this.frontFace=new Rr(this),this.program=new $s(this),this.activeTexture=new Br(this),this.viewport=new Jn(this),this.bindFramebuffer=new Vr(this),this.bindRenderbuffer=new Zr(this),this.bindTexture=new Sa(this),this.bindVertexBuffer=new mn(this),this.bindElementBuffer=new ea(this),this.bindVertexArray=new wl(this),this.pixelStoreUnpack=new Ta(this),this.pixelStoreUnpackPremultiplyAlpha=new ha(this),this.pixelStoreUnpackFlipY=new wc(this),this.extTextureFilterAnisotropic=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=i.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),js(i)){this.HALF_FLOAT=i.HALF_FLOAT;const C=i.getExtension("EXT_color_buffer_half_float");this.RGBA16F=null!==(d=i.RGBA16F)&&void 0!==d?d:C?.RGBA16F_EXT,this.RGB16F=null!==(_=i.RGB16F)&&void 0!==_?_:C?.RGB16F_EXT,i.getExtension("EXT_color_buffer_float")}else{i.getExtension("EXT_color_buffer_half_float"),i.getExtension("OES_texture_half_float_linear");const C=i.getExtension("OES_texture_half_float");this.HALF_FLOAT=C?.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(i,d){return new Wo(this,i,d)}createVertexBuffer(i,d,_){return new on(this,i,d,_)}createRenderbuffer(i,d,_){const C=this.gl,h=C.createRenderbuffer();return this.bindRenderbuffer.set(h),C.renderbufferStorage(C.RENDERBUFFER,i,d,_),this.bindRenderbuffer.set(null),h}createFramebuffer(i,d,_,C){return new Ia(this,i,d,_,C)}clear({color:i,depth:d,stencil:_}){const C=this.gl;let h=0;i&&(h|=C.COLOR_BUFFER_BIT,this.clearColor.set(i),this.colorMask.set([!0,!0,!0,!0])),void 0!==d&&(h|=C.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(d),this.depthMask.set(!0)),void 0!==_&&(h|=C.STENCIL_BUFFER_BIT,this.clearStencil.set(_),this.stencilMask.set(255)),C.clear(h)}setCullFace(i){!1===i.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(i.mode),this.frontFace.set(i.frontFace))}setDepthMode(i){i.func!==this.gl.ALWAYS||i.mask?(this.depthTest.set(!0),this.depthFunc.set(i.func),this.depthMask.set(i.mask),this.depthRange.set(i.range)):this.depthTest.set(!1)}setStencilMode(i){i.test.func!==this.gl.ALWAYS||i.mask?(this.stencilTest.set(!0),this.stencilMask.set(i.mask),this.stencilOp.set([i.fail,i.depthFail,i.pass]),this.stencilFunc.set({func:i.test.func,ref:i.ref,mask:i.test.mask})):this.stencilTest.set(!1)}setColorMode(i){v.deepEqual(i.blendFunction,Oi.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(i.blendFunction),this.blendColor.set(i.blendColor)),this.colorMask.set(i.mask)}createVertexArray(){var i;return js(this.gl)?this.gl.createVertexArray():null===(i=this.gl.getExtension("OES_vertex_array_object"))||void 0===i?void 0:i.createVertexArrayOES()}deleteVertexArray(i){var d;return js(this.gl)?this.gl.deleteVertexArray(i):null===(d=this.gl.getExtension("OES_vertex_array_object"))||void 0===d?void 0:d.deleteVertexArrayOES(i)}unbindVAO(){this.bindVertexArray.set(null)}}class Pn{constructor(i,d,_){this.func=i,this.mask=d,this.range=_}}Pn.ReadOnly=!1,Pn.ReadWrite=!0,Pn.disabled=new Pn(519,Pn.ReadOnly,[0,1]);class lr{constructor(i,d,_,C,h,b){this.test=i,this.ref=d,this.mask=_,this.fail=C,this.depthFail=h,this.pass=b}}lr.disabled=new lr({func:519,mask:0},0,0,7680,7680,7680);class ir{constructor(i,d,_){this.enable=i,this.mode=d,this.frontFace=_}}let Y;function Z(x,i,d,_,C,h,b){const y=x.context,E=y.gl,I=x.useProgram("collisionBox"),O=[];let R=0,W=0;for(let He=0;He<_.length;He++){const Ct=_[He],Lt=i.getTile(Ct),Wt=Lt.getBucket(d);if(!Wt)continue;let oi=Ct.posMatrix;0===C[0]&&0===C[1]||(oi=x.translatePosMatrix(Ct.posMatrix,Lt,C,h));const fi=b?Wt.textCollisionBox:Wt.iconCollisionBox,ci=Wt.collisionCircleArray;if(ci.length>0){const Ii=v.create(),Gi=oi;v.mul(Ii,Wt.placementInvProjMatrix,x.transform.glCoordMatrix),v.mul(Ii,Ii,Wt.placementViewportMatrix),O.push({circleArray:ci,circleOffset:W,transform:Gi,invTransform:Ii,coord:Ct}),R+=ci.length/4,W=R}fi&&I.draw(y,E.LINES,Pn.disabled,lr.disabled,x.colorModeForRenderPass(),ir.disabled,ln(oi,x.transform,Lt),x.style.map.terrain&&x.style.map.terrain.getTerrainData(Ct),d.id,fi.layoutVertexBuffer,fi.indexBuffer,fi.segments,null,x.transform.zoom,null,null,fi.collisionVertexBuffer)}if(!b||!O.length)return;const ce=x.useProgram("collisionCircle"),ye=new v.CollisionCircleLayoutArray;ye.resize(4*R),ye._trim();let we=0;for(const He of O)for(let Ct=0;Ct<He.circleArray.length/4;Ct++){const Lt=4*Ct,Wt=He.circleArray[Lt+0],oi=He.circleArray[Lt+1],fi=He.circleArray[Lt+2],ci=He.circleArray[Lt+3];ye.emplace(we++,Wt,oi,fi,ci,0),ye.emplace(we++,Wt,oi,fi,ci,1),ye.emplace(we++,Wt,oi,fi,ci,2),ye.emplace(we++,Wt,oi,fi,ci,3)}(!Y||Y.length<2*R)&&(Y=function(He){const Ct=2*He,Lt=new v.QuadTriangleArray;Lt.resize(Ct),Lt._trim();for(let Wt=0;Wt<Ct;Wt++){const oi=6*Wt;Lt.uint16[oi+0]=4*Wt+0,Lt.uint16[oi+1]=4*Wt+1,Lt.uint16[oi+2]=4*Wt+2,Lt.uint16[oi+3]=4*Wt+2,Lt.uint16[oi+4]=4*Wt+3,Lt.uint16[oi+5]=4*Wt+0}return Lt}(R));const Fe=y.createIndexBuffer(Y,!0),rt=y.createVertexBuffer(ye,v.collisionCircleLayout.members,!0);for(const He of O){const Ct={u_matrix:He.transform,u_inv_matrix:He.invTransform,u_camera_to_center_distance:(Mt=x.transform).cameraToCenterDistance,u_viewport_size:[Mt.width,Mt.height]};ce.draw(y,E.TRIANGLES,Pn.disabled,lr.disabled,x.colorModeForRenderPass(),ir.disabled,Ct,x.style.map.terrain&&x.style.map.terrain.getTerrainData(He.coord),d.id,rt,Fe,v.SegmentVector.simpleSegment(0,2*He.circleOffset,He.circleArray.length,He.circleArray.length/2),null,x.transform.zoom,null,null,null)}var Mt;rt.destroy(),Fe.destroy()}ir.disabled=new ir(!1,1029,2305),ir.backCCW=new ir(!0,1029,2305);const H=v.identity(new Float32Array(16));function xe(x,i,d,_,C,h){const{horizontalAlign:b,verticalAlign:y}=v.getAnchorAlignment(x),E=-(b-.5)*i,I=-(y-.5)*d,O=v.evaluateVariableOffset(x,_);return new v.Point((E/C+O[0])*h,(I/C+O[1])*h)}function Vt(x,i,d,_,C,h,b,y,E,I,O){const R=x.text.placedSymbolArray,W=x.text.dynamicLayoutVertexArray,ce=x.icon.dynamicLayoutVertexArray,ye={};W.clear();for(let we=0;we<R.length;we++){const Fe=R.get(we),rt=Fe.hidden||!Fe.crossTileID||x.allowVerticalPlacement&&!Fe.placedOrientation?null:_[Fe.crossTileID];if(rt){const Mt=new v.Point(Fe.anchorX,Fe.anchorY),He=Xt(Mt,d?b:h,O),Ct=Ut(C.cameraToCenterDistance,He.signedDistanceFromCamera);let Lt=v.evaluateSizeForFeature(x.textSizeData,E,Fe)*Ct/v.ONE_EM;d&&(Lt*=x.tilePixelRatio/y);const{width:Wt,height:oi,anchor:fi,textOffset:ci,textBoxScale:Ii}=rt,Gi=xe(fi,Wt,oi,ci,Ii,Lt),_n=d?Xt(Mt.add(Gi),h,O).point:He.point.add(i?Gi.rotate(-C.angle):Gi),bi=x.allowVerticalPlacement&&Fe.placedOrientation===v.WritingMode.vertical?Math.PI/2:0;for(let sn=0;sn<Fe.numGlyphs;sn++)v.addDynamicAttributes(W,_n,bi);I&&Fe.associatedIconIndex>=0&&(ye[Fe.associatedIconIndex]={shiftedAnchor:_n,angle:bi})}else ee(Fe.numGlyphs,W)}if(I){ce.clear();const we=x.icon.placedSymbolArray;for(let Fe=0;Fe<we.length;Fe++){const rt=we.get(Fe);if(rt.hidden)ee(rt.numGlyphs,ce);else{const Mt=ye[Fe];if(Mt)for(let He=0;He<rt.numGlyphs;He++)v.addDynamicAttributes(ce,Mt.shiftedAnchor,Mt.angle);else ee(rt.numGlyphs,ce)}}x.icon.dynamicLayoutVertexBuffer.updateData(ce)}x.text.dynamicLayoutVertexBuffer.updateData(W)}function wi(x,i,d){return d.iconsInText&&i?"symbolTextAndIcon":x?"symbolSDF":"symbolIcon"}function Ur(x,i,d,_,C,h,b,y,E,I,O,R){const W=x.context,ce=W.gl,ye=x.transform,we="map"===y,Fe="map"===E,rt="viewport"!==y&&"point"!==d.layout.get("symbol-placement"),Mt=we&&!Fe&&!rt,He=!d.layout.get("symbol-sort-key").isConstant();let Ct=!1;const Lt=x.depthModeForSublayer(0,Pn.ReadOnly),Wt=d.layout.get("text-variable-anchor"),oi=[];for(const fi of _){const ci=i.getTile(fi),Ii=ci.getBucket(d);if(!Ii)continue;const Gi=C?Ii.text:Ii.icon;if(!Gi||!Gi.segments.get().length||!Gi.hasVisibleVertices)continue;const _n=Gi.programConfigurations.get(d.id),bi=C||Ii.sdfIcons,sn=C?Ii.textSizeData:Ii.iconSizeData,Ri=Fe||0!==ye.pitch,Qn=x.useProgram(wi(bi,C,Ii),_n),qr=v.evaluateSizeForZoom(sn,ye.zoom),rr=x.style.map.terrain&&x.style.map.terrain.getTerrainData(fi);let pn,Yr,Dr,To,Uo=[0,0],Os=null;if(C)Yr=ci.glyphAtlasTexture,Dr=ce.LINEAR,pn=ci.glyphAtlasTexture.size,Ii.iconsInText&&(Uo=ci.imageAtlasTexture.size,Os=ci.imageAtlasTexture,To=Ri||x.options.rotating||x.options.zooming||"composite"===sn.kind||"camera"===sn.kind?ce.LINEAR:ce.NEAREST);else{const Oo=1!==d.layout.get("icon-size").constantOr(0)||Ii.iconsNeedLinear;Yr=ci.imageAtlasTexture,Dr=bi||x.options.rotating||x.options.zooming||Oo||Ri?ce.LINEAR:ce.NEAREST,pn=ci.imageAtlasTexture.size}const _a=oe(ci,1,x.transform.zoom),Io=dt(fi.posMatrix,Fe,we,x.transform,_a),Cs=jt(fi.posMatrix,Fe,we,x.transform,_a),sa=Wt&&Ii.hasTextData(),Gl="none"!==d.layout.get("icon-text-fit")&&sa&&Ii.hasIconData();if(rt){const Oo=x.style.map.terrain?(rd,ya)=>x.style.map.terrain.getElevation(fi,rd,ya):null,Es="map"===d.layout.get("text-rotation-alignment");Ji(Ii,fi.posMatrix,x,C,Io,Cs,Fe,I,Es,Oo)}const Ao=x.translatePosMatrix(fi.posMatrix,ci,h,b),ko=rt||C&&Wt||Gl?H:Io,er=x.translatePosMatrix(Cs,ci,h,b,!0),jo=bi&&0!==d.paint.get(C?"text-halo-width":"icon-halo-width").constantOr(1);let Po;Po=bi?Ii.iconsInText?as(sn.kind,qr,Mt,Fe,x,Ao,ko,er,pn,Uo):uo(sn.kind,qr,Mt,Fe,x,Ao,ko,er,C,pn,!0):On(sn.kind,qr,Mt,Fe,x,Ao,ko,er,C,pn);const sr={program:Qn,buffers:Gi,uniformValues:Po,atlasTexture:Yr,atlasTextureIcon:Os,atlasInterpolation:Dr,atlasInterpolationIcon:To,isSDF:bi,hasHalo:jo};if(He&&Ii.canOverlap){Ct=!0;const Oo=Gi.segments.get();for(const Es of Oo)oi.push({segments:new v.SegmentVector([Es]),sortKey:Es.sortKey,state:sr,terrainData:rr})}else oi.push({segments:Gi.segments,sortKey:0,state:sr,terrainData:rr})}Ct&&oi.sort((fi,ci)=>fi.sortKey-ci.sortKey);for(const fi of oi){const ci=fi.state;if(W.activeTexture.set(ce.TEXTURE0),ci.atlasTexture.bind(ci.atlasInterpolation,ce.CLAMP_TO_EDGE),ci.atlasTextureIcon&&(W.activeTexture.set(ce.TEXTURE1),ci.atlasTextureIcon&&ci.atlasTextureIcon.bind(ci.atlasInterpolationIcon,ce.CLAMP_TO_EDGE)),ci.isSDF){const Ii=ci.uniformValues;ci.hasHalo&&(Ii.u_is_halo=1,mo(ci.buffers,fi.segments,d,x,ci.program,Lt,O,R,Ii,fi.terrainData)),Ii.u_is_halo=0}mo(ci.buffers,fi.segments,d,x,ci.program,Lt,O,R,ci.uniformValues,fi.terrainData)}}function mo(x,i,d,_,C,h,b,y,E,I){const O=_.context;C.draw(O,O.gl.TRIANGLES,h,b,y,ir.disabled,E,I,d.id,x.layoutVertexBuffer,x.indexBuffer,i,d.paint,_.transform.zoom,x.programConfigurations.get(d.id),x.dynamicLayoutVertexBuffer,x.opacityVertexBuffer)}function ma(x,i,d,_,C){if(!d||!_||!_.imageAtlas)return;const h=_.imageAtlas.patternPositions;let b=h[d.to.toString()],y=h[d.from.toString()];if(!b||!y){const E=C.getPaintProperty(i);b=h[E],y=h[E]}b&&y&&x.setConstantPatternPositions(b,y)}function pa(x,i,d,_,C,h,b){const y=x.context.gl,E="fill-pattern",I=d.paint.get(E),O=I&&I.constantOr(1),R=d.getCrossfadeParameters();let W,ce,ye,we,Fe;b?(ce=O&&!d.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",W=y.LINES):(ce=O?"fillPattern":"fill",W=y.TRIANGLES);const rt=I.constantOr(null);for(const Mt of _){const He=i.getTile(Mt);if(O&&!He.patternsLoaded())continue;const Ct=He.getBucket(d);if(!Ct)continue;const Lt=Ct.programConfigurations.get(d.id),Wt=x.useProgram(ce,Lt),oi=x.style.map.terrain&&x.style.map.terrain.getTerrainData(Mt);O&&(x.context.activeTexture.set(y.TEXTURE0),He.imageAtlasTexture.bind(y.LINEAR,y.CLAMP_TO_EDGE),Lt.updatePaintBuffers(R)),ma(Lt,E,rt,He,d);const fi=oi?Mt:null,ci=x.translatePosMatrix(fi?fi.posMatrix:Mt.posMatrix,He,d.paint.get("fill-translate"),d.paint.get("fill-translate-anchor"));if(b){we=Ct.indexBuffer2,Fe=Ct.segments2;const Ii=[y.drawingBufferWidth,y.drawingBufferHeight];ye="fillOutlinePattern"===ce&&O?ua(ci,x,R,He,Ii):Ua(ci,Ii)}else we=Ct.indexBuffer,Fe=Ct.segments,ye=O?il(ci,x,R,He):Va(ci);Wt.draw(x.context,W,C,x.stencilModeForClipping(Mt),h,ir.disabled,ye,oi,d.id,Ct.layoutVertexBuffer,we,Fe,d.paint,x.transform.zoom,Lt)}}function fa(x,i,d,_,C,h,b){const y=x.context,E=y.gl,I="fill-extrusion-pattern",O=d.paint.get(I),R=O.constantOr(1),W=d.getCrossfadeParameters(),ce=d.paint.get("fill-extrusion-opacity"),ye=O.constantOr(null);for(const we of _){const Fe=i.getTile(we),rt=Fe.getBucket(d);if(!rt)continue;const Mt=x.style.map.terrain&&x.style.map.terrain.getTerrainData(we),He=rt.programConfigurations.get(d.id),Ct=x.useProgram(R?"fillExtrusionPattern":"fillExtrusion",He);R&&(x.context.activeTexture.set(E.TEXTURE0),Fe.imageAtlasTexture.bind(E.LINEAR,E.CLAMP_TO_EDGE),He.updatePaintBuffers(W)),ma(He,I,ye,Fe,d);const Lt=x.translatePosMatrix(we.posMatrix,Fe,d.paint.get("fill-extrusion-translate"),d.paint.get("fill-extrusion-translate-anchor")),Wt=d.paint.get("fill-extrusion-vertical-gradient"),oi=R?Ll(Lt,x,Wt,ce,we,W,Fe):bl(Lt,x,Wt,ce);Ct.draw(y,y.gl.TRIANGLES,C,h,b,ir.backCCW,oi,Mt,d.id,rt.layoutVertexBuffer,rt.indexBuffer,rt.segments,d.paint,x.transform.zoom,He,x.style.map.terrain&&rt.centroidVertexBuffer)}}function rc(x,i,d,_,C,h,b){const y=x.context,E=y.gl,I=d.fbo;if(!I)return;const O=x.useProgram("hillshade"),R=x.style.map.terrain&&x.style.map.terrain.getTerrainData(i);y.activeTexture.set(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,I.colorAttachment.get()),O.draw(y,E.TRIANGLES,C,h,b,ir.disabled,((W,ce,ye,we)=>{const Fe=ye.paint.get("hillshade-shadow-color"),rt=ye.paint.get("hillshade-highlight-color"),Mt=ye.paint.get("hillshade-accent-color");let He=ye.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===ye.paint.get("hillshade-illumination-anchor")&&(He-=W.transform.angle);const Ct=!W.options.moving;return{u_matrix:we?we.posMatrix:W.transform.calculatePosMatrix(ce.tileID.toUnwrapped(),Ct),u_image:0,u_latrange:Nr(0,ce.tileID),u_light:[ye.paint.get("hillshade-exaggeration"),He],u_shadow:Fe,u_highlight:rt,u_accent:Mt}})(x,d,_,R?i:null),R,_.id,x.rasterBoundsBuffer,x.quadTriangleIndexBuffer,x.rasterBoundsSegments)}function oc(x,i,d,_,C,h){const b=x.context,y=b.gl,E=i.dem;if(E&&E.data){const I=E.dim,O=E.stride,R=E.getPixels();if(b.activeTexture.set(y.TEXTURE1),b.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||x.getTileTexture(O),i.demTexture){const ce=i.demTexture;ce.update(R,{premultiply:!1}),ce.bind(y.NEAREST,y.CLAMP_TO_EDGE)}else i.demTexture=new gt(b,R,y.RGBA,{premultiply:!1}),i.demTexture.bind(y.NEAREST,y.CLAMP_TO_EDGE);b.activeTexture.set(y.TEXTURE0);let W=i.fbo;if(!W){const ce=new gt(b,{width:I,height:I,data:null},y.RGBA);ce.bind(y.LINEAR,y.CLAMP_TO_EDGE),W=i.fbo=b.createFramebuffer(I,I,!0,!1),W.colorAttachment.set(ce.texture)}b.bindFramebuffer.set(W.framebuffer),b.viewport.set([0,0,I,I]),x.useProgram("hillshadePrepare").draw(b,y.TRIANGLES,_,C,h,ir.disabled,((ce,ye)=>{const we=ye.stride,Fe=v.create();return v.ortho(Fe,0,v.EXTENT,-v.EXTENT,0,0,1),v.translate(Fe,Fe,[0,-v.EXTENT,0]),{u_matrix:Fe,u_image:1,u_dimension:[we,we],u_zoom:ce.overscaledZ,u_unpack:ye.getUnpackVector()}})(i.tileID,E),null,d.id,x.rasterBoundsBuffer,x.quadTriangleIndexBuffer,x.rasterBoundsSegments),i.needsHillshadePrepare=!1}}function Xr(x,i,d,_,C,h){const b=_.paint.get("raster-fade-duration");if(!h&&b>0){const y=v.exported.now(),E=(y-x.timeAdded)/b,I=i?(y-i.timeAdded)/b:-1,O=d.getSource(),R=C.coveringZoomLevel({tileSize:O.tileSize,roundZoom:O.roundZoom}),W=!i||Math.abs(i.tileID.overscaledZ-R)>Math.abs(x.tileID.overscaledZ-R),ce=W&&x.refreshedUponExpiration?1:v.clamp(W?E:1-I,0,1);return x.refreshedUponExpiration&&E>=1&&(x.refreshedUponExpiration=!1),i?{opacity:1,mix:1-ce}:{opacity:ce,mix:0}}return{opacity:1,mix:0}}const nl=new v.Color(1,0,0,1),Gs=new v.Color(0,1,0,1),rl=new v.Color(0,0,1,1),So=new v.Color(1,0,1,1),Fr=new v.Color(0,1,1,1);function Sn(x,i,d,_){ol(x,0,i+d/2,x.transform.width,d,_)}function ur(x,i,d,_){ol(x,i-d/2,0,d,x.transform.height,_)}function ol(x,i,d,_,C,h){const b=x.context,y=b.gl;y.enable(y.SCISSOR_TEST),y.scissor(i*x.pixelRatio,d*x.pixelRatio,_*x.pixelRatio,C*x.pixelRatio),b.clear({color:h}),y.disable(y.SCISSOR_TEST)}function Zs(x,i,d){const _=x.context,C=_.gl,h=d.posMatrix,b=x.useProgram("debug"),y=Pn.disabled,E=lr.disabled,I=x.colorModeForRenderPass(),O="$debug",R=x.style.map.terrain&&x.style.map.terrain.getTerrainData(d);_.activeTexture.set(C.TEXTURE0);const W=i.getTileByID(d.key).latestRawTileData,ce=Math.floor((W&&W.byteLength||0)/1024),ye=i.getTile(d).tileSize,we=512/Math.min(ye,512)*(d.overscaledZ/x.transform.zoom)*.5;let Fe=d.canonical.toString();d.overscaledZ!==d.canonical.z&&(Fe+=` => ${d.overscaledZ}`),function(rt,Mt){rt.initDebugOverlayCanvas();const He=rt.debugOverlayCanvas,Ct=rt.context.gl,Lt=rt.debugOverlayCanvas.getContext("2d");Lt.clearRect(0,0,He.width,He.height),Lt.shadowColor="white",Lt.shadowBlur=2,Lt.lineWidth=1.5,Lt.strokeStyle="white",Lt.textBaseline="top",Lt.font="bold 36px Open Sans, sans-serif",Lt.fillText(Mt,5,5),Lt.strokeText(Mt,5,5),rt.debugOverlayTexture.update(He),rt.debugOverlayTexture.bind(Ct.LINEAR,Ct.CLAMP_TO_EDGE)}(x,`${Fe} ${ce}kB`),b.draw(_,C.TRIANGLES,y,E,Oi.alphaBlended,ir.disabled,Sr(h,v.Color.transparent,we),null,O,x.debugBuffer,x.quadTriangleIndexBuffer,x.debugSegments),b.draw(_,C.LINE_STRIP,y,E,I,ir.disabled,Sr(h,v.Color.red),R,O,x.debugBuffer,x.tileBorderIndexBuffer,x.debugSegments)}function Aa(x,i,d){const _=x.context,C=_.gl,h=x.colorModeForRenderPass(),b=new Pn(C.LEQUAL,Pn.ReadWrite,x.depthRangeFor3D),y=x.useProgram("terrain"),E=i.getTerrainMesh();_.bindFramebuffer.set(null),_.viewport.set([0,0,x.width,x.height]);for(const I of d){const O=x.renderToTexture.getTexture(I),R=i.getTerrainData(I.tileID);_.activeTexture.set(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,O.texture);const W={u_matrix:x.transform.calculatePosMatrix(I.tileID.toUnwrapped()),u_texture:0,u_ele_delta:i.getMeshFrameDelta(x.transform.zoom)};y.draw(_,C.TRIANGLES,b,lr.disabled,h,ir.backCCW,W,R,"terrain",E.vertexBuffer,E.indexBuffer,E.segments)}}const hr={symbol:function(x,i,d,_,C){if("translucent"!==x.renderPass)return;const h=lr.disabled,b=x.colorModeForRenderPass();d.layout.get("text-variable-anchor")&&function(y,E,I,O,R,W,ce){const ye=E.transform,we="map"===R,Fe="map"===W;for(const rt of y){const Mt=O.getTile(rt),He=Mt.getBucket(I);if(!He||!He.text||!He.text.segments.get().length)continue;const Ct=v.evaluateSizeForZoom(He.textSizeData,ye.zoom),Lt=oe(Mt,1,E.transform.zoom),Wt=dt(rt.posMatrix,Fe,we,E.transform,Lt),oi="none"!==I.layout.get("icon-text-fit")&&He.hasIconData();if(Ct){const fi=Math.pow(2,ye.zoom-Mt.tileID.overscaledZ);Vt(He,we,Fe,ce,ye,Wt,rt.posMatrix,fi,Ct,oi,E.style.map.terrain?(ci,Ii)=>E.style.map.terrain.getElevation(rt,ci,Ii):null)}}}(_,x,d,i,d.layout.get("text-rotation-alignment"),d.layout.get("text-pitch-alignment"),C),0!==d.paint.get("icon-opacity").constantOr(1)&&Ur(x,i,d,_,!1,d.paint.get("icon-translate"),d.paint.get("icon-translate-anchor"),d.layout.get("icon-rotation-alignment"),d.layout.get("icon-pitch-alignment"),d.layout.get("icon-keep-upright"),h,b),0!==d.paint.get("text-opacity").constantOr(1)&&Ur(x,i,d,_,!0,d.paint.get("text-translate"),d.paint.get("text-translate-anchor"),d.layout.get("text-rotation-alignment"),d.layout.get("text-pitch-alignment"),d.layout.get("text-keep-upright"),h,b),i.map.showCollisionBoxes&&(Z(x,i,d,_,d.paint.get("text-translate"),d.paint.get("text-translate-anchor"),!0),Z(x,i,d,_,d.paint.get("icon-translate"),d.paint.get("icon-translate-anchor"),!1))},circle:function(x,i,d,_){if("translucent"!==x.renderPass)return;const C=d.paint.get("circle-opacity"),h=d.paint.get("circle-stroke-width"),b=d.paint.get("circle-stroke-opacity"),y=!d.layout.get("circle-sort-key").isConstant();if(0===C.constantOr(1)&&(0===h.constantOr(1)||0===b.constantOr(1)))return;const E=x.context,I=E.gl,O=x.depthModeForSublayer(0,Pn.ReadOnly),R=lr.disabled,W=x.colorModeForRenderPass(),ce=[];for(let ye=0;ye<_.length;ye++){const we=_[ye],Fe=i.getTile(we),rt=Fe.getBucket(d);if(!rt)continue;const Mt=rt.programConfigurations.get(d.id),He=x.useProgram("circle",Mt),Ct=rt.layoutVertexBuffer,Lt=rt.indexBuffer,Wt=x.style.map.terrain&&x.style.map.terrain.getTerrainData(we),oi={programConfiguration:Mt,program:He,layoutVertexBuffer:Ct,indexBuffer:Lt,uniformValues:xl(x,we,Fe,d),terrainData:Wt};if(y){const fi=rt.segments.get();for(const ci of fi)ce.push({segments:new v.SegmentVector([ci]),sortKey:ci.sortKey,state:oi})}else ce.push({segments:rt.segments,sortKey:0,state:oi})}y&&ce.sort((ye,we)=>ye.sortKey-we.sortKey);for(const ye of ce){const{programConfiguration:we,program:Fe,layoutVertexBuffer:rt,indexBuffer:Mt,uniformValues:He,terrainData:Ct}=ye.state;Fe.draw(E,I.TRIANGLES,O,R,W,ir.disabled,He,Ct,d.id,rt,Mt,ye.segments,d.paint,x.transform.zoom,we)}},heatmap:function(x,i,d,_){if(0!==d.paint.get("heatmap-opacity"))if("offscreen"===x.renderPass){const C=x.context,h=C.gl,b=lr.disabled,y=new Oi([h.ONE,h.ONE],v.Color.transparent,[!0,!0,!0,!0]);(function(E,I,O){const R=E.gl;E.activeTexture.set(R.TEXTURE1),E.viewport.set([0,0,I.width/4,I.height/4]);let W=O.heatmapFbo;if(W)R.bindTexture(R.TEXTURE_2D,W.colorAttachment.get()),E.bindFramebuffer.set(W.framebuffer);else{const ce=R.createTexture();R.bindTexture(R.TEXTURE_2D,ce),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_S,R.CLAMP_TO_EDGE),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_T,R.CLAMP_TO_EDGE),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MIN_FILTER,R.LINEAR),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MAG_FILTER,R.LINEAR),W=O.heatmapFbo=E.createFramebuffer(I.width/4,I.height/4,!1,!1),function(ye,we,Fe,rt){var Mt,He;const Ct=ye.gl,Lt=null!==(Mt=ye.HALF_FLOAT)&&void 0!==Mt?Mt:Ct.UNSIGNED_BYTE,Wt=null!==(He=ye.RGBA16F)&&void 0!==He?He:Ct.RGBA;Ct.texImage2D(Ct.TEXTURE_2D,0,Wt,we.width/4,we.height/4,0,Ct.RGBA,Lt,null),rt.colorAttachment.set(Fe)}(E,I,ce,W)}})(C,x,d),C.clear({color:v.Color.transparent});for(let E=0;E<_.length;E++){const I=_[E];if(i.hasRenderableParent(I))continue;const O=i.getTile(I),R=O.getBucket(d);if(!R)continue;const W=R.programConfigurations.get(d.id),ce=x.useProgram("heatmap",W),{zoom:ye}=x.transform;ce.draw(C,h.TRIANGLES,Pn.disabled,b,y,ir.disabled,Us(I.posMatrix,O,ye,d.paint.get("heatmap-intensity")),null,d.id,R.layoutVertexBuffer,R.indexBuffer,R.segments,d.paint,x.transform.zoom,W)}C.viewport.set([0,0,x.width,x.height])}else"translucent"===x.renderPass&&(x.context.setColorMode(x.colorModeForRenderPass()),function(C,h){const b=C.context,y=b.gl,E=h.heatmapFbo;if(!E)return;b.activeTexture.set(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,E.colorAttachment.get()),b.activeTexture.set(y.TEXTURE1);let I=h.colorRampTexture;I||(I=h.colorRampTexture=new gt(b,h.colorRamp,y.RGBA)),I.bind(y.LINEAR,y.CLAMP_TO_EDGE),C.useProgram("heatmapTexture").draw(b,y.TRIANGLES,Pn.disabled,lr.disabled,C.colorModeForRenderPass(),ir.disabled,((O,R,W,ce)=>{const ye=v.create();v.ortho(ye,0,O.width,O.height,0,0,1);const we=O.context.gl;return{u_matrix:ye,u_world:[we.drawingBufferWidth,we.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:R.paint.get("heatmap-opacity")}})(C,h),null,h.id,C.viewportBuffer,C.quadTriangleIndexBuffer,C.viewportSegments,h.paint,C.transform.zoom)}(x,d))},line:function(x,i,d,_){if("translucent"!==x.renderPass)return;const C=d.paint.get("line-opacity"),h=d.paint.get("line-width");if(0===C.constantOr(1)||0===h.constantOr(1))return;const b=x.depthModeForSublayer(0,Pn.ReadOnly),y=x.colorModeForRenderPass(),E=d.paint.get("line-dasharray"),I=d.paint.get("line-pattern"),O=I.constantOr(1),R=d.paint.get("line-gradient"),W=d.getCrossfadeParameters(),ce=O?"linePattern":E?"lineSDF":R?"lineGradient":"line",ye=x.context,we=ye.gl;let Fe=!0;for(const rt of _){const Mt=i.getTile(rt);if(O&&!Mt.patternsLoaded())continue;const He=Mt.getBucket(d);if(!He)continue;const Ct=He.programConfigurations.get(d.id),Lt=x.context.program.get(),Wt=x.useProgram(ce,Ct),oi=Fe||Wt.program!==Lt,fi=x.style.map.terrain&&x.style.map.terrain.getTerrainData(rt),ci=I.constantOr(null);if(ci&&Mt.imageAtlas){const _n=Mt.imageAtlas,bi=_n.patternPositions[ci.to.toString()],sn=_n.patternPositions[ci.from.toString()];bi&&sn&&Ct.setConstantPatternPositions(bi,sn)}const Ii=fi?rt:null,Gi=O?zr(x,Mt,d,W,Ii):E?Zo(x,Mt,d,E,W,Ii):R?Xs(x,Mt,d,He.lineClipsArray.length,Ii):ss(x,Mt,d,Ii);if(O)ye.activeTexture.set(we.TEXTURE0),Mt.imageAtlasTexture.bind(we.LINEAR,we.CLAMP_TO_EDGE),Ct.updatePaintBuffers(W);else if(E&&(oi||x.lineAtlas.dirty))ye.activeTexture.set(we.TEXTURE0),x.lineAtlas.bind(ye);else if(R){const _n=He.gradients[d.id];let bi=_n.texture;if(d.gradientVersion!==_n.version){let sn=256;if(d.stepInterpolant){const Ri=i.getSource().maxzoom,Qn=rt.canonical.z===Ri?Math.ceil(1<<x.transform.maxZoom-rt.canonical.z):1;sn=v.clamp(v.nextPowerOfTwo(He.maxLineLength/v.EXTENT*1024*Qn),256,ye.maxTextureSize)}_n.gradient=v.renderColorRamp({expression:d.gradientExpression(),evaluationKey:"lineProgress",resolution:sn,image:_n.gradient||void 0,clips:He.lineClipsArray}),_n.texture?_n.texture.update(_n.gradient):_n.texture=new gt(ye,_n.gradient,we.RGBA),_n.version=d.gradientVersion,bi=_n.texture}ye.activeTexture.set(we.TEXTURE0),bi.bind(d.stepInterpolant?we.NEAREST:we.LINEAR,we.CLAMP_TO_EDGE)}Wt.draw(ye,we.TRIANGLES,b,x.stencilModeForClipping(rt),y,ir.disabled,Gi,fi,d.id,He.layoutVertexBuffer,He.indexBuffer,He.segments,d.paint,x.transform.zoom,Ct,He.layoutVertexBuffer2),Fe=!1}},fill:function(x,i,d,_){const C=d.paint.get("fill-color"),h=d.paint.get("fill-opacity");if(0===h.constantOr(1))return;const b=x.colorModeForRenderPass(),y=d.paint.get("fill-pattern"),E=x.opaquePassEnabledForLayer()&&!y.constantOr(1)&&1===C.constantOr(v.Color.transparent).a&&1===h.constantOr(0)?"opaque":"translucent";if(x.renderPass===E){const I=x.depthModeForSublayer(1,"opaque"===x.renderPass?Pn.ReadWrite:Pn.ReadOnly);pa(x,i,d,_,I,b,!1)}if("translucent"===x.renderPass&&d.paint.get("fill-antialias")){const I=x.depthModeForSublayer(d.getPaintProperty("fill-outline-color")?2:0,Pn.ReadOnly);pa(x,i,d,_,I,b,!0)}},"fill-extrusion":function(x,i,d,_){const C=d.paint.get("fill-extrusion-opacity");if(0!==C&&"translucent"===x.renderPass){const h=new Pn(x.context.gl.LEQUAL,Pn.ReadWrite,x.depthRangeFor3D);if(1!==C||d.paint.get("fill-extrusion-pattern").constantOr(1))fa(x,i,d,_,h,lr.disabled,Oi.disabled),fa(x,i,d,_,h,x.stencilModeFor3D(),x.colorModeForRenderPass());else{const b=x.colorModeForRenderPass();fa(x,i,d,_,h,lr.disabled,b)}}},hillshade:function(x,i,d,_){if("offscreen"!==x.renderPass&&"translucent"!==x.renderPass)return;const C=x.context,h=x.depthModeForSublayer(0,Pn.ReadOnly),b=x.colorModeForRenderPass(),[y,E]="translucent"===x.renderPass?x.stencilConfigForOverlap(_):[{},_];for(const I of E){const O=i.getTile(I);void 0!==O.needsHillshadePrepare&&O.needsHillshadePrepare&&"offscreen"===x.renderPass?oc(x,O,d,h,lr.disabled,b):"translucent"===x.renderPass&&rc(x,I,O,d,h,y[I.overscaledZ],b)}C.viewport.set([0,0,x.width,x.height])},raster:function(x,i,d,_){if("translucent"!==x.renderPass||0===d.paint.get("raster-opacity")||!_.length)return;const C=x.context,h=C.gl,b=i.getSource(),y=x.useProgram("raster"),E=x.colorModeForRenderPass(),[I,O]=b instanceof ht?[{},_]:x.stencilConfigForOverlap(_),R=O[O.length-1].overscaledZ,W=!x.options.moving;for(const ce of O){const ye=x.depthModeForSublayer(ce.overscaledZ-R,1===d.paint.get("raster-opacity")?Pn.ReadWrite:Pn.ReadOnly,h.LESS),we=i.getTile(ce);we.registerFadeDuration(d.paint.get("raster-fade-duration"));const Fe=i.findLoadedParent(ce,0),rt=Xr(we,Fe,i,d,x.transform,x.style.map.terrain);let Mt,He;const Ct="nearest"===d.paint.get("raster-resampling")?h.NEAREST:h.LINEAR;C.activeTexture.set(h.TEXTURE0),we.texture.bind(Ct,h.CLAMP_TO_EDGE,h.LINEAR_MIPMAP_NEAREST),C.activeTexture.set(h.TEXTURE1),Fe?(Fe.texture.bind(Ct,h.CLAMP_TO_EDGE,h.LINEAR_MIPMAP_NEAREST),Mt=Math.pow(2,Fe.tileID.overscaledZ-we.tileID.overscaledZ),He=[we.tileID.canonical.x*Mt%1,we.tileID.canonical.y*Mt%1]):we.texture.bind(Ct,h.CLAMP_TO_EDGE,h.LINEAR_MIPMAP_NEAREST);const Lt=x.style.map.terrain&&x.style.map.terrain.getTerrainData(ce),Wt=Lt?ce:null,oi=Wt?Wt.posMatrix:x.transform.calculatePosMatrix(ce.toUnwrapped(),W),fi=Ti(oi,He||[0,0],Mt||1,rt,d);b instanceof ht?y.draw(C,h.TRIANGLES,ye,lr.disabled,E,ir.disabled,fi,Lt,d.id,b.boundsBuffer,x.quadTriangleIndexBuffer,b.boundsSegments):y.draw(C,h.TRIANGLES,ye,I[ce.overscaledZ],E,ir.disabled,fi,Lt,d.id,x.rasterBoundsBuffer,x.quadTriangleIndexBuffer,x.rasterBoundsSegments)}},background:function(x,i,d,_){const C=d.paint.get("background-color"),h=d.paint.get("background-opacity");if(0===h)return;const b=x.context,y=b.gl,E=x.transform,I=E.tileSize,O=d.paint.get("background-pattern");if(x.isPatternMissing(O))return;const R=!O&&1===C.a&&1===h&&x.opaquePassEnabledForLayer()?"opaque":"translucent";if(x.renderPass!==R)return;const W=lr.disabled,ce=x.depthModeForSublayer(0,"opaque"===R?Pn.ReadWrite:Pn.ReadOnly),ye=x.colorModeForRenderPass(),we=x.useProgram(O?"backgroundPattern":"background"),Fe=_||E.coveringTiles({tileSize:I,terrain:x.style.map.terrain});O&&(b.activeTexture.set(y.TEXTURE0),x.imageManager.bind(x.context));const rt=d.getCrossfadeParameters();for(const Mt of Fe){const He=_?Mt.posMatrix:x.transform.calculatePosMatrix(Mt.toUnwrapped()),Ct=O?Tr(He,h,x,O,{tileID:Mt,tileSize:I},rt):Kn(He,h,C),Lt=x.style.map.terrain&&x.style.map.terrain.getTerrainData(Mt);we.draw(b,y.TRIANGLES,ce,W,ye,ir.disabled,Ct,Lt,d.id,x.tileExtentBuffer,x.quadTriangleIndexBuffer,x.tileExtentSegments)}},debug:function(x,i,d){for(let _=0;_<d.length;_++)Zs(x,i,d[_])},custom:function(x,i,d){const _=x.context,C=d.implementation;if("offscreen"===x.renderPass){const h=C.prerender;h&&(x.setCustomLayerDefaults(),_.setColorMode(x.colorModeForRenderPass()),h.call(C,_.gl,x.transform.customLayerMatrix()),_.setDirty(),x.setBaseState())}else if("translucent"===x.renderPass){x.setCustomLayerDefaults(),_.setColorMode(x.colorModeForRenderPass()),_.setStencilMode(lr.disabled);const h="3d"===C.renderingMode?new Pn(x.context.gl.LEQUAL,Pn.ReadWrite,x.depthRangeFor3D):x.depthModeForSublayer(0,Pn.ReadOnly);_.setDepthMode(h),C.render(_.gl,x.transform.customLayerMatrix()),_.setDirty(),x.setBaseState(),_.bindFramebuffer.set(null)}}};class Ec{constructor(i,d){this.context=new Nl(i),this.transform=d,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:v.create(),renderTime:0},this.setup(),this.numSublayers=Zi.maxUnderzooming+Zi.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Dn}resize(i,d,_){if(this.width=i*_,this.height=d*_,this.pixelRatio=_,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const C of this.style._order)this.style._layers[C].resize()}setup(){const i=this.context,d=new v.PosArray;d.emplaceBack(0,0),d.emplaceBack(v.EXTENT,0),d.emplaceBack(0,v.EXTENT),d.emplaceBack(v.EXTENT,v.EXTENT),this.tileExtentBuffer=i.createVertexBuffer(d,Eo.members),this.tileExtentSegments=v.SegmentVector.simpleSegment(0,0,4,2);const _=new v.PosArray;_.emplaceBack(0,0),_.emplaceBack(v.EXTENT,0),_.emplaceBack(0,v.EXTENT),_.emplaceBack(v.EXTENT,v.EXTENT),this.debugBuffer=i.createVertexBuffer(_,Eo.members),this.debugSegments=v.SegmentVector.simpleSegment(0,0,4,5);const C=new v.RasterBoundsArray;C.emplaceBack(0,0,0,0),C.emplaceBack(v.EXTENT,0,v.EXTENT,0),C.emplaceBack(0,v.EXTENT,0,v.EXTENT),C.emplaceBack(v.EXTENT,v.EXTENT,v.EXTENT,v.EXTENT),this.rasterBoundsBuffer=i.createVertexBuffer(C,ot.members),this.rasterBoundsSegments=v.SegmentVector.simpleSegment(0,0,4,2);const h=new v.PosArray;h.emplaceBack(0,0),h.emplaceBack(1,0),h.emplaceBack(0,1),h.emplaceBack(1,1),this.viewportBuffer=i.createVertexBuffer(h,Eo.members),this.viewportSegments=v.SegmentVector.simpleSegment(0,0,4,2);const b=new v.LineStripIndexArray;b.emplaceBack(0),b.emplaceBack(1),b.emplaceBack(3),b.emplaceBack(2),b.emplaceBack(0),this.tileBorderIndexBuffer=i.createIndexBuffer(b);const y=new v.TriangleIndexArray;y.emplaceBack(0,1,2),y.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=i.createIndexBuffer(y);const E=this.context.gl;this.stencilClearMode=new lr({func:E.ALWAYS,mask:0},0,255,E.ZERO,E.ZERO,E.ZERO)}clearStencil(){const i=this.context,d=i.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const _=v.create();v.ortho(_,0,this.width,this.height,0,0,1),v.scale(_,_,[d.drawingBufferWidth,d.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(i,d.TRIANGLES,Pn.disabled,this.stencilClearMode,Oi.disabled,ir.disabled,Gr(_),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(i,d){if(this.currentStencilSource===i.source||!i.isTileClipped()||!d||!d.length)return;this.currentStencilSource=i.source;const _=this.context,C=_.gl;this.nextStencilID+d.length>256&&this.clearStencil(),_.setColorMode(Oi.disabled),_.setDepthMode(Pn.disabled);const h=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const b of d){const y=this._tileClippingMaskIDs[b.key]=this.nextStencilID++,E=this.style.map.terrain&&this.style.map.terrain.getTerrainData(b);h.draw(_,C.TRIANGLES,Pn.disabled,new lr({func:C.ALWAYS,mask:0},y,255,C.KEEP,C.KEEP,C.REPLACE),Oi.disabled,ir.disabled,Gr(b.posMatrix),E,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const i=this.nextStencilID++,d=this.context.gl;return new lr({func:d.NOTEQUAL,mask:255},i,255,d.KEEP,d.KEEP,d.REPLACE)}stencilModeForClipping(i){const d=this.context.gl;return new lr({func:d.EQUAL,mask:255},this._tileClippingMaskIDs[i.key],0,d.KEEP,d.KEEP,d.REPLACE)}stencilConfigForOverlap(i){const d=this.context.gl,_=i.sort((b,y)=>y.overscaledZ-b.overscaledZ),C=_[_.length-1].overscaledZ,h=_[0].overscaledZ-C+1;if(h>1){this.currentStencilSource=void 0,this.nextStencilID+h>256&&this.clearStencil();const b={};for(let y=0;y<h;y++)b[y+C]=new lr({func:d.GEQUAL,mask:255},y+this.nextStencilID,255,d.KEEP,d.KEEP,d.REPLACE);return this.nextStencilID+=h,[b,_]}return[{[C]:lr.disabled},_]}colorModeForRenderPass(){const i=this.context.gl;return this._showOverdrawInspector?new Oi([i.CONSTANT_COLOR,i.ONE],new v.Color(.125,.125,.125,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?Oi.unblended:Oi.alphaBlended}depthModeForSublayer(i,d,_){if(!this.opaquePassEnabledForLayer())return Pn.disabled;const C=1-((1+this.currentLayer)*this.numSublayers+i)*this.depthEpsilon;return new Pn(_||this.context.gl.LEQUAL,d,[C,C])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(i,d){this.style=i,this.options=d,this.lineAtlas=i.lineAtlas,this.imageManager=i.imageManager,this.glyphManager=i.glyphManager,this.symbolFadeChange=i.placement.symbolFadeChange(v.exported.now()),this.imageManager.beginFrame();const _=this.style._order,C=this.style.sourceCaches,h={},b={},y={};for(const E in C){const I=C[E];I.used&&I.prepare(this.context),h[E]=I.getVisibleCoordinates(),b[E]=h[E].slice().reverse(),y[E]=I.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let E=0;E<_.length;E++)if(this.style._layers[_[E]].is3D()){this.opaquePassCutoff=E;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const E=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!v.equals(this.terrainFacilitator.matrix,this.transform.projMatrix)||E.length)&&(v.copy(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(I,O){const R=I.context,W=R.gl,ce=Oi.unblended,ye=new Pn(W.LEQUAL,Pn.ReadWrite,[0,1]),we=O.getTerrainMesh(),Fe=O.sourceCache.getRenderableTiles(),rt=I.useProgram("terrainDepth");R.bindFramebuffer.set(O.getFramebuffer("depth").framebuffer),R.viewport.set([0,0,I.width/devicePixelRatio,I.height/devicePixelRatio]),R.clear({color:v.Color.transparent,depth:1});for(const Mt of Fe){const He=O.getTerrainData(Mt.tileID),Ct={u_matrix:I.transform.calculatePosMatrix(Mt.tileID.toUnwrapped()),u_ele_delta:O.getMeshFrameDelta(I.transform.zoom)};rt.draw(R,W.TRIANGLES,ye,lr.disabled,ce,ir.backCCW,Ct,He,"terrain",we.vertexBuffer,we.indexBuffer,we.segments)}R.bindFramebuffer.set(null),R.viewport.set([0,0,I.width,I.height])}(this,this.style.map.terrain),function(I,O){const R=I.context,W=R.gl,ce=Oi.unblended,ye=new Pn(W.LEQUAL,Pn.ReadWrite,[0,1]),we=O.getTerrainMesh(),Fe=O.getCoordsTexture(),rt=O.sourceCache.getRenderableTiles(),Mt=I.useProgram("terrainCoords");R.bindFramebuffer.set(O.getFramebuffer("coords").framebuffer),R.viewport.set([0,0,I.width/devicePixelRatio,I.height/devicePixelRatio]),R.clear({color:v.Color.transparent,depth:1}),O.coordsIndex=[];for(const He of rt){const Ct=O.getTerrainData(He.tileID);R.activeTexture.set(W.TEXTURE0),W.bindTexture(W.TEXTURE_2D,Fe.texture);const Lt={u_matrix:I.transform.calculatePosMatrix(He.tileID.toUnwrapped()),u_terrain_coords_id:(255-O.coordsIndex.length)/255,u_texture:0,u_ele_delta:O.getMeshFrameDelta(I.transform.zoom)};Mt.draw(R,W.TRIANGLES,ye,lr.disabled,ce,ir.backCCW,Lt,Ct,"terrain",we.vertexBuffer,we.indexBuffer,we.segments),O.coordsIndex.push(He.tileID.key)}R.bindFramebuffer.set(null),R.viewport.set([0,0,I.width,I.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const E of _){const I=this.style._layers[E];if(!I.hasOffscreenPass()||I.isHidden(this.transform.zoom))continue;const O=b[I.source];("custom"===I.type||O.length)&&this.renderLayer(this,C[I.source],I,O)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:d.showOverdrawInspector?v.Color.black:v.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=d.showOverdrawInspector,this.depthRangeFor3D=[0,1-(i._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=_.length-1;this.currentLayer>=0;this.currentLayer--){const E=this.style._layers[_[this.currentLayer]],I=C[E.source],O=h[E.source];this._renderTileClippingMasks(E,O),this.renderLayer(this,I,E,O)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<_.length;this.currentLayer++){const E=this.style._layers[_[this.currentLayer]],I=C[E.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(E))continue;const O=("symbol"===E.type?y:b)[E.source];this._renderTileClippingMasks(E,h[E.source]),this.renderLayer(this,I,E,O)}if(this.options.showTileBoundaries){const E=function(I,O){let R=null;const W=Object.values(I._layers).flatMap(Fe=>Fe.source&&!Fe.isHidden(O)?[I.sourceCaches[Fe.source]]:[]),ce=W.filter(Fe=>"vector"===Fe.getSource().type),ye=W.filter(Fe=>"vector"!==Fe.getSource().type),we=Fe=>{(!R||R.getSource().maxzoom<Fe.getSource().maxzoom)&&(R=Fe)};return ce.forEach(Fe=>we(Fe)),R||ye.forEach(Fe=>we(Fe)),R}(this.style,this.transform.zoom);E&&hr.debug(this,E,E.getVisibleCoordinates())}this.options.showPadding&&function(E){const I=E.transform.padding;Sn(E,E.transform.height-(I.top||0),3,nl),Sn(E,I.bottom||0,3,Gs),ur(E,I.left||0,3,rl),ur(E,E.transform.width-(I.right||0),3,So);const O=E.transform.centerPoint;var R,W,ce,ye;ol(R=E,(W=O.x)-1,(ce=E.transform.height-O.y)-10,2,20,ye=Fr),ol(R,W-10,ce-1,20,2,ye)}(this),this.context.setDefault()}renderLayer(i,d,_,C){_.isHidden(this.transform.zoom)||("background"===_.type||"custom"===_.type||(C||[]).length)&&(this.id=_.id,hr[_.type](i,d,_,C,this.style.placement.variableOffsets))}translatePosMatrix(i,d,_,C,h){if(!_[0]&&!_[1])return i;const b=h?"map"===C?this.transform.angle:0:"viewport"===C?-this.transform.angle:0;if(b){const I=Math.sin(b),O=Math.cos(b);_=[_[0]*O-_[1]*I,_[0]*I+_[1]*O]}const y=[h?_[0]:oe(d,_[0],this.transform.zoom),h?_[1]:oe(d,_[1],this.transform.zoom),0],E=new Float32Array(16);return v.translate(E,i,y),E}saveTileTexture(i){const d=this._tileTextures[i.size[0]];d?d.push(i):this._tileTextures[i.size[0]]=[i]}getTileTexture(i){const d=this._tileTextures[i];return d&&d.length>0?d.pop():null}isPatternMissing(i){if(!i)return!1;if(!i.from||!i.to)return!0;const d=this.imageManager.getPattern(i.from.toString()),_=this.imageManager.getPattern(i.to.toString());return!d||!_}useProgram(i,d){this.cache=this.cache||{};const _=i+(d?d.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[_]||(this.cache[_]=new Fo(this.context,i,co[i],d,gr[i],this._showOverdrawInspector,this.style.map.terrain)),this.cache[_]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const i=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(i.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new gt(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}}class Ml{constructor(i,d){this.points=i,this.planes=d}static fromInvProjectionMatrix(i,d,_){const C=Math.pow(2,_),h=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(y=>{const E=1/(y=v.transformMat4([],y,i))[3]/d*C;return v.mul$1(y,y,[E,E,1/y[3],E])}),b=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(y=>{const E=function(W,ce){var ye=ce[0],we=ce[1],Fe=ce[2],rt=ye*ye+we*we+Fe*Fe;return rt>0&&(rt=1/Math.sqrt(rt)),W[0]=ce[0]*rt,W[1]=ce[1]*rt,W[2]=ce[2]*rt,W}([],(W=[],ce=Qt([],h[y[0]],h[y[1]]),ye=Qt([],h[y[2]],h[y[1]]),we=ce[0],Mt=ye[0],W[0]=(Fe=ce[1])*(Ct=ye[2])-(rt=ce[2])*(He=ye[1]),W[1]=rt*Mt-we*Ct,W[2]=we*He-Fe*Mt,W)),I=-((O=E)[0]*(R=h[y[1]])[0]+O[1]*R[1]+O[2]*R[2]);var W,ce,ye,we,Fe,rt,Mt,He,Ct,O,R;return E.concat(I)});return new Ml(h,b)}}class ys{constructor(i,d){var _,C,h;this.min=i,this.max=d,this.center=function(_,C,h){return _[0]=.5*C[0],_[1]=.5*C[1],_[2]=.5*C[2],_}([],((_=[])[0]=(C=this.min)[0]+(h=this.max)[0],_[1]=C[1]+h[1],_[2]=C[2]+h[2],_))}quadrant(i){const d=[i%2==0,i<2],_=ti(this.min),C=ti(this.max);for(let h=0;h<d.length;h++)_[h]=d[h]?this.min[h]:this.center[h],C[h]=d[h]?this.center[h]:this.max[h];return C[2]=this.max[2],new ys(_,C)}distanceX(i){return Math.max(Math.min(this.max[0],i[0]),this.min[0])-i[0]}distanceY(i){return Math.max(Math.min(this.max[1],i[1]),this.min[1])-i[1]}intersects(i){const d=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let _=!0;for(let C=0;C<i.planes.length;C++){const h=i.planes[C];let b=0;for(let y=0;y<d.length;y++)v.dot(h,d[y])>=0&&b++;if(0===b)return 0;b!==d.length&&(_=!1)}if(_)return 2;for(let C=0;C<3;C++){let h=Number.MAX_VALUE,b=-Number.MAX_VALUE;for(let y=0;y<i.points.length;y++){const E=i.points[y][C]-this.min[C];h=Math.min(h,E),b=Math.max(b,E)}if(b<0||h>this.max[C]-this.min[C])return 0}return 1}}class Cr{constructor(i=0,d=0,_=0,C=0){if(isNaN(i)||i<0||isNaN(d)||d<0||isNaN(_)||_<0||isNaN(C)||C<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=i,this.bottom=d,this.left=_,this.right=C}interpolate(i,d,_){return null!=d.top&&null!=i.top&&(this.top=v.interpolate.number(i.top,d.top,_)),null!=d.bottom&&null!=i.bottom&&(this.bottom=v.interpolate.number(i.bottom,d.bottom,_)),null!=d.left&&null!=i.left&&(this.left=v.interpolate.number(i.left,d.left,_)),null!=d.right&&null!=i.right&&(this.right=v.interpolate.number(i.right,d.right,_)),this}getCenter(i,d){const _=v.clamp((this.left+i-this.right)/2,0,i),C=v.clamp((this.top+d-this.bottom)/2,0,d);return new v.Point(_,C)}equals(i){return this.top===i.top&&this.bottom===i.bottom&&this.left===i.left&&this.right===i.right}clone(){return new Cr(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class Xo{constructor(i,d,_,C,h){this.tileSize=512,this.maxValidLatitude=85.051129,this.freezeElevation=!1,this._renderWorldCopies=void 0===h||!!h,this._minZoom=i||0,this._maxZoom=d||22,this._minPitch=_??0,this._maxPitch=C??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new v.LngLat(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Cr,this._posMatrixCache={},this._alignedPosMatrixCache={}}clone(){const i=new Xo(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return i.apply(this),i}apply(i){this.tileSize=i.tileSize,this.latRange=i.latRange,this.width=i.width,this.height=i.height,this._center=i._center,this._elevation=i._elevation,this.zoom=i.zoom,this.angle=i.angle,this._fov=i._fov,this._pitch=i._pitch,this._unmodified=i._unmodified,this._edgeInsets=i._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(i){this._minZoom!==i&&(this._minZoom=i,this.zoom=Math.max(this.zoom,i))}get maxZoom(){return this._maxZoom}set maxZoom(i){this._maxZoom!==i&&(this._maxZoom=i,this.zoom=Math.min(this.zoom,i))}get minPitch(){return this._minPitch}set minPitch(i){this._minPitch!==i&&(this._minPitch=i,this.pitch=Math.max(this.pitch,i))}get maxPitch(){return this._maxPitch}set maxPitch(i){this._maxPitch!==i&&(this._maxPitch=i,this.pitch=Math.min(this.pitch,i))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(i){void 0===i?i=!0:null===i&&(i=!1),this._renderWorldCopies=i}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new v.Point(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(i){const d=-v.wrap(i,-180,180)*Math.PI/180;var _;this.angle!==d&&(this._unmodified=!1,this.angle=d,this._calcMatrices(),this.rotationMatrix=(_=new v.ARRAY_TYPE(4),v.ARRAY_TYPE!=Float32Array&&(_[1]=0,_[2]=0),_[0]=1,_[3]=1,_),function(_,C,h){var b=C[0],y=C[1],E=C[2],I=C[3],O=Math.sin(h),R=Math.cos(h);_[0]=b*R+E*O,_[1]=y*R+I*O,_[2]=b*-O+E*R,_[3]=y*-O+I*R}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(i){const d=v.clamp(i,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==d&&(this._unmodified=!1,this._pitch=d,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(i){i=Math.max(.01,Math.min(60,i)),this._fov!==i&&(this._unmodified=!1,this._fov=i/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(i){const d=Math.min(Math.max(i,this.minZoom),this.maxZoom);this._zoom!==d&&(this._unmodified=!1,this._zoom=d,this.tileZoom=Math.max(0,Math.floor(d)),this.scale=this.zoomScale(d),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(i){i.lat===this._center.lat&&i.lng===this._center.lng||(this._unmodified=!1,this._center=i,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(i){i!==this._elevation&&(this._elevation=i,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(i){this._edgeInsets.equals(i)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,i,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(i){return this._edgeInsets.equals(i)}interpolatePadding(i,d,_){this._unmodified=!1,this._edgeInsets.interpolate(i,d,_),this._constrain(),this._calcMatrices()}coveringZoomLevel(i){const d=(i.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/i.tileSize));return Math.max(0,d)}getVisibleUnwrappedCoordinates(i){const d=[new v.UnwrappedTileID(0,i)];if(this._renderWorldCopies){const _=this.pointCoordinate(new v.Point(0,0)),C=this.pointCoordinate(new v.Point(this.width,0)),h=this.pointCoordinate(new v.Point(this.width,this.height)),b=this.pointCoordinate(new v.Point(0,this.height)),y=Math.floor(Math.min(_.x,C.x,h.x,b.x)),E=Math.floor(Math.max(_.x,C.x,h.x,b.x)),I=1;for(let O=y-I;O<=E+I;O++)0!==O&&d.push(new v.UnwrappedTileID(O,i))}return d}coveringTiles(i){var d,_;let C=this.coveringZoomLevel(i);const h=C;if(void 0!==i.minzoom&&C<i.minzoom)return[];void 0!==i.maxzoom&&C>i.maxzoom&&(C=i.maxzoom);const b=this.pointCoordinate(this.getCameraPoint()),y=v.MercatorCoordinate.fromLngLat(this.center),E=Math.pow(2,C),I=[E*b.x,E*b.y,0],O=[E*y.x,E*y.y,0],R=Ml.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,C);let W=i.minzoom||0;!i.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(W=C);const ce=i.terrain?2/Math.min(this.tileSize,i.tileSize)*this.tileSize:3,ye=He=>({aabb:new ys([He*E,0,0],[(He+1)*E,E,0]),zoom:0,x:0,y:0,wrap:He,fullyVisible:!1}),we=[],Fe=[],rt=C,Mt=i.reparseOverscaled?h:C;if(this._renderWorldCopies)for(let He=1;He<=3;He++)we.push(ye(-He)),we.push(ye(He));for(we.push(ye(0));we.length>0;){const He=we.pop(),Ct=He.x,Lt=He.y;let Wt=He.fullyVisible;if(!Wt){const Gi=He.aabb.intersects(R);if(0===Gi)continue;Wt=2===Gi}const oi=i.terrain?I:O,fi=He.aabb.distanceX(oi),ci=He.aabb.distanceY(oi),Ii=Math.max(Math.abs(fi),Math.abs(ci));if(He.zoom===rt||Ii>ce+(1<<rt-He.zoom)-2&&He.zoom>=W){const Gi=rt-He.zoom,_n=I[0]-.5-(Ct<<Gi),bi=I[1]-.5-(Lt<<Gi);Fe.push({tileID:new v.OverscaledTileID(He.zoom===rt?Mt:He.zoom,He.wrap,He.zoom,Ct,Lt),distanceSq:Re([O[0]-.5-Ct,O[1]-.5-Lt]),tileDistanceToCamera:Math.sqrt(_n*_n+bi*bi)})}else for(let Gi=0;Gi<4;Gi++){const _n=(Ct<<1)+Gi%2,bi=(Lt<<1)+(Gi>>1),sn=He.zoom+1;let Ri=He.aabb.quadrant(Gi);if(i.terrain){const Qn=new v.OverscaledTileID(sn,He.wrap,sn,_n,bi),qr=i.terrain.getMinMaxElevation(Qn),rr=null!==(d=qr.minElevation)&&void 0!==d?d:this.elevation,pn=null!==(_=qr.maxElevation)&&void 0!==_?_:this.elevation;Ri=new ys([Ri.min[0],Ri.min[1],rr],[Ri.max[0],Ri.max[1],pn])}we.push({aabb:Ri,zoom:sn,x:_n,y:bi,wrap:He.wrap,fullyVisible:Wt})}}return Fe.sort((He,Ct)=>He.distanceSq-Ct.distanceSq).map(He=>He.tileID)}resize(i,d){this.width=i,this.height=d,this.pixelsToGLUnits=[2/i,-2/d],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(i){return Math.pow(2,i)}scaleZoom(i){return Math.log(i)/Math.LN2}project(i){const d=v.clamp(i.lat,-this.maxValidLatitude,this.maxValidLatitude);return new v.Point(v.mercatorXfromLng(i.lng)*this.worldSize,v.mercatorYfromLat(d)*this.worldSize)}unproject(i){return new v.MercatorCoordinate(i.x/this.worldSize,i.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}updateElevation(i){this.freezeElevation||(this.elevation=i?this.getElevation(this._center,i):0)}getElevation(i,d){const _=v.MercatorCoordinate.fromLngLat(i.wrap()),C=(1<<this.tileZoom)*v.EXTENT,h=_.x*C,b=_.y*C,y=Math.floor(h/v.EXTENT),E=Math.floor(b/v.EXTENT),I=new v.OverscaledTileID(this.tileZoom,0,this.tileZoom,y,E);return d.getElevation(I,h%v.EXTENT,b%v.EXTENT,v.EXTENT)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(i){const d=this.pointLocation(this.centerPoint,i),_=this.getElevation(d,i);if(!(this.elevation-_))return;const C=this.getCameraPosition(),h=v.MercatorCoordinate.fromLngLat(C.lngLat,C.altitude),b=v.MercatorCoordinate.fromLngLat(d,_),y=h.x-b.x,E=h.y-b.y,I=h.z-b.z,O=Math.sqrt(y*y+E*E+I*I),R=this.scaleZoom(this.cameraToCenterDistance/O/this.tileSize);this._elevation=_,this._center=d,this.zoom=R}setLocationAtPoint(i,d){const _=this.pointCoordinate(d),C=this.pointCoordinate(this.centerPoint),h=this.locationCoordinate(i),b=new v.MercatorCoordinate(h.x-(_.x-C.x),h.y-(_.y-C.y));this.center=this.coordinateLocation(b),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(i,d){return d?this.coordinatePoint(this.locationCoordinate(i),this.getElevation(i,d),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(i))}pointLocation(i,d){return this.coordinateLocation(this.pointCoordinate(i,d))}locationCoordinate(i){return v.MercatorCoordinate.fromLngLat(i)}coordinateLocation(i){return i&&i.toLngLat()}pointCoordinate(i,d){if(d){const W=d.pointCoordinate(i);if(null!=W)return W}const _=[i.x,i.y,0,1],C=[i.x,i.y,1,1];v.transformMat4(_,_,this.pixelMatrixInverse),v.transformMat4(C,C,this.pixelMatrixInverse);const h=_[3],b=C[3],y=_[1]/h,E=C[1]/b,I=_[2]/h,O=C[2]/b,R=I===O?0:(0-I)/(O-I);return new v.MercatorCoordinate(v.interpolate.number(_[0]/h,C[0]/b,R)/this.worldSize,v.interpolate.number(y,E,R)/this.worldSize)}coordinatePoint(i,d=0,_=this.pixelMatrix){const C=[i.x*this.worldSize,i.y*this.worldSize,d,1];return v.transformMat4(C,C,_),new v.Point(C[0]/C[3],C[1]/C[3])}getBounds(){const i=Math.max(0,this.height/2-this.getHorizon());return(new kt).extend(this.pointLocation(new v.Point(0,i))).extend(this.pointLocation(new v.Point(this.width,i))).extend(this.pointLocation(new v.Point(this.width,this.height))).extend(this.pointLocation(new v.Point(0,this.height)))}getMaxBounds(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new kt([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(i){i?(this.lngRange=[i.getWest(),i.getEast()],this.latRange=[i.getSouth(),i.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(i,d=!1){const _=i.key,C=d?this._alignedPosMatrixCache:this._posMatrixCache;if(C[_])return C[_];const h=i.canonical,b=this.worldSize/this.zoomScale(h.z),y=h.x+Math.pow(2,h.z)*i.wrap,E=v.identity(new Float64Array(16));return v.translate(E,E,[y*b,h.y*b,0]),v.scale(E,E,[b/v.EXTENT,b/v.EXTENT,1]),v.multiply(E,d?this.alignedProjMatrix:this.projMatrix,E),C[_]=new Float32Array(E),C[_]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let i,d,_,C,h=-90,b=90,y=-180,E=180;const I=this.size,O=this._unmodified;if(this.latRange){const ce=this.latRange;h=v.mercatorYfromLat(ce[1])*this.worldSize,b=v.mercatorYfromLat(ce[0])*this.worldSize,i=b-h<I.y?I.y/(b-h):0}if(this.lngRange){const ce=this.lngRange;y=v.wrap(v.mercatorXfromLng(ce[0])*this.worldSize,0,this.worldSize),E=v.wrap(v.mercatorXfromLng(ce[1])*this.worldSize,0,this.worldSize),E<y&&(E+=this.worldSize),d=E-y<I.x?I.x/(E-y):0}const R=this.point,W=Math.max(d||0,i||0);if(W)return this.center=this.unproject(new v.Point(d?(E+y)/2:R.x,i?(b+h)/2:R.y)),this.zoom+=this.scaleZoom(W),this._unmodified=O,void(this._constraining=!1);if(this.latRange){const ce=R.y,ye=I.y/2;ce-ye<h&&(C=h+ye),ce+ye>b&&(C=b-ye)}if(this.lngRange){const ce=(y+E)/2,ye=v.wrap(R.x,ce-this.worldSize/2,ce+this.worldSize/2),we=I.x/2;ye-we<y&&(_=y+we),ye+we>E&&(_=E-we)}void 0===_&&void 0===C||(this.center=this.unproject(new v.Point(void 0!==_?_:R.x,void 0!==C?C:R.y)).wrap()),this._unmodified=O,this._constraining=!1}_calcMatrices(){if(!this.height)return;const i=this.centerOffset,d=this.point.x,_=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=v.mercatorZfromAltitude(1,this.center.lat)*this.worldSize;let C=v.identity(new Float64Array(16));v.scale(C,C,[this.width/2,-this.height/2,1]),v.translate(C,C,[1,-1,0]),this.labelPlaneMatrix=C,C=v.identity(new Float64Array(16)),v.scale(C,C,[1,-1,1]),v.translate(C,C,[-1,-1,0]),v.scale(C,C,[2/this.width,2/this.height,1]),this.glCoordMatrix=C,this.cameraToSeaLevelDistance=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch);const h=this._elevation<0?this.cameraToCenterDistance:this.cameraToSeaLevelDistance,b=Math.PI/2+this._pitch,y=this._fov*(.5+i.y/this.height),E=Math.sin(y)*h/Math.sin(v.clamp(Math.PI-b-y,.01,Math.PI-.01)),I=this.getHorizon(),O=2*Math.atan(I/this.cameraToCenterDistance)*(.5+i.y/(2*I)),R=Math.sin(O)*h/Math.sin(v.clamp(Math.PI-b-O,.01,Math.PI-.01)),W=Math.min(E,R),ce=1.01*(Math.cos(Math.PI/2-this._pitch)*W+h),ye=this.height/50;C=new Float64Array(16),v.perspective(C,this._fov,this.width/this.height,ye,ce),C[8]=2*-i.x/this.width,C[9]=2*i.y/this.height,v.scale(C,C,[1,-1,1]),v.translate(C,C,[0,0,-this.cameraToCenterDistance]),v.rotateX(C,C,this._pitch),v.rotateZ(C,C,this.angle),v.translate(C,C,[-d,-_,0]),this.mercatorMatrix=v.scale([],C,[this.worldSize,this.worldSize,this.worldSize]),v.scale(C,C,[1,1,this._pixelPerMeter]),this.pixelMatrix=v.multiply(new Float64Array(16),this.labelPlaneMatrix,C),v.translate(C,C,[0,0,-this.elevation]),this.projMatrix=C,this.invProjMatrix=v.invert([],C),this.pixelMatrix3D=v.multiply(new Float64Array(16),this.labelPlaneMatrix,C);const we=this.width%2/2,Fe=this.height%2/2,rt=Math.cos(this.angle),Mt=Math.sin(this.angle),He=d-Math.round(d)+rt*we+Mt*Fe,Ct=_-Math.round(_)+rt*Fe+Mt*we,Lt=new Float64Array(C);if(v.translate(Lt,Lt,[He>.5?He-1:He,Ct>.5?Ct-1:Ct,0]),this.alignedProjMatrix=Lt,C=v.invert(new Float64Array(16),this.pixelMatrix),!C)throw new Error("failed to invert matrix");this.pixelMatrixInverse=C,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const i=this.pointCoordinate(new v.Point(0,0)),d=[i.x*this.worldSize,i.y*this.worldSize,0,1];return v.transformMat4(d,d,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const i=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new v.Point(0,i))}getCameraQueryGeometry(i){const d=this.getCameraPoint();if(1===i.length)return[i[0],d];{let _=d.x,C=d.y,h=d.x,b=d.y;for(const y of i)_=Math.min(_,y.x),C=Math.min(C,y.y),h=Math.max(h,y.x),b=Math.max(b,y.y);return[new v.Point(_,C),new v.Point(h,C),new v.Point(h,b),new v.Point(_,b),new v.Point(_,C)]}}}class po{constructor(i){this._hashName=i&&encodeURIComponent(i),v.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=function(d,_){let C=!1,h=null;const b=()=>{h=null,C&&(d(),h=setTimeout(b,300),C=!1)};return()=>(C=!0,h||b(),h)}(this._updateHashUnthrottled.bind(this))}addTo(i){return this._map=i,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(i){const d=this._map.getCenter(),_=Math.round(100*this._map.getZoom())/100,C=Math.ceil((_*Math.LN2+Math.log(512/360/.5))/Math.LN10),h=Math.pow(10,C),b=Math.round(d.lng*h)/h,y=Math.round(d.lat*h)/h,E=this._map.getBearing(),I=this._map.getPitch();let O="";if(O+=i?`/${b}/${y}/${_}`:`${_}/${y}/${b}`,(E||I)&&(O+="/"+Math.round(10*E)/10),I&&(O+=`/${Math.round(I)}`),this._hashName){const R=this._hashName;let W=!1;const ce=window.location.hash.slice(1).split("&").map(ye=>{const we=ye.split("=")[0];return we===R?(W=!0,`${we}=${O}`):ye}).filter(ye=>ye);return W||ce.push(`${R}=${O}`),`#${ce.join("&")}`}return`#${O}`}_getCurrentHash(){const i=window.location.hash.replace("#","");if(this._hashName){let d;return i.split("&").map(_=>_.split("=")).forEach(_=>{_[0]===this._hashName&&(d=_)}),(d&&d[1]||"").split("/")}return i.split("/")}_onHashChange(){const i=this._getCurrentHash();if(i.length>=3&&!i.some(d=>isNaN(d))){const d=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(i[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+i[2],+i[1]],zoom:+i[0],bearing:d,pitch:+(i[4]||0)}),!0}return!1}_updateHashUnthrottled(){const i=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,i)}catch{}}}const Ga={linearity:.3,easing:v.bezier(0,0,.3,1)},vs=v.extend({deceleration:2500,maxSpeed:1400},Ga),Wr=v.extend({deceleration:20,maxSpeed:1400},Ga),ka=v.extend({deceleration:1e3,maxSpeed:360},Ga),zl=v.extend({deceleration:1e3,maxSpeed:90},Ga);class Jr{constructor(i){this._map=i,this.clear()}clear(){this._inertiaBuffer=[]}record(i){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:v.exported.now(),settings:i})}_drainInertiaBuffer(){const i=this._inertiaBuffer,d=v.exported.now();for(;i.length>0&&d-i[0].time>160;)i.shift()}_onMoveEnd(i){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const d={zoom:0,bearing:0,pitch:0,pan:new v.Point(0,0),pinchAround:void 0,around:void 0};for(const{settings:h}of this._inertiaBuffer)d.zoom+=h.zoomDelta||0,d.bearing+=h.bearingDelta||0,d.pitch+=h.pitchDelta||0,h.panDelta&&d.pan._add(h.panDelta),h.around&&(d.around=h.around),h.pinchAround&&(d.pinchAround=h.pinchAround);const _=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,C={};if(d.pan.mag()){const h=Za(d.pan.mag(),_,v.extend({},vs,i||{}));C.offset=d.pan.mult(h.amount/d.pan.mag()),C.center=this._map.transform.center,No(C,h)}if(d.zoom){const h=Za(d.zoom,_,Wr);C.zoom=this._map.transform.zoom+h.amount,No(C,h)}if(d.bearing){const h=Za(d.bearing,_,ka);C.bearing=this._map.transform.bearing+v.clamp(h.amount,-179,179),No(C,h)}if(d.pitch){const h=Za(d.pitch,_,zl);C.pitch=this._map.transform.pitch+h.amount,No(C,h)}if(C.zoom||C.bearing){const h=void 0===d.pinchAround?d.around:d.pinchAround;C.around=h?this._map.unproject(h):this._map.getCenter()}return this.clear(),v.extend(C,{noMoveStart:!0})}}function No(x,i){(!x.duration||x.duration<i.duration)&&(x.duration=i.duration,x.easing=i.easing)}function Za(x,i,d){const{maxSpeed:_,linearity:C,deceleration:h}=d,b=v.clamp(x*C/(i/1e3),-_,_),y=Math.abs(b)/(h*C);return{easing:d.easing,duration:1e3*y,amount:b*(y/2)}}class _r extends v.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,d,_,C={}){const h=ie.mousePos(d.getCanvasContainer(),_),b=d.unproject(h);super(i,v.extend({point:h,lngLat:b,originalEvent:_},C)),this._defaultPrevented=!1,this.target=d}}class ks extends v.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,d,_){const C="touchend"===i?_.changedTouches:_.touches,h=ie.touchPos(d.getCanvasContainer(),C),b=h.map(E=>d.unproject(E)),y=h.reduce((E,I,O,R)=>E.add(I.div(R.length)),new v.Point(0,0));super(i,{points:h,point:y,lngLats:b,lngLat:d.unproject(y),originalEvent:_}),this._defaultPrevented=!1}}class Qr extends v.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,d,_){super(i,{originalEvent:_}),this._defaultPrevented=!1}}class Dl{constructor(i,d){this._map=i,this._clickTolerance=d.clickTolerance}reset(){delete this._mousedownPos}wheel(i){return this._firePreventable(new Qr(i.type,this._map,i))}mousedown(i,d){return this._mousedownPos=d,this._firePreventable(new _r(i.type,this._map,i))}mouseup(i){this._map.fire(new _r(i.type,this._map,i))}click(i,d){this._mousedownPos&&this._mousedownPos.dist(d)>=this._clickTolerance||this._map.fire(new _r(i.type,this._map,i))}dblclick(i){return this._firePreventable(new _r(i.type,this._map,i))}mouseover(i){this._map.fire(new _r(i.type,this._map,i))}mouseout(i){this._map.fire(new _r(i.type,this._map,i))}touchstart(i){return this._firePreventable(new ks(i.type,this._map,i))}touchmove(i){this._map.fire(new ks(i.type,this._map,i))}touchend(i){this._map.fire(new ks(i.type,this._map,i))}touchcancel(i){this._map.fire(new ks(i.type,this._map,i))}_firePreventable(i){if(this._map.fire(i),i.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Mc{constructor(i){this._map=i}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(i){this._map.fire(new _r(i.type,this._map,i))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new _r("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(i){this._delayContextMenu?this._contextMenuEvent=i:this._ignoreContextMenu||this._map.fire(new _r(i.type,this._map,i)),this._map.listens("contextmenu")&&i.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Sl{constructor(i){this._map=i}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(i){return this.transform.pointLocation(v.Point.convert(i),this._map.terrain)}}class sl{constructor(i,d){this._map=i,this._tr=new Sl(i),this._el=i.getCanvasContainer(),this._container=i.getContainer(),this._clickTolerance=d.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(i,d){this.isEnabled()&&i.shiftKey&&0===i.button&&(ie.disableDrag(),this._startPos=this._lastPos=d,this._active=!0)}mousemoveWindow(i,d){if(!this._active)return;const _=d;if(this._lastPos.equals(_)||!this._box&&_.dist(this._startPos)<this._clickTolerance)return;const C=this._startPos;this._lastPos=_,this._box||(this._box=ie.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",i));const h=Math.min(C.x,_.x),b=Math.max(C.x,_.x),y=Math.min(C.y,_.y),E=Math.max(C.y,_.y);ie.setTransform(this._box,`translate(${h}px,${y}px)`),this._box.style.width=b-h+"px",this._box.style.height=E-y+"px"}mouseupWindow(i,d){if(!this._active||0!==i.button)return;const _=this._startPos,C=d;if(this.reset(),ie.suppressClick(),_.x!==C.x||_.y!==C.y)return this._map.fire(new v.Event("boxzoomend",{originalEvent:i})),{cameraAnimation:h=>h.fitScreenCoordinates(_,C,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",i)}keydown(i){this._active&&27===i.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",i))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(ie.remove(this._box),this._box=null),ie.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(i,d){return this._map.fire(new v.Event(i,{originalEvent:d}))}}function na(x,i){if(x.length!==i.length)throw new Error(`The number of touches and points are not equal - touches ${x.length}, points ${i.length}`);const d={};for(let _=0;_<x.length;_++)d[x[_].identifier]=i[_];return d}class Ci{constructor(i){this.reset(),this.numTouches=i.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(i,d,_){(this.centroid||_.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=i.timeStamp),_.length===this.numTouches&&(this.centroid=function(C){const h=new v.Point(0,0);for(const b of C)h._add(b);return h.div(C.length)}(d),this.touches=na(_,d)))}touchmove(i,d,_){if(this.aborted||!this.centroid)return;const C=na(_,d);for(const h in this.touches){const b=C[h];(!b||b.dist(this.touches[h])>30)&&(this.aborted=!0)}}touchend(i,d,_){if((!this.centroid||i.timeStamp-this.startTime>500)&&(this.aborted=!0),0===_.length){const C=!this.aborted&&this.centroid;if(this.reset(),C)return C}}}class Bl{constructor(i){this.singleTap=new Ci(i),this.numTaps=i.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(i,d,_){this.singleTap.touchstart(i,d,_)}touchmove(i,d,_){this.singleTap.touchmove(i,d,_)}touchend(i,d,_){const C=this.singleTap.touchend(i,d,_);if(C){const h=i.timeStamp-this.lastTime<500,b=!this.lastTap||this.lastTap.dist(C)<30;if(h&&b||this.reset(),this.count++,this.lastTime=i.timeStamp,this.lastTap=C,this.count===this.numTaps)return this.reset(),C}}}class Wa{constructor(i){this._tr=new Sl(i),this._zoomIn=new Bl({numTouches:1,numTaps:2}),this._zoomOut=new Bl({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(i,d,_){this._zoomIn.touchstart(i,d,_),this._zoomOut.touchstart(i,d,_)}touchmove(i,d,_){this._zoomIn.touchmove(i,d,_),this._zoomOut.touchmove(i,d,_)}touchend(i,d,_){const C=this._zoomIn.touchend(i,d,_),h=this._zoomOut.touchend(i,d,_),b=this._tr;return C?(this._active=!0,i.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:y=>y.easeTo({duration:300,zoom:b.zoom+1,around:b.unproject(C)},{originalEvent:i})}):h?(this._active=!0,i.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:y=>y.easeTo({duration:300,zoom:b.zoom-1,around:b.unproject(h)},{originalEvent:i})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class qn{constructor(i){this._enabled=!!i.enable,this._moveStateManager=i.moveStateManager,this._clickTolerance=i.clickTolerance||1,this._moveFunction=i.move,this._activateOnStart=!!i.activateOnStart,i.assignEvents(this),this.reset()}reset(i){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(i)}_move(...i){const d=this._moveFunction(...i);if(d.bearingDelta||d.pitchDelta||d.around||d.panDelta)return this._active=!0,d}dragStart(i,d){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(i)&&(this._moveStateManager.startMove(i),this._lastPoint=d.length?d[0]:d,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(i,d){if(!this.isEnabled())return;const _=this._lastPoint;if(!_)return;if(i.preventDefault(),!this._moveStateManager.isValidMoveEvent(i))return void this.reset(i);const C=d.length?d[0]:d;return!this._moved&&C.dist(_)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=C,this._move(_,C))}dragEnd(i){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(i)&&(this._moved&&ie.suppressClick(),this.reset(i))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const zo={0:1,2:2};class N{constructor(i){this._correctEvent=i.checkCorrectEvent}startMove(i){const d=ie.mouseButton(i);this._eventButton=d}endMove(i){delete this._eventButton}isValidStartEvent(i){return this._correctEvent(i)}isValidMoveEvent(i){return!function(d,_){const C=zo[_];return void 0===d.buttons||(d.buttons&C)!==C}(i,this._eventButton)}isValidEndEvent(i){return ie.mouseButton(i)===this._eventButton}}class Q{constructor(){this._firstTouch=void 0}_isOneFingerTouch(i){return 1===i.targetTouches.length}_isSameTouchEvent(i){return i.targetTouches[0].identifier===this._firstTouch}startMove(i){this._firstTouch=i.targetTouches[0].identifier}endMove(i){delete this._firstTouch}isValidStartEvent(i){return this._isOneFingerTouch(i)}isValidMoveEvent(i){return this._isOneFingerTouch(i)&&this._isSameTouchEvent(i)}isValidEndEvent(i){return this._isOneFingerTouch(i)&&this._isSameTouchEvent(i)}}const $=x=>{x.mousedown=x.dragStart,x.mousemoveWindow=x.dragMove,x.mouseup=x.dragEnd,x.contextmenu=function(i){i.preventDefault()}},me=({enable:x,clickTolerance:i,bearingDegreesPerPixelMoved:d=.8})=>{const _=new N({checkCorrectEvent:C=>0===ie.mouseButton(C)&&C.ctrlKey||2===ie.mouseButton(C)});return new qn({clickTolerance:i,move:(C,h)=>({bearingDelta:(h.x-C.x)*d}),moveStateManager:_,enable:x,assignEvents:$})},qe=({enable:x,clickTolerance:i,pitchDegreesPerPixelMoved:d=-.5})=>{const _=new N({checkCorrectEvent:C=>0===ie.mouseButton(C)&&C.ctrlKey||2===ie.mouseButton(C)});return new qn({clickTolerance:i,move:(C,h)=>({pitchDelta:(h.y-C.y)*d}),moveStateManager:_,enable:x,assignEvents:$})};class Pt{constructor(i,d){this._minTouches=i.cooperativeGestures?2:1,this._clickTolerance=i.clickTolerance||1,this._map=d,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new v.Point(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(i,d,_){return this._calculateTransform(i,d,_)}touchmove(i,d,_){if(this._map._cooperativeGestures&&(2===this._minTouches&&_.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(i,!1,_.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(_.length<this._minTouches))return i.preventDefault(),this._calculateTransform(i,d,_)}touchend(i,d,_){this._calculateTransform(i,d,_),this._active&&_.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(i,d,_){_.length>0&&(this._active=!0);const C=na(_,d),h=new v.Point(0,0),b=new v.Point(0,0);let y=0;for(const I in C){const O=C[I],R=this._touches[I];R&&(h._add(O),b._add(O.sub(R)),y++,C[I]=O)}if(this._touches=C,y<this._minTouches||!b.mag())return;const E=b.div(y);return this._sum._add(E),this._sum.mag()<this._clickTolerance?void 0:{around:h.div(y),panDelta:E}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class $t{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}_start(i){}_move(i,d,_){return{}}touchstart(i,d,_){this._firstTwoTouches||_.length<2||(this._firstTwoTouches=[_[0].identifier,_[1].identifier],this._start([d[0],d[1]]))}touchmove(i,d,_){if(!this._firstTwoTouches)return;i.preventDefault();const[C,h]=this._firstTwoTouches,b=Ui(_,d,C),y=Ui(_,d,h);if(!b||!y)return;const E=this._aroundCenter?null:b.add(y).div(2);return this._move([b,y],E,i)}touchend(i,d,_){if(!this._firstTwoTouches)return;const[C,h]=this._firstTwoTouches,b=Ui(_,d,C),y=Ui(_,d,h);b&&y||(this._active&&ie.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(i){this._enabled=!0,this._aroundCenter=!!i&&"center"===i.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Ui(x,i,d){for(let _=0;_<x.length;_++)if(x[_].identifier===d)return i[_]}function nr(x,i){return Math.log(x/i)/Math.LN2}class jn extends $t{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(i){this._startDistance=this._distance=i[0].dist(i[1])}_move(i,d){const _=this._distance;if(this._distance=i[0].dist(i[1]),this._active||!(Math.abs(nr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:nr(this._distance,_),pinchAround:d}}}function Rn(x,i){return 180*x.angleWith(i)/Math.PI}class Tn extends $t{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(i){this._startVector=this._vector=i[0].sub(i[1]),this._minDiameter=i[0].dist(i[1])}_move(i,d){const _=this._vector;if(this._vector=i[0].sub(i[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Rn(this._vector,_),pinchAround:d}}_isBelowThreshold(i){this._minDiameter=Math.min(this._minDiameter,i.mag());const d=25/(Math.PI*this._minDiameter)*360,_=Rn(i,this._startVector);return Math.abs(_)<d}}function yr(x){return Math.abs(x.y)>Math.abs(x.x)}class tn extends $t{constructor(i){super(),this._map=i}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(i,d,_){super.touchstart(i,d,_),this._currentTouchCount=_.length}_start(i){this._lastPoints=i,yr(i[0].sub(i[1]))&&(this._valid=!1)}_move(i,d,_){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const C=i[0].sub(this._lastPoints[0]),h=i[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(C,h,_.timeStamp),this._valid?(this._lastPoints=i,this._active=!0,{pitchDelta:(C.y+h.y)/2*-.5}):void 0}gestureBeginsVertically(i,d,_){if(void 0!==this._valid)return this._valid;const C=i.mag()>=2,h=d.mag()>=2;if(!C&&!h)return;if(!C||!h)return void 0===this._firstMove&&(this._firstMove=_),_-this._firstMove<100&&void 0;const b=i.y>0==d.y>0;return yr(i)&&yr(d)&&b}}const mr={panStep:100,bearingStep:15,pitchStep:10};class ra{constructor(i){this._tr=new Sl(i);const d=mr;this._panStep=d.panStep,this._bearingStep=d.bearingStep,this._pitchStep=d.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(i){if(i.altKey||i.ctrlKey||i.metaKey)return;let d=0,_=0,C=0,h=0,b=0;switch(i.keyCode){case 61:case 107:case 171:case 187:d=1;break;case 189:case 109:case 173:d=-1;break;case 37:i.shiftKey?_=-1:(i.preventDefault(),h=-1);break;case 39:i.shiftKey?_=1:(i.preventDefault(),h=1);break;case 38:i.shiftKey?C=1:(i.preventDefault(),b=-1);break;case 40:i.shiftKey?C=-1:(i.preventDefault(),b=1);break;default:return}return this._rotationDisabled&&(_=0,C=0),{cameraAnimation:y=>{const E=this._tr;y.easeTo({duration:300,easeId:"keyboardHandler",easing:Yi,zoom:d?Math.round(E.zoom)+d*(i.shiftKey?2:1):E.zoom,bearing:E.bearing+_*this._bearingStep,pitch:E.pitch+C*this._pitchStep,offset:[-h*this._panStep,-b*this._panStep],center:E.center},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Yi(x){return x*(2-x)}const bs=4.000244140625;class xs{constructor(i,d){this._map=i,this._tr=new Sl(i),this._el=i.getCanvasContainer(),this._handler=d,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,v.bindAll(["_onTimeout"],this)}setZoomRate(i){this._defaultZoomRate=i}setWheelZoomRate(i){this._wheelZoomRate=i}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(i){this.isEnabled()||(this._enabled=!0,this._aroundCenter=i&&"center"===i.around)}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(i){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!i[this._map._metaKey])return;i.preventDefault()}let d=i.deltaMode===WheelEvent.DOM_DELTA_LINE?40*i.deltaY:i.deltaY;const _=v.exported.now(),C=_-(this._lastWheelEventTime||0);this._lastWheelEventTime=_,0!==d&&d%bs==0?this._type="wheel":0!==d&&Math.abs(d)<4?this._type="trackpad":C>400?(this._type=null,this._lastValue=d,this._timeout=setTimeout(this._onTimeout,40,i)):this._type||(this._type=Math.abs(C*d)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,d+=this._lastValue)),i.shiftKey&&d&&(d/=4),this._type&&(this._lastWheelEvent=i,this._delta-=d,this._active||this._start(i)),i.preventDefault()}_onTimeout(i){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(i)}_start(i){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const d=ie.mousePos(this._el,i),_=this._tr;this._around=v.LngLat.convert(this._aroundCenter?_.center:_.unproject(d)),this._aroundPoint=_.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const i=this._tr.transform;if(0!==this._delta){const y="wheel"===this._type&&Math.abs(this._delta)>bs?this._wheelZoomRate:this._defaultZoomRate;let E=2/(1+Math.exp(-Math.abs(this._delta*y)));this._delta<0&&0!==E&&(E=1/E);const I="number"==typeof this._targetZoom?i.zoomScale(this._targetZoom):i.scale;this._targetZoom=Math.min(i.maxZoom,Math.max(i.minZoom,i.scaleZoom(I*E))),"wheel"===this._type&&(this._startZoom=i.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const d="number"==typeof this._targetZoom?this._targetZoom:i.zoom,_=this._startZoom,C=this._easing;let h,b=!1;if("wheel"===this._type&&_&&C){const y=Math.min((v.exported.now()-this._lastWheelEventTime)/200,1),E=C(y);h=v.interpolate.number(_,d,E),y<1?this._frameId||(this._frameId=!0):b=!0}else h=d,b=!0;return this._active=!0,b&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!b,zoomDelta:h-i.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(i){let d=v.ease;if(this._prevEase){const _=this._prevEase,C=(v.exported.now()-_.start)/_.duration,h=_.easing(C+.01)-_.easing(C),b=.27/Math.sqrt(h*h+1e-4)*.01,y=Math.sqrt(.0729-b*b);d=v.bezier(b,y,.25,1)}return this._prevEase={start:v.exported.now(),duration:i,easing:d},d}reset(){this._active=!1}}class jr{constructor(i,d){this._clickZoom=i,this._tapZoom=d}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class fo{constructor(i){this._tr=new Sl(i),this.reset()}reset(){this._active=!1}dblclick(i,d){return i.preventDefault(),{cameraAnimation:_=>{_.easeTo({duration:300,zoom:this._tr.zoom+(i.shiftKey?-1:1),around:this._tr.unproject(d)},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Xn{constructor(){this._tap=new Bl({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}touchstart(i,d,_){this._swipePoint||(this._tapTime&&i.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?_.length>0&&(this._swipePoint=d[0],this._swipeTouch=_[0].identifier):this._tap.touchstart(i,d,_))}touchmove(i,d,_){if(this._tapTime){if(this._swipePoint){if(_[0].identifier!==this._swipeTouch)return;const C=d[0],h=C.y-this._swipePoint.y;return this._swipePoint=C,i.preventDefault(),this._active=!0,{zoomDelta:h/128}}}else this._tap.touchmove(i,d,_)}touchend(i,d,_){this._tapTime?this._swipePoint&&0===_.length&&this.reset():this._tap.touchend(i,d,_)&&(this._tapTime=i.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class un{constructor(i,d,_){this._el=i,this._mousePan=d,this._touchPan=_}enable(i){this._inertiaOptions=i||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Pa{constructor(i,d,_){this._pitchWithRotate=i.pitchWithRotate,this._mouseRotate=d,this._mousePitch=_}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Dc{constructor(i,d,_,C){this._el=i,this._touchZoom=d,this._touchRotate=_,this._tapDragZoom=C,this._rotationDisabled=!1,this._enabled=!0}enable(i){this._touchZoom.enable(i),this._rotationDisabled||this._touchRotate.enable(i),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Vl=x=>x.zoom||x.drag||x.pitch||x.rotate;class $d extends v.Event{}function Sc(x){return x.panDelta&&x.panDelta.mag()||x.zoomDelta||x.bearingDelta||x.pitchDelta}class eo{constructor(i,d){this._map=i,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Jr(i),this._bearingSnap=d.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(d),v.bindAll(["handleEvent","handleWindowEvent"],this);const _=this._el;this._listeners=[[_,"touchstart",{passive:!0}],[_,"touchmove",{passive:!1}],[_,"touchend",void 0],[_,"touchcancel",void 0],[_,"mousedown",void 0],[_,"mousemove",void 0],[_,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[_,"mouseover",void 0],[_,"mouseout",void 0],[_,"dblclick",void 0],[_,"click",void 0],[_,"keydown",{capture:!1}],[_,"keyup",void 0],[_,"wheel",{passive:!1}],[_,"contextmenu",void 0],[window,"blur",void 0]];for(const[C,h,b]of this._listeners)ie.addEventListener(C,h,C===document?this.handleWindowEvent:this.handleEvent,b)}destroy(){for(const[i,d,_]of this._listeners)ie.removeEventListener(i,d,i===document?this.handleWindowEvent:this.handleEvent,_)}_addDefaultHandlers(i){const d=this._map,_=d.getCanvasContainer();this._add("mapEvent",new Dl(d,i));const C=d.boxZoom=new sl(d,i);this._add("boxZoom",C);const h=new Wa(d),b=new fo(d);d.doubleClickZoom=new jr(b,h),this._add("tapZoom",h),this._add("clickZoom",b);const y=new Xn;this._add("tapDragZoom",y);const E=d.touchPitch=new tn(d);this._add("touchPitch",E);const I=me(i),O=qe(i);d.dragRotate=new Pa(i,I,O),this._add("mouseRotate",I,["mousePitch"]),this._add("mousePitch",O,["mouseRotate"]);const R=(({enable:rt,clickTolerance:Mt})=>{const He=new N({checkCorrectEvent:Ct=>0===ie.mouseButton(Ct)&&!Ct.ctrlKey});return new qn({clickTolerance:Mt,move:(Ct,Lt)=>({around:Lt,panDelta:Lt.sub(Ct)}),activateOnStart:!0,moveStateManager:He,enable:rt,assignEvents:$})})(i),W=new Pt(i,d);d.dragPan=new un(_,R,W),this._add("mousePan",R),this._add("touchPan",W,["touchZoom","touchRotate"]);const ce=new Tn,ye=new jn;d.touchZoomRotate=new Dc(_,ye,ce,y),this._add("touchRotate",ce,["touchPan","touchZoom"]),this._add("touchZoom",ye,["touchPan","touchRotate"]);const we=d.scrollZoom=new xs(d,this);this._add("scrollZoom",we,["mousePan"]);const Fe=d.keyboard=new ra(d);this._add("keyboard",Fe),this._add("blockableMapEvent",new Mc(d));for(const rt of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])i.interactive&&i[rt]&&d[rt].enable(i[rt])}_add(i,d,_){this._handlers.push({handlerName:i,handler:d,allowed:_}),this._handlersById[i]=d}stop(i){if(!this._updatingCamera){for(const{handler:d}of this._handlers)d.reset();this._inertia.clear(),this._fireEvents({},{},i),this._changes=[]}}isActive(){for(const{handler:i}of this._handlers)if(i.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Vl(this._eventsInProgress)||this.isZooming()}_blockedByActive(i,d,_){for(const C in i)if(C!==_&&(!d||d.indexOf(C)<0))return!0;return!1}handleWindowEvent(i){this.handleEvent(i,`${i.type}Window`)}_getMapTouches(i){const d=[];for(const _ of i)this._el.contains(_.target)&&d.push(_);return d}handleEvent(i,d){if("blur"===i.type)return void this.stop(!0);this._updatingCamera=!0;const _="renderFrame"===i.type?void 0:i,C={needsRenderFrame:!1},h={},b={},y=i.touches,E=y?this._getMapTouches(y):void 0,I=E?ie.touchPos(this._el,E):ie.mousePos(this._el,i);for(const{handlerName:W,handler:ce,allowed:ye}of this._handlers){if(!ce.isEnabled())continue;let we;this._blockedByActive(b,ye,W)?ce.reset():ce[d||i.type]&&(we=ce[d||i.type](i,I,E),this.mergeHandlerResult(C,h,we,W,_),we&&we.needsRenderFrame&&this._triggerRenderFrame()),(we||ce.isActive())&&(b[W]=ce)}const O={};for(const W in this._previousActiveHandlers)b[W]||(O[W]=_);this._previousActiveHandlers=b,(Object.keys(O).length||Sc(C))&&(this._changes.push([C,h,O]),this._triggerRenderFrame()),(Object.keys(b).length||Sc(C))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:R}=C;R&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],R(this._map))}mergeHandlerResult(i,d,_,C,h){if(!_)return;v.extend(i,_);const b={handlerName:C,originalEvent:_.originalEvent||h};void 0!==_.zoomDelta&&(d.zoom=b),void 0!==_.panDelta&&(d.drag=b),void 0!==_.pitchDelta&&(d.pitch=b),void 0!==_.bearingDelta&&(d.rotate=b)}_applyChanges(){const i={},d={},_={};for(const[C,h,b]of this._changes)C.panDelta&&(i.panDelta=(i.panDelta||new v.Point(0,0))._add(C.panDelta)),C.zoomDelta&&(i.zoomDelta=(i.zoomDelta||0)+C.zoomDelta),C.bearingDelta&&(i.bearingDelta=(i.bearingDelta||0)+C.bearingDelta),C.pitchDelta&&(i.pitchDelta=(i.pitchDelta||0)+C.pitchDelta),void 0!==C.around&&(i.around=C.around),void 0!==C.pinchAround&&(i.pinchAround=C.pinchAround),C.noInertia&&(i.noInertia=C.noInertia),v.extend(d,h),v.extend(_,b);this._updateMapTransform(i,d,_),this._changes=[]}_updateMapTransform(i,d,_){const C=this._map,h=C._getTransformForUpdate(),b=C.terrain;if(!(Sc(i)||b&&this._terrainMovement))return this._fireEvents(d,_,!0);let{panDelta:y,zoomDelta:E,bearingDelta:I,pitchDelta:O,around:R,pinchAround:W}=i;void 0!==W&&(R=W),C._stop(!0),R=R||C.transform.centerPoint;const ce=h.pointLocation(y?R.sub(y):R);I&&(h.bearing+=I),O&&(h.pitch+=O),E&&(h.zoom+=E),b?this._terrainMovement||!d.drag&&!d.zoom?d.drag&&this._terrainMovement?h.center=h.pointLocation(h.centerPoint.sub(y)):h.setLocationAtPoint(ce,R):(this._terrainMovement=!0,h.freezeElevation=!0,h.setLocationAtPoint(ce,R),this._map.once("moveend",()=>{h.freezeElevation=!1,this._terrainMovement=!1,h.recalculateZoom(C.terrain)})):h.setLocationAtPoint(ce,R),C._applyUpdatedTransform(h),this._map._update(),i.noInertia||this._inertia.record(i),this._fireEvents(d,_,!0)}_fireEvents(i,d,_){const C=Vl(this._eventsInProgress),h=Vl(i),b={};for(const O in i){const{originalEvent:R}=i[O];this._eventsInProgress[O]||(b[`${O}start`]=R),this._eventsInProgress[O]=i[O]}!C&&h&&this._fireEvent("movestart",h.originalEvent);for(const O in b)this._fireEvent(O,b[O]);h&&this._fireEvent("move",h.originalEvent);for(const O in i){const{originalEvent:R}=i[O];this._fireEvent(O,R)}const y={};let E;for(const O in this._eventsInProgress){const{handlerName:R,originalEvent:W}=this._eventsInProgress[O];this._handlersById[R].isActive()||(delete this._eventsInProgress[O],E=d[R]||W,y[`${O}end`]=E)}for(const O in y)this._fireEvent(O,y[O]);const I=Vl(this._eventsInProgress);if(_&&(C||h)&&!I){this._updatingCamera=!0;const O=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),R=W=>0!==W&&-this._bearingSnap<W&&W<this._bearingSnap;O?(R(O.bearing||this._map.getBearing())&&(O.bearing=0),O.freezeElevation=!0,this._map.easeTo(O,{originalEvent:E})):(this._map.fire(new v.Event("moveend",{originalEvent:E})),R(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(i,d){this._map.fire(new v.Event(i,d?{originalEvent:d}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(i=>{delete this._frameId,this.handleEvent(new $d("renderFrame",{timeStamp:i})),this._applyChanges()})}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}const ni={extend:(x,...i)=>v.extend(x,...i),run(x){x()},logToElement(x,i=!1,d="log"){const _=window.document.getElementById(d);_&&(i&&(_.innerHTML=""),_.innerHTML+=`<br>${x}`)}};class ui extends v.Evented{constructor(i,d){super(),this._moving=!1,this._zooming=!1,this.transform=i,this._bearingSnap=d.bearingSnap,v.bindAll(["_renderFrameCallback"],this),this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new v.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(i,d){return this.jumpTo({center:i},d)}panBy(i,d,_){return i=v.Point.convert(i).mult(-1),this.panTo(this.transform.center,v.extend({offset:i},d),_)}panTo(i,d,_){return this.easeTo(v.extend({center:i},d),_)}getZoom(){return this.transform.zoom}setZoom(i,d){return this.jumpTo({zoom:i},d),this}zoomTo(i,d,_){return this.easeTo(v.extend({zoom:i},d),_)}zoomIn(i,d){return this.zoomTo(this.getZoom()+1,i,d),this}zoomOut(i,d){return this.zoomTo(this.getZoom()-1,i,d),this}getBearing(){return this.transform.bearing}setBearing(i,d){return this.jumpTo({bearing:i},d),this}getPadding(){return this.transform.padding}setPadding(i,d){return this.jumpTo({padding:i},d),this}rotateTo(i,d,_){return this.easeTo(v.extend({bearing:i},d),_)}resetNorth(i,d){return this.rotateTo(0,v.extend({duration:1e3},i),d),this}resetNorthPitch(i,d){return this.easeTo(v.extend({bearing:0,pitch:0,duration:1e3},i),d),this}snapToNorth(i,d){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(i,d):this}getPitch(){return this.transform.pitch}setPitch(i,d){return this.jumpTo({pitch:i},d),this}cameraForBounds(i,d){i=kt.convert(i);const _=d&&d.bearing||0;return this._cameraForBoxAndBearing(i.getNorthWest(),i.getSouthEast(),_,d)}_cameraForBoxAndBearing(i,d,_,C){const h={top:0,bottom:0,right:0,left:0};if("number"==typeof(C=v.extend({padding:h,offset:[0,0],maxZoom:this.transform.maxZoom},C)).padding){const Lt=C.padding;C.padding={top:Lt,bottom:Lt,right:Lt,left:Lt}}C.padding=v.extend(h,C.padding);const b=this.transform,y=b.padding,E=b.project(v.LngLat.convert(i)),I=b.project(v.LngLat.convert(d)),O=E.rotate(-_*Math.PI/180),R=I.rotate(-_*Math.PI/180),W=new v.Point(Math.max(O.x,R.x),Math.max(O.y,R.y)),ce=new v.Point(Math.min(O.x,R.x),Math.min(O.y,R.y)),ye=W.sub(ce),we=(b.width-(y.left+y.right+C.padding.left+C.padding.right))/ye.x,Fe=(b.height-(y.top+y.bottom+C.padding.top+C.padding.bottom))/ye.y;if(Fe<0||we<0)return void v.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const rt=Math.min(b.scaleZoom(b.scale*Math.min(we,Fe)),C.maxZoom),Mt=v.Point.convert(C.offset),He=new v.Point((C.padding.left-C.padding.right)/2,(C.padding.top-C.padding.bottom)/2).rotate(_*Math.PI/180),Ct=Mt.add(He).mult(b.scale/b.zoomScale(rt));return{center:b.unproject(E.add(I).div(2).sub(Ct)),zoom:rt,bearing:_}}fitBounds(i,d,_){return this._fitInternal(this.cameraForBounds(i,d),d,_)}fitScreenCoordinates(i,d,_,C,h){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(v.Point.convert(i)),this.transform.pointLocation(v.Point.convert(d)),_,C),C,h)}_fitInternal(i,d,_){return i?(delete(d=v.extend(i,d)).padding,d.linear?this.easeTo(d,_):this.flyTo(d,_)):this}jumpTo(i,d){this.stop();const _=this._getTransformForUpdate();let C=!1,h=!1,b=!1;return"zoom"in i&&_.zoom!==+i.zoom&&(C=!0,_.zoom=+i.zoom),void 0!==i.center&&(_.center=v.LngLat.convert(i.center)),"bearing"in i&&_.bearing!==+i.bearing&&(h=!0,_.bearing=+i.bearing),"pitch"in i&&_.pitch!==+i.pitch&&(b=!0,_.pitch=+i.pitch),null==i.padding||_.isPaddingEqual(i.padding)||(_.padding=i.padding),this._applyUpdatedTransform(_),this.fire(new v.Event("movestart",d)).fire(new v.Event("move",d)),C&&this.fire(new v.Event("zoomstart",d)).fire(new v.Event("zoom",d)).fire(new v.Event("zoomend",d)),h&&this.fire(new v.Event("rotatestart",d)).fire(new v.Event("rotate",d)).fire(new v.Event("rotateend",d)),b&&this.fire(new v.Event("pitchstart",d)).fire(new v.Event("pitch",d)).fire(new v.Event("pitchend",d)),this.fire(new v.Event("moveend",d))}calculateCameraOptionsFromTo(i,d,_,C=0){const h=v.MercatorCoordinate.fromLngLat(i,d),b=v.MercatorCoordinate.fromLngLat(_,C),y=b.x-h.x,E=b.y-h.y,I=b.z-h.z,O=Math.hypot(y,E,I);if(0===O)throw new Error("Can't calculate camera options with same From and To");const R=Math.hypot(y,E),W=this.transform.scaleZoom(this.transform.cameraToCenterDistance/O/this.transform.tileSize),ce=180*Math.atan2(y,-E)/Math.PI;let ye=180*Math.acos(R/O)/Math.PI;return ye=I<0?90-ye:90+ye,{center:b.toLngLat(),zoom:W,pitch:ye,bearing:ce}}easeTo(i,d){this._stop(!1,i.easeId),(!1===(i=v.extend({offset:[0,0],duration:500,easing:v.ease},i)).animate||!i.essential&&v.exported.prefersReducedMotion)&&(i.duration=0);const _=this._getTransformForUpdate(),C=this.getZoom(),h=this.getBearing(),b=this.getPitch(),y=this.getPadding(),E="zoom"in i?+i.zoom:C,I="bearing"in i?this._normalizeBearing(i.bearing,h):h,O="pitch"in i?+i.pitch:b,R="padding"in i?i.padding:_.padding,W=v.Point.convert(i.offset);let ce=_.centerPoint.add(W);const ye=_.pointLocation(ce),we=v.LngLat.convert(i.center||ye);this._normalizeCenter(we);const Fe=_.project(ye),rt=_.project(we).sub(Fe),Mt=_.zoomScale(E-C);let He,Ct;i.around&&(He=v.LngLat.convert(i.around),Ct=_.locationPoint(He));const Lt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||E!==C,this._rotating=this._rotating||h!==I,this._pitching=this._pitching||O!==b,this._padding=!_.isPaddingEqual(R),this._easeId=i.easeId,this._prepareEase(d,i.noMoveStart,Lt),this.terrain&&this._prepareElevation(we),this._ease(Wt=>{if(this._zooming&&(_.zoom=v.interpolate.number(C,E,Wt)),this._rotating&&(_.bearing=v.interpolate.number(h,I,Wt)),this._pitching&&(_.pitch=v.interpolate.number(b,O,Wt)),this._padding&&(_.interpolatePadding(y,R,Wt),ce=_.centerPoint.add(W)),this.terrain&&!i.freezeElevation&&this._updateElevation(Wt),He)_.setLocationAtPoint(He,Ct);else{const oi=_.zoomScale(_.zoom-C),fi=E>C?Math.min(2,Mt):Math.max(.5,Mt),ci=Math.pow(fi,1-Wt),Ii=_.unproject(Fe.add(rt.mult(Wt*ci)).mult(oi));_.setLocationAtPoint(_.renderWorldCopies?Ii.wrap():Ii,ce)}this._applyUpdatedTransform(_),this._fireMoveEvents(d)},Wt=>{this.terrain&&this._finalizeElevation(),this._afterEase(d,Wt)},i),this}_prepareEase(i,d,_={}){this._moving=!0,d||_.moving||this.fire(new v.Event("movestart",i)),this._zooming&&!_.zooming&&this.fire(new v.Event("zoomstart",i)),this._rotating&&!_.rotating&&this.fire(new v.Event("rotatestart",i)),this._pitching&&!_.pitching&&this.fire(new v.Event("pitchstart",i))}_prepareElevation(i){this._elevationCenter=i,this._elevationStart=this.transform.elevation,this._elevationTarget=this.transform.getElevation(i,this.terrain),this.transform.freezeElevation=!0}_updateElevation(i){const d=this.transform.getElevation(this._elevationCenter,this.terrain);if(i<1&&d!==this._elevationTarget){const _=this._elevationTarget-this._elevationStart;this._elevationStart+=i*(_-(d-(_*i+this._elevationStart))/(1-i)),this._elevationTarget=d}this.transform.elevation=v.interpolate.number(this._elevationStart,this._elevationTarget,i)}_finalizeElevation(){this.transform.freezeElevation=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(i){if(!this.transformCameraUpdate)return;const d=i.clone(),{center:_,zoom:C,pitch:h,bearing:b,elevation:y}=this.transformCameraUpdate(d);_&&(d.center=_),void 0!==C&&(d.zoom=C),void 0!==h&&(d.pitch=h),void 0!==b&&(d.bearing=b),void 0!==y&&(d.elevation=y),this.transform.apply(d)}_fireMoveEvents(i){this.fire(new v.Event("move",i)),this._zooming&&this.fire(new v.Event("zoom",i)),this._rotating&&this.fire(new v.Event("rotate",i)),this._pitching&&this.fire(new v.Event("pitch",i))}_afterEase(i,d){if(this._easeId&&d&&this._easeId===d)return;delete this._easeId;const _=this._zooming,C=this._rotating,h=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,_&&this.fire(new v.Event("zoomend",i)),C&&this.fire(new v.Event("rotateend",i)),h&&this.fire(new v.Event("pitchend",i)),this.fire(new v.Event("moveend",i))}flyTo(i,d){if(!i.essential&&v.exported.prefersReducedMotion){const Ri=v.pick(i,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Ri,d)}this.stop(),i=v.extend({offset:[0,0],speed:1.2,curve:1.42,easing:v.ease},i);const _=this._getTransformForUpdate(),C=this.getZoom(),h=this.getBearing(),b=this.getPitch(),y=this.getPadding(),E="zoom"in i?v.clamp(+i.zoom,_.minZoom,_.maxZoom):C,I="bearing"in i?this._normalizeBearing(i.bearing,h):h,O="pitch"in i?+i.pitch:b,R="padding"in i?i.padding:_.padding,W=_.zoomScale(E-C),ce=v.Point.convert(i.offset);let ye=_.centerPoint.add(ce);const we=_.pointLocation(ye),Fe=v.LngLat.convert(i.center||we);this._normalizeCenter(Fe);const rt=_.project(we),Mt=_.project(Fe).sub(rt);let He=i.curve;const Ct=Math.max(_.width,_.height),Lt=Ct/W,Wt=Mt.mag();if("minZoom"in i){const Ri=v.clamp(Math.min(i.minZoom,C,E),_.minZoom,_.maxZoom),Qn=Ct/_.zoomScale(Ri-C);He=Math.sqrt(Qn/Wt*2)}const oi=He*He;function fi(Ri){const Qn=(Lt*Lt-Ct*Ct+(Ri?-1:1)*oi*oi*Wt*Wt)/(2*(Ri?Lt:Ct)*oi*Wt);return Math.log(Math.sqrt(Qn*Qn+1)-Qn)}function ci(Ri){return(Math.exp(Ri)-Math.exp(-Ri))/2}function Ii(Ri){return(Math.exp(Ri)+Math.exp(-Ri))/2}const Gi=fi(0);let _n=function(Ri){return Ii(Gi)/Ii(Gi+He*Ri)},bi=function(Ri){return Ct*((Ii(Gi)*(ci(Qn=Gi+He*Ri)/Ii(Qn))-ci(Gi))/oi)/Wt;var Qn},sn=(fi(1)-Gi)/He;if(Math.abs(Wt)<1e-6||!isFinite(sn)){if(Math.abs(Ct-Lt)<1e-6)return this.easeTo(i,d);const Ri=Lt<Ct?-1:1;sn=Math.abs(Math.log(Lt/Ct))/He,bi=function(){return 0},_n=function(Qn){return Math.exp(Ri*He*Qn)}}return i.duration="duration"in i?+i.duration:1e3*sn/("screenSpeed"in i?+i.screenSpeed/He:+i.speed),i.maxDuration&&i.duration>i.maxDuration&&(i.duration=0),this._zooming=!0,this._rotating=h!==I,this._pitching=O!==b,this._padding=!_.isPaddingEqual(R),this._prepareEase(d,!1),this.terrain&&this._prepareElevation(Fe),this._ease(Ri=>{const Qn=Ri*sn,qr=1/_n(Qn);_.zoom=1===Ri?E:C+_.scaleZoom(qr),this._rotating&&(_.bearing=v.interpolate.number(h,I,Ri)),this._pitching&&(_.pitch=v.interpolate.number(b,O,Ri)),this._padding&&(_.interpolatePadding(y,R,Ri),ye=_.centerPoint.add(ce)),this.terrain&&!i.freezeElevation&&this._updateElevation(Ri);const rr=1===Ri?Fe:_.unproject(rt.add(Mt.mult(bi(Qn))).mult(qr));_.setLocationAtPoint(_.renderWorldCopies?rr.wrap():rr,ye),this._applyUpdatedTransform(_),this._fireMoveEvents(d)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(d)},i),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(i,d){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const _=this._onEaseEnd;delete this._onEaseEnd,_.call(this,d)}if(!i){const _=this.handlers;_&&_.stop(!1)}return this}_ease(i,d,_){!1===_.animate||0===_.duration?(i(1),d()):(this._easeStart=v.exported.now(),this._easeOptions=_,this._onEaseFrame=i,this._onEaseEnd=d,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const i=Math.min((v.exported.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(i)),i<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(i,d){i=v.wrap(i,-180,180);const _=Math.abs(i-d);return Math.abs(i-360-d)<_&&(i-=360),Math.abs(i+360-d)<_&&(i+=360),i}_normalizeCenter(i){const d=this.transform;if(!d.renderWorldCopies||d.lngRange)return;const _=i.lng-d.center.lng;i.lng+=_>180?-360:_<-180?360:0}queryTerrainElevation(i){return this.terrain?this.transform.getElevation(v.LngLat.convert(i),this.terrain)-this.transform.elevation:null}}class Ki{constructor(i={}){this.options=i,v.bindAll(["_toggleAttribution","_updateData","_updateCompact","_updateCompactMinimize"],this)}getDefaultPosition(){return"bottom-right"}onAdd(i){return this._map=i,this._compact=this.options&&this.options.compact,this._container=ie.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=ie.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=ie.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){ie.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(i,d){const _=this._map._getUIString(`AttributionControl.${d}`);i.title=_,i.setAttribute("aria-label",_)}_toggleAttribution(){this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))}_updateData(i){!i||"metadata"!==i.sourceDataType&&"visibility"!==i.sourceDataType&&"style"!==i.dataType&&"terrain"!==i.type||this._updateAttributions()}_updateAttributions(){if(!this._map.style)return;let i=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?i=i.concat(this.options.customAttribution.map(C=>"string"!=typeof C?"":C)):"string"==typeof this.options.customAttribution&&i.push(this.options.customAttribution)),this._map.style.stylesheet){const C=this._map.style.stylesheet;this.styleOwner=C.owner,this.styleId=C.id}const d=this._map.style.sourceCaches;for(const C in d){const h=d[C];if(h.used||h.usedForTerrain){const b=h.getSource();b.attribution&&i.indexOf(b.attribution)<0&&i.push(b.attribution)}}i=i.filter(C=>String(C).trim()),i.sort((C,h)=>C.length-h.length),i=i.filter((C,h)=>{for(let b=h+1;b<i.length;b++)if(i[b].indexOf(C)>=0)return!1;return!0});const _=i.join(" | ");_!==this._attribHTML&&(this._attribHTML=_,i.length?(this._innerContainer.innerHTML=_,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1===this._compact?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))}_updateCompactMinimize(){this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")}}class ws{constructor(i={}){this.options=i,v.bindAll(["_updateCompact"],this)}getDefaultPosition(){return"bottom-left"}onAdd(i){this._map=i,this._compact=this.options&&this.options.compact,this._container=ie.create("div","maplibregl-ctrl");const d=ie.create("a","maplibregl-ctrl-logo");return d.target="_blank",d.rel="noopener nofollow",d.href="https://maplibre.org/",d.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),d.setAttribute("rel","noopener nofollow"),this._container.appendChild(d),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){ie.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}_updateCompact(){const i=this._container.children;if(i.length){const d=i[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1!==this._compact&&d.classList.add("maplibregl-compact"):d.classList.remove("maplibregl-compact")}}}class yo{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(i){const d=++this._id;return this._queue.push({callback:i,id:d,cancelled:!1}),d}remove(i){const d=this._currentlyRunning,_=d?this._queue.concat(d):this._queue;for(const C of _)if(C.id===i)return void(C.cancelled=!0)}run(i=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const d=this._currentlyRunning=this._queue;this._queue=[];for(const _ of d)if(!_.cancelled&&(_.callback(i),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const al={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"};var Bo=v.createLayout([{name:"a_pos3d",type:"Int16",components:3}]);class ga extends v.Evented{constructor(i){super(),this.sourceCache=i,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,i.usedForTerrain=!0,i.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(i,d){this.sourceCache.update(i,d),this._renderableTilesKeys=[];const _={};for(const C of i.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:d}))_[C.key]=!0,this._renderableTilesKeys.push(C.key),this._tiles[C.key]||(C.posMatrix=new Float64Array(16),v.ortho(C.posMatrix,0,v.EXTENT,0,v.EXTENT,0,1),this._tiles[C.key]=new St(C,this.tileSize));for(const C in this._tiles)_[C]||delete this._tiles[C]}freeRtt(i){for(const d in this._tiles){const _=this._tiles[d];(!i||_.tileID.equals(i)||_.tileID.isChildOf(i)||i.isChildOf(_.tileID))&&(_.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(i=>this.getTileByID(i))}getTileByID(i){return this._tiles[i]}getTerrainCoords(i){const d={};for(const _ of this._renderableTilesKeys){const C=this._tiles[_].tileID;if(C.canonical.equals(i.canonical)){const h=i.clone();h.posMatrix=new Float64Array(16),v.ortho(h.posMatrix,0,v.EXTENT,0,v.EXTENT,0,1),d[_]=h}else if(C.canonical.isChildOf(i.canonical)){const h=i.clone();h.posMatrix=new Float64Array(16);const b=C.canonical.z-i.canonical.z,y=C.canonical.x-(C.canonical.x>>b<<b),E=C.canonical.y-(C.canonical.y>>b<<b),I=v.EXTENT>>b;v.ortho(h.posMatrix,0,I,0,I,0,1),v.translate(h.posMatrix,h.posMatrix,[-y*I,-E*I,0]),d[_]=h}else if(i.canonical.isChildOf(C.canonical)){const h=i.clone();h.posMatrix=new Float64Array(16);const b=i.canonical.z-C.canonical.z,y=i.canonical.x-(i.canonical.x>>b<<b),E=i.canonical.y-(i.canonical.y>>b<<b),I=v.EXTENT>>b;v.ortho(h.posMatrix,0,v.EXTENT,0,v.EXTENT,0,1),v.translate(h.posMatrix,h.posMatrix,[y*I,E*I,0]),v.scale(h.posMatrix,h.posMatrix,[1/2**b,1/2**b,0]),d[_]=h}}return d}getSourceTile(i,d){const _=this.sourceCache._source;let C=i.overscaledZ-this.deltaZoom;if(C>_.maxzoom&&(C=_.maxzoom),C<_.minzoom)return null;this._sourceTileCache[i.key]||(this._sourceTileCache[i.key]=i.scaledTo(C).key);let h=this.sourceCache.getTileByID(this._sourceTileCache[i.key]);if((!h||!h.dem)&&d)for(;C>=_.minzoom&&(!h||!h.dem);)h=this.sourceCache.getTileByID(i.scaledTo(C--).key);return h}tilesAfterTime(i=Date.now()){return Object.values(this._tiles).filter(d=>d.timeAdded>=i)}}class Ps{constructor(i,d,_){this.painter=i,this.sourceCache=new ga(d),this.options=_,this.exaggeration="number"==typeof _.exaggeration?_.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(i,d,_,C=v.EXTENT){if(!(d>=0&&d<C&&_>=0&&_<C))return 0;let h=0;const b=this.getTerrainData(i);if(b.tile&&b.tile.dem){const y=((ye=[])[0]=(Fe=b.u_terrain_matrix)[0]*(rt=(we=[d/C*v.EXTENT,_/C*v.EXTENT])[0])+Fe[4]*(Mt=we[1])+Fe[12],ye[1]=Fe[1]*rt+Fe[5]*Mt+Fe[13],ye),E=[y[0]*b.tile.dem.dim,y[1]*b.tile.dem.dim],I=[Math.floor(E[0]),Math.floor(E[1])],O=b.tile.dem.get(I[0],I[1]),R=b.tile.dem.get(I[0],I[1]+1),W=b.tile.dem.get(I[0]+1,I[1]),ce=b.tile.dem.get(I[0]+1,I[1]+1);h=v.interpolate.number(v.interpolate.number(O,R,E[0]-I[0]),v.interpolate.number(W,ce,E[0]-I[0]),E[1]-I[1])}var ye,we,Fe,rt,Mt;return h}getElevation(i,d,_,C=v.EXTENT){return this.getDEMElevation(i,d,_,C)*this.exaggeration}getTerrainData(i){if(!this._emptyDemTexture){const C=this.painter.context,h=new v.RGBAImage({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new gt(C,h,C.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new gt(C,new v.RGBAImage({width:1,height:1}),C.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(C.gl.NEAREST,C.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=v.identity([])}const d=this.sourceCache.getSourceTile(i,!0);if(d&&d.dem&&(!d.demTexture||d.needsTerrainPrepare)){const C=this.painter.context;d.demTexture=this.painter.getTileTexture(d.dem.stride),d.demTexture?d.demTexture.update(d.dem.getPixels(),{premultiply:!1}):d.demTexture=new gt(C,d.dem.getPixels(),C.gl.RGBA,{premultiply:!1}),d.demTexture.bind(C.gl.NEAREST,C.gl.CLAMP_TO_EDGE),d.needsTerrainPrepare=!1}const _=d&&d+d.tileID.key+i.key;if(_&&!this._demMatrixCache[_]){const C=this.sourceCache.sourceCache._source.maxzoom;let h=i.canonical.z-d.tileID.canonical.z;i.overscaledZ>i.canonical.z&&(i.canonical.z>=C?h=i.canonical.z-C:v.warnOnce("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const b=i.canonical.x-(i.canonical.x>>h<<h),y=i.canonical.y-(i.canonical.y>>h<<h),E=v.fromScaling(new Float64Array(16),[1/(v.EXTENT<<h),1/(v.EXTENT<<h),0]);v.translate(E,E,[b*v.EXTENT,y*v.EXTENT,0]),this._demMatrixCache[i.key]={matrix:E,coord:i}}return{u_depth:2,u_terrain:3,u_terrain_dim:d&&d.dem&&d.dem.dim||1,u_terrain_matrix:_?this._demMatrixCache[i.key].matrix:this._emptyDemMatrix,u_terrain_unpack:d&&d.dem&&d.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(d&&d.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:d}}getFramebuffer(i){const d=this.painter,_=d.width/devicePixelRatio,C=d.height/devicePixelRatio;return!this._fbo||this._fbo.width===_&&this._fbo.height===C||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new gt(d.context,{width:_,height:C,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new gt(d.context,{width:_,height:C,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=d.context.createFramebuffer(_,C,!0,!1),this._fbo.depthAttachment.set(d.context.createRenderbuffer(d.context.gl.DEPTH_COMPONENT16,_,C))),this._fbo.colorAttachment.set("coords"===i?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const i=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const d=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let h=0,b=0;h<this._coordsTextureSize;h++)for(let y=0;y<this._coordsTextureSize;y++,b+=4)d[b+0]=255&y,d[b+1]=255&h,d[b+2]=y>>8<<4|h>>8,d[b+3]=0;const _=new v.RGBAImage({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(d.buffer)),C=new gt(i,_,i.gl.RGBA,{premultiply:!1});return C.bind(i.gl.NEAREST,i.gl.CLAMP_TO_EDGE),this._coordsTexture=C,C}pointCoordinate(i){const d=new Uint8Array(4),_=this.painter.context,C=_.gl;_.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),C.readPixels(i.x,this.painter.height/devicePixelRatio-i.y-1,1,1,C.RGBA,C.UNSIGNED_BYTE,d),_.bindFramebuffer.set(null);const h=d[0]+(d[2]>>4<<8),b=d[1]+((15&d[2])<<8),y=this.coordsIndex[255-d[3]],E=y&&this.sourceCache.getTileByID(y);if(!E)return null;const I=this._coordsTextureSize,O=(1<<E.tileID.canonical.z)*I;return new v.MercatorCoordinate((E.tileID.canonical.x*I+h)/O,(E.tileID.canonical.y*I+b)/O,this.getElevation(E.tileID,h,b,I))}getTerrainMesh(){if(this._mesh)return this._mesh;const i=this.painter.context,d=new v.Pos3dArray,_=new v.TriangleIndexArray,C=this.meshSize,h=v.EXTENT/C,b=C*C;for(let R=0;R<=C;R++)for(let W=0;W<=C;W++)d.emplaceBack(W*h,R*h,0);for(let R=0;R<b;R+=C+1)for(let W=0;W<C;W++)_.emplaceBack(W+R,C+W+R+1,C+W+R+2),_.emplaceBack(W+R,C+W+R+2,W+R+1);const y=d.length,E=y+2*(C+1);for(const R of[0,1])for(let W=0;W<=C;W++)for(const ce of[0,1])d.emplaceBack(W*h,R*v.EXTENT,ce);for(let R=0;R<2*C;R+=2)_.emplaceBack(E+R,E+R+1,E+R+3),_.emplaceBack(E+R,E+R+3,E+R+2),_.emplaceBack(y+R,y+R+3,y+R+1),_.emplaceBack(y+R,y+R+2,y+R+3);const I=d.length,O=I+2*(C+1);for(const R of[0,1])for(let W=0;W<=C;W++)for(const ce of[0,1])d.emplaceBack(R*v.EXTENT,W*h,ce);for(let R=0;R<2*C;R+=2)_.emplaceBack(I+R,I+R+1,I+R+3),_.emplaceBack(I+R,I+R+3,I+R+2),_.emplaceBack(O+R,O+R+3,O+R+1),_.emplaceBack(O+R,O+R+2,O+R+3);return this._mesh={indexBuffer:i.createIndexBuffer(_),vertexBuffer:i.createVertexBuffer(d,Bo.members),segments:v.SegmentVector.simpleSegment(0,0,d.length,_.length)},this._mesh}getMeshFrameDelta(i){return 2*Math.PI*v.earthRadius/Math.pow(2,i)/5}getMinMaxElevation(i){const d=this.getTerrainData(i).tile,_={minElevation:null,maxElevation:null};return d&&d.dem&&(_.minElevation=d.dem.min*this.exaggeration,_.maxElevation=d.dem.max*this.exaggeration),_}}class sc{constructor(i,d,_){this._context=i,this._size=d,this._tileSize=_,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const i of this._objects)i.texture.destroy(),i.fbo.destroy()}_createObject(i){const d=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),_=new gt(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return _.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),d.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),d.colorAttachment.set(_.texture),{id:i,fbo:d,texture:_,stamp:-1,inUse:!1}}getObjectForId(i){return this._objects[i]}useObject(i){i.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(d=>i.id!==d),this._recentlyUsed.push(i.id)}stampObject(i){i.stamp=++this._stamp}getOrCreateFreeObject(){for(const d of this._recentlyUsed)if(!this._objects[d].inUse)return this._objects[d];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const i=this._createObject(this._objects.length);return this._objects.push(i),i}freeObject(i){i.inUse=!1}freeAllObjects(){for(const i of this._objects)this.freeObject(i)}isFull(){return!(this._objects.length<this._size)&&!1===this._objects.some(i=>!i.inUse)}}const oa={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class to{constructor(i,d){this.painter=i,this.terrain=d,this.pool=new sc(i.context,30,d.sourceCache.tileSize*d.qualityFactor)}destruct(){this.pool.destruct()}getTexture(i){return this.pool.getObjectForId(i.rtt[this._stacks.length-1].id).texture}prepareForRender(i,d){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=i._order.filter(_=>!i._layers[_].isHidden(d)),this._coordsDescendingInv={};for(const _ in i.sourceCaches){this._coordsDescendingInv[_]={};const C=i.sourceCaches[_].getVisibleCoordinates();for(const h of C){const b=this.terrain.sourceCache.getTerrainCoords(h);for(const y in b)this._coordsDescendingInv[_][y]||(this._coordsDescendingInv[_][y]=[]),this._coordsDescendingInv[_][y].push(b[y])}}this._coordsDescendingInvStr={};for(const _ of i._order){const C=i._layers[_],h=C.source;if(oa[C.type]&&!this._coordsDescendingInvStr[h]){this._coordsDescendingInvStr[h]={};for(const b in this._coordsDescendingInv[h])this._coordsDescendingInvStr[h][b]=this._coordsDescendingInv[h][b].map(y=>y.key).sort().join()}}for(const _ of this._renderableTiles)for(const C in this._coordsDescendingInvStr){const h=this._coordsDescendingInvStr[C][_.tileID.key];h&&h!==_.rttCoords[C]&&(_.rtt=[])}}renderLayer(i){if(i.isHidden(this.painter.transform.zoom))return!1;const d=i.type,_=this.painter,C=this._renderableLayerIds[this._renderableLayerIds.length-1]===i.id;if(oa[d]&&(this._prevType&&oa[this._prevType]||this._stacks.push([]),this._prevType=d,this._stacks[this._stacks.length-1].push(i.id),!C))return!0;if(oa[this._prevType]||oa[d]&&C){this._prevType=d;const h=this._stacks.length-1,b=this._stacks[h]||[];for(const y of this._renderableTiles){if(this.pool.isFull()&&(Aa(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(y),y.rtt[h]){const I=this.pool.getObjectForId(y.rtt[h].id);if(I.stamp===y.rtt[h].stamp){this.pool.useObject(I);continue}}const E=this.pool.getOrCreateFreeObject();this.pool.useObject(E),this.pool.stampObject(E),y.rtt[h]={id:E.id,stamp:E.stamp},_.context.bindFramebuffer.set(E.fbo.framebuffer),_.context.clear({color:v.Color.transparent,stencil:0}),_.currentStencilSource=void 0;for(let I=0;I<b.length;I++){const O=_.style._layers[b[I]],R=O.source?this._coordsDescendingInv[O.source][y.tileID.key]:[y.tileID];_.context.viewport.set([0,0,E.fbo.width,E.fbo.height]),_._renderTileClippingMasks(O,R),_.renderLayer(_,_.style.sourceCaches[O.source],O,R),O.source&&(y.rttCoords[O.source]=this._coordsDescendingInvStr[O.source][y.tileID.key])}}return Aa(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),oa[d]}return!1}}const ds={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:v.config.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0},Jo=x=>{x.touchstart=x.dragStart,x.touchmoveWindow=x.dragMove,x.touchend=x.dragEnd},Ul={showCompass:!0,showZoom:!0,visualizePitch:!1};class Ws{constructor(i,d,_=!1){this._clickTolerance=10;const C=i.dragRotate._mouseRotate.getClickTolerance(),h=i.dragRotate._mousePitch.getClickTolerance();this.element=d,this.mouseRotate=me({clickTolerance:C,enable:!0}),this.touchRotate=(({enable:b,clickTolerance:y,bearingDegreesPerPixelMoved:E=.8})=>{const I=new Q;return new qn({clickTolerance:y,move:(O,R)=>({bearingDelta:(R.x-O.x)*E}),moveStateManager:I,enable:b,assignEvents:Jo})})({clickTolerance:C,enable:!0}),this.map=i,_&&(this.mousePitch=qe({clickTolerance:h,enable:!0}),this.touchPitch=(({enable:b,clickTolerance:y,pitchDegreesPerPixelMoved:E=-.5})=>{const I=new Q;return new qn({clickTolerance:y,move:(O,R)=>({pitchDelta:(R.y-O.y)*E}),moveStateManager:I,enable:b,assignEvents:Jo})})({clickTolerance:h,enable:!0})),v.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),ie.addEventListener(d,"mousedown",this.mousedown),ie.addEventListener(d,"touchstart",this.touchstart,{passive:!1}),ie.addEventListener(d,"touchcancel",this.reset)}startMouse(i,d){this.mouseRotate.dragStart(i,d),this.mousePitch&&this.mousePitch.dragStart(i,d),ie.disableDrag()}startTouch(i,d){this.touchRotate.dragStart(i,d),this.touchPitch&&this.touchPitch.dragStart(i,d),ie.disableDrag()}moveMouse(i,d){const _=this.map,{bearingDelta:C}=this.mouseRotate.dragMove(i,d)||{};if(C&&_.setBearing(_.getBearing()+C),this.mousePitch){const{pitchDelta:h}=this.mousePitch.dragMove(i,d)||{};h&&_.setPitch(_.getPitch()+h)}}moveTouch(i,d){const _=this.map,{bearingDelta:C}=this.touchRotate.dragMove(i,d)||{};if(C&&_.setBearing(_.getBearing()+C),this.touchPitch){const{pitchDelta:h}=this.touchPitch.dragMove(i,d)||{};h&&_.setPitch(_.getPitch()+h)}}off(){const i=this.element;ie.removeEventListener(i,"mousedown",this.mousedown),ie.removeEventListener(i,"touchstart",this.touchstart,{passive:!1}),ie.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),ie.removeEventListener(window,"touchend",this.touchend),ie.removeEventListener(i,"touchcancel",this.reset),this.offTemp()}offTemp(){ie.enableDrag(),ie.removeEventListener(window,"mousemove",this.mousemove),ie.removeEventListener(window,"mouseup",this.mouseup),ie.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),ie.removeEventListener(window,"touchend",this.touchend)}mousedown(i){this.startMouse(v.extend({},i,{ctrlKey:!0,preventDefault:()=>i.preventDefault()}),ie.mousePos(this.element,i)),ie.addEventListener(window,"mousemove",this.mousemove),ie.addEventListener(window,"mouseup",this.mouseup)}mousemove(i){this.moveMouse(i,ie.mousePos(this.element,i))}mouseup(i){this.mouseRotate.dragEnd(i),this.mousePitch&&this.mousePitch.dragEnd(i),this.offTemp()}touchstart(i){1!==i.targetTouches.length?this.reset():(this._startPos=this._lastPos=ie.touchPos(this.element,i.targetTouches)[0],this.startTouch(i,this._startPos),ie.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),ie.addEventListener(window,"touchend",this.touchend))}touchmove(i){1!==i.targetTouches.length?this.reset():(this._lastPos=ie.touchPos(this.element,i.targetTouches)[0],this.moveTouch(i,this._lastPos))}touchend(i){0===i.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}let Vo;function qa(x,i,d){if(x=new v.LngLat(x.lng,x.lat),i){const _=new v.LngLat(x.lng-360,x.lat),C=new v.LngLat(x.lng+360,x.lat),h=d.locationPoint(x).distSqr(i);d.locationPoint(_).distSqr(i)<h?x=_:d.locationPoint(C).distSqr(i)<h&&(x=C)}for(;Math.abs(x.lng-d.center.lng)>180;){const _=d.locationPoint(x);if(_.x>=0&&_.y>=0&&_.x<=d.width&&_.y<=d.height)break;x.lng>d.center.lng?x.lng-=360:x.lng+=360}return x}const Ya={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Tc(x,i,d){const _=x.classList;for(const C in Ya)_.remove(`maplibregl-${d}-anchor-${C}`);_.add(`maplibregl-${d}-anchor-${i}`)}class Tl extends v.Evented{constructor(i,d){if(super(),(i instanceof HTMLElement||d)&&(i=v.extend({element:i},d)),v.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=i&&i.anchor||"center",this._color=i&&i.color||"#3FB1CE",this._scale=i&&i.scale||1,this._draggable=i&&i.draggable||!1,this._clickTolerance=i&&i.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=i&&i.rotation||0,this._rotationAlignment=i&&i.rotationAlignment||"auto",this._pitchAlignment=i&&i.pitchAlignment&&"auto"!==i.pitchAlignment?i.pitchAlignment:this._rotationAlignment,i&&i.element)this._element=i.element,this._offset=v.Point.convert(i&&i.offset||[0,0]);else{this._defaultMarker=!0,this._element=ie.create("div"),this._element.setAttribute("aria-label","Map marker");const _=ie.createNS("http://www.w3.org/2000/svg","svg"),C=41,h=27;_.setAttributeNS(null,"display","block"),_.setAttributeNS(null,"height",`${C}px`),_.setAttributeNS(null,"width",`${h}px`),_.setAttributeNS(null,"viewBox",`0 0 ${h} ${C}`);const b=ie.createNS("http://www.w3.org/2000/svg","g");b.setAttributeNS(null,"stroke","none"),b.setAttributeNS(null,"stroke-width","1"),b.setAttributeNS(null,"fill","none"),b.setAttributeNS(null,"fill-rule","evenodd");const y=ie.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"fill-rule","nonzero");const E=ie.createNS("http://www.w3.org/2000/svg","g");E.setAttributeNS(null,"transform","translate(3.0, 29.0)"),E.setAttributeNS(null,"fill","#000000");const I=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const Mt of I){const He=ie.createNS("http://www.w3.org/2000/svg","ellipse");He.setAttributeNS(null,"opacity","0.04"),He.setAttributeNS(null,"cx","10.5"),He.setAttributeNS(null,"cy","5.80029008"),He.setAttributeNS(null,"rx",Mt.rx),He.setAttributeNS(null,"ry",Mt.ry),E.appendChild(He)}const O=ie.createNS("http://www.w3.org/2000/svg","g");O.setAttributeNS(null,"fill",this._color);const R=ie.createNS("http://www.w3.org/2000/svg","path");R.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),O.appendChild(R);const W=ie.createNS("http://www.w3.org/2000/svg","g");W.setAttributeNS(null,"opacity","0.25"),W.setAttributeNS(null,"fill","#000000");const ce=ie.createNS("http://www.w3.org/2000/svg","path");ce.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),W.appendChild(ce);const ye=ie.createNS("http://www.w3.org/2000/svg","g");ye.setAttributeNS(null,"transform","translate(6.0, 7.0)"),ye.setAttributeNS(null,"fill","#FFFFFF");const we=ie.createNS("http://www.w3.org/2000/svg","g");we.setAttributeNS(null,"transform","translate(8.0, 8.0)");const Fe=ie.createNS("http://www.w3.org/2000/svg","circle");Fe.setAttributeNS(null,"fill","#000000"),Fe.setAttributeNS(null,"opacity","0.25"),Fe.setAttributeNS(null,"cx","5.5"),Fe.setAttributeNS(null,"cy","5.5"),Fe.setAttributeNS(null,"r","5.4999962");const rt=ie.createNS("http://www.w3.org/2000/svg","circle");rt.setAttributeNS(null,"fill","#FFFFFF"),rt.setAttributeNS(null,"cx","5.5"),rt.setAttributeNS(null,"cy","5.5"),rt.setAttributeNS(null,"r","5.4999962"),we.appendChild(Fe),we.appendChild(rt),y.appendChild(E),y.appendChild(O),y.appendChild(W),y.appendChild(ye),y.appendChild(we),_.appendChild(y),_.setAttributeNS(null,"height",C*this._scale+"px"),_.setAttributeNS(null,"width",h*this._scale+"px"),this._element.appendChild(_),this._offset=v.Point.convert(i&&i.offset||[0,-14])}this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",_=>{_.preventDefault()}),this._element.addEventListener("mousedown",_=>{_.preventDefault()}),Tc(this._element,this._anchor,"marker"),this._popup=null}addTo(i){return this.remove(),this._map=i,i.getCanvasContainer().appendChild(this._element),i.on("move",this._update),i.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),ie.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(i){return this._lngLat=v.LngLat.convert(i),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(i){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),i){if(!("offset"in i.options)){const C=Math.sqrt(Math.pow(13.5,2)/2);i.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[C,-1*(24.6+C)],"bottom-right":[-C,-1*(24.6+C)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=i,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}_onKeyPress(i){const d=i.code,_=i.charCode||i.keyCode;"Space"!==d&&"Enter"!==d&&32!==_&&13!==_||this.togglePopup()}_onMapClick(i){const d=i.originalEvent.target,_=this._element;this._popup&&(d===_||_.contains(d))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const i=this._popup;return i?(i.isOpen()?i.remove():i.addTo(this._map),this):this}_update(i){if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=qa(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let d="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?d=`rotateZ(${this._rotation}deg)`:"map"===this._rotationAlignment&&(d=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let _="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?_="rotateX(0deg)":"map"===this._pitchAlignment&&(_=`rotateX(${this._map.getPitch()}deg)`),i&&"moveend"!==i.type||(this._pos=this._pos.round()),ie.setTransform(this._element,`${Ya[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${_} ${d}`),this._map.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const C=this._map.unproject(this._pos),h=40075016.686*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=C.distanceTo(this._lngLat)>20*h?"0.2":"1.0",this._opacityTimeout=null},100))}getOffset(){return this._offset}setOffset(i){return this._offset=v.Point.convert(i),this._update(),this}_onMove(i){if(!this._isDragging){const d=this._clickTolerance||this._map._clickTolerance;this._isDragging=i.point.dist(this._pointerdownPos)>=d}this._isDragging&&(this._pos=i.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new v.Event("dragstart"))),this.fire(new v.Event("drag")))}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new v.Event("dragend")),this._state="inactive"}_addDragHandler(i){this._element.contains(i.originalEvent.target)&&(i.preventDefault(),this._positionDelta=i.point.sub(this._pos).add(this._offset),this._pointerdownPos=i.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}setDraggable(i){return this._draggable=!!i,this._map&&(i?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(i){return this._rotation=i||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(i){return this._rotationAlignment=i||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(i){return this._pitchAlignment=i&&"auto"!==i?i:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const jl={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Ka=0,Oa=!1;const Hl={maxWidth:100,unit:"metric"};function Il(x,i,d){const _=d&&d.maxWidth||100,C=x._container.clientHeight/2,h=x.unproject([0,C]),b=x.unproject([_,C]),y=h.distanceTo(b);if(d&&"imperial"===d.unit){const E=3.2808*y;E>5280?Ra(i,_,E/5280,x._getUIString("ScaleControl.Miles")):Ra(i,_,E,x._getUIString("ScaleControl.Feet"))}else d&&"nautical"===d.unit?Ra(i,_,y/1852,x._getUIString("ScaleControl.NauticalMiles")):y>=1e3?Ra(i,_,y/1e3,x._getUIString("ScaleControl.Kilometers")):Ra(i,_,y,x._getUIString("ScaleControl.Meters"))}function Ra(x,i,d,_){const C=function(h){const b=Math.pow(10,`${Math.floor(h)}`.length-1);let y=h/b;return y=y>=10?10:y>=5?5:y>=3?3:y>=2?2:y>=1?1:function(E){const I=Math.pow(10,Math.ceil(-Math.log(E)/Math.LN10));return Math.round(E*I)/I}(y),b*y}(d);x.style.width=i*(C/d)+"px",x.innerHTML=`${C}&nbsp;${_}`}const Al={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},ac=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function kl(x){if(x){if("number"==typeof x){const i=Math.round(Math.sqrt(.5*Math.pow(x,2)));return{center:new v.Point(0,0),top:new v.Point(0,x),"top-left":new v.Point(i,i),"top-right":new v.Point(-i,i),bottom:new v.Point(0,-x),"bottom-left":new v.Point(i,-i),"bottom-right":new v.Point(-i,-i),left:new v.Point(x,0),right:new v.Point(-x,0)}}if(x instanceof v.Point||Array.isArray(x)){const i=v.Point.convert(x);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:v.Point.convert(x.center||[0,0]),top:v.Point.convert(x.top||[0,0]),"top-left":v.Point.convert(x["top-left"]||[0,0]),"top-right":v.Point.convert(x["top-right"]||[0,0]),bottom:v.Point.convert(x.bottom||[0,0]),"bottom-left":v.Point.convert(x["bottom-left"]||[0,0]),"bottom-right":v.Point.convert(x["bottom-right"]||[0,0]),left:v.Point.convert(x.left||[0,0]),right:v.Point.convert(x.right||[0,0])}}return kl(new v.Point(0,0))}const lc={setRTLTextPlugin:v.setRTLTextPlugin,getRTLTextPluginStatus:v.getRTLTextPluginStatus,Map:class extends ui{constructor(x){var i;if(v.PerformanceUtils.mark(v.PerformanceMarkers.create),null!=(x=v.extend({},ds,x)).minZoom&&null!=x.maxZoom&&x.minZoom>x.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=x.minPitch&&null!=x.maxPitch&&x.minPitch>x.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=x.minPitch&&x.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=x.maxPitch&&x.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new Xo(x.minZoom,x.maxZoom,x.minPitch,x.maxPitch,x.renderWorldCopies),{bearingSnap:x.bearingSnap}),this._interactive=x.interactive,this._cooperativeGestures=x.cooperativeGestures,this._metaKey=0===navigator.platform.indexOf("Mac")?"metaKey":"ctrlKey",this._maxTileCacheSize=x.maxTileCacheSize,this._maxTileCacheZoomLevels=x.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=x.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=x.preserveDrawingBuffer,this._antialias=x.antialias,this._trackResize=x.trackResize,this._bearingSnap=x.bearingSnap,this._refreshExpiredTiles=x.refreshExpiredTiles,this._fadeDuration=x.fadeDuration,this._crossSourceCollisions=x.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=x.collectResourceTiming,this._renderTaskQueue=new yo,this._controls=[],this._mapId=v.uniqueId(),this._locale=v.extend({},al,x.locale),this._clickTolerance=x.clickTolerance,this._pixelRatio=null!==(i=x.pixelRatio)&&void 0!==i?i:devicePixelRatio,this.transformCameraUpdate=x.transformCameraUpdate,this._imageQueueHandle=ut.addThrottleControl(()=>this.isMoving()),this._requestManager=new bt(x.transformRequest),"string"==typeof x.container){if(this._container=document.getElementById(x.container),!this._container)throw new Error(`Container '${x.container}' not found.`)}else{if(!(x.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=x.container}if(x.maxBounds&&this.setMaxBounds(x.maxBounds),v.bindAll(["_onWindowOnline","_onMapScroll","_cooperativeGesturesOnWheel","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let d=!1;this._resizeObserver=new ResizeObserver(_=>{d?this._trackResize&&this.resize(_)._update():d=!0}),this._resizeObserver.observe(this._container)}this.handlers=new eo(this,x),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=x.hash&&new po("string"==typeof x.hash&&x.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:x.center,zoom:x.zoom,bearing:x.bearing,pitch:x.pitch}),x.bounds&&(this.resize(),this.fitBounds(x.bounds,v.extend({},x.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=x.localIdeographFontFamily,this._validateStyle=x.validateStyle,x.style&&this.setStyle(x.style,{localIdeographFontFamily:x.localIdeographFontFamily}),x.attributionControl&&this.addControl(new Ki({customAttribution:x.customAttribution})),x.maplibreLogo&&this.addControl(new ws,x.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",d=>{this._update("style"===d.dataType),this.fire(new v.Event(`${d.dataType}data`,d))}),this.on("dataloading",d=>{this.fire(new v.Event(`${d.dataType}dataloading`,d))}),this.on("dataabort",d=>{this.fire(new v.Event("sourcedataabort",d))})}_getMapId(){return this._mapId}addControl(x,i){if(void 0===i&&(i=x.getDefaultPosition?x.getDefaultPosition():"top-right"),!x||!x.onAdd)return this.fire(new v.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const d=x.onAdd(this);this._controls.push(x);const _=this._controlPositions[i];return-1!==i.indexOf("bottom")?_.insertBefore(d,_.firstChild):_.appendChild(d),this}removeControl(x){if(!x||!x.onRemove)return this.fire(new v.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const i=this._controls.indexOf(x);return i>-1&&this._controls.splice(i,1),x.onRemove(this),this}hasControl(x){return this._controls.indexOf(x)>-1}calculateCameraOptionsFromTo(x,i,d,_){return null==_&&this.terrain&&(_=this.transform.getElevation(d,this.terrain)),super.calculateCameraOptionsFromTo(x,i,d,_)}resize(x){var i;const d=this._containerDimensions(),_=d[0],C=d[1];this._resizeCanvas(_,C,this.getPixelRatio()),this.transform.resize(_,C),null===(i=this._requestedCameraState)||void 0===i||i.resize(_,C),this.painter.resize(_,C,this.getPixelRatio());const h=!this._moving;return h&&(this.stop(),this.fire(new v.Event("movestart",x)).fire(new v.Event("move",x))),this.fire(new v.Event("resize",x)),h&&this.fire(new v.Event("moveend",x)),this}getPixelRatio(){return this._pixelRatio}setPixelRatio(x){const[i,d]=this._containerDimensions();this._pixelRatio=x,this._resizeCanvas(i,d,x),this.painter.resize(i,d,x)}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(x){return this.transform.setMaxBounds(kt.convert(x)),this._update()}setMinZoom(x){if((x=x??-2)>=-2&&x<=this.transform.maxZoom)return this.transform.minZoom=x,this._update(),this.getZoom()<x&&this.setZoom(x),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(x){if((x=x??22)>=this.transform.minZoom)return this.transform.maxZoom=x,this._update(),this.getZoom()>x&&this.setZoom(x),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(x){if((x=x??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(x>=0&&x<=this.transform.maxPitch)return this.transform.minPitch=x,this._update(),this.getPitch()<x&&this.setPitch(x),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(x){if((x=x??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(x>=this.transform.minPitch)return this.transform.maxPitch=x,this._update(),this.getPitch()>x&&this.setPitch(x),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(x){return this.transform.renderWorldCopies=x,this._update()}getCooperativeGestures(){return this._cooperativeGestures}setCooperativeGestures(x){return this._cooperativeGestures=x,this._cooperativeGestures?this._setupCooperativeGestures():this._destroyCooperativeGestures(),this}project(x){return this.transform.locationPoint(v.LngLat.convert(x),this.style&&this.terrain)}unproject(x){return this.transform.pointLocation(v.Point.convert(x),this.terrain)}isMoving(){var x;return this._moving||(null===(x=this.handlers)||void 0===x?void 0:x.isMoving())}isZooming(){var x;return this._zooming||(null===(x=this.handlers)||void 0===x?void 0:x.isZooming())}isRotating(){var x;return this._rotating||(null===(x=this.handlers)||void 0===x?void 0:x.isRotating())}_createDelegatedListener(x,i,d){if("mouseenter"===x||"mouseover"===x){let _=!1;return{layer:i,listener:d,delegates:{mousemove:h=>{const b=this.getLayer(i)?this.queryRenderedFeatures(h.point,{layers:[i]}):[];b.length?_||(_=!0,d.call(this,new _r(x,this,h.originalEvent,{features:b}))):_=!1},mouseout:()=>{_=!1}}}}if("mouseleave"===x||"mouseout"===x){let _=!1;return{layer:i,listener:d,delegates:{mousemove:b=>{(this.getLayer(i)?this.queryRenderedFeatures(b.point,{layers:[i]}):[]).length?_=!0:_&&(_=!1,d.call(this,new _r(x,this,b.originalEvent)))},mouseout:b=>{_&&(_=!1,d.call(this,new _r(x,this,b.originalEvent)))}}}}{const _=C=>{const h=this.getLayer(i)?this.queryRenderedFeatures(C.point,{layers:[i]}):[];h.length&&(C.features=h,d.call(this,C),delete C.features)};return{layer:i,listener:d,delegates:{[x]:_}}}}on(x,i,d){if(void 0===d)return super.on(x,i);const _=this._createDelegatedListener(x,i,d);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[x]=this._delegatedListeners[x]||[],this._delegatedListeners[x].push(_);for(const C in _.delegates)this.on(C,_.delegates[C]);return this}once(x,i,d){if(void 0===d)return super.once(x,i);const _=this._createDelegatedListener(x,i,d);for(const C in _.delegates)this.once(C,_.delegates[C]);return this}off(x,i,d){return void 0===d?super.off(x,i):(this._delegatedListeners&&this._delegatedListeners[x]&&(_=>{const C=this._delegatedListeners[x];for(let h=0;h<C.length;h++){const b=C[h];if(b.layer===i&&b.listener===d){for(const y in b.delegates)this.off(y,b.delegates[y]);return C.splice(h,1),this}}})(),this)}queryRenderedFeatures(x,i){if(!this.style)return[];let d;const _=x instanceof v.Point||Array.isArray(x),C=_?x:[[0,0],[this.transform.width,this.transform.height]];if(i=i||(_?{}:x)||{},C instanceof v.Point||"number"==typeof C[0])d=[v.Point.convert(C)];else{const h=v.Point.convert(C[0]),b=v.Point.convert(C[1]);d=[h,new v.Point(b.x,h.y),b,new v.Point(h.x,b.y),h]}return this.style.queryRenderedFeatures(d,i,this.transform)}querySourceFeatures(x,i){return this.style.querySourceFeatures(x,i)}setStyle(x,i){return!1!==(i=v.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},i)).diff&&i.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&x?(this._diffStyle(x,i),this):(this._localIdeographFontFamily=i.localIdeographFontFamily,this._updateStyle(x,i))}setTransformRequest(x){return this._requestManager.setTransformRequest(x),this}_getUIString(x){const i=this._locale[x];if(null==i)throw new Error(`Missing UI string '${x}'`);return i}_updateStyle(x,i){if(i.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(x,i));const d=this.style&&i.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!x)),x?(this.style=new kn(this,i||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof x?this.style.loadURL(x,i,d):this.style.loadJSON(x,i,d),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new kn(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(x,i){if("string"==typeof x){const d=this._requestManager.transformRequest(x,Qe.Style);v.getJSON(d,(_,C)=>{_?this.fire(new v.ErrorEvent(_)):C&&this._updateDiff(C,i)})}else"object"==typeof x&&this._updateDiff(x,i)}_updateDiff(x,i){try{this.style.setState(x,i)&&this._update(!0)}catch(d){v.warnOnce(`Unable to perform style diff: ${d.message||d.error||d}.  Rebuilding the style from scratch.`),this._updateStyle(x,i)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():v.warnOnce("There is no style added to the map.")}addSource(x,i){return this._lazyInitEmptyStyle(),this.style.addSource(x,i),this._update(!0)}isSourceLoaded(x){const i=this.style&&this.style.sourceCaches[x];if(void 0!==i)return i.loaded();this.fire(new v.ErrorEvent(new Error(`There is no source with ID '${x}'`)))}setTerrain(x){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),x){const i=this.style.sourceCaches[x.source];if(!i)throw new Error(`cannot load terrain, because there exists no source with ID: ${x.source}`);for(const d in this.style._layers){const _=this.style._layers[d];"hillshade"===_.type&&_.source===x.source&&v.warnOnce("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Ps(this.painter,i,x),this.painter.renderToTexture=new to(this.painter,this.terrain),this.transform.updateElevation(this.terrain),this._terrainDataCallback=d=>{"style"===d.dataType?this.terrain.sourceCache.freeRtt():"source"===d.dataType&&d.tile&&(d.sourceId===x.source&&this.transform.updateElevation(this.terrain),this.terrain.sourceCache.freeRtt(d.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.updateElevation(this.terrain);return this.fire(new v.Event("terrain",{terrain:x})),this}getTerrain(){return this.terrain&&this.terrain.options}areTilesLoaded(){const x=this.style&&this.style.sourceCaches;for(const i in x){const d=x[i]._tiles;for(const _ in d){const C=d[_];if("loaded"!==C.state&&"errored"!==C.state)return!1}}return!0}addSourceType(x,i,d){return this._lazyInitEmptyStyle(),this.style.addSourceType(x,i,d)}removeSource(x){return this.style.removeSource(x),this._update(!0)}getSource(x){return this.style.getSource(x)}addImage(x,i,{pixelRatio:d=1,sdf:_=!1,stretchX:C,stretchY:h,content:b}={}){if(this._lazyInitEmptyStyle(),i instanceof HTMLImageElement||v.isImageBitmap(i)){const{width:y,height:E,data:I}=v.exported.getImageData(i);this.style.addImage(x,{data:new v.RGBAImage({width:y,height:E},I),pixelRatio:d,stretchX:C,stretchY:h,content:b,sdf:_,version:0})}else{if(void 0===i.width||void 0===i.height)return this.fire(new v.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:y,height:E,data:I}=i,O=i;this.style.addImage(x,{data:new v.RGBAImage({width:y,height:E},new Uint8Array(I)),pixelRatio:d,stretchX:C,stretchY:h,content:b,sdf:_,version:0,userImage:O}),O.onAdd&&O.onAdd(this,x)}}}updateImage(x,i){const d=this.style.getImage(x);if(!d)return this.fire(new v.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const _=i instanceof HTMLImageElement||v.isImageBitmap(i)?v.exported.getImageData(i):i,{width:C,height:h,data:b}=_;if(void 0===C||void 0===h)return this.fire(new v.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(C!==d.data.width||h!==d.data.height)return this.fire(new v.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));const y=!(i instanceof HTMLImageElement||v.isImageBitmap(i));d.data.replace(b,y),this.style.updateImage(x,d)}getImage(x){return this.style.getImage(x)}hasImage(x){return x?!!this.style.getImage(x):(this.fire(new v.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(x){this.style.removeImage(x)}loadImage(x,i){ut.getImage(this._requestManager.transformRequest(x,Qe.Image),i)}listImages(){return this.style.listImages()}addLayer(x,i){return this._lazyInitEmptyStyle(),this.style.addLayer(x,i),this._update(!0)}moveLayer(x,i){return this.style.moveLayer(x,i),this._update(!0)}removeLayer(x){return this.style.removeLayer(x),this._update(!0)}getLayer(x){return this.style.getLayer(x)}setLayerZoomRange(x,i,d){return this.style.setLayerZoomRange(x,i,d),this._update(!0)}setFilter(x,i,d={}){return this.style.setFilter(x,i,d),this._update(!0)}getFilter(x){return this.style.getFilter(x)}setPaintProperty(x,i,d,_={}){return this.style.setPaintProperty(x,i,d,_),this._update(!0)}getPaintProperty(x,i){return this.style.getPaintProperty(x,i)}setLayoutProperty(x,i,d,_={}){return this.style.setLayoutProperty(x,i,d,_),this._update(!0)}getLayoutProperty(x,i){return this.style.getLayoutProperty(x,i)}setGlyphs(x,i={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(x,i),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(x,i,d={}){return this._lazyInitEmptyStyle(),this.style.addSprite(x,i,d,_=>{_||this._update(!0)}),this}removeSprite(x){return this._lazyInitEmptyStyle(),this.style.removeSprite(x),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(x,i={}){return this._lazyInitEmptyStyle(),this.style.setSprite(x,i,d=>{d||this._update(!0)}),this}setLight(x,i={}){return this._lazyInitEmptyStyle(),this.style.setLight(x,i),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(x,i){return this.style.setFeatureState(x,i),this._update()}removeFeatureState(x,i){return this.style.removeFeatureState(x,i),this._update()}getFeatureState(x){return this.style.getFeatureState(x)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let x=0,i=0;return this._container&&(x=this._container.clientWidth||400,i=this._container.clientHeight||300),[x,i]}_setupContainer(){const x=this._container;x.classList.add("maplibregl-map");const i=this._canvasContainer=ie.create("div","maplibregl-canvas-container",x);this._interactive&&i.classList.add("maplibregl-interactive"),this._canvas=ie.create("canvas","maplibregl-canvas",i),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const d=this._containerDimensions();this._resizeCanvas(d[0],d[1],this.getPixelRatio());const _=this._controlContainer=ie.create("div","maplibregl-control-container",x),C=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(h=>{C[h]=ie.create("div",`maplibregl-ctrl-${h} `,_)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_cooperativeGesturesOnWheel(x){this._onCooperativeGesture(x,x[this._metaKey],1)}_setupCooperativeGestures(){this._cooperativeGesturesScreen=ie.create("div","maplibregl-cooperative-gesture-screen",this._container);let x="boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";0===navigator.platform.indexOf("Mac")&&(x="boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use \u2318 + scroll to zoom the map"),this._cooperativeGesturesScreen.innerHTML=`\n            <div class="maplibregl-desktop-message">${x}</div>\n            <div class="maplibregl-mobile-message">${"boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>\n        `,this._canvasContainer.addEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.add("maplibregl-cooperative-gestures")}_destroyCooperativeGestures(){ie.remove(this._cooperativeGesturesScreen),this._canvasContainer.removeEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.remove("maplibregl-cooperative-gestures")}_resizeCanvas(x,i,d){this._canvas.width=d*x,this._canvas.height=d*i,this._canvas.style.width=`${x}px`,this._canvas.style.height=`${i}px`}_setupPainter(){const x={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let i=null;this._canvas.addEventListener("webglcontextcreationerror",_=>{i={requestedAttributes:x},_&&(i.statusMessage=_.statusMessage,i.type=_.type)},{once:!0});const d=this._canvas.getContext("webgl2",x)||this._canvas.getContext("webgl",x);if(!d){const _="Failed to initialize WebGL";throw i?(i.message=_,new Error(JSON.stringify(i))):new Error(_)}this.painter=new Ec(d,this.transform),Ge.testSupport(d)}_contextLost(x){x.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new v.Event("webglcontextlost",{originalEvent:x}))}_contextRestored(x){this._setupPainter(),this.resize(),this._update(),this.fire(new v.Event("webglcontextrestored",{originalEvent:x}))}_onMapScroll(x){if(x.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}_onCooperativeGesture(x,i,d){return!i&&d<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(x){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||x,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(x){return this._update(),this._renderTaskQueue.add(x)}_cancelRenderFrame(x){this._renderTaskQueue.remove(x)}_render(x){const i=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(x),this._removed)return;let d=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const C=this.transform.zoom,h=v.exported.now();this.style.zoomHistory.update(C,h);const b=new v.EvaluationParameters(C,{now:h,fadeDuration:i,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),y=b.crossFadingFactor();1===y&&y===this._crossFadingFactor||(d=!0,this._crossFadingFactor=y),this.style.update(b)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain&&this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.updateElevation(this.terrain),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,i,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:i,showPadding:this.showPadding}),this.fire(new v.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,v.PerformanceUtils.mark(v.PerformanceMarkers.load),this.fire(new v.Event("load"))),this.style&&(this.style.hasTransitions()||d)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const _=this._sourcesDirty||this._styleDirty||this._placementDirty;return _||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new v.Event("idle")),!this._loaded||this._fullyLoaded||_||(this._fullyLoaded=!0,v.PerformanceUtils.mark(v.PerformanceMarkers.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){var x;this._hash&&this._hash.remove();for(const d of this._controls)d.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),ut.removeThrottleControl(this._imageQueueHandle),null===(x=this._resizeObserver)||void 0===x||x.disconnect();const i=this.painter.context.gl.getExtension("WEBGL_lose_context");i&&i.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),ie.remove(this._canvasContainer),ie.remove(this._controlContainer),this._cooperativeGestures&&this._destroyCooperativeGestures(),this._container.classList.remove("maplibregl-map"),v.PerformanceUtils.clearMetrics(),this._removed=!0,this.fire(new v.Event("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=v.exported.frame(x=>{v.PerformanceUtils.frame(x),this._frame=null,this._render(x)}))}_onWindowOnline(){this._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(x){this._showTileBoundaries!==x&&(this._showTileBoundaries=x,this._update())}get showPadding(){return!!this._showPadding}set showPadding(x){this._showPadding!==x&&(this._showPadding=x,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(x){this._showCollisionBoxes!==x&&(this._showCollisionBoxes=x,x?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(x){this._showOverdrawInspector!==x&&(this._showOverdrawInspector=x,this._update())}get repaint(){return!!this._repaint}set repaint(x){this._repaint!==x&&(this._repaint=x,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(x){this._vertices=x,this._update()}get version(){return"3.1.0"}getCameraTargetElevation(){return this.transform.elevation}},NavigationControl:class{constructor(x){this.options=v.extend({},Ul,x),this._container=ie.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",i=>i.preventDefault()),this.options.showZoom&&(v.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",i=>this._map.zoomIn({},{originalEvent:i})),ie.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",i=>this._map.zoomOut({},{originalEvent:i})),ie.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(v.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("maplibregl-ctrl-compass",i=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:i}):this._map.resetNorth({},{originalEvent:i})}),this._compassIcon=ie.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const x=this._map.getZoom(),i=x===this._map.getMaxZoom(),d=x===this._map.getMinZoom();this._zoomInButton.disabled=i,this._zoomOutButton.disabled=d,this._zoomInButton.setAttribute("aria-disabled",i.toString()),this._zoomOutButton.setAttribute("aria-disabled",d.toString())}_rotateCompassArrow(){const x=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=x}onAdd(x){return this._map=x,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Ws(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){ie.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(x,i){const d=ie.create("button",x,this._container);return d.type="button",d.addEventListener("click",i),d}_setButtonTitle(x,i){const d=this._map._getUIString(`NavigationControl.${i}`);x.title=d,x.setAttribute("aria-label",d)}},GeolocateControl:class extends v.Evented{constructor(x){super(),this.options=v.extend({},jl,x),v.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}onAdd(x){return this._map=x,this._container=ie.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(i,d=!1){void 0===Vo||d?void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then(_=>{Vo="denied"!==_.state,i(Vo)}).catch(()=>{Vo=!!window.navigator.geolocation,i(Vo)}):(Vo=!!window.navigator.geolocation,i(Vo)):i(Vo)}(this._setupUI),this._container}onRemove(){void 0!==this._geolocationWatchID&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),ie.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Ka=0,Oa=!1}_isOutOfMapMaxBounds(x){const i=this._map.getMaxBounds(),d=x.coords;return i&&(d.longitude<i.getWest()||d.longitude>i.getEast()||d.latitude<i.getSouth()||d.latitude>i.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_onSuccess(x){if(this._map){if(this._isOutOfMapMaxBounds(x))return this._setErrorState(),this.fire(new v.Event("outofmaxbounds",x)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=x,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(x),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(x),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new v.Event("geolocate",x)),this._finish()}}_updateCamera(x){const i=new v.LngLat(x.coords.longitude,x.coords.latitude),d=x.coords.accuracy,_=this._map.getBearing(),C=v.extend({bearing:_},this.options.fitBoundsOptions),h=kt.fromLngLat(i,d);this._map.fitBounds(h,C,{geolocateSource:!0})}_updateMarker(x){if(x){const i=new v.LngLat(x.coords.longitude,x.coords.latitude);this._accuracyCircleMarker.setLngLat(i).addTo(this._map),this._userLocationDotMarker.setLngLat(i).addTo(this._map),this._accuracy=x.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const x=this._map.getBounds(),i=x.getSouthEast(),d=x.getNorthEast(),_=i.distanceTo(d),C=Math.ceil(this._accuracy/(_/this._map._container.clientHeight)*2);this._circleElement.style.width=`${C}px`,this._circleElement.style.height=`${C}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_onError(x){if(this._map){if(this.options.trackUserLocation)if(1===x.code){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const i=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===x.code&&Oa)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new v.Event("error",x)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(x){if(this._map){if(this._container.addEventListener("contextmenu",i=>i.preventDefault()),this._geolocateButton=ie.create("button","maplibregl-ctrl-geolocate",this._container),ie.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===x){v.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const i=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i)}else{const i=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=ie.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Tl(this._dotElement),this._circleElement=ie.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Tl({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",i=>{i.geolocateSource||"ACTIVE_LOCK"!==this._watchState||i.originalEvent&&"resize"===i.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new v.Event("trackuserlocationend")))})}}trigger(){if(!this._setup)return v.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new v.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Ka--,Oa=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new v.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new v.Event("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let x;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Ka++,Ka>1?(x={maximumAge:6e5,timeout:0},Oa=!0):(x=this.options.positionOptions,Oa=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,x)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Ki,LogoControl:ws,ScaleControl:class{constructor(x){this.options=v.extend({},Hl,x),v.bindAll(["_onMove","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_onMove(){Il(this._map,this._container,this.options)}onAdd(x){return this._map=x,this._container=ie.create("div","maplibregl-ctrl maplibregl-ctrl-scale",x.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){ie.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}setUnit(x){this.options.unit=x,Il(this._map,this._container,this.options)}},FullscreenControl:class extends v.Evented{constructor(x={}){super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,x&&x.container&&(x.container instanceof HTMLElement?this._container=x.container:v.warnOnce("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(x){return this._map=x,this._container||(this._container=this._map.getContainer()),this._controlContainer=ie.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){ie.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const x=this._fullscreenButton=ie.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);ie.create("span","maplibregl-ctrl-icon",x).setAttribute("aria-hidden","true"),x.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const x=this._getTitle();this._fullscreenButton.setAttribute("aria-label",x),this._fullscreenButton.title=x}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new v.Event("fullscreenstart")),this._map._cooperativeGestures&&(this._prevCooperativeGestures=this._map._cooperativeGestures,this._map.setCooperativeGestures())):(this.fire(new v.Event("fullscreenend")),this._prevCooperativeGestures&&(this._map.setCooperativeGestures(this._prevCooperativeGestures),delete this._prevCooperativeGestures))}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},TerrainControl:class{constructor(x){this.options=x,v.bindAll(["_toggleTerrain","_updateTerrainIcon"],this)}onAdd(x){return this._map=x,this._container=ie.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=ie.create("button","maplibregl-ctrl-terrain",this._container),ie.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){ie.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}_toggleTerrain(){this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()}_updateTerrainIcon(){this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))}},Popup:class extends v.Evented{constructor(x){super(),this.options=v.extend(Object.create(Al),x),v.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}addTo(x){return this._map&&this.remove(),this._map=x,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new v.Event("open")),this}isOpen(){return!!this._map}remove(){return this._content&&ie.remove(this._content),this._container&&(ie.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new v.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(x){return this._lngLat=v.LngLat.convert(x),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(x){return this.setDOMContent(document.createTextNode(x))}setHTML(x){const i=document.createDocumentFragment(),d=document.createElement("body");let _;for(d.innerHTML=x;_=d.firstChild,_;)i.appendChild(_);return this.setDOMContent(i)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(x){return this.options.maxWidth=x,this._update(),this}setDOMContent(x){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=ie.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(x),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(x){this._container&&this._container.classList.add(x)}removeClassName(x){this._container&&this._container.classList.remove(x)}setOffset(x){return this.options.offset=x,this._update(),this}toggleClassName(x){if(this._container)return this._container.classList.toggle(x)}_createCloseButton(){this.options.closeButton&&(this._closeButton=ie.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_onMouseUp(x){this._update(x.point)}_onMouseMove(x){this._update(x.point)}_onDrag(x){this._update(x.point)}_update(x){if(!this._map||!this._lngLat&&!this._trackPointer||!this._content||(this._container||(this._container=ie.create("div","maplibregl-popup",this._map.getContainer()),this._tip=ie.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(h=>this._container.classList.add(h)),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=qa(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!x))return;const i=this._pos=this._trackPointer&&x?x:this._map.project(this._lngLat);let d=this.options.anchor;const _=kl(this.options.offset);if(!d){const h=this._container.offsetWidth,b=this._container.offsetHeight;let y;y=i.y+_.bottom.y<b?["top"]:i.y>this._map.transform.height-b?["bottom"]:[],i.x<h/2?y.push("left"):i.x>this._map.transform.width-h/2&&y.push("right"),d=0===y.length?"bottom":y.join("-")}const C=i.add(_[d]).round();ie.setTransform(this._container,`${Ya[d]} translate(${C.x}px,${C.y}px)`),Tc(this._container,d,"popup")}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const x=this._container.querySelector(ac);x&&x.focus()}_onClose(){this.remove()}},Marker:Tl,Style:kn,LngLat:v.LngLat,LngLatBounds:kt,Point:v.Point,MercatorCoordinate:v.MercatorCoordinate,Evented:v.Evented,AJAXError:v.AJAXError,config:v.config,CanvasSource:De,GeoJSONSource:je,ImageSource:ht,RasterDEMTileSource:hi,RasterTileSource:Et,VectorTileSource:Jt,VideoSource:ct,prewarm:function(){Ie().acquire(Mn)},clearPrewarmedResources:function(){const x=Ce;x&&(x.isPreloaded()&&1===x.numActive()?(x.release(Mn),Ce=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get version(){return"3.1.0"},get workerCount(){return Pe.workerCount},set workerCount(x){Pe.workerCount=x},get maxParallelImageRequests(){return v.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(x){v.config.MAX_PARALLEL_IMAGE_REQUESTS=x},get workerUrl(){return v.config.WORKER_URL},set workerUrl(x){v.config.WORKER_URL=x},addProtocol(x,i){v.config.REGISTERED_PROTOCOLS[x]=i},removeProtocol(x){delete v.config.REGISTERED_PROTOCOLS[x]}};return ni.extend(lc,{isSafari:v.isSafari,getPerformanceMetrics:v.PerformanceUtils.getPerformanceMetrics}),lc}),M}()},6825:(gi,ft,j)=>{"use strict";j.d(ft,{IO:()=>ut,LC:()=>l,SB:()=>Ye,X$:()=>v,ZE:()=>ti,ZN:()=>Nt,_j:()=>M,eR:()=>it,jt:()=>$e,k1:()=>xi,l3:()=>ae,oB:()=>ke,pV:()=>nt,vP:()=>Ge});class M{}class l{}const ae="*";function v(Qt,Re){return{type:7,name:Qt,definitions:Re,options:{}}}function $e(Qt,Re=null){return{type:4,styles:Re,timings:Qt}}function Ge(Qt,Re=null){return{type:2,steps:Qt,options:Re}}function ke(Qt){return{type:6,styles:Qt,offset:null}}function Ye(Qt,Re,Ze){return{type:0,name:Qt,styles:Re,options:Ze}}function it(Qt,Re,Ze=null){return{type:1,expr:Qt,animation:Re,options:Ze}}function nt(Qt=null){return{type:9,options:Qt}}function ut(Qt,Re,Ze=null){return{type:11,selector:Qt,animation:Re,options:Ze}}class Nt{constructor(Re=0,Ze=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Re+Ze}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Re=>Re()),this._onDoneFns=[])}onStart(Re){this._originalOnStartFns.push(Re),this._onStartFns.push(Re)}onDone(Re){this._originalOnDoneFns.push(Re),this._onDoneFns.push(Re)}onDestroy(Re){this._onDestroyFns.push(Re)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Re=>Re()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Re=>Re()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Re){this._position=this.totalTime?Re*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Re){const Ze="start"==Re?this._onStartFns:this._onDoneFns;Ze.forEach(Oe=>Oe()),Ze.length=0}}class ti{constructor(Re){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Re;let Ze=0,Oe=0,gt=0;const Rt=this.players.length;0==Rt?queueMicrotask(()=>this._onFinish()):this.players.forEach(At=>{At.onDone(()=>{++Ze==Rt&&this._onFinish()}),At.onDestroy(()=>{++Oe==Rt&&this._onDestroy()}),At.onStart(()=>{++gt==Rt&&this._onStart()})}),this.totalTime=this.players.reduce((At,li)=>Math.max(At,li.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Re=>Re()),this._onDoneFns=[])}init(){this.players.forEach(Re=>Re.init())}onStart(Re){this._onStartFns.push(Re)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Re=>Re()),this._onStartFns=[])}onDone(Re){this._onDoneFns.push(Re)}onDestroy(Re){this._onDestroyFns.push(Re)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Re=>Re.play())}pause(){this.players.forEach(Re=>Re.pause())}restart(){this.players.forEach(Re=>Re.restart())}finish(){this._onFinish(),this.players.forEach(Re=>Re.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Re=>Re.destroy()),this._onDestroyFns.forEach(Re=>Re()),this._onDestroyFns=[])}reset(){this.players.forEach(Re=>Re.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Re){const Ze=Re*this.totalTime;this.players.forEach(Oe=>{const gt=Oe.totalTime?Math.min(1,Ze/Oe.totalTime):1;Oe.setPosition(gt)})}getPosition(){const Re=this.players.reduce((Ze,Oe)=>null===Ze||Oe.totalTime>Ze.totalTime?Oe:Ze,null);return null!=Re?Re.getPosition():0}beforeDestroy(){this.players.forEach(Re=>{Re.beforeDestroy&&Re.beforeDestroy()})}triggerCallback(Re){const Ze="start"==Re?this._onStartFns:this._onDoneFns;Ze.forEach(Oe=>Oe()),Ze.length=0}}const xi="!"},7849:(gi,ft,j)=>{"use strict";j.d(ft,{rt:()=>lt,s1:()=>ot,$s:()=>Jt,Em:()=>ht,tE:()=>Ae,qV:()=>Ce,qm:()=>et,ic:()=>De,Kd:()=>B,Zf:()=>hn,X6:()=>Xt,yG:()=>Ut,iD:()=>Zn});var M=j(6814),l=j(5879),ae=j(2831),v=j(8645),$e=j(7394),ie=j(5619),Ge=j(2096),ke=j(6028),Ye=j(9397),Ve=j(3620),it=j(2181),Le=j(7398),nt=j(8180);function Qe(be){return(0,it.h)((Se,de)=>be<=de)}var ut=j(3997),bt=j(9773),Nt=j(2495),ti=j(7131),xi=j(2572),Qt=j(5211),Re=j(5592),Ze=j(7921);const gt=new Set;let Rt,At=(()=>{class be{constructor(de,Ee){this._platform=de,this._nonce=Ee,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Kt}matchMedia(de){return(this._platform.WEBKIT||this._platform.BLINK)&&function li(be,Se){if(!gt.has(be))try{Rt||(Rt=document.createElement("style"),Se&&(Rt.nonce=Se),Rt.setAttribute("type","text/css"),document.head.appendChild(Rt)),Rt.sheet&&(Rt.sheet.insertRule(`@media ${be} {body{ }}`,0),gt.add(be))}catch(de){console.error(de)}}(de,this._nonce),this._matchMedia(de)}}return be.\u0275fac=function(de){return new(de||be)(l.LFG(ae.t4),l.LFG(l.Ojb,8))},be.\u0275prov=l.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})();function Kt(be){return{matches:"all"===be||""===be,media:be,addListener:()=>{},removeListener:()=>{}}}let Li=(()=>{class be{constructor(de,Ee){this._mediaMatcher=de,this._zone=Ee,this._queries=new Map,this._destroySubject=new v.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(de){return Si((0,Nt.Eq)(de)).some(tt=>this._registerQuery(tt).mql.matches)}observe(de){const tt=Si((0,Nt.Eq)(de)).map(Ke=>this._registerQuery(Ke).observable);let Tt=(0,xi.a)(tt);return Tt=(0,Qt.z)(Tt.pipe((0,nt.q)(1)),Tt.pipe(Qe(1),(0,Ve.b)(0))),Tt.pipe((0,Le.U)(Ke=>{const Me={matches:!1,breakpoints:{}};return Ke.forEach(({matches:We,query:zt})=>{Me.matches=Me.matches||We,Me.breakpoints[zt]=We}),Me}))}_registerQuery(de){if(this._queries.has(de))return this._queries.get(de);const Ee=this._mediaMatcher.matchMedia(de),Tt={observable:new Re.y(Ke=>{const Me=We=>this._zone.run(()=>Ke.next(We));return Ee.addListener(Me),()=>{Ee.removeListener(Me)}}).pipe((0,Ze.O)(Ee),(0,Le.U)(({matches:Ke})=>({query:de,matches:Ke})),(0,bt.R)(this._destroySubject)),mql:Ee};return this._queries.set(de,Tt),Tt}}return be.\u0275fac=function(de){return new(de||be)(l.LFG(At),l.LFG(l.R0b))},be.\u0275prov=l.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})();function Si(be){return be.map(Se=>Se.split(",")).reduce((Se,de)=>Se.concat(de)).map(Se=>Se.trim())}const Vn=" ";function hn(be,Se,de){const Ee=In(be,Se);Ee.some(tt=>tt.trim()==de.trim())||(Ee.push(de.trim()),be.setAttribute(Se,Ee.join(Vn)))}function Zn(be,Se,de){const tt=In(be,Se).filter(Tt=>Tt!=de.trim());tt.length?be.setAttribute(Se,tt.join(Vn)):be.removeAttribute(Se)}function In(be,Se){return(be.getAttribute(Se)||"").match(/\S+/g)||[]}const xt="cdk-describedby-message",kt="cdk-describedby-host";let Ft=0,Jt=(()=>{class be{constructor(de,Ee){this._platform=Ee,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Ft++,this._document=de,this._id=(0,l.f3M)(l.AFp)+"-"+Ft++}describe(de,Ee,tt){if(!this._canBeDescribed(de,Ee))return;const Tt=Et(Ee,tt);"string"!=typeof Ee?(hi(Ee,this._id),this._messageRegistry.set(Tt,{messageElement:Ee,referenceCount:0})):this._messageRegistry.has(Tt)||this._createMessageElement(Ee,tt),this._isElementDescribedByMessage(de,Tt)||this._addMessageReference(de,Tt)}removeDescription(de,Ee,tt){if(!Ee||!this._isElementNode(de))return;const Tt=Et(Ee,tt);if(this._isElementDescribedByMessage(de,Tt)&&this._removeMessageReference(de,Tt),"string"==typeof Ee){const Ke=this._messageRegistry.get(Tt);Ke&&0===Ke.referenceCount&&this._deleteMessageElement(Tt)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const de=this._document.querySelectorAll(`[${kt}="${this._id}"]`);for(let Ee=0;Ee<de.length;Ee++)this._removeCdkDescribedByReferenceIds(de[Ee]),de[Ee].removeAttribute(kt);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(de,Ee){const tt=this._document.createElement("div");hi(tt,this._id),tt.textContent=de,Ee&&tt.setAttribute("role",Ee),this._createMessagesContainer(),this._messagesContainer.appendChild(tt),this._messageRegistry.set(Et(de,Ee),{messageElement:tt,referenceCount:0})}_deleteMessageElement(de){this._messageRegistry.get(de)?.messageElement?.remove(),this._messageRegistry.delete(de)}_createMessagesContainer(){if(this._messagesContainer)return;const de="cdk-describedby-message-container",Ee=this._document.querySelectorAll(`.${de}[platform="server"]`);for(let Tt=0;Tt<Ee.length;Tt++)Ee[Tt].remove();const tt=this._document.createElement("div");tt.style.visibility="hidden",tt.classList.add(de),tt.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&tt.setAttribute("platform","server"),this._document.body.appendChild(tt),this._messagesContainer=tt}_removeCdkDescribedByReferenceIds(de){const Ee=In(de,"aria-describedby").filter(tt=>0!=tt.indexOf(xt));de.setAttribute("aria-describedby",Ee.join(" "))}_addMessageReference(de,Ee){const tt=this._messageRegistry.get(Ee);hn(de,"aria-describedby",tt.messageElement.id),de.setAttribute(kt,this._id),tt.referenceCount++}_removeMessageReference(de,Ee){const tt=this._messageRegistry.get(Ee);tt.referenceCount--,Zn(de,"aria-describedby",tt.messageElement.id),de.removeAttribute(kt)}_isElementDescribedByMessage(de,Ee){const tt=In(de,"aria-describedby"),Tt=this._messageRegistry.get(Ee),Ke=Tt&&Tt.messageElement.id;return!!Ke&&-1!=tt.indexOf(Ke)}_canBeDescribed(de,Ee){if(!this._isElementNode(de))return!1;if(Ee&&"object"==typeof Ee)return!0;const tt=null==Ee?"":`${Ee}`.trim(),Tt=de.getAttribute("aria-label");return!(!tt||Tt&&Tt.trim()===tt)}_isElementNode(de){return de.nodeType===this._document.ELEMENT_NODE}}return be.\u0275fac=function(de){return new(de||be)(l.LFG(M.K0),l.LFG(ae.t4))},be.\u0275prov=l.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})();function Et(be,Se){return"string"==typeof be?`${Se||""}/${be}`:be}function hi(be,Se){be.id||(be.id=`${xt}-${Se}-${Ft++}`)}class je{constructor(Se){this._items=Se,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new v.x,this._typeaheadSubscription=$e.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=de=>de.disabled,this._pressedLetters=[],this.tabOut=new v.x,this.change=new v.x,Se instanceof l.n_E&&(this._itemChangesSubscription=Se.changes.subscribe(de=>{if(this._activeItem){const tt=de.toArray().indexOf(this._activeItem);tt>-1&&tt!==this._activeItemIndex&&(this._activeItemIndex=tt)}}))}skipPredicate(Se){return this._skipPredicateFn=Se,this}withWrap(Se=!0){return this._wrap=Se,this}withVerticalOrientation(Se=!0){return this._vertical=Se,this}withHorizontalOrientation(Se){return this._horizontal=Se,this}withAllowedModifierKeys(Se){return this._allowedModifierKeys=Se,this}withTypeAhead(Se=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Ye.b)(de=>this._pressedLetters.push(de)),(0,Ve.b)(Se),(0,it.h)(()=>this._pressedLetters.length>0),(0,Le.U)(()=>this._pressedLetters.join(""))).subscribe(de=>{const Ee=this._getItemsArray();for(let tt=1;tt<Ee.length+1;tt++){const Tt=(this._activeItemIndex+tt)%Ee.length,Ke=Ee[Tt];if(!this._skipPredicateFn(Ke)&&0===Ke.getLabel().toUpperCase().trim().indexOf(de)){this.setActiveItem(Tt);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(Se=!0){return this._homeAndEnd=Se,this}withPageUpDown(Se=!0,de=10){return this._pageUpAndDown={enabled:Se,delta:de},this}setActiveItem(Se){const de=this._activeItem;this.updateActiveItem(Se),this._activeItem!==de&&this.change.next(this._activeItemIndex)}onKeydown(Se){const de=Se.keyCode,tt=["altKey","ctrlKey","metaKey","shiftKey"].every(Tt=>!Se[Tt]||this._allowedModifierKeys.indexOf(Tt)>-1);switch(de){case ke.Mf:return void this.tabOut.next();case ke.JH:if(this._vertical&&tt){this.setNextItemActive();break}return;case ke.LH:if(this._vertical&&tt){this.setPreviousItemActive();break}return;case ke.SV:if(this._horizontal&&tt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case ke.oh:if(this._horizontal&&tt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case ke.Sd:if(this._homeAndEnd&&tt){this.setFirstItemActive();break}return;case ke.uR:if(this._homeAndEnd&&tt){this.setLastItemActive();break}return;case ke.Ku:if(this._pageUpAndDown.enabled&&tt){const Tt=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Tt>0?Tt:0,1);break}return;case ke.VM:if(this._pageUpAndDown.enabled&&tt){const Tt=this._activeItemIndex+this._pageUpAndDown.delta,Ke=this._getItemsArray().length;this._setActiveItemByIndex(Tt<Ke?Tt:Ke-1,-1);break}return;default:return void((tt||(0,ke.Vb)(Se,"shiftKey"))&&(Se.key&&1===Se.key.length?this._letterKeyStream.next(Se.key.toLocaleUpperCase()):(de>=ke.A&&de<=ke.Z||de>=ke.xE&&de<=ke.aO)&&this._letterKeyStream.next(String.fromCharCode(de))))}this._pressedLetters=[],Se.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Se){const de=this._getItemsArray(),Ee="number"==typeof Se?Se:de.indexOf(Se);this._activeItem=de[Ee]??null,this._activeItemIndex=Ee}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(Se){this._wrap?this._setActiveInWrapMode(Se):this._setActiveInDefaultMode(Se)}_setActiveInWrapMode(Se){const de=this._getItemsArray();for(let Ee=1;Ee<=de.length;Ee++){const tt=(this._activeItemIndex+Se*Ee+de.length)%de.length;if(!this._skipPredicateFn(de[tt]))return void this.setActiveItem(tt)}}_setActiveInDefaultMode(Se){this._setActiveItemByIndex(this._activeItemIndex+Se,Se)}_setActiveItemByIndex(Se,de){const Ee=this._getItemsArray();if(Ee[Se]){for(;this._skipPredicateFn(Ee[Se]);)if(!Ee[Se+=de])return;this.setActiveItem(Se)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}class ot extends je{setActiveItem(Se){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(Se),this.activeItem&&this.activeItem.setActiveStyles()}}class ht extends je{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Se){return this._origin=Se,this}setActiveItem(Se){super.setActiveItem(Se),this.activeItem&&this.activeItem.focus(this._origin)}}let De=(()=>{class be{constructor(de){this._platform=de}isDisabled(de){return de.hasAttribute("disabled")}isVisible(de){return function Zt(be){return!!(be.offsetWidth||be.offsetHeight||"function"==typeof be.getClientRects&&be.getClientRects().length)}(de)&&"visible"===getComputedStyle(de).visibility}isTabbable(de){if(!this._platform.isBrowser)return!1;const Ee=function qt(be){try{return be.frameElement}catch{return null}}(function Pe(be){return be.ownerDocument&&be.ownerDocument.defaultView||window}(de));if(Ee&&(-1===An(Ee)||!this.isVisible(Ee)))return!1;let tt=de.nodeName.toLowerCase(),Tt=An(de);return de.hasAttribute("contenteditable")?-1!==Tt:!("iframe"===tt||"object"===tt||this._platform.WEBKIT&&this._platform.IOS&&!function vn(be){let Se=be.nodeName.toLowerCase(),de="input"===Se&&be.type;return"text"===de||"password"===de||"select"===Se||"textarea"===Se}(de))&&("audio"===tt?!!de.hasAttribute("controls")&&-1!==Tt:"video"===tt?-1!==Tt&&(null!==Tt||this._platform.FIREFOX||de.hasAttribute("controls")):de.tabIndex>=0)}isFocusable(de,Ee){return function Mn(be){return!function Xe(be){return function yi(be){return"input"==be.nodeName.toLowerCase()}(be)&&"hidden"==be.type}(be)&&(function ei(be){let Se=be.nodeName.toLowerCase();return"input"===Se||"select"===Se||"button"===Se||"textarea"===Se}(be)||function St(be){return function gn(be){return"a"==be.nodeName.toLowerCase()}(be)&&be.hasAttribute("href")}(be)||be.hasAttribute("contenteditable")||Zi(be))}(de)&&!this.isDisabled(de)&&(Ee?.ignoreVisibility||this.isVisible(de))}}return be.\u0275fac=function(de){return new(de||be)(l.LFG(ae.t4))},be.\u0275prov=l.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})();function Zi(be){if(!be.hasAttribute("tabindex")||void 0===be.tabIndex)return!1;let Se=be.getAttribute("tabindex");return!(!Se||isNaN(parseInt(Se,10)))}function An(be){if(!Zi(be))return null;const Se=parseInt(be.getAttribute("tabindex")||"",10);return isNaN(Se)?-1:Se}class se{get enabled(){return this._enabled}set enabled(Se){this._enabled=Se,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Se,this._startAnchor),this._toggleAnchorTabIndex(Se,this._endAnchor))}constructor(Se,de,Ee,tt,Tt=!1){this._element=Se,this._checker=de,this._ngZone=Ee,this._document=tt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Tt||this.attachAnchors()}destroy(){const Se=this._startAnchor,de=this._endAnchor;Se&&(Se.removeEventListener("focus",this.startAnchorListener),Se.remove()),de&&(de.removeEventListener("focus",this.endAnchorListener),de.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(Se){return new Promise(de=>{this._executeOnStable(()=>de(this.focusInitialElement(Se)))})}focusFirstTabbableElementWhenReady(Se){return new Promise(de=>{this._executeOnStable(()=>de(this.focusFirstTabbableElement(Se)))})}focusLastTabbableElementWhenReady(Se){return new Promise(de=>{this._executeOnStable(()=>de(this.focusLastTabbableElement(Se)))})}_getRegionBoundary(Se){const de=this._element.querySelectorAll(`[cdk-focus-region-${Se}], [cdkFocusRegion${Se}], [cdk-focus-${Se}]`);return"start"==Se?de.length?de[0]:this._getFirstTabbableElement(this._element):de.length?de[de.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(Se){const de=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(de){if(!this._checker.isFocusable(de)){const Ee=this._getFirstTabbableElement(de);return Ee?.focus(Se),!!Ee}return de.focus(Se),!0}return this.focusFirstTabbableElement(Se)}focusFirstTabbableElement(Se){const de=this._getRegionBoundary("start");return de&&de.focus(Se),!!de}focusLastTabbableElement(Se){const de=this._getRegionBoundary("end");return de&&de.focus(Se),!!de}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Se){if(this._checker.isFocusable(Se)&&this._checker.isTabbable(Se))return Se;const de=Se.children;for(let Ee=0;Ee<de.length;Ee++){const tt=de[Ee].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(de[Ee]):null;if(tt)return tt}return null}_getLastTabbableElement(Se){if(this._checker.isFocusable(Se)&&this._checker.isTabbable(Se))return Se;const de=Se.children;for(let Ee=de.length-1;Ee>=0;Ee--){const tt=de[Ee].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(de[Ee]):null;if(tt)return tt}return null}_createAnchor(){const Se=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Se),Se.classList.add("cdk-visually-hidden"),Se.classList.add("cdk-focus-trap-anchor"),Se.setAttribute("aria-hidden","true"),Se}_toggleAnchorTabIndex(Se,de){Se?de.setAttribute("tabindex","0"):de.removeAttribute("tabindex")}toggleAnchors(Se){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Se,this._startAnchor),this._toggleAnchorTabIndex(Se,this._endAnchor))}_executeOnStable(Se){this._ngZone.isStable?Se():this._ngZone.onStable.pipe((0,nt.q)(1)).subscribe(Se)}}let Ce=(()=>{class be{constructor(de,Ee,tt){this._checker=de,this._ngZone=Ee,this._document=tt}create(de,Ee=!1){return new se(de,this._checker,this._ngZone,this._document,Ee)}}return be.\u0275fac=function(de){return new(de||be)(l.LFG(De),l.LFG(l.R0b),l.LFG(M.K0))},be.\u0275prov=l.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})();function Xt(be){return 0===be.buttons||0===be.offsetX&&0===be.offsetY}function Ut(be){const Se=be.touches&&be.touches[0]||be.changedTouches&&be.changedTouches[0];return!(!Se||-1!==Se.identifier||null!=Se.radiusX&&1!==Se.radiusX||null!=Se.radiusY&&1!==Se.radiusY)}const pi=new l.OlP("cdk-input-modality-detector-options"),Ji={ignoreKeys:[ke.zL,ke.jx,ke.b2,ke.MW,ke.JU]},cn=(0,ae.i$)({passive:!0,capture:!0});let Wi=(()=>{class be{get mostRecentModality(){return this._modality.value}constructor(de,Ee,tt,Tt){this._platform=de,this._mostRecentTarget=null,this._modality=new ie.X(null),this._lastTouchMs=0,this._onKeydown=Ke=>{this._options?.ignoreKeys?.some(Me=>Me===Ke.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,ae.sA)(Ke))},this._onMousedown=Ke=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Xt(Ke)?"keyboard":"mouse"),this._mostRecentTarget=(0,ae.sA)(Ke))},this._onTouchstart=Ke=>{Ut(Ke)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,ae.sA)(Ke))},this._options={...Ji,...Tt},this.modalityDetected=this._modality.pipe(Qe(1)),this.modalityChanged=this.modalityDetected.pipe((0,ut.x)()),de.isBrowser&&Ee.runOutsideAngular(()=>{tt.addEventListener("keydown",this._onKeydown,cn),tt.addEventListener("mousedown",this._onMousedown,cn),tt.addEventListener("touchstart",this._onTouchstart,cn)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,cn),document.removeEventListener("mousedown",this._onMousedown,cn),document.removeEventListener("touchstart",this._onTouchstart,cn))}}return be.\u0275fac=function(de){return new(de||be)(l.LFG(ae.t4),l.LFG(l.R0b),l.LFG(M.K0),l.LFG(pi,8))},be.\u0275prov=l.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})();const _t=new l.OlP("liveAnnouncerElement",{providedIn:"root",factory:function mi(){return null}}),vt=new l.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let q=0,B=(()=>{class be{constructor(de,Ee,tt,Tt){this._ngZone=Ee,this._defaultOptions=Tt,this._document=tt,this._liveElement=de||this._createLiveElement()}announce(de,...Ee){const tt=this._defaultOptions;let Tt,Ke;return 1===Ee.length&&"number"==typeof Ee[0]?Ke=Ee[0]:[Tt,Ke]=Ee,this.clear(),clearTimeout(this._previousTimeout),Tt||(Tt=tt&&tt.politeness?tt.politeness:"polite"),null==Ke&&tt&&(Ke=tt.duration),this._liveElement.setAttribute("aria-live",Tt),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Me=>this._currentResolve=Me)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=de,"number"==typeof Ke&&(this._previousTimeout=setTimeout(()=>this.clear(),Ke)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const de="cdk-live-announcer-element",Ee=this._document.getElementsByClassName(de),tt=this._document.createElement("div");for(let Tt=0;Tt<Ee.length;Tt++)Ee[Tt].remove();return tt.classList.add(de),tt.classList.add("cdk-visually-hidden"),tt.setAttribute("aria-atomic","true"),tt.setAttribute("aria-live","polite"),tt.id="cdk-live-announcer-"+q++,this._document.body.appendChild(tt),tt}_exposeAnnouncerToModals(de){const Ee=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let tt=0;tt<Ee.length;tt++){const Tt=Ee[tt],Ke=Tt.getAttribute("aria-owns");Ke?-1===Ke.indexOf(de)&&Tt.setAttribute("aria-owns",Ke+" "+de):Tt.setAttribute("aria-owns",de)}}}return be.\u0275fac=function(de){return new(de||be)(l.LFG(_t,8),l.LFG(l.R0b),l.LFG(M.K0),l.LFG(vt,8))},be.\u0275prov=l.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})();const ee=new l.OlP("cdk-focus-monitor-default-options"),fe=(0,ae.i$)({passive:!0,capture:!0});let Ae=(()=>{class be{constructor(de,Ee,tt,Tt,Ke){this._ngZone=de,this._platform=Ee,this._inputModalityDetector=tt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new v.x,this._rootNodeFocusAndBlurListener=Me=>{for(let zt=(0,ae.sA)(Me);zt;zt=zt.parentElement)"focus"===Me.type?this._onFocus(Me,zt):this._onBlur(Me,zt)},this._document=Tt,this._detectionMode=Ke?.detectionMode||0}monitor(de,Ee=!1){const tt=(0,Nt.fI)(de);if(!this._platform.isBrowser||1!==tt.nodeType)return(0,Ge.of)();const Tt=(0,ae.kV)(tt)||this._getDocument(),Ke=this._elementInfo.get(tt);if(Ke)return Ee&&(Ke.checkChildren=!0),Ke.subject;const Me={checkChildren:Ee,subject:new v.x,rootNode:Tt};return this._elementInfo.set(tt,Me),this._registerGlobalListeners(Me),Me.subject}stopMonitoring(de){const Ee=(0,Nt.fI)(de),tt=this._elementInfo.get(Ee);tt&&(tt.subject.complete(),this._setClasses(Ee),this._elementInfo.delete(Ee),this._removeGlobalListeners(tt))}focusVia(de,Ee,tt){const Tt=(0,Nt.fI)(de);Tt===this._getDocument().activeElement?this._getClosestElementsInfo(Tt).forEach(([Me,We])=>this._originChanged(Me,Ee,We)):(this._setOrigin(Ee),"function"==typeof Tt.focus&&Tt.focus(tt))}ngOnDestroy(){this._elementInfo.forEach((de,Ee)=>this.stopMonitoring(Ee))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(de){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(de)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:de&&this._isLastInteractionFromInputLabel(de)?"mouse":"program"}_shouldBeAttributedToTouch(de){return 1===this._detectionMode||!!de?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(de,Ee){de.classList.toggle("cdk-focused",!!Ee),de.classList.toggle("cdk-touch-focused","touch"===Ee),de.classList.toggle("cdk-keyboard-focused","keyboard"===Ee),de.classList.toggle("cdk-mouse-focused","mouse"===Ee),de.classList.toggle("cdk-program-focused","program"===Ee)}_setOrigin(de,Ee=!1){this._ngZone.runOutsideAngular(()=>{this._origin=de,this._originFromTouchInteraction="touch"===de&&Ee,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(de,Ee){const tt=this._elementInfo.get(Ee),Tt=(0,ae.sA)(de);!tt||!tt.checkChildren&&Ee!==Tt||this._originChanged(Ee,this._getFocusOrigin(Tt),tt)}_onBlur(de,Ee){const tt=this._elementInfo.get(Ee);!tt||tt.checkChildren&&de.relatedTarget instanceof Node&&Ee.contains(de.relatedTarget)||(this._setClasses(Ee),this._emitOrigin(tt,null))}_emitOrigin(de,Ee){de.subject.observers.length&&this._ngZone.run(()=>de.subject.next(Ee))}_registerGlobalListeners(de){if(!this._platform.isBrowser)return;const Ee=de.rootNode,tt=this._rootNodeFocusListenerCount.get(Ee)||0;tt||this._ngZone.runOutsideAngular(()=>{Ee.addEventListener("focus",this._rootNodeFocusAndBlurListener,fe),Ee.addEventListener("blur",this._rootNodeFocusAndBlurListener,fe)}),this._rootNodeFocusListenerCount.set(Ee,tt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,bt.R)(this._stopInputModalityDetector)).subscribe(Tt=>{this._setOrigin(Tt,!0)}))}_removeGlobalListeners(de){const Ee=de.rootNode;if(this._rootNodeFocusListenerCount.has(Ee)){const tt=this._rootNodeFocusListenerCount.get(Ee);tt>1?this._rootNodeFocusListenerCount.set(Ee,tt-1):(Ee.removeEventListener("focus",this._rootNodeFocusAndBlurListener,fe),Ee.removeEventListener("blur",this._rootNodeFocusAndBlurListener,fe),this._rootNodeFocusListenerCount.delete(Ee))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(de,Ee,tt){this._setClasses(de,Ee),this._emitOrigin(tt,Ee),this._lastFocusOrigin=Ee}_getClosestElementsInfo(de){const Ee=[];return this._elementInfo.forEach((tt,Tt)=>{(Tt===de||tt.checkChildren&&Tt.contains(de))&&Ee.push([Tt,tt])}),Ee}_isLastInteractionFromInputLabel(de){const{_mostRecentTarget:Ee,mostRecentModality:tt}=this._inputModalityDetector;if("mouse"!==tt||!Ee||Ee===de||"INPUT"!==de.nodeName&&"TEXTAREA"!==de.nodeName||de.disabled)return!1;const Tt=de.labels;if(Tt)for(let Ke=0;Ke<Tt.length;Ke++)if(Tt[Ke].contains(Ee))return!0;return!1}}return be.\u0275fac=function(de){return new(de||be)(l.LFG(l.R0b),l.LFG(ae.t4),l.LFG(Wi),l.LFG(M.K0,8),l.LFG(ee,8))},be.\u0275prov=l.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})();const oe="cdk-high-contrast-black-on-white",X="cdk-high-contrast-white-on-black",he="cdk-high-contrast-active";let et=(()=>{class be{constructor(de,Ee){this._platform=de,this._document=Ee,this._breakpointSubscription=(0,l.f3M)(Li).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const de=this._document.createElement("div");de.style.backgroundColor="rgb(1,2,3)",de.style.position="absolute",this._document.body.appendChild(de);const Ee=this._document.defaultView||window,tt=Ee&&Ee.getComputedStyle?Ee.getComputedStyle(de):null,Tt=(tt&&tt.backgroundColor||"").replace(/ /g,"");switch(de.remove(),Tt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const de=this._document.body.classList;de.remove(he,oe,X),this._hasCheckedHighContrastMode=!0;const Ee=this.getHighContrastMode();1===Ee?de.add(he,oe):2===Ee&&de.add(he,X)}}}return be.\u0275fac=function(de){return new(de||be)(l.LFG(ae.t4),l.LFG(M.K0))},be.\u0275prov=l.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})(),lt=(()=>{class be{constructor(de){de._applyBodyHighContrastModeCssClasses()}}return be.\u0275fac=function(de){return new(de||be)(l.LFG(et))},be.\u0275mod=l.oAB({type:be}),be.\u0275inj=l.cJS({imports:[ti.Q8]}),be})()},9388:(gi,ft,j)=>{"use strict";j.d(ft,{Is:()=>Ge,vT:()=>Ye});var M=j(5879),l=j(6814);const ae=new M.OlP("cdk-dir-doc",{providedIn:"root",factory:function v(){return(0,M.f3M)(l.K0)}}),$e=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ge=(()=>{class Ve{constructor(Le){this.value="ltr",this.change=new M.vpe,Le&&(this.value=function ie(Ve){const it=Ve?.toLowerCase()||"";return"auto"===it&&typeof navigator<"u"&&navigator?.language?$e.test(navigator.language)?"rtl":"ltr":"rtl"===it?"rtl":"ltr"}((Le.body?Le.body.dir:null)||(Le.documentElement?Le.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return Ve.\u0275fac=function(Le){return new(Le||Ve)(M.LFG(ae,8))},Ve.\u0275prov=M.Yz7({token:Ve,factory:Ve.\u0275fac,providedIn:"root"}),Ve})(),Ye=(()=>{class Ve{}return Ve.\u0275fac=function(Le){return new(Le||Ve)},Ve.\u0275mod=M.oAB({type:Ve}),Ve.\u0275inj=M.cJS({}),Ve})()},2495:(gi,ft,j)=>{"use strict";j.d(ft,{Eq:()=>$e,HM:()=>ie,Ig:()=>l,fI:()=>Ge,su:()=>ae});var M=j(5879);function l(Ye){return null!=Ye&&"false"!=`${Ye}`}function ae(Ye,Ve=0){return function v(Ye){return!isNaN(parseFloat(Ye))&&!isNaN(Number(Ye))}(Ye)?Number(Ye):Ve}function $e(Ye){return Array.isArray(Ye)?Ye:[Ye]}function ie(Ye){return null==Ye?"":"string"==typeof Ye?Ye:`${Ye}px`}function Ge(Ye){return Ye instanceof M.SBq?Ye.nativeElement:Ye}},8337:(gi,ft,j)=>{"use strict";j.d(ft,{A8:()=>Ve,Ov:()=>ke});var M=j(8645),l=j(5879);class ke{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(nt=!1,Qe,ut=!0,bt){this._multiple=nt,this._emitChanges=ut,this.compareWith=bt,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new M.x,Qe&&Qe.length&&(nt?Qe.forEach(Nt=>this._markSelected(Nt)):this._markSelected(Qe[0]),this._selectedToEmit.length=0)}select(...nt){this._verifyValueAssignment(nt),nt.forEach(ut=>this._markSelected(ut));const Qe=this._hasQueuedChanges();return this._emitChangeEvent(),Qe}deselect(...nt){this._verifyValueAssignment(nt),nt.forEach(ut=>this._unmarkSelected(ut));const Qe=this._hasQueuedChanges();return this._emitChangeEvent(),Qe}setSelection(...nt){this._verifyValueAssignment(nt);const Qe=this.selected,ut=new Set(nt);nt.forEach(Nt=>this._markSelected(Nt)),Qe.filter(Nt=>!ut.has(Nt)).forEach(Nt=>this._unmarkSelected(Nt));const bt=this._hasQueuedChanges();return this._emitChangeEvent(),bt}toggle(nt){return this.isSelected(nt)?this.deselect(nt):this.select(nt)}clear(nt=!0){this._unmarkAll();const Qe=this._hasQueuedChanges();return nt&&this._emitChangeEvent(),Qe}isSelected(nt){return this._selection.has(this._getConcreteValue(nt))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(nt){this._multiple&&this.selected&&this._selected.sort(nt)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(nt){nt=this._getConcreteValue(nt),this.isSelected(nt)||(this._multiple||this._unmarkAll(),this.isSelected(nt)||this._selection.add(nt),this._emitChanges&&this._selectedToEmit.push(nt))}_unmarkSelected(nt){nt=this._getConcreteValue(nt),this.isSelected(nt)&&(this._selection.delete(nt),this._emitChanges&&this._deselectedToEmit.push(nt))}_unmarkAll(){this.isEmpty()||this._selection.forEach(nt=>this._unmarkSelected(nt))}_verifyValueAssignment(nt){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(nt){if(this.compareWith){for(let Qe of this._selection)if(this.compareWith(nt,Qe))return Qe;return nt}return nt}}let Ve=(()=>{class Le{constructor(){this._listeners=[]}notify(Qe,ut){for(let bt of this._listeners)bt(Qe,ut)}listen(Qe){return this._listeners.push(Qe),()=>{this._listeners=this._listeners.filter(ut=>Qe!==ut)}}ngOnDestroy(){this._listeners=[]}}return Le.\u0275fac=function(Qe){return new(Qe||Le)},Le.\u0275prov=l.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})()},6028:(gi,ft,j)=>{"use strict";j.d(ft,{A:()=>Ft,JH:()=>Qt,JU:()=>ie,K5:()=>$e,Ku:()=>nt,LH:()=>ti,L_:()=>Le,MW:()=>Ne,Mf:()=>ae,SV:()=>xi,Sd:()=>bt,VM:()=>Qe,Vb:()=>Cn,Z:()=>ne,aO:()=>Zn,b2:()=>co,hY:()=>it,jx:()=>Ge,oh:()=>Nt,uR:()=>ut,xE:()=>Rt,zL:()=>ke});const ae=9,$e=13,ie=16,Ge=17,ke=18,it=27,Le=32,nt=33,Qe=34,ut=35,bt=36,Nt=37,ti=38,xi=39,Qt=40,Rt=48,Zn=57,Ft=65,ne=90,Ne=91,co=224;function Cn(Mr,...Go){return Go.length?Go.some(Fo=>Mr[Fo]):Mr.altKey||Mr.shiftKey||Mr.ctrlKey||Mr.metaKey}},7131:(gi,ft,j)=>{"use strict";j.d(ft,{Q8:()=>Ye,wD:()=>ke});var M=j(2495),l=j(5879),ae=j(5592),v=j(8645),$e=j(3620);let ie=(()=>{class Ve{create(Le){return typeof MutationObserver>"u"?null:new MutationObserver(Le)}}return Ve.\u0275fac=function(Le){return new(Le||Ve)},Ve.\u0275prov=l.Yz7({token:Ve,factory:Ve.\u0275fac,providedIn:"root"}),Ve})(),Ge=(()=>{class Ve{constructor(Le){this._mutationObserverFactory=Le,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((Le,nt)=>this._cleanupObserver(nt))}observe(Le){const nt=(0,M.fI)(Le);return new ae.y(Qe=>{const bt=this._observeElement(nt).subscribe(Qe);return()=>{bt.unsubscribe(),this._unobserveElement(nt)}})}_observeElement(Le){if(this._observedElements.has(Le))this._observedElements.get(Le).count++;else{const nt=new v.x,Qe=this._mutationObserverFactory.create(ut=>nt.next(ut));Qe&&Qe.observe(Le,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(Le,{observer:Qe,stream:nt,count:1})}return this._observedElements.get(Le).stream}_unobserveElement(Le){this._observedElements.has(Le)&&(this._observedElements.get(Le).count--,this._observedElements.get(Le).count||this._cleanupObserver(Le))}_cleanupObserver(Le){if(this._observedElements.has(Le)){const{observer:nt,stream:Qe}=this._observedElements.get(Le);nt&&nt.disconnect(),Qe.complete(),this._observedElements.delete(Le)}}}return Ve.\u0275fac=function(Le){return new(Le||Ve)(l.LFG(ie))},Ve.\u0275prov=l.Yz7({token:Ve,factory:Ve.\u0275fac,providedIn:"root"}),Ve})(),ke=(()=>{class Ve{get disabled(){return this._disabled}set disabled(Le){this._disabled=(0,M.Ig)(Le),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(Le){this._debounce=(0,M.su)(Le),this._subscribe()}constructor(Le,nt,Qe){this._contentObserver=Le,this._elementRef=nt,this._ngZone=Qe,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const Le=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?Le.pipe((0,$e.b)(this.debounce)):Le).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return Ve.\u0275fac=function(Le){return new(Le||Ve)(l.Y36(Ge),l.Y36(l.SBq),l.Y36(l.R0b))},Ve.\u0275dir=l.lG2({type:Ve,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),Ve})(),Ye=(()=>{class Ve{}return Ve.\u0275fac=function(Le){return new(Le||Ve)},Ve.\u0275mod=l.oAB({type:Ve}),Ve.\u0275inj=l.cJS({providers:[ie]}),Ve})()},3651:(gi,ft,j)=>{"use strict";j.d(ft,{pI:()=>gn,xu:()=>yi,aV:()=>ei,U8:()=>vn});var M=j(799),l=j(6814),ae=j(5879),v=j(2495),$e=j(2831),ie=j(2181),Ge=j(8180),ke=j(9773),Ye=j(9360),Ve=j(8251),Le=j(9388),nt=j(8484),Qe=j(8645),ut=j(7394),bt=j(3019),Nt=j(6028);const ti=(0,$e.Mq)();class xi{constructor(se,Ce){this._viewportRuler=se,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Ce}attach(){}enable(){if(this._canBeEnabled()){const se=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=se.style.left||"",this._previousHTMLStyles.top=se.style.top||"",se.style.left=(0,v.HM)(-this._previousScrollPosition.left),se.style.top=(0,v.HM)(-this._previousScrollPosition.top),se.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const se=this._document.documentElement,Ie=se.style,Te=this._document.body.style,ne=Ie.scrollBehavior||"",Ne=Te.scrollBehavior||"";this._isEnabled=!1,Ie.left=this._previousHTMLStyles.left,Ie.top=this._previousHTMLStyles.top,se.classList.remove("cdk-global-scrollblock"),ti&&(Ie.scrollBehavior=Te.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ti&&(Ie.scrollBehavior=ne,Te.scrollBehavior=Ne)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Ce=this._document.body,Ie=this._viewportRuler.getViewportSize();return Ce.scrollHeight>Ie.height||Ce.scrollWidth>Ie.width}}class Re{constructor(se,Ce,Ie,Te){this._scrollDispatcher=se,this._ngZone=Ce,this._viewportRuler=Ie,this._config=Te,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(se){this._overlayRef=se}enable(){if(this._scrollSubscription)return;const se=this._scrollDispatcher.scrolled(0).pipe((0,ie.h)(Ce=>!Ce||!this._overlayRef.overlayElement.contains(Ce.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=se.subscribe(()=>{const Ce=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Ce-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=se.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Ze{enable(){}disable(){}attach(){}}function Oe(Pe,se){return se.some(Ce=>Pe.bottom<Ce.top||Pe.top>Ce.bottom||Pe.right<Ce.left||Pe.left>Ce.right)}function gt(Pe,se){return se.some(Ce=>Pe.top<Ce.top||Pe.bottom>Ce.bottom||Pe.left<Ce.left||Pe.right>Ce.right)}class Rt{constructor(se,Ce,Ie,Te){this._scrollDispatcher=se,this._viewportRuler=Ce,this._ngZone=Ie,this._config=Te,this._scrollSubscription=null}attach(se){this._overlayRef=se}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Ce=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Ie,height:Te}=this._viewportRuler.getViewportSize();Oe(Ce,[{width:Ie,height:Te,bottom:Te,right:Ie,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let At=(()=>{class Pe{constructor(Ce,Ie,Te,ne){this._scrollDispatcher=Ce,this._viewportRuler=Ie,this._ngZone=Te,this.noop=()=>new Ze,this.close=Ne=>new Re(this._scrollDispatcher,this._ngZone,this._viewportRuler,Ne),this.block=()=>new xi(this._viewportRuler,this._document),this.reposition=Ne=>new Rt(this._scrollDispatcher,this._viewportRuler,this._ngZone,Ne),this._document=ne}}return Pe.\u0275fac=function(Ce){return new(Ce||Pe)(ae.LFG(M.mF),ae.LFG(M.rL),ae.LFG(ae.R0b),ae.LFG(l.K0))},Pe.\u0275prov=ae.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})();class li{constructor(se){if(this.scrollStrategy=new Ze,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,se){const Ce=Object.keys(se);for(const Ie of Ce)void 0!==se[Ie]&&(this[Ie]=se[Ie])}}}class Si{constructor(se,Ce){this.connectionPair=se,this.scrollableViewProperties=Ce}}let hn=(()=>{class Pe{constructor(Ce){this._attachedOverlays=[],this._document=Ce}ngOnDestroy(){this.detach()}add(Ce){this.remove(Ce),this._attachedOverlays.push(Ce)}remove(Ce){const Ie=this._attachedOverlays.indexOf(Ce);Ie>-1&&this._attachedOverlays.splice(Ie,1),0===this._attachedOverlays.length&&this.detach()}}return Pe.\u0275fac=function(Ce){return new(Ce||Pe)(ae.LFG(l.K0))},Pe.\u0275prov=ae.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})(),Zn=(()=>{class Pe extends hn{constructor(Ce,Ie){super(Ce),this._ngZone=Ie,this._keydownListener=Te=>{const ne=this._attachedOverlays;for(let Ne=ne.length-1;Ne>-1;Ne--)if(ne[Ne]._keydownEvents.observers.length>0){const dt=ne[Ne]._keydownEvents;this._ngZone?this._ngZone.run(()=>dt.next(Te)):dt.next(Te);break}}}add(Ce){super.add(Ce),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return Pe.\u0275fac=function(Ce){return new(Ce||Pe)(ae.LFG(l.K0),ae.LFG(ae.R0b,8))},Pe.\u0275prov=ae.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})(),In=(()=>{class Pe extends hn{constructor(Ce,Ie,Te){super(Ce),this._platform=Ie,this._ngZone=Te,this._cursorStyleIsSet=!1,this._pointerDownListener=ne=>{this._pointerDownEventTarget=(0,$e.sA)(ne)},this._clickListener=ne=>{const Ne=(0,$e.sA)(ne),dt="click"===ne.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Ne;this._pointerDownEventTarget=null;const jt=this._attachedOverlays.slice();for(let Xt=jt.length-1;Xt>-1;Xt--){const Ut=jt[Xt];if(Ut._outsidePointerEvents.observers.length<1||!Ut.hasAttached())continue;if(Ut.overlayElement.contains(Ne)||Ut.overlayElement.contains(dt))break;const pi=Ut._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>pi.next(ne)):pi.next(ne)}}}add(Ce){if(super.add(Ce),!this._isAttached){const Ie=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Ie)):this._addEventListeners(Ie),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Ie.style.cursor,Ie.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Ce=this._document.body;Ce.removeEventListener("pointerdown",this._pointerDownListener,!0),Ce.removeEventListener("click",this._clickListener,!0),Ce.removeEventListener("auxclick",this._clickListener,!0),Ce.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Ce.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Ce){Ce.addEventListener("pointerdown",this._pointerDownListener,!0),Ce.addEventListener("click",this._clickListener,!0),Ce.addEventListener("auxclick",this._clickListener,!0),Ce.addEventListener("contextmenu",this._clickListener,!0)}}return Pe.\u0275fac=function(Ce){return new(Ce||Pe)(ae.LFG(l.K0),ae.LFG($e.t4),ae.LFG(ae.R0b,8))},Pe.\u0275prov=ae.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})(),wt=(()=>{class Pe{constructor(Ce,Ie){this._platform=Ie,this._document=Ce}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ce="cdk-overlay-container";if(this._platform.isBrowser||(0,$e.Oy)()){const Te=this._document.querySelectorAll(`.${Ce}[platform="server"], .${Ce}[platform="test"]`);for(let ne=0;ne<Te.length;ne++)Te[ne].remove()}const Ie=this._document.createElement("div");Ie.classList.add(Ce),(0,$e.Oy)()?Ie.setAttribute("platform","test"):this._platform.isBrowser||Ie.setAttribute("platform","server"),this._document.body.appendChild(Ie),this._containerElement=Ie}}return Pe.\u0275fac=function(Ce){return new(Ce||Pe)(ae.LFG(l.K0),ae.LFG($e.t4))},Pe.\u0275prov=ae.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})();class xt{constructor(se,Ce,Ie,Te,ne,Ne,dt,jt,Xt,Ut=!1){this._portalOutlet=se,this._host=Ce,this._pane=Ie,this._config=Te,this._ngZone=ne,this._keyboardDispatcher=Ne,this._document=dt,this._location=jt,this._outsideClickDispatcher=Xt,this._animationsDisabled=Ut,this._backdropElement=null,this._backdropClick=new Qe.x,this._attachments=new Qe.x,this._detachments=new Qe.x,this._locationChanges=ut.w0.EMPTY,this._backdropClickHandler=pi=>this._backdropClick.next(pi),this._backdropTransitionendHandler=pi=>{this._disposeBackdrop(pi.target)},this._keydownEvents=new Qe.x,this._outsidePointerEvents=new Qe.x,Te.scrollStrategy&&(this._scrollStrategy=Te.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Te.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(se){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Ce=this._portalOutlet.attach(se);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Ge.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Ce?.onDestroy&&Ce.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Ce}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const se=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),se}dispose(){const se=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,se&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(se){se!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=se,this.hasAttached()&&(se.attach(this),this.updatePosition()))}updateSize(se){this._config={...this._config,...se},this._updateElementSize()}setDirection(se){this._config={...this._config,direction:se},this._updateElementDirection()}addPanelClass(se){this._pane&&this._toggleClasses(this._pane,se,!0)}removePanelClass(se){this._pane&&this._toggleClasses(this._pane,se,!1)}getDirection(){const se=this._config.direction;return se?"string"==typeof se?se:se.value:"ltr"}updateScrollStrategy(se){se!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=se,this.hasAttached()&&(se.attach(this),se.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const se=this._pane.style;se.width=(0,v.HM)(this._config.width),se.height=(0,v.HM)(this._config.height),se.minWidth=(0,v.HM)(this._config.minWidth),se.minHeight=(0,v.HM)(this._config.minHeight),se.maxWidth=(0,v.HM)(this._config.maxWidth),se.maxHeight=(0,v.HM)(this._config.maxHeight)}_togglePointerEvents(se){this._pane.style.pointerEvents=se?"":"none"}_attachBackdrop(){const se="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(se)})}):this._backdropElement.classList.add(se)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const se=this._backdropElement;if(se){if(this._animationsDisabled)return void this._disposeBackdrop(se);se.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{se.addEventListener("transitionend",this._backdropTransitionendHandler)}),se.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(se)},500))}}_toggleClasses(se,Ce,Ie){const Te=(0,v.Eq)(Ce||[]).filter(ne=>!!ne);Te.length&&(Ie?se.classList.add(...Te):se.classList.remove(...Te))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const se=this._ngZone.onStable.pipe((0,ke.R)((0,bt.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),se.unsubscribe())})})}_disposeScrollStrategy(){const se=this._scrollStrategy;se&&(se.disable(),se.detach&&se.detach())}_disposeBackdrop(se){se&&(se.removeEventListener("click",this._backdropClickHandler),se.removeEventListener("transitionend",this._backdropTransitionendHandler),se.remove(),this._backdropElement===se&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const kt="cdk-overlay-connected-position-bounding-box",Ft=/([A-Za-z%]+)$/;class Jt{get positions(){return this._preferredPositions}constructor(se,Ce,Ie,Te,ne){this._viewportRuler=Ce,this._document=Ie,this._platform=Te,this._overlayContainer=ne,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Qe.x,this._resizeSubscription=ut.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(se)}attach(se){this._validatePositions(),se.hostElement.classList.add(kt),this._overlayRef=se,this._boundingBox=se.hostElement,this._pane=se.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const se=this._originRect,Ce=this._overlayRect,Ie=this._viewportRect,Te=this._containerRect,ne=[];let Ne;for(let dt of this._preferredPositions){let jt=this._getOriginPoint(se,Te,dt),Xt=this._getOverlayPoint(jt,Ce,dt),Ut=this._getOverlayFit(Xt,Ce,Ie,dt);if(Ut.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(dt,jt);this._canFitWithFlexibleDimensions(Ut,Xt,Ie)?ne.push({position:dt,origin:jt,overlayRect:Ce,boundingBoxRect:this._calculateBoundingBoxRect(jt,dt)}):(!Ne||Ne.overlayFit.visibleArea<Ut.visibleArea)&&(Ne={overlayFit:Ut,overlayPoint:Xt,originPoint:jt,position:dt,overlayRect:Ce})}if(ne.length){let dt=null,jt=-1;for(const Xt of ne){const Ut=Xt.boundingBoxRect.width*Xt.boundingBoxRect.height*(Xt.position.weight||1);Ut>jt&&(jt=Ut,dt=Xt)}return this._isPushed=!1,void this._applyPosition(dt.position,dt.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Ne.position,Ne.originPoint);this._applyPosition(Ne.position,Ne.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Et(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(kt),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const se=this._lastPosition;if(se){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Ce=this._getOriginPoint(this._originRect,this._containerRect,se);this._applyPosition(se,Ce)}else this.apply()}withScrollableContainers(se){return this._scrollables=se,this}withPositions(se){return this._preferredPositions=se,-1===se.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(se){return this._viewportMargin=se,this}withFlexibleDimensions(se=!0){return this._hasFlexibleDimensions=se,this}withGrowAfterOpen(se=!0){return this._growAfterOpen=se,this}withPush(se=!0){return this._canPush=se,this}withLockedPosition(se=!0){return this._positionLocked=se,this}setOrigin(se){return this._origin=se,this}withDefaultOffsetX(se){return this._offsetX=se,this}withDefaultOffsetY(se){return this._offsetY=se,this}withTransformOriginOn(se){return this._transformOriginSelector=se,this}_getOriginPoint(se,Ce,Ie){let Te,ne;if("center"==Ie.originX)Te=se.left+se.width/2;else{const Ne=this._isRtl()?se.right:se.left,dt=this._isRtl()?se.left:se.right;Te="start"==Ie.originX?Ne:dt}return Ce.left<0&&(Te-=Ce.left),ne="center"==Ie.originY?se.top+se.height/2:"top"==Ie.originY?se.top:se.bottom,Ce.top<0&&(ne-=Ce.top),{x:Te,y:ne}}_getOverlayPoint(se,Ce,Ie){let Te,ne;return Te="center"==Ie.overlayX?-Ce.width/2:"start"===Ie.overlayX?this._isRtl()?-Ce.width:0:this._isRtl()?0:-Ce.width,ne="center"==Ie.overlayY?-Ce.height/2:"top"==Ie.overlayY?0:-Ce.height,{x:se.x+Te,y:se.y+ne}}_getOverlayFit(se,Ce,Ie,Te){const ne=je(Ce);let{x:Ne,y:dt}=se,jt=this._getOffset(Te,"x"),Xt=this._getOffset(Te,"y");jt&&(Ne+=jt),Xt&&(dt+=Xt);let Ji=0-dt,en=dt+ne.height-Ie.height,cn=this._subtractOverflows(ne.width,0-Ne,Ne+ne.width-Ie.width),Wi=this._subtractOverflows(ne.height,Ji,en),_t=cn*Wi;return{visibleArea:_t,isCompletelyWithinViewport:ne.width*ne.height===_t,fitsInViewportVertically:Wi===ne.height,fitsInViewportHorizontally:cn==ne.width}}_canFitWithFlexibleDimensions(se,Ce,Ie){if(this._hasFlexibleDimensions){const Te=Ie.bottom-Ce.y,ne=Ie.right-Ce.x,Ne=hi(this._overlayRef.getConfig().minHeight),dt=hi(this._overlayRef.getConfig().minWidth);return(se.fitsInViewportVertically||null!=Ne&&Ne<=Te)&&(se.fitsInViewportHorizontally||null!=dt&&dt<=ne)}return!1}_pushOverlayOnScreen(se,Ce,Ie){if(this._previousPushAmount&&this._positionLocked)return{x:se.x+this._previousPushAmount.x,y:se.y+this._previousPushAmount.y};const Te=je(Ce),ne=this._viewportRect,Ne=Math.max(se.x+Te.width-ne.width,0),dt=Math.max(se.y+Te.height-ne.height,0),jt=Math.max(ne.top-Ie.top-se.y,0),Xt=Math.max(ne.left-Ie.left-se.x,0);let Ut=0,pi=0;return Ut=Te.width<=ne.width?Xt||-Ne:se.x<this._viewportMargin?ne.left-Ie.left-se.x:0,pi=Te.height<=ne.height?jt||-dt:se.y<this._viewportMargin?ne.top-Ie.top-se.y:0,this._previousPushAmount={x:Ut,y:pi},{x:se.x+Ut,y:se.y+pi}}_applyPosition(se,Ce){if(this._setTransformOrigin(se),this._setOverlayElementStyles(Ce,se),this._setBoundingBoxStyles(Ce,se),se.panelClass&&this._addPanelClasses(se.panelClass),this._lastPosition=se,this._positionChanges.observers.length){const Ie=this._getScrollVisibility(),Te=new Si(se,Ie);this._positionChanges.next(Te)}this._isInitialRender=!1}_setTransformOrigin(se){if(!this._transformOriginSelector)return;const Ce=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Ie,Te=se.overlayY;Ie="center"===se.overlayX?"center":this._isRtl()?"start"===se.overlayX?"right":"left":"start"===se.overlayX?"left":"right";for(let ne=0;ne<Ce.length;ne++)Ce[ne].style.transformOrigin=`${Ie} ${Te}`}_calculateBoundingBoxRect(se,Ce){const Ie=this._viewportRect,Te=this._isRtl();let ne,Ne,dt,Ut,pi,Ji;if("top"===Ce.overlayY)Ne=se.y,ne=Ie.height-Ne+this._viewportMargin;else if("bottom"===Ce.overlayY)dt=Ie.height-se.y+2*this._viewportMargin,ne=Ie.height-dt+this._viewportMargin;else{const en=Math.min(Ie.bottom-se.y+Ie.top,se.y),cn=this._lastBoundingBoxSize.height;ne=2*en,Ne=se.y-en,ne>cn&&!this._isInitialRender&&!this._growAfterOpen&&(Ne=se.y-cn/2)}if("end"===Ce.overlayX&&!Te||"start"===Ce.overlayX&&Te)Ji=Ie.width-se.x+this._viewportMargin,Ut=se.x-this._viewportMargin;else if("start"===Ce.overlayX&&!Te||"end"===Ce.overlayX&&Te)pi=se.x,Ut=Ie.right-se.x;else{const en=Math.min(Ie.right-se.x+Ie.left,se.x),cn=this._lastBoundingBoxSize.width;Ut=2*en,pi=se.x-en,Ut>cn&&!this._isInitialRender&&!this._growAfterOpen&&(pi=se.x-cn/2)}return{top:Ne,left:pi,bottom:dt,right:Ji,width:Ut,height:ne}}_setBoundingBoxStyles(se,Ce){const Ie=this._calculateBoundingBoxRect(se,Ce);!this._isInitialRender&&!this._growAfterOpen&&(Ie.height=Math.min(Ie.height,this._lastBoundingBoxSize.height),Ie.width=Math.min(Ie.width,this._lastBoundingBoxSize.width));const Te={};if(this._hasExactPosition())Te.top=Te.left="0",Te.bottom=Te.right=Te.maxHeight=Te.maxWidth="",Te.width=Te.height="100%";else{const ne=this._overlayRef.getConfig().maxHeight,Ne=this._overlayRef.getConfig().maxWidth;Te.height=(0,v.HM)(Ie.height),Te.top=(0,v.HM)(Ie.top),Te.bottom=(0,v.HM)(Ie.bottom),Te.width=(0,v.HM)(Ie.width),Te.left=(0,v.HM)(Ie.left),Te.right=(0,v.HM)(Ie.right),Te.alignItems="center"===Ce.overlayX?"center":"end"===Ce.overlayX?"flex-end":"flex-start",Te.justifyContent="center"===Ce.overlayY?"center":"bottom"===Ce.overlayY?"flex-end":"flex-start",ne&&(Te.maxHeight=(0,v.HM)(ne)),Ne&&(Te.maxWidth=(0,v.HM)(Ne))}this._lastBoundingBoxSize=Ie,Et(this._boundingBox.style,Te)}_resetBoundingBoxStyles(){Et(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Et(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(se,Ce){const Ie={},Te=this._hasExactPosition(),ne=this._hasFlexibleDimensions,Ne=this._overlayRef.getConfig();if(Te){const Ut=this._viewportRuler.getViewportScrollPosition();Et(Ie,this._getExactOverlayY(Ce,se,Ut)),Et(Ie,this._getExactOverlayX(Ce,se,Ut))}else Ie.position="static";let dt="",jt=this._getOffset(Ce,"x"),Xt=this._getOffset(Ce,"y");jt&&(dt+=`translateX(${jt}px) `),Xt&&(dt+=`translateY(${Xt}px)`),Ie.transform=dt.trim(),Ne.maxHeight&&(Te?Ie.maxHeight=(0,v.HM)(Ne.maxHeight):ne&&(Ie.maxHeight="")),Ne.maxWidth&&(Te?Ie.maxWidth=(0,v.HM)(Ne.maxWidth):ne&&(Ie.maxWidth="")),Et(this._pane.style,Ie)}_getExactOverlayY(se,Ce,Ie){let Te={top:"",bottom:""},ne=this._getOverlayPoint(Ce,this._overlayRect,se);return this._isPushed&&(ne=this._pushOverlayOnScreen(ne,this._overlayRect,Ie)),"bottom"===se.overlayY?Te.bottom=this._document.documentElement.clientHeight-(ne.y+this._overlayRect.height)+"px":Te.top=(0,v.HM)(ne.y),Te}_getExactOverlayX(se,Ce,Ie){let Ne,Te={left:"",right:""},ne=this._getOverlayPoint(Ce,this._overlayRect,se);return this._isPushed&&(ne=this._pushOverlayOnScreen(ne,this._overlayRect,Ie)),Ne=this._isRtl()?"end"===se.overlayX?"left":"right":"end"===se.overlayX?"right":"left","right"===Ne?Te.right=this._document.documentElement.clientWidth-(ne.x+this._overlayRect.width)+"px":Te.left=(0,v.HM)(ne.x),Te}_getScrollVisibility(){const se=this._getOriginRect(),Ce=this._pane.getBoundingClientRect(),Ie=this._scrollables.map(Te=>Te.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:gt(se,Ie),isOriginOutsideView:Oe(se,Ie),isOverlayClipped:gt(Ce,Ie),isOverlayOutsideView:Oe(Ce,Ie)}}_subtractOverflows(se,...Ce){return Ce.reduce((Ie,Te)=>Ie-Math.max(Te,0),se)}_getNarrowedViewportRect(){const se=this._document.documentElement.clientWidth,Ce=this._document.documentElement.clientHeight,Ie=this._viewportRuler.getViewportScrollPosition();return{top:Ie.top+this._viewportMargin,left:Ie.left+this._viewportMargin,right:Ie.left+se-this._viewportMargin,bottom:Ie.top+Ce-this._viewportMargin,width:se-2*this._viewportMargin,height:Ce-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(se,Ce){return"x"===Ce?null==se.offsetX?this._offsetX:se.offsetX:null==se.offsetY?this._offsetY:se.offsetY}_validatePositions(){}_addPanelClasses(se){this._pane&&(0,v.Eq)(se).forEach(Ce=>{""!==Ce&&-1===this._appliedPanelClasses.indexOf(Ce)&&(this._appliedPanelClasses.push(Ce),this._pane.classList.add(Ce))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(se=>{this._pane.classList.remove(se)}),this._appliedPanelClasses=[])}_getOriginRect(){const se=this._origin;if(se instanceof ae.SBq)return se.nativeElement.getBoundingClientRect();if(se instanceof Element)return se.getBoundingClientRect();const Ce=se.width||0,Ie=se.height||0;return{top:se.y,bottom:se.y+Ie,left:se.x,right:se.x+Ce,height:Ie,width:Ce}}}function Et(Pe,se){for(let Ce in se)se.hasOwnProperty(Ce)&&(Pe[Ce]=se[Ce]);return Pe}function hi(Pe){if("number"!=typeof Pe&&null!=Pe){const[se,Ce]=Pe.split(Ft);return Ce&&"px"!==Ce?null:parseFloat(se)}return Pe||null}function je(Pe){return{top:Math.floor(Pe.top),right:Math.floor(Pe.right),bottom:Math.floor(Pe.bottom),left:Math.floor(Pe.left),width:Math.floor(Pe.width),height:Math.floor(Pe.height)}}const ct="cdk-global-overlay-wrapper";class De{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(se){const Ce=se.getConfig();this._overlayRef=se,this._width&&!Ce.width&&se.updateSize({width:this._width}),this._height&&!Ce.height&&se.updateSize({height:this._height}),se.hostElement.classList.add(ct),this._isDisposed=!1}top(se=""){return this._bottomOffset="",this._topOffset=se,this._alignItems="flex-start",this}left(se=""){return this._xOffset=se,this._xPosition="left",this}bottom(se=""){return this._topOffset="",this._bottomOffset=se,this._alignItems="flex-end",this}right(se=""){return this._xOffset=se,this._xPosition="right",this}start(se=""){return this._xOffset=se,this._xPosition="start",this}end(se=""){return this._xOffset=se,this._xPosition="end",this}width(se=""){return this._overlayRef?this._overlayRef.updateSize({width:se}):this._width=se,this}height(se=""){return this._overlayRef?this._overlayRef.updateSize({height:se}):this._height=se,this}centerHorizontally(se=""){return this.left(se),this._xPosition="center",this}centerVertically(se=""){return this.top(se),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const se=this._overlayRef.overlayElement.style,Ce=this._overlayRef.hostElement.style,Ie=this._overlayRef.getConfig(),{width:Te,height:ne,maxWidth:Ne,maxHeight:dt}=Ie,jt=!("100%"!==Te&&"100vw"!==Te||Ne&&"100%"!==Ne&&"100vw"!==Ne),Xt=!("100%"!==ne&&"100vh"!==ne||dt&&"100%"!==dt&&"100vh"!==dt),Ut=this._xPosition,pi=this._xOffset,Ji="rtl"===this._overlayRef.getConfig().direction;let en="",cn="",Wi="";jt?Wi="flex-start":"center"===Ut?(Wi="center",Ji?cn=pi:en=pi):Ji?"left"===Ut||"end"===Ut?(Wi="flex-end",en=pi):("right"===Ut||"start"===Ut)&&(Wi="flex-start",cn=pi):"left"===Ut||"start"===Ut?(Wi="flex-start",en=pi):("right"===Ut||"end"===Ut)&&(Wi="flex-end",cn=pi),se.position=this._cssPosition,se.marginLeft=jt?"0":en,se.marginTop=Xt?"0":this._topOffset,se.marginBottom=this._bottomOffset,se.marginRight=jt?"0":cn,Ce.justifyContent=Wi,Ce.alignItems=Xt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const se=this._overlayRef.overlayElement.style,Ce=this._overlayRef.hostElement,Ie=Ce.style;Ce.classList.remove(ct),Ie.justifyContent=Ie.alignItems=se.marginTop=se.marginBottom=se.marginLeft=se.marginRight=se.position="",this._overlayRef=null,this._isDisposed=!0}}let qt=(()=>{class Pe{constructor(Ce,Ie,Te,ne){this._viewportRuler=Ce,this._document=Ie,this._platform=Te,this._overlayContainer=ne}global(){return new De}flexibleConnectedTo(Ce){return new Jt(Ce,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return Pe.\u0275fac=function(Ce){return new(Ce||Pe)(ae.LFG(M.rL),ae.LFG(l.K0),ae.LFG($e.t4),ae.LFG(wt))},Pe.\u0275prov=ae.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})(),Zt=0,ei=(()=>{class Pe{constructor(Ce,Ie,Te,ne,Ne,dt,jt,Xt,Ut,pi,Ji,en){this.scrollStrategies=Ce,this._overlayContainer=Ie,this._componentFactoryResolver=Te,this._positionBuilder=ne,this._keyboardDispatcher=Ne,this._injector=dt,this._ngZone=jt,this._document=Xt,this._directionality=Ut,this._location=pi,this._outsideClickDispatcher=Ji,this._animationsModuleType=en}create(Ce){const Ie=this._createHostElement(),Te=this._createPaneElement(Ie),ne=this._createPortalOutlet(Te),Ne=new li(Ce);return Ne.direction=Ne.direction||this._directionality.value,new xt(ne,Ie,Te,Ne,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(Ce){const Ie=this._document.createElement("div");return Ie.id="cdk-overlay-"+Zt++,Ie.classList.add("cdk-overlay-pane"),Ce.appendChild(Ie),Ie}_createHostElement(){const Ce=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Ce),Ce}_createPortalOutlet(Ce){return this._appRef||(this._appRef=this._injector.get(ae.z2F)),new nt.u0(Ce,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return Pe.\u0275fac=function(Ce){return new(Ce||Pe)(ae.LFG(At),ae.LFG(wt),ae.LFG(ae._Vd),ae.LFG(qt),ae.LFG(Zn),ae.LFG(ae.zs3),ae.LFG(ae.R0b),ae.LFG(l.K0),ae.LFG(Le.Is),ae.LFG(l.Ye),ae.LFG(In),ae.LFG(ae.QbO,8))},Pe.\u0275prov=ae.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})();const Xe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],St=new ae.OlP("cdk-connected-overlay-scroll-strategy");let yi=(()=>{class Pe{constructor(Ce){this.elementRef=Ce}}return Pe.\u0275fac=function(Ce){return new(Ce||Pe)(ae.Y36(ae.SBq))},Pe.\u0275dir=ae.lG2({type:Pe,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0}),Pe})(),gn=(()=>{class Pe{get offsetX(){return this._offsetX}set offsetX(Ce){this._offsetX=Ce,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(Ce){this._offsetY=Ce,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(Ce){this._hasBackdrop=(0,v.Ig)(Ce)}get lockPosition(){return this._lockPosition}set lockPosition(Ce){this._lockPosition=(0,v.Ig)(Ce)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(Ce){this._flexibleDimensions=(0,v.Ig)(Ce)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(Ce){this._growAfterOpen=(0,v.Ig)(Ce)}get push(){return this._push}set push(Ce){this._push=(0,v.Ig)(Ce)}constructor(Ce,Ie,Te,ne,Ne){this._overlay=Ce,this._dir=Ne,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=ut.w0.EMPTY,this._attachSubscription=ut.w0.EMPTY,this._detachSubscription=ut.w0.EMPTY,this._positionSubscription=ut.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new ae.vpe,this.positionChange=new ae.vpe,this.attach=new ae.vpe,this.detach=new ae.vpe,this.overlayKeydown=new ae.vpe,this.overlayOutsideClick=new ae.vpe,this._templatePortal=new nt.UE(Ie,Te),this._scrollStrategyFactory=ne,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(Ce){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),Ce.origin&&this.open&&this._position.apply()),Ce.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Xe);const Ce=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=Ce.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=Ce.detachments().subscribe(()=>this.detach.emit()),Ce.keydownEvents().subscribe(Ie=>{this.overlayKeydown.next(Ie),Ie.keyCode===Nt.hY&&!this.disableClose&&!(0,Nt.Vb)(Ie)&&(Ie.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(Ie=>{this.overlayOutsideClick.next(Ie)})}_buildConfig(){const Ce=this._position=this.positionStrategy||this._createPositionStrategy(),Ie=new li({direction:this._dir,positionStrategy:Ce,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(Ie.width=this.width),(this.height||0===this.height)&&(Ie.height=this.height),(this.minWidth||0===this.minWidth)&&(Ie.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(Ie.minHeight=this.minHeight),this.backdropClass&&(Ie.backdropClass=this.backdropClass),this.panelClass&&(Ie.panelClass=this.panelClass),Ie}_updatePositionStrategy(Ce){const Ie=this.positions.map(Te=>({originX:Te.originX,originY:Te.originY,overlayX:Te.overlayX,overlayY:Te.overlayY,offsetX:Te.offsetX||this.offsetX,offsetY:Te.offsetY||this.offsetY,panelClass:Te.panelClass||void 0}));return Ce.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(Ie).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const Ce=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(Ce),Ce}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof yi?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(Ce=>{this.backdropClick.emit(Ce)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function it(Pe,se=!1){return(0,Ye.e)((Ce,Ie)=>{let Te=0;Ce.subscribe((0,Ve.x)(Ie,ne=>{const Ne=Pe(ne,Te++);(Ne||se)&&Ie.next(ne),!Ne&&Ie.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(Ce=>{this.positionChange.emit(Ce),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return Pe.\u0275fac=function(Ce){return new(Ce||Pe)(ae.Y36(ei),ae.Y36(ae.Rgc),ae.Y36(ae.s_b),ae.Y36(St),ae.Y36(Le.Is,8))},Pe.\u0275dir=ae.lG2({type:Pe,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[ae.TTD]}),Pe})();const An={provide:St,deps:[ei],useFactory:function Zi(Pe){return()=>Pe.scrollStrategies.reposition()}};let vn=(()=>{class Pe{}return Pe.\u0275fac=function(Ce){return new(Ce||Pe)},Pe.\u0275mod=ae.oAB({type:Pe}),Pe.\u0275inj=ae.cJS({providers:[ei,An],imports:[Le.vT,nt.eL,M.Cl,M.Cl]}),Pe})()},2831:(gi,ft,j)=>{"use strict";j.d(ft,{Mq:()=>Qe,Oy:()=>Re,_i:()=>ut,ht:()=>xi,i$:()=>it,kV:()=>ti,qK:()=>ke,sA:()=>Qt,t4:()=>v});var M=j(5879),l=j(6814);let ae;try{ae=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ae=!1}let ie,v=(()=>{class Ze{constructor(gt){this._platformId=gt,this.isBrowser=this._platformId?(0,l.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ae)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return Ze.\u0275fac=function(gt){return new(gt||Ze)(M.LFG(M.Lbi))},Ze.\u0275prov=M.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze})();const Ge=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ke(){if(ie)return ie;if("object"!=typeof document||!document)return ie=new Set(Ge),ie;let Ze=document.createElement("input");return ie=new Set(Ge.filter(Oe=>(Ze.setAttribute("type",Oe),Ze.type===Oe))),ie}let Ye,Le,nt,bt;function it(Ze){return function Ve(){if(null==Ye&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ye=!0}))}finally{Ye=Ye||!1}return Ye}()?Ze:!!Ze.capture}function Qe(){if(null==nt){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return nt=!1,nt;if("scrollBehavior"in document.documentElement.style)nt=!0;else{const Ze=Element.prototype.scrollTo;nt=!!Ze&&!/\{\s*\[native code\]\s*\}/.test(Ze.toString())}}return nt}function ut(){if("object"!=typeof document||!document)return 0;if(null==Le){const Ze=document.createElement("div"),Oe=Ze.style;Ze.dir="rtl",Oe.width="1px",Oe.overflow="auto",Oe.visibility="hidden",Oe.pointerEvents="none",Oe.position="absolute";const gt=document.createElement("div"),Rt=gt.style;Rt.width="2px",Rt.height="1px",Ze.appendChild(gt),document.body.appendChild(Ze),Le=0,0===Ze.scrollLeft&&(Ze.scrollLeft=1,Le=0===Ze.scrollLeft?1:2),Ze.remove()}return Le}function ti(Ze){if(function Nt(){if(null==bt){const Ze=typeof document<"u"?document.head:null;bt=!(!Ze||!Ze.createShadowRoot&&!Ze.attachShadow)}return bt}()){const Oe=Ze.getRootNode?Ze.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&Oe instanceof ShadowRoot)return Oe}return null}function xi(){let Ze=typeof document<"u"&&document?document.activeElement:null;for(;Ze&&Ze.shadowRoot;){const Oe=Ze.shadowRoot.activeElement;if(Oe===Ze)break;Ze=Oe}return Ze}function Qt(Ze){return Ze.composedPath?Ze.composedPath()[0]:Ze.target}function Re(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8484:(gi,ft,j)=>{"use strict";j.d(ft,{C5:()=>Ye,UE:()=>Ve,bH:()=>Nt,eL:()=>Qt,ig:()=>bt,u0:()=>Qe});var M=j(5879);class ke{attach(Oe){return this._attachedHost=Oe,Oe.attach(this)}detach(){let Oe=this._attachedHost;null!=Oe&&(this._attachedHost=null,Oe.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Oe){this._attachedHost=Oe}}class Ye extends ke{constructor(Oe,gt,Rt,At,li){super(),this.component=Oe,this.viewContainerRef=gt,this.injector=Rt,this.componentFactoryResolver=At,this.projectableNodes=li}}class Ve extends ke{constructor(Oe,gt,Rt,At){super(),this.templateRef=Oe,this.viewContainerRef=gt,this.context=Rt,this.injector=At}get origin(){return this.templateRef.elementRef}attach(Oe,gt=this.context){return this.context=gt,super.attach(Oe)}detach(){return this.context=void 0,super.detach()}}class it extends ke{constructor(Oe){super(),this.element=Oe instanceof M.SBq?Oe.nativeElement:Oe}}class Le{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Oe){return Oe instanceof Ye?(this._attachedPortal=Oe,this.attachComponentPortal(Oe)):Oe instanceof Ve?(this._attachedPortal=Oe,this.attachTemplatePortal(Oe)):this.attachDomPortal&&Oe instanceof it?(this._attachedPortal=Oe,this.attachDomPortal(Oe)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Oe){this._disposeFn=Oe}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Qe extends Le{constructor(Oe,gt,Rt,At,li){super(),this.outletElement=Oe,this._componentFactoryResolver=gt,this._appRef=Rt,this._defaultInjector=At,this.attachDomPortal=Kt=>{const Li=Kt.element,Si=this._document.createComment("dom-portal");Li.parentNode.insertBefore(Si,Li),this.outletElement.appendChild(Li),this._attachedPortal=Kt,super.setDisposeFn(()=>{Si.parentNode&&Si.parentNode.replaceChild(Li,Si)})},this._document=li}attachComponentPortal(Oe){const Rt=(Oe.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Oe.component);let At;return Oe.viewContainerRef?(At=Oe.viewContainerRef.createComponent(Rt,Oe.viewContainerRef.length,Oe.injector||Oe.viewContainerRef.injector,Oe.projectableNodes||void 0),this.setDisposeFn(()=>At.destroy())):(At=Rt.create(Oe.injector||this._defaultInjector||M.zs3.NULL),this._appRef.attachView(At.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(At.hostView),At.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(At)),this._attachedPortal=Oe,At}attachTemplatePortal(Oe){let gt=Oe.viewContainerRef,Rt=gt.createEmbeddedView(Oe.templateRef,Oe.context,{injector:Oe.injector});return Rt.rootNodes.forEach(At=>this.outletElement.appendChild(At)),Rt.detectChanges(),this.setDisposeFn(()=>{let At=gt.indexOf(Rt);-1!==At&&gt.remove(At)}),this._attachedPortal=Oe,Rt}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Oe){return Oe.hostView.rootNodes[0]}}let bt=(()=>{class Ze extends Ve{constructor(gt,Rt){super(gt,Rt)}}return Ze.\u0275fac=function(gt){return new(gt||Ze)(M.Y36(M.Rgc),M.Y36(M.s_b))},Ze.\u0275dir=M.lG2({type:Ze,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[M.qOj]}),Ze})(),Nt=(()=>{class Ze extends bt{}return Ze.\u0275fac=function(){let Oe;return function(Rt){return(Oe||(Oe=M.n5z(Ze)))(Rt||Ze)}}(),Ze.\u0275dir=M.lG2({type:Ze,selectors:[["","cdk-portal",""],["","portal",""]],exportAs:["cdkPortal"],features:[M._Bn([{provide:bt,useExisting:Ze}]),M.qOj]}),Ze})(),Qt=(()=>{class Ze{}return Ze.\u0275fac=function(gt){return new(gt||Ze)},Ze.\u0275mod=M.oAB({type:Ze}),Ze.\u0275inj=M.cJS({}),Ze})()},799:(gi,ft,j)=>{"use strict";j.d(ft,{PQ:()=>qt,ZD:()=>se,mF:()=>De,Cl:()=>Ce,rL:()=>ei});var M=j(2495),l=j(5879),ae=j(8645),v=j(2096),$e=j(5592),ie=j(2438),Ge=j(1954),ke=j(7394);const Ye={schedule(Ie){let Te=requestAnimationFrame,ne=cancelAnimationFrame;const{delegate:Ne}=Ye;Ne&&(Te=Ne.requestAnimationFrame,ne=Ne.cancelAnimationFrame);const dt=Te(jt=>{ne=void 0,Ie(jt)});return new ke.w0(()=>ne?.(dt))},requestAnimationFrame(...Ie){const{delegate:Te}=Ye;return(Te?.requestAnimationFrame||requestAnimationFrame)(...Ie)},cancelAnimationFrame(...Ie){const{delegate:Te}=Ye;return(Te?.cancelAnimationFrame||cancelAnimationFrame)(...Ie)},delegate:void 0};var it=j(2631);new class Le extends it.v{flush(Te){this._active=!0;const ne=this._scheduled;this._scheduled=void 0;const{actions:Ne}=this;let dt;Te=Te||Ne.shift();do{if(dt=Te.execute(Te.state,Te.delay))break}while((Te=Ne[0])&&Te.id===ne&&Ne.shift());if(this._active=!1,dt){for(;(Te=Ne[0])&&Te.id===ne&&Ne.shift();)Te.unsubscribe();throw dt}}}(class Ve extends Ge.o{constructor(Te,ne){super(Te,ne),this.scheduler=Te,this.work=ne}requestAsyncId(Te,ne,Ne=0){return null!==Ne&&Ne>0?super.requestAsyncId(Te,ne,Ne):(Te.actions.push(this),Te._scheduled||(Te._scheduled=Ye.requestAnimationFrame(()=>Te.flush(void 0))))}recycleAsyncId(Te,ne,Ne=0){var dt;if(null!=Ne?Ne>0:this.delay>0)return super.recycleAsyncId(Te,ne,Ne);const{actions:jt}=Te;null!=ne&&(null===(dt=jt[jt.length-1])||void 0===dt?void 0:dt.id)!==ne&&(Ye.cancelAnimationFrame(ne),Te._scheduled=void 0)}});let bt,ut=1;const Nt={};function ti(Ie){return Ie in Nt&&(delete Nt[Ie],!0)}const xi={setImmediate(Ie){const Te=ut++;return Nt[Te]=!0,bt||(bt=Promise.resolve()),bt.then(()=>ti(Te)&&Ie()),Te},clearImmediate(Ie){ti(Ie)}},{setImmediate:Re,clearImmediate:Ze}=xi,Oe={setImmediate(...Ie){const{delegate:Te}=Oe;return(Te?.setImmediate||Re)(...Ie)},clearImmediate(Ie){const{delegate:Te}=Oe;return(Te?.clearImmediate||Ze)(Ie)},delegate:void 0};new class Rt extends it.v{flush(Te){this._active=!0;const ne=this._scheduled;this._scheduled=void 0;const{actions:Ne}=this;let dt;Te=Te||Ne.shift();do{if(dt=Te.execute(Te.state,Te.delay))break}while((Te=Ne[0])&&Te.id===ne&&Ne.shift());if(this._active=!1,dt){for(;(Te=Ne[0])&&Te.id===ne&&Ne.shift();)Te.unsubscribe();throw dt}}}(class gt extends Ge.o{constructor(Te,ne){super(Te,ne),this.scheduler=Te,this.work=ne}requestAsyncId(Te,ne,Ne=0){return null!==Ne&&Ne>0?super.requestAsyncId(Te,ne,Ne):(Te.actions.push(this),Te._scheduled||(Te._scheduled=Oe.setImmediate(Te.flush.bind(Te,void 0))))}recycleAsyncId(Te,ne,Ne=0){var dt;if(null!=Ne?Ne>0:this.delay>0)return super.recycleAsyncId(Te,ne,Ne);const{actions:jt}=Te;null!=ne&&(null===(dt=jt[jt.length-1])||void 0===dt?void 0:dt.id)!==ne&&(Oe.clearImmediate(ne),Te._scheduled=void 0)}});var Kt=j(6321),Li=j(9360),Si=j(4829),En=j(8251),hn=j(4825);function Zn(Ie,Te=Kt.z){return function Vn(Ie){return(0,Li.e)((Te,ne)=>{let Ne=!1,dt=null,jt=null,Xt=!1;const Ut=()=>{if(jt?.unsubscribe(),jt=null,Ne){Ne=!1;const Ji=dt;dt=null,ne.next(Ji)}Xt&&ne.complete()},pi=()=>{jt=null,Xt&&ne.complete()};Te.subscribe((0,En.x)(ne,Ji=>{Ne=!0,dt=Ji,jt||(0,Si.Xf)(Ie(Ji)).subscribe(jt=(0,En.x)(ne,Ut,pi))},()=>{Xt=!0,(!Ne||!jt||jt.closed)&&ne.complete()}))})}(()=>(0,hn.H)(Ie,Te))}var In=j(2181),wt=j(9773),xt=j(2831),kt=j(6814),Ft=j(9388);let De=(()=>{class Ie{constructor(ne,Ne,dt){this._ngZone=ne,this._platform=Ne,this._scrolled=new ae.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=dt}register(ne){this.scrollContainers.has(ne)||this.scrollContainers.set(ne,ne.elementScrolled().subscribe(()=>this._scrolled.next(ne)))}deregister(ne){const Ne=this.scrollContainers.get(ne);Ne&&(Ne.unsubscribe(),this.scrollContainers.delete(ne))}scrolled(ne=20){return this._platform.isBrowser?new $e.y(Ne=>{this._globalSubscription||this._addGlobalListener();const dt=ne>0?this._scrolled.pipe(Zn(ne)).subscribe(Ne):this._scrolled.subscribe(Ne);return this._scrolledCount++,()=>{dt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,v.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((ne,Ne)=>this.deregister(Ne)),this._scrolled.complete()}ancestorScrolled(ne,Ne){const dt=this.getAncestorScrollContainers(ne);return this.scrolled(Ne).pipe((0,In.h)(jt=>!jt||dt.indexOf(jt)>-1))}getAncestorScrollContainers(ne){const Ne=[];return this.scrollContainers.forEach((dt,jt)=>{this._scrollableContainsElement(jt,ne)&&Ne.push(jt)}),Ne}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(ne,Ne){let dt=(0,M.fI)(Ne),jt=ne.getElementRef().nativeElement;do{if(dt==jt)return!0}while(dt=dt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const ne=this._getWindow();return(0,ie.R)(ne.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return Ie.\u0275fac=function(ne){return new(ne||Ie)(l.LFG(l.R0b),l.LFG(xt.t4),l.LFG(kt.K0,8))},Ie.\u0275prov=l.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})(),qt=(()=>{class Ie{constructor(ne,Ne,dt,jt){this.elementRef=ne,this.scrollDispatcher=Ne,this.ngZone=dt,this.dir=jt,this._destroyed=new ae.x,this._elementScrolled=new $e.y(Xt=>this.ngZone.runOutsideAngular(()=>(0,ie.R)(this.elementRef.nativeElement,"scroll").pipe((0,wt.R)(this._destroyed)).subscribe(Xt)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(ne){const Ne=this.elementRef.nativeElement,dt=this.dir&&"rtl"==this.dir.value;null==ne.left&&(ne.left=dt?ne.end:ne.start),null==ne.right&&(ne.right=dt?ne.start:ne.end),null!=ne.bottom&&(ne.top=Ne.scrollHeight-Ne.clientHeight-ne.bottom),dt&&0!=(0,xt._i)()?(null!=ne.left&&(ne.right=Ne.scrollWidth-Ne.clientWidth-ne.left),2==(0,xt._i)()?ne.left=ne.right:1==(0,xt._i)()&&(ne.left=ne.right?-ne.right:ne.right)):null!=ne.right&&(ne.left=Ne.scrollWidth-Ne.clientWidth-ne.right),this._applyScrollToOptions(ne)}_applyScrollToOptions(ne){const Ne=this.elementRef.nativeElement;(0,xt.Mq)()?Ne.scrollTo(ne):(null!=ne.top&&(Ne.scrollTop=ne.top),null!=ne.left&&(Ne.scrollLeft=ne.left))}measureScrollOffset(ne){const Ne="left",jt=this.elementRef.nativeElement;if("top"==ne)return jt.scrollTop;if("bottom"==ne)return jt.scrollHeight-jt.clientHeight-jt.scrollTop;const Xt=this.dir&&"rtl"==this.dir.value;return"start"==ne?ne=Xt?"right":Ne:"end"==ne&&(ne=Xt?Ne:"right"),Xt&&2==(0,xt._i)()?ne==Ne?jt.scrollWidth-jt.clientWidth-jt.scrollLeft:jt.scrollLeft:Xt&&1==(0,xt._i)()?ne==Ne?jt.scrollLeft+jt.scrollWidth-jt.clientWidth:-jt.scrollLeft:ne==Ne?jt.scrollLeft:jt.scrollWidth-jt.clientWidth-jt.scrollLeft}}return Ie.\u0275fac=function(ne){return new(ne||Ie)(l.Y36(l.SBq),l.Y36(De),l.Y36(l.R0b),l.Y36(Ft.Is,8))},Ie.\u0275dir=l.lG2({type:Ie,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),Ie})(),ei=(()=>{class Ie{constructor(ne,Ne,dt){this._platform=ne,this._change=new ae.x,this._changeListener=jt=>{this._change.next(jt)},this._document=dt,Ne.runOutsideAngular(()=>{if(ne.isBrowser){const jt=this._getWindow();jt.addEventListener("resize",this._changeListener),jt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const ne=this._getWindow();ne.removeEventListener("resize",this._changeListener),ne.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const ne={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),ne}getViewportRect(){const ne=this.getViewportScrollPosition(),{width:Ne,height:dt}=this.getViewportSize();return{top:ne.top,left:ne.left,bottom:ne.top+dt,right:ne.left+Ne,height:dt,width:Ne}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const ne=this._document,Ne=this._getWindow(),dt=ne.documentElement,jt=dt.getBoundingClientRect();return{top:-jt.top||ne.body.scrollTop||Ne.scrollY||dt.scrollTop||0,left:-jt.left||ne.body.scrollLeft||Ne.scrollX||dt.scrollLeft||0}}change(ne=20){return ne>0?this._change.pipe(Zn(ne)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const ne=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:ne.innerWidth,height:ne.innerHeight}:{width:0,height:0}}}return Ie.\u0275fac=function(ne){return new(ne||Ie)(l.LFG(xt.t4),l.LFG(l.R0b),l.LFG(kt.K0,8))},Ie.\u0275prov=l.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})(),se=(()=>{class Ie{}return Ie.\u0275fac=function(ne){return new(ne||Ie)},Ie.\u0275mod=l.oAB({type:Ie}),Ie.\u0275inj=l.cJS({}),Ie})(),Ce=(()=>{class Ie{}return Ie.\u0275fac=function(ne){return new(ne||Ie)},Ie.\u0275mod=l.oAB({type:Ie}),Ie.\u0275inj=l.cJS({imports:[Ft.vT,se,Ft.vT,se]}),Ie})()},6814:(gi,ft,j)=>{"use strict";j.d(ft,{Do:()=>bt,ED:()=>bl,EM:()=>$a,HT:()=>v,JF:()=>Rr,K0:()=>ie,Mx:()=>Nn,NF:()=>ho,O5:()=>co,Ov:()=>ss,PC:()=>Ua,PM:()=>Hs,RF:()=>Fo,S$:()=>nt,V_:()=>ke,Ye:()=>Nt,b0:()=>ut,bD:()=>Yo,ez:()=>cs,mk:()=>qi,n9:()=>Da,q:()=>ae,sg:()=>kn,tP:()=>ua,w_:()=>$e});var M=j(5879);let l=null;function ae(){return l}function v(N){l||(l=N)}class $e{}const ie=new M.OlP("DocumentToken");let Ge=(()=>{class N{historyGo($){throw new Error("Not implemented")}}return N.\u0275fac=function($){return new($||N)},N.\u0275prov=M.Yz7({token:N,factory:function(){return(0,M.f3M)(Ye)},providedIn:"platform"}),N})();const ke=new M.OlP("Location Initialized");let Ye=(()=>{class N extends Ge{constructor(){super(),this._doc=(0,M.f3M)(ie),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ae().getBaseHref(this._doc)}onPopState($){const me=ae().getGlobalEventTarget(this._doc,"window");return me.addEventListener("popstate",$,!1),()=>me.removeEventListener("popstate",$)}onHashChange($){const me=ae().getGlobalEventTarget(this._doc,"window");return me.addEventListener("hashchange",$,!1),()=>me.removeEventListener("hashchange",$)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname($){this._location.pathname=$}pushState($,me,qe){this._history.pushState($,me,qe)}replaceState($,me,qe){this._history.replaceState($,me,qe)}forward(){this._history.forward()}back(){this._history.back()}historyGo($=0){this._history.go($)}getState(){return this._history.state}}return N.\u0275fac=function($){return new($||N)},N.\u0275prov=M.Yz7({token:N,factory:function(){return new N},providedIn:"platform"}),N})();function Ve(N,Q){if(0==N.length)return Q;if(0==Q.length)return N;let $=0;return N.endsWith("/")&&$++,Q.startsWith("/")&&$++,2==$?N+Q.substring(1):1==$?N+Q:N+"/"+Q}function it(N){const Q=N.match(/#|\?|$/),$=Q&&Q.index||N.length;return N.slice(0,$-("/"===N[$-1]?1:0))+N.slice($)}function Le(N){return N&&"?"!==N[0]?"?"+N:N}let nt=(()=>{class N{historyGo($){throw new Error("Not implemented")}}return N.\u0275fac=function($){return new($||N)},N.\u0275prov=M.Yz7({token:N,factory:function(){return(0,M.f3M)(ut)},providedIn:"root"}),N})();const Qe=new M.OlP("appBaseHref");let ut=(()=>{class N extends nt{constructor($,me){super(),this._platformLocation=$,this._removeListenerFns=[],this._baseHref=me??this._platformLocation.getBaseHrefFromDOM()??(0,M.f3M)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}prepareExternalUrl($){return Ve(this._baseHref,$)}path($=!1){const me=this._platformLocation.pathname+Le(this._platformLocation.search),qe=this._platformLocation.hash;return qe&&$?`${me}${qe}`:me}pushState($,me,qe,Pt){const $t=this.prepareExternalUrl(qe+Le(Pt));this._platformLocation.pushState($,me,$t)}replaceState($,me,qe,Pt){const $t=this.prepareExternalUrl(qe+Le(Pt));this._platformLocation.replaceState($,me,$t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){this._platformLocation.historyGo?.($)}}return N.\u0275fac=function($){return new($||N)(M.LFG(Ge),M.LFG(Qe,8))},N.\u0275prov=M.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),bt=(()=>{class N extends nt{constructor($,me){super(),this._platformLocation=$,this._baseHref="",this._removeListenerFns=[],null!=me&&(this._baseHref=me)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}path($=!1){let me=this._platformLocation.hash;return null==me&&(me="#"),me.length>0?me.substring(1):me}prepareExternalUrl($){const me=Ve(this._baseHref,$);return me.length>0?"#"+me:me}pushState($,me,qe,Pt){let $t=this.prepareExternalUrl(qe+Le(Pt));0==$t.length&&($t=this._platformLocation.pathname),this._platformLocation.pushState($,me,$t)}replaceState($,me,qe,Pt){let $t=this.prepareExternalUrl(qe+Le(Pt));0==$t.length&&($t=this._platformLocation.pathname),this._platformLocation.replaceState($,me,$t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){this._platformLocation.historyGo?.($)}}return N.\u0275fac=function($){return new($||N)(M.LFG(Ge),M.LFG(Qe,8))},N.\u0275prov=M.Yz7({token:N,factory:N.\u0275fac}),N})(),Nt=(()=>{class N{constructor($){this._subject=new M.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=$;const me=this._locationStrategy.getBaseHref();this._basePath=function Re(N){if(new RegExp("^(https?:)?//").test(N)){const[,$]=N.split(/\/\/[^\/]+/);return $}return N}(it(Qt(me))),this._locationStrategy.onPopState(qe=>{this._subject.emit({url:this.path(!0),pop:!0,state:qe.state,type:qe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path($=!1){return this.normalize(this._locationStrategy.path($))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo($,me=""){return this.path()==this.normalize($+Le(me))}normalize($){return N.stripTrailingSlash(function xi(N,Q){if(!N||!Q.startsWith(N))return Q;const $=Q.substring(N.length);return""===$||["/",";","?","#"].includes($[0])?$:Q}(this._basePath,Qt($)))}prepareExternalUrl($){return $&&"/"!==$[0]&&($="/"+$),this._locationStrategy.prepareExternalUrl($)}go($,me="",qe=null){this._locationStrategy.pushState(qe,"",$,me),this._notifyUrlChangeListeners(this.prepareExternalUrl($+Le(me)),qe)}replaceState($,me="",qe=null){this._locationStrategy.replaceState(qe,"",$,me),this._notifyUrlChangeListeners(this.prepareExternalUrl($+Le(me)),qe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo($=0){this._locationStrategy.historyGo?.($)}onUrlChange($){return this._urlChangeListeners.push($),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(me=>{this._notifyUrlChangeListeners(me.url,me.state)})),()=>{const me=this._urlChangeListeners.indexOf($);this._urlChangeListeners.splice(me,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners($="",me){this._urlChangeListeners.forEach(qe=>qe($,me))}subscribe($,me,qe){return this._subject.subscribe({next:$,error:me,complete:qe})}}return N.normalizeQueryParams=Le,N.joinWithSlash=Ve,N.stripTrailingSlash=it,N.\u0275fac=function($){return new($||N)(M.LFG(nt))},N.\u0275prov=M.Yz7({token:N,factory:function(){return function ti(){return new Nt((0,M.LFG)(nt))}()},providedIn:"root"}),N})();function Qt(N){return N.replace(/\/index.html$/,"")}function Nn(N,Q){Q=encodeURIComponent(Q);for(const $ of N.split(";")){const me=$.indexOf("="),[qe,Pt]=-1==me?[$,""]:[$.slice(0,me),$.slice(me+1)];if(qe.trim()===Q)return decodeURIComponent(Pt)}return null}const _o=/\s+/,Dn=[];let qi=(()=>{class N{constructor($,me,qe,Pt){this._iterableDiffers=$,this._keyValueDiffers=me,this._ngEl=qe,this._renderer=Pt,this.initialClasses=Dn,this.stateMap=new Map}set klass($){this.initialClasses=null!=$?$.trim().split(_o):Dn}set ngClass($){this.rawClass="string"==typeof $?$.trim().split(_o):$}ngDoCheck(){for(const me of this.initialClasses)this._updateState(me,!0);const $=this.rawClass;if(Array.isArray($)||$ instanceof Set)for(const me of $)this._updateState(me,!0);else if(null!=$)for(const me of Object.keys($))this._updateState(me,!!$[me]);this._applyStateDiff()}_updateState($,me){const qe=this.stateMap.get($);void 0!==qe?(qe.enabled!==me&&(qe.changed=!0,qe.enabled=me),qe.touched=!0):this.stateMap.set($,{enabled:me,changed:!0,touched:!0})}_applyStateDiff(){for(const $ of this.stateMap){const me=$[0],qe=$[1];qe.changed?(this._toggleClass(me,qe.enabled),qe.changed=!1):qe.touched||(qe.enabled&&this._toggleClass(me,!1),this.stateMap.delete(me)),qe.touched=!1}}_toggleClass($,me){($=$.trim()).length>0&&$.split(_o).forEach(qe=>{me?this._renderer.addClass(this._ngEl.nativeElement,qe):this._renderer.removeClass(this._ngEl.nativeElement,qe)})}}return N.\u0275fac=function($){return new($||N)(M.Y36(M.ZZ4),M.Y36(M.aQg),M.Y36(M.SBq),M.Y36(M.Qsj))},N.\u0275dir=M.lG2({type:N,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),N})();class wr{constructor(Q,$,me,qe){this.$implicit=Q,this.ngForOf=$,this.index=me,this.count=qe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let kn=(()=>{class N{set ngForOf($){this._ngForOf=$,this._ngForOfDirty=!0}set ngForTrackBy($){this._trackByFn=$}get ngForTrackBy(){return this._trackByFn}constructor($,me,qe){this._viewContainer=$,this._template=me,this._differs=qe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate($){$&&(this._template=$)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const $=this._ngForOf;!this._differ&&$&&(this._differ=this._differs.find($).create(this.ngForTrackBy))}if(this._differ){const $=this._differ.diff(this._ngForOf);$&&this._applyChanges($)}}_applyChanges($){const me=this._viewContainer;$.forEachOperation((qe,Pt,$t)=>{if(null==qe.previousIndex)me.createEmbeddedView(this._template,new wr(qe.item,this._ngForOf,-1,-1),null===$t?void 0:$t);else if(null==$t)me.remove(null===Pt?void 0:Pt);else if(null!==Pt){const Ui=me.get(Pt);me.move(Ui,$t),Eo(Ui,qe)}});for(let qe=0,Pt=me.length;qe<Pt;qe++){const Ui=me.get(qe).context;Ui.index=qe,Ui.count=Pt,Ui.ngForOf=this._ngForOf}$.forEachIdentityChange(qe=>{Eo(me.get(qe.currentIndex),qe)})}static ngTemplateContextGuard($,me){return!0}}return N.\u0275fac=function($){return new($||N)(M.Y36(M.s_b),M.Y36(M.Rgc),M.Y36(M.ZZ4))},N.\u0275dir=M.lG2({type:N,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),N})();function Eo(N,Q){N.context.$implicit=Q.item}let co=(()=>{class N{constructor($,me){this._viewContainer=$,this._context=new Cn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=me}set ngIf($){this._context.$implicit=this._context.ngIf=$,this._updateView()}set ngIfThen($){Mr("ngIfThen",$),this._thenTemplateRef=$,this._thenViewRef=null,this._updateView()}set ngIfElse($){Mr("ngIfElse",$),this._elseTemplateRef=$,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard($,me){return!0}}return N.\u0275fac=function($){return new($||N)(M.Y36(M.s_b),M.Y36(M.Rgc))},N.\u0275dir=M.lG2({type:N,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),N})();class Cn{constructor(){this.$implicit=null,this.ngIf=null}}function Mr(N,Q){if(Q&&!Q.createEmbeddedView)throw new Error(`${N} must be a TemplateRef, but received '${(0,M.AaK)(Q)}'.`)}class Go{constructor(Q,$){this._viewContainerRef=Q,this._templateRef=$,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Q){Q&&!this._created?this.create():!Q&&this._created&&this.destroy()}}let Fo=(()=>{class N{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch($){this._ngSwitch=$,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault($){this._defaultViews.push($)}_matchCase($){const me=$==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||me,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),me}_updateDefaultCases($){if(this._defaultViews.length>0&&$!==this._defaultUsed){this._defaultUsed=$;for(const me of this._defaultViews)me.enforceState($)}}}return N.\u0275fac=function($){return new($||N)},N.\u0275dir=M.lG2({type:N,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),N})(),Da=(()=>{class N{constructor($,me,qe){this.ngSwitch=qe,qe._addCase(),this._view=new Go($,me)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return N.\u0275fac=function($){return new($||N)(M.Y36(M.s_b),M.Y36(M.Rgc),M.Y36(Fo,9))},N.\u0275dir=M.lG2({type:N,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),N})(),bl=(()=>{class N{constructor($,me,qe){qe._addDefault(new Go($,me))}}return N.\u0275fac=function($){return new($||N)(M.Y36(M.s_b),M.Y36(M.Rgc),M.Y36(Fo,9))},N.\u0275dir=M.lG2({type:N,selectors:[["","ngSwitchDefault",""]],standalone:!0}),N})(),Ua=(()=>{class N{constructor($,me,qe){this._ngEl=$,this._differs=me,this._renderer=qe,this._ngStyle=null,this._differ=null}set ngStyle($){this._ngStyle=$,!this._differ&&$&&(this._differ=this._differs.find($).create())}ngDoCheck(){if(this._differ){const $=this._differ.diff(this._ngStyle);$&&this._applyChanges($)}}_setStyle($,me){const[qe,Pt]=$.split("."),$t=-1===qe.indexOf("-")?void 0:M.JOm.DashCase;null!=me?this._renderer.setStyle(this._ngEl.nativeElement,qe,Pt?`${me}${Pt}`:me,$t):this._renderer.removeStyle(this._ngEl.nativeElement,qe,$t)}_applyChanges($){$.forEachRemovedItem(me=>this._setStyle(me.key,null)),$.forEachAddedItem(me=>this._setStyle(me.key,me.currentValue)),$.forEachChangedItem(me=>this._setStyle(me.key,me.currentValue))}}return N.\u0275fac=function($){return new($||N)(M.Y36(M.SBq),M.Y36(M.aQg),M.Y36(M.Qsj))},N.\u0275dir=M.lG2({type:N,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),N})(),ua=(()=>{class N{constructor($){this._viewContainerRef=$,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges($){if($.ngTemplateOutlet||$.ngTemplateOutletInjector){const me=this._viewContainerRef;if(this._viewRef&&me.remove(me.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:qe,ngTemplateOutletContext:Pt,ngTemplateOutletInjector:$t}=this;this._viewRef=me.createEmbeddedView(qe,Pt,$t?{injector:$t}:void 0)}else this._viewRef=null}else this._viewRef&&$.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return N.\u0275fac=function($){return new($||N)(M.Y36(M.s_b))},N.\u0275dir=M.lG2({type:N,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[M.TTD]}),N})();class Sr{createSubscription(Q,$){return(0,M.rg0)(()=>Q.subscribe({next:$,error:me=>{throw me}}))}dispose(Q){(0,M.rg0)(()=>Q.unsubscribe())}}class Gr{createSubscription(Q,$){return Q.then($,me=>{throw me})}dispose(Q){}}const Us=new Gr,Nr=new Sr;let ss=(()=>{class N{constructor($){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=$}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform($){return this._obj?$!==this._obj?(this._dispose(),this.transform($)):this._latestValue:($&&this._subscribe($),this._latestValue)}_subscribe($){this._obj=$,this._strategy=this._selectStrategy($),this._subscription=this._strategy.createSubscription($,me=>this._updateLatestValue($,me))}_selectStrategy($){if((0,M.QGY)($))return Us;if((0,M.F4k)($))return Nr;throw function ln(N,Q){return new M.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue($,me){$===this._obj&&(this._latestValue=me,this._ref.markForCheck())}}return N.\u0275fac=function($){return new($||N)(M.Y36(M.sBO,16))},N.\u0275pipe=M.Yjl({name:"async",type:N,pure:!1,standalone:!0}),N})(),cs=(()=>{class N{}return N.\u0275fac=function($){return new($||N)},N.\u0275mod=M.oAB({type:N}),N.\u0275inj=M.cJS({}),N})();const Yo="browser",ja="server";function ho(N){return N===Yo}function Hs(N){return N===ja}let $a=(()=>{class N{}return N.\u0275prov=(0,M.Yz7)({token:N,providedIn:"root",factory:()=>new Lo((0,M.LFG)(ie),window)}),N})();class Lo{constructor(Q,$){this.document=Q,this.window=$,this.offset=()=>[0,0]}setOffset(Q){this.offset=Array.isArray(Q)?()=>Q:Q}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Q){this.supportsScrolling()&&this.window.scrollTo(Q[0],Q[1])}scrollToAnchor(Q){if(!this.supportsScrolling())return;const $=function Js(N,Q){const $=N.getElementById(Q)||N.getElementsByName(Q)[0];if($)return $;if("function"==typeof N.createTreeWalker&&N.body&&"function"==typeof N.body.attachShadow){const me=N.createTreeWalker(N.body,NodeFilter.SHOW_ELEMENT);let qe=me.currentNode;for(;qe;){const Pt=qe.shadowRoot;if(Pt){const $t=Pt.getElementById(Q)||Pt.querySelector(`[name="${Q}"]`);if($t)return $t}qe=me.nextNode()}}return null}(this.document,Q);$&&(this.scrollToElement($),$.focus())}setHistoryScrollRestoration(Q){if(this.supportScrollRestoration()){const $=this.window.history;$&&$.scrollRestoration&&($.scrollRestoration=Q)}}scrollToElement(Q){const $=Q.getBoundingClientRect(),me=$.left+this.window.pageXOffset,qe=$.top+this.window.pageYOffset,Pt=this.offset();this.window.scrollTo(me-Pt[0],qe-Pt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Q=_s(this.window.history)||_s(Object.getPrototypeOf(this.window.history));return!(!Q||!Q.writable&&!Q.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function _s(N){return Object.getOwnPropertyDescriptor(N,"scrollRestoration")}class Rr{}},9862:(gi,ft,j)=>{"use strict";j.d(ft,{JF:()=>he,eN:()=>wt});var M=j(5879),l=j(2096),ae=j(7715),v=j(5592),$e=j(6328),ie=j(2181),Ge=j(7398),ke=j(4716),Ye=j(4664),Ve=j(6814);class it{}class Le{}class nt{constructor(Me){this.normalizedNames=new Map,this.lazyUpdate=null,Me?"string"==typeof Me?this.lazyInit=()=>{this.headers=new Map,Me.split("\n").forEach(We=>{const zt=We.indexOf(":");if(zt>0){const ri=We.slice(0,zt),Ht=ri.toLowerCase(),di=We.slice(zt+1).trim();this.maybeSetNormalizedName(ri,Ht),this.headers.has(Ht)?this.headers.get(Ht).push(di):this.headers.set(Ht,[di])}})}:typeof Headers<"u"&&Me instanceof Headers?(this.headers=new Map,Me.forEach((We,zt)=>{this.setHeaderEntries(zt,We)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Me).forEach(([We,zt])=>{this.setHeaderEntries(We,zt)})}:this.headers=new Map}has(Me){return this.init(),this.headers.has(Me.toLowerCase())}get(Me){this.init();const We=this.headers.get(Me.toLowerCase());return We&&We.length>0?We[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Me){return this.init(),this.headers.get(Me.toLowerCase())||null}append(Me,We){return this.clone({name:Me,value:We,op:"a"})}set(Me,We){return this.clone({name:Me,value:We,op:"s"})}delete(Me,We){return this.clone({name:Me,value:We,op:"d"})}maybeSetNormalizedName(Me,We){this.normalizedNames.has(We)||this.normalizedNames.set(We,Me)}init(){this.lazyInit&&(this.lazyInit instanceof nt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Me=>this.applyUpdate(Me)),this.lazyUpdate=null))}copyFrom(Me){Me.init(),Array.from(Me.headers.keys()).forEach(We=>{this.headers.set(We,Me.headers.get(We)),this.normalizedNames.set(We,Me.normalizedNames.get(We))})}clone(Me){const We=new nt;return We.lazyInit=this.lazyInit&&this.lazyInit instanceof nt?this.lazyInit:this,We.lazyUpdate=(this.lazyUpdate||[]).concat([Me]),We}applyUpdate(Me){const We=Me.name.toLowerCase();switch(Me.op){case"a":case"s":let zt=Me.value;if("string"==typeof zt&&(zt=[zt]),0===zt.length)return;this.maybeSetNormalizedName(Me.name,We);const ri=("a"===Me.op?this.headers.get(We):void 0)||[];ri.push(...zt),this.headers.set(We,ri);break;case"d":const Ht=Me.value;if(Ht){let di=this.headers.get(We);if(!di)return;di=di.filter(Wn=>-1===Ht.indexOf(Wn)),0===di.length?(this.headers.delete(We),this.normalizedNames.delete(We)):this.headers.set(We,di)}else this.headers.delete(We),this.normalizedNames.delete(We)}}setHeaderEntries(Me,We){const zt=(Array.isArray(We)?We:[We]).map(Ht=>Ht.toString()),ri=Me.toLowerCase();this.headers.set(ri,zt),this.maybeSetNormalizedName(Me,ri)}forEach(Me){this.init(),Array.from(this.normalizedNames.keys()).forEach(We=>Me(this.normalizedNames.get(We),this.headers.get(We)))}}class ut{encodeKey(Me){return xi(Me)}encodeValue(Me){return xi(Me)}decodeKey(Me){return decodeURIComponent(Me)}decodeValue(Me){return decodeURIComponent(Me)}}const Nt=/%(\d[a-f0-9])/gi,ti={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xi(Ke){return encodeURIComponent(Ke).replace(Nt,(Me,We)=>ti[We]??Me)}function Qt(Ke){return`${Ke}`}class Re{constructor(Me={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Me.encoder||new ut,Me.fromString){if(Me.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function bt(Ke,Me){const We=new Map;return Ke.length>0&&Ke.replace(/^\?/,"").split("&").forEach(ri=>{const Ht=ri.indexOf("="),[di,Wn]=-1==Ht?[Me.decodeKey(ri),""]:[Me.decodeKey(ri.slice(0,Ht)),Me.decodeValue(ri.slice(Ht+1))],Ni=We.get(di)||[];Ni.push(Wn),We.set(di,Ni)}),We}(Me.fromString,this.encoder)}else Me.fromObject?(this.map=new Map,Object.keys(Me.fromObject).forEach(We=>{const zt=Me.fromObject[We],ri=Array.isArray(zt)?zt.map(Qt):[Qt(zt)];this.map.set(We,ri)})):this.map=null}has(Me){return this.init(),this.map.has(Me)}get(Me){this.init();const We=this.map.get(Me);return We?We[0]:null}getAll(Me){return this.init(),this.map.get(Me)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Me,We){return this.clone({param:Me,value:We,op:"a"})}appendAll(Me){const We=[];return Object.keys(Me).forEach(zt=>{const ri=Me[zt];Array.isArray(ri)?ri.forEach(Ht=>{We.push({param:zt,value:Ht,op:"a"})}):We.push({param:zt,value:ri,op:"a"})}),this.clone(We)}set(Me,We){return this.clone({param:Me,value:We,op:"s"})}delete(Me,We){return this.clone({param:Me,value:We,op:"d"})}toString(){return this.init(),this.keys().map(Me=>{const We=this.encoder.encodeKey(Me);return this.map.get(Me).map(zt=>We+"="+this.encoder.encodeValue(zt)).join("&")}).filter(Me=>""!==Me).join("&")}clone(Me){const We=new Re({encoder:this.encoder});return We.cloneFrom=this.cloneFrom||this,We.updates=(this.updates||[]).concat(Me),We}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Me=>this.map.set(Me,this.cloneFrom.map.get(Me))),this.updates.forEach(Me=>{switch(Me.op){case"a":case"s":const We=("a"===Me.op?this.map.get(Me.param):void 0)||[];We.push(Qt(Me.value)),this.map.set(Me.param,We);break;case"d":if(void 0===Me.value){this.map.delete(Me.param);break}{let zt=this.map.get(Me.param)||[];const ri=zt.indexOf(Qt(Me.value));-1!==ri&&zt.splice(ri,1),zt.length>0?this.map.set(Me.param,zt):this.map.delete(Me.param)}}}),this.cloneFrom=this.updates=null)}}class Oe{constructor(){this.map=new Map}set(Me,We){return this.map.set(Me,We),this}get(Me){return this.map.has(Me)||this.map.set(Me,Me.defaultValue()),this.map.get(Me)}delete(Me){return this.map.delete(Me),this}has(Me){return this.map.has(Me)}keys(){return this.map.keys()}}function Rt(Ke){return typeof ArrayBuffer<"u"&&Ke instanceof ArrayBuffer}function At(Ke){return typeof Blob<"u"&&Ke instanceof Blob}function li(Ke){return typeof FormData<"u"&&Ke instanceof FormData}class Li{constructor(Me,We,zt,ri){let Ht;if(this.url=We,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Me.toUpperCase(),function gt(Ke){switch(Ke){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ri?(this.body=void 0!==zt?zt:null,Ht=ri):Ht=zt,Ht&&(this.reportProgress=!!Ht.reportProgress,this.withCredentials=!!Ht.withCredentials,Ht.responseType&&(this.responseType=Ht.responseType),Ht.headers&&(this.headers=Ht.headers),Ht.context&&(this.context=Ht.context),Ht.params&&(this.params=Ht.params)),this.headers||(this.headers=new nt),this.context||(this.context=new Oe),this.params){const di=this.params.toString();if(0===di.length)this.urlWithParams=We;else{const Wn=We.indexOf("?");this.urlWithParams=We+(-1===Wn?"?":Wn<We.length-1?"&":"")+di}}else this.params=new Re,this.urlWithParams=We}serializeBody(){return null===this.body?null:Rt(this.body)||At(this.body)||li(this.body)||function Kt(Ke){return typeof URLSearchParams<"u"&&Ke instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Re?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||li(this.body)?null:At(this.body)?this.body.type||null:Rt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Re?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Me={}){const We=Me.method||this.method,zt=Me.url||this.url,ri=Me.responseType||this.responseType,Ht=void 0!==Me.body?Me.body:this.body,di=void 0!==Me.withCredentials?Me.withCredentials:this.withCredentials,Wn=void 0!==Me.reportProgress?Me.reportProgress:this.reportProgress;let Ni=Me.headers||this.headers,Un=Me.params||this.params;const fr=Me.context??this.context;return void 0!==Me.setHeaders&&(Ni=Object.keys(Me.setHeaders).reduce((Pr,Or)=>Pr.set(Or,Me.setHeaders[Or]),Ni)),Me.setParams&&(Un=Object.keys(Me.setParams).reduce((Pr,Or)=>Pr.set(Or,Me.setParams[Or]),Un)),new Li(We,zt,Ht,{params:Un,headers:Ni,context:fr,reportProgress:Wn,responseType:ri,withCredentials:di})}}var Si=(()=>((Si=Si||{})[Si.Sent=0]="Sent",Si[Si.UploadProgress=1]="UploadProgress",Si[Si.ResponseHeader=2]="ResponseHeader",Si[Si.DownloadProgress=3]="DownloadProgress",Si[Si.Response=4]="Response",Si[Si.User=5]="User",Si))();class En{constructor(Me,We=200,zt="OK"){this.headers=Me.headers||new nt,this.status=void 0!==Me.status?Me.status:We,this.statusText=Me.statusText||zt,this.url=Me.url||null,this.ok=this.status>=200&&this.status<300}}class Vn extends En{constructor(Me={}){super(Me),this.type=Si.ResponseHeader}clone(Me={}){return new Vn({headers:Me.headers||this.headers,status:void 0!==Me.status?Me.status:this.status,statusText:Me.statusText||this.statusText,url:Me.url||this.url||void 0})}}class hn extends En{constructor(Me={}){super(Me),this.type=Si.Response,this.body=void 0!==Me.body?Me.body:null}clone(Me={}){return new hn({body:void 0!==Me.body?Me.body:this.body,headers:Me.headers||this.headers,status:void 0!==Me.status?Me.status:this.status,statusText:Me.statusText||this.statusText,url:Me.url||this.url||void 0})}}class Zn extends En{constructor(Me){super(Me,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Me.url||"(unknown url)"}`:`Http failure response for ${Me.url||"(unknown url)"}: ${Me.status} ${Me.statusText}`,this.error=Me.error||null}}function In(Ke,Me){return{body:Me,headers:Ke.headers,context:Ke.context,observe:Ke.observe,params:Ke.params,reportProgress:Ke.reportProgress,responseType:Ke.responseType,withCredentials:Ke.withCredentials}}let wt=(()=>{class Ke{constructor(We){this.handler=We}request(We,zt,ri={}){let Ht;if(We instanceof Li)Ht=We;else{let Ni,Un;Ni=ri.headers instanceof nt?ri.headers:new nt(ri.headers),ri.params&&(Un=ri.params instanceof Re?ri.params:new Re({fromObject:ri.params})),Ht=new Li(We,zt,void 0!==ri.body?ri.body:null,{headers:Ni,context:ri.context,params:Un,reportProgress:ri.reportProgress,responseType:ri.responseType||"json",withCredentials:ri.withCredentials})}const di=(0,l.of)(Ht).pipe((0,$e.b)(Ni=>this.handler.handle(Ni)));if(We instanceof Li||"events"===ri.observe)return di;const Wn=di.pipe((0,ie.h)(Ni=>Ni instanceof hn));switch(ri.observe||"body"){case"body":switch(Ht.responseType){case"arraybuffer":return Wn.pipe((0,Ge.U)(Ni=>{if(null!==Ni.body&&!(Ni.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Ni.body}));case"blob":return Wn.pipe((0,Ge.U)(Ni=>{if(null!==Ni.body&&!(Ni.body instanceof Blob))throw new Error("Response is not a Blob.");return Ni.body}));case"text":return Wn.pipe((0,Ge.U)(Ni=>{if(null!==Ni.body&&"string"!=typeof Ni.body)throw new Error("Response is not a string.");return Ni.body}));default:return Wn.pipe((0,Ge.U)(Ni=>Ni.body))}case"response":return Wn;default:throw new Error(`Unreachable: unhandled observe type ${ri.observe}}`)}}delete(We,zt={}){return this.request("DELETE",We,zt)}get(We,zt={}){return this.request("GET",We,zt)}head(We,zt={}){return this.request("HEAD",We,zt)}jsonp(We,zt){return this.request("JSONP",We,{params:(new Re).append(zt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(We,zt={}){return this.request("OPTIONS",We,zt)}patch(We,zt,ri={}){return this.request("PATCH",We,In(ri,zt))}post(We,zt,ri={}){return this.request("POST",We,In(ri,zt))}put(We,zt,ri={}){return this.request("PUT",We,In(ri,zt))}}return Ke.\u0275fac=function(We){return new(We||Ke)(M.LFG(it))},Ke.\u0275prov=M.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();function ot(Ke,Me){return Me(Ke)}function ht(Ke,Me){return(We,zt)=>Me.intercept(We,{handle:ri=>Ke(ri,zt)})}const De=new M.OlP(""),qt=new M.OlP(""),Zt=new M.OlP("");function ei(){let Ke=null;return(Me,We)=>{null===Ke&&(Ke=((0,M.f3M)(De,{optional:!0})??[]).reduceRight(ht,ot));const zt=(0,M.f3M)(M.HDt),ri=zt.add();return Ke(Me,We).pipe((0,ke.x)(()=>zt.remove(ri)))}}let Xe=(()=>{class Ke extends it{constructor(We,zt){super(),this.backend=We,this.injector=zt,this.chain=null,this.pendingTasks=(0,M.f3M)(M.HDt)}handle(We){if(null===this.chain){const ri=Array.from(new Set([...this.injector.get(qt),...this.injector.get(Zt,[])]));this.chain=ri.reduceRight((Ht,di)=>function ct(Ke,Me,We){return(zt,ri)=>We.runInContext(()=>Me(zt,Ht=>Ke(Ht,ri)))}(Ht,di,this.injector),ot)}const zt=this.pendingTasks.add();return this.chain(We,ri=>this.backend.handle(ri)).pipe((0,ke.x)(()=>this.pendingTasks.remove(zt)))}}return Ke.\u0275fac=function(We){return new(We||Ke)(M.LFG(Le),M.LFG(M.lqb))},Ke.\u0275prov=M.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();const Te=/^\)\]\}',?\n/;let Ne=(()=>{class Ke{constructor(We){this.xhrFactory=We}handle(We){if("JSONP"===We.method)throw new M.vHH(-2800,!1);const zt=this.xhrFactory;return(zt.\u0275loadImpl?(0,ae.D)(zt.\u0275loadImpl()):(0,l.of)(null)).pipe((0,Ye.w)(()=>new v.y(Ht=>{const di=zt.build();if(di.open(We.method,We.urlWithParams),We.withCredentials&&(di.withCredentials=!0),We.headers.forEach((Dn,qi)=>di.setRequestHeader(Dn,qi.join(","))),We.headers.has("Accept")||di.setRequestHeader("Accept","application/json, text/plain, */*"),!We.headers.has("Content-Type")){const Dn=We.detectContentTypeHeader();null!==Dn&&di.setRequestHeader("Content-Type",Dn)}if(We.responseType){const Dn=We.responseType.toLowerCase();di.responseType="json"!==Dn?Dn:"text"}const Wn=We.serializeBody();let Ni=null;const Un=()=>{if(null!==Ni)return Ni;const Dn=di.statusText||"OK",qi=new nt(di.getAllResponseHeaders()),lo=function ne(Ke){return"responseURL"in Ke&&Ke.responseURL?Ke.responseURL:/^X-Request-URL:/m.test(Ke.getAllResponseHeaders())?Ke.getResponseHeader("X-Request-URL"):null}(di)||We.url;return Ni=new Vn({headers:qi,status:di.status,statusText:Dn,url:lo}),Ni},fr=()=>{let{headers:Dn,status:qi,statusText:lo,url:Lr}=Un(),wr=null;204!==qi&&(wr=typeof di.response>"u"?di.responseText:di.response),0===qi&&(qi=wr?200:0);let kn=qi>=200&&qi<300;if("json"===We.responseType&&"string"==typeof wr){const Eo=wr;wr=wr.replace(Te,"");try{wr=""!==wr?JSON.parse(wr):null}catch(Mo){wr=Eo,kn&&(kn=!1,wr={error:Mo,text:wr})}}kn?(Ht.next(new hn({body:wr,headers:Dn,status:qi,statusText:lo,url:Lr||void 0})),Ht.complete()):Ht.error(new Zn({error:wr,headers:Dn,status:qi,statusText:lo,url:Lr||void 0}))},Pr=Dn=>{const{url:qi}=Un(),lo=new Zn({error:Dn,status:di.status||0,statusText:di.statusText||"Unknown Error",url:qi||void 0});Ht.error(lo)};let Or=!1;const Nn=Dn=>{Or||(Ht.next(Un()),Or=!0);let qi={type:Si.DownloadProgress,loaded:Dn.loaded};Dn.lengthComputable&&(qi.total=Dn.total),"text"===We.responseType&&di.responseText&&(qi.partialText=di.responseText),Ht.next(qi)},_o=Dn=>{let qi={type:Si.UploadProgress,loaded:Dn.loaded};Dn.lengthComputable&&(qi.total=Dn.total),Ht.next(qi)};return di.addEventListener("load",fr),di.addEventListener("error",Pr),di.addEventListener("timeout",Pr),di.addEventListener("abort",Pr),We.reportProgress&&(di.addEventListener("progress",Nn),null!==Wn&&di.upload&&di.upload.addEventListener("progress",_o)),di.send(Wn),Ht.next({type:Si.Sent}),()=>{di.removeEventListener("error",Pr),di.removeEventListener("abort",Pr),di.removeEventListener("load",fr),di.removeEventListener("timeout",Pr),We.reportProgress&&(di.removeEventListener("progress",Nn),null!==Wn&&di.upload&&di.upload.removeEventListener("progress",_o)),di.readyState!==di.DONE&&di.abort()}})))}}return Ke.\u0275fac=function(We){return new(We||Ke)(M.LFG(Ve.JF))},Ke.\u0275prov=M.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();const dt=new M.OlP("XSRF_ENABLED"),Xt=new M.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),pi=new M.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ji{}let en=(()=>{class Ke{constructor(We,zt,ri){this.doc=We,this.platform=zt,this.cookieName=ri,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const We=this.doc.cookie||"";return We!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Ve.Mx)(We,this.cookieName),this.lastCookieString=We),this.lastToken}}return Ke.\u0275fac=function(We){return new(We||Ke)(M.LFG(Ve.K0),M.LFG(M.Lbi),M.LFG(Xt))},Ke.\u0275prov=M.Yz7({token:Ke,factory:Ke.\u0275fac}),Ke})();function cn(Ke,Me){const We=Ke.url.toLowerCase();if(!(0,M.f3M)(dt)||"GET"===Ke.method||"HEAD"===Ke.method||We.startsWith("http://")||We.startsWith("https://"))return Me(Ke);const zt=(0,M.f3M)(Ji).getToken(),ri=(0,M.f3M)(pi);return null!=zt&&!Ke.headers.has(ri)&&(Ke=Ke.clone({headers:Ke.headers.set(ri,zt)})),Me(Ke)}var _t=(()=>((_t=_t||{})[_t.Interceptors=0]="Interceptors",_t[_t.LegacyInterceptors=1]="LegacyInterceptors",_t[_t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",_t[_t.NoXsrfProtection=3]="NoXsrfProtection",_t[_t.JsonpSupport=4]="JsonpSupport",_t[_t.RequestsMadeViaParent=5]="RequestsMadeViaParent",_t[_t.Fetch=6]="Fetch",_t))();function mi(Ke,Me){return{\u0275kind:Ke,\u0275providers:Me}}function vt(...Ke){const Me=[wt,Ne,Xe,{provide:it,useExisting:Xe},{provide:Le,useExisting:Ne},{provide:qt,useValue:cn,multi:!0},{provide:dt,useValue:!0},{provide:Ji,useClass:en}];for(const We of Ke)Me.push(...We.\u0275providers);return(0,M.MR2)(Me)}const B=new M.OlP("LEGACY_INTERCEPTOR_FN");let he=(()=>{class Ke{}return Ke.\u0275fac=function(We){return new(We||Ke)},Ke.\u0275mod=M.oAB({type:Ke}),Ke.\u0275inj=M.cJS({providers:[vt(mi(_t.LegacyInterceptors,[{provide:B,useFactory:ei},{provide:qt,useExisting:B,multi:!0}]))]}),Ke})()},5879:(gi,ft,j)=>{"use strict";j.d(ft,{$8M:()=>Th,$WT:()=>Us,$Z:()=>Y_,AFp:()=>It,ALo:()=>Sb,AaK:()=>Le,Akn:()=>tc,BQk:()=>nf,CHM:()=>Ki,CRH:()=>xf,DdM:()=>fb,EJc:()=>wn,EiD:()=>uu,EpF:()=>By,F$t:()=>Gy,F4k:()=>Vy,FYo:()=>Sm,FiY:()=>zu,G48:()=>zE,Gf:()=>g_,GfV:()=>Rp,GkF:()=>Og,Gpc:()=>ut,Gre:()=>bv,HDt:()=>kr,Hsn:()=>Ng,Ikx:()=>qg,JOm:()=>va,JVY:()=>wp,JZr:()=>Qt,Jf7:()=>P_,KtG:()=>ws,L6k:()=>um,LAX:()=>cu,LFG:()=>U,Lbi:()=>Pi,Lck:()=>e1,MAs:()=>Ly,MMx:()=>rb,MR2:()=>mu,NdJ:()=>Fg,O4$:()=>b,Ojb:()=>Ei,OlP:()=>vr,Oqu:()=>Wg,P3R:()=>wm,PXZ:()=>AE,Q6J:()=>Ag,QGY:()=>Rg,QbO:()=>Ai,Qsj:()=>rg,R0b:()=>$i,RDi:()=>pc,Rgc:()=>Ch,SBq:()=>Yc,Sil:()=>Qa,Suo:()=>bf,TTD:()=>Za,TgZ:()=>Qp,Tol:()=>ov,Udp:()=>$g,VKq:()=>gb,VuI:()=>dM,W1O:()=>Gb,WFA:()=>Lg,WLB:()=>_b,XFs:()=>Pe,Xpm:()=>Fo,Xq5:()=>xy,Xts:()=>Gc,Y36:()=>yu,YKP:()=>ib,YNc:()=>Ry,Yjl:()=>xl,Yz7:()=>De,Z0I:()=>Xe,ZZ4:()=>X1,_Bn:()=>tb,_UZ:()=>Pg,_Vd:()=>Wc,_c5:()=>eM,_uU:()=>cv,aQg:()=>J1,c2e:()=>zi,cJS:()=>Zt,cg1:()=>Kg,d8E:()=>Yg,dDg:()=>Au,dqk:()=>Ne,eBb:()=>hm,eFA:()=>nE,eJc:()=>y_,ekj:()=>Gg,eoX:()=>ku,f3M:()=>fe,g9A:()=>Yt,h0i:()=>wh,hGG:()=>tM,hij:()=>af,iGM:()=>vf,ifc:()=>Se,ip1:()=>Gt,jDz:()=>ob,kEZ:()=>yb,kL8:()=>Av,kcU:()=>E,lG2:()=>ua,lcZ:()=>Tb,lqb:()=>G,lri:()=>vl,mCW:()=>gc,n5z:()=>cc,n_E:()=>Zm,oAB:()=>Va,oJD:()=>Mp,oxw:()=>$y,pB0:()=>mm,q3G:()=>go,qFp:()=>hM,qLn:()=>Kc,qOj:()=>bg,qZA:()=>ef,qzn:()=>us,rFY:()=>xb,rWj:()=>Ks,rg0:()=>ka,s9C:()=>zg,sBO:()=>BE,s_b:()=>gf,soG:()=>Bi,tb:()=>G1,tp0:()=>Bu,uIk:()=>xg,vHH:()=>Re,vpe:()=>vc,wAp:()=>yn,xp6:()=>V_,ynx:()=>tf,z2F:()=>Sf,z3N:()=>ul,zSh:()=>w,zs3:()=>Bd});var M=j(8645),l=j(7394),ae=j(5619),v=j(5592),$e=j(3019),ie=j(2096),Ge=j(3020),ke=j(4664),Ye=j(3997);function Ve(e){for(let n in e)if(e[n]===Ve)return n;throw Error("Could not find renamed property on target object.")}function it(e,n){for(const s in n)n.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(e[s]=n[s])}function Le(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Le).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function nt(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const Qe=Ve({__forward_ref__:Ve});function ut(e){return e.__forward_ref__=ut,e.toString=function(){return Le(this())},e}function bt(e){return Nt(e)?e():e}function Nt(e){return"function"==typeof e&&e.hasOwnProperty(Qe)&&e.__forward_ref__===ut}function ti(e){return e&&!!e.\u0275providers}const Qt="https://g.co/ng/security#xss";class Re extends Error{constructor(n,s){super(function Ze(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,s)),this.code=n}}function Oe(e){return"string"==typeof e?e:null==e?"":String(e)}function Kt(e,n){throw new Re(-201,!1)}function hi(e,n){null==e&&function je(e,n,s,u){throw new Error(`ASSERTION ERROR: ${e}`+(null==u?"":` [Expected=> ${s} ${u} ${n} <=Actual]`))}(n,e,null,"!=")}function De(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Zt(e){return{providers:e.providers||[],imports:e.imports||[]}}function ei(e){return St(e,Zi)||St(e,vn)}function Xe(e){return null!==ei(e)}function St(e,n){return e.hasOwnProperty(n)?e[n]:null}function gn(e){return e&&(e.hasOwnProperty(An)||e.hasOwnProperty(Mn))?e[An]:null}const Zi=Ve({\u0275prov:Ve}),An=Ve({\u0275inj:Ve}),vn=Ve({ngInjectableDef:Ve}),Mn=Ve({ngInjectorDef:Ve});var Pe=(()=>((Pe=Pe||{})[Pe.Default=0]="Default",Pe[Pe.Host=1]="Host",Pe[Pe.Self=2]="Self",Pe[Pe.SkipSelf=4]="SkipSelf",Pe[Pe.Optional=8]="Optional",Pe))();let se;function Ie(e){const n=se;return se=e,n}function Te(e,n,s){const u=ei(e);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:s&Pe.Optional?null:void 0!==n?n:void Kt(Le(e))}const Ne=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ut={},pi="__NG_DI_FLAG__",Ji="ngTempTokenPath",cn=/\n/gm,_t="__source";let mi;function q(e){const n=mi;return mi=e,n}function B(e,n=Pe.Default){if(void 0===mi)throw new Re(-203,!1);return null===mi?Te(e,void 0,n):mi.get(e,n&Pe.Optional?null:void 0,n)}function U(e,n=Pe.Default){return(function Ce(){return se}()||B)(bt(e),n)}function fe(e,n=Pe.Default){return U(e,Ae(n))}function Ae(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function pe(e){const n=[];for(let s=0;s<e.length;s++){const u=bt(e[s]);if(Array.isArray(u)){if(0===u.length)throw new Re(900,!1);let g,D=Pe.Default;for(let k=0;k<u.length;k++){const F=u[k],V=X(F);"number"==typeof V?-1===V?g=F.token:D|=V:g=F}n.push(U(g,D))}else n.push(U(u))}return n}function oe(e,n){return e[pi]=n,e.prototype[pi]=n,e}function X(e){return e[pi]}function lt(e){return{toString:e}.toString()}var be=(()=>((be=be||{})[be.OnPush=0]="OnPush",be[be.Default=1]="Default",be))(),Se=(()=>{return(e=Se||(Se={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Se;var e})();const de={},Ee=[],tt=Ve({\u0275cmp:Ve}),Tt=Ve({\u0275dir:Ve}),Ke=Ve({\u0275pipe:Ve}),Me=Ve({\u0275mod:Ve}),We=Ve({\u0275fac:Ve}),zt=Ve({__NG_ELEMENT_ID__:Ve}),ri=Ve({__NG_ENV_ID__:Ve});function Ht(e,n,s){let u=e.length;for(;;){const g=e.indexOf(n,s);if(-1===g)return g;if(0===g||e.charCodeAt(g-1)<=32){const D=n.length;if(g+D===u||e.charCodeAt(g+D)<=32)return g}s=g+1}}function di(e,n,s){let u=0;for(;u<s.length;){const g=s[u];if("number"==typeof g){if(0!==g)break;u++;const D=s[u++],k=s[u++],F=s[u++];e.setAttribute(n,k,F,D)}else{const D=g,k=s[++u];Ni(D)?e.setProperty(n,D,k):e.setAttribute(n,D,k),u++}}return u}function Wn(e){return 3===e||4===e||6===e}function Ni(e){return 64===e.charCodeAt(0)}function Un(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let s=-1;for(let u=0;u<n.length;u++){const g=n[u];"number"==typeof g?s=g:0===s||fr(e,s,g,null,-1===s||2===s?n[++u]:null)}}return e}function fr(e,n,s,u,g){let D=0,k=e.length;if(-1===n)k=-1;else for(;D<e.length;){const F=e[D++];if("number"==typeof F){if(F===n){k=-1;break}if(F>n){k=D-1;break}}}for(;D<e.length;){const F=e[D];if("number"==typeof F)break;if(F===s){if(null===u)return void(null!==g&&(e[D+1]=g));if(u===e[D+1])return void(e[D+2]=g)}D++,null!==u&&D++,null!==g&&D++}-1!==k&&(e.splice(k,0,n),D=k+1),e.splice(D++,0,s),null!==u&&e.splice(D++,0,u),null!==g&&e.splice(D++,0,g)}const Pr="ng-template";function Or(e,n,s){let u=0,g=!0;for(;u<e.length;){let D=e[u++];if("string"==typeof D&&g){const k=e[u++];if(s&&"class"===D&&-1!==Ht(k.toLowerCase(),n,0))return!0}else{if(1===D){for(;u<e.length&&"string"==typeof(D=e[u++]);)if(D.toLowerCase()===n)return!0;return!1}"number"==typeof D&&(g=!1)}}return!1}function Nn(e){return 4===e.type&&e.value!==Pr}function _o(e,n,s){return n===(4!==e.type||s?e.value:Pr)}function Dn(e,n,s){let u=4;const g=e.attrs||[],D=function kn(e){for(let n=0;n<e.length;n++)if(Wn(e[n]))return n;return e.length}(g);let k=!1;for(let F=0;F<n.length;F++){const V=n[F];if("number"!=typeof V){if(!k)if(4&u){if(u=2|1&u,""!==V&&!_o(e,V,s)||""===V&&1===n.length){if(qi(u))return!1;k=!0}}else{const J=8&u?V:n[++F];if(8&u&&null!==e.attrs){if(!Or(e.attrs,J,s)){if(qi(u))return!1;k=!0}continue}const ze=lo(8&u?"class":V,g,Nn(e),s);if(-1===ze){if(qi(u))return!1;k=!0;continue}if(""!==J){let pt;pt=ze>D?"":g[ze+1].toLowerCase();const Dt=8&u?pt:null;if(Dt&&-1!==Ht(Dt,J,0)||2&u&&J!==pt){if(qi(u))return!1;k=!0}}}}else{if(!k&&!qi(u)&&!qi(V))return!1;if(k&&qi(V))continue;k=!1,u=V|1&u}}return qi(u)||k}function qi(e){return 0==(1&e)}function lo(e,n,s,u){if(null===n)return-1;let g=0;if(u||!s){let D=!1;for(;g<n.length;){const k=n[g];if(k===e)return g;if(3===k||6===k)D=!0;else{if(1===k||2===k){let F=n[++g];for(;"string"==typeof F;)F=n[++g];continue}if(4===k)break;if(0===k){g+=4;continue}}g+=D?1:2}return-1}return function Eo(e,n){let s=e.indexOf(4);if(s>-1)for(s++;s<e.length;){const u=e[s];if("number"==typeof u)return-1;if(u===n)return s;s++}return-1}(n,e)}function Lr(e,n,s=!1){for(let u=0;u<n.length;u++)if(Dn(e,n[u],s))return!0;return!1}function Mo(e,n){e:for(let s=0;s<n.length;s++){const u=n[s];if(e.length===u.length){for(let g=0;g<e.length;g++)if(e[g]!==u[g])continue e;return!0}}return!1}function co(e,n){return e?":not("+n.trim()+")":n}function Cn(e){let n=e[0],s=1,u=2,g="",D=!1;for(;s<e.length;){let k=e[s];if("string"==typeof k)if(2&u){const F=e[++s];g+="["+k+(F.length>0?'="'+F+'"':"")+"]"}else 8&u?g+="."+k:4&u&&(g+=" "+k);else""!==g&&!qi(k)&&(n+=co(D,g),g=""),u=k,D=D||!qi(u);s++}return""!==g&&(n+=co(D,g)),n}function Fo(e){return lt(()=>{const n=ss(e),s={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===be.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Se.Emulated,styles:e.styles||Ee,_:null,schemas:e.schemas||null,tView:null,id:""};Xs(s);const u=e.dependencies;return s.directiveDefs=zr(u,!1),s.pipeDefs=zr(u,!0),s.id=function fs(e){let n=0;const s=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const g of s)n=Math.imul(31,n)+g.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(s),s})}function bl(e){return ln(e)||Sr(e)}function Ll(e){return null!==e}function Va(e){return lt(()=>({type:e.type,bootstrap:e.bootstrap||Ee,declarations:e.declarations||Ee,imports:e.imports||Ee,exports:e.exports||Ee,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Ua(e,n){if(null==e)return de;const s={};for(const u in e)if(e.hasOwnProperty(u)){let g=e[u],D=g;Array.isArray(g)&&(D=g[1],g=g[0]),s[g]=u,n&&(n[g]=D)}return s}function ua(e){return lt(()=>{const n=ss(e);return Xs(n),n})}function xl(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function ln(e){return e[tt]||null}function Sr(e){return e[Tt]||null}function Gr(e){return e[Ke]||null}function Us(e){const n=ln(e)||Sr(e)||Gr(e);return null!==n&&n.standalone}function Nr(e,n){const s=e[Me]||null;if(!s&&!0===n)throw new Error(`Type ${Le(e)} does not have '\u0275mod' property.`);return s}function ss(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||de,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Ee,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ua(e.inputs,n),outputs:Ua(e.outputs)}}function Xs(e){e.features?.forEach(n=>n(e))}function zr(e,n){if(!e)return null;const s=n?Gr:bl;return()=>("function"==typeof e?e():e).map(u=>s(u)).filter(Ll)}const ar=0,Ti=1,rn=2,On=3,uo=4,as=5,Kn=6,Tr=7,gr=8,Wo=9,Do=10,on=11,qo=12,js=13,dn=14,dr=15,ls=16,gs=17,cs=18,Yo=19,ja=20,Is=21,Ko=22,ho=23,Hs=24,bn=25,Ha=1,$a=2,Lo=7,Js=9,Rr=11;function Br(e){return Array.isArray(e)&&"object"==typeof e[Ha]}function Jn(e){return Array.isArray(e)&&!0===e[Ha]}function Vr(e){return 0!=(4&e.flags)}function Zr(e){return e.componentOffset>-1}function Sa(e){return 1==(1&e.flags)}function mn(e){return!!e.template}function ea(e){return 0!=(512&e[rn])}function mo(e,n){return e.hasOwnProperty(We)?e[We]:null}let Xr=Ne.WeakRef??class oc{constructor(n){this.ref=n}deref(){return this.ref}},rl=0,So=null,Fr=!1;function Sn(e){const n=So;return So=e,n}class ur{constructor(){this.id=rl++,this.ref=function nl(e){return new Xr(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[n,s]of this.producers){const u=s.producerNode.deref();if(void 0!==u&&s.atTrackingVersion===this.trackingVersion){if(u.producerPollStatus(s.seenValueVersion))return!0}else this.producers.delete(n),u?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const n=Fr;Fr=!0;try{for(const[s,u]of this.consumers){const g=u.consumerNode.deref();void 0!==g&&g.trackingVersion===u.atTrackingVersion?g.onConsumerDependencyMayHaveChanged():(this.consumers.delete(s),g?.producers.delete(this.id))}}finally{Fr=n}}producerAccessed(){if(Fr)throw new Error("");if(null===So)return;let n=So.producers.get(this.id);void 0===n?(n={consumerNode:So.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:So.trackingVersion},So.producers.set(this.id,n),this.consumers.set(So.id,n)):(n.seenValueVersion=this.valueVersion,n.atTrackingVersion=So.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==So?.consumerAllowSignalWrites}producerPollStatus(n){return this.valueVersion!==n||(this.onProducerUpdateValueVersion(),this.valueVersion!==n)}}let ys=null;function ka(e){const n=Sn(null);try{return e()}finally{Sn(n)}}const zl=()=>{};class Jr extends ur{constructor(n,s,u){super(),this.watch=n,this.schedule=s,this.dirty=!1,this.cleanupFn=zl,this.registerOnCleanup=g=>{this.cleanupFn=g},this.consumerAllowSignalWrites=u}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const n=Sn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=zl,this.watch(this.registerOnCleanup)}finally{Sn(n)}}cleanup(){this.cleanupFn()}}class No{constructor(n,s,u){this.previousValue=n,this.currentValue=s,this.firstChange=u}isFirstChange(){return this.firstChange}}function Za(){return _r}function _r(e){return e.type.prototype.ngOnChanges&&(e.setInput=Qr),ks}function ks(){const e=Mc(this),n=e?.current;if(n){const s=e.previous;if(s===de)e.previous=n;else for(let u in n)s[u]=n[u];e.current=null,this.ngOnChanges(n)}}function Qr(e,n,s,u){const g=this.declaredInputs[s],D=Mc(e)||function Sl(e,n){return e[Dl]=n}(e,{previous:de,current:null}),k=D.current||(D.current={}),F=D.previous,V=F[g];k[g]=new No(V&&V.currentValue,n,F===de),e[u]=n}Za.ngInherit=!0;const Dl="__ngSimpleChanges__";function Mc(e){return e[Dl]||null}const Ci=function(e,n,s){},Bl="svg";function qn(e){for(;Array.isArray(e);)e=e[ar];return e}function N(e,n){return qn(n[e])}function Q(e,n){return qn(n[e.index])}function me(e,n){return e.data[n]}function qe(e,n){return e[n]}function Pt(e,n){const s=n[e];return Br(s)?s:s[ar]}function jn(e,n){return null==n?null:e[n]}function Rn(e){e[gs]=0}function Tn(e){1024&e[rn]||(e[rn]|=1024,tn(e,1))}function yr(e){1024&e[rn]&&(e[rn]&=-1025,tn(e,-1))}function tn(e,n){let s=e[On];if(null===s)return;s[as]+=n;let u=s;for(s=s[On];null!==s&&(1===n&&1===u[as]||-1===n&&0===u[as]);)s[as]+=n,u=s,s=s[On]}const Yi={lFrame:kl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function un(){return Yi.bindingsEnabled}function Pa(){return null!==Yi.skipHydrationRootTNode}function ni(){return Yi.lFrame.lView}function ui(){return Yi.lFrame.tView}function Ki(e){return Yi.lFrame.contextLView=e,e[gr]}function ws(e){return Yi.lFrame.contextLView=null,e}function yo(){let e=al();for(;null!==e&&64===e.type;)e=e.parent;return e}function al(){return Yi.lFrame.currentTNode}function ga(e,n){const s=Yi.lFrame;s.currentTNode=e,s.isParent=n}function Ps(){return Yi.lFrame.isParent}function sc(){Yi.lFrame.isParent=!1}function ds(){const e=Yi.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Ws(){return Yi.lFrame.bindingIndex++}function Vo(e){const n=Yi.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,s}function Tc(e,n){const s=Yi.lFrame;s.bindingIndex=s.bindingRootIndex=e,jl(n)}function jl(e){Yi.lFrame.currentDirectiveIndex=e}function Ka(e){const n=Yi.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}function Oa(){return Yi.lFrame.currentQueryIndex}function Hl(e){Yi.lFrame.currentQueryIndex=e}function Il(e){const n=e[Ti];return 2===n.type?n.declTNode:1===n.type?e[Kn]:null}function Ra(e,n,s){if(s&Pe.SkipSelf){let g=n,D=e;for(;!(g=g.parent,null!==g||s&Pe.Host||(g=Il(D),null===g||(D=D[dn],10&g.type))););if(null===g)return!1;n=g,e=D}const u=Yi.lFrame=ac();return u.currentTNode=n,u.lView=e,!0}function Al(e){const n=ac(),s=e[Ti];Yi.lFrame=n,n.currentTNode=s.firstChild,n.lView=e,n.tView=s,n.contextLView=e,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function ac(){const e=Yi.lFrame,n=null===e?null:e.child;return null===n?kl(e):n}function kl(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function $l(){const e=Yi.lFrame;return Yi.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const lc=$l;function x(){const e=$l();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function _(){return Yi.lFrame.selectedIndex}function C(e){Yi.lFrame.selectedIndex=e}function h(){const e=Yi.lFrame;return me(e.tView,e.selectedIndex)}function b(){Yi.lFrame.currentNamespace=Bl}function E(){!function I(){Yi.lFrame.currentNamespace=null}()}let R=!0;function W(){return R}function ce(e){R=e}function we(e,n){for(let s=n.directiveStart,u=n.directiveEnd;s<u;s++){const D=e.data[s].type.prototype,{ngAfterContentInit:k,ngAfterContentChecked:F,ngAfterViewInit:V,ngAfterViewChecked:J,ngOnDestroy:ge}=D;k&&(e.contentHooks??=[]).push(-s,k),F&&((e.contentHooks??=[]).push(s,F),(e.contentCheckHooks??=[]).push(s,F)),V&&(e.viewHooks??=[]).push(-s,V),J&&((e.viewHooks??=[]).push(s,J),(e.viewCheckHooks??=[]).push(s,J)),null!=ge&&(e.destroyHooks??=[]).push(s,ge)}}function Fe(e,n,s){He(e,n,3,s)}function rt(e,n,s,u){(3&e[rn])===s&&He(e,n,s,u)}function Mt(e,n){let s=e[rn];(3&s)===n&&(s&=8191,s+=1,e[rn]=s)}function He(e,n,s,u){const D=u??-1,k=n.length-1;let F=0;for(let V=void 0!==u?65535&e[gs]:0;V<k;V++)if("number"==typeof n[V+1]){if(F=n[V],null!=u&&F>=u)break}else n[V]<0&&(e[gs]+=65536),(F<D||-1==D)&&(Lt(e,s,n,V),e[gs]=(4294901760&e[gs])+V+2),V++}function Ct(e,n){Ci(4,e,n);const s=Sn(null);try{n.call(e)}finally{Sn(s),Ci(5,e,n)}}function Lt(e,n,s,u){const g=s[u]<0,D=s[u+1],F=e[g?-s[u]:s[u]];g?e[rn]>>13<e[gs]>>16&&(3&e[rn])===n&&(e[rn]+=8192,Ct(F,D)):Ct(F,D)}const Wt=-1;class oi{constructor(n,s,u){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=u}}function Qn(e){return e!==Wt}function qr(e){return 32767&e}function pn(e,n){let s=function rr(e){return e>>16}(e),u=n;for(;s>0;)u=u[dn],s--;return u}let Yr=!0;function Dr(e){const n=Yr;return Yr=e,n}const Uo=255,Os=5;let _a=0;const Io={};function sa(e,n){const s=Ao(e,n);if(-1!==s)return s;const u=n[Ti];u.firstCreatePass&&(e.injectorIndex=n.length,Gl(u.data,e),Gl(n,null),Gl(u.blueprint,null));const g=ko(e,n),D=e.injectorIndex;if(Qn(g)){const k=qr(g),F=pn(g,n),V=F[Ti].data;for(let J=0;J<8;J++)n[D+J]=F[k+J]|V[k+J]}return n[D+8]=g,D}function Gl(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Ao(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function ko(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let s=0,u=null,g=n;for(;null!==g;){if(u=Sh(g),null===u)return Wt;if(s++,g=g[dn],-1!==u.injectorIndex)return u.injectorIndex|s<<16}return Wt}function er(e,n,s){!function Cs(e,n,s){let u;"string"==typeof s?u=s.charCodeAt(0)||0:s.hasOwnProperty(zt)&&(u=s[zt]),null==u&&(u=s[zt]=_a++);const g=u&Uo;n.data[e+(g>>Os)]|=1<<g}(e,n,s)}function Po(e,n,s){if(s&Pe.Optional||void 0!==e)return e;Kt()}function sr(e,n,s,u){if(s&Pe.Optional&&void 0===u&&(u=null),!(s&(Pe.Self|Pe.Host))){const g=e[Wo],D=Ie(void 0);try{return g?g.get(n,u,s&Pe.Optional):Te(n,u,s&Pe.Optional)}finally{Ie(D)}}return Po(u,0,s)}function Oo(e,n,s,u=Pe.Default,g){if(null!==e){if(2048&n[rn]&&!(u&Pe.Self)){const k=function Dh(e,n,s,u,g){let D=e,k=n;for(;null!==D&&null!==k&&2048&k[rn]&&!(512&k[rn]);){const F=Es(D,k,s,u|Pe.Self,Io);if(F!==Io)return F;let V=D.parent;if(!V){const J=k[ja];if(J){const ge=J.get(s,Io,u);if(ge!==Io)return ge}V=Sh(k),k=k[dn]}D=V}return g}(e,n,s,u,Io);if(k!==Io)return k}const D=Es(e,n,s,u,Io);if(D!==Io)return D}return sr(n,s,u,g)}function Es(e,n,s,u,g){const D=function Pu(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(zt)?e[zt]:void 0;return"number"==typeof n?n>=0?n&Uo:ll:n}(s);if("function"==typeof D){if(!Ra(n,e,u))return u&Pe.Host?Po(g,0,u):sr(n,s,u,g);try{const k=D(u);if(null!=k||u&Pe.Optional)return k;Kt()}finally{lc()}}else if("number"==typeof D){let k=null,F=Ao(e,n),V=Wt,J=u&Pe.Host?n[dr][Kn]:null;for((-1===F||u&Pe.SkipSelf)&&(V=-1===F?ko(e,n):n[F+8],V!==Wt&&od(u,!1)?(k=n[Ti],F=qr(V),n=pn(V,n)):F=-1);-1!==F;){const ge=n[Ti];if(Ir(D,F,ge.data)){const ze=rd(F,n,s,k,u,J);if(ze!==Io)return ze}V=n[F+8],V!==Wt&&od(u,n[Ti].data[F+8]===J)&&Ir(D,F,n)?(k=ge,F=qr(V),n=pn(V,n)):F=-1}}return g}function rd(e,n,s,u,g,D){const k=n[Ti],F=k.data[e+8],ge=ya(F,k,s,null==u?Zr(F)&&Yr:u!=k&&0!=(3&F.type),g&Pe.Host&&D===F);return null!==ge?Zl(n,k,ge,F):Io}function ya(e,n,s,u,g){const D=e.providerIndexes,k=n.data,F=1048575&D,V=e.directiveStart,ge=D>>20,pt=g?F+ge:e.directiveEnd;for(let Dt=u?F:F+ge;Dt<pt;Dt++){const ii=k[Dt];if(Dt<V&&s===ii||Dt>=V&&ii.type===s)return Dt}if(g){const Dt=k[V];if(Dt&&mn(Dt)&&Dt.type===s)return V}return null}function Zl(e,n,s,u){let g=e[s];const D=n.data;if(function fi(e){return e instanceof oi}(g)){const k=g;k.resolving&&function Rt(e,n){const s=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new Re(-200,`Circular dependency in DI detected for ${e}${s}`)}(function gt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Oe(e)}(D[s]));const F=Dr(k.canSeeViewProviders);k.resolving=!0;const V=k.injectImpl?Ie(k.injectImpl):null;Ra(e,u,Pe.Default);try{g=e[s]=k.factory(void 0,D,e,u),n.firstCreatePass&&s>=u.directiveStart&&function ye(e,n,s){const{ngOnChanges:u,ngOnInit:g,ngDoCheck:D}=n.type.prototype;if(u){const k=_r(n);(s.preOrderHooks??=[]).push(e,k),(s.preOrderCheckHooks??=[]).push(e,k)}g&&(s.preOrderHooks??=[]).push(0-e,g),D&&((s.preOrderHooks??=[]).push(e,D),(s.preOrderCheckHooks??=[]).push(e,D))}(s,D[s],n)}finally{null!==V&&Ie(V),Dr(F),k.resolving=!1,lc()}}return g}function Ir(e,n,s){return!!(s[n+(e>>Os)]&1<<e)}function od(e,n){return!(e&Pe.Self||e&Pe.Host&&n)}class Xa{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,u){return Oo(this._tNode,this._lView,n,Ae(u),s)}}function ll(){return new Xa(yo(),ni())}function cc(e){return lt(()=>{const n=e.prototype.constructor,s=n[We]||sd(n),u=Object.prototype;let g=Object.getPrototypeOf(e.prototype).constructor;for(;g&&g!==u;){const D=g[We]||sd(g);if(D&&D!==s)return D;g=Object.getPrototypeOf(g)}return D=>new D})}function sd(e){return Nt(e)?()=>{const n=sd(bt(e));return n&&n()}:mo(e)}function Sh(e){const n=e[Ti],s=n.type;return 2===s?n.declTNode:1===s?e[Kn]:null}function Th(e){return function jo(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const s=e.attrs;if(s){const u=s.length;let g=0;for(;g<u;){const D=s[g];if(Wn(D))break;if(0===D)g+=2;else if("number"==typeof D)for(g++;g<u&&"string"==typeof s[g];)g++;else{if(D===n)return s[g+1];g+=2}}}return null}(yo(),e)}const ad="__parameters__";function Ac(e,n,s){return lt(()=>{const u=function Gd(e){return function(...s){if(e){const u=e(...s);for(const g in u)this[g]=u[g]}}}(n);function g(...D){if(this instanceof g)return u.apply(this,D),this;const k=new g(...D);return F.annotation=k,F;function F(V,J,ge){const ze=V.hasOwnProperty(ad)?V[ad]:Object.defineProperty(V,ad,{value:[]})[ad];for(;ze.length<=ge;)ze.push(null);return(ze[ge]=ze[ge]||[]).push(k),V}}return s&&(g.prototype=Object.create(s.prototype)),g.prototype.ngMetadataName=e,g.annotationCls=g,g})}function kc(e,n){e.forEach(s=>Array.isArray(s)?kc(s,n):n(s))}function Ah(e,n,s){n>=e.length?e.push(s):e.splice(n,0,s)}function dd(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Wd(e,n){const s=[];for(let u=0;u<e;u++)s.push(n);return s}function ro(e,n,s){let u=Pc(e,n);return u>=0?e[1|u]=s:(u=~u,function Ru(e,n,s,u){let g=e.length;if(g==n)e.push(s,u);else if(1===g)e.push(u,e[0]),e[0]=s;else{for(g--,e.push(e[g-1],e[g]);g>n;)e[g]=e[g-2],g--;e[n]=s,e[n+1]=u}}(e,u,n,s)),u}function ud(e,n){const s=Pc(e,n);if(s>=0)return e[1|s]}function Pc(e,n){return function ep(e,n,s){let u=0,g=e.length>>s;for(;g!==u;){const D=u+(g-u>>1),k=e[D<<s];if(n===k)return D<<s;k>n?g=D:u=D+1}return~(g<<s)}(e,n,1)}const zu=oe(Ac("Optional"),8),Bu=oe(Ac("SkipSelf"),4);function Wu(e){return 128==(128&e.flags)}var va=(()=>((va=va||{})[va.Important=1]="Important",va[va.DashCase=2]="DashCase",va))();const $h=/^>|^->|<!--|-->|--!>|<!-$/g,Nf=/(<|>)/,zf="\u200b$1\u200b";const uc=new Map;let fd=0;const eu="__ngContext__";function Ls(e,n){Br(n)?(e[eu]=n[Yo],function Bf(e){uc.set(e[Yo],e)}(n)):e[eu]=n}let Nc;function Ro(e,n){return Nc(e,n)}function yd(e){const n=e[On];return Jn(n)?n[On]:n}function Ku(e){return Xh(e[qo])}function Kh(e){return Xh(e[uo])}function Xh(e){for(;null!==e&&!Jn(e);)e=e[uo];return e}function ba(e,n,s,u,g){if(null!=u){let D,k=!1;Jn(u)?D=u:Br(u)&&(k=!0,u=u[ar]);const F=qn(u);0===e&&null!==s?null==g?nm(n,s,F):Bc(n,s,F,g||null,!0):1===e&&null!==s?Bc(n,s,F,g||null,!0):2===e?function nu(e,n,s){const u=iu(e,n);u&&function aa(e,n,s,u){e.removeChild(n,s,u)}(e,u,n,s)}(n,F,k):3===e&&n.destroyNode(F),null!=D&&function ih(e,n,s,u,g){const D=s[Lo];D!==qn(s)&&ba(n,e,u,D,g);for(let F=Rr;F<s.length;F++){const V=s[F];jc(V[Ti],V,e,n,u,D)}}(n,e,D,s,g)}}function Qh(e,n){return e.createComment(function Gh(e){return e.replace($h,n=>n.replace(Nf,zf))}(n))}function Xu(e,n,s){return e.createElement(n,s)}function _p(e,n){const s=e[Js],u=s.indexOf(n);yr(n),s.splice(u,1)}function vd(e,n){if(e.length<=Rr)return;const s=Rr+n,u=e[s];if(u){const g=u[ls];null!==g&&g!==e&&_p(g,u),n>0&&(e[s-1][uo]=u[uo]);const D=dd(e,Rr+n);!function gp(e,n){jc(e,n,n[on],2,null,null),n[ar]=null,n[Kn]=null}(u[Ti],u);const k=D[cs];null!==k&&k.detachView(D[Ti]),u[On]=null,u[uo]=null,u[rn]&=-129}return u}function zc(e,n){if(!(256&n[rn])){const s=n[on];n[ho]?.destroy(),n[Hs]?.destroy(),s.destroyNode&&jc(e,n,s,3,null,null),function $f(e){let n=e[qo];if(!n)return Qu(e[Ti],e);for(;n;){let s=null;if(Br(n))s=n[qo];else{const u=n[Rr];u&&(s=u)}if(!s){for(;n&&!n[uo]&&n!==e;)Br(n)&&Qu(n[Ti],n),n=n[On];null===n&&(n=e),Br(n)&&Qu(n[Ti],n),s=n&&n[uo]}n=s}}(n)}}function Qu(e,n){if(!(256&n[rn])){n[rn]&=-129,n[rn]|=256,function tm(e,n){let s;if(null!=e&&null!=(s=e.destroyHooks))for(let u=0;u<s.length;u+=2){const g=n[s[u]];if(!(g instanceof oi)){const D=s[u+1];if(Array.isArray(D))for(let k=0;k<D.length;k+=2){const F=g[D[k]],V=D[k+1];Ci(4,F,V);try{V.call(F)}finally{Ci(5,F,V)}}else{Ci(4,g,D);try{D.call(g)}finally{Ci(5,g,D)}}}}}(e,n),function em(e,n){const s=e.cleanup,u=n[Tr];if(null!==s)for(let D=0;D<s.length-1;D+=2)if("string"==typeof s[D]){const k=s[D+3];k>=0?u[k]():u[-k].unsubscribe(),D+=2}else s[D].call(u[s[D+1]]);null!==u&&(n[Tr]=null);const g=n[Is];if(null!==g){n[Is]=null;for(let D=0;D<g.length;D++)(0,g[D])()}}(e,n),1===n[Ti].type&&n[on].destroy();const s=n[ls];if(null!==s&&Jn(n[On])){s!==n[On]&&_p(s,n);const u=n[cs];null!==u&&u.detachView(e)}!function Vf(e){uc.delete(e[Yo])}(n)}}function im(e,n,s){return function yp(e,n,s){let u=n;for(;null!==u&&40&u.type;)u=(n=u).parent;if(null===u)return s[ar];{const{componentOffset:g}=u;if(g>-1){const{encapsulation:D}=e.data[u.directiveStart+g];if(D===Se.None||D===Se.Emulated)return null}return Q(u,s)}}(e,n.parent,s)}function Bc(e,n,s,u,g){e.insertBefore(n,s,u,g)}function nm(e,n,s){e.appendChild(n,s)}function rm(e,n,s,u,g){null!==u?Bc(e,n,s,u,g):nm(e,n,s)}function iu(e,n){return e.parentNode(n)}function mc(e,n,s){return Vc(e,n,s)}let xd,Cd,lu,Hc,Vc=function bd(e,n,s){return 40&e.type?Q(e,s):null};function eh(e,n,s,u){const g=im(e,u,n),D=n[on],F=mc(u.parent||n[Kn],u,n);if(null!=g)if(Array.isArray(s))for(let V=0;V<s.length;V++)rm(D,g,s[V],F,!1);else rm(D,g,s,F,!1);void 0!==xd&&xd(D,u,n,s,g)}function Uc(e,n){if(null!==n){const s=n.type;if(3&s)return Q(n,e);if(4&s)return sm(-1,e[n.index]);if(8&s){const u=n.child;if(null!==u)return Uc(e,u);{const g=e[n.index];return Jn(g)?sm(-1,g):qn(g)}}if(32&s)return Ro(n,e)()||qn(e[n.index]);{const u=om(e,n);return null!==u?Array.isArray(u)?u[0]:Uc(yd(e[dr]),u):Uc(e,n.next)}}return null}function om(e,n){return null!==n?e[dr][Kn].projection[n.projection]:null}function sm(e,n){const s=Rr+e+1;if(s<n.length){const u=n[s],g=u[Ti].firstChild;if(null!==g)return Uc(u,g)}return n[Lo]}function ru(e,n,s,u,g,D,k){for(;null!=s;){const F=u[s.index],V=s.type;if(k&&0===n&&(F&&Ls(qn(F),u),s.flags|=2),32!=(32&s.flags))if(8&V)ru(e,n,s.child,u,g,D,!1),ba(n,e,g,F,D);else if(32&V){const J=Ro(s,u);let ge;for(;ge=J();)ba(n,e,g,ge,D);ba(n,e,g,F,D)}else 16&V?xp(e,n,u,s,g,D):ba(n,e,g,F,D);s=k?s.projectionNext:s.next}}function jc(e,n,s,u,g,D){ru(s,u,e.firstChild,n,g,D,!1)}function xp(e,n,s,u,g,D){const k=s[dr],V=k[Kn].projection[u.projection];if(Array.isArray(V))for(let J=0;J<V.length;J++)ba(n,e,g,V[J],D);else{let J=V;const ge=k[On];Wu(u)&&(J.flags|=128),ru(e,n,J,ge,g,D,!0)}}function Kl(e,n,s){""===s?e.removeAttribute(n,"class"):e.setAttribute(n,"class",s)}function am(e,n,s){const{mergedAttrs:u,classes:g,styles:D}=s;null!==u&&di(e,n,u),null!==g&&Kl(e,n,g),null!==D&&function Ja(e,n,s){e.setAttribute(n,"style",s)}(e,n,D)}function Ed(e){return function lm(){if(void 0===Cd&&(Cd=null,Ne.trustedTypes))try{Cd=Ne.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Cd}()?.createHTML(e)||e}function pc(e){lu=e}function Md(){if(void 0!==lu)return lu;if(typeof document<"u")return document;throw new Re(210,!1)}function Dd(){if(void 0===Hc&&(Hc=null,Ne.trustedTypes))try{Hc=Ne.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Hc}function cm(e){return Dd()?.createHTML(e)||e}function rh(e){return Dd()?.createScriptURL(e)||e}class fc{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Qt})`}}class dm extends fc{getTypeName(){return"HTML"}}class Wf extends fc{getTypeName(){return"Style"}}class qf extends fc{getTypeName(){return"Script"}}class Yf extends fc{getTypeName(){return"URL"}}class Kf extends fc{getTypeName(){return"ResourceURL"}}function ul(e){return e instanceof fc?e.changingThisBreaksApplicationSecurity:e}function us(e,n){const s=function Td(e){return e instanceof fc&&e.getTypeName()||null}(e);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see ${Qt})`)}return s===n}function wp(e){return new dm(e)}function um(e){return new Wf(e)}function hm(e){return new qf(e)}function cu(e){return new Yf(e)}function mm(e){return new Kf(e)}class Cp{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const s=(new window.DOMParser).parseFromString(Ed(n),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(n):(s.removeChild(s.firstChild),s)}catch{return null}}}class pm{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const s=this.inertDocument.createElement("template");return s.innerHTML=Ed(n),s}}const xa=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function gc(e){return(e=String(e)).match(xa)?e:"unsafe:"+e}function Ol(e){const n={};for(const s of e.split(","))n[s]=!0;return n}function Ad(...e){const n={};for(const s of e)for(const u in s)s.hasOwnProperty(u)&&(n[u]=!0);return n}const gm=Ol("area,br,col,hr,img,wbr"),_m=Ol("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),oh=Ol("rp,rt"),hl=Ad(gm,Ad(_m,Ol("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ad(oh,Ol("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ad(oh,_m)),sh=Ol("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ym=Ad(sh,Ol("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ol("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vm=Ol("script,style,template");class tg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let s=n.firstChild,u=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?u=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,u&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let g=this.checkClobberedElement(s,s.nextSibling);if(g){s=g;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(n){const s=n.nodeName.toLowerCase();if(!hl.hasOwnProperty(s))return this.sanitizedSomething=!0,!vm.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const u=n.attributes;for(let g=0;g<u.length;g++){const D=u.item(g),k=D.name,F=k.toLowerCase();if(!ym.hasOwnProperty(F)){this.sanitizedSomething=!0;continue}let V=D.value;sh[F]&&(V=gc(V)),this.buf.push(" ",k,'="',du(V),'"')}return this.buf.push(">"),!0}endElement(n){const s=n.nodeName.toLowerCase();hl.hasOwnProperty(s)&&!gm.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(n){this.buf.push(du(n))}checkClobberedElement(n,s){if(s&&(n.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return s}}const Ep=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,kd=/([^\#-~ |!])/g;function du(e){return e.replace(/&/g,"&amp;").replace(Ep,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(kd,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $c;function uu(e,n){let s=null;try{$c=$c||function Id(e){const n=new pm(e);return function fm(){try{return!!(new window.DOMParser).parseFromString(Ed(""),"text/html")}catch{return!1}}()?new Cp(n):n}(e);let u=n?String(n):"";s=$c.getInertBodyElement(u);let g=5,D=u;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,u=D,D=s.innerHTML,s=$c.getInertBodyElement(u)}while(u!==D);return Ed((new tg).sanitizeChildren(Pd(s)||s))}finally{if(s){const u=Pd(s)||s;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Pd(e){return"content"in e&&function ah(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var go=(()=>((go=go||{})[go.NONE=0]="NONE",go[go.HTML=1]="HTML",go[go.STYLE=2]="STYLE",go[go.SCRIPT=3]="SCRIPT",go[go.URL=4]="URL",go[go.RESOURCE_URL=5]="RESOURCE_URL",go))();function Mp(e){const n=hu();return n?cm(n.sanitize(go.HTML,e)||""):us(e,"HTML")?cm(ul(e)):uu(Md(),Oe(e))}function Dp(e){const n=hu();return n?n.sanitize(go.URL,e)||"":us(e,"URL")?ul(e):gc(Oe(e))}function Sp(e){const n=hu();if(n)return rh(n.sanitize(go.RESOURCE_URL,e)||"");if(us(e,"ResourceURL"))return rh(ul(e));throw new Re(904,!1)}function wm(e,n,s){return function xm(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?Sp:Dp}(n,s)(e)}function hu(){const e=ni();return e&&e[Do].sanitizer}class vr{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=De({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Gc=new vr("ENVIRONMENT_INITIALIZER"),lh=new vr("INJECTOR",-1),ch=new vr("INJECTOR_DEF_TYPES");class Rd{get(n,s=Ut){if(s===Ut){const u=new Error(`NullInjectorError: No provider for ${Le(n)}!`);throw u.name="NullInjectorError",u}return s}}function mu(e){return{\u0275providers:e}}function pu(...e){return{\u0275providers:dh(0,e),\u0275fromNgModule:!0}}function dh(e,...n){const s=[],u=new Set;let g;return kc(n,D=>{const k=D;Zc(k,s,[],u)&&(g||=[],g.push(k))}),void 0!==g&&Fd(g,s),s}function Fd(e,n){for(let s=0;s<e.length;s++){const{providers:g}=e[s];fu(g,D=>{n.push(D)})}}function Zc(e,n,s,u){if(!(e=bt(e)))return!1;let g=null,D=gn(e);const k=!D&&ln(e);if(D||k){if(k&&!k.standalone)return!1;g=e}else{const V=e.ngModule;if(D=gn(V),!D)return!1;g=V}const F=u.has(g);if(k){if(F)return!1;if(u.add(g),k.dependencies){const V="function"==typeof k.dependencies?k.dependencies():k.dependencies;for(const J of V)Zc(J,n,s,u)}}else{if(!D)return!1;{if(null!=D.imports&&!F){let J;u.add(g);try{kc(D.imports,ge=>{Zc(ge,n,s,u)&&(J||=[],J.push(ge))})}finally{}void 0!==J&&Fd(J,n)}if(!F){const J=mo(g)||(()=>new g);n.push({provide:g,useFactory:J,deps:Ee},{provide:ch,useValue:g,multi:!0},{provide:Gc,useValue:()=>U(g),multi:!0})}const V=D.providers;null==V||F||fu(V,ge=>{n.push(ge)})}}return g!==e&&void 0!==e.providers}function fu(e,n){for(let s of e)ti(s)&&(s=s.\u0275providers),Array.isArray(s)?fu(s,n):n(s)}const Cm=Ve({provide:String,useValue:Ve});function Em(e){return null!==e&&"object"==typeof e&&Cm in e}function a(e){return"function"==typeof e}const w=new vr("Set Injector scope."),S={},T={};let P;function L(){return void 0===P&&(P=new Rd),P}class G{}class K extends G{get destroyed(){return this._destroyed}constructor(n,s,u,g){super(),this.parent=s,this.source=u,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,st(n,k=>this.processProvider(k)),this.records.set(lh,Be(void 0,this)),g.has("environment")&&this.records.set(G,Be(void 0,this));const D=this.records.get(w);null!=D&&"string"==typeof D.value&&this.scopes.add(D.value),this.injectorDefTypes=new Set(this.get(ch.multi,Ee,Pe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of n)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const s=q(this),u=Ie(void 0);try{return n()}finally{q(s),Ie(u)}}get(n,s=Ut,u=Pe.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(ri))return n[ri](this);u=Ae(u);const g=q(this),D=Ie(void 0);try{if(!(u&Pe.SkipSelf)){let F=this.records.get(n);if(void 0===F){const V=function yt(e){return"function"==typeof e||"object"==typeof e&&e instanceof vr}(n)&&ei(n);F=V&&this.injectableDefInScope(V)?Be(te(n),S):null,this.records.set(n,F)}if(null!=F)return this.hydrate(n,F)}return(u&Pe.Self?L():this.parent).get(n,s=u&Pe.Optional&&s===Ut?null:s)}catch(k){if("NullInjectorError"===k.name){if((k[Ji]=k[Ji]||[]).unshift(Le(n)),g)throw k;return function he(e,n,s,u){const g=e[Ji];throw n[_t]&&g.unshift(n[_t]),e.message=function et(e,n,s,u=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let g=Le(n);if(Array.isArray(n))g=n.map(Le).join(" -> ");else if("object"==typeof n){let D=[];for(let k in n)if(n.hasOwnProperty(k)){let F=n[k];D.push(k+":"+("string"==typeof F?JSON.stringify(F):Le(F)))}g=`{${D.join(", ")}}`}return`${s}${u?"("+u+")":""}[${g}]: ${e.replace(cn,"\n  ")}`}("\n"+e.message,g,s,u),e.ngTokenPath=g,e[Ji]=null,e}(k,n,"R3InjectorError",this.source)}throw k}finally{Ie(D),q(g)}}resolveInjectorInitializers(){const n=q(this),s=Ie(void 0);try{const u=this.get(Gc.multi,Ee,Pe.Self);for(const g of u)g()}finally{q(n),Ie(s)}}toString(){const n=[],s=this.records;for(const u of s.keys())n.push(Le(u));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,!1)}processProvider(n){let s=a(n=bt(n))?n:bt(n&&n.provide);const u=function ue(e){return Em(e)?Be(void 0,e.useValue):Be(_e(e),S)}(n);if(a(n)||!0!==n.multi)this.records.get(s);else{let g=this.records.get(s);g||(g=Be(void 0,S,!0),g.factory=()=>pe(g.multi),this.records.set(s,g)),s=n,g.multi.push(n)}this.records.set(s,u)}hydrate(n,s){return s.value===S&&(s.value=T,s.value=s.factory()),"object"==typeof s.value&&s.value&&function at(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(n){if(!n.providedIn)return!1;const s=bt(n.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(n){const s=this._onDestroyHooks.indexOf(n);-1!==s&&this._onDestroyHooks.splice(s,1)}}function te(e){const n=ei(e),s=null!==n?n.factory:mo(e);if(null!==s)return s;if(e instanceof vr)throw new Re(204,!1);if(e instanceof Function)return function le(e){const n=e.length;if(n>0)throw Wd(n,"?"),new Re(204,!1);const s=function yi(e){return e&&(e[Zi]||e[vn])||null}(e);return null!==s?()=>s.factory(e):()=>new e}(e);throw new Re(204,!1)}function _e(e,n,s){let u;if(a(e)){const g=bt(e);return mo(g)||te(g)}if(Em(e))u=()=>bt(e.useValue);else if(function t(e){return!(!e||!e.useFactory)}(e))u=()=>e.useFactory(...pe(e.deps||[]));else if(function o(e){return!(!e||!e.useExisting)}(e))u=()=>U(bt(e.useExisting));else{const g=bt(e&&(e.useClass||e.provide));if(!function Ue(e){return!!e.deps}(e))return mo(g)||te(g);u=()=>new g(...pe(e.deps))}return u}function Be(e,n,s=!1){return{factory:e,value:n,multi:s?[]:void 0}}function st(e,n){for(const s of e)Array.isArray(s)?st(s,n):s&&ti(s)?st(s.\u0275providers,n):n(s)}const It=new vr("AppId",{providedIn:"root",factory:()=>Ot}),Ot="ng",Yt=new vr("Platform Initializer"),Pi=new vr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ai=new vr("AnimationModuleType"),Ei=new vr("CSP nonce",{providedIn:"root",factory:()=>Md().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let hs=(e,n)=>null;function qs(e,n){return hs(e,n)}class Na{}class Ys{}class Mm{resolveComponentFactory(n){throw function Xl(e){const n=Error(`No component factory found for ${Le(e)}.`);return n.ngComponent=e,n}(n)}}let Wc=(()=>{class e{}return e.NULL=new Mm,e})();function fl(){return qc(yo(),ni())}function qc(e,n){return new Yc(Q(e,n))}let Yc=(()=>{class e{constructor(s){this.nativeElement=s}}return e.__NG_ELEMENT_ID__=fl,e})();function Dm(e){return e instanceof Yc?e.nativeElement:e}class Sm{}let rg=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function Pp(){const e=ni(),s=Pt(yo().index,e);return(Br(s)?s:e)[on]}(),e})(),Op=(()=>{class e{}return e.\u0275prov=De({token:e,providedIn:"root",factory:()=>null}),e})();class Rp{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const og=new Rp("16.1.3"),Tm={};function gu(e){for(;e;){e[rn]|=64;const n=yd(e);if(ea(e)&&!n)return e;e=n}return null}function Nd(e){return e.ngOriginalError}class Kc{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n);this._console.error("ERROR",n),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(n){let s=n&&Nd(n);for(;s&&Nd(s);)s=Nd(s);return s||null}}const zd=new vr("",{providedIn:"root",factory:()=>!1});function P_(e){return e.ownerDocument.defaultView}function Jc(e){return e instanceof Function?e():e}class L_ extends ur{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(n){this._lView=n}onConsumerDependencyMayHaveChanged(){gu(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(n,s,u){const g=Sn(this);this.trackingVersion++;try{n(s,u)}finally{Sn(g)}}destroy(){this.trackingVersion++}}let Np=null;function N_(){return Np??=new L_,Np}function z_(e,n){return e[n]??N_()}function B_(e,n){const s=N_();s.hasReadASignal&&(e[n]=Np,s.lView=e,Np=new L_)}const zn={};function V_(e){U_(ui(),ni(),_()+e,!1)}function U_(e,n,s,u){if(!u)if(3==(3&n[rn])){const D=e.preOrderCheckHooks;null!==D&&Fe(n,D,s)}else{const D=e.preOrderHooks;null!==D&&rt(n,D,0,s)}C(s)}function W_(e,n=null,s=null,u){const g=q_(e,n,s,u);return g.resolveInjectorInitializers(),g}function q_(e,n=null,s=null,u,g=new Set){const D=[s||Ee,pu(e)];return u=u||("object"==typeof e?void 0:Le(e)),new K(D,n||L(),u||null,g)}let Bd=(()=>{class e{static create(s,u){if(Array.isArray(s))return W_({name:""},u,s,"");{const g=s.name??"";return W_({name:g},s.parent,s.providers,g)}}}return e.THROW_IF_NOT_FOUND=Ut,e.NULL=new Rd,e.\u0275prov=De({token:e,providedIn:"any",factory:()=>U(lh)}),e.__NG_ELEMENT_ID__=-1,e})();function yu(e,n=Pe.Default){const s=ni();return null===s?U(e,n):Oo(yo(),s,bt(e),n)}function Y_(){throw new Error("invalid")}function zp(e,n,s,u,g,D,k,F,V,J,ge){const ze=n.blueprint.slice();return ze[ar]=g,ze[rn]=140|u,(null!==J||e&&2048&e[rn])&&(ze[rn]|=2048),Rn(ze),ze[On]=ze[dn]=e,ze[gr]=s,ze[Do]=k||e&&e[Do],ze[on]=F||e&&e[on],ze[Wo]=V||e&&e[Wo]||null,ze[Kn]=D,ze[Yo]=function dp(){return fd++}(),ze[Ko]=ge,ze[ja]=J,ze[dr]=2==n.type?e[dr]:ze,ze}function vu(e,n,s,u,g){let D=e.data[n];if(null===D)D=function ag(e,n,s,u,g){const D=al(),k=Ps(),V=e.data[n]=function S0(e,n,s,u,g,D){let k=n?n.injectorIndex:-1,F=0;return Pa()&&(F|=128),{type:s,index:u,insertBeforeIndex:null,injectorIndex:k,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:F,providerIndexes:0,value:g,attrs:D,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,k?D:D&&D.parent,s,n,u,g);return null===e.firstChild&&(e.firstChild=V),null!==D&&(k?null==D.child&&null!==V.parent&&(D.child=V):null===D.next&&(D.next=V,V.prev=D)),V}(e,n,s,u,g),function qa(){return Yi.lFrame.inI18n}()&&(D.flags|=32);else if(64&D.type){D.type=s,D.value=u,D.attrs=g;const k=function Bo(){const e=Yi.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();D.injectorIndex=null===k?-1:k.injectorIndex}return ga(D,!0),D}function Im(e,n,s,u){if(0===s)return-1;const g=n.length;for(let D=0;D<s;D++)n.push(u),e.blueprint.push(u),e.data.push(null);return g}function K_(e,n,s,u,g){const D=z_(n,ho),k=_(),F=2&u;try{if(C(-1),F&&n.length>bn&&U_(e,n,bn,!1),Ci(F?2:0,g),F)D.runInContext(s,u,g);else{const J=Sn(null);try{s(u,g)}finally{Sn(J)}}}finally{F&&null===n[ho]&&B_(n,ho),C(k),Ci(F?3:1,g)}}function lg(e,n,s){if(Vr(n)){const u=Sn(null);try{const D=n.directiveEnd;for(let k=n.directiveStart;k<D;k++){const F=e.data[k];F.contentQueries&&F.contentQueries(1,s[k],k)}}finally{Sn(u)}}}function cg(e,n,s){un()&&(function ey(e,n,s,u){const g=s.directiveStart,D=s.directiveEnd;Zr(s)&&function xn(e,n,s){const u=Q(n,e),g=X_(s);let k=16;s.signals?k=4096:s.onPush&&(k=64);const F=Ql(e,zp(e,g,null,k,u,n,null,e[Do].rendererFactory.createRenderer(u,s),null,null,null));e[n.index]=F}(n,s,e.data[g+s.componentOffset]),e.firstCreatePass||sa(s,n),Ls(u,n);const k=s.initialInputs;for(let F=g;F<D;F++){const V=e.data[F],J=Zl(n,e,F,s);Ls(J,n),null!==k&&mg(0,F-g,J,V,0,k),mn(V)&&(Pt(s.index,n)[gr]=Zl(n,e,F,s))}}(e,n,s,Q(s,n)),64==(64&s.flags)&&ty(e,n,s))}function dg(e,n,s=Q){const u=n.localNames;if(null!==u){let g=n.index+1;for(let D=0;D<u.length;D+=2){const k=u[D+1],F=-1===k?s(n,e):e[k];e[g++]=F}}}function X_(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=ug(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function ug(e,n,s,u,g,D,k,F,V,J,ge){const ze=bn+u,pt=ze+g,Dt=function x0(e,n){const s=[];for(let u=0;u<n;u++)s.push(u<e?null:zn);return s}(ze,pt),ii="function"==typeof J?J():J;return Dt[Ti]={type:e,blueprint:Dt,template:s,queries:null,viewQuery:F,declTNode:n,data:Dt.slice().fill(null,ze),bindingStartIndex:ze,expandoStartIndex:pt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof D?D():D,pipeRegistry:"function"==typeof k?k():k,firstChild:null,schemas:V,consts:ii,incompleteFirstPass:!1,ssrId:ge}}let J_=e=>null;function ao(e,n,s,u){for(let g in e)if(e.hasOwnProperty(g)){s=null===s?{}:s;const D=e[g];null===u?Am(s,n,g,D):u.hasOwnProperty(g)&&Am(s,n,u[g],D)}return s}function Am(e,n,s,u){e.hasOwnProperty(s)?e[s].push(n,u):e[s]=[n,u]}function _l(e,n,s,u,g,D,k,F){const V=Q(n,s);let ge,J=n.inputs;!F&&null!=J&&(ge=J[u])?(fg(e,s,ge,u,g),Zr(n)&&function A0(e,n){const s=Pt(n,e);16&s[rn]||(s[rn]|=64)}(s,n.index)):3&n.type&&(u=function I0(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(u),g=null!=k?k(g,n.value||"",u):g,D.setProperty(V,u,g))}function Bp(e,n,s,u){if(un()){const g=null===u?null:{"":-1},D=function R0(e,n){const s=e.directiveRegistry;let u=null,g=null;if(s)for(let D=0;D<s.length;D++){const k=s[D];if(Lr(n,k.selectors,!1))if(u||(u=[]),mn(k))if(null!==k.findHostDirectiveDefs){const F=[];g=g||new Map,k.findHostDirectiveDefs(k,F,g),u.unshift(...F,k),hg(e,n,F.length)}else u.unshift(k),hg(e,n,0);else g=g||new Map,k.findHostDirectiveDefs?.(k,u,g),u.push(k)}return null===u?null:[u,g]}(e,s);let k,F;null===D?k=F=null:[k,F]=D,null!==k&&Vp(e,n,s,k,g,F),g&&function iy(e,n,s){if(n){const u=e.localNames=[];for(let g=0;g<n.length;g+=2){const D=s[n[g+1]];if(null==D)throw new Re(-301,!1);u.push(n[g],D)}}}(s,u,g)}s.mergedAttrs=Un(s.mergedAttrs,s.attrs)}function Vp(e,n,s,u,g,D){for(let J=0;J<u.length;J++)er(sa(s,n),e,u[J].type);!function F0(e,n,s){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+s,e.providerIndexes=n}(s,e.data.length,u.length);for(let J=0;J<u.length;J++){const ge=u[J];ge.providersResolver&&ge.providersResolver(ge)}let k=!1,F=!1,V=Im(e,n,u.length,null);for(let J=0;J<u.length;J++){const ge=u[J];s.mergedAttrs=Un(s.mergedAttrs,ge.hostAttrs),Qc(e,s,n,V,ge),Ca(V,ge,g),null!==ge.contentQueries&&(s.flags|=4),(null!==ge.hostBindings||null!==ge.hostAttrs||0!==ge.hostVars)&&(s.flags|=64);const ze=ge.type.prototype;!k&&(ze.ngOnChanges||ze.ngOnInit||ze.ngDoCheck)&&((e.preOrderHooks??=[]).push(s.index),k=!0),!F&&(ze.ngOnChanges||ze.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(s.index),F=!0),V++}!function T0(e,n,s){const g=n.directiveEnd,D=e.data,k=n.attrs,F=[];let V=null,J=null;for(let ge=n.directiveStart;ge<g;ge++){const ze=D[ge],pt=s?s.get(ze):null,ii=pt?pt.outputs:null;V=ao(ze.inputs,ge,V,pt?pt.inputs:null),J=ao(ze.outputs,ge,J,ii);const _i=null===V||null===k||Nn(n)?null:L0(V,ge,k);F.push(_i)}null!==V&&(V.hasOwnProperty("class")&&(n.flags|=8),V.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=F,n.inputs=V,n.outputs=J}(e,s,D)}function ty(e,n,s){const u=s.directiveStart,g=s.directiveEnd,D=s.index,k=function Tl(){return Yi.lFrame.currentDirectiveIndex}();try{C(D);for(let F=u;F<g;F++){const V=e.data[F],J=n[F];jl(F),(null!==V.hostBindings||0!==V.hostVars||null!==V.hostAttrs)&&O0(V,J)}}finally{C(-1),jl(k)}}function O0(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function hg(e,n,s){n.componentOffset=s,(e.components??=[]).push(n.index)}function Ca(e,n,s){if(s){if(n.exportAs)for(let u=0;u<n.exportAs.length;u++)s[n.exportAs[u]]=e;mn(n)&&(s[""]=e)}}function Qc(e,n,s,u,g){e.data[u]=g;const D=g.factory||(g.factory=mo(g.type)),k=new oi(D,mn(g),yu);e.blueprint[u]=k,s[u]=k,function Up(e,n,s,u,g){const D=g.hostBindings;if(D){let k=e.hostBindingOpCodes;null===k&&(k=e.hostBindingOpCodes=[]);const F=~n.index;(function Q_(e){let n=e.length;for(;n>0;){const s=e[--n];if("number"==typeof s&&s<0)return s}return 0})(k)!=F&&k.push(F),k.push(s,u,D)}}(e,n,u,Im(e,s,g.hostVars,zn),g)}function ms(e,n,s,u,g,D){const k=Q(e,n);!function Bn(e,n,s,u,g,D,k){if(null==D)e.removeAttribute(n,g,s);else{const F=null==k?Oe(D):k(D,u||"",g);e.setAttribute(n,g,F,s)}}(n[on],k,D,e.value,s,u,g)}function mg(e,n,s,u,g,D){const k=D[n];if(null!==k)for(let F=0;F<k.length;)ny(u,s,k[F++],k[F++],k[F++])}function ny(e,n,s,u,g){const D=Sn(null);try{const k=e.inputTransforms;null!==k&&k.hasOwnProperty(u)&&(g=k[u].call(n,g)),null!==e.setInput?e.setInput(n,g,s,u):n[u]=g}finally{Sn(D)}}function L0(e,n,s){let u=null,g=0;for(;g<s.length;){const D=s[g];if(0!==D)if(5!==D){if("number"==typeof D)break;if(e.hasOwnProperty(D)){null===u&&(u=[]);const k=e[D];for(let F=0;F<k.length;F+=2)if(k[F]===n){u.push(D,k[F+1],s[g+1]);break}}g+=2}else g+=2;else g+=4}return u}function Jl(e,n,s,u){return[e,!0,!1,n,null,0,u,s,null,null,null]}function km(e,n){const s=e.contentQueries;if(null!==s)for(let u=0;u<s.length;u+=2){const D=s[u+1];if(-1!==D){const k=e.data[D];Hl(s[u]),k.contentQueries(2,n[D],D)}}}function Ql(e,n){return e[qo]?e[js][uo]=n:e[qo]=n,e[js]=n,n}function Pm(e,n,s){Hl(0);const u=Sn(null);try{n(e,s)}finally{Sn(u)}}function pg(e){return e[Tr]||(e[Tr]=[])}function oy(e){return e.cleanup||(e.cleanup=[])}function sy(e,n,s){return(null===e||mn(e))&&(s=function zo(e){for(;Array.isArray(e);){if("object"==typeof e[Ha])return e;e=e[ar]}return null}(s[n.index])),s[on]}function ay(e,n){const s=e[Wo],u=s?s.get(Kc,null):null;u&&u.handleError(n)}function fg(e,n,s,u,g){for(let D=0;D<s.length;){const k=s[D++],F=s[D++];ny(e.data[k],n[k],u,F,g)}}function N0(e,n){const s=Pt(n,e),u=s[Ti];!function z0(e,n){for(let s=n.length;s<e.blueprint.length;s++)n.push(e.blueprint[s])}(u,s);const g=s[ar];null!==g&&null===s[Ko]&&(s[Ko]=qs(g,s[Wo])),gg(u,s,s[gr])}function gg(e,n,s){Al(n);try{const u=e.viewQuery;null!==u&&Pm(1,u,s);const g=e.template;null!==g&&K_(e,n,g,1,s),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&km(e,n),e.staticViewQueries&&Pm(2,e.viewQuery,s);const D=e.components;null!==D&&function B0(e,n){for(let s=0;s<n.length;s++)N0(e,n[s])}(n,D)}catch(u){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),u}finally{n[rn]&=-5,x()}}let ly=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(s,u,g){const D=typeof Zone>"u"?null:Zone.current,k=new Jr(s,J=>{this.all.has(J)&&this.queue.set(J,D)},g);let F;this.all.add(k),k.notify();const V=()=>{k.cleanup(),F?.(),this.all.delete(k),this.queue.delete(k)};return F=u?.onDestroy(V),{destroy:V}}flush(){if(0!==this.queue.size)for(const[s,u]of this.queue)this.queue.delete(s),u?u.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}}return e.\u0275prov=De({token:e,providedIn:"root",factory:()=>new e}),e})();function jp(e,n,s){let u=s?e.styles:null,g=s?e.classes:null,D=0;if(null!==n)for(let k=0;k<n.length;k++){const F=n[k];"number"==typeof F?D=F:1==D?g=nt(g,F):2==D&&(u=nt(u,F+": "+n[++k]+";"))}s?e.styles=u:e.stylesWithoutHost=u,s?e.classes=g:e.classesWithoutHost=g}function Om(e,n,s,u,g=!1){for(;null!==s;){const D=n[s.index];if(null!==D&&u.push(qn(D)),Jn(D)){for(let F=Rr;F<D.length;F++){const V=D[F],J=V[Ti].firstChild;null!==J&&Om(V[Ti],V,J,u)}D[Lo]!==D[ar]&&u.push(D[Lo])}const k=s.type;if(8&k)Om(e,n,s.child,u);else if(32&k){const F=Ro(s,n);let V;for(;V=F();)u.push(V)}else if(16&k){const F=om(n,s);if(Array.isArray(F))u.push(...F);else{const V=yd(n[dr]);Om(V[Ti],V,F,u,!0)}}s=g?s.projectionNext:s.next}return u}function Hp(e,n,s,u=!0){const g=n[Do].rendererFactory;g.begin&&g.begin();try{cy(e,n,e.template,s)}catch(k){throw u&&ay(n,k),k}finally{g.end&&g.end(),n[Do].effectManager?.flush()}}function cy(e,n,s,u){const g=n[rn];if(256!=(256&g)){n[Do].effectManager?.flush(),Al(n);try{Rn(n),function Ul(e){return Yi.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==s&&K_(e,n,s,2,u);const k=3==(3&g);if(k){const J=e.preOrderCheckHooks;null!==J&&Fe(n,J,null)}else{const J=e.preOrderHooks;null!==J&&rt(n,J,0,null),Mt(n,0)}if(function dy(e){for(let n=Ku(e);null!==n;n=Kh(n)){if(!n[$a])continue;const s=n[Js];for(let u=0;u<s.length;u++){Tn(s[u])}}}(n),_g(n,2),null!==e.contentQueries&&km(e,n),k){const J=e.contentCheckHooks;null!==J&&Fe(n,J)}else{const J=e.contentHooks;null!==J&&rt(n,J,1),Mt(n,1)}!function b0(e,n){const s=e.hostBindingOpCodes;if(null===s)return;const u=z_(n,Hs);try{for(let g=0;g<s.length;g++){const D=s[g];if(D<0)C(~D);else{const k=D,F=s[++g],V=s[++g];Tc(F,k),u.runInContext(V,2,n[k])}}}finally{null===n[Hs]&&B_(n,Hs),C(-1)}}(e,n);const F=e.components;null!==F&&yg(n,F,0);const V=e.viewQuery;if(null!==V&&Pm(2,V,u),k){const J=e.viewCheckHooks;null!==J&&Fe(n,J)}else{const J=e.viewHooks;null!==J&&rt(n,J,2),Mt(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[rn]&=-73,yr(n)}finally{x()}}}function _g(e,n){for(let s=Ku(e);null!==s;s=Kh(s))for(let u=Rr;u<s.length;u++)hy(s[u],n)}function uy(e,n,s){hy(Pt(n,e),s)}function hy(e,n){if(!function Ui(e){return 128==(128&e[rn])}(e))return;const s=e[Ti];if(80&e[rn]&&0===n||1024&e[rn]||2===n)cy(s,e,s.template,e[gr]);else if(e[as]>0){_g(e,1);const g=e[Ti].components;null!==g&&yg(e,g,1)}}function yg(e,n,s){for(let u=0;u<n.length;u++)uy(e,n[u],s)}class Rm{get rootNodes(){const n=this._lView,s=n[Ti];return Om(s,n,s.firstChild,[])}constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[gr]}set context(n){this._lView[gr]=n}get destroyed(){return 256==(256&this._lView[rn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[On];if(Jn(n)){const s=n[8],u=s?s.indexOf(this):-1;u>-1&&(vd(n,u),dd(s,u))}this._attachedToViewContainer=!1}zc(this._lView[Ti],this._lView)}onDestroy(n){!function mr(e,n){if(256==(256&e[rn]))throw new Re(911,!1);null===e[Is]&&(e[Is]=[]),e[Is].push(n)}(this._lView,n)}markForCheck(){gu(this._cdRefInjectingView||this._lView)}detach(){this._lView[rn]&=-129}reattach(){this._lView[rn]|=128}detectChanges(){Hp(this._lView[Ti],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ju(e,n){jc(e,n,n[on],2,null,null)}(this._lView[Ti],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Re(902,!1);this._appRef=n}}class $0 extends Rm{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Hp(n[Ti],n,n[gr],!1)}checkNoChanges(){}get context(){return null}}class my extends Wc{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=ln(n);return new $p(s,this.ngModule)}}function td(e){const n=[];for(let s in e)e.hasOwnProperty(s)&&n.push({propName:e[s],templateName:s});return n}class cC{constructor(n,s){this.injector=n,this.parentInjector=s}get(n,s,u){u=Ae(u);const g=this.injector.get(n,Tm,u);return g!==Tm||s===Tm?g:this.parentInjector.get(n,s,u)}}class $p extends Ys{get inputs(){const n=this.componentDef,s=n.inputTransforms,u=td(n.inputs);if(null!==s)for(const g of u)s.hasOwnProperty(g.propName)&&(g.transform=s[g.propName]);return u}get outputs(){return td(this.componentDef.outputs)}constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=function Mr(e){return e.map(Cn).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}create(n,s,u,g){let D=(g=g||this.ngModule)instanceof G?g:g?.injector;D&&null!==this.componentDef.getStandaloneInjector&&(D=this.componentDef.getStandaloneInjector(D)||D);const k=D?new cC(n,D):n,F=k.get(Sm,null);if(null===F)throw new Re(407,!1);const ge={rendererFactory:F,sanitizer:k.get(Op,null),effectManager:k.get(ly,null)},ze=F.createRenderer(null,this.componentDef),pt=this.componentDef.selectors[0][0]||"div",Dt=u?function w0(e,n,s,u){const D=u.get(zd,!1)||s===Se.ShadowDom,k=e.selectRootElement(n,D);return function C0(e){J_(e)}(k),k}(ze,u,this.componentDef.encapsulation,k):Xu(ze,pt,function vg(e){const n=e.toLowerCase();return"svg"===n?Bl:"math"===n?"math":null}(pt)),Vi=this.componentDef.signals?4608:this.componentDef.onPush?576:528,an=ug(0,null,null,1,0,null,null,null,null,null,null),ai=zp(null,an,null,Vi,null,null,ge,ze,k,null,null);let $n,pr;Al(ai);try{const Er=this.componentDef;let tl,h0=null;Er.findHostDirectiveDefs?(tl=[],h0=new Map,Er.findHostDirectiveDefs(Er,tl,h0),tl.push(Er)):tl=[Er];const mM=function py(e,n){const s=e[Ti],u=bn;return e[u]=n,vu(s,u,2,"#host",null)}(ai,Dt),pM=function fy(e,n,s,u,g,D,k){const F=g[Ti];!function G0(e,n,s,u){for(const g of e)n.mergedAttrs=Un(n.mergedAttrs,g.hostAttrs);null!==n.mergedAttrs&&(jp(n,n.mergedAttrs,!0),null!==s&&am(u,s,n))}(u,e,n,k);let V=null;null!==n&&(V=qs(n,g[Wo]));const J=D.rendererFactory.createRenderer(n,s);let ge=16;s.signals?ge=4096:s.onPush&&(ge=64);const ze=zp(g,X_(s),null,ge,g[e.index],e,D,J,null,null,V);return F.firstCreatePass&&hg(F,e,u.length-1),Ql(g,ze),g[e.index]=ze}(mM,Dt,Er,tl,ai,ge,ze);pr=me(an,bn),Dt&&function hC(e,n,s,u){if(u)di(e,s,["ng-version",og.full]);else{const{attrs:g,classes:D}=function Go(e){const n=[],s=[];let u=1,g=2;for(;u<e.length;){let D=e[u];if("string"==typeof D)2===g?""!==D&&n.push(D,e[++u]):8===g&&s.push(D);else{if(!qi(g))break;g=D}u++}return{attrs:n,classes:s}}(n.selectors[0]);g&&di(e,s,g),D&&D.length>0&&Kl(e,s,D.join(" "))}}(ze,Er,Dt,u),void 0!==s&&function W0(e,n,s){const u=e.projection=[];for(let g=0;g<n.length;g++){const D=s[g];u.push(null!=D?Array.from(D):null)}}(pr,this.ngContentSelectors,s),$n=function Z0(e,n,s,u,g,D){const k=yo(),F=g[Ti],V=Q(k,g);Vp(F,g,k,s,null,u);for(let ge=0;ge<s.length;ge++)Ls(Zl(g,F,k.directiveStart+ge,k),g);ty(F,g,k),V&&Ls(V,g);const J=Zl(g,F,k.directiveStart+k.componentOffset,k);if(e[gr]=g[gr]=J,null!==D)for(const ge of D)ge(J,n);return lg(F,k,e),J}(pM,Er,tl,h0,ai,[q0]),gg(an,ai,null)}finally{x()}return new dC(this.componentType,$n,qc(pr,ai),ai,pr)}}class dC extends Na{constructor(n,s,u,g,D){super(),this.location=u,this._rootLView=g,this._tNode=D,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new $0(g),this.componentType=n}setInput(n,s){const u=this._tNode.inputs;let g;if(null!==u&&(g=u[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),s))return;const D=this._rootLView;fg(D[Ti],D,g,n,s),this.previousInputValues.set(n,s),gu(Pt(this._tNode.index,D))}}get injector(){return new Xa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function q0(){const e=yo();we(ni()[Ti],e)}function bg(e){let n=function gy(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),s=!0;const u=[e];for(;n;){let g;if(mn(e))g=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Re(903,!1);g=n.\u0275dir}if(g){if(s){u.push(g);const k=e;k.inputs=Gp(e.inputs),k.inputTransforms=Gp(e.inputTransforms),k.declaredInputs=Gp(e.declaredInputs),k.outputs=Gp(e.outputs);const F=g.hostBindings;F&&mC(e,F);const V=g.viewQuery,J=g.contentQueries;if(V&&_y(e,V),J&&K0(e,J),it(e.inputs,g.inputs),it(e.declaredInputs,g.declaredInputs),it(e.outputs,g.outputs),null!==g.inputTransforms&&(null===k.inputTransforms&&(k.inputTransforms={}),it(k.inputTransforms,g.inputTransforms)),mn(g)&&g.data.animation){const ge=e.data;ge.animation=(ge.animation||[]).concat(g.data.animation)}}const D=g.features;if(D)for(let k=0;k<D.length;k++){const F=D[k];F&&F.ngInherit&&F(e),F===bg&&(s=!1)}}n=Object.getPrototypeOf(n)}!function Y0(e){let n=0,s=null;for(let u=e.length-1;u>=0;u--){const g=e[u];g.hostVars=n+=g.hostVars,g.hostAttrs=Un(g.hostAttrs,s=Un(s,g.hostAttrs))}}(u)}function Gp(e){return e===de?{}:e===Ee?[]:e}function _y(e,n){const s=e.viewQuery;e.viewQuery=s?(u,g)=>{n(u,g),s(u,g)}:n}function K0(e,n){const s=e.contentQueries;e.contentQueries=s?(u,g,D)=>{n(u,g,D),s(u,g,D)}:n}function mC(e,n){const s=e.hostBindings;e.hostBindings=s?(u,g)=>{n(u,g),s(u,g)}:n}function xy(e){const n=e.inputConfig,s={};for(const u in n)if(n.hasOwnProperty(u)){const g=n[u];Array.isArray(g)&&g[2]&&(s[u]=g[2])}e.inputTransforms=s}function Fm(e){return!!hh(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function hh(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function _c(e,n,s){return e[n]=s}function Ea(e,n,s){return!Object.is(e[n],s)&&(e[n]=s,!0)}function xu(e,n,s,u){const g=Ea(e,n,s);return Ea(e,n+1,u)||g}function xg(e,n,s,u){const g=ni();return Ea(g,Ws(),n)&&(ui(),ms(h(),g,e,n,s,u)),xg}function ph(e,n,s,u){return Ea(e,Ws(),s)?n+Oe(s)+u:zn}function Ry(e,n,s,u,g,D,k,F){const V=ni(),J=ui(),ge=e+bn,ze=J.firstCreatePass?function mx(e,n,s,u,g,D,k,F,V){const J=n.consts,ge=vu(n,e,4,k||null,jn(J,F));Bp(n,s,ge,jn(J,V)),we(n,ge);const ze=ge.tView=ug(2,ge,u,g,D,n.directiveRegistry,n.pipeRegistry,null,n.schemas,J,null);return null!==n.queries&&(n.queries.template(n,ge),ze.queries=n.queries.embeddedTView(ge)),ge}(ge,J,V,n,s,u,g,D,k):J.data[ge];ga(ze,!1);const pt=Fy(J,V,ze,e);W()&&eh(J,V,pt,ze),Ls(pt,V),Ql(V,V[ge]=Jl(pt,V,pt,ze)),Sa(ze)&&cg(J,V,ze),null!=k&&dg(V,ze,F)}let Fy=function Jp(e,n,s,u){return ce(!0),n[on].createComment("")};function Ly(e){return qe(function oa(){return Yi.lFrame.contextLView}(),bn+e)}function Ag(e,n,s){const u=ni();return Ea(u,Ws(),n)&&_l(ui(),h(),u,e,n,u[on],s,!1),Ag}function kg(e,n,s,u,g){const k=g?"class":"style";fg(e,s,n.inputs[k],k,u)}function Qp(e,n,s,u){const g=ni(),D=ui(),k=bn+e,F=g[on],V=D.firstCreatePass?function gx(e,n,s,u,g,D){const k=n.consts,V=vu(n,e,2,u,jn(k,g));return Bp(n,s,V,jn(k,D)),null!==V.attrs&&jp(V,V.attrs,!1),null!==V.mergedAttrs&&jp(V,V.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,V),V}(k,D,g,n,s,u):D.data[k],J=Ny(D,g,V,F,n,e);g[k]=J;const ge=Sa(V);return ga(V,!0),am(F,J,V),32!=(32&V.flags)&&W()&&eh(D,g,J,V),0===function jr(){return Yi.lFrame.elementDepthCount}()&&Ls(J,g),function fo(){Yi.lFrame.elementDepthCount++}(),ge&&(cg(D,g,V),lg(D,V,g)),null!==u&&dg(g,V),Qp}function ef(){let e=yo();Ps()?sc():(e=e.parent,ga(e,!1));const n=e;(function Dc(e){return Yi.skipHydrationRootTNode===e})(n)&&function eo(){Yi.skipHydrationRootTNode=null}(),function Xn(){Yi.lFrame.elementDepthCount--}();const s=ui();return s.firstCreatePass&&(we(s,e),Vr(e)&&s.queries.elementEnd(e)),null!=n.classesWithoutHost&&function _n(e){return 0!=(8&e.flags)}(n)&&kg(s,n,ni(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function bi(e){return 0!=(16&e.flags)}(n)&&kg(s,n,ni(),n.stylesWithoutHost,!1),ef}function Pg(e,n,s,u){return Qp(e,n,s,u),ef(),Pg}let Ny=(e,n,s,u,g,D)=>(ce(!0),Xu(u,g,function O(){return Yi.lFrame.currentNamespace}()));function tf(e,n,s){const u=ni(),g=ui(),D=e+bn,k=g.firstCreatePass?function vx(e,n,s,u,g){const D=n.consts,k=jn(D,u),F=vu(n,e,8,"ng-container",k);return null!==k&&jp(F,k,!0),Bp(n,s,F,jn(D,g)),null!==n.queries&&n.queries.elementStart(n,F),F}(D,g,u,n,s):g.data[D];ga(k,!0);const F=zy(g,u,k,e);return u[D]=F,W()&&eh(g,u,F,k),Ls(F,u),Sa(k)&&(cg(g,u,k),lg(g,k,u)),null!=s&&dg(u,k),tf}function nf(){let e=yo();const n=ui();return Ps()?sc():(e=e.parent,ga(e,!1)),n.firstCreatePass&&(we(n,e),Vr(e)&&n.queries.elementEnd(e)),nf}function Og(e,n,s){return tf(e,n,s),nf(),Og}let zy=(e,n,s,u)=>(ce(!0),Qh(n[on],""));function By(){return ni()}function Rg(e){return!!e&&"function"==typeof e.then}function Vy(e){return!!e&&"function"==typeof e.subscribe}function Fg(e,n,s,u){const g=ni(),D=ui(),k=yo();return Uy(D,g,g[on],k,e,n,u),Fg}function Lg(e,n){const s=yo(),u=ni(),g=ui();return Uy(g,u,sy(Ka(g.data),s,u),s,e,n),Lg}function Uy(e,n,s,u,g,D,k){const F=Sa(u),J=e.firstCreatePass&&oy(e),ge=n[gr],ze=pg(n);let pt=!0;if(3&u.type||k){const _i=Q(u,n),Vi=k?k(_i):_i,an=ze.length,ai=k?pr=>k(qn(pr[u.index])):u.index;let $n=null;if(!k&&F&&($n=function wx(e,n,s,u){const g=e.cleanup;if(null!=g)for(let D=0;D<g.length-1;D+=2){const k=g[D];if(k===s&&g[D+1]===u){const F=n[Tr],V=g[D+2];return F.length>V?F[V]:null}"string"==typeof k&&(D+=2)}return null}(e,n,g,u.index)),null!==$n)($n.__ngLastListenerFn__||$n).__ngNextListenerFn__=D,$n.__ngLastListenerFn__=D,pt=!1;else{D=Hy(u,n,ge,D,!1);const pr=s.listen(Vi,g,D);ze.push(D,pr),J&&J.push(g,ai,an,an+1)}}else D=Hy(u,n,ge,D,!1);const Dt=u.outputs;let ii;if(pt&&null!==Dt&&(ii=Dt[g])){const _i=ii.length;if(_i)for(let Vi=0;Vi<_i;Vi+=2){const Er=n[ii[Vi]][ii[Vi+1]].subscribe(D),tl=ze.length;ze.push(D,Er),J&&J.push(g,u.index,tl,-(tl+1))}}}function jy(e,n,s,u){try{return Ci(6,n,s),!1!==s(u)}catch(g){return ay(e,g),!1}finally{Ci(7,n,s)}}function Hy(e,n,s,u,g){return function D(k){if(k===Function)return u;gu(e.componentOffset>-1?Pt(e.index,n):n);let V=jy(n,s,u,k),J=D.__ngNextListenerFn__;for(;J;)V=jy(n,s,J,k)&&V,J=J.__ngNextListenerFn__;return g&&!1===V&&k.preventDefault(),V}}function $y(e=1){return function i(e){return(Yi.lFrame.contextLView=function d(e,n){for(;e>0;)n=n[dn],e--;return n}(e,Yi.lFrame.contextLView))[gr]}(e)}function Cx(e,n){let s=null;const u=function wr(e){const n=e.attrs;if(null!=n){const s=n.indexOf(5);if(!(1&s))return n[s+1]}return null}(e);for(let g=0;g<n.length;g++){const D=n[g];if("*"!==D){if(null===u?Lr(e,D,!0):Mo(u,D))return g}else s=g}return s}function Gy(e){const n=ni()[dr][Kn];if(!n.projection){const u=n.projection=Wd(e?e.length:1,null),g=u.slice();let D=n.child;for(;null!==D;){const k=e?Cx(D,e):0;null!==k&&(g[k]?g[k].projectionNext=D:u[k]=D,g[k]=D),D=D.next}}}function Ng(e,n=0,s){const u=ni(),g=ui(),D=vu(g,bn+e,16,null,s||null);null===D.projection&&(D.projection=n),sc(),(!u[Ko]||Pa())&&32!=(32&D.flags)&&function bp(e,n,s){xp(n[on],0,n,s,im(e,s,n),mc(s.parent||n[Kn],s,n))}(g,u,D)}function zg(e,n,s){return Bg(e,"",n,"",s),zg}function Bg(e,n,s,u,g){const D=ni(),k=ph(D,n,s,u);return k!==zn&&_l(ui(),h(),D,e,k,D[on],g,!1),Bg}function Bm(e,n){return e<<17|n<<2}function nd(e){return e>>17&32767}function Ug(e){return 2|e}function Mu(e){return(131068&e)>>2}function jg(e,n){return-131069&e|n<<2}function Hg(e){return 1|e}function Jy(e,n,s,u,g){const D=e[s+1],k=null===n;let F=u?nd(D):Mu(D),V=!1;for(;0!==F&&(!1===V||k);){const ge=e[F+1];Ix(e[F],n)&&(V=!0,e[F+1]=u?Hg(ge):Ug(ge)),F=u?nd(ge):Mu(ge)}V&&(e[s+1]=u?Ug(D):Hg(D))}function Ix(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Pc(e,n)>=0}const Bs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Qy(e){return e.substring(Bs.key,Bs.keyEnd)}function Ax(e){return e.substring(Bs.value,Bs.valueEnd)}function ev(e,n){const s=Bs.textEnd;return s===n?-1:(n=Bs.keyEnd=function Ox(e,n,s){for(;n<s&&e.charCodeAt(n)>32;)n++;return n}(e,Bs.key=n,s),yh(e,n,s))}function tv(e,n){const s=Bs.textEnd;let u=Bs.key=yh(e,n,s);return s===u?-1:(u=Bs.keyEnd=function Rx(e,n,s){let u;for(;n<s&&(45===(u=e.charCodeAt(n))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)n++;return n}(e,u,s),u=nv(e,u,s),u=Bs.value=yh(e,u,s),u=Bs.valueEnd=function Fx(e,n,s){let u=-1,g=-1,D=-1,k=n,F=k;for(;k<s;){const V=e.charCodeAt(k++);if(59===V)return F;34===V||39===V?F=k=rv(e,V,k,s):n===k-4&&85===D&&82===g&&76===u&&40===V?F=k=rv(e,41,k,s):V>32&&(F=k),D=g,g=u,u=-33&V}return F}(e,u,s),nv(e,u,s))}function iv(e){Bs.key=0,Bs.keyEnd=0,Bs.value=0,Bs.valueEnd=0,Bs.textEnd=e.length}function yh(e,n,s){for(;n<s&&e.charCodeAt(n)<=32;)n++;return n}function nv(e,n,s,u){return(n=yh(e,n,s))<s&&n++,n}function rv(e,n,s,u){let g=-1,D=s;for(;D<u;){const k=e.charCodeAt(D++);if(k==n&&92!==g)return D;g=92==k&&92===g?0:k}throw new Error}function $g(e,n,s){return ic(e,n,s,!1),$g}function Gg(e,n){return ic(e,n,null,!0),Gg}function tc(e){nc(Nx,Lx,e,!1)}function Lx(e,n){for(let s=function Px(e){return iv(e),tv(e,yh(e,0,Bs.textEnd))}(n);s>=0;s=tv(n,s))Nx(e,Qy(n),Ax(n))}function ov(e){nc(AC,yc,e,!0)}function yc(e,n){for(let s=function kx(e){return iv(e),ev(e,yh(e,0,Bs.textEnd))}(n);s>=0;s=ev(n,s))ro(e,Qy(n),!0)}function ic(e,n,s,u){const g=ni(),D=ui(),k=Vo(2);D.firstUpdatePass&&rf(D,e,k,u),n!==zn&&Ea(g,k,n)&&zx(D,D.data[_()],g,g[on],e,g[k+1]=function PC(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Le(ul(e)))),e}(n,s),u,k)}function nc(e,n,s,u){const g=ui(),D=Vo(2);g.firstUpdatePass&&rf(g,null,D,u);const k=ni();if(s!==zn&&Ea(k,D,s)){const F=g.data[_()];if(lv(F,u)&&!sv(g,D)){let V=u?F.classesWithoutHost:F.stylesWithoutHost;null!==V&&(s=nt(V,s||"")),kg(g,F,k,s,u)}else!function kC(e,n,s,u,g,D,k,F){g===zn&&(g=Ee);let V=0,J=0,ge=0<g.length?g[0]:null,ze=0<D.length?D[0]:null;for(;null!==ge||null!==ze;){const pt=V<g.length?g[V+1]:void 0,Dt=J<D.length?D[J+1]:void 0;let _i,ii=null;ge===ze?(V+=2,J+=2,pt!==Dt&&(ii=ze,_i=Dt)):null===ze||null!==ge&&ge<ze?(V+=2,ii=ge):(J+=2,ii=ze,_i=Dt),null!==ii&&zx(e,n,s,u,ii,_i,k,F),ge=V<g.length?g[V]:null,ze=J<D.length?D[J]:null}}(g,F,k,k[on],k[D+1],k[D+1]=function IC(e,n,s){if(null==s||""===s)return Ee;const u=[],g=ul(s);if(Array.isArray(g))for(let D=0;D<g.length;D++)e(u,g[D],!0);else if("object"==typeof g)for(const D in g)g.hasOwnProperty(D)&&e(u,D,g[D]);else"string"==typeof g&&n(u,g);return u}(e,n,s),u,D)}}function sv(e,n){return n>=e.expandoStartIndex}function rf(e,n,s,u){const g=e.data;if(null===g[s+1]){const D=g[_()],k=sv(e,s);lv(D,u)&&null===n&&!k&&(n=!1),n=function MC(e,n,s,u){const g=Ka(e);let D=u?n.residualClasses:n.residualStyles;if(null===g)0===(u?n.classBindings:n.styleBindings)&&(s=sf(s=av(null,e,n,s,u),n.attrs,u),D=null);else{const k=n.directiveStylingLast;if(-1===k||e[k]!==g)if(s=av(g,e,n,s,u),null===D){let V=function DC(e,n,s){const u=s?n.classBindings:n.styleBindings;if(0!==Mu(u))return e[nd(u)]}(e,n,u);void 0!==V&&Array.isArray(V)&&(V=av(null,e,n,V[1],u),V=sf(V,n.attrs,u),function SC(e,n,s,u){e[nd(s?n.classBindings:n.styleBindings)]=u}(e,n,u,V))}else D=function TC(e,n,s){let u;const g=n.directiveEnd;for(let D=1+n.directiveStylingLast;D<g;D++)u=sf(u,e[D].hostAttrs,s);return sf(u,n.attrs,s)}(e,n,u)}return void 0!==D&&(u?n.residualClasses=D:n.residualStyles=D),s}(g,D,n,u),function Sx(e,n,s,u,g,D){let k=D?n.classBindings:n.styleBindings,F=nd(k),V=Mu(k);e[u]=s;let ge,J=!1;if(Array.isArray(s)?(ge=s[1],(null===ge||Pc(s,ge)>0)&&(J=!0)):ge=s,g)if(0!==V){const pt=nd(e[F+1]);e[u+1]=Bm(pt,F),0!==pt&&(e[pt+1]=jg(e[pt+1],u)),e[F+1]=function Mx(e,n){return 131071&e|n<<17}(e[F+1],u)}else e[u+1]=Bm(F,0),0!==F&&(e[F+1]=jg(e[F+1],u)),F=u;else e[u+1]=Bm(V,0),0===F?F=u:e[V+1]=jg(e[V+1],u),V=u;J&&(e[u+1]=Ug(e[u+1])),Jy(e,ge,u,!0),Jy(e,ge,u,!1),function Tx(e,n,s,u,g){const D=g?e.residualClasses:e.residualStyles;null!=D&&"string"==typeof n&&Pc(D,n)>=0&&(s[u+1]=Hg(s[u+1]))}(n,ge,e,u,D),k=Bm(F,V),D?n.classBindings=k:n.styleBindings=k}(g,D,n,s,k,u)}}function av(e,n,s,u,g){let D=null;const k=s.directiveEnd;let F=s.directiveStylingLast;for(-1===F?F=s.directiveStart:F++;F<k&&(D=n[F],u=sf(u,D.hostAttrs,g),D!==e);)F++;return null!==e&&(s.directiveStylingLast=F),u}function sf(e,n,s){const u=s?1:2;let g=-1;if(null!==n)for(let D=0;D<n.length;D++){const k=n[D];"number"==typeof k?g=k:g===u&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ro(e,k,!!s||n[++D]))}return void 0===e?null:e}function Nx(e,n,s){ro(e,n,ul(s))}function AC(e,n,s){const u=String(n);""!==u&&!u.includes(" ")&&ro(e,u,s)}function zx(e,n,s,u,g,D,k,F){if(!(3&n.type))return;const V=e.data,J=V[F+1],ge=function Dx(e){return 1==(1&e)}(J)?Bx(V,n,s,g,Mu(J),k):void 0;Zg(ge)||(Zg(D)||function Ex(e){return 2==(2&e)}(J)&&(D=Bx(V,null,s,g,F,k)),function ou(e,n,s,u,g){if(n)g?e.addClass(s,u):e.removeClass(s,u);else{let D=-1===u.indexOf("-")?void 0:va.DashCase;null==g?e.removeStyle(s,u,D):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),D|=va.Important),e.setStyle(s,u,g,D))}}(u,k,N(_(),s),g,D))}function Bx(e,n,s,u,g,D){const k=null===n;let F;for(;g>0;){const V=e[g],J=Array.isArray(V),ge=J?V[1]:V,ze=null===ge;let pt=s[g+1];pt===zn&&(pt=ze?Ee:void 0);let Dt=ze?ud(pt,u):ge===u?pt:void 0;if(J&&!Zg(Dt)&&(Dt=ud(V,u)),Zg(Dt)&&(F=Dt,k))return F;const ii=e[g+1];g=k?nd(ii):Mu(ii)}if(null!==n){let V=D?n.residualClasses:n.residualStyles;null!=V&&(F=ud(V,u))}return F}function Zg(e){return void 0!==e}function lv(e,n){return 0!=(e.flags&(n?8:16))}function cv(e,n=""){const s=ni(),u=ui(),g=e+bn,D=u.firstCreatePass?vu(u,g,1,n,null):u.data[g],k=dv(u,s,D,n,e);s[g]=k,W()&&eh(u,s,k,D),ga(D,!1)}let dv=(e,n,s,u,g)=>(ce(!0),function ql(e,n){return e.createText(n)}(n[on],u));function Wg(e){return af("",e,""),Wg}function af(e,n,s){const u=ni(),g=ph(u,e,n,s);return g!==zn&&function ed(e,n,s){const u=N(n,e);!function Jh(e,n,s){e.setValue(n,s)}(e[on],u,s)}(u,_(),g),af}function bv(e,n,s){nc(ro,yc,ph(ni(),e,n,s),!0)}function qg(e,n,s){const u=ni();return Ea(u,Ws(),n)&&_l(ui(),h(),u,e,n,u[on],s,!0),qg}function Yg(e,n,s){const u=ni();if(Ea(u,Ws(),n)){const D=ui(),k=h();_l(D,k,u,e,n,sy(Ka(D.data),k,u),s,!0)}return Yg}const Du=void 0;var ow=["en",[["a","p"],["AM","PM"],Du],[["AM","PM"],Du,Du],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Du,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Du,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Du,"{1} 'at' {0}",Du],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function rw(e){const s=Math.floor(Math.abs(e)),u=e.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let vh={};function Kg(e){const n=function sw(e){return e.toLowerCase().replace(/_/g,"-")}(e);let s=kv(n);if(s)return s;const u=n.split("-")[0];if(s=kv(u),s)return s;if("en"===u)return ow;throw new Re(701,!1)}function Av(e){return Kg(e)[yn.PluralCase]}function kv(e){return e in vh||(vh[e]=Ne.ng&&Ne.ng.common&&Ne.ng.common.locales&&Ne.ng.common.locales[e]),vh[e]}var yn=(()=>((yn=yn||{})[yn.LocaleId=0]="LocaleId",yn[yn.DayPeriodsFormat=1]="DayPeriodsFormat",yn[yn.DayPeriodsStandalone=2]="DayPeriodsStandalone",yn[yn.DaysFormat=3]="DaysFormat",yn[yn.DaysStandalone=4]="DaysStandalone",yn[yn.MonthsFormat=5]="MonthsFormat",yn[yn.MonthsStandalone=6]="MonthsStandalone",yn[yn.Eras=7]="Eras",yn[yn.FirstDayOfWeek=8]="FirstDayOfWeek",yn[yn.WeekendRange=9]="WeekendRange",yn[yn.DateFormat=10]="DateFormat",yn[yn.TimeFormat=11]="TimeFormat",yn[yn.DateTimeFormat=12]="DateTimeFormat",yn[yn.NumberSymbols=13]="NumberSymbols",yn[yn.NumberFormats=14]="NumberFormats",yn[yn.CurrencyCode=15]="CurrencyCode",yn[yn.CurrencySymbol=16]="CurrencySymbol",yn[yn.CurrencyName=17]="CurrencyName",yn[yn.Currencies=18]="Currencies",yn[yn.Directionality=19]="Directionality",yn[yn.PluralCase=20]="PluralCase",yn[yn.ExtraData=21]="ExtraData",yn))();const bh="en-US";let Pv=bh;function n_(e,n,s,u,g){if(e=bt(e),Array.isArray(e))for(let D=0;D<e.length;D++)n_(e[D],n,s,u,g);else{const D=ui(),k=ni();let F=a(e)?e:bt(e.provide),V=_e(e);const J=yo(),ge=1048575&J.providerIndexes,ze=J.directiveStart,pt=J.providerIndexes>>20;if(a(e)||!e.multi){const Dt=new oi(V,g,yu),ii=o_(F,n,g?ge:ge+pt,ze);-1===ii?(er(sa(J,k),D,F),r_(D,e,n.length),n.push(F),J.directiveStart++,J.directiveEnd++,g&&(J.providerIndexes+=1048576),s.push(Dt),k.push(Dt)):(s[ii]=Dt,k[ii]=Dt)}else{const Dt=o_(F,n,ge+pt,ze),ii=o_(F,n,ge,ge+pt),Vi=ii>=0&&s[ii];if(g&&!Vi||!g&&!(Dt>=0&&s[Dt])){er(sa(J,k),D,F);const an=function Qw(e,n,s,u,g){const D=new oi(e,s,yu);return D.multi=[],D.index=n,D.componentProviders=0,eb(D,g,u&&!s),D}(g?Jw:Xw,s.length,g,u,V);!g&&Vi&&(s[ii].providerFactory=an),r_(D,e,n.length,0),n.push(F),J.directiveStart++,J.directiveEnd++,g&&(J.providerIndexes+=1048576),s.push(an),k.push(an)}else r_(D,e,Dt>-1?Dt:ii,eb(s[g?ii:Dt],V,!g&&u));!g&&u&&Vi&&s[ii].componentProviders++}}}function r_(e,n,s,u){const g=a(n),D=function f(e){return!!e.useClass}(n);if(g||D){const V=(D?bt(n.useClass):n).prototype.ngOnDestroy;if(V){const J=e.destroyHooks||(e.destroyHooks=[]);if(!g&&n.multi){const ge=J.indexOf(s);-1===ge?J.push(s,[u,V]):J[ge+1].push(u,V)}else J.push(s,V)}}}function eb(e,n,s){return s&&e.componentProviders++,e.multi.push(n)-1}function o_(e,n,s,u){for(let g=s;g<u;g++)if(n[g]===e)return g;return-1}function Xw(e,n,s,u){return s_(this.multi,[])}function Jw(e,n,s,u){const g=this.multi;let D;if(this.providerFactory){const k=this.providerFactory.componentProviders,F=Zl(s,s[Ti],this.providerFactory.index,u);D=F.slice(0,k),s_(g,D);for(let V=k;V<F.length;V++)D.push(F[V])}else D=[],s_(g,D);return D}function s_(e,n){for(let s=0;s<e.length;s++)n.push((0,e[s])());return n}function tb(e,n=[]){return s=>{s.providersResolver=(u,g)=>function Kw(e,n,s){const u=ui();if(u.firstCreatePass){const g=mn(e);n_(s,u.data,u.blueprint,g,!0),n_(n,u.data,u.blueprint,g,!1)}}(u,g?g(e):e,n)}}class wh{}class ib{}function e1(e,n){return new pf(e,n??null,[])}class pf extends wh{constructor(n,s,u){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new my(this);const g=Nr(n);this._bootstrapComponents=Jc(g.bootstrap),this._r3Injector=q_(n,s,[{provide:wh,useValue:this},{provide:Wc,useValue:this.componentFactoryResolver},...u],Le(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class a_ extends ib{constructor(n){super(),this.moduleType=n}create(n){return new pf(this.moduleType,n,[])}}class nb extends wh{constructor(n){super(),this.componentFactoryResolver=new my(this),this.instance=null;const s=new K([...n.providers,{provide:wh,useValue:this},{provide:Wc,useValue:this.componentFactoryResolver}],n.parent||L(),n.debugName,new Set(["environment"]));this.injector=s,n.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function rb(e,n,s=null){return new nb({providers:e,parent:n,debugName:s,runEnvironmentInitializers:!0}).injector}let n1=(()=>{class e{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const u=dh(0,s.type),g=u.length>0?rb([u],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,g)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=De({token:e,providedIn:"environment",factory:()=>new e(U(G))}),e})();function ob(e){e.getStandaloneInjector=n=>n.get(n1).getOrCreateStandaloneInjector(e)}function fb(e,n,s){const u=ds()+e,g=ni();return g[u]===zn?_c(g,u,s?n.call(s):n()):function Lm(e,n){return e[n]}(g,u)}function gb(e,n,s,u){return wb(ni(),ds(),e,n,s,u)}function _b(e,n,s,u,g){return function Cb(e,n,s,u,g,D,k){const F=n+s;return xu(e,F,g,D)?_c(e,F+2,k?u.call(k,g,D):u(g,D)):$m(e,F+2)}(ni(),ds(),e,n,s,u,g)}function yb(e,n,s,u,g,D){return function Eb(e,n,s,u,g,D,k,F){const V=n+s;return function Zp(e,n,s,u,g){const D=xu(e,n,s,u);return Ea(e,n+2,g)||D}(e,V,g,D,k)?_c(e,V+3,F?u.call(F,g,D,k):u(g,D,k)):$m(e,V+3)}(ni(),ds(),e,n,s,u,g,D)}function xb(e,n,s,u){return function Db(e,n,s,u,g,D){let k=n+s,F=!1;for(let V=0;V<g.length;V++)Ea(e,k++,g[V])&&(F=!0);return F?_c(e,k,u.apply(D,g)):$m(e,k)}(ni(),ds(),e,n,s,u)}function $m(e,n){const s=e[n];return s===zn?void 0:s}function wb(e,n,s,u,g,D){const k=n+s;return Ea(e,k,g)?_c(e,k+1,D?u.call(D,g):u(g)):$m(e,k+1)}function Sb(e,n){const s=ui();let u;const g=e+bn;s.firstCreatePass?(u=function m1(e,n){if(n)for(let s=n.length-1;s>=0;s--){const u=n[s];if(e===u.name)return u}}(n,s.pipeRegistry),s.data[g]=u,u.onDestroy&&(s.destroyHooks??=[]).push(g,u.onDestroy)):u=s.data[g];const D=u.factory||(u.factory=mo(u.type)),k=Ie(yu);try{const F=Dr(!1),V=D();return Dr(F),function fx(e,n,s,u){s>=e.data.length&&(e.data[s]=null,e.blueprint[s]=null),n[s]=u}(s,ni(),g,V),V}finally{Ie(k)}}function Tb(e,n,s){const u=e+bn,g=ni(),D=qe(g,u);return function Gm(e,n){return e[Ti].data[n].pure}(g,u)?wb(g,ds(),n,D.transform,s,D):D.transform(s)}function c_(e){return n=>{setTimeout(e,void 0,n)}}const vc=class y1 extends M.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,u){let g=n,D=s||(()=>null),k=u;if(n&&"object"==typeof n){const V=n;g=V.next?.bind(V),D=V.error?.bind(V),k=V.complete?.bind(V)}this.__isAsync&&(D=c_(D),g&&(g=c_(g)),k&&(k=c_(k)));const F=super.subscribe({next:g,error:D,complete:k});return n instanceof l.w0&&n.add(F),F}};function v1(){return this._results[Symbol.iterator]()}class Zm{get changes(){return this._changes||(this._changes=new vc)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Zm.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=v1)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const u=this;u.dirty=!1;const g=function Qo(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function kf(e,n,s){if(e.length!==n.length)return!1;for(let u=0;u<e.length;u++){let g=e[u],D=n[u];if(s&&(g=s(g),D=s(D)),D!==g)return!1}return!0}(u._results,g,s))&&(u._results=g,u.length=g.length,u.last=g[this.length-1],u.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ch=(()=>{class e{}return e.__NG_ELEMENT_ID__=Ab,e})();const b1=Ch,Ib=class extends b1{constructor(n,s,u){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,s){return this.createEmbeddedViewImpl(n,s,null)}createEmbeddedViewImpl(n,s,u){const k=this._declarationTContainer.tView,F=zp(this._declarationLView,k,n,4096&this._declarationLView[rn]?4096:16,null,k.declTNode,null,null,null,s||null,u||null);F[ls]=this._declarationLView[this._declarationTContainer.index];const J=this._declarationLView[cs];return null!==J&&(F[cs]=J.createEmbeddedView(k)),gg(k,F,n),new Rm(F)}};function Ab(){return ff(yo(),ni())}function ff(e,n){return 4&e.type?new Ib(n,e,qc(e,n)):null}let gf=(()=>{class e{}return e.__NG_ELEMENT_ID__=D1,e})();function D1(){return Nb(yo(),ni())}const S1=gf,Fb=class extends S1{constructor(n,s,u){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=u}get element(){return qc(this._hostTNode,this._hostLView)}get injector(){return new Xa(this._hostTNode,this._hostLView)}get parentInjector(){const n=ko(this._hostTNode,this._hostLView);if(Qn(n)){const s=pn(n,this._hostLView),u=qr(n);return new Xa(s[Ti].data[u+8],s)}return new Xa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=Lb(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-Rr}createEmbeddedView(n,s,u){let g,D;"number"==typeof u?g=u:null!=u&&(g=u.index,D=u.injector);const F=n.createEmbeddedViewImpl(s||{},D,null);return this.insertImpl(F,g,false),F}createComponent(n,s,u,g,D){const k=n&&!function cl(e){return"function"==typeof e}(n);let F;if(k)F=s;else{const _i=s||{};F=_i.index,u=_i.injector,g=_i.projectableNodes,D=_i.environmentInjector||_i.ngModuleRef}const V=k?n:new $p(ln(n)),J=u||this.parentInjector;if(!D&&null==V.ngModule){const Vi=(k?J:this.parentInjector).get(G,null);Vi&&(D=Vi)}ln(V.componentType??{});const Dt=V.create(J,g,null,D);return this.insertImpl(Dt.hostView,F,false),Dt}insert(n,s){return this.insertImpl(n,s,!1)}insertImpl(n,s,u){const g=n._lView,D=g[Ti];if(function nr(e){return Jn(e[On])}(g)){const V=this.indexOf(n);if(-1!==V)this.detach(V);else{const J=g[On],ge=new Fb(J,J[Kn],J[On]);ge.detach(ge.indexOf(n))}}const k=this._adjustIndex(s),F=this._lContainer;if(function Gf(e,n,s,u){const g=Rr+u,D=s.length;u>0&&(s[g-1][uo]=n),u<D-Rr?(n[uo]=s[g],Ah(s,Rr+u,n)):(s.push(n),n[uo]=null),n[On]=s;const k=n[ls];null!==k&&s!==k&&function Zf(e,n){const s=e[Js];n[dr]!==n[On][On][dr]&&(e[$a]=!0),null===s?e[Js]=[n]:s.push(n)}(k,n);const F=n[cs];null!==F&&F.insertView(e),n[rn]|=128}(D,g,F,k),!u){const V=sm(k,F),J=g[on],ge=iu(J,F[Lo]);null!==ge&&function Hf(e,n,s,u,g,D){u[ar]=g,u[Kn]=n,jc(e,u,s,1,g,D)}(D,F[Kn],J,g,ge,V)}return n.attachToViewContainerRef(),Ah(_f(F),k,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=Lb(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),u=vd(this._lContainer,s);u&&(dd(_f(this._lContainer),s),zc(u[Ti],u))}detach(n){const s=this._adjustIndex(n,-1),u=vd(this._lContainer,s);return u&&null!=dd(_f(this._lContainer),s)?new Rm(u):null}_adjustIndex(n,s=0){return n??this.length+s}};function Lb(e){return e[8]}function _f(e){return e[8]||(e[8]=[])}function Nb(e,n){let s;const u=n[e.index];return Jn(u)?s=u:(s=Jl(u,n,null,e),n[e.index]=s,Ql(n,s)),zb(s,n,e,u),new Fb(s,e,n)}let zb=function Bb(e,n,s,u){if(e[Lo])return;let g;g=8&s.type?qn(u):function T1(e,n){const s=e[on],u=s.createComment(""),g=Q(n,e);return Bc(s,iu(s,g),u,function Yl(e,n){return e.nextSibling(n)}(s,g),!1),u}(n,s),e[Lo]=g};class u_{constructor(n){this.queryList=n,this.matches=null}clone(){return new u_(this.queryList)}setDirty(){this.queryList.setDirty()}}class h_{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const u=null!==n.contentQueries?n.contentQueries[0]:s.length,g=[];for(let D=0;D<u;D++){const k=s.getByIndex(D);g.push(this.queries[k.indexInDeclarationView].clone())}return new h_(g)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==qm(n,s).matches&&this.queries[s].setDirty()}}class m_{constructor(n,s,u=null){this.predicate=n,this.flags=s,this.read=u}}class yf{constructor(n=[]){this.queries=n}elementStart(n,s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let u=0;u<this.length;u++){const g=null!==s?s.length:0,D=this.getByIndex(u).embeddedTView(n,g);D&&(D.indexInDeclarationView=u,null!==s?s.push(D):s=[D])}return null!==s?new yf(s):null}template(n,s){for(let u=0;u<this.queries.length;u++)this.queries[u].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Ud{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new Ud(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let u=n.parent;for(;null!==u&&8&u.type&&u.index!==s;)u=u.parent;return s===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const u=this.metadata.predicate;if(Array.isArray(u))for(let g=0;g<u.length;g++){const D=u[g];this.matchTNodeWithReadOption(n,s,A1(s,D)),this.matchTNodeWithReadOption(n,s,ya(s,n,D,!1,!1))}else u===Ch?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,ya(s,n,u,!1,!1))}matchTNodeWithReadOption(n,s,u){if(null!==u){const g=this.metadata.read;if(null!==g)if(g===Yc||g===gf||g===Ch&&4&s.type)this.addMatch(s.index,-2);else{const D=ya(s,n,g,!1,!1);null!==D&&this.addMatch(s.index,D)}else this.addMatch(s.index,u)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function A1(e,n){const s=e.localNames;if(null!==s)for(let u=0;u<s.length;u+=2)if(s[u]===n)return s[u+1];return null}function p_(e,n,s,u){return-1===s?function Ub(e,n){return 11&e.type?qc(e,n):4&e.type?ff(e,n):null}(n,e):-2===s?function jb(e,n,s){return s===Yc?qc(n,e):s===Ch?ff(n,e):s===gf?Nb(n,e):void 0}(e,n,u):Zl(e,e[Ti],s,n)}function f_(e,n,s,u){const g=n[cs].queries[u];if(null===g.matches){const D=e.data,k=s.matches,F=[];for(let V=0;V<k.length;V+=2){const J=k[V];F.push(J<0?null:p_(n,D[J],k[V+1],s.metadata.read))}g.matches=F}return g.matches}function Wm(e,n,s,u){const g=e.queries.getByIndex(s),D=g.matches;if(null!==D){const k=f_(e,n,g,s);for(let F=0;F<D.length;F+=2){const V=D[F];if(V>0)u.push(k[F/2]);else{const J=D[F+1],ge=n[-V];for(let ze=Rr;ze<ge.length;ze++){const pt=ge[ze];pt[ls]===pt[On]&&Wm(pt[Ti],pt,J,u)}if(null!==ge[Js]){const ze=ge[Js];for(let pt=0;pt<ze.length;pt++){const Dt=ze[pt];Wm(Dt[Ti],Dt,J,u)}}}}}return u}function vf(e){const n=ni(),s=ui(),u=Oa();Hl(u+1);const g=qm(s,u);if(e.dirty&&function $t(e){return 4==(4&e[rn])}(n)===(2==(2&g.metadata.flags))){if(null===g.matches)e.reset([]);else{const D=g.crossesNgTemplate?Wm(s,n,u,[]):f_(s,n,g,u);e.reset(D,Dm),e.notifyOnChanges()}return!0}return!1}function g_(e,n,s){const u=ui();u.firstCreatePass&&($b(u,new m_(e,n,s),-1),2==(2&n)&&(u.staticViewQueries=!0)),Hb(u,ni(),n)}function bf(e,n,s,u){const g=ui();if(g.firstCreatePass){const D=yo();$b(g,new m_(n,s,u),D.index),function k1(e,n){const s=e.contentQueries||(e.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(e.queries.length-1,n)}(g,e),2==(2&s)&&(g.staticContentQueries=!0)}Hb(g,ni(),s)}function xf(){return function __(e,n){return e[cs].queries[n].queryList}(ni(),Oa())}function Hb(e,n,s){const u=new Zm(4==(4&s));(function D0(e,n,s,u){const g=pg(n);g.push(s),e.firstCreatePass&&oy(e).push(u,g.length-1)})(e,n,u,u.destroy),null===n[cs]&&(n[cs]=new h_),n[cs].queries.push(new u_(u))}function $b(e,n,s){null===e.queries&&(e.queries=new yf),e.queries.track(new Ud(n,s))}function qm(e,n){return e.queries.getByIndex(n)}function Gb(e,n){return ff(e,n)}function y_(e){return!!Nr(e)}const Gt=new vr("Application Initializer");let Mi=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,u)=>{this.resolve=s,this.reject=u}),this.appInits=fe(Gt,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const g of this.appInits){const D=g();if(Rg(D))s.push(D);else if(Vy(D)){const k=new Promise((F,V)=>{D.subscribe({complete:F,error:V})});s.push(k)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{u()}).catch(g=>{this.reject(g)}),0===s.length&&u(),this.initialized=!0}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),zi=(()=>{class e{log(s){console.log(s)}warn(s){console.warn(s)}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Bi=new vr("LocaleId",{providedIn:"root",factory:()=>fe(Bi,Pe.Optional|Pe.SkipSelf)||function Fi(){return typeof $localize<"u"&&$localize.locale||bh}()}),wn=new vr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let kr=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ae.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class Ma{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}let Qa=(()=>{class e{compileModuleSync(s){return new a_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const u=this.compileModuleSync(s),D=Jc(Nr(s).declarations).reduce((k,F)=>{const V=ln(F);return V&&k.push(new $p(V)),k},[]);return new Ma(u,D)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function bc(...e){}class $i{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vc(!1),this.onMicrotaskEmpty=new vc(!1),this.onStable=new vc(!1),this.onError=new vc(!1),typeof Zone>"u")throw new Re(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!u&&s,g.shouldCoalesceRunChangeDetection=u,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function Tu(){let e=Ne.requestAnimationFrame,n=Ne.cancelAnimationFrame;if(typeof Zone<"u"&&e&&n){const s=e[Zone.__symbol__("OriginalDelegate")];s&&(e=s);const u=n[Zone.__symbol__("OriginalDelegate")];u&&(n=u)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function Ba(e){const n=()=>{!function $o(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ne,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Ts(e),e.isCheckStableRunning=!0,tr(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Ts(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,u,g,D,k,F)=>{try{return el(e),s.invokeTask(g,D,k,F)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===D.type||e.shouldCoalesceRunChangeDetection)&&n(),$r(e)}},onInvoke:(s,u,g,D,k,F,V)=>{try{return el(e),s.invoke(g,D,k,F,V)}finally{e.shouldCoalesceRunChangeDetection&&n(),$r(e)}},onHasTask:(s,u,g,D)=>{s.hasTask(g,D),u===g&&("microTask"==D.change?(e._hasPendingMicrotasks=D.microTask,Ts(e),tr(e)):"macroTask"==D.change&&(e.hasPendingMacrotasks=D.macroTask))},onHandleError:(s,u,g,D)=>(s.handleError(g,D),e.runOutsideAngular(()=>e.onError.emit(D)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$i.isInAngularZone())throw new Re(909,!1)}static assertNotInAngularZone(){if($i.isInAngularZone())throw new Re(909,!1)}run(n,s,u){return this._inner.run(n,s,u)}runTask(n,s,u,g){const D=this._inner,k=D.scheduleEventTask("NgZoneEvent: "+g,n,fn,bc,bc);try{return D.runTask(k,s,u)}finally{D.cancelTask(k)}}runGuarded(n,s,u){return this._inner.runGuarded(n,s,u)}runOutsideAngular(n){return this._outer.run(n)}}const fn={};function tr(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Ts(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function el(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function $r(e){e._nesting--,tr(e)}class Iu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vc,this.onMicrotaskEmpty=new vc,this.onStable=new vc,this.onError=new vc}run(n,s,u){return n.apply(s,u)}runGuarded(n,s,u){return n.apply(s,u)}runOutsideAngular(n){return n()}runTask(n,s,u,g){return n.apply(s,u)}}const xc=new vr("",{providedIn:"root",factory:Co});function Co(){const e=fe($i);let n=!0;const s=new v.y(g=>{n=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{g.next(n),g.complete()})}),u=new v.y(g=>{let D;e.runOutsideAngular(()=>{D=e.onStable.subscribe(()=>{$i.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(n=!0,g.next(!0))})})});const k=e.onUnstable.subscribe(()=>{$i.assertInAngularZone(),n&&(n=!1,e.runOutsideAngular(()=>{g.next(!1)}))});return()=>{D.unsubscribe(),k.unsubscribe()}});return(0,$e.T)(s,u.pipe((0,Ge.B)()))}const vl=new vr(""),Ks=new vr("");let Df,Au=(()=>{class e{constructor(s,u,g){this._ngZone=s,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Df||(function a0(e){Df=e}(g),g.addToWindow(u)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$i.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(s)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,u,g){let D=-1;u&&u>0&&(D=setTimeout(()=>{this._callbacks=this._callbacks.filter(k=>k.timeoutId!==D),s(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:s,timeoutId:D,updateCb:g})}whenStable(s,u,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,u,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,u,g){return[]}}return e.\u0275fac=function(s){return new(s||e)(U($i),U(ku),U(Ks))},e.\u0275prov=De({token:e,factory:e.\u0275fac}),e})(),ku=(()=>{class e{constructor(){this._applications=new Map}registerApplication(s,u){this._applications.set(s,u)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,u=!0){return Df?.findTestabilityInTree(this,s,u)??null}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Hd=null;const eE=new vr("AllowMultipleToken"),$1=new vr("PlatformDestroyListeners"),G1=new vr("appBootstrapListener");class AE{constructor(n,s){this.name=n,this.token=s}}function nE(e,n,s=[]){const u=`Platform: ${n}`,g=new vr(u);return(D=[])=>{let k=Z1();if(!k||k.injector.get(eE,!1)){const F=[...s,...D,{provide:g,useValue:!0}];e?e(F):function kE(e){if(Hd&&!Hd.get(eE,!1))throw new Re(400,!1);(function tE(){!function Xo(e){ys=e}(()=>{throw new Re(600,!1)})})(),Hd=e;const n=e.get(oE);(function iE(e){e.get(Yt,null)?.forEach(s=>s())})(e)}(function rE(e=[],n){return Bd.create({name:n,providers:[{provide:w,useValue:"platform"},{provide:$1,useValue:new Set([()=>Hd=null])},...e]})}(F,u))}return function OE(e){const n=Z1();if(!n)throw new Re(401,!1);return n}()}}function Z1(){return Hd?.get(oE)??null}let oE=(()=>{class e{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,u){const g=function RE(e="zone.js",n){return"noop"===e?new Iu:"zone.js"===e?new $i(n):e}(u?.ngZone,function sE(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return g.run(()=>{const D=function t1(e,n,s){return new pf(e,n,s)}(s.moduleType,this.injector,function uE(e){return[{provide:$i,useFactory:e},{provide:Gc,multi:!0,useFactory:()=>{const n=fe(LE,{optional:!0});return()=>n.initialize()}},{provide:dE,useFactory:FE},{provide:xc,useFactory:Co}]}(()=>g)),k=D.injector.get(Kc,null);return g.runOutsideAngular(()=>{const F=g.onError.subscribe({next:V=>{k.handleError(V)}});D.onDestroy(()=>{l0(this._modules,D),F.unsubscribe()})}),function aE(e,n,s){try{const u=s();return Rg(u)?u.catch(g=>{throw n.runOutsideAngular(()=>e.handleError(g)),g}):u}catch(u){throw n.runOutsideAngular(()=>e.handleError(u)),u}}(k,g,()=>{const F=D.injector.get(Mi);return F.runInitializers(),F.donePromise.then(()=>(function Ov(e){hi(e,"Expected localeId to be defined"),"string"==typeof e&&(Pv=e.toLowerCase().replace(/_/g,"-"))}(D.injector.get(Bi,bh)||bh),this._moduleDoBootstrap(D),D))})})}bootstrapModule(s,u=[]){const g=lE({},u);return function TE(e,n,s){const u=new a_(s);return Promise.resolve(u)}(0,0,s).then(D=>this.bootstrapModuleFactory(D,g))}_moduleDoBootstrap(s){const u=s.injector.get(Sf);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(g=>u.bootstrap(g));else{if(!s.instance.ngDoBootstrap)throw new Re(-403,!1);s.instance.ngDoBootstrap(u)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Re(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const s=this._injector.get($1,null);s&&(s.forEach(u=>u()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(s){return new(s||e)(U(Bd))},e.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function lE(e,n){return Array.isArray(n)?n.reduce(lE,e):{...e,...n}}let Sf=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=fe(dE),this.zoneIsStable=fe(xc),this.componentTypes=[],this.components=[],this.isStable=fe(kr).hasPendingTasks.pipe((0,ke.w)(s=>s?(0,ie.of)(!1):this.zoneIsStable),(0,Ye.x)(),(0,Ge.B)()),this._injector=fe(G)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,u){const g=s instanceof Ys;if(!this._injector.get(Mi).done)throw!g&&Us(s),new Re(405,!1);let k;k=g?s:this._injector.get(Wc).resolveComponentFactory(s),this.componentTypes.push(k.componentType);const F=function IE(e){return e.isBoundToModule}(k)?void 0:this._injector.get(wh),J=k.create(Bd.NULL,[],u||k.selector,F),ge=J.location.nativeElement,ze=J.injector.get(vl,null);return ze?.registerApplication(ge),J.onDestroy(()=>{this.detachView(J.hostView),l0(this.components,J),ze?.unregisterApplication(ge)}),this._loadComponent(J),J}tick(){if(this._runningTick)throw new Re(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const u=s;this._views.push(u),u.attachToAppRef(this)}detachView(s){const u=s;l0(this._views,u),u.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const u=this._injector.get(G1,[]);u.push(...this._bootstrapListeners),u.forEach(g=>g(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>l0(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Re(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function l0(e,n){const s=e.indexOf(n);s>-1&&e.splice(s,1)}const dE=new vr("",{providedIn:"root",factory:()=>fe(Kc).handleError.bind(void 0)});function FE(){const e=fe($i),n=fe(Kc);return s=>e.runOutsideAngular(()=>n.handleError(s))}let LE=(()=>{class e{constructor(){this.zone=fe($i),this.applicationRef=fe(Sf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function zE(){}let BE=(()=>{class e{}return e.__NG_ELEMENT_ID__=VE,e})();function VE(e){return function UE(e,n,s){if(Zr(e)&&!s){const u=Pt(e.index,n);return new Rm(u,u)}return 47&e.type?new Rm(n[dr],n):null}(yo(),ni(),16==(16&e))}class fE{constructor(){}supports(n){return Fm(n)}create(n){return new WE(n)}}const ZE=(e,n)=>n;class WE{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||ZE}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,u=this._removalsHead,g=0,D=null;for(;s||u;){const k=!u||s&&s.currentIndex<_E(u,g,D)?s:u,F=_E(k,g,D),V=k.currentIndex;if(k===u)g--,u=u._nextRemoved;else if(s=s._next,null==k.previousIndex)g++;else{D||(D=[]);const J=F-g,ge=V-g;if(J!=ge){for(let pt=0;pt<J;pt++){const Dt=pt<D.length?D[pt]:D[pt]=0,ii=Dt+pt;ge<=ii&&ii<J&&(D[pt]=Dt+1)}D[k.previousIndex]=ge-J}}F!==V&&n(k,F,V)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!Fm(n))throw new Re(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let g,D,k,s=this._itHead,u=!1;if(Array.isArray(n)){this.length=n.length;for(let F=0;F<this.length;F++)D=n[F],k=this._trackByFn(F,D),null!==s&&Object.is(s.trackById,k)?(u&&(s=this._verifyReinsertion(s,D,k,F)),Object.is(s.item,D)||this._addIdentityChange(s,D)):(s=this._mismatch(s,D,k,F),u=!0),s=s._next}else g=0,function Q0(e,n){if(Array.isArray(e))for(let s=0;s<e.length;s++)n(e[s]);else{const s=e[Symbol.iterator]();let u;for(;!(u=s.next()).done;)n(u.value)}}(n,F=>{k=this._trackByFn(g,F),null!==s&&Object.is(s.trackById,k)?(u&&(s=this._verifyReinsertion(s,F,k,g)),Object.is(s.item,F)||this._addIdentityChange(s,F)):(s=this._mismatch(s,F,k,g),u=!0),s=s._next,g++}),this.length=g;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,u,g){let D;return null===n?D=this._itTail:(D=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,D,g)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(u,g))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,D,g)):n=this._addAfter(new qE(s,u),D,g),n}_verifyReinsertion(n,s,u,g){let D=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==D?n=this._reinsertAfter(D,n._prev,g):n.currentIndex!=g&&(n.currentIndex=g,this._addToMoves(n,g)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const g=n._prevRemoved,D=n._nextRemoved;return null===g?this._removalsHead=D:g._nextRemoved=D,null===D?this._removalsTail=g:D._prevRemoved=g,this._insertAfter(n,s,u),this._addToMoves(n,u),n}_moveAfter(n,s,u){return this._unlink(n),this._insertAfter(n,s,u),this._addToMoves(n,u),n}_addAfter(n,s,u){return this._insertAfter(n,s,u),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,u){const g=null===s?this._itHead:s._next;return n._next=g,n._prev=s,null===g?this._itTail=n:g._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new gE),this._linkedRecords.put(n),n.currentIndex=u,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,u=n._next;return null===s?this._itHead=u:s._next=u,null===u?this._itTail=s:u._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gE),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class qE{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class YE{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===s||s<=u.currentIndex)&&Object.is(u.trackById,n))return u;return null}remove(n){const s=n._prevDup,u=n._nextDup;return null===s?this._head=u:s._nextDup=u,null===u?this._tail=s:u._prevDup=s,null===this._head}}class gE{constructor(){this.map=new Map}put(n){const s=n.trackById;let u=this.map.get(s);u||(u=new YE,this.map.set(s,u)),u.add(n)}get(n,s){const g=this.map.get(n);return g?g.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _E(e,n,s){const u=e.previousIndex;if(null===u)return u;let g=0;return s&&u<s.length&&(g=s[u]),u+n+g}class yE{constructor(){}supports(n){return n instanceof Map||hh(n)}create(){return new KE}}class KE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||hh(n)))throw new Re(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(u,g)=>{if(s&&s.key===g)this._maybeAddToChanges(s,u),this._appendAfter=s,s=s._next;else{const D=this._getOrCreateRecordForKey(g,u);s=this._insertBeforeOrAppend(s,D)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let u=s;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const u=n._prev;return s._next=n,s._prev=u,n._prev=s,u&&(u._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const g=this._records.get(n);this._maybeAddToChanges(g,s);const D=g._prev,k=g._next;return D&&(D._next=k),k&&(k._prev=D),g._next=null,g._prev=null,g}const u=new XE(n);return this._records.set(n,u),u.currentValue=s,this._addToAdditions(u),u}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(u=>s(n[u],u))}}class XE{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vE(){return new X1([new fE])}let X1=(()=>{class e{constructor(s){this.factories=s}static create(s,u){if(null!=u){const g=u.factories.slice();s=s.concat(g)}return new e(s)}static extend(s){return{provide:e,useFactory:u=>e.create(s,u||vE()),deps:[[e,new Bu,new zu]]}}find(s){const u=this.factories.find(g=>g.supports(s));if(null!=u)return u;throw new Re(901,!1)}}return e.\u0275prov=De({token:e,providedIn:"root",factory:vE}),e})();function bE(){return new J1([new yE])}let J1=(()=>{class e{constructor(s){this.factories=s}static create(s,u){if(u){const g=u.factories.slice();s=s.concat(g)}return new e(s)}static extend(s){return{provide:e,useFactory:u=>e.create(s,u||bE()),deps:[[e,new Bu,new zu]]}}find(s){const u=this.factories.find(g=>g.supports(s));if(u)return u;throw new Re(901,!1)}}return e.\u0275prov=De({token:e,providedIn:"root",factory:bE}),e})();const eM=nE(null,"core",[]);let tM=(()=>{class e{constructor(s){}}return e.\u0275fac=function(s){return new(s||e)(U(Sf))},e.\u0275mod=Va({type:e}),e.\u0275inj=Zt({}),e})();function dM(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function hM(e){const n=ln(e);if(!n)return null;const s=new $p(n);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},6223:(gi,ft,j)=>{"use strict";j.d(ft,{Cf:()=>Nt,F:()=>Eo,Fj:()=>Qe,JJ:()=>yi,JU:()=>ke,On:()=>ln,Zs:()=>$s,a5:()=>Zt,kI:()=>Qt,sg:()=>as,u5:()=>lr});var M=j(5879),l=j(6814),ae=j(7715),v=j(9315),$e=j(7398);let ie=(()=>{class Y{constructor(H,xe){this._renderer=H,this._elementRef=xe,this.onChange=Vt=>{},this.onTouched=()=>{}}setProperty(H,xe){this._renderer.setProperty(this._elementRef.nativeElement,H,xe)}registerOnTouched(H){this.onTouched=H}registerOnChange(H){this.onChange=H}setDisabledState(H){this.setProperty("disabled",H)}}return Y.\u0275fac=function(H){return new(H||Y)(M.Y36(M.Qsj),M.Y36(M.SBq))},Y.\u0275dir=M.lG2({type:Y}),Y})(),Ge=(()=>{class Y extends ie{}return Y.\u0275fac=function(){let Z;return function(xe){return(Z||(Z=M.n5z(Y)))(xe||Y)}}(),Y.\u0275dir=M.lG2({type:Y,features:[M.qOj]}),Y})();const ke=new M.OlP("NgValueAccessor"),it={provide:ke,useExisting:(0,M.Gpc)(()=>Qe),multi:!0},nt=new M.OlP("CompositionEventMode");let Qe=(()=>{class Y extends ie{constructor(H,xe,Vt){super(H,xe),this._compositionMode=Vt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Le(){const Y=(0,l.q)()?(0,l.q)().getUserAgent():"";return/android (\d+)/.test(Y.toLowerCase())}())}writeValue(H){this.setProperty("value",H??"")}_handleInput(H){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(H)}_compositionStart(){this._composing=!0}_compositionEnd(H){this._composing=!1,this._compositionMode&&this.onChange(H)}}return Y.\u0275fac=function(H){return new(H||Y)(M.Y36(M.Qsj),M.Y36(M.SBq),M.Y36(nt,8))},Y.\u0275dir=M.lG2({type:Y,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(H,xe){1&H&&M.NdJ("input",function(wi){return xe._handleInput(wi.target.value)})("blur",function(){return xe.onTouched()})("compositionstart",function(){return xe._compositionStart()})("compositionend",function(wi){return xe._compositionEnd(wi.target.value)})},features:[M._Bn([it]),M.qOj]}),Y})();function ut(Y){return null==Y||("string"==typeof Y||Array.isArray(Y))&&0===Y.length}function bt(Y){return null!=Y&&"number"==typeof Y.length}const Nt=new M.OlP("NgValidators"),ti=new M.OlP("NgAsyncValidators"),xi=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Qt{static min(Z){return function Re(Y){return Z=>{if(ut(Z.value)||ut(Y))return null;const H=parseFloat(Z.value);return!isNaN(H)&&H<Y?{min:{min:Y,actual:Z.value}}:null}}(Z)}static max(Z){return function Ze(Y){return Z=>{if(ut(Z.value)||ut(Y))return null;const H=parseFloat(Z.value);return!isNaN(H)&&H>Y?{max:{max:Y,actual:Z.value}}:null}}(Z)}static required(Z){return Oe(Z)}static requiredTrue(Z){return gt(Z)}static email(Z){return function Rt(Y){return ut(Y.value)||xi.test(Y.value)?null:{email:!0}}(Z)}static minLength(Z){return function At(Y){return Z=>ut(Z.value)||!bt(Z.value)?null:Z.value.length<Y?{minlength:{requiredLength:Y,actualLength:Z.value.length}}:null}(Z)}static maxLength(Z){return function li(Y){return Z=>bt(Z.value)&&Z.value.length>Y?{maxlength:{requiredLength:Y,actualLength:Z.value.length}}:null}(Z)}static pattern(Z){return function Kt(Y){if(!Y)return Li;let Z,H;return"string"==typeof Y?(H="","^"!==Y.charAt(0)&&(H+="^"),H+=Y,"$"!==Y.charAt(Y.length-1)&&(H+="$"),Z=new RegExp(H)):(H=Y.toString(),Z=Y),xe=>{if(ut(xe.value))return null;const Vt=xe.value;return Z.test(Vt)?null:{pattern:{requiredPattern:H,actualValue:Vt}}}}(Z)}static nullValidator(Z){return null}static compose(Z){return wt(Z)}static composeAsync(Z){return kt(Z)}}function Oe(Y){return ut(Y.value)?{required:!0}:null}function gt(Y){return!0===Y.value?null:{required:!0}}function Li(Y){return null}function Si(Y){return null!=Y}function En(Y){return(0,M.QGY)(Y)?(0,ae.D)(Y):Y}function Vn(Y){let Z={};return Y.forEach(H=>{Z=null!=H?{...Z,...H}:Z}),0===Object.keys(Z).length?null:Z}function hn(Y,Z){return Z.map(H=>H(Y))}function In(Y){return Y.map(Z=>function Zn(Y){return!Y.validate}(Z)?Z:H=>Z.validate(H))}function wt(Y){if(!Y)return null;const Z=Y.filter(Si);return 0==Z.length?null:function(H){return Vn(hn(H,Z))}}function xt(Y){return null!=Y?wt(In(Y)):null}function kt(Y){if(!Y)return null;const Z=Y.filter(Si);return 0==Z.length?null:function(H){const xe=hn(H,Z).map(En);return(0,v.D)(xe).pipe((0,$e.U)(Vn))}}function Ft(Y){return null!=Y?kt(In(Y)):null}function Jt(Y,Z){return null===Y?[Z]:Array.isArray(Y)?[...Y,Z]:[Y,Z]}function Et(Y){return Y._rawValidators}function hi(Y){return Y._rawAsyncValidators}function je(Y){return Y?Array.isArray(Y)?Y:[Y]:[]}function ot(Y,Z){return Array.isArray(Y)?Y.includes(Z):Y===Z}function ht(Y,Z){const H=je(Z);return je(Y).forEach(Vt=>{ot(H,Vt)||H.push(Vt)}),H}function ct(Y,Z){return je(Z).filter(H=>!ot(Y,H))}class De{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Z){this._rawValidators=Z||[],this._composedValidatorFn=xt(this._rawValidators)}_setAsyncValidators(Z){this._rawAsyncValidators=Z||[],this._composedAsyncValidatorFn=Ft(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Z){this._onDestroyCallbacks.push(Z)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Z=>Z()),this._onDestroyCallbacks=[]}reset(Z=void 0){this.control&&this.control.reset(Z)}hasError(Z,H){return!!this.control&&this.control.hasError(Z,H)}getError(Z,H){return this.control?this.control.getError(Z,H):null}}class qt extends De{get formDirective(){return null}get path(){return null}}class Zt extends De{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ei{constructor(Z){this._cd=Z}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let yi=(()=>{class Y extends ei{constructor(H){super(H)}}return Y.\u0275fac=function(H){return new(H||Y)(M.Y36(Zt,2))},Y.\u0275dir=M.lG2({type:Y,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(H,xe){2&H&&M.ekj("ng-untouched",xe.isUntouched)("ng-touched",xe.isTouched)("ng-pristine",xe.isPristine)("ng-dirty",xe.isDirty)("ng-valid",xe.isValid)("ng-invalid",xe.isInvalid)("ng-pending",xe.isPending)},features:[M.qOj]}),Y})();const en="VALID",cn="INVALID",Wi="PENDING",_t="DISABLED";function mi(Y){return(U(Y)?Y.validators:Y)||null}function q(Y,Z){return(U(Z)?Z.asyncValidators:Y)||null}function U(Y){return null!=Y&&!Array.isArray(Y)&&"object"==typeof Y}class Ae{constructor(Z,H){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Z),this._assignAsyncValidators(H)}get validator(){return this._composedValidatorFn}set validator(Z){this._rawValidators=this._composedValidatorFn=Z}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Z){this._rawAsyncValidators=this._composedAsyncValidatorFn=Z}get parent(){return this._parent}get valid(){return this.status===en}get invalid(){return this.status===cn}get pending(){return this.status==Wi}get disabled(){return this.status===_t}get enabled(){return this.status!==_t}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Z){this._assignValidators(Z)}setAsyncValidators(Z){this._assignAsyncValidators(Z)}addValidators(Z){this.setValidators(ht(Z,this._rawValidators))}addAsyncValidators(Z){this.setAsyncValidators(ht(Z,this._rawAsyncValidators))}removeValidators(Z){this.setValidators(ct(Z,this._rawValidators))}removeAsyncValidators(Z){this.setAsyncValidators(ct(Z,this._rawAsyncValidators))}hasValidator(Z){return ot(this._rawValidators,Z)}hasAsyncValidator(Z){return ot(this._rawAsyncValidators,Z)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Z={}){this.touched=!0,this._parent&&!Z.onlySelf&&this._parent.markAsTouched(Z)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Z=>Z.markAllAsTouched())}markAsUntouched(Z={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(H=>{H.markAsUntouched({onlySelf:!0})}),this._parent&&!Z.onlySelf&&this._parent._updateTouched(Z)}markAsDirty(Z={}){this.pristine=!1,this._parent&&!Z.onlySelf&&this._parent.markAsDirty(Z)}markAsPristine(Z={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(H=>{H.markAsPristine({onlySelf:!0})}),this._parent&&!Z.onlySelf&&this._parent._updatePristine(Z)}markAsPending(Z={}){this.status=Wi,!1!==Z.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Z.onlySelf&&this._parent.markAsPending(Z)}disable(Z={}){const H=this._parentMarkedDirty(Z.onlySelf);this.status=_t,this.errors=null,this._forEachChild(xe=>{xe.disable({...Z,onlySelf:!0})}),this._updateValue(),!1!==Z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Z,skipPristineCheck:H}),this._onDisabledChange.forEach(xe=>xe(!0))}enable(Z={}){const H=this._parentMarkedDirty(Z.onlySelf);this.status=en,this._forEachChild(xe=>{xe.enable({...Z,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Z.emitEvent}),this._updateAncestors({...Z,skipPristineCheck:H}),this._onDisabledChange.forEach(xe=>xe(!1))}_updateAncestors(Z){this._parent&&!Z.onlySelf&&(this._parent.updateValueAndValidity(Z),Z.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Z){this._parent=Z}getRawValue(){return this.value}updateValueAndValidity(Z={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===en||this.status===Wi)&&this._runAsyncValidator(Z.emitEvent)),!1!==Z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Z.onlySelf&&this._parent.updateValueAndValidity(Z)}_updateTreeValidity(Z={emitEvent:!0}){this._forEachChild(H=>H._updateTreeValidity(Z)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Z.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_t:en}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Z){if(this.asyncValidator){this.status=Wi,this._hasOwnPendingAsyncValidator=!0;const H=En(this.asyncValidator(this));this._asyncValidationSubscription=H.subscribe(xe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(xe,{emitEvent:Z})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Z,H={}){this.errors=Z,this._updateControlsErrors(!1!==H.emitEvent)}get(Z){let H=Z;return null==H||(Array.isArray(H)||(H=H.split(".")),0===H.length)?null:H.reduce((xe,Vt)=>xe&&xe._find(Vt),this)}getError(Z,H){const xe=H?this.get(H):this;return xe&&xe.errors?xe.errors[Z]:null}hasError(Z,H){return!!this.getError(Z,H)}get root(){let Z=this;for(;Z._parent;)Z=Z._parent;return Z}_updateControlsErrors(Z){this.status=this._calculateStatus(),Z&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Z)}_initObservables(){this.valueChanges=new M.vpe,this.statusChanges=new M.vpe}_calculateStatus(){return this._allControlsDisabled()?_t:this.errors?cn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wi)?Wi:this._anyControlsHaveStatus(cn)?cn:en}_anyControlsHaveStatus(Z){return this._anyControls(H=>H.status===Z)}_anyControlsDirty(){return this._anyControls(Z=>Z.dirty)}_anyControlsTouched(){return this._anyControls(Z=>Z.touched)}_updatePristine(Z={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Z.onlySelf&&this._parent._updatePristine(Z)}_updateTouched(Z={}){this.touched=this._anyControlsTouched(),this._parent&&!Z.onlySelf&&this._parent._updateTouched(Z)}_registerOnCollectionChange(Z){this._onCollectionChange=Z}_setUpdateStrategy(Z){U(Z)&&null!=Z.updateOn&&(this._updateOn=Z.updateOn)}_parentMarkedDirty(Z){return!Z&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Z){return null}_assignValidators(Z){this._rawValidators=Array.isArray(Z)?Z.slice():Z,this._composedValidatorFn=function vt(Y){return Array.isArray(Y)?xt(Y):Y||null}(this._rawValidators)}_assignAsyncValidators(Z){this._rawAsyncValidators=Array.isArray(Z)?Z.slice():Z,this._composedAsyncValidatorFn=function B(Y){return Array.isArray(Y)?Ft(Y):Y||null}(this._rawAsyncValidators)}}class pe extends Ae{constructor(Z,H,xe){super(mi(H),q(xe,H)),this.controls=Z,this._initObservables(),this._setUpdateStrategy(H),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Z,H){return this.controls[Z]?this.controls[Z]:(this.controls[Z]=H,H.setParent(this),H._registerOnCollectionChange(this._onCollectionChange),H)}addControl(Z,H,xe={}){this.registerControl(Z,H),this.updateValueAndValidity({emitEvent:xe.emitEvent}),this._onCollectionChange()}removeControl(Z,H={}){this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),delete this.controls[Z],this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}setControl(Z,H,xe={}){this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),delete this.controls[Z],H&&this.registerControl(Z,H),this.updateValueAndValidity({emitEvent:xe.emitEvent}),this._onCollectionChange()}contains(Z){return this.controls.hasOwnProperty(Z)&&this.controls[Z].enabled}setValue(Z,H={}){(function fe(Y,Z,H){Y._forEachChild((xe,Vt)=>{if(void 0===H[Vt])throw new M.vHH(1002,"")})})(this,0,Z),Object.keys(Z).forEach(xe=>{(function ee(Y,Z,H){const xe=Y.controls;if(!(Z?Object.keys(xe):xe).length)throw new M.vHH(1e3,"");if(!xe[H])throw new M.vHH(1001,"")})(this,!0,xe),this.controls[xe].setValue(Z[xe],{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H)}patchValue(Z,H={}){null!=Z&&(Object.keys(Z).forEach(xe=>{const Vt=this.controls[xe];Vt&&Vt.patchValue(Z[xe],{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H))}reset(Z={},H={}){this._forEachChild((xe,Vt)=>{xe.reset(Z[Vt],{onlySelf:!0,emitEvent:H.emitEvent})}),this._updatePristine(H),this._updateTouched(H),this.updateValueAndValidity(H)}getRawValue(){return this._reduceChildren({},(Z,H,xe)=>(Z[xe]=H.getRawValue(),Z))}_syncPendingControls(){let Z=this._reduceChildren(!1,(H,xe)=>!!xe._syncPendingControls()||H);return Z&&this.updateValueAndValidity({onlySelf:!0}),Z}_forEachChild(Z){Object.keys(this.controls).forEach(H=>{const xe=this.controls[H];xe&&Z(xe,H)})}_setUpControls(){this._forEachChild(Z=>{Z.setParent(this),Z._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Z){for(const[H,xe]of Object.entries(this.controls))if(this.contains(H)&&Z(xe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(H,xe,Vt)=>((xe.enabled||this.disabled)&&(H[Vt]=xe.value),H))}_reduceChildren(Z,H){let xe=Z;return this._forEachChild((Vt,wi)=>{xe=H(xe,Vt,wi)}),xe}_allControlsDisabled(){for(const Z of Object.keys(this.controls))if(this.controls[Z].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Z){return this.controls.hasOwnProperty(Z)?this.controls[Z]:null}}const lt=new M.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>be}),be="always";function de(Y,Z,H=be){Ke(Y,Z),Z.valueAccessor.writeValue(Y.value),(Y.disabled||"always"===H)&&Z.valueAccessor.setDisabledState?.(Y.disabled),function We(Y,Z){Z.valueAccessor.registerOnChange(H=>{Y._pendingValue=H,Y._pendingChange=!0,Y._pendingDirty=!0,"change"===Y.updateOn&&ri(Y,Z)})}(Y,Z),function Ht(Y,Z){const H=(xe,Vt)=>{Z.valueAccessor.writeValue(xe),Vt&&Z.viewToModelUpdate(xe)};Y.registerOnChange(H),Z._registerOnDestroy(()=>{Y._unregisterOnChange(H)})}(Y,Z),function zt(Y,Z){Z.valueAccessor.registerOnTouched(()=>{Y._pendingTouched=!0,"blur"===Y.updateOn&&Y._pendingChange&&ri(Y,Z),"submit"!==Y.updateOn&&Y.markAsTouched()})}(Y,Z),function Tt(Y,Z){if(Z.valueAccessor.setDisabledState){const H=xe=>{Z.valueAccessor.setDisabledState(xe)};Y.registerOnDisabledChange(H),Z._registerOnDestroy(()=>{Y._unregisterOnDisabledChange(H)})}}(Y,Z)}function Ee(Y,Z,H=!0){const xe=()=>{};Z.valueAccessor&&(Z.valueAccessor.registerOnChange(xe),Z.valueAccessor.registerOnTouched(xe)),Me(Y,Z),Y&&(Z._invokeOnDestroyCallbacks(),Y._registerOnCollectionChange(()=>{}))}function tt(Y,Z){Y.forEach(H=>{H.registerOnValidatorChange&&H.registerOnValidatorChange(Z)})}function Ke(Y,Z){const H=Et(Y);null!==Z.validator?Y.setValidators(Jt(H,Z.validator)):"function"==typeof H&&Y.setValidators([H]);const xe=hi(Y);null!==Z.asyncValidator?Y.setAsyncValidators(Jt(xe,Z.asyncValidator)):"function"==typeof xe&&Y.setAsyncValidators([xe]);const Vt=()=>Y.updateValueAndValidity();tt(Z._rawValidators,Vt),tt(Z._rawAsyncValidators,Vt)}function Me(Y,Z){let H=!1;if(null!==Y){if(null!==Z.validator){const Vt=Et(Y);if(Array.isArray(Vt)&&Vt.length>0){const wi=Vt.filter(Ur=>Ur!==Z.validator);wi.length!==Vt.length&&(H=!0,Y.setValidators(wi))}}if(null!==Z.asyncValidator){const Vt=hi(Y);if(Array.isArray(Vt)&&Vt.length>0){const wi=Vt.filter(Ur=>Ur!==Z.asyncValidator);wi.length!==Vt.length&&(H=!0,Y.setAsyncValidators(wi))}}}const xe=()=>{};return tt(Z._rawValidators,xe),tt(Z._rawAsyncValidators,xe),H}function ri(Y,Z){Y._pendingDirty&&Y.markAsDirty(),Y.setValue(Y._pendingValue,{emitModelToViewChange:!1}),Z.viewToModelUpdate(Y._pendingValue),Y._pendingChange=!1}function di(Y,Z){Ke(Y,Z)}function Dn(Y,Z){Y._syncPendingControls(),Z.forEach(H=>{const xe=H.control;"submit"===xe.updateOn&&xe._pendingChange&&(H.viewToModelUpdate(xe._pendingValue),xe._pendingChange=!1)})}const wr={provide:qt,useExisting:(0,M.Gpc)(()=>Eo)},kn=(()=>Promise.resolve())();let Eo=(()=>{class Y extends qt{constructor(H,xe,Vt){super(),this.callSetDisabledState=Vt,this.submitted=!1,this._directives=new Set,this.ngSubmit=new M.vpe,this.form=new pe({},xt(H),Ft(xe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(H){kn.then(()=>{const xe=this._findContainer(H.path);H.control=xe.registerControl(H.name,H.control),de(H.control,H,this.callSetDisabledState),H.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(H)})}getControl(H){return this.form.get(H.path)}removeControl(H){kn.then(()=>{const xe=this._findContainer(H.path);xe&&xe.removeControl(H.name),this._directives.delete(H)})}addFormGroup(H){kn.then(()=>{const xe=this._findContainer(H.path),Vt=new pe({});di(Vt,H),xe.registerControl(H.name,Vt),Vt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(H){kn.then(()=>{const xe=this._findContainer(H.path);xe&&xe.removeControl(H.name)})}getFormGroup(H){return this.form.get(H.path)}updateModel(H,xe){kn.then(()=>{this.form.get(H.path).setValue(xe)})}setValue(H){this.control.setValue(H)}onSubmit(H){return this.submitted=!0,Dn(this.form,this._directives),this.ngSubmit.emit(H),"dialog"===H?.target?.method}onReset(){this.resetForm()}resetForm(H=void 0){this.form.reset(H),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(H){return H.pop(),H.length?this.form.get(H):this.form}}return Y.\u0275fac=function(H){return new(H||Y)(M.Y36(Nt,10),M.Y36(ti,10),M.Y36(lt,8))},Y.\u0275dir=M.lG2({type:Y,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(H,xe){1&H&&M.NdJ("submit",function(wi){return xe.onSubmit(wi)})("reset",function(){return xe.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[M._Bn([wr]),M.qOj]}),Y})();function Mo(Y,Z){const H=Y.indexOf(Z);H>-1&&Y.splice(H,1)}function co(Y){return"object"==typeof Y&&null!==Y&&2===Object.keys(Y).length&&"value"in Y&&"disabled"in Y}const Cn=class extends Ae{constructor(Z=null,H,xe){super(mi(H),q(xe,H)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Z),this._setUpdateStrategy(H),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),U(H)&&(H.nonNullable||H.initialValueIsDefault)&&(this.defaultValue=co(Z)?Z.value:Z)}setValue(Z,H={}){this.value=this._pendingValue=Z,this._onChange.length&&!1!==H.emitModelToViewChange&&this._onChange.forEach(xe=>xe(this.value,!1!==H.emitViewToModelChange)),this.updateValueAndValidity(H)}patchValue(Z,H={}){this.setValue(Z,H)}reset(Z=this.defaultValue,H={}){this._applyFormState(Z),this.markAsPristine(H),this.markAsUntouched(H),this.setValue(this.value,H),this._pendingChange=!1}_updateValue(){}_anyControls(Z){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Z){this._onChange.push(Z)}_unregisterOnChange(Z){Mo(this._onChange,Z)}registerOnDisabledChange(Z){this._onDisabledChange.push(Z)}_unregisterOnDisabledChange(Z){Mo(this._onDisabledChange,Z)}_forEachChild(Z){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Z){co(Z)?(this.value=this._pendingValue=Z.value,Z.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Z}},ua={provide:Zt,useExisting:(0,M.Gpc)(()=>ln)},xl=(()=>Promise.resolve())();let ln=(()=>{class Y extends Zt{constructor(H,xe,Vt,wi,Ur,mo){super(),this._changeDetectorRef=Ur,this.callSetDisabledState=mo,this.control=new Cn,this._registered=!1,this.name="",this.update=new M.vpe,this._parent=H,this._setValidators(xe),this._setAsyncValidators(Vt),this.valueAccessor=function qi(Y,Z){if(!Z)return null;let H,xe,Vt;return Array.isArray(Z),Z.forEach(wi=>{wi.constructor===Qe?H=wi:function _o(Y){return Object.getPrototypeOf(Y.constructor)===Ge}(wi)?xe=wi:Vt=wi}),Vt||xe||H||null}(0,wi)}ngOnChanges(H){if(this._checkForErrors(),!this._registered||"name"in H){if(this._registered&&(this._checkName(),this.formDirective)){const xe=H.name.previousValue;this.formDirective.removeControl({name:xe,path:this._getPath(xe)})}this._setUpControl()}"isDisabled"in H&&this._updateDisabled(H),function Nn(Y,Z){if(!Y.hasOwnProperty("model"))return!1;const H=Y.model;return!!H.isFirstChange()||!Object.is(Z,H.currentValue)}(H,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(H){this.viewModel=H,this.update.emit(H)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){de(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(H){xl.then(()=>{this.control.setValue(H,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(H){const xe=H.isDisabled.currentValue,Vt=0!==xe&&(0,M.VuI)(xe);xl.then(()=>{Vt&&!this.control.disabled?this.control.disable():!Vt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(H){return this._parent?function Se(Y,Z){return[...Z.path,Y]}(H,this._parent):[H]}}return Y.\u0275fac=function(H){return new(H||Y)(M.Y36(qt,9),M.Y36(Nt,10),M.Y36(ti,10),M.Y36(ke,10),M.Y36(M.sBO,8),M.Y36(lt,8))},Y.\u0275dir=M.lG2({type:Y,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[M._Bn([ua]),M.qOj,M.TTD]}),Y})(),Xs=(()=>{class Y{}return Y.\u0275fac=function(H){return new(H||Y)},Y.\u0275mod=M.oAB({type:Y}),Y.\u0275inj=M.cJS({}),Y})();const uo={provide:qt,useExisting:(0,M.Gpc)(()=>as)};let as=(()=>{class Y extends qt{constructor(H,xe,Vt){super(),this.callSetDisabledState=Vt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new M.vpe,this._setValidators(H),this._setAsyncValidators(xe)}ngOnChanges(H){this._checkFormPresent(),H.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Me(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(H){const xe=this.form.get(H.path);return de(xe,H,this.callSetDisabledState),xe.updateValueAndValidity({emitEvent:!1}),this.directives.push(H),xe}getControl(H){return this.form.get(H.path)}removeControl(H){Ee(H.control||null,H,!1),function lo(Y,Z){const H=Y.indexOf(Z);H>-1&&Y.splice(H,1)}(this.directives,H)}addFormGroup(H){this._setUpFormContainer(H)}removeFormGroup(H){this._cleanUpFormContainer(H)}getFormGroup(H){return this.form.get(H.path)}addFormArray(H){this._setUpFormContainer(H)}removeFormArray(H){this._cleanUpFormContainer(H)}getFormArray(H){return this.form.get(H.path)}updateModel(H,xe){this.form.get(H.path).setValue(xe)}onSubmit(H){return this.submitted=!0,Dn(this.form,this.directives),this.ngSubmit.emit(H),"dialog"===H?.target?.method}onReset(){this.resetForm()}resetForm(H=void 0){this.form.reset(H),this.submitted=!1}_updateDomValue(){this.directives.forEach(H=>{const xe=H.control,Vt=this.form.get(H.path);xe!==Vt&&(Ee(xe||null,H),(Y=>Y instanceof Cn)(Vt)&&(de(Vt,H,this.callSetDisabledState),H.control=Vt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(H){const xe=this.form.get(H.path);di(xe,H),xe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(H){if(this.form){const xe=this.form.get(H.path);xe&&function Wn(Y,Z){return Me(Y,Z)}(xe,H)&&xe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ke(this.form,this),this._oldForm&&Me(this._oldForm,this)}_checkFormPresent(){}}return Y.\u0275fac=function(H){return new(H||Y)(M.Y36(Nt,10),M.Y36(ti,10),M.Y36(lt,8))},Y.\u0275dir=M.lG2({type:Y,selectors:[["","formGroup",""]],hostBindings:function(H,xe){1&H&&M.NdJ("submit",function(wi){return xe.onSubmit(wi)})("reset",function(){return xe.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[M._Bn([uo]),M.qOj,M.TTD]}),Y})(),As=(()=>{class Y{constructor(){this._validator=Li}ngOnChanges(H){if(this.inputName in H){const xe=this.normalizeInput(H[this.inputName].currentValue);this._enabled=this.enabled(xe),this._validator=this._enabled?this.createValidator(xe):Li,this._onChange&&this._onChange()}}validate(H){return this._validator(H)}registerOnValidatorChange(H){this._onChange=H}enabled(H){return null!=H}}return Y.\u0275fac=function(H){return new(H||Y)},Y.\u0275dir=M.lG2({type:Y,features:[M.TTD]}),Y})();const Js={provide:Nt,useExisting:(0,M.Gpc)(()=>Rr),multi:!0},Qs={provide:Nt,useExisting:(0,M.Gpc)(()=>$s),multi:!0};let Rr=(()=>{class Y extends As{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=M.VuI,this.createValidator=H=>Oe}enabled(H){return H}}return Y.\u0275fac=function(){let Z;return function(xe){return(Z||(Z=M.n5z(Y)))(xe||Y)}}(),Y.\u0275dir=M.lG2({type:Y,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(H,xe){2&H&&M.uIk("required",xe._enabled?"":null)},inputs:{required:"required"},features:[M._Bn([Js]),M.qOj]}),Y})(),$s=(()=>{class Y extends Rr{constructor(){super(...arguments),this.createValidator=H=>gt}}return Y.\u0275fac=function(){let Z;return function(xe){return(Z||(Z=M.n5z(Y)))(xe||Y)}}(),Y.\u0275dir=M.lG2({type:Y,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(H,xe){2&H&&M.uIk("required",xe._enabled?"":null)},features:[M._Bn([Qs]),M.qOj]}),Y})(),ta=(()=>{class Y{}return Y.\u0275fac=function(H){return new(H||Y)},Y.\u0275mod=M.oAB({type:Y}),Y.\u0275inj=M.cJS({imports:[Xs]}),Y})(),lr=(()=>{class Y{static withConfig(H){return{ngModule:Y,providers:[{provide:lt,useValue:H.callSetDisabledState??be}]}}}return Y.\u0275fac=function(H){return new(H||Y)},Y.\u0275mod=M.oAB({type:Y}),Y.\u0275inj=M.cJS({imports:[ta]}),Y})()},2296:(gi,ft,j)=>{"use strict";j.d(ft,{RK:()=>Et,cs:()=>xt,lW:()=>En,ot:()=>je,zs:()=>Vn});var M=j(2831),l=j(5879),ae=j(7849),v=j(3680),$e=j(6814),ie=j(2495);const Ge=["mat-button",""],ke=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Ye=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],it=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",Le=["mat-fab",""],ut=["mat-icon-button",""],bt=["*"],ti={capture:!0},xi=["focus","click","mouseenter","touchstart"],Qt="mat-button-ripple-uninitialized";let Re=(()=>{class ot{constructor(){this._document=(0,l.f3M)($e.K0,{optional:!0}),this._animationMode=(0,l.f3M)(l.QbO,{optional:!0}),this._globalRippleOptions=(0,l.f3M)(v.Y2,{optional:!0}),this._platform=(0,l.f3M)(M.t4),this._ngZone=(0,l.f3M)(l.R0b),this._onInteraction=ct=>{if(ct.target===this._document)return;const qt=ct.target.closest(`[${Qt}]`);qt&&(qt.removeAttribute(Qt),this._appendRipple(qt))},this._ngZone.runOutsideAngular(()=>{for(const ct of xi)this._document?.addEventListener(ct,this._onInteraction,ti)})}ngOnDestroy(){for(const ct of xi)this._document?.removeEventListener(ct,this._onInteraction,ti)}_appendRipple(ct){if(!this._document)return;const De=this._document.createElement("span");De.classList.add("mat-mdc-button-ripple");const qt=new Ze(ct,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);qt.rippleConfig.centered=ct.hasAttribute("mat-icon-button"),new v.IR(qt,this._ngZone,De,this._platform).setupTriggerEvents(ct),ct.append(De)}_createMatRipple(ct){if(!this._document)return;ct.querySelector(".mat-mdc-button-ripple")?.remove(),ct.removeAttribute(Qt);const De=this._document.createElement("span");De.classList.add("mat-mdc-button-ripple");const qt=new v.wG(new l.SBq(De),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return qt._isInitialized=!0,qt.trigger=ct,ct.append(De),qt}}return ot.\u0275fac=function(ct){return new(ct||ot)},ot.\u0275prov=l.Yz7({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})();class Ze{constructor(ht,ct,De){this._button=ht,this._globalRippleOptions=ct,this._setRippleConfig(ct,De)}_setRippleConfig(ht,ct){this.rippleConfig=ht||{},"NoopAnimations"===ct&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const Rt=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],At=(0,v.pj)((0,v.Id)((0,v.Kr)(class{constructor(ot){this._elementRef=ot}})));let li=(()=>{class ot extends At{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(ct){this._ripple=ct}constructor(ct,De,qt,Zt){super(ct),this._platform=De,this._ngZone=qt,this._animationMode=Zt,this._focusMonitor=(0,l.f3M)(ae.tE),this._rippleLoader=(0,l.f3M)(Re),this._isFab=!1;const ei=ct.nativeElement.classList;for(const Xe of Rt)this._hasHostAttributes(Xe.selector)&&Xe.mdcClasses.forEach(St=>{ei.add(St)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(ct="program",De){ct?this._focusMonitor.focusVia(this._elementRef.nativeElement,ct,De):this._elementRef.nativeElement.focus(De)}_hasHostAttributes(...ct){return ct.some(De=>this._elementRef.nativeElement.hasAttribute(De))}}return ot.\u0275fac=function(ct){l.$Z()},ot.\u0275dir=l.lG2({type:ot,features:[l.qOj,l.TTD]}),ot})(),Si=(()=>{class ot extends li{constructor(ct,De,qt,Zt){super(ct,De,qt,Zt),this._haltDisabledEvents=ei=>{this.disabled&&(ei.preventDefault(),ei.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return ot.\u0275fac=function(ct){l.$Z()},ot.\u0275dir=l.lG2({type:ot,features:[l.qOj]}),ot})(),En=(()=>{class ot extends li{constructor(ct,De,qt,Zt){super(ct,De,qt,Zt)}}return ot.\u0275fac=function(ct){return new(ct||ot)(l.Y36(l.SBq),l.Y36(M.t4),l.Y36(l.R0b),l.Y36(l.QbO,8))},ot.\u0275cmp=l.Xpm({type:ot,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(ct,De){2&ct&&(l.uIk("disabled",De.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===De._animationMode)("mat-unthemed",!De.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:Ge,ngContentSelectors:Ye,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(ct,De){1&ct&&(l.F$t(ke),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)),2&ct&&l.ekj("mdc-button__ripple",!De._isFab)("mdc-fab__ripple",De._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),ot})(),Vn=(()=>{class ot extends Si{constructor(ct,De,qt,Zt){super(ct,De,qt,Zt)}}return ot.\u0275fac=function(ct){return new(ct||ot)(l.Y36(l.SBq),l.Y36(M.t4),l.Y36(l.R0b),l.Y36(l.QbO,8))},ot.\u0275cmp=l.Xpm({type:ot,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:9,hostBindings:function(ct,De){2&ct&&(l.uIk("disabled",De.disabled||null)("tabindex",De.disabled?-1:De.tabIndex)("aria-disabled",De.disabled.toString()),l.ekj("_mat-animation-noopable","NoopAnimations"===De._animationMode)("mat-unthemed",!De.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[l.qOj],attrs:Ge,ngContentSelectors:Ye,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(ct,De){1&ct&&(l.F$t(ke),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)),2&ct&&l.ekj("mdc-button__ripple",!De._isFab)("mdc-fab__ripple",De._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',it],encapsulation:2,changeDetection:0}),ot})();const hn=new l.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:Zn});function Zn(){return{color:"accent"}}const In=Zn();let xt=(()=>{class ot extends li{get extended(){return this._extended}set extended(ct){this._extended=(0,ie.Ig)(ct)}constructor(ct,De,qt,Zt,ei){super(ct,De,qt,Zt),this._options=ei,this._isFab=!0,this._options=this._options||In,this.color=this.defaultColor=this._options.color||In.color}}return ot.\u0275fac=function(ct){return new(ct||ot)(l.Y36(l.SBq),l.Y36(M.t4),l.Y36(l.R0b),l.Y36(l.QbO,8),l.Y36(hn,8))},ot.\u0275cmp=l.Xpm({type:ot,selectors:[["button","mat-fab",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:11,hostBindings:function(ct,De){2&ct&&(l.uIk("disabled",De.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===De._animationMode)("mat-unthemed",!De.color)("mat-mdc-button-base",!0)("mdc-fab--extended",De.extended)("mat-mdc-extended-fab",De.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[l.qOj],attrs:Le,ngContentSelectors:Ye,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(ct,De){1&ct&&(l.F$t(ke),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)),2&ct&&l.ekj("mdc-button__ripple",!De._isFab)("mdc-fab__ripple",De._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),ot})(),Et=(()=>{class ot extends li{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(ct,De,qt,Zt){super(ct,De,qt,Zt)}}return ot.\u0275fac=function(ct){return new(ct||ot)(l.Y36(l.SBq),l.Y36(M.t4),l.Y36(l.R0b),l.Y36(l.QbO,8))},ot.\u0275cmp=l.Xpm({type:ot,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(ct,De){2&ct&&(l.uIk("disabled",De.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===De._animationMode)("mat-unthemed",!De.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:ut,ngContentSelectors:bt,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(ct,De){1&ct&&(l.F$t(),l._UZ(0,"span",0),l.Hsn(1),l._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',it],encapsulation:2,changeDetection:0}),ot})(),je=(()=>{class ot{}return ot.\u0275fac=function(ct){return new(ct||ot)},ot.\u0275mod=l.oAB({type:ot}),ot.\u0275inj=l.cJS({imports:[v.BQ,v.si,v.BQ]}),ot})()},3680:(gi,ft,j)=>{"use strict";j.d(ft,{rD:()=>ht,K7:()=>Ut,HF:()=>Ne,Y2:()=>se,BQ:()=>gt,ey:()=>Wi,Ng:()=>vt,us:()=>ne,wG:()=>Ce,si:()=>Ie,IR:()=>Mn,CB:()=>_t,jH:()=>mi,pj:()=>Li,Kr:()=>Si,Id:()=>Kt,FD:()=>Vn,dB:()=>hn,sb:()=>En});var M=j(5879),l=j(7849),ae=j(9388),$e=j(6814),ie=j(2831),Ge=j(2495),ke=j(5592),Ye=j(8645),Ve=j(6028);const nt=["text"];function Qe(q,B){if(1&q&&M._UZ(0,"mat-pseudo-checkbox",6),2&q){const U=M.oxw();M.Q6J("disabled",U.disabled)("state",U.selected?"checked":"unchecked")}}function ut(q,B){if(1&q&&M._UZ(0,"mat-pseudo-checkbox",7),2&q){const U=M.oxw();M.Q6J("disabled",U.disabled)}}function bt(q,B){if(1&q&&(M.TgZ(0,"span",8),M._uU(1),M.qZA()),2&q){const U=M.oxw();M.xp6(1),M.hij("(",U.group.label,")")}}const Nt=[[["mat-icon"]],"*"],ti=["mat-icon","*"],Oe=new M.OlP("mat-sanity-checks",{providedIn:"root",factory:function Ze(){return!0}});let gt=(()=>{class q{constructor(U,ee,fe){this._sanityChecks=ee,this._document=fe,this._hasDoneGlobalChecks=!1,U._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(U){return!(0,ie.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[U])}}return q.\u0275fac=function(U){return new(U||q)(M.LFG(l.qm),M.LFG(Oe,8),M.LFG($e.K0))},q.\u0275mod=M.oAB({type:q}),q.\u0275inj=M.cJS({imports:[ae.vT,ae.vT]}),q})();function Kt(q){return class extends q{get disabled(){return this._disabled}set disabled(B){this._disabled=(0,Ge.Ig)(B)}constructor(...B){super(...B),this._disabled=!1}}}function Li(q,B){return class extends q{get color(){return this._color}set color(U){const ee=U||this.defaultColor;ee!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),ee&&this._elementRef.nativeElement.classList.add(`mat-${ee}`),this._color=ee)}constructor(...U){super(...U),this.defaultColor=B,this.color=B}}}function Si(q){return class extends q{get disableRipple(){return this._disableRipple}set disableRipple(B){this._disableRipple=(0,Ge.Ig)(B)}constructor(...B){super(...B),this._disableRipple=!1}}}function En(q,B=0){return class extends q{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(U){this._tabIndex=null!=U?(0,Ge.su)(U):this.defaultTabIndex}constructor(...U){super(...U),this._tabIndex=B,this.defaultTabIndex=B}}}function Vn(q){return class extends q{updateErrorState(){const B=this.errorState,Ae=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);Ae!==B&&(this.errorState=Ae,this.stateChanges.next())}constructor(...B){super(...B),this.errorState=!1}}}function hn(q){return class extends q{constructor(...B){super(...B),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new ke.y(U=>{this._isInitialized?this._notifySubscriber(U):this._pendingSubscribers.push(U)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(B){B.next(),B.complete()}}}let ht=(()=>{class q{isErrorState(U,ee){return!!(U&&U.invalid&&(U.touched||ee&&ee.submitted))}}return q.\u0275fac=function(U){return new(U||q)},q.\u0275prov=M.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})();class ei{constructor(B,U,ee,fe=!1){this._renderer=B,this.element=U,this.config=ee,this._animationForciblyDisabledThroughCss=fe,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Xe=(0,ie.i$)({passive:!0,capture:!0});class St{constructor(){this._events=new Map,this._delegateEventHandler=B=>{const U=(0,ie.sA)(B);U&&this._events.get(B.type)?.forEach((ee,fe)=>{(fe===U||fe.contains(U))&&ee.forEach(Ae=>Ae.handleEvent(B))})}}addHandler(B,U,ee,fe){const Ae=this._events.get(U);if(Ae){const pe=Ae.get(ee);pe?pe.add(fe):Ae.set(ee,new Set([fe]))}else this._events.set(U,new Map([[ee,new Set([fe])]])),B.runOutsideAngular(()=>{document.addEventListener(U,this._delegateEventHandler,Xe)})}removeHandler(B,U,ee){const fe=this._events.get(B);if(!fe)return;const Ae=fe.get(U);Ae&&(Ae.delete(ee),0===Ae.size&&fe.delete(U),0===fe.size&&(this._events.delete(B),document.removeEventListener(B,this._delegateEventHandler,Xe)))}}const yi={enterDuration:225,exitDuration:150},Zi=(0,ie.i$)({passive:!0,capture:!0}),An=["mousedown","touchstart"],vn=["mouseup","mouseleave","touchend","touchcancel"];class Mn{constructor(B,U,ee,fe){this._target=B,this._ngZone=U,this._platform=fe,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,fe.isBrowser&&(this._containerElement=(0,Ge.fI)(ee))}fadeInRipple(B,U,ee={}){const fe=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Ae={...yi,...ee.animation};ee.centered&&(B=fe.left+fe.width/2,U=fe.top+fe.height/2);const pe=ee.radius||function Pe(q,B,U){const ee=Math.max(Math.abs(q-U.left),Math.abs(q-U.right)),fe=Math.max(Math.abs(B-U.top),Math.abs(B-U.bottom));return Math.sqrt(ee*ee+fe*fe)}(B,U,fe),oe=B-fe.left,X=U-fe.top,he=Ae.enterDuration,et=document.createElement("div");et.classList.add("mat-ripple-element"),et.style.left=oe-pe+"px",et.style.top=X-pe+"px",et.style.height=2*pe+"px",et.style.width=2*pe+"px",null!=ee.color&&(et.style.backgroundColor=ee.color),et.style.transitionDuration=`${he}ms`,this._containerElement.appendChild(et);const lt=window.getComputedStyle(et),Se=lt.transitionDuration,de="none"===lt.transitionProperty||"0s"===Se||"0s, 0s"===Se||0===fe.width&&0===fe.height,Ee=new ei(this,et,ee,de);et.style.transform="scale3d(1, 1, 1)",Ee.state=0,ee.persistent||(this._mostRecentTransientRipple=Ee);let tt=null;return!de&&(he||Ae.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Tt=()=>this._finishRippleTransition(Ee),Ke=()=>this._destroyRipple(Ee);et.addEventListener("transitionend",Tt),et.addEventListener("transitioncancel",Ke),tt={onTransitionEnd:Tt,onTransitionCancel:Ke}}),this._activeRipples.set(Ee,tt),(de||!he)&&this._finishRippleTransition(Ee),Ee}fadeOutRipple(B){if(2===B.state||3===B.state)return;const U=B.element,ee={...yi,...B.config.animation};U.style.transitionDuration=`${ee.exitDuration}ms`,U.style.opacity="0",B.state=2,(B._animationForciblyDisabledThroughCss||!ee.exitDuration)&&this._finishRippleTransition(B)}fadeOutAll(){this._getActiveRipples().forEach(B=>B.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(B=>{B.config.persistent||B.fadeOut()})}setupTriggerEvents(B){const U=(0,Ge.fI)(B);!this._platform.isBrowser||!U||U===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=U,An.forEach(ee=>{Mn._eventManager.addHandler(this._ngZone,ee,U,this)}))}handleEvent(B){"mousedown"===B.type?this._onMousedown(B):"touchstart"===B.type?this._onTouchStart(B):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{vn.forEach(U=>{this._triggerElement.addEventListener(U,this,Zi)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(B){0===B.state?this._startFadeOutTransition(B):2===B.state&&this._destroyRipple(B)}_startFadeOutTransition(B){const U=B===this._mostRecentTransientRipple,{persistent:ee}=B.config;B.state=1,!ee&&(!U||!this._isPointerDown)&&B.fadeOut()}_destroyRipple(B){const U=this._activeRipples.get(B)??null;this._activeRipples.delete(B),this._activeRipples.size||(this._containerRect=null),B===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),B.state=3,null!==U&&(B.element.removeEventListener("transitionend",U.onTransitionEnd),B.element.removeEventListener("transitioncancel",U.onTransitionCancel)),B.element.remove()}_onMousedown(B){const U=(0,l.X6)(B),ee=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!U&&!ee&&(this._isPointerDown=!0,this.fadeInRipple(B.clientX,B.clientY,this._target.rippleConfig))}_onTouchStart(B){if(!this._target.rippleDisabled&&!(0,l.yG)(B)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const U=B.changedTouches;if(U)for(let ee=0;ee<U.length;ee++)this.fadeInRipple(U[ee].clientX,U[ee].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(B=>{!B.config.persistent&&(1===B.state||B.config.terminateOnPointerUp&&0===B.state)&&B.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const B=this._triggerElement;B&&(An.forEach(U=>Mn._eventManager.removeHandler(U,B,this)),this._pointerUpEventsRegistered&&vn.forEach(U=>B.removeEventListener(U,this,Zi)))}}Mn._eventManager=new St;const se=new M.OlP("mat-ripple-global-options");let Ce=(()=>{class q{get disabled(){return this._disabled}set disabled(U){U&&this.fadeOutAllNonPersistent(),this._disabled=U,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(U){this._trigger=U,this._setupTriggerEventsIfEnabled()}constructor(U,ee,fe,Ae,pe){this._elementRef=U,this._animationMode=pe,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Ae||{},this._rippleRenderer=new Mn(this,ee,U,fe)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(U,ee=0,fe){return"number"==typeof U?this._rippleRenderer.fadeInRipple(U,ee,{...this.rippleConfig,...fe}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...U})}}return q.\u0275fac=function(U){return new(U||q)(M.Y36(M.SBq),M.Y36(M.R0b),M.Y36(ie.t4),M.Y36(se,8),M.Y36(M.QbO,8))},q.\u0275dir=M.lG2({type:q,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(U,ee){2&U&&M.ekj("mat-ripple-unbounded",ee.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),q})(),Ie=(()=>{class q{}return q.\u0275fac=function(U){return new(U||q)},q.\u0275mod=M.oAB({type:q}),q.\u0275inj=M.cJS({imports:[gt,gt]}),q})(),Te=(()=>{class q{constructor(U){this._animationMode=U,this.state="unchecked",this.disabled=!1,this.appearance="full"}}return q.\u0275fac=function(U){return new(U||q)(M.Y36(M.QbO,8))},q.\u0275cmp=M.Xpm({type:q,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(U,ee){2&U&&M.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===ee.state)("mat-pseudo-checkbox-checked","checked"===ee.state)("mat-pseudo-checkbox-disabled",ee.disabled)("mat-pseudo-checkbox-minimal","minimal"===ee.appearance)("mat-pseudo-checkbox-full","full"===ee.appearance)("_mat-animation-noopable","NoopAnimations"===ee._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(U,ee){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0}),q})(),ne=(()=>{class q{}return q.\u0275fac=function(U){return new(U||q)},q.\u0275mod=M.oAB({type:q}),q.\u0275inj=M.cJS({imports:[gt]}),q})();const Ne=new M.OlP("MAT_OPTION_PARENT_COMPONENT"),Ut=new M.OlP("MatOptgroup");let Ji=0;class en{constructor(B,U=!1){this.source=B,this.isUserInput=U}}let cn=(()=>{class q{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(U){this._disabled=(0,Ge.Ig)(U)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(U,ee,fe,Ae){this._element=U,this._changeDetectorRef=ee,this._parent=fe,this.group=Ae,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Ji++,this.onSelectionChange=new M.vpe,this._stateChanges=new Ye.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(U,ee){const fe=this._getHostElement();"function"==typeof fe.focus&&fe.focus(ee)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(U){(U.keyCode===Ve.K5||U.keyCode===Ve.L_)&&!(0,Ve.Vb)(U)&&(this._selectViaInteraction(),U.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const U=this.viewValue;U!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=U)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(U=!1){this.onSelectionChange.emit(new en(this,U))}}return q.\u0275fac=function(U){M.$Z()},q.\u0275dir=M.lG2({type:q,viewQuery:function(U,ee){if(1&U&&M.Gf(nt,7),2&U){let fe;M.iGM(fe=M.CRH())&&(ee._text=fe.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),q})(),Wi=(()=>{class q extends cn{constructor(U,ee,fe,Ae){super(U,ee,fe,Ae)}}return q.\u0275fac=function(U){return new(U||q)(M.Y36(M.SBq),M.Y36(M.sBO),M.Y36(Ne,8),M.Y36(Ut,8))},q.\u0275cmp=M.Xpm({type:q,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(U,ee){1&U&&M.NdJ("click",function(){return ee._selectViaInteraction()})("keydown",function(Ae){return ee._handleKeydown(Ae)}),2&U&&(M.Ikx("id",ee.id),M.uIk("aria-selected",ee.selected)("aria-disabled",ee.disabled.toString()),M.ekj("mdc-list-item--selected",ee.selected)("mat-mdc-option-multiple",ee.multiple)("mat-mdc-option-active",ee.active)("mdc-list-item--disabled",ee.disabled))},exportAs:["matOption"],features:[M.qOj],ngContentSelectors:ti,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(U,ee){1&U&&(M.F$t(Nt),M.YNc(0,Qe,1,2,"mat-pseudo-checkbox",0),M.Hsn(1),M.TgZ(2,"span",1,2),M.Hsn(4,1),M.qZA(),M.YNc(5,ut,1,1,"mat-pseudo-checkbox",3),M.YNc(6,bt,2,1,"span",4),M._UZ(7,"div",5)),2&U&&(M.Q6J("ngIf",ee.multiple),M.xp6(5),M.Q6J("ngIf",!ee.multiple&&ee.selected&&!ee.hideSingleSelectionIndicator),M.xp6(1),M.Q6J("ngIf",ee.group&&ee.group._inert),M.xp6(1),M.Q6J("matRippleTrigger",ee._getHostElement())("matRippleDisabled",ee.disabled||ee.disableRipple))},dependencies:[Ce,$e.O5,Te],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),q})();function _t(q,B,U){if(U.length){let ee=B.toArray(),fe=U.toArray(),Ae=0;for(let pe=0;pe<q+1;pe++)ee[pe].group&&ee[pe].group===fe[Ae]&&Ae++;return Ae}return 0}function mi(q,B,U,ee){return q<U?q:q+B>U+ee?Math.max(0,q-ee+B):U}let vt=(()=>{class q{}return q.\u0275fac=function(U){return new(U||q)},q.\u0275mod=M.oAB({type:q}),q.\u0275inj=M.cJS({imports:[Ie,$e.ez,gt,ne]}),q})()},4170:(gi,ft,j)=>{"use strict";j.d(ft,{G_:()=>dt,KE:()=>cn,Eo:()=>Ie,lN:()=>Wi,R9:()=>yi});var M=j(5879),l=j(9388),ae=j(2831),v=j(7394),$e=j(8645),ie=j(3019),Ge=j(9773),ke=j(5592),Ye=j(2181),Ve=j(940);class Le{constructor(mi){this._box=mi,this._destroyed=new $e.x,this._resizeSubject=new $e.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(vt=>this._resizeSubject.next(vt)))}observe(mi){return this._elementObservables.has(mi)||this._elementObservables.set(mi,new ke.y(vt=>{const q=this._resizeSubject.subscribe(vt);return this._resizeObserver?.observe(mi,{box:this._box}),()=>{this._resizeObserver?.unobserve(mi),q.unsubscribe(),this._elementObservables.delete(mi)}}).pipe((0,Ye.h)(vt=>vt.some(q=>q.target===mi)),(0,Ve.d)({bufferSize:1,refCount:!0}),(0,Ge.R)(this._destroyed))),this._elementObservables.get(mi)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let nt=(()=>{class _t{constructor(){this._observers=new Map,this._ngZone=(0,M.f3M)(M.R0b)}ngOnDestroy(){for(const[,vt]of this._observers)vt.destroy();this._observers.clear()}observe(vt,q){const B=q?.box||"content-box";return this._observers.has(B)||this._observers.set(B,new Le(B)),this._observers.get(B).observe(vt)}}return _t.\u0275fac=function(vt){return new(vt||_t)},_t.\u0275prov=M.Yz7({token:_t,factory:_t.\u0275fac,providedIn:"root"}),_t})();var Qe=j(2495),ut=j(6825),bt=j(6814),Nt=j(7131),ti=j(3680);const xi=["notch"],Qt=["matFormFieldNotchedOutline",""],Re=["*"],Ze=["textField"],Oe=["iconPrefixContainer"],gt=["textPrefixContainer"];function Rt(_t,mi){1&_t&&M._UZ(0,"span",19)}function At(_t,mi){if(1&_t&&(M.TgZ(0,"label",17),M.Hsn(1,1),M.YNc(2,Rt,1,0,"span",18),M.qZA()),2&_t){const vt=M.oxw(2);M.Q6J("floating",vt._shouldLabelFloat())("monitorResize",vt._hasOutline())("id",vt._labelId),M.uIk("for",vt._control.id)("aria-owns",vt._control.id),M.xp6(2),M.Q6J("ngIf",!vt.hideRequiredMarker&&vt._control.required)}}function li(_t,mi){if(1&_t&&M.YNc(0,At,3,6,"label",16),2&_t){const vt=M.oxw();M.Q6J("ngIf",vt._hasFloatingLabel())}}function Kt(_t,mi){1&_t&&M._UZ(0,"div",20)}function Li(_t,mi){}function Si(_t,mi){if(1&_t&&M.YNc(0,Li,0,0,"ng-template",22),2&_t){M.oxw(2);const vt=M.MAs(1);M.Q6J("ngTemplateOutlet",vt)}}function En(_t,mi){if(1&_t&&(M.TgZ(0,"div",21),M.YNc(1,Si,1,1,"ng-template",9),M.qZA()),2&_t){const vt=M.oxw();M.Q6J("matFormFieldNotchedOutlineOpen",vt._shouldLabelFloat()),M.xp6(1),M.Q6J("ngIf",!vt._forceDisplayInfixLabel())}}function Vn(_t,mi){1&_t&&(M.TgZ(0,"div",23,24),M.Hsn(2,2),M.qZA())}function hn(_t,mi){1&_t&&(M.TgZ(0,"div",25,26),M.Hsn(2,3),M.qZA())}function Zn(_t,mi){}function In(_t,mi){if(1&_t&&M.YNc(0,Zn,0,0,"ng-template",22),2&_t){M.oxw();const vt=M.MAs(1);M.Q6J("ngTemplateOutlet",vt)}}function wt(_t,mi){1&_t&&(M.TgZ(0,"div",27),M.Hsn(1,4),M.qZA())}function xt(_t,mi){1&_t&&(M.TgZ(0,"div",28),M.Hsn(1,5),M.qZA())}function kt(_t,mi){1&_t&&M._UZ(0,"div",29)}function Ft(_t,mi){if(1&_t&&(M.TgZ(0,"div",30),M.Hsn(1,6),M.qZA()),2&_t){const vt=M.oxw();M.Q6J("@transitionMessages",vt._subscriptAnimationState)}}function Jt(_t,mi){if(1&_t&&(M.TgZ(0,"mat-hint",34),M._uU(1),M.qZA()),2&_t){const vt=M.oxw(2);M.Q6J("id",vt._hintLabelId),M.xp6(1),M.Oqu(vt.hintLabel)}}function Et(_t,mi){if(1&_t&&(M.TgZ(0,"div",31),M.YNc(1,Jt,2,2,"mat-hint",32),M.Hsn(2,7),M._UZ(3,"div",33),M.Hsn(4,8),M.qZA()),2&_t){const vt=M.oxw();M.Q6J("@transitionMessages",vt._subscriptAnimationState),M.xp6(1),M.Q6J("ngIf",vt.hintLabel)}}const hi=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],je=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let ot=(()=>{class _t{}return _t.\u0275fac=function(vt){return new(vt||_t)},_t.\u0275dir=M.lG2({type:_t,selectors:[["mat-label"]]}),_t})();const ct=new M.OlP("MatError");let qt=0,Zt=(()=>{class _t{constructor(){this.align="start",this.id="mat-mdc-hint-"+qt++}}return _t.\u0275fac=function(vt){return new(vt||_t)},_t.\u0275dir=M.lG2({type:_t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(vt,q){2&vt&&(M.Ikx("id",q.id),M.uIk("align",null),M.ekj("mat-mdc-form-field-hint-end","end"===q.align))},inputs:{align:"align",id:"id"}}),_t})();const ei=new M.OlP("MatPrefix"),St=new M.OlP("MatSuffix");let yi=(()=>{class _t{constructor(){this._isText=!1}set _isTextSelector(vt){this._isText=!0}}return _t.\u0275fac=function(vt){return new(vt||_t)},_t.\u0275dir=M.lG2({type:_t,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[M._Bn([{provide:St,useExisting:_t}])]}),_t})();const gn=new M.OlP("FloatingLabelParent");let Zi=(()=>{class _t{get floating(){return this._floating}set floating(vt){this._floating=vt,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(vt){this._monitorResize=vt,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(vt){this._elementRef=vt,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,M.f3M)(nt),this._ngZone=(0,M.f3M)(M.R0b),this._parent=(0,M.f3M)(gn),this._resizeSubscription=new v.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function An(_t){if(null!==_t.offsetParent)return _t.scrollWidth;const vt=_t.cloneNode(!0);vt.style.setProperty("position","absolute"),vt.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(vt);const q=vt.scrollWidth;return vt.remove(),q}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}}return _t.\u0275fac=function(vt){return new(vt||_t)(M.Y36(M.SBq))},_t.\u0275dir=M.lG2({type:_t,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(vt,q){2&vt&&M.ekj("mdc-floating-label--float-above",q.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}}),_t})();const vn="mdc-line-ripple--active",Mn="mdc-line-ripple--deactivating";let Pe=(()=>{class _t{constructor(vt,q){this._elementRef=vt,this._handleTransitionEnd=B=>{const U=this._elementRef.nativeElement.classList,ee=U.contains(Mn);"opacity"===B.propertyName&&ee&&U.remove(vn,Mn)},q.runOutsideAngular(()=>{vt.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const vt=this._elementRef.nativeElement.classList;vt.remove(Mn),vt.add(vn)}deactivate(){this._elementRef.nativeElement.classList.add(Mn)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return _t.\u0275fac=function(vt){return new(vt||_t)(M.Y36(M.SBq),M.Y36(M.R0b))},_t.\u0275dir=M.lG2({type:_t,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),_t})(),se=(()=>{class _t{constructor(vt,q){this._elementRef=vt,this._ngZone=q,this.open=!1}ngAfterViewInit(){const vt=this._elementRef.nativeElement.querySelector(".mdc-floating-label");vt?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(vt.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>vt.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(vt){this._notch.nativeElement.style.width=this.open&&vt?`calc(${vt}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}}return _t.\u0275fac=function(vt){return new(vt||_t)(M.Y36(M.SBq),M.Y36(M.R0b))},_t.\u0275cmp=M.Xpm({type:_t,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(vt,q){if(1&vt&&M.Gf(xi,5),2&vt){let B;M.iGM(B=M.CRH())&&(q._notch=B.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(vt,q){2&vt&&M.ekj("mdc-notched-outline--notched",q.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:Qt,ngContentSelectors:Re,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(vt,q){1&vt&&(M.F$t(),M._UZ(0,"div",0),M.TgZ(1,"div",1,2),M.Hsn(3),M.qZA(),M._UZ(4,"div",3))},encapsulation:2,changeDetection:0}),_t})();const Ce={transitionMessages:(0,ut.X$)("transitionMessages",[(0,ut.SB)("enter",(0,ut.oB)({opacity:1,transform:"translateY(0%)"})),(0,ut.eR)("void => enter",[(0,ut.oB)({opacity:0,transform:"translateY(-5px)"}),(0,ut.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ie=(()=>{class _t{}return _t.\u0275fac=function(vt){return new(vt||_t)},_t.\u0275dir=M.lG2({type:_t}),_t})();const dt=new M.OlP("MatFormField"),jt=new M.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let Xt=0,cn=(()=>{class _t{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(vt){this._hideRequiredMarker=(0,Qe.Ig)(vt)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(vt){vt!==this._floatLabel&&(this._floatLabel=vt,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(vt){const q=this._appearance;this._appearance=vt||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==q&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(vt){this._subscriptSizing=vt||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(vt){this._hintLabel=vt,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(vt){this._explicitFormFieldControl=vt}constructor(vt,q,B,U,ee,fe,Ae,pe){this._elementRef=vt,this._changeDetectorRef=q,this._ngZone=B,this._dir=U,this._platform=ee,this._defaults=fe,this._animationMode=Ae,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+Xt++,this._hintLabelId="mat-mdc-hint-"+Xt++,this._subscriptAnimationState="",this._destroyed=new $e.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,fe&&(fe.appearance&&(this.appearance=fe.appearance),this._hideRequiredMarker=!!fe?.hideRequiredMarker,fe.color&&(this.color=fe.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const vt=this._control;vt.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${vt.controlType}`),vt.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),vt.ngControl&&vt.ngControl.valueChanges&&vt.ngControl.valueChanges.pipe((0,Ge.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(vt=>!vt._isText),this._hasTextPrefix=!!this._prefixChildren.find(vt=>vt._isText),this._hasIconSuffix=!!this._suffixChildren.find(vt=>!vt._isText),this._hasTextSuffix=!!this._suffixChildren.find(vt=>vt._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,ie.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Ge.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,Ge.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(vt){const q=this._control?this._control.ngControl:null;return q&&q[vt]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let vt=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&vt.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const q=this._hintChildren?this._hintChildren.find(U=>"start"===U.align):null,B=this._hintChildren?this._hintChildren.find(U=>"end"===U.align):null;q?vt.push(q.id):this._hintLabel&&vt.push(this._hintLabelId),B&&vt.push(B.id)}else this._errorChildren&&vt.push(...this._errorChildren.map(q=>q.id));this._control.setDescribedByIds(vt)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const vt=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(vt.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const q=this._iconPrefixContainer?.nativeElement,B=this._textPrefixContainer?.nativeElement,U=q?.getBoundingClientRect().width??0,ee=B?.getBoundingClientRect().width??0;vt.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${U+ee}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const vt=this._elementRef.nativeElement;if(vt.getRootNode){const q=vt.getRootNode();return q&&q!==vt}return document.documentElement.contains(vt)}}return _t.\u0275fac=function(vt){return new(vt||_t)(M.Y36(M.SBq),M.Y36(M.sBO),M.Y36(M.R0b),M.Y36(l.Is),M.Y36(ae.t4),M.Y36(jt,8),M.Y36(M.QbO,8),M.Y36(bt.K0))},_t.\u0275cmp=M.Xpm({type:_t,selectors:[["mat-form-field"]],contentQueries:function(vt,q,B){if(1&vt&&(M.Suo(B,ot,5),M.Suo(B,ot,7),M.Suo(B,Ie,5),M.Suo(B,ei,5),M.Suo(B,St,5),M.Suo(B,ct,5),M.Suo(B,Zt,5)),2&vt){let U;M.iGM(U=M.CRH())&&(q._labelChildNonStatic=U.first),M.iGM(U=M.CRH())&&(q._labelChildStatic=U.first),M.iGM(U=M.CRH())&&(q._formFieldControl=U.first),M.iGM(U=M.CRH())&&(q._prefixChildren=U),M.iGM(U=M.CRH())&&(q._suffixChildren=U),M.iGM(U=M.CRH())&&(q._errorChildren=U),M.iGM(U=M.CRH())&&(q._hintChildren=U)}},viewQuery:function(vt,q){if(1&vt&&(M.Gf(Ze,5),M.Gf(Oe,5),M.Gf(gt,5),M.Gf(Zi,5),M.Gf(se,5),M.Gf(Pe,5)),2&vt){let B;M.iGM(B=M.CRH())&&(q._textField=B.first),M.iGM(B=M.CRH())&&(q._iconPrefixContainer=B.first),M.iGM(B=M.CRH())&&(q._textPrefixContainer=B.first),M.iGM(B=M.CRH())&&(q._floatingLabel=B.first),M.iGM(B=M.CRH())&&(q._notchedOutline=B.first),M.iGM(B=M.CRH())&&(q._lineRipple=B.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(vt,q){2&vt&&M.ekj("mat-mdc-form-field-label-always-float",q._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",q._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",q._hasIconSuffix)("mat-form-field-invalid",q._control.errorState)("mat-form-field-disabled",q._control.disabled)("mat-form-field-autofilled",q._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===q._animationMode)("mat-form-field-appearance-fill","fill"==q.appearance)("mat-form-field-appearance-outline","outline"==q.appearance)("mat-form-field-hide-placeholder",q._hasFloatingLabel()&&!q._shouldLabelFloat())("mat-focused",q._control.focused)("mat-primary","accent"!==q.color&&"warn"!==q.color)("mat-accent","accent"===q.color)("mat-warn","warn"===q.color)("ng-untouched",q._shouldForward("untouched"))("ng-touched",q._shouldForward("touched"))("ng-pristine",q._shouldForward("pristine"))("ng-dirty",q._shouldForward("dirty"))("ng-valid",q._shouldForward("valid"))("ng-invalid",q._shouldForward("invalid"))("ng-pending",q._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[M._Bn([{provide:dt,useExisting:_t},{provide:gn,useExisting:_t}])],ngContentSelectors:je,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(vt,q){1&vt&&(M.F$t(hi),M.YNc(0,li,1,1,"ng-template",null,0,M.W1O),M.TgZ(2,"div",1,2),M.NdJ("click",function(U){return q._control.onContainerClick(U)}),M.YNc(4,Kt,1,0,"div",3),M.TgZ(5,"div",4),M.YNc(6,En,2,2,"div",5),M.YNc(7,Vn,3,0,"div",6),M.YNc(8,hn,3,0,"div",7),M.TgZ(9,"div",8),M.YNc(10,In,1,1,"ng-template",9),M.Hsn(11),M.qZA(),M.YNc(12,wt,2,0,"div",10),M.YNc(13,xt,2,0,"div",11),M.qZA(),M.YNc(14,kt,1,0,"div",12),M.qZA(),M.TgZ(15,"div",13),M.YNc(16,Ft,2,1,"div",14),M.YNc(17,Et,5,2,"div",15),M.qZA()),2&vt&&(M.xp6(2),M.ekj("mdc-text-field--filled",!q._hasOutline())("mdc-text-field--outlined",q._hasOutline())("mdc-text-field--no-label",!q._hasFloatingLabel())("mdc-text-field--disabled",q._control.disabled)("mdc-text-field--invalid",q._control.errorState),M.xp6(2),M.Q6J("ngIf",!q._hasOutline()&&!q._control.disabled),M.xp6(2),M.Q6J("ngIf",q._hasOutline()),M.xp6(1),M.Q6J("ngIf",q._hasIconPrefix),M.xp6(1),M.Q6J("ngIf",q._hasTextPrefix),M.xp6(2),M.Q6J("ngIf",!q._hasOutline()||q._forceDisplayInfixLabel()),M.xp6(2),M.Q6J("ngIf",q._hasTextSuffix),M.xp6(1),M.Q6J("ngIf",q._hasIconSuffix),M.xp6(1),M.Q6J("ngIf",!q._hasOutline()),M.xp6(1),M.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===q.subscriptSizing),M.Q6J("ngSwitch",q._getDisplayedMessages()),M.xp6(1),M.Q6J("ngSwitchCase","error"),M.xp6(1),M.Q6J("ngSwitchCase","hint"))},dependencies:[bt.O5,bt.tP,bt.RF,bt.n9,Zt,Zi,se,Pe],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Ce.transitionMessages]},changeDetection:0}),_t})(),Wi=(()=>{class _t{}return _t.\u0275fac=function(vt){return new(vt||_t)},_t.\u0275mod=M.oAB({type:_t}),_t.\u0275inj=M.cJS({imports:[ti.BQ,bt.ez,Nt.Q8,ti.BQ]}),_t})()},617:(gi,ft,j)=>{"use strict";j.d(ft,{Hw:()=>Ft,Ps:()=>Jt,jv:()=>At});var M=j(5879),l=j(3680),ae=j(2495),v=j(6814),$e=j(2096),ie=j(8504),Ge=j(9315),ke=j(7394),Ye=j(9397),Ve=j(7398),it=j(6306),Le=j(4716),nt=j(3020),Qe=j(8180),ut=j(9862),bt=j(6593);const Nt=["*"];let ti;function Qt(Et){return function xi(){if(void 0===ti&&(ti=null,typeof window<"u")){const Et=window;void 0!==Et.trustedTypes&&(ti=Et.trustedTypes.createPolicy("angular#components",{createHTML:hi=>hi}))}return ti}()?.createHTML(Et)||Et}function Re(Et){return Error(`Unable to find icon with the name "${Et}"`)}function Oe(Et){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${Et}".`)}function gt(Et){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${Et}".`)}class Rt{constructor(hi,je,ot){this.url=hi,this.svgText=je,this.options=ot}}let At=(()=>{class Et{constructor(je,ot,ht,ct){this._httpClient=je,this._sanitizer=ot,this._errorHandler=ct,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=ht}addSvgIcon(je,ot,ht){return this.addSvgIconInNamespace("",je,ot,ht)}addSvgIconLiteral(je,ot,ht){return this.addSvgIconLiteralInNamespace("",je,ot,ht)}addSvgIconInNamespace(je,ot,ht,ct){return this._addSvgIconConfig(je,ot,new Rt(ht,null,ct))}addSvgIconResolver(je){return this._resolvers.push(je),this}addSvgIconLiteralInNamespace(je,ot,ht,ct){const De=this._sanitizer.sanitize(M.q3G.HTML,ht);if(!De)throw gt(ht);const qt=Qt(De);return this._addSvgIconConfig(je,ot,new Rt("",qt,ct))}addSvgIconSet(je,ot){return this.addSvgIconSetInNamespace("",je,ot)}addSvgIconSetLiteral(je,ot){return this.addSvgIconSetLiteralInNamespace("",je,ot)}addSvgIconSetInNamespace(je,ot,ht){return this._addSvgIconSetConfig(je,new Rt(ot,null,ht))}addSvgIconSetLiteralInNamespace(je,ot,ht){const ct=this._sanitizer.sanitize(M.q3G.HTML,ot);if(!ct)throw gt(ot);const De=Qt(ct);return this._addSvgIconSetConfig(je,new Rt("",De,ht))}registerFontClassAlias(je,ot=je){return this._fontCssClassesByAlias.set(je,ot),this}classNameForFontAlias(je){return this._fontCssClassesByAlias.get(je)||je}setDefaultFontSetClass(...je){return this._defaultFontSetClass=je,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(je){const ot=this._sanitizer.sanitize(M.q3G.RESOURCE_URL,je);if(!ot)throw Oe(je);const ht=this._cachedIconsByUrl.get(ot);return ht?(0,$e.of)(Li(ht)):this._loadSvgIconFromConfig(new Rt(je,null)).pipe((0,Ye.b)(ct=>this._cachedIconsByUrl.set(ot,ct)),(0,Ve.U)(ct=>Li(ct)))}getNamedSvgIcon(je,ot=""){const ht=Si(ot,je);let ct=this._svgIconConfigs.get(ht);if(ct)return this._getSvgFromConfig(ct);if(ct=this._getIconConfigFromResolvers(ot,je),ct)return this._svgIconConfigs.set(ht,ct),this._getSvgFromConfig(ct);const De=this._iconSetConfigs.get(ot);return De?this._getSvgFromIconSetConfigs(je,De):(0,ie._)(Re(ht))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(je){return je.svgText?(0,$e.of)(Li(this._svgElementFromConfig(je))):this._loadSvgIconFromConfig(je).pipe((0,Ve.U)(ot=>Li(ot)))}_getSvgFromIconSetConfigs(je,ot){const ht=this._extractIconWithNameFromAnySet(je,ot);if(ht)return(0,$e.of)(ht);const ct=ot.filter(De=>!De.svgText).map(De=>this._loadSvgIconSetFromConfig(De).pipe((0,it.K)(qt=>{const ei=`Loading icon set URL: ${this._sanitizer.sanitize(M.q3G.RESOURCE_URL,De.url)} failed: ${qt.message}`;return this._errorHandler.handleError(new Error(ei)),(0,$e.of)(null)})));return(0,Ge.D)(ct).pipe((0,Ve.U)(()=>{const De=this._extractIconWithNameFromAnySet(je,ot);if(!De)throw Re(je);return De}))}_extractIconWithNameFromAnySet(je,ot){for(let ht=ot.length-1;ht>=0;ht--){const ct=ot[ht];if(ct.svgText&&ct.svgText.toString().indexOf(je)>-1){const De=this._svgElementFromConfig(ct),qt=this._extractSvgIconFromSet(De,je,ct.options);if(qt)return qt}}return null}_loadSvgIconFromConfig(je){return this._fetchIcon(je).pipe((0,Ye.b)(ot=>je.svgText=ot),(0,Ve.U)(()=>this._svgElementFromConfig(je)))}_loadSvgIconSetFromConfig(je){return je.svgText?(0,$e.of)(null):this._fetchIcon(je).pipe((0,Ye.b)(ot=>je.svgText=ot))}_extractSvgIconFromSet(je,ot,ht){const ct=je.querySelector(`[id="${ot}"]`);if(!ct)return null;const De=ct.cloneNode(!0);if(De.removeAttribute("id"),"svg"===De.nodeName.toLowerCase())return this._setSvgAttributes(De,ht);if("symbol"===De.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(De),ht);const qt=this._svgElementFromString(Qt("<svg></svg>"));return qt.appendChild(De),this._setSvgAttributes(qt,ht)}_svgElementFromString(je){const ot=this._document.createElement("DIV");ot.innerHTML=je;const ht=ot.querySelector("svg");if(!ht)throw Error("<svg> tag not found");return ht}_toSvgElement(je){const ot=this._svgElementFromString(Qt("<svg></svg>")),ht=je.attributes;for(let ct=0;ct<ht.length;ct++){const{name:De,value:qt}=ht[ct];"id"!==De&&ot.setAttribute(De,qt)}for(let ct=0;ct<je.childNodes.length;ct++)je.childNodes[ct].nodeType===this._document.ELEMENT_NODE&&ot.appendChild(je.childNodes[ct].cloneNode(!0));return ot}_setSvgAttributes(je,ot){return je.setAttribute("fit",""),je.setAttribute("height","100%"),je.setAttribute("width","100%"),je.setAttribute("preserveAspectRatio","xMidYMid meet"),je.setAttribute("focusable","false"),ot&&ot.viewBox&&je.setAttribute("viewBox",ot.viewBox),je}_fetchIcon(je){const{url:ot,options:ht}=je,ct=ht?.withCredentials??!1;if(!this._httpClient)throw function Ze(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==ot)throw Error(`Cannot fetch icon from URL "${ot}".`);const De=this._sanitizer.sanitize(M.q3G.RESOURCE_URL,ot);if(!De)throw Oe(ot);const qt=this._inProgressUrlFetches.get(De);if(qt)return qt;const Zt=this._httpClient.get(De,{responseType:"text",withCredentials:ct}).pipe((0,Ve.U)(ei=>Qt(ei)),(0,Le.x)(()=>this._inProgressUrlFetches.delete(De)),(0,nt.B)());return this._inProgressUrlFetches.set(De,Zt),Zt}_addSvgIconConfig(je,ot,ht){return this._svgIconConfigs.set(Si(je,ot),ht),this}_addSvgIconSetConfig(je,ot){const ht=this._iconSetConfigs.get(je);return ht?ht.push(ot):this._iconSetConfigs.set(je,[ot]),this}_svgElementFromConfig(je){if(!je.svgElement){const ot=this._svgElementFromString(je.svgText);this._setSvgAttributes(ot,je.options),je.svgElement=ot}return je.svgElement}_getIconConfigFromResolvers(je,ot){for(let ht=0;ht<this._resolvers.length;ht++){const ct=this._resolvers[ht](ot,je);if(ct)return En(ct)?new Rt(ct.url,null,ct.options):new Rt(ct,null)}}}return Et.\u0275fac=function(je){return new(je||Et)(M.LFG(ut.eN,8),M.LFG(bt.H7),M.LFG(v.K0,8),M.LFG(M.qLn))},Et.\u0275prov=M.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"}),Et})();function Li(Et){return Et.cloneNode(!0)}function Si(Et,hi){return Et+":"+hi}function En(Et){return!(!Et.url||!Et.options)}const Vn=(0,l.pj)(class{constructor(Et){this._elementRef=Et}}),hn=new M.OlP("MAT_ICON_DEFAULT_OPTIONS"),Zn=new M.OlP("mat-icon-location",{providedIn:"root",factory:function In(){const Et=(0,M.f3M)(v.K0),hi=Et?Et.location:null;return{getPathname:()=>hi?hi.pathname+hi.search:""}}}),wt=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],xt=wt.map(Et=>`[${Et}]`).join(", "),kt=/^url\(['"]?#(.*?)['"]?\)$/;let Ft=(()=>{class Et extends Vn{get inline(){return this._inline}set inline(je){this._inline=(0,ae.Ig)(je)}get svgIcon(){return this._svgIcon}set svgIcon(je){je!==this._svgIcon&&(je?this._updateSvgIcon(je):this._svgIcon&&this._clearSvgElement(),this._svgIcon=je)}get fontSet(){return this._fontSet}set fontSet(je){const ot=this._cleanupFontValue(je);ot!==this._fontSet&&(this._fontSet=ot,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(je){const ot=this._cleanupFontValue(je);ot!==this._fontIcon&&(this._fontIcon=ot,this._updateFontIconClasses())}constructor(je,ot,ht,ct,De,qt){super(je),this._iconRegistry=ot,this._location=ct,this._errorHandler=De,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ke.w0.EMPTY,qt&&(qt.color&&(this.color=this.defaultColor=qt.color),qt.fontSet&&(this.fontSet=qt.fontSet)),ht||je.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(je){if(!je)return["",""];const ot=je.split(":");switch(ot.length){case 1:return["",ot[0]];case 2:return ot;default:throw Error(`Invalid icon name: "${je}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const je=this._elementsWithExternalReferences;if(je&&je.size){const ot=this._location.getPathname();ot!==this._previousPath&&(this._previousPath=ot,this._prependPathToReferences(ot))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(je){this._clearSvgElement();const ot=this._location.getPathname();this._previousPath=ot,this._cacheChildrenWithExternalReferences(je),this._prependPathToReferences(ot),this._elementRef.nativeElement.appendChild(je)}_clearSvgElement(){const je=this._elementRef.nativeElement;let ot=je.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();ot--;){const ht=je.childNodes[ot];(1!==ht.nodeType||"svg"===ht.nodeName.toLowerCase())&&ht.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const je=this._elementRef.nativeElement,ot=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(ht=>ht.length>0);this._previousFontSetClass.forEach(ht=>je.classList.remove(ht)),ot.forEach(ht=>je.classList.add(ht)),this._previousFontSetClass=ot,this.fontIcon!==this._previousFontIconClass&&!ot.includes("mat-ligature-font")&&(this._previousFontIconClass&&je.classList.remove(this._previousFontIconClass),this.fontIcon&&je.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(je){return"string"==typeof je?je.trim().split(" ")[0]:je}_prependPathToReferences(je){const ot=this._elementsWithExternalReferences;ot&&ot.forEach((ht,ct)=>{ht.forEach(De=>{ct.setAttribute(De.name,`url('${je}#${De.value}')`)})})}_cacheChildrenWithExternalReferences(je){const ot=je.querySelectorAll(xt),ht=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let ct=0;ct<ot.length;ct++)wt.forEach(De=>{const qt=ot[ct],Zt=qt.getAttribute(De),ei=Zt?Zt.match(kt):null;if(ei){let Xe=ht.get(qt);Xe||(Xe=[],ht.set(qt,Xe)),Xe.push({name:De,value:ei[1]})}})}_updateSvgIcon(je){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),je){const[ot,ht]=this._splitIconName(je);ot&&(this._svgNamespace=ot),ht&&(this._svgName=ht),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(ht,ot).pipe((0,Qe.q)(1)).subscribe(ct=>this._setSvgElement(ct),ct=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${ot}:${ht}! ${ct.message}`))})}}}return Et.\u0275fac=function(je){return new(je||Et)(M.Y36(M.SBq),M.Y36(At),M.$8M("aria-hidden"),M.Y36(Zn),M.Y36(M.qLn),M.Y36(hn,8))},Et.\u0275cmp=M.Xpm({type:Et,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(je,ot){2&je&&(M.uIk("data-mat-icon-type",ot._usingFontIcon()?"font":"svg")("data-mat-icon-name",ot._svgName||ot.fontIcon)("data-mat-icon-namespace",ot._svgNamespace||ot.fontSet)("fontIcon",ot._usingFontIcon()?ot.fontIcon:null),M.ekj("mat-icon-inline",ot.inline)("mat-icon-no-color","primary"!==ot.color&&"accent"!==ot.color&&"warn"!==ot.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[M.qOj],ngContentSelectors:Nt,decls:1,vars:0,template:function(je,ot){1&je&&(M.F$t(),M.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),Et})(),Jt=(()=>{class Et{}return Et.\u0275fac=function(je){return new(je||Et)},Et.\u0275mod=M.oAB({type:Et}),Et.\u0275inj=M.cJS({imports:[l.BQ,l.BQ]}),Et})()},8525:(gi,ft,j)=>{"use strict";j.d(ft,{LD:()=>qt,gD:()=>De});var M=j(3651),l=j(6814),ae=j(5879),v=j(3680),$e=j(4170),ie=j(799),Ge=j(7849),ke=j(9388),Ye=j(2495),Ve=j(8337),it=j(6028),Le=j(6223),nt=j(8645),Qe=j(4911),ut=j(3019),bt=j(7921),Nt=j(4664),ti=j(8180),xi=j(2181),Qt=j(7398),Re=j(3997),Ze=j(9773),Oe=j(6825);const gt=["trigger"],Rt=["panel"];function At(Zt,ei){if(1&Zt&&(ae.TgZ(0,"span",10),ae._uU(1),ae.qZA()),2&Zt){const Xe=ae.oxw();ae.xp6(1),ae.Oqu(Xe.placeholder)}}function li(Zt,ei){if(1&Zt&&(ae.TgZ(0,"span",14),ae._uU(1),ae.qZA()),2&Zt){const Xe=ae.oxw(2);ae.xp6(1),ae.Oqu(Xe.triggerValue)}}function Kt(Zt,ei){1&Zt&&ae.Hsn(0,0,["*ngSwitchCase","true"])}function Li(Zt,ei){if(1&Zt&&(ae.TgZ(0,"span",11),ae.YNc(1,li,2,1,"span",12),ae.YNc(2,Kt,1,0,"ng-content",13),ae.qZA()),2&Zt){const Xe=ae.oxw();ae.Q6J("ngSwitch",!!Xe.customTrigger),ae.xp6(2),ae.Q6J("ngSwitchCase",!0)}}function Si(Zt,ei){if(1&Zt){const Xe=ae.EpF();ae.O4$(),ae.kcU(),ae.TgZ(0,"div",15,16),ae.NdJ("@transformPanel.done",function(yi){ae.CHM(Xe);const gn=ae.oxw();return ae.KtG(gn._panelDoneAnimatingStream.next(yi.toState))})("keydown",function(yi){ae.CHM(Xe);const gn=ae.oxw();return ae.KtG(gn._handleKeydown(yi))}),ae.Hsn(2,1),ae.qZA()}if(2&Zt){const Xe=ae.oxw();ae.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",Xe._getPanelTheme(),""),ae.Q6J("ngClass",Xe.panelClass)("@transformPanel","showing"),ae.uIk("id",Xe.id+"-panel")("aria-multiselectable",Xe.multiple)("aria-label",Xe.ariaLabel||null)("aria-labelledby",Xe._getPanelAriaLabelledby())}}const En=[[["mat-select-trigger"]],"*"],Vn=["mat-select-trigger","*"],hn={transformPanelWrap:(0,Oe.X$)("transformPanelWrap",[(0,Oe.eR)("* => void",(0,Oe.IO)("@transformPanel",[(0,Oe.pV)()],{optional:!0}))]),transformPanel:(0,Oe.X$)("transformPanel",[(0,Oe.SB)("void",(0,Oe.oB)({opacity:0,transform:"scale(1, 0.8)"})),(0,Oe.eR)("void => showing",(0,Oe.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,Oe.oB)({opacity:1,transform:"scale(1, 1)"}))),(0,Oe.eR)("* => void",(0,Oe.jt)("100ms linear",(0,Oe.oB)({opacity:0})))])};let xt=0;const kt=new ae.OlP("mat-select-scroll-strategy"),Jt=new ae.OlP("MAT_SELECT_CONFIG"),Et={provide:kt,deps:[M.aV],useFactory:function Ft(Zt){return()=>Zt.scrollStrategies.reposition()}},hi=new ae.OlP("MatSelectTrigger");class je{constructor(ei,Xe){this.source=ei,this.value=Xe}}const ot=(0,v.Kr)((0,v.sb)((0,v.Id)((0,v.FD)(class{constructor(Zt,ei,Xe,St,yi){this._elementRef=Zt,this._defaultErrorStateMatcher=ei,this._parentForm=Xe,this._parentFormGroup=St,this.ngControl=yi,this.stateChanges=new nt.x}}))));let ht=(()=>{class Zt extends ot{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(Xe){this._placeholder=Xe,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Le.kI.required)??!1}set required(Xe){this._required=(0,Ye.Ig)(Xe),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(Xe){this._multiple=(0,Ye.Ig)(Xe)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(Xe){this._disableOptionCentering=(0,Ye.Ig)(Xe)}get compareWith(){return this._compareWith}set compareWith(Xe){this._compareWith=Xe,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(Xe){this._assignValue(Xe)&&this._onChange(Xe)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(Xe){this._typeaheadDebounceInterval=(0,Ye.su)(Xe)}get id(){return this._id}set id(Xe){this._id=Xe||this._uid,this.stateChanges.next()}constructor(Xe,St,yi,gn,Zi,An,vn,Mn,Pe,se,Ce,Ie,Te,ne){super(Zi,gn,vn,Mn,se),this._viewportRuler=Xe,this._changeDetectorRef=St,this._ngZone=yi,this._dir=An,this._parentFormField=Pe,this._liveAnnouncer=Te,this._defaultOptions=ne,this._panelOpen=!1,this._compareWith=(Ne,dt)=>Ne===dt,this._uid="mat-select-"+xt++,this._triggerAriaLabelledBy=null,this._destroy=new nt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+xt++,this._panelDoneAnimatingStream=new nt.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,Qe.P)(()=>{const Ne=this.options;return Ne?Ne.changes.pipe((0,bt.O)(Ne),(0,Nt.w)(()=>(0,ut.T)(...Ne.map(dt=>dt.onSelectionChange)))):this._ngZone.onStable.pipe((0,ti.q)(1),(0,Nt.w)(()=>this.optionSelectionChanges))}),this.openedChange=new ae.vpe,this._openedStream=this.openedChange.pipe((0,xi.h)(Ne=>Ne),(0,Qt.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,xi.h)(Ne=>!Ne),(0,Qt.U)(()=>{})),this.selectionChange=new ae.vpe,this.valueChange=new ae.vpe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=ne?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=ne.typeaheadDebounceInterval),this._scrollStrategyFactory=Ie,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(Ce)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Ve.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,Re.x)(),(0,Ze.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,Ze.R)(this._destroy)).subscribe(Xe=>{Xe.added.forEach(St=>St.select()),Xe.removed.forEach(St=>St.deselect())}),this.options.changes.pipe((0,bt.O)(null),(0,Ze.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const Xe=this._getTriggerAriaLabelledby(),St=this.ngControl;if(Xe!==this._triggerAriaLabelledBy){const yi=this._elementRef.nativeElement;this._triggerAriaLabelledBy=Xe,Xe?yi.setAttribute("aria-labelledby",Xe):yi.removeAttribute("aria-labelledby")}St&&(this._previousControl!==St.control&&(void 0!==this._previousControl&&null!==St.disabled&&St.disabled!==this.disabled&&(this.disabled=St.disabled),this._previousControl=St.control),this.updateErrorState())}ngOnChanges(Xe){(Xe.disabled||Xe.userAriaDescribedBy)&&this.stateChanges.next(),Xe.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const Xe=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!Xe)return;const St=`${this.id}-panel`;this._trackedModal&&(0,Ge.iD)(this._trackedModal,"aria-owns",St),(0,Ge.Zf)(Xe,"aria-owns",St),this._trackedModal=Xe}_clearFromModal(){this._trackedModal&&((0,Ge.iD)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(Xe){this._assignValue(Xe)}registerOnChange(Xe){this._onChange=Xe}registerOnTouched(Xe){this._onTouched=Xe}setDisabledState(Xe){this.disabled=Xe,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const Xe=this._selectionModel.selected.map(St=>St.viewValue);return this._isRtl()&&Xe.reverse(),Xe.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(Xe){this.disabled||(this.panelOpen?this._handleOpenKeydown(Xe):this._handleClosedKeydown(Xe))}_handleClosedKeydown(Xe){const St=Xe.keyCode,yi=St===it.JH||St===it.LH||St===it.oh||St===it.SV,gn=St===it.K5||St===it.L_,Zi=this._keyManager;if(!Zi.isTyping()&&gn&&!(0,it.Vb)(Xe)||(this.multiple||Xe.altKey)&&yi)Xe.preventDefault(),this.open();else if(!this.multiple){const An=this.selected;Zi.onKeydown(Xe);const vn=this.selected;vn&&An!==vn&&this._liveAnnouncer.announce(vn.viewValue,1e4)}}_handleOpenKeydown(Xe){const St=this._keyManager,yi=Xe.keyCode,gn=yi===it.JH||yi===it.LH,Zi=St.isTyping();if(gn&&Xe.altKey)Xe.preventDefault(),this.close();else if(Zi||yi!==it.K5&&yi!==it.L_||!St.activeItem||(0,it.Vb)(Xe))if(!Zi&&this._multiple&&yi===it.A&&Xe.ctrlKey){Xe.preventDefault();const An=this.options.some(vn=>!vn.disabled&&!vn.selected);this.options.forEach(vn=>{vn.disabled||(An?vn.select():vn.deselect())})}else{const An=St.activeItemIndex;St.onKeydown(Xe),this._multiple&&gn&&Xe.shiftKey&&St.activeItem&&St.activeItemIndex!==An&&St.activeItem._selectViaInteraction()}else Xe.preventDefault(),St.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,ti.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(Xe){if(this.options.forEach(St=>St.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&Xe)Array.isArray(Xe),Xe.forEach(St=>this._selectOptionByValue(St)),this._sortValues();else{const St=this._selectOptionByValue(Xe);St?this._keyManager.updateActiveItem(St):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(Xe){const St=this.options.find(yi=>{if(this._selectionModel.isSelected(yi))return!1;try{return null!=yi.value&&this._compareWith(yi.value,Xe)}catch{return!1}});return St&&this._selectionModel.select(St),St}_assignValue(Xe){return!!(Xe!==this._value||this._multiple&&Array.isArray(Xe))&&(this.options&&this._setSelectionByValue(Xe),this._value=Xe,!0)}_skipPredicate(Xe){return Xe.disabled}_initKeyManager(){this._keyManager=new Ge.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const Xe=(0,ut.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,Ze.R)(Xe)).subscribe(St=>{this._onSelect(St.source,St.isUserInput),St.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,ut.T)(...this.options.map(St=>St._stateChanges)).pipe((0,Ze.R)(Xe)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(Xe,St){const yi=this._selectionModel.isSelected(Xe);null!=Xe.value||this._multiple?(yi!==Xe.selected&&(Xe.selected?this._selectionModel.select(Xe):this._selectionModel.deselect(Xe)),St&&this._keyManager.setActiveItem(Xe),this.multiple&&(this._sortValues(),St&&this.focus())):(Xe.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(Xe.value)),yi!==this._selectionModel.isSelected(Xe)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const Xe=this.options.toArray();this._selectionModel.sort((St,yi)=>this.sortComparator?this.sortComparator(St,yi,Xe):Xe.indexOf(St)-Xe.indexOf(yi)),this.stateChanges.next()}}_propagateChanges(Xe){let St=null;St=this.multiple?this.selected.map(yi=>yi.value):this.selected?this.selected.value:Xe,this._value=St,this.valueChange.emit(St),this._onChange(St),this.selectionChange.emit(this._getChangeEvent(St)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let Xe=-1;for(let St=0;St<this.options.length;St++)if(!this.options.get(St).disabled){Xe=St;break}this._keyManager.setActiveItem(Xe)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(Xe){this._elementRef.nativeElement.focus(Xe)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const Xe=this._parentFormField?.getLabelId();return this.ariaLabelledby?(Xe?Xe+" ":"")+this.ariaLabelledby:Xe}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const Xe=this._parentFormField?.getLabelId();let St=(Xe?Xe+" ":"")+this._valueId;return this.ariaLabelledby&&(St+=" "+this.ariaLabelledby),St}_panelDoneAnimating(Xe){this.openedChange.emit(Xe)}setDescribedByIds(Xe){Xe.length?this._elementRef.nativeElement.setAttribute("aria-describedby",Xe.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return Zt.\u0275fac=function(Xe){return new(Xe||Zt)(ae.Y36(ie.rL),ae.Y36(ae.sBO),ae.Y36(ae.R0b),ae.Y36(v.rD),ae.Y36(ae.SBq),ae.Y36(ke.Is,8),ae.Y36(Le.F,8),ae.Y36(Le.sg,8),ae.Y36($e.G_,8),ae.Y36(Le.a5,10),ae.$8M("tabindex"),ae.Y36(kt),ae.Y36(Ge.Kd),ae.Y36(Jt,8))},Zt.\u0275dir=ae.lG2({type:Zt,viewQuery:function(Xe,St){if(1&Xe&&(ae.Gf(gt,5),ae.Gf(Rt,5),ae.Gf(M.pI,5)),2&Xe){let yi;ae.iGM(yi=ae.CRH())&&(St.trigger=yi.first),ae.iGM(yi=ae.CRH())&&(St.panel=yi.first),ae.iGM(yi=ae.CRH())&&(St._overlayDir=yi.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[ae.qOj,ae.TTD]}),Zt})(),De=(()=>{class Zt extends ht{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=Xe=>!this.panelOpen&&Xe.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,Ze.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(Xe){const St=this.options.toArray()[Xe];if(St){const yi=this.panel.nativeElement,gn=(0,v.CB)(Xe,this.options,this.optionGroups),Zi=St._getHostElement();yi.scrollTop=0===Xe&&1===gn?0:(0,v.jH)(Zi.offsetTop,Zi.offsetHeight,yi.scrollTop,yi.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(Xe){return new je(this,Xe)}_getOverlayWidth(Xe){return"auto"===this.panelWidth?(Xe instanceof M.xu?Xe.elementRef:Xe||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(Xe){this._hideSingleSelectionIndicator=(0,Ye.Ig)(Xe),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const Xe of this.options)Xe._changeDetectorRef.markForCheck()}}return Zt.\u0275fac=function(){let ei;return function(St){return(ei||(ei=ae.n5z(Zt)))(St||Zt)}}(),Zt.\u0275cmp=ae.Xpm({type:Zt,selectors:[["mat-select"]],contentQueries:function(Xe,St,yi){if(1&Xe&&(ae.Suo(yi,hi,5),ae.Suo(yi,v.ey,5),ae.Suo(yi,v.K7,5)),2&Xe){let gn;ae.iGM(gn=ae.CRH())&&(St.customTrigger=gn.first),ae.iGM(gn=ae.CRH())&&(St.options=gn),ae.iGM(gn=ae.CRH())&&(St.optionGroups=gn)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(Xe,St){1&Xe&&ae.NdJ("keydown",function(gn){return St._handleKeydown(gn)})("focus",function(){return St._onFocus()})("blur",function(){return St._onBlur()}),2&Xe&&(ae.uIk("id",St.id)("tabindex",St.tabIndex)("aria-controls",St.panelOpen?St.id+"-panel":null)("aria-expanded",St.panelOpen)("aria-label",St.ariaLabel||null)("aria-required",St.required.toString())("aria-disabled",St.disabled.toString())("aria-invalid",St.errorState)("aria-activedescendant",St._getAriaActiveDescendant()),ae.ekj("mat-mdc-select-disabled",St.disabled)("mat-mdc-select-invalid",St.errorState)("mat-mdc-select-required",St.required)("mat-mdc-select-empty",St.empty)("mat-mdc-select-multiple",St.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[ae._Bn([{provide:$e.Eo,useExisting:Zt},{provide:v.HF,useExisting:Zt}]),ae.qOj],ngContentSelectors:Vn,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(Xe,St){if(1&Xe&&(ae.F$t(En),ae.TgZ(0,"div",0,1),ae.NdJ("click",function(){return St.toggle()}),ae.TgZ(3,"div",2),ae.YNc(4,At,2,1,"span",3),ae.YNc(5,Li,3,2,"span",4),ae.qZA(),ae.TgZ(6,"div",5)(7,"div",6),ae.O4$(),ae.TgZ(8,"svg",7),ae._UZ(9,"path",8),ae.qZA()()()(),ae.YNc(10,Si,3,9,"ng-template",9),ae.NdJ("backdropClick",function(){return St.close()})("attach",function(){return St._onAttached()})("detach",function(){return St.close()})),2&Xe){const yi=ae.MAs(1);ae.xp6(3),ae.Q6J("ngSwitch",St.empty),ae.uIk("id",St._valueId),ae.xp6(1),ae.Q6J("ngSwitchCase",!0),ae.xp6(1),ae.Q6J("ngSwitchCase",!1),ae.xp6(5),ae.Q6J("cdkConnectedOverlayPanelClass",St._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",St._scrollStrategy)("cdkConnectedOverlayOrigin",St._preferredOverlayOrigin||yi)("cdkConnectedOverlayOpen",St.panelOpen)("cdkConnectedOverlayPositions",St._positions)("cdkConnectedOverlayWidth",St._overlayWidth)}},dependencies:[l.mk,l.RF,l.n9,l.ED,M.pI,M.xu],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[hn.transformPanel]},changeDetection:0}),Zt})(),qt=(()=>{class Zt{}return Zt.\u0275fac=function(Xe){return new(Xe||Zt)},Zt.\u0275mod=ae.oAB({type:Zt}),Zt.\u0275inj=ae.cJS({providers:[Et],imports:[l.ez,M.U8,v.Ng,v.BQ,ie.ZD,$e.lN,v.Ng,v.BQ]}),Zt})()},1274:(gi,ft,j)=>{"use strict";j.d(ft,{Ye:()=>Ye,g0:()=>it});var M=j(5879),l=j(3680),ae=j(2831),v=j(6814);const $e=["*",[["mat-toolbar-row"]]],ie=["*","mat-toolbar-row"],Ge=(0,l.pj)(class{constructor(Le){this._elementRef=Le}});let ke=(()=>{class Le{}return Le.\u0275fac=function(Qe){return new(Qe||Le)},Le.\u0275dir=M.lG2({type:Le,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),Le})(),Ye=(()=>{class Le extends Ge{constructor(Qe,ut,bt){super(Qe),this._platform=ut,this._document=bt}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return Le.\u0275fac=function(Qe){return new(Qe||Le)(M.Y36(M.SBq),M.Y36(ae.t4),M.Y36(v.K0))},Le.\u0275cmp=M.Xpm({type:Le,selectors:[["mat-toolbar"]],contentQueries:function(Qe,ut,bt){if(1&Qe&&M.Suo(bt,ke,5),2&Qe){let Nt;M.iGM(Nt=M.CRH())&&(ut._toolbarRows=Nt)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(Qe,ut){2&Qe&&M.ekj("mat-toolbar-multiple-rows",ut._toolbarRows.length>0)("mat-toolbar-single-row",0===ut._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[M.qOj],ngContentSelectors:ie,decls:2,vars:0,template:function(Qe,ut){1&Qe&&(M.F$t($e),M.Hsn(0),M.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),Le})(),it=(()=>{class Le{}return Le.\u0275fac=function(Qe){return new(Qe||Le)},Le.\u0275mod=M.oAB({type:Le}),Le.\u0275inj=M.cJS({imports:[l.BQ,l.BQ]}),Le})()},6593:(gi,ft,j)=>{"use strict";j.d(ft,{Dx:()=>An,H7:()=>cn,b2:()=>Xe,q6:()=>De,se:()=>At});var M=j(5879),l=j(6814);class ae extends l.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class v extends ae{static makeCurrent(){(0,l.HT)(new v)}onAndCancel(oe,X,he){return oe.addEventListener(X,he),()=>{oe.removeEventListener(X,he)}}dispatchEvent(oe,X){oe.dispatchEvent(X)}remove(oe){oe.parentNode&&oe.parentNode.removeChild(oe)}createElement(oe,X){return(X=X||this.getDefaultDocument()).createElement(oe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(oe){return oe.nodeType===Node.ELEMENT_NODE}isShadowRoot(oe){return oe instanceof DocumentFragment}getGlobalEventTarget(oe,X){return"window"===X?window:"document"===X?oe:"body"===X?oe.body:null}getBaseHref(oe){const X=function ie(){return $e=$e||document.querySelector("base"),$e?$e.getAttribute("href"):null}();return null==X?null:function ke(pe){Ge=Ge||document.createElement("a"),Ge.setAttribute("href",pe);const oe=Ge.pathname;return"/"===oe.charAt(0)?oe:`/${oe}`}(X)}resetBaseElement(){$e=null}getUserAgent(){return window.navigator.userAgent}getCookie(oe){return(0,l.Mx)(document.cookie,oe)}}let Ge,$e=null,Ve=(()=>{class pe{build(){return new XMLHttpRequest}}return pe.\u0275fac=function(X){return new(X||pe)},pe.\u0275prov=M.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const it=new M.OlP("EventManagerPlugins");let Le=(()=>{class pe{constructor(X,he){this._zone=he,this._eventNameToPlugin=new Map,X.forEach(et=>{et.manager=this}),this._plugins=X.slice().reverse()}addEventListener(X,he,et){return this._findPluginFor(he).addEventListener(X,he,et)}getZone(){return this._zone}_findPluginFor(X){let he=this._eventNameToPlugin.get(X);if(he)return he;if(he=this._plugins.find(lt=>lt.supports(X)),!he)throw new M.vHH(5101,!1);return this._eventNameToPlugin.set(X,he),he}}return pe.\u0275fac=function(X){return new(X||pe)(M.LFG(it),M.LFG(M.R0b))},pe.\u0275prov=M.Yz7({token:pe,factory:pe.\u0275fac}),pe})();class nt{constructor(oe){this._doc=oe}}const Qe="ng-app-id";let ut=(()=>{class pe{constructor(X,he,et,lt={}){this.doc=X,this.appId=he,this.nonce=et,this.platformId=lt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,l.PM)(lt),this.resetHostNodes()}addStyles(X){for(const he of X)1===this.changeUsageCount(he,1)&&this.onStyleAdded(he)}removeStyles(X){for(const he of X)this.changeUsageCount(he,-1)<=0&&this.onStyleRemoved(he)}ngOnDestroy(){const X=this.styleNodesInDOM;X&&(X.forEach(he=>he.remove()),X.clear());for(const he of this.getAllStyles())this.onStyleRemoved(he);this.resetHostNodes()}addHost(X){this.hostNodes.add(X);for(const he of this.getAllStyles())this.addStyleToHost(X,he)}removeHost(X){this.hostNodes.delete(X)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(X){for(const he of this.hostNodes)this.addStyleToHost(he,X)}onStyleRemoved(X){const he=this.styleRef;he.get(X)?.elements?.forEach(et=>et.remove()),he.delete(X)}collectServerRenderedStyles(){const X=this.doc.head?.querySelectorAll(`style[${Qe}="${this.appId}"]`);if(X?.length){const he=new Map;return X.forEach(et=>{null!=et.textContent&&he.set(et.textContent,et)}),he}return null}changeUsageCount(X,he){const et=this.styleRef;if(et.has(X)){const lt=et.get(X);return lt.usage+=he,lt.usage}return et.set(X,{usage:he,elements:[]}),he}getStyleElement(X,he){const et=this.styleNodesInDOM,lt=et?.get(he);if(lt?.parentNode===X)return et.delete(he),lt.removeAttribute(Qe),lt;{const be=this.doc.createElement("style");return this.nonce&&be.setAttribute("nonce",this.nonce),be.textContent=he,this.platformIsServer&&be.setAttribute(Qe,this.appId),be}}addStyleToHost(X,he){const et=this.getStyleElement(X,he);X.appendChild(et);const lt=this.styleRef,be=lt.get(he)?.elements;be?be.push(et):lt.set(he,{elements:[et],usage:1})}resetHostNodes(){const X=this.hostNodes;X.clear(),X.add(this.doc.head)}}return pe.\u0275fac=function(X){return new(X||pe)(M.LFG(l.K0),M.LFG(M.AFp),M.LFG(M.Ojb,8),M.LFG(M.Lbi))},pe.\u0275prov=M.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const bt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Nt=/%COMP%/g,Ze=new M.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Rt(pe,oe){return oe.map(X=>X.replace(Nt,pe))}let At=(()=>{class pe{constructor(X,he,et,lt,be,Se,de,Ee=null){this.eventManager=X,this.sharedStylesHost=he,this.appId=et,this.removeStylesOnCompDestroy=lt,this.doc=be,this.platformId=Se,this.ngZone=de,this.nonce=Ee,this.rendererByCompId=new Map,this.platformIsServer=(0,l.PM)(Se),this.defaultRenderer=new li(X,be,de,this.platformIsServer)}createRenderer(X,he){if(!X||!he)return this.defaultRenderer;this.platformIsServer&&he.encapsulation===M.ifc.ShadowDom&&(he={...he,encapsulation:M.ifc.Emulated});const et=this.getOrCreateRenderer(X,he);return et instanceof hn?et.applyToHost(X):et instanceof Vn&&et.applyStyles(),et}getOrCreateRenderer(X,he){const et=this.rendererByCompId;let lt=et.get(he.id);if(!lt){const be=this.doc,Se=this.ngZone,de=this.eventManager,Ee=this.sharedStylesHost,tt=this.removeStylesOnCompDestroy,Tt=this.platformIsServer;switch(he.encapsulation){case M.ifc.Emulated:lt=new hn(de,Ee,he,this.appId,tt,be,Se,Tt);break;case M.ifc.ShadowDom:return new En(de,Ee,X,he,be,Se,this.nonce,Tt);default:lt=new Vn(de,Ee,he,tt,be,Se,Tt)}lt.onDestroy=()=>et.delete(he.id),et.set(he.id,lt)}return lt}ngOnDestroy(){this.rendererByCompId.clear()}}return pe.\u0275fac=function(X){return new(X||pe)(M.LFG(Le),M.LFG(ut),M.LFG(M.AFp),M.LFG(Ze),M.LFG(l.K0),M.LFG(M.Lbi),M.LFG(M.R0b),M.LFG(M.Ojb))},pe.\u0275prov=M.Yz7({token:pe,factory:pe.\u0275fac}),pe})();class li{constructor(oe,X,he,et){this.eventManager=oe,this.doc=X,this.ngZone=he,this.platformIsServer=et,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(oe,X){return X?this.doc.createElementNS(bt[X]||X,oe):this.doc.createElement(oe)}createComment(oe){return this.doc.createComment(oe)}createText(oe){return this.doc.createTextNode(oe)}appendChild(oe,X){(Si(oe)?oe.content:oe).appendChild(X)}insertBefore(oe,X,he){oe&&(Si(oe)?oe.content:oe).insertBefore(X,he)}removeChild(oe,X){oe&&oe.removeChild(X)}selectRootElement(oe,X){let he="string"==typeof oe?this.doc.querySelector(oe):oe;if(!he)throw new M.vHH(-5104,!1);return X||(he.textContent=""),he}parentNode(oe){return oe.parentNode}nextSibling(oe){return oe.nextSibling}setAttribute(oe,X,he,et){if(et){X=et+":"+X;const lt=bt[et];lt?oe.setAttributeNS(lt,X,he):oe.setAttribute(X,he)}else oe.setAttribute(X,he)}removeAttribute(oe,X,he){if(he){const et=bt[he];et?oe.removeAttributeNS(et,X):oe.removeAttribute(`${he}:${X}`)}else oe.removeAttribute(X)}addClass(oe,X){oe.classList.add(X)}removeClass(oe,X){oe.classList.remove(X)}setStyle(oe,X,he,et){et&(M.JOm.DashCase|M.JOm.Important)?oe.style.setProperty(X,he,et&M.JOm.Important?"important":""):oe.style[X]=he}removeStyle(oe,X,he){he&M.JOm.DashCase?oe.style.removeProperty(X):oe.style[X]=""}setProperty(oe,X,he){oe[X]=he}setValue(oe,X){oe.nodeValue=X}listen(oe,X,he){if("string"==typeof oe&&!(oe=(0,l.q)().getGlobalEventTarget(this.doc,oe)))throw new Error(`Unsupported event target ${oe} for event ${X}`);return this.eventManager.addEventListener(oe,X,this.decoratePreventDefault(he))}decoratePreventDefault(oe){return X=>{if("__ngUnwrap__"===X)return oe;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>oe(X)):oe(X))&&X.preventDefault()}}}function Si(pe){return"TEMPLATE"===pe.tagName&&void 0!==pe.content}class En extends li{constructor(oe,X,he,et,lt,be,Se,de){super(oe,lt,be,de),this.sharedStylesHost=X,this.hostEl=he,this.shadowRoot=he.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ee=Rt(et.id,et.styles);for(const tt of Ee){const Tt=document.createElement("style");Se&&Tt.setAttribute("nonce",Se),Tt.textContent=tt,this.shadowRoot.appendChild(Tt)}}nodeOrShadowRoot(oe){return oe===this.hostEl?this.shadowRoot:oe}appendChild(oe,X){return super.appendChild(this.nodeOrShadowRoot(oe),X)}insertBefore(oe,X,he){return super.insertBefore(this.nodeOrShadowRoot(oe),X,he)}removeChild(oe,X){return super.removeChild(this.nodeOrShadowRoot(oe),X)}parentNode(oe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(oe)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Vn extends li{constructor(oe,X,he,et,lt,be,Se,de){super(oe,lt,be,Se),this.sharedStylesHost=X,this.removeStylesOnCompDestroy=et,this.rendererUsageCount=0,this.styles=de?Rt(de,he.styles):he.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestroy&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class hn extends Vn{constructor(oe,X,he,et,lt,be,Se,de){const Ee=et+"-"+he.id;super(oe,X,he,lt,be,Se,de,Ee),this.contentAttr=function Oe(pe){return"_ngcontent-%COMP%".replace(Nt,pe)}(Ee),this.hostAttr=function gt(pe){return"_nghost-%COMP%".replace(Nt,pe)}(Ee)}applyToHost(oe){this.applyStyles(),this.setAttribute(oe,this.hostAttr,"")}createElement(oe,X){const he=super.createElement(oe,X);return super.setAttribute(he,this.contentAttr,""),he}}let Zn=(()=>{class pe extends nt{constructor(X){super(X)}supports(X){return!0}addEventListener(X,he,et){return X.addEventListener(he,et,!1),()=>this.removeEventListener(X,he,et)}removeEventListener(X,he,et){return X.removeEventListener(he,et)}}return pe.\u0275fac=function(X){return new(X||pe)(M.LFG(l.K0))},pe.\u0275prov=M.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const In=["alt","control","meta","shift"],wt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xt={alt:pe=>pe.altKey,control:pe=>pe.ctrlKey,meta:pe=>pe.metaKey,shift:pe=>pe.shiftKey};let kt=(()=>{class pe extends nt{constructor(X){super(X)}supports(X){return null!=pe.parseEventName(X)}addEventListener(X,he,et){const lt=pe.parseEventName(he),be=pe.eventCallback(lt.fullKey,et,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,l.q)().onAndCancel(X,lt.domEventName,be))}static parseEventName(X){const he=X.toLowerCase().split("."),et=he.shift();if(0===he.length||"keydown"!==et&&"keyup"!==et)return null;const lt=pe._normalizeKey(he.pop());let be="",Se=he.indexOf("code");if(Se>-1&&(he.splice(Se,1),be="code."),In.forEach(Ee=>{const tt=he.indexOf(Ee);tt>-1&&(he.splice(tt,1),be+=Ee+".")}),be+=lt,0!=he.length||0===lt.length)return null;const de={};return de.domEventName=et,de.fullKey=be,de}static matchEventFullKeyCode(X,he){let et=wt[X.key]||X.key,lt="";return he.indexOf("code.")>-1&&(et=X.code,lt="code."),!(null==et||!et)&&(et=et.toLowerCase()," "===et?et="space":"."===et&&(et="dot"),In.forEach(be=>{be!==et&&(0,xt[be])(X)&&(lt+=be+".")}),lt+=et,lt===he)}static eventCallback(X,he,et){return lt=>{pe.matchEventFullKeyCode(lt,X)&&et.runGuarded(()=>he(lt))}}static _normalizeKey(X){return"esc"===X?"escape":X}}return pe.\u0275fac=function(X){return new(X||pe)(M.LFG(l.K0))},pe.\u0275prov=M.Yz7({token:pe,factory:pe.\u0275fac}),pe})();const De=(0,M.eFA)(M._c5,"browser",[{provide:M.Lbi,useValue:l.bD},{provide:M.g9A,useValue:function je(){v.makeCurrent()},multi:!0},{provide:l.K0,useFactory:function ht(){return(0,M.RDi)(document),document},deps:[]}]),qt=new M.OlP(""),Zt=[{provide:M.rWj,useClass:class Ye{addToWindow(oe){M.dqk.getAngularTestability=(he,et=!0)=>{const lt=oe.findTestabilityInTree(he,et);if(null==lt)throw new M.vHH(5103,!1);return lt},M.dqk.getAllAngularTestabilities=()=>oe.getAllTestabilities(),M.dqk.getAllAngularRootElements=()=>oe.getAllRootElements(),M.dqk.frameworkStabilizers||(M.dqk.frameworkStabilizers=[]),M.dqk.frameworkStabilizers.push(he=>{const et=M.dqk.getAllAngularTestabilities();let lt=et.length,be=!1;const Se=function(de){be=be||de,lt--,0==lt&&he(be)};et.forEach(de=>{de.whenStable(Se)})})}findTestabilityInTree(oe,X,he){return null==X?null:oe.getTestability(X)??(he?(0,l.q)().isShadowRoot(X)?this.findTestabilityInTree(oe,X.host,!0):this.findTestabilityInTree(oe,X.parentElement,!0):null)}},deps:[]},{provide:M.lri,useClass:M.dDg,deps:[M.R0b,M.eoX,M.rWj]},{provide:M.dDg,useClass:M.dDg,deps:[M.R0b,M.eoX,M.rWj]}],ei=[{provide:M.zSh,useValue:"root"},{provide:M.qLn,useFactory:function ot(){return new M.qLn},deps:[]},{provide:it,useClass:Zn,multi:!0,deps:[l.K0,M.R0b,M.Lbi]},{provide:it,useClass:kt,multi:!0,deps:[l.K0]},At,ut,Le,{provide:M.FYo,useExisting:At},{provide:l.JF,useClass:Ve,deps:[]},[]];let Xe=(()=>{class pe{constructor(X){}static withServerTransition(X){return{ngModule:pe,providers:[{provide:M.AFp,useValue:X.appId}]}}}return pe.\u0275fac=function(X){return new(X||pe)(M.LFG(qt,12))},pe.\u0275mod=M.oAB({type:pe}),pe.\u0275inj=M.cJS({providers:[...ei,...Zt],imports:[l.ez,M.hGG]}),pe})(),An=(()=>{class pe{constructor(X){this._doc=X}getTitle(){return this._doc.title}setTitle(X){this._doc.title=X||""}}return pe.\u0275fac=function(X){return new(X||pe)(M.LFG(l.K0))},pe.\u0275prov=M.Yz7({token:pe,factory:function(X){let he=null;return he=X?new X:function Zi(){return new An((0,M.LFG)(l.K0))}(),he},providedIn:"root"}),pe})();typeof window<"u"&&window;let cn=(()=>{class pe{}return pe.\u0275fac=function(X){return new(X||pe)},pe.\u0275prov=M.Yz7({token:pe,factory:function(X){let he=null;return he=X?new(X||pe):M.LFG(_t),he},providedIn:"root"}),pe})(),_t=(()=>{class pe extends cn{constructor(X){super(),this._doc=X}sanitize(X,he){if(null==he)return null;switch(X){case M.q3G.NONE:return he;case M.q3G.HTML:return(0,M.qzn)(he,"HTML")?(0,M.z3N)(he):(0,M.EiD)(this._doc,String(he)).toString();case M.q3G.STYLE:return(0,M.qzn)(he,"Style")?(0,M.z3N)(he):he;case M.q3G.SCRIPT:if((0,M.qzn)(he,"Script"))return(0,M.z3N)(he);throw new M.vHH(5200,!1);case M.q3G.URL:return(0,M.qzn)(he,"URL")?(0,M.z3N)(he):(0,M.mCW)(String(he));case M.q3G.RESOURCE_URL:if((0,M.qzn)(he,"ResourceURL"))return(0,M.z3N)(he);throw new M.vHH(5201,!1);default:throw new M.vHH(5202,!1)}}bypassSecurityTrustHtml(X){return(0,M.JVY)(X)}bypassSecurityTrustStyle(X){return(0,M.L6k)(X)}bypassSecurityTrustScript(X){return(0,M.eBb)(X)}bypassSecurityTrustUrl(X){return(0,M.LAX)(X)}bypassSecurityTrustResourceUrl(X){return(0,M.pB0)(X)}}return pe.\u0275fac=function(X){return new(X||pe)(M.LFG(l.K0))},pe.\u0275prov=M.Yz7({token:pe,factory:function(X){let he=null;return he=X?new X:function Wi(pe){return new _t(pe.get(l.K0))}(M.LFG(M.zs3)),he},providedIn:"root"}),pe})()},8184:(gi,ft,j)=>{"use strict";j.d(ft,{gz:()=>On,F0:()=>jr,rH:()=>Xn,Od:()=>un,Bz:()=>Oa,lC:()=>qo});var M=j(5879),l=j(5592),ae=j(4674),$e=j(7715),ie=j(2096),Ge=j(5619),ke=j(2572),Ye=j(6973),Ve=j(5211),it=j(4911),Le=j(8407),nt=j(8504),Qe=j(6232),ut=j(7394),bt=j(9360),Nt=j(8251);function ti(){return(0,bt.e)((h,b)=>{let y=null;h._refCount++;const E=(0,Nt.x)(b,void 0,void 0,void 0,()=>{if(!h||h._refCount<=0||0<--h._refCount)return void(y=null);const I=h._connection,O=y;y=null,I&&(!O||I===O)&&I.unsubscribe(),b.unsubscribe()});h.subscribe(E),E.closed||(y=h.connect())})}class xi extends l.y{constructor(b,y){super(),this.source=b,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,bt.A)(b)&&(this.lift=b.lift)}_subscribe(b){return this.getSubject().subscribe(b)}getSubject(){const b=this._subject;return(!b||b.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:b}=this;this._subject=this._connection=null,b?.unsubscribe()}connect(){let b=this._connection;if(!b){b=this._connection=new ut.w0;const y=this.getSubject();b.add(this.source.subscribe((0,Nt.x)(y,void 0,()=>{this._teardown(),y.complete()},E=>{this._teardown(),y.error(E)},()=>this._teardown()))),b.closed&&(this._connection=null,b=ut.w0.EMPTY)}return b}refCount(){return ti()(this)}}var Qt=j(8645),Re=j(6814),Ze=j(7398),Oe=j(4664),gt=j(8180),Rt=j(7921),At=j(2181),li=j(1631),Kt=j(1374),Li=j(6328),Si=j(9397),En=j(6306);var Zn=j(3572);function In(h){return h<=0?()=>Qe.E:(0,bt.e)((b,y)=>{let E=[];b.subscribe((0,Nt.x)(y,I=>{E.push(I),h<E.length&&E.shift()},()=>{for(const I of E)y.next(I);y.complete()},void 0,()=>{E=null}))})}var wt=j(3026),xt=j(2737),Ft=j(975),Jt=j(4716),Et=j(7537),hi=j(6593);const je="primary",ot=Symbol("RouteTitle");class ht{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const y=this.params[b];return Array.isArray(y)?y[0]:y}return null}getAll(b){if(this.has(b)){const y=this.params[b];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function ct(h){return new ht(h)}function De(h,b,y){const E=y.path.split("/");if(E.length>h.length||"full"===y.pathMatch&&(b.hasChildren()||E.length<h.length))return null;const I={};for(let O=0;O<E.length;O++){const R=E[O],W=h[O];if(R.startsWith(":"))I[R.substring(1)]=W;else if(R!==W.path)return null}return{consumed:h.slice(0,E.length),posParams:I}}function Zt(h,b){const y=h?Object.keys(h):void 0,E=b?Object.keys(b):void 0;if(!y||!E||y.length!=E.length)return!1;let I;for(let O=0;O<y.length;O++)if(I=y[O],!ei(h[I],b[I]))return!1;return!0}function ei(h,b){if(Array.isArray(h)&&Array.isArray(b)){if(h.length!==b.length)return!1;const y=[...h].sort(),E=[...b].sort();return y.every((I,O)=>E[O]===I)}return h===b}function Xe(h){return h.length>0?h[h.length-1]:null}function St(h){return function v(h){return!!h&&(h instanceof l.y||(0,ae.m)(h.lift)&&(0,ae.m)(h.subscribe))}(h)?h:(0,M.QGY)(h)?(0,$e.D)(Promise.resolve(h)):(0,ie.of)(h)}const yi={exact:function vn(h,b,y){if(!dt(h.segments,b.segments)||!Ce(h.segments,b.segments,y)||h.numberOfChildren!==b.numberOfChildren)return!1;for(const E in b.children)if(!h.children[E]||!vn(h.children[E],b.children[E],y))return!1;return!0},subset:Pe},gn={exact:function An(h,b){return Zt(h,b)},subset:function Mn(h,b){return Object.keys(b).length<=Object.keys(h).length&&Object.keys(b).every(y=>ei(h[y],b[y]))},ignored:()=>!0};function Zi(h,b,y){return yi[y.paths](h.root,b.root,y.matrixParams)&&gn[y.queryParams](h.queryParams,b.queryParams)&&!("exact"===y.fragment&&h.fragment!==b.fragment)}function Pe(h,b,y){return se(h,b,b.segments,y)}function se(h,b,y,E){if(h.segments.length>y.length){const I=h.segments.slice(0,y.length);return!(!dt(I,y)||b.hasChildren()||!Ce(I,y,E))}if(h.segments.length===y.length){if(!dt(h.segments,y)||!Ce(h.segments,y,E))return!1;for(const I in b.children)if(!h.children[I]||!Pe(h.children[I],b.children[I],E))return!1;return!0}{const I=y.slice(0,h.segments.length),O=y.slice(h.segments.length);return!!(dt(h.segments,I)&&Ce(h.segments,I,E)&&h.children[je])&&se(h.children[je],b,O,E)}}function Ce(h,b,y){return b.every((E,I)=>gn[y](h[I].parameters,E.parameters))}class Ie{constructor(b=new Te([],{}),y={},E=null){this.root=b,this.queryParams=y,this.fragment=E}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ct(this.queryParams)),this._queryParamMap}toString(){return pi.serialize(this)}}class Te{constructor(b,y){this.segments=b,this.children=y,this.parent=null,Object.values(y).forEach(E=>E.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ji(this)}}class ne{constructor(b,y){this.path=b,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=ct(this.parameters)),this._parameterMap}toString(){return B(this)}}function dt(h,b){return h.length===b.length&&h.every((y,E)=>y.path===b[E].path)}let Xt=(()=>{class h{}return h.\u0275fac=function(y){return new(y||h)},h.\u0275prov=M.Yz7({token:h,factory:function(){return new Ut},providedIn:"root"}),h})();class Ut{parse(b){const y=new be(b);return new Ie(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(b){const y=`/${en(b.root,!0)}`,E=function ee(h){const b=Object.keys(h).map(y=>{const E=h[y];return Array.isArray(E)?E.map(I=>`${Wi(y)}=${Wi(I)}`).join("&"):`${Wi(y)}=${Wi(E)}`}).filter(y=>!!y);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${y}${E}${"string"==typeof b.fragment?`#${function _t(h){return encodeURI(h)}(b.fragment)}`:""}`}}const pi=new Ut;function Ji(h){return h.segments.map(b=>B(b)).join("/")}function en(h,b){if(!h.hasChildren())return Ji(h);if(b){const y=h.children[je]?en(h.children[je],!1):"",E=[];return Object.entries(h.children).forEach(([I,O])=>{I!==je&&E.push(`${I}:${en(O,!1)}`)}),E.length>0?`${y}(${E.join("//")})`:y}{const y=function jt(h,b){let y=[];return Object.entries(h.children).forEach(([E,I])=>{E===je&&(y=y.concat(b(I,E)))}),Object.entries(h.children).forEach(([E,I])=>{E!==je&&(y=y.concat(b(I,E)))}),y}(h,(E,I)=>I===je?[en(h.children[je],!1)]:[`${I}:${en(E,!1)}`]);return 1===Object.keys(h.children).length&&null!=h.children[je]?`${Ji(h)}/${y[0]}`:`${Ji(h)}/(${y.join("//")})`}}function cn(h){return encodeURIComponent(h).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wi(h){return cn(h).replace(/%3B/gi,";")}function mi(h){return cn(h).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vt(h){return decodeURIComponent(h)}function q(h){return vt(h.replace(/\+/g,"%20"))}function B(h){return`${mi(h.path)}${function U(h){return Object.keys(h).map(b=>`;${mi(b)}=${mi(h[b])}`).join("")}(h.parameters)}`}const fe=/^[^\/()?;#]+/;function Ae(h){const b=h.match(fe);return b?b[0]:""}const pe=/^[^\/()?;=#]+/,X=/^[^=?&#]+/,et=/^[^&#]+/;class be{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let E={};return this.peekStartsWith("(")&&(E=this.parseParens(!1)),(b.length>0||Object.keys(y).length>0)&&(E[je]=new Te(b,y)),E}parseSegment(){const b=Ae(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new M.vHH(4009,!1);return this.capture(b),new ne(vt(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const y=function oe(h){const b=h.match(pe);return b?b[0]:""}(this.remaining);if(!y)return;this.capture(y);let E="";if(this.consumeOptional("=")){const I=Ae(this.remaining);I&&(E=I,this.capture(E))}b[vt(y)]=vt(E)}parseQueryParam(b){const y=function he(h){const b=h.match(X);return b?b[0]:""}(this.remaining);if(!y)return;this.capture(y);let E="";if(this.consumeOptional("=")){const R=function lt(h){const b=h.match(et);return b?b[0]:""}(this.remaining);R&&(E=R,this.capture(E))}const I=q(y),O=q(E);if(b.hasOwnProperty(I)){let R=b[I];Array.isArray(R)||(R=[R],b[I]=R),R.push(O)}else b[I]=O}parseParens(b){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const E=Ae(this.remaining),I=this.remaining[E.length];if("/"!==I&&")"!==I&&";"!==I)throw new M.vHH(4010,!1);let O;E.indexOf(":")>-1?(O=E.slice(0,E.indexOf(":")),this.capture(O),this.capture(":")):b&&(O=je);const R=this.parseChildren();y[O]=1===Object.keys(R).length?R[je]:new Te([],R),this.consumeOptional("//")}return y}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new M.vHH(4011,!1)}}function Se(h){return h.segments.length>0?new Te([],{[je]:h}):h}function de(h){const b={};for(const E of Object.keys(h.children)){const O=de(h.children[E]);if(E===je&&0===O.segments.length&&O.hasChildren())for(const[R,W]of Object.entries(O.children))b[R]=W;else(O.segments.length>0||O.hasChildren())&&(b[E]=O)}return function Ee(h){if(1===h.numberOfChildren&&h.children[je]){const b=h.children[je];return new Te(h.segments.concat(b.segments),b.children)}return h}(new Te(h.segments,b))}function tt(h){return h instanceof Ie}function Ke(h){let b;const I=Se(function y(O){const R={};for(const ce of O.children){const ye=y(ce);R[ce.outlet]=ye}const W=new Te(O.url,R);return O===h&&(b=W),W}(h.root));return b??I}function Me(h,b,y,E){let I=h;for(;I.parent;)I=I.parent;if(0===b.length)return ri(I,I,I,y,E);const O=function Wn(h){if("string"==typeof h[0]&&1===h.length&&"/"===h[0])return new di(!0,0,h);let b=0,y=!1;const E=h.reduce((I,O,R)=>{if("object"==typeof O&&null!=O){if(O.outlets){const W={};return Object.entries(O.outlets).forEach(([ce,ye])=>{W[ce]="string"==typeof ye?ye.split("/"):ye}),[...I,{outlets:W}]}if(O.segmentPath)return[...I,O.segmentPath]}return"string"!=typeof O?[...I,O]:0===R?(O.split("/").forEach((W,ce)=>{0==ce&&"."===W||(0==ce&&""===W?y=!0:".."===W?b++:""!=W&&I.push(W))}),I):[...I,O]},[]);return new di(y,b,E)}(b);if(O.toRoot())return ri(I,I,new Te([],{}),y,E);const R=function Un(h,b,y){if(h.isAbsolute)return new Ni(b,!0,0);if(!y)return new Ni(b,!1,NaN);if(null===y.parent)return new Ni(y,!0,0);const E=We(h.commands[0])?0:1;return function fr(h,b,y){let E=h,I=b,O=y;for(;O>I;){if(O-=I,E=E.parent,!E)throw new M.vHH(4005,!1);I=E.segments.length}return new Ni(E,!1,I-O)}(y,y.segments.length-1+E,h.numberOfDoubleDots)}(O,I,h),W=R.processChildren?Nn(R.segmentGroup,R.index,O.commands):Or(R.segmentGroup,R.index,O.commands);return ri(I,R.segmentGroup,W,y,E)}function We(h){return"object"==typeof h&&null!=h&&!h.outlets&&!h.segmentPath}function zt(h){return"object"==typeof h&&null!=h&&h.outlets}function ri(h,b,y,E,I){let R,O={};E&&Object.entries(E).forEach(([ce,ye])=>{O[ce]=Array.isArray(ye)?ye.map(we=>`${we}`):`${ye}`}),R=h===b?y:Ht(h,b,y);const W=Se(de(R));return new Ie(W,O,I)}function Ht(h,b,y){const E={};return Object.entries(h.children).forEach(([I,O])=>{E[I]=O===b?y:Ht(O,b,y)}),new Te(h.segments,E)}class di{constructor(b,y,E){if(this.isAbsolute=b,this.numberOfDoubleDots=y,this.commands=E,b&&E.length>0&&We(E[0]))throw new M.vHH(4003,!1);const I=E.find(zt);if(I&&I!==Xe(E))throw new M.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ni{constructor(b,y,E){this.segmentGroup=b,this.processChildren=y,this.index=E}}function Or(h,b,y){if(h||(h=new Te([],{})),0===h.segments.length&&h.hasChildren())return Nn(h,b,y);const E=function _o(h,b,y){let E=0,I=b;const O={match:!1,pathIndex:0,commandIndex:0};for(;I<h.segments.length;){if(E>=y.length)return O;const R=h.segments[I],W=y[E];if(zt(W))break;const ce=`${W}`,ye=E<y.length-1?y[E+1]:null;if(I>0&&void 0===ce)break;if(ce&&ye&&"object"==typeof ye&&void 0===ye.outlets){if(!Lr(ce,ye,R))return O;E+=2}else{if(!Lr(ce,{},R))return O;E++}I++}return{match:!0,pathIndex:I,commandIndex:E}}(h,b,y),I=y.slice(E.commandIndex);if(E.match&&E.pathIndex<h.segments.length){const O=new Te(h.segments.slice(0,E.pathIndex),{});return O.children[je]=new Te(h.segments.slice(E.pathIndex),h.children),Nn(O,0,I)}return E.match&&0===I.length?new Te(h.segments,{}):E.match&&!h.hasChildren()?Dn(h,b,y):E.match?Nn(h,0,I):Dn(h,b,y)}function Nn(h,b,y){if(0===y.length)return new Te(h.segments,{});{const E=function Pr(h){return zt(h[0])?h[0].outlets:{[je]:h}}(y),I={};if(!E[je]&&h.children[je]&&1===h.numberOfChildren&&0===h.children[je].segments.length){const O=Nn(h.children[je],b,y);return new Te(h.segments,O.children)}return Object.entries(E).forEach(([O,R])=>{"string"==typeof R&&(R=[R]),null!==R&&(I[O]=Or(h.children[O],b,R))}),Object.entries(h.children).forEach(([O,R])=>{void 0===E[O]&&(I[O]=R)}),new Te(h.segments,I)}}function Dn(h,b,y){const E=h.segments.slice(0,b);let I=0;for(;I<y.length;){const O=y[I];if(zt(O)){const ce=qi(O.outlets);return new Te(E,ce)}if(0===I&&We(y[0])){E.push(new ne(h.segments[b].path,lo(y[0]))),I++;continue}const R=zt(O)?O.outlets[je]:`${O}`,W=I<y.length-1?y[I+1]:null;R&&W&&We(W)?(E.push(new ne(R,lo(W))),I+=2):(E.push(new ne(R,{})),I++)}return new Te(E,{})}function qi(h){const b={};return Object.entries(h).forEach(([y,E])=>{"string"==typeof E&&(E=[E]),null!==E&&(b[y]=Dn(new Te([],{}),0,E))}),b}function lo(h){const b={};return Object.entries(h).forEach(([y,E])=>b[y]=`${E}`),b}function Lr(h,b,y){return h==y.path&&Zt(b,y.parameters)}const wr="imperative";class kn{constructor(b,y){this.id=b,this.url=y}}class Eo extends kn{constructor(b,y,E="imperative",I=null){super(b,y),this.type=0,this.navigationTrigger=E,this.restoredState=I}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mo extends kn{constructor(b,y,E){super(b,y),this.urlAfterRedirects=E,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class co extends kn{constructor(b,y,E,I){super(b,y),this.reason=E,this.code=I,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Cn extends kn{constructor(b,y,E,I){super(b,y),this.reason=E,this.code=I,this.type=16}}class Mr extends kn{constructor(b,y,E,I){super(b,y),this.error=E,this.target=I,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Go extends kn{constructor(b,y,E,I){super(b,y),this.urlAfterRedirects=E,this.state=I,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fo extends kn{constructor(b,y,E,I){super(b,y),this.urlAfterRedirects=E,this.state=I,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Da extends kn{constructor(b,y,E,I,O){super(b,y),this.urlAfterRedirects=E,this.state=I,this.shouldActivate=O,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class bl extends kn{constructor(b,y,E,I){super(b,y),this.urlAfterRedirects=E,this.state=I,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ll extends kn{constructor(b,y,E,I){super(b,y),this.urlAfterRedirects=E,this.state=I,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Va{constructor(b){this.route=b,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class il{constructor(b){this.route=b,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ua{constructor(b){this.snapshot=b,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ua{constructor(b){this.snapshot=b,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xl{constructor(b){this.snapshot=b,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ln{constructor(b){this.snapshot=b,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sr{constructor(b,y,E){this.routerEvent=b,this.position=y,this.anchor=E,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Us{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Nr,this.attachRef=null}}let Nr=(()=>{class h{constructor(){this.contexts=new Map}onChildOutletCreated(y,E){const I=this.getOrCreateContext(y);I.outlet=E,this.contexts.set(y,I)}onChildOutletDestroyed(y){const E=this.getContext(y);E&&(E.outlet=null,E.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let E=this.getContext(y);return E||(E=new Us,this.contexts.set(y,E)),E}getContext(y){return this.contexts.get(y)||null}}return h.\u0275fac=function(y){return new(y||h)},h.\u0275prov=M.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();class ss{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const y=this.pathFromRoot(b);return y.length>1?y[y.length-2]:null}children(b){const y=Xs(b,this._root);return y?y.children.map(E=>E.value):[]}firstChild(b){const y=Xs(b,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(b){const y=zr(b,this._root);return y.length<2?[]:y[y.length-2].children.map(I=>I.value).filter(I=>I!==b)}pathFromRoot(b){return zr(b,this._root).map(y=>y.value)}}function Xs(h,b){if(h===b.value)return b;for(const y of b.children){const E=Xs(h,y);if(E)return E}return null}function zr(h,b){if(h===b.value)return[b];for(const y of b.children){const E=zr(h,y);if(E.length)return E.unshift(b),E}return[]}class Zo{constructor(b,y){this.value=b,this.children=y}toString(){return`TreeNode(${this.value})`}}function fs(h){const b={};return h&&h.children.forEach(y=>b[y.value.outlet]=y),b}class ar extends ss{constructor(b,y){super(b),this.snapshot=y,gr(this,b)}toString(){return this.snapshot.toString()}}function Ti(h,b){const y=function rn(h,b){const R=new Kn([],{},{},"",{},je,b,null,{});return new Tr("",new Zo(R,[]))}(0,b),E=new Ge.X([new ne("",{})]),I=new Ge.X({}),O=new Ge.X({}),R=new Ge.X({}),W=new Ge.X(""),ce=new On(E,I,R,W,O,je,b,y.root);return ce.snapshot=y.root,new ar(new Zo(ce,[]),y)}class On{constructor(b,y,E,I,O,R,W,ce){this.urlSubject=b,this.paramsSubject=y,this.queryParamsSubject=E,this.fragmentSubject=I,this.dataSubject=O,this.outlet=R,this.component=W,this._futureSnapshot=ce,this.title=this.dataSubject?.pipe((0,Ze.U)(ye=>ye[ot]))??(0,ie.of)(void 0),this.url=b,this.params=y,this.queryParams=E,this.fragment=I,this.data=O}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ze.U)(b=>ct(b)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ze.U)(b=>ct(b)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function uo(h,b="emptyOnly"){const y=h.pathFromRoot;let E=0;if("always"!==b)for(E=y.length-1;E>=1;){const I=y[E],O=y[E-1];if(I.routeConfig&&""===I.routeConfig.path)E--;else{if(O.component)break;E--}}return function as(h){return h.reduce((b,y)=>({params:{...b.params,...y.params},data:{...b.data,...y.data},resolve:{...y.data,...b.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(E))}class Kn{get title(){return this.data?.[ot]}constructor(b,y,E,I,O,R,W,ce,ye){this.url=b,this.params=y,this.queryParams=E,this.fragment=I,this.data=O,this.outlet=R,this.component=W,this.routeConfig=ce,this._resolve=ye}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ct(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ct(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(E=>E.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Tr extends ss{constructor(b,y){super(y),this.url=b,gr(this,y)}toString(){return Wo(this._root)}}function gr(h,b){b.value._routerState=h,b.children.forEach(y=>gr(h,y))}function Wo(h){const b=h.children.length>0?` { ${h.children.map(Wo).join(", ")} } `:"";return`${h.value}${b}`}function Do(h){if(h.snapshot){const b=h.snapshot,y=h._futureSnapshot;h.snapshot=y,Zt(b.queryParams,y.queryParams)||h.queryParamsSubject.next(y.queryParams),b.fragment!==y.fragment&&h.fragmentSubject.next(y.fragment),Zt(b.params,y.params)||h.paramsSubject.next(y.params),function qt(h,b){if(h.length!==b.length)return!1;for(let y=0;y<h.length;++y)if(!Zt(h[y],b[y]))return!1;return!0}(b.url,y.url)||h.urlSubject.next(y.url),Zt(b.data,y.data)||h.dataSubject.next(y.data)}else h.snapshot=h._futureSnapshot,h.dataSubject.next(h._futureSnapshot.data)}function on(h,b){const y=Zt(h.params,b.params)&&function Ne(h,b){return dt(h,b)&&h.every((y,E)=>Zt(y.parameters,b[E].parameters))}(h.url,b.url);return y&&!(!h.parent!=!b.parent)&&(!h.parent||on(h.parent,b.parent))}let qo=(()=>{class h{constructor(){this.activated=null,this._activatedRoute=null,this.name=je,this.activateEvents=new M.vpe,this.deactivateEvents=new M.vpe,this.attachEvents=new M.vpe,this.detachEvents=new M.vpe,this.parentContexts=(0,M.f3M)(Nr),this.location=(0,M.f3M)(M.s_b),this.changeDetector=(0,M.f3M)(M.sBO),this.environmentInjector=(0,M.f3M)(M.lqb),this.inputBinder=(0,M.f3M)(dn,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(y){if(y.name){const{firstChange:E,previousValue:I}=y.name;if(E)return;this.isTrackedInParentContexts(I)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(I)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(y){return this.parentContexts.getContext(y)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const y=this.parentContexts.getContext(this.name);y?.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M.vHH(4012,!1);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,E){this.activated=y,this._activatedRoute=E,this.location.insert(y.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,E){if(this.isActivated)throw new M.vHH(4013,!1);this._activatedRoute=y;const I=this.location,R=y.snapshot.component,W=this.parentContexts.getOrCreateContext(this.name).children,ce=new js(y,W,I.injector);this.activated=I.createComponent(R,{index:I.length,injector:ce,environmentInjector:E??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return h.\u0275fac=function(y){return new(y||h)},h.\u0275dir=M.lG2({type:h,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[M.TTD]}),h})();class js{constructor(b,y,E){this.route=b,this.childContexts=y,this.parent=E}get(b,y){return b===On?this.route:b===Nr?this.childContexts:this.parent.get(b,y)}}const dn=new M.OlP("");let dr=(()=>{class h{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(y){this.unsubscribeFromRouteData(y),this.subscribeToRouteData(y)}unsubscribeFromRouteData(y){this.outletDataSubscriptions.get(y)?.unsubscribe(),this.outletDataSubscriptions.delete(y)}subscribeToRouteData(y){const{activatedRoute:E}=y,I=(0,ke.a)([E.queryParams,E.params,E.data]).pipe((0,Oe.w)(([O,R,W],ce)=>(W={...O,...R,...W},0===ce?(0,ie.of)(W):Promise.resolve(W)))).subscribe(O=>{if(!y.isActivated||!y.activatedComponentRef||y.activatedRoute!==E||null===E.component)return void this.unsubscribeFromRouteData(y);const R=(0,M.qFp)(E.component);if(R)for(const{templateName:W}of R.inputs)y.activatedComponentRef.setInput(W,O[W]);else this.unsubscribeFromRouteData(y)});this.outletDataSubscriptions.set(y,I)}}return h.\u0275fac=function(y){return new(y||h)},h.\u0275prov=M.Yz7({token:h,factory:h.\u0275fac}),h})();function gs(h,b,y){if(y&&h.shouldReuseRoute(b.value,y.value.snapshot)){const E=y.value;E._futureSnapshot=b.value;const I=function cs(h,b,y){return b.children.map(E=>{for(const I of y.children)if(h.shouldReuseRoute(E.value,I.value.snapshot))return gs(h,E,I);return gs(h,E)})}(h,b,y);return new Zo(E,I)}{if(h.shouldAttach(b.value)){const O=h.retrieve(b.value);if(null!==O){const R=O.route;return R.value._futureSnapshot=b.value,R.children=b.children.map(W=>gs(h,W)),R}}const E=function Yo(h){return new On(new Ge.X(h.url),new Ge.X(h.params),new Ge.X(h.queryParams),new Ge.X(h.fragment),new Ge.X(h.data),h.outlet,h.component,h)}(b.value),I=b.children.map(O=>gs(h,O));return new Zo(E,I)}}const ja="ngNavigationCancelingError";function Is(h,b){const{redirectTo:y,navigationBehaviorOptions:E}=tt(b)?{redirectTo:b,navigationBehaviorOptions:void 0}:b,I=Ko(!1,0,b);return I.url=y,I.navigationBehaviorOptions=E,I}function Ko(h,b,y){const E=new Error("NavigationCancelingError: "+(h||""));return E[ja]=!0,E.cancellationCode=b,y&&(E.url=y),E}function ho(h){return Hs(h)&&tt(h.url)}function Hs(h){return h&&h[ja]}let bn=(()=>{class h{}return h.\u0275fac=function(y){return new(y||h)},h.\u0275cmp=M.Xpm({type:h,selectors:[["ng-component"]],standalone:!0,features:[M.jDz],decls:1,vars:0,template:function(y,E){1&y&&M._UZ(0,"router-outlet")},dependencies:[qo],encapsulation:2}),h})();function Br(h){const b=h.children&&h.children.map(Br),y=b?{...h,children:b}:{...h};return!y.component&&!y.loadComponent&&(b||y.loadChildren)&&y.outlet&&y.outlet!==je&&(y.component=bn),y}function Jn(h){return h.outlet||je}function Zr(h){if(!h)return null;if(h.routeConfig?._injector)return h.routeConfig._injector;for(let b=h.parent;b;b=b.parent){const y=b.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class ea{constructor(b,y,E,I,O){this.routeReuseStrategy=b,this.futureState=y,this.currState=E,this.forwardEvent=I,this.inputBindingEnabled=O}activate(b){const y=this.futureState._root,E=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,E,b),Do(this.futureState.root),this.activateChildRoutes(y,E,b)}deactivateChildRoutes(b,y,E){const I=fs(y);b.children.forEach(O=>{const R=O.value.outlet;this.deactivateRoutes(O,I[R],E),delete I[R]}),Object.values(I).forEach(O=>{this.deactivateRouteAndItsChildren(O,E)})}deactivateRoutes(b,y,E){const I=b.value,O=y?y.value:null;if(I===O)if(I.component){const R=E.getContext(I.outlet);R&&this.deactivateChildRoutes(b,y,R.children)}else this.deactivateChildRoutes(b,y,E);else O&&this.deactivateRouteAndItsChildren(y,E)}deactivateRouteAndItsChildren(b,y){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,y):this.deactivateRouteAndOutlet(b,y)}detachAndStoreRouteSubtree(b,y){const E=y.getContext(b.value.outlet),I=E&&b.value.component?E.children:y,O=fs(b);for(const R of Object.keys(O))this.deactivateRouteAndItsChildren(O[R],I);if(E&&E.outlet){const R=E.outlet.detach(),W=E.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:R,route:b,contexts:W})}}deactivateRouteAndOutlet(b,y){const E=y.getContext(b.value.outlet),I=E&&b.value.component?E.children:y,O=fs(b);for(const R of Object.keys(O))this.deactivateRouteAndItsChildren(O[R],I);E&&(E.outlet&&(E.outlet.deactivate(),E.children.onOutletDeactivated()),E.attachRef=null,E.route=null)}activateChildRoutes(b,y,E){const I=fs(y);b.children.forEach(O=>{this.activateRoutes(O,I[O.value.outlet],E),this.forwardEvent(new ln(O.value.snapshot))}),b.children.length&&this.forwardEvent(new ua(b.value.snapshot))}activateRoutes(b,y,E){const I=b.value,O=y?y.value:null;if(Do(I),I===O)if(I.component){const R=E.getOrCreateContext(I.outlet);this.activateChildRoutes(b,y,R.children)}else this.activateChildRoutes(b,y,E);else if(I.component){const R=E.getOrCreateContext(I.outlet);if(this.routeReuseStrategy.shouldAttach(I.snapshot)){const W=this.routeReuseStrategy.retrieve(I.snapshot);this.routeReuseStrategy.store(I.snapshot,null),R.children.onOutletReAttached(W.contexts),R.attachRef=W.componentRef,R.route=W.route.value,R.outlet&&R.outlet.attach(W.componentRef,W.route.value),Do(W.route.value),this.activateChildRoutes(b,null,R.children)}else{const W=Zr(I.snapshot);R.attachRef=null,R.route=I,R.injector=W,R.outlet&&R.outlet.activateWith(I,R.injector),this.activateChildRoutes(b,null,R.children)}}else this.activateChildRoutes(b,null,E)}}class wl{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class Ta{constructor(b,y){this.component=b,this.route=y}}function ha(h,b,y){const E=h._root;return ia(E,b?b._root:null,y,[E.value])}function ta(h,b){const y=Symbol(),E=b.get(h,y);return E===y?"function"!=typeof h||(0,M.Z0I)(h)?b.get(h):h:E}function ia(h,b,y,E,I={canDeactivateChecks:[],canActivateChecks:[]}){const O=fs(b);return h.children.forEach(R=>{(function Cc(h,b,y,E,I={canDeactivateChecks:[],canActivateChecks:[]}){const O=h.value,R=b?b.value:null,W=y?y.getContext(h.value.outlet):null;if(R&&O.routeConfig===R.routeConfig){const ce=function Cl(h,b,y){if("function"==typeof y)return y(h,b);switch(y){case"pathParamsChange":return!dt(h.url,b.url);case"pathParamsOrQueryParamsChange":return!dt(h.url,b.url)||!Zt(h.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!on(h,b)||!Zt(h.queryParams,b.queryParams);default:return!on(h,b)}}(R,O,O.routeConfig.runGuardsAndResolvers);ce?I.canActivateChecks.push(new wl(E)):(O.data=R.data,O._resolvedData=R._resolvedData),ia(h,b,O.component?W?W.children:null:y,E,I),ce&&W&&W.outlet&&W.outlet.isActivated&&I.canDeactivateChecks.push(new Ta(W.outlet.component,R))}else R&&Ia(b,W,I),I.canActivateChecks.push(new wl(E)),ia(h,null,O.component?W?W.children:null:y,E,I)})(R,O[R.value.outlet],y,E.concat([R.value]),I),delete O[R.value.outlet]}),Object.entries(O).forEach(([R,W])=>Ia(W,y.getContext(R),I)),I}function Ia(h,b,y){const E=fs(h),I=h.value;Object.entries(E).forEach(([O,R])=>{Ia(R,I.component?b?b.children.getContext(O):null:b,y)}),y.canDeactivateChecks.push(new Ta(I.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,I))}function Oi(h){return"function"==typeof h}function xe(h){return h instanceof Ye.K||"EmptyError"===h?.name}const Vt=Symbol("INITIAL_VALUE");function wi(){return(0,Oe.w)(h=>(0,ke.a)(h.map(b=>b.pipe((0,gt.q)(1),(0,Rt.O)(Vt)))).pipe((0,Ze.U)(b=>{for(const y of b)if(!0!==y){if(y===Vt)return Vt;if(!1===y||y instanceof Ie)return y}return!0}),(0,At.h)(b=>b!==Vt),(0,gt.q)(1)))}function Gs(h){return(0,Le.z)((0,Si.b)(b=>{if(tt(b))throw Is(0,b)}),(0,Ze.U)(b=>!0===b))}class So{constructor(b){this.segmentGroup=b||null}}class Fr{constructor(b){this.urlTree=b}}function Sn(h){return(0,nt._)(new So(h))}function ur(h){return(0,nt._)(new Fr(h))}class Aa{constructor(b,y){this.urlSerializer=b,this.urlTree=y}noMatchError(b){return new M.vHH(4002,!1)}lineralizeSegments(b,y){let E=[],I=y.root;for(;;){if(E=E.concat(I.segments),0===I.numberOfChildren)return(0,ie.of)(E);if(I.numberOfChildren>1||!I.children[je])return(0,nt._)(new M.vHH(4e3,!1));I=I.children[je]}}applyRedirectCommands(b,y,E){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),b,E)}applyRedirectCreateUrlTree(b,y,E,I){const O=this.createSegmentGroup(b,y.root,E,I);return new Ie(O,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(b,y){const E={};return Object.entries(b).forEach(([I,O])=>{if("string"==typeof O&&O.startsWith(":")){const W=O.substring(1);E[I]=y[W]}else E[I]=O}),E}createSegmentGroup(b,y,E,I){const O=this.createSegments(b,y.segments,E,I);let R={};return Object.entries(y.children).forEach(([W,ce])=>{R[W]=this.createSegmentGroup(b,ce,E,I)}),new Te(O,R)}createSegments(b,y,E,I){return y.map(O=>O.path.startsWith(":")?this.findPosParam(b,O,I):this.findOrReturn(O,E))}findPosParam(b,y,E){const I=E[y.path.substring(1)];if(!I)throw new M.vHH(4001,!1);return I}findOrReturn(b,y){let E=0;for(const I of y){if(I.path===b.path)return y.splice(E),I;E++}return b}}const hr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ec(h,b,y,E,I){const O=Ml(h,b,y);return O.matched?(E=function As(h,b){return h.providers&&!h._injector&&(h._injector=(0,M.MMx)(h.providers,b,`Route: ${h.path}`)),h._injector??b}(b,E),function rl(h,b,y,E){const I=b.canMatch;if(!I||0===I.length)return(0,ie.of)(!0);const O=I.map(R=>{const W=ta(R,h);return St(function Y(h){return h&&Oi(h.canMatch)}(W)?W.canMatch(b,y):h.runInContext(()=>W(b,y)))});return(0,ie.of)(O).pipe(wi(),Gs())}(E,b,y).pipe((0,Ze.U)(R=>!0===R?O:{...hr}))):(0,ie.of)(O)}function Ml(h,b,y){if(""===b.path)return"full"===b.pathMatch&&(h.hasChildren()||y.length>0)?{...hr}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const I=(b.matcher||De)(y,h,b);if(!I)return{...hr};const O={};Object.entries(I.posParams??{}).forEach(([W,ce])=>{O[W]=ce.path});const R=I.consumed.length>0?{...O,...I.consumed[I.consumed.length-1].parameters}:O;return{matched:!0,consumedSegments:I.consumed,remainingSegments:y.slice(I.consumed.length),parameters:R,positionalParamSegments:I.posParams??{}}}function ys(h,b,y,E){return y.length>0&&function po(h,b,y){return y.some(E=>vs(h,b,E)&&Jn(E)!==je)}(h,y,E)?{segmentGroup:new Te(b,Xo(E,new Te(y,h.children))),slicedSegments:[]}:0===y.length&&function Ga(h,b,y){return y.some(E=>vs(h,b,E))}(h,y,E)?{segmentGroup:new Te(h.segments,Cr(h,0,y,E,h.children)),slicedSegments:y}:{segmentGroup:new Te(h.segments,h.children),slicedSegments:y}}function Cr(h,b,y,E,I){const O={};for(const R of E)if(vs(h,y,R)&&!I[Jn(R)]){const W=new Te([],{});O[Jn(R)]=W}return{...I,...O}}function Xo(h,b){const y={};y[je]=b;for(const E of h)if(""===E.path&&Jn(E)!==je){const I=new Te([],{});y[Jn(E)]=I}return y}function vs(h,b,y){return(!(h.hasChildren()||b.length>0)||"full"!==y.pathMatch)&&""===y.path}class Jr{constructor(b,y,E,I,O,R,W){this.injector=b,this.configLoader=y,this.rootComponentType=E,this.config=I,this.urlTree=O,this.paramsInheritanceStrategy=R,this.urlSerializer=W,this.allowRedirects=!0,this.applyRedirects=new Aa(this.urlSerializer,this.urlTree)}noMatchError(b){return new M.vHH(4002,!1)}recognize(){const b=ys(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,b,je).pipe((0,En.K)(y=>{if(y instanceof Fr)return this.allowRedirects=!1,this.urlTree=y.urlTree,this.match(y.urlTree);throw y instanceof So?this.noMatchError(y):y}),(0,Ze.U)(y=>{const E=new Kn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},je,this.rootComponentType,null,{}),I=new Zo(E,y),O=new Tr("",I),R=function Tt(h,b,y=null,E=null){return Me(Ke(h),b,y,E)}(E,[],this.urlTree.queryParams,this.urlTree.fragment);return R.queryParams=this.urlTree.queryParams,O.url=this.urlSerializer.serialize(R),this.inheritParamsAndData(O._root),{state:O,tree:R}}))}match(b){return this.processSegmentGroup(this.injector,this.config,b.root,je).pipe((0,En.K)(E=>{throw E instanceof So?this.noMatchError(E):E}))}inheritParamsAndData(b){const y=b.value,E=uo(y,this.paramsInheritanceStrategy);y.params=Object.freeze(E.params),y.data=Object.freeze(E.data),b.children.forEach(I=>this.inheritParamsAndData(I))}processSegmentGroup(b,y,E,I){return 0===E.segments.length&&E.hasChildren()?this.processChildren(b,y,E):this.processSegment(b,y,E,E.segments,I,!0)}processChildren(b,y,E){const I=[];for(const O of Object.keys(E.children))"primary"===O?I.unshift(O):I.push(O);return(0,$e.D)(I).pipe((0,Li.b)(O=>{const R=E.children[O],W=function Vr(h,b){const y=h.filter(E=>Jn(E)===b);return y.push(...h.filter(E=>Jn(E)!==b)),y}(y,O);return this.processSegmentGroup(b,W,R,O)}),function hn(h,b){return(0,bt.e)(function Vn(h,b,y,E,I){return(O,R)=>{let W=y,ce=b,ye=0;O.subscribe((0,Nt.x)(R,we=>{const Fe=ye++;ce=W?h(ce,we,Fe):(W=!0,we),E&&R.next(ce)},I&&(()=>{W&&R.next(ce),R.complete()})))}}(h,b,arguments.length>=2,!0))}((O,R)=>(O.push(...R),O)),(0,Zn.d)(null),function kt(h,b){const y=arguments.length>=2;return E=>E.pipe(h?(0,At.h)((I,O)=>h(I,O,E)):xt.y,In(1),y?(0,Zn.d)(b):(0,wt.T)(()=>new Ye.K))}(),(0,li.z)(O=>{if(null===O)return Sn(E);const R=_r(O);return function No(h){h.sort((b,y)=>b.value.outlet===je?-1:y.value.outlet===je?1:b.value.outlet.localeCompare(y.value.outlet))}(R),(0,ie.of)(R)}))}processSegment(b,y,E,I,O,R){return(0,$e.D)(y).pipe((0,Li.b)(W=>this.processSegmentAgainstRoute(W._injector??b,y,W,E,I,O,R).pipe((0,En.K)(ce=>{if(ce instanceof So)return(0,ie.of)(null);throw ce}))),(0,Kt.P)(W=>!!W),(0,En.K)(W=>{if(xe(W))return function ka(h,b,y){return 0===b.length&&!h.children[y]}(E,I,O)?(0,ie.of)([]):Sn(E);throw W}))}processSegmentAgainstRoute(b,y,E,I,O,R,W){return function Wr(h,b,y,E){return!!(Jn(h)===E||E!==je&&vs(b,y,h))&&("**"===h.path||Ml(b,h,y).matched)}(E,I,O,R)?void 0===E.redirectTo?this.matchSegmentAgainstRoute(b,I,E,O,R,W):W&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(b,I,y,E,O,R):Sn(I):Sn(I)}expandSegmentAgainstRouteUsingRedirect(b,y,E,I,O,R){return"**"===I.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(b,E,I,R):this.expandRegularSegmentAgainstRouteUsingRedirect(b,y,E,I,O,R)}expandWildCardWithParamsAgainstRouteUsingRedirect(b,y,E,I){const O=this.applyRedirects.applyRedirectCommands([],E.redirectTo,{});return E.redirectTo.startsWith("/")?ur(O):this.applyRedirects.lineralizeSegments(E,O).pipe((0,li.z)(R=>{const W=new Te(R,{});return this.processSegment(b,y,W,R,I,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(b,y,E,I,O,R){const{matched:W,consumedSegments:ce,remainingSegments:ye,positionalParamSegments:we}=Ml(y,I,O);if(!W)return Sn(y);const Fe=this.applyRedirects.applyRedirectCommands(ce,I.redirectTo,we);return I.redirectTo.startsWith("/")?ur(Fe):this.applyRedirects.lineralizeSegments(I,Fe).pipe((0,li.z)(rt=>this.processSegment(b,E,y,rt.concat(ye),R,!1)))}matchSegmentAgainstRoute(b,y,E,I,O,R){let W;if("**"===E.path){const ce=I.length>0?Xe(I).parameters:{},ye=new Kn(I,ce,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Qr(E),Jn(E),E.component??E._loadedComponent??null,E,Dl(E));W=(0,ie.of)({snapshot:ye,consumedSegments:[],remainingSegments:[]}),y.children={}}else W=Ec(y,E,I,b).pipe((0,Ze.U)(({matched:ce,consumedSegments:ye,remainingSegments:we,parameters:Fe})=>ce?{snapshot:new Kn(ye,Fe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Qr(E),Jn(E),E.component??E._loadedComponent??null,E,Dl(E)),consumedSegments:ye,remainingSegments:we}:null));return W.pipe((0,Oe.w)(ce=>null===ce?Sn(y):this.getChildConfig(b=E._injector??b,E,I).pipe((0,Oe.w)(({routes:ye})=>{const we=E._loadedInjector??b,{snapshot:Fe,consumedSegments:rt,remainingSegments:Mt}=ce,{segmentGroup:He,slicedSegments:Ct}=ys(y,rt,Mt,ye);if(0===Ct.length&&He.hasChildren())return this.processChildren(we,ye,He).pipe((0,Ze.U)(Wt=>null===Wt?null:[new Zo(Fe,Wt)]));if(0===ye.length&&0===Ct.length)return(0,ie.of)([new Zo(Fe,[])]);const Lt=Jn(E)===O;return this.processSegment(we,ye,He,Ct,Lt?je:O,!0).pipe((0,Ze.U)(Wt=>[new Zo(Fe,Wt)]))}))))}getChildConfig(b,y,E){return y.children?(0,ie.of)({routes:y.children,injector:b}):y.loadChildren?void 0!==y._loadedRoutes?(0,ie.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function nl(h,b,y,E){const I=b.canLoad;if(void 0===I||0===I.length)return(0,ie.of)(!0);const O=I.map(R=>{const W=ta(R,h);return St(function Pn(h){return h&&Oi(h.canLoad)}(W)?W.canLoad(b,y):h.runInContext(()=>W(b,y)))});return(0,ie.of)(O).pipe(wi(),Gs())}(b,y,E).pipe((0,li.z)(I=>I?this.configLoader.loadChildren(b,y).pipe((0,Si.b)(O=>{y._loadedRoutes=O.routes,y._loadedInjector=O.injector})):function Zs(h){return(0,nt._)(Ko(!1,3))}())):(0,ie.of)({routes:[],injector:b})}}function Za(h){const b=h.value.routeConfig;return b&&""===b.path}function _r(h){const b=[],y=new Set;for(const E of h){if(!Za(E)){b.push(E);continue}const I=b.find(O=>E.value.routeConfig===O.value.routeConfig);void 0!==I?(I.children.push(...E.children),y.add(I)):b.push(E)}for(const E of y){const I=_r(E.children);b.push(new Zo(E.value,I))}return b.filter(E=>!y.has(E))}function Qr(h){return h.data||{}}function Dl(h){return h.resolve||{}}function Wa(h){return"string"==typeof h.title||null===h.title}function qn(h){return(0,Oe.w)(b=>{const y=h(b);return y?(0,$e.D)(y).pipe((0,Ze.U)(()=>b)):(0,ie.of)(b)})}const zo=new M.OlP("ROUTES");let N=(()=>{class h{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,M.f3M)(M.Sil)}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,ie.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const E=St(y.loadComponent()).pipe((0,Ze.U)($),(0,Si.b)(O=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=O}),(0,Jt.x)(()=>{this.componentLoaders.delete(y)})),I=new xi(E,()=>new Qt.x).pipe(ti());return this.componentLoaders.set(y,I),I}loadChildren(y,E){if(this.childrenLoaders.get(E))return this.childrenLoaders.get(E);if(E._loadedRoutes)return(0,ie.of)({routes:E._loadedRoutes,injector:E._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(E);const O=this.loadModuleFactoryOrRoutes(E.loadChildren).pipe((0,Ze.U)(W=>{this.onLoadEndListener&&this.onLoadEndListener(E);let ce,ye;return Array.isArray(W)?ye=W:(ce=W.create(y).injector,ye=ce.get(zo,[],M.XFs.Self|M.XFs.Optional).flat()),{routes:ye.map(Br),injector:ce}}),(0,Jt.x)(()=>{this.childrenLoaders.delete(E)})),R=new xi(O,()=>new Qt.x).pipe(ti());return this.childrenLoaders.set(E,R),R}loadModuleFactoryOrRoutes(y){return St(y()).pipe((0,Ze.U)($),(0,li.z)(E=>E instanceof M.YKP||Array.isArray(E)?(0,ie.of)(E):(0,$e.D)(this.compiler.compileModuleAsync(E))))}}return h.\u0275fac=function(y){return new(y||h)},h.\u0275prov=M.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();function $(h){return function Q(h){return h&&"object"==typeof h&&"default"in h}(h)?h.default:h}let me=(()=>{class h{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Qt.x,this.configLoader=(0,M.f3M)(N),this.environmentInjector=(0,M.f3M)(M.lqb),this.urlSerializer=(0,M.f3M)(Xt),this.rootContexts=(0,M.f3M)(Nr),this.inputBindingEnabled=null!==(0,M.f3M)(dn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ie.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=I=>this.events.next(new il(I)),this.configLoader.onLoadStartListener=I=>this.events.next(new Va(I))}complete(){this.transitions?.complete()}handleNavigationRequest(y){const E=++this.navigationId;this.transitions?.next({...this.transitions.value,...y,id:E})}setupNavigations(y){return this.transitions=new Ge.X({id:0,currentUrlTree:y.currentUrlTree,currentRawUrl:y.currentUrlTree,extractedUrl:y.urlHandlingStrategy.extract(y.currentUrlTree),urlAfterRedirects:y.urlHandlingStrategy.extract(y.currentUrlTree),rawUrl:y.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:wr,restoredState:null,currentSnapshot:y.routerState.snapshot,targetSnapshot:null,currentRouterState:y.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,At.h)(E=>0!==E.id),(0,Ze.U)(E=>({...E,extractedUrl:y.urlHandlingStrategy.extract(E.rawUrl)})),(0,Oe.w)(E=>{let I=!1,O=!1;return(0,ie.of)(E).pipe((0,Si.b)(R=>{this.currentNavigation={id:R.id,initialUrl:R.rawUrl,extractedUrl:R.extractedUrl,trigger:R.source,extras:R.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Oe.w)(R=>{const W=y.browserUrlTree.toString(),ce=!y.navigated||R.extractedUrl.toString()!==W||W!==y.currentUrlTree.toString();if(!ce&&"reload"!==(R.extras.onSameUrlNavigation??y.onSameUrlNavigation)){const we="";return this.events.next(new Cn(R.id,y.serializeUrl(E.rawUrl),we,0)),y.rawUrlTree=R.rawUrl,R.resolve(null),Qe.E}if(y.urlHandlingStrategy.shouldProcessUrl(R.rawUrl))return qe(R.source)&&(y.browserUrlTree=R.extractedUrl),(0,ie.of)(R).pipe((0,Oe.w)(we=>{const Fe=this.transitions?.getValue();return this.events.next(new Eo(we.id,this.urlSerializer.serialize(we.extractedUrl),we.source,we.restoredState)),Fe!==this.transitions?.getValue()?Qe.E:Promise.resolve(we)}),function Mc(h,b,y,E,I,O){return(0,li.z)(R=>function zl(h,b,y,E,I,O,R="emptyOnly"){return new Jr(h,b,y,E,I,R,O).recognize()}(h,b,y,E,R.extractedUrl,I,O).pipe((0,Ze.U)(({state:W,tree:ce})=>({...R,targetSnapshot:W,urlAfterRedirects:ce}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,y.config,this.urlSerializer,y.paramsInheritanceStrategy),(0,Si.b)(we=>{if(E.targetSnapshot=we.targetSnapshot,E.urlAfterRedirects=we.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:we.urlAfterRedirects},"eager"===y.urlUpdateStrategy){if(!we.extras.skipLocationChange){const rt=y.urlHandlingStrategy.merge(we.urlAfterRedirects,we.rawUrl);y.setBrowserUrl(rt,we)}y.browserUrlTree=we.urlAfterRedirects}const Fe=new Go(we.id,this.urlSerializer.serialize(we.extractedUrl),this.urlSerializer.serialize(we.urlAfterRedirects),we.targetSnapshot);this.events.next(Fe)}));if(ce&&y.urlHandlingStrategy.shouldProcessUrl(y.rawUrlTree)){const{id:we,extractedUrl:Fe,source:rt,restoredState:Mt,extras:He}=R,Ct=new Eo(we,this.urlSerializer.serialize(Fe),rt,Mt);this.events.next(Ct);const Lt=Ti(0,this.rootComponentType).snapshot;return E={...R,targetSnapshot:Lt,urlAfterRedirects:Fe,extras:{...He,skipLocationChange:!1,replaceUrl:!1}},(0,ie.of)(E)}{const we="";return this.events.next(new Cn(R.id,y.serializeUrl(E.extractedUrl),we,1)),y.rawUrlTree=R.rawUrl,R.resolve(null),Qe.E}}),(0,Si.b)(R=>{const W=new Fo(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects),R.targetSnapshot);this.events.next(W)}),(0,Ze.U)(R=>E={...R,guards:ha(R.targetSnapshot,R.currentSnapshot,this.rootContexts)}),function Ur(h,b){return(0,li.z)(y=>{const{targetSnapshot:E,currentSnapshot:I,guards:{canActivateChecks:O,canDeactivateChecks:R}}=y;return 0===R.length&&0===O.length?(0,ie.of)({...y,guardsResult:!0}):function mo(h,b,y,E){return(0,$e.D)(h).pipe((0,li.z)(I=>function Xr(h,b,y,E,I){const O=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!O||0===O.length)return(0,ie.of)(!0);const R=O.map(W=>{const ce=Zr(b)??I,ye=ta(W,ce);return St(function ir(h){return h&&Oi(h.canDeactivate)}(ye)?ye.canDeactivate(h,b,y,E):ce.runInContext(()=>ye(h,b,y,E))).pipe((0,Kt.P)())});return(0,ie.of)(R).pipe(wi())}(I.component,I.route,y,b,E)),(0,Kt.P)(I=>!0!==I,!0))}(R,E,I,h).pipe((0,li.z)(W=>W&&function Nl(h){return"boolean"==typeof h}(W)?function ma(h,b,y,E){return(0,$e.D)(b).pipe((0,Li.b)(I=>(0,Ve.z)(function fa(h,b){return null!==h&&b&&b(new Ua(h)),(0,ie.of)(!0)}(I.route.parent,E),function pa(h,b){return null!==h&&b&&b(new xl(h)),(0,ie.of)(!0)}(I.route,E),function oc(h,b,y){const E=b[b.length-1],O=b.slice(0,b.length-1).reverse().map(R=>function wc(h){const b=h.routeConfig?h.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:h,guards:b}:null}(R)).filter(R=>null!==R).map(R=>(0,it.P)(()=>{const W=R.guards.map(ce=>{const ye=Zr(R.node)??y,we=ta(ce,ye);return St(function lr(h){return h&&Oi(h.canActivateChild)}(we)?we.canActivateChild(E,h):ye.runInContext(()=>we(E,h))).pipe((0,Kt.P)())});return(0,ie.of)(W).pipe(wi())}));return(0,ie.of)(O).pipe(wi())}(h,I.path,y),function rc(h,b,y){const E=b.routeConfig?b.routeConfig.canActivate:null;if(!E||0===E.length)return(0,ie.of)(!0);const I=E.map(O=>(0,it.P)(()=>{const R=Zr(b)??y,W=ta(O,R);return St(function El(h){return h&&Oi(h.canActivate)}(W)?W.canActivate(b,h):R.runInContext(()=>W(b,h))).pipe((0,Kt.P)())}));return(0,ie.of)(I).pipe(wi())}(h,I.route,y))),(0,Kt.P)(I=>!0!==I,!0))}(E,O,h,b):(0,ie.of)(W)),(0,Ze.U)(W=>({...y,guardsResult:W})))})}(this.environmentInjector,R=>this.events.next(R)),(0,Si.b)(R=>{if(E.guardsResult=R.guardsResult,tt(R.guardsResult))throw Is(0,R.guardsResult);const W=new Da(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects),R.targetSnapshot,!!R.guardsResult);this.events.next(W)}),(0,At.h)(R=>!!R.guardsResult||(y.restoreHistory(R),this.cancelNavigationTransition(R,"",3),!1)),qn(R=>{if(R.guards.canActivateChecks.length)return(0,ie.of)(R).pipe((0,Si.b)(W=>{const ce=new bl(W.id,this.urlSerializer.serialize(W.extractedUrl),this.urlSerializer.serialize(W.urlAfterRedirects),W.targetSnapshot);this.events.next(ce)}),(0,Oe.w)(W=>{let ce=!1;return(0,ie.of)(W).pipe(function Sl(h,b){return(0,li.z)(y=>{const{targetSnapshot:E,guards:{canActivateChecks:I}}=y;if(!I.length)return(0,ie.of)(y);let O=0;return(0,$e.D)(I).pipe((0,Li.b)(R=>function sl(h,b,y,E){const I=h.routeConfig,O=h._resolve;return void 0!==I?.title&&!Wa(I)&&(O[ot]=I.title),function na(h,b,y,E){const I=function Ci(h){return[...Object.keys(h),...Object.getOwnPropertySymbols(h)]}(h);if(0===I.length)return(0,ie.of)({});const O={};return(0,$e.D)(I).pipe((0,li.z)(R=>function Bl(h,b,y,E){const I=Zr(b)??E,O=ta(h,I);return St(O.resolve?O.resolve(b,y):I.runInContext(()=>O(b,y)))}(h[R],b,y,E).pipe((0,Kt.P)(),(0,Si.b)(W=>{O[R]=W}))),In(1),(0,Ft.h)(O),(0,En.K)(R=>xe(R)?Qe.E:(0,nt._)(R)))}(O,h,b,E).pipe((0,Ze.U)(R=>(h._resolvedData=R,h.data=uo(h,y).resolve,I&&Wa(I)&&(h.data[ot]=I.title),null)))}(R.route,E,h,b)),(0,Si.b)(()=>O++),In(1),(0,li.z)(R=>O===I.length?(0,ie.of)(y):Qe.E))})}(y.paramsInheritanceStrategy,this.environmentInjector),(0,Si.b)({next:()=>ce=!0,complete:()=>{ce||(y.restoreHistory(W),this.cancelNavigationTransition(W,"",2))}}))}),(0,Si.b)(W=>{const ce=new Ll(W.id,this.urlSerializer.serialize(W.extractedUrl),this.urlSerializer.serialize(W.urlAfterRedirects),W.targetSnapshot);this.events.next(ce)}))}),qn(R=>{const W=ce=>{const ye=[];ce.routeConfig?.loadComponent&&!ce.routeConfig._loadedComponent&&ye.push(this.configLoader.loadComponent(ce.routeConfig).pipe((0,Si.b)(we=>{ce.component=we}),(0,Ze.U)(()=>{})));for(const we of ce.children)ye.push(...W(we));return ye};return(0,ke.a)(W(R.targetSnapshot.root)).pipe((0,Zn.d)(),(0,gt.q)(1))}),qn(()=>this.afterPreactivation()),(0,Ze.U)(R=>{const W=function ls(h,b,y){const E=gs(h,b._root,y?y._root:void 0);return new ar(E,b)}(y.routeReuseStrategy,R.targetSnapshot,R.currentRouterState);return E={...R,targetRouterState:W}}),(0,Si.b)(R=>{y.currentUrlTree=R.urlAfterRedirects,y.rawUrlTree=y.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl),y.routerState=R.targetRouterState,"deferred"===y.urlUpdateStrategy&&(R.extras.skipLocationChange||y.setBrowserUrl(y.rawUrlTree,R),y.browserUrlTree=R.urlAfterRedirects)}),((h,b,y,E)=>(0,Ze.U)(I=>(new ea(b,I.targetRouterState,I.currentRouterState,y,E).activate(h),I)))(this.rootContexts,y.routeReuseStrategy,R=>this.events.next(R),this.inputBindingEnabled),(0,gt.q)(1),(0,Si.b)({next:R=>{I=!0,this.lastSuccessfulNavigation=this.currentNavigation,y.navigated=!0,this.events.next(new Mo(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(y.currentUrlTree))),y.titleStrategy?.updateTitle(R.targetRouterState.snapshot),R.resolve(!0)},complete:()=>{I=!0}}),(0,Jt.x)(()=>{I||O||this.cancelNavigationTransition(E,"",1),this.currentNavigation?.id===E.id&&(this.currentNavigation=null)}),(0,En.K)(R=>{if(O=!0,Hs(R)){ho(R)||(y.navigated=!0,y.restoreHistory(E,!0));const W=new co(E.id,this.urlSerializer.serialize(E.extractedUrl),R.message,R.cancellationCode);if(this.events.next(W),ho(R)){const ce=y.urlHandlingStrategy.merge(R.url,y.rawUrlTree),ye={skipLocationChange:E.extras.skipLocationChange,replaceUrl:"eager"===y.urlUpdateStrategy||qe(E.source)};y.scheduleNavigation(ce,wr,null,ye,{resolve:E.resolve,reject:E.reject,promise:E.promise})}else E.resolve(!1)}else{y.restoreHistory(E,!0);const W=new Mr(E.id,this.urlSerializer.serialize(E.extractedUrl),R,E.targetSnapshot??void 0);this.events.next(W);try{E.resolve(y.errorHandler(R))}catch(ce){E.reject(ce)}}return Qe.E}))}))}cancelNavigationTransition(y,E,I){const O=new co(y.id,this.urlSerializer.serialize(y.extractedUrl),E,I);this.events.next(O),y.resolve(!1)}}return h.\u0275fac=function(y){return new(y||h)},h.\u0275prov=M.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();function qe(h){return h!==wr}let Pt=(()=>{class h{buildTitle(y){let E,I=y.root;for(;void 0!==I;)E=this.getResolvedTitleForRoute(I)??E,I=I.children.find(O=>O.outlet===je);return E}getResolvedTitleForRoute(y){return y.data[ot]}}return h.\u0275fac=function(y){return new(y||h)},h.\u0275prov=M.Yz7({token:h,factory:function(){return(0,M.f3M)($t)},providedIn:"root"}),h})(),$t=(()=>{class h extends Pt{constructor(y){super(),this.title=y}updateTitle(y){const E=this.buildTitle(y);void 0!==E&&this.title.setTitle(E)}}return h.\u0275fac=function(y){return new(y||h)(M.LFG(hi.Dx))},h.\u0275prov=M.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Ui=(()=>{class h{}return h.\u0275fac=function(y){return new(y||h)},h.\u0275prov=M.Yz7({token:h,factory:function(){return(0,M.f3M)(jn)},providedIn:"root"}),h})();class nr{shouldDetach(b){return!1}store(b,y){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,y){return b.routeConfig===y.routeConfig}}let jn=(()=>{class h extends nr{}return h.\u0275fac=function(){let b;return function(E){return(b||(b=M.n5z(h)))(E||h)}}(),h.\u0275prov=M.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();const Rn=new M.OlP("",{providedIn:"root",factory:()=>({})});let Tn=(()=>{class h{}return h.\u0275fac=function(y){return new(y||h)},h.\u0275prov=M.Yz7({token:h,factory:function(){return(0,M.f3M)(yr)},providedIn:"root"}),h})(),yr=(()=>{class h{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,E){return y}}return h.\u0275fac=function(y){return new(y||h)},h.\u0275prov=M.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();var tn=(()=>((tn=tn||{})[tn.COMPLETE=0]="COMPLETE",tn[tn.FAILED=1]="FAILED",tn[tn.REDIRECTING=2]="REDIRECTING",tn))();function mr(h,b){h.events.pipe((0,At.h)(y=>y instanceof Mo||y instanceof co||y instanceof Mr||y instanceof Cn),(0,Ze.U)(y=>y instanceof Mo||y instanceof Cn?tn.COMPLETE:y instanceof co&&(0===y.code||1===y.code)?tn.REDIRECTING:tn.FAILED),(0,At.h)(y=>y!==tn.REDIRECTING),(0,gt.q)(1)).subscribe(()=>{b()})}function ra(h){throw h}function Yi(h,b,y){return b.parse("/")}const bs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let jr=(()=>{class h{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,M.f3M)(M.c2e),this.isNgZoneEnabled=!1,this.options=(0,M.f3M)(Rn,{optional:!0})||{},this.pendingTasks=(0,M.f3M)(M.HDt),this.errorHandler=this.options.errorHandler||ra,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Yi,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,M.f3M)(Tn),this.routeReuseStrategy=(0,M.f3M)(Ui),this.titleStrategy=(0,M.f3M)(Pt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,M.f3M)(zo,{optional:!0})?.flat()??[],this.navigationTransitions=(0,M.f3M)(me),this.urlSerializer=(0,M.f3M)(Xt),this.location=(0,M.f3M)(Re.Ye),this.componentInputBindingEnabled=!!(0,M.f3M)(dn,{optional:!0}),this.isNgZoneEnabled=(0,M.f3M)(M.R0b)instanceof M.R0b&&M.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ie,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ti(0,null),this.navigationTransitions.setupNavigations(this).subscribe(y=>{this.lastSuccessfulId=y.id,this.currentPageId=this.browserPageId??0},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)})}resetRootComponentType(y){this.routerState.root.component=y,this.navigationTransitions.rootComponentType=y}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const y=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),wr,y)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const E="popstate"===y.type?"popstate":"hashchange";"popstate"===E&&setTimeout(()=>{this.navigateToSyncWithBrowser(y.url,E,y.state)},0)}))}navigateToSyncWithBrowser(y,E,I){const O={replaceUrl:!0},R=I?.navigationId?I:null;if(I){const ce={...I};delete ce.navigationId,delete ce.\u0275routerPageId,0!==Object.keys(ce).length&&(O.state=ce)}const W=this.parseUrl(y);this.scheduleNavigation(W,E,R,O)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(y){this.config=y.map(Br),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,E={}){const{relativeTo:I,queryParams:O,fragment:R,queryParamsHandling:W,preserveFragment:ce}=E,ye=ce?this.currentUrlTree.fragment:R;let Fe,we=null;switch(W){case"merge":we={...this.currentUrlTree.queryParams,...O};break;case"preserve":we=this.currentUrlTree.queryParams;break;default:we=O||null}null!==we&&(we=this.removeEmptyProps(we));try{Fe=Ke(I?I.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof y[0]||!y[0].startsWith("/"))&&(y=[]),Fe=this.currentUrlTree.root}return Me(Fe,y,we,ye??null)}navigateByUrl(y,E={skipLocationChange:!1}){const I=tt(y)?y:this.parseUrl(y),O=this.urlHandlingStrategy.merge(I,this.rawUrlTree);return this.scheduleNavigation(O,wr,null,E)}navigate(y,E={skipLocationChange:!1}){return function fo(h){for(let b=0;b<h.length;b++)if(null==h[b])throw new M.vHH(4008,!1)}(y),this.navigateByUrl(this.createUrlTree(y,E),E)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let E;try{E=this.urlSerializer.parse(y)}catch(I){E=this.malformedUriErrorHandler(I,this.urlSerializer,y)}return E}isActive(y,E){let I;if(I=!0===E?{...bs}:!1===E?{...xs}:E,tt(y))return Zi(this.currentUrlTree,y,I);const O=this.parseUrl(y);return Zi(this.currentUrlTree,O,I)}removeEmptyProps(y){return Object.keys(y).reduce((E,I)=>{const O=y[I];return null!=O&&(E[I]=O),E},{})}scheduleNavigation(y,E,I,O,R){if(this.disposed)return Promise.resolve(!1);let W,ce,ye;R?(W=R.resolve,ce=R.reject,ye=R.promise):ye=new Promise((Fe,rt)=>{W=Fe,ce=rt});const we=this.pendingTasks.add();return mr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(we))}),this.navigationTransitions.handleNavigationRequest({source:E,restoredState:I,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:y,extras:O,resolve:W,reject:ce,promise:ye,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ye.catch(Fe=>Promise.reject(Fe))}setBrowserUrl(y,E){const I=this.urlSerializer.serialize(y);if(this.location.isCurrentPathEqualTo(I)||E.extras.replaceUrl){const R={...E.extras.state,...this.generateNgRouterState(E.id,this.browserPageId)};this.location.replaceState(I,"",R)}else{const O={...E.extras.state,...this.generateNgRouterState(E.id,(this.browserPageId??0)+1)};this.location.go(I,"",O)}}restoreHistory(y,E=!1){if("computed"===this.canceledNavigationResolution){const O=this.currentPageId-(this.browserPageId??this.currentPageId);0!==O?this.location.historyGo(O):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===O&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(E&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(y,E){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:E}:{navigationId:y}}}return h.\u0275fac=function(y){return new(y||h)},h.\u0275prov=M.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Xn=(()=>{class h{constructor(y,E,I,O,R,W){this.router=y,this.route=E,this.tabIndexAttribute=I,this.renderer=O,this.el=R,this.locationStrategy=W,this.href=null,this.commands=null,this.onChanges=new Qt.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ce=R.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ce||"area"===ce,this.isAnchorElement?this.subscription=y.events.subscribe(ye=>{ye instanceof Mo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(y){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",y)}ngOnChanges(y){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(y,E,I,O,R){return!!(null===this.urlTree||this.isAnchorElement&&(0!==y||E||I||O||R||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const y=null===this.href?null:(0,M.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",y)}applyAttributeValue(y,E){const I=this.renderer,O=this.el.nativeElement;null!==E?I.setAttribute(O,y,E):I.removeAttribute(O,y)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return h.\u0275fac=function(y){return new(y||h)(M.Y36(jr),M.Y36(On),M.$8M("tabindex"),M.Y36(M.Qsj),M.Y36(M.SBq),M.Y36(Re.S$))},h.\u0275dir=M.lG2({type:h,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(y,E){1&y&&M.NdJ("click",function(O){return E.onClick(O.button,O.ctrlKey,O.shiftKey,O.altKey,O.metaKey)}),2&y&&M.uIk("target",E.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",M.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",M.VuI],replaceUrl:["replaceUrl","replaceUrl",M.VuI],routerLink:"routerLink"},standalone:!0,features:[M.Xq5,M.TTD]}),h})(),un=(()=>{class h{get isActive(){return this._isActive}constructor(y,E,I,O,R){this.router=y,this.element=E,this.renderer=I,this.cdr=O,this.link=R,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new M.vpe,this.routerEventsSubscription=y.events.subscribe(W=>{W instanceof Mo&&this.update()})}ngAfterContentInit(){(0,ie.of)(this.links.changes,(0,ie.of)(null)).pipe((0,Et.J)()).subscribe(y=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const y=[...this.links.toArray(),this.link].filter(E=>!!E).map(E=>E.onChanges);this.linkInputChangesSubscription=(0,$e.D)(y).pipe((0,Et.J)()).subscribe(E=>{this._isActive!==this.isLinkActive(this.router)(E)&&this.update()})}set routerLinkActive(y){const E=Array.isArray(y)?y:y.split(" ");this.classes=E.filter(I=>!!I)}ngOnChanges(y){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const y=this.hasActiveLinks();this._isActive!==y&&(this._isActive=y,this.cdr.markForCheck(),this.classes.forEach(E=>{y?this.renderer.addClass(this.element.nativeElement,E):this.renderer.removeClass(this.element.nativeElement,E)}),y&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(y))})}isLinkActive(y){const E=function Pa(h){return!!h.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return I=>!!I.urlTree&&y.isActive(I.urlTree,E)}hasActiveLinks(){const y=this.isLinkActive(this.router);return this.link&&y(this.link)||this.links.some(y)}}return h.\u0275fac=function(y){return new(y||h)(M.Y36(jr),M.Y36(M.SBq),M.Y36(M.Qsj),M.Y36(M.sBO),M.Y36(Xn,8))},h.\u0275dir=M.lG2({type:h,selectors:[["","routerLinkActive",""]],contentQueries:function(y,E,I){if(1&y&&M.Suo(I,Xn,5),2&y){let O;M.iGM(O=M.CRH())&&(E.links=O)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[M.TTD]}),h})();class Dc{}let Sc=(()=>{class h{constructor(y,E,I,O,R){this.router=y,this.injector=I,this.preloadingStrategy=O,this.loader=R}setUpPreloading(){this.subscription=this.router.events.pipe((0,At.h)(y=>y instanceof Mo),(0,Li.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,E){const I=[];for(const O of E){O.providers&&!O._injector&&(O._injector=(0,M.MMx)(O.providers,y,`Route: ${O.path}`));const R=O._injector??y,W=O._loadedInjector??R;(O.loadChildren&&!O._loadedRoutes&&void 0===O.canLoad||O.loadComponent&&!O._loadedComponent)&&I.push(this.preloadConfig(R,O)),(O.children||O._loadedRoutes)&&I.push(this.processRoutes(W,O.children??O._loadedRoutes))}return(0,$e.D)(I).pipe((0,Et.J)())}preloadConfig(y,E){return this.preloadingStrategy.preload(E,()=>{let I;I=E.loadChildren&&void 0===E.canLoad?this.loader.loadChildren(y,E):(0,ie.of)(null);const O=I.pipe((0,li.z)(R=>null===R?(0,ie.of)(void 0):(E._loadedRoutes=R.routes,E._loadedInjector=R.injector,this.processRoutes(R.injector??y,R.routes))));if(E.loadComponent&&!E._loadedComponent){const R=this.loader.loadComponent(E);return(0,$e.D)([O,R]).pipe((0,Et.J)())}return O})}}return h.\u0275fac=function(y){return new(y||h)(M.LFG(jr),M.LFG(M.Sil),M.LFG(M.lqb),M.LFG(Dc),M.LFG(N))},h.\u0275prov=M.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();const eo=new M.OlP("");let ni=(()=>{class h{constructor(y,E,I,O,R={}){this.urlSerializer=y,this.transitions=E,this.viewportScroller=I,this.zone=O,this.options=R,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},R.scrollPositionRestoration=R.scrollPositionRestoration||"disabled",R.anchorScrolling=R.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof Eo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof Mo?(this.lastId=y.id,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.urlAfterRedirects).fragment)):y instanceof Cn&&0===y.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof Sr&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,E){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Sr(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,E))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return h.\u0275fac=function(y){M.$Z()},h.\u0275prov=M.Yz7({token:h,factory:h.\u0275fac}),h})();function ws(h,b){return{\u0275kind:h,\u0275providers:b}}function Ps(){const h=(0,M.f3M)(M.zs3);return b=>{const y=h.get(M.z2F);if(b!==y.components[0])return;const E=h.get(jr),I=h.get(sc);1===h.get(oa)&&E.initialNavigation(),h.get(Jo,null,M.XFs.Optional)?.setUpPreloading(),h.get(eo,null,M.XFs.Optional)?.init(),E.resetRootComponentType(y.componentTypes[0]),I.closed||(I.next(),I.complete(),I.unsubscribe())}}const sc=new M.OlP("",{factory:()=>new Qt.x}),oa=new M.OlP("",{providedIn:"root",factory:()=>1}),Jo=new M.OlP("");function Ul(h){return ws(0,[{provide:Jo,useExisting:Sc},{provide:Dc,useExisting:h}])}const Tl=new M.OlP("ROUTER_FORROOT_GUARD"),jl=[Re.Ye,{provide:Xt,useClass:Ut},jr,Nr,{provide:On,useFactory:function Ki(h){return h.routerState.root},deps:[jr]},N,[]];function Ka(){return new M.PXZ("Router",jr)}let Oa=(()=>{class h{constructor(y){}static forRoot(y,E){return{ngModule:h,providers:[jl,[],{provide:zo,multi:!0,useValue:y},{provide:Tl,useFactory:Al,deps:[[jr,new M.FiY,new M.tp0]]},{provide:Rn,useValue:E||{}},E?.useHash?{provide:Re.S$,useClass:Re.Do}:{provide:Re.S$,useClass:Re.b0},{provide:eo,useFactory:()=>{const h=(0,M.f3M)(Re.EM),b=(0,M.f3M)(M.R0b),y=(0,M.f3M)(Rn),E=(0,M.f3M)(me),I=(0,M.f3M)(Xt);return y.scrollOffset&&h.setOffset(y.scrollOffset),new ni(I,E,h,b,y)}},E?.preloadingStrategy?Ul(E.preloadingStrategy).\u0275providers:[],{provide:M.PXZ,multi:!0,useFactory:Ka},E?.initialNavigation?ac(E):[],E?.bindToComponentInputs?ws(8,[dr,{provide:dn,useExisting:dr}]).\u0275providers:[],[{provide:kl,useFactory:Ps},{provide:M.tb,multi:!0,useExisting:kl}]]}}static forChild(y){return{ngModule:h,providers:[{provide:zo,multi:!0,useValue:y}]}}}return h.\u0275fac=function(y){return new(y||h)(M.LFG(Tl,8))},h.\u0275mod=M.oAB({type:h}),h.\u0275inj=M.cJS({}),h})();function Al(h){return"guarded"}function ac(h){return["disabled"===h.initialNavigation?ws(3,[{provide:M.ip1,multi:!0,useFactory:()=>{const b=(0,M.f3M)(jr);return()=>{b.setUpLocationChangeListener()}}},{provide:oa,useValue:2}]).\u0275providers:[],"enabledBlocking"===h.initialNavigation?ws(2,[{provide:oa,useValue:0},{provide:M.ip1,multi:!0,deps:[M.zs3],useFactory:b=>{const y=b.get(Re.V_,Promise.resolve());return()=>y.then(()=>new Promise(E=>{const I=b.get(jr),O=b.get(sc);mr(I,()=>{E(!0)}),b.get(me).afterPreactivation=()=>(E(!0),O.closed?(0,ie.of)(void 0):O),I.initialNavigation()}))}}]).\u0275providers:[]]}const kl=new M.OlP("")},7582:(gi,ft,j)=>{"use strict";function Le(wt,xt,kt,Ft){return new(kt||(kt=Promise))(function(Et,hi){function je(ct){try{ht(Ft.next(ct))}catch(De){hi(De)}}function ot(ct){try{ht(Ft.throw(ct))}catch(De){hi(De)}}function ht(ct){ct.done?Et(ct.value):function Jt(Et){return Et instanceof kt?Et:new kt(function(hi){hi(Et)})}(ct.value).then(je,ot)}ht((Ft=Ft.apply(wt,xt||[])).next())})}function Re(wt){return this instanceof Re?(this.v=wt,this):new Re(wt)}function Ze(wt,xt,kt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Jt,Ft=kt.apply(wt,xt||[]),Et=[];return Jt={},hi("next"),hi("throw"),hi("return"),Jt[Symbol.asyncIterator]=function(){return this},Jt;function hi(qt){Ft[qt]&&(Jt[qt]=function(Zt){return new Promise(function(ei,Xe){Et.push([qt,Zt,ei,Xe])>1||je(qt,Zt)})})}function je(qt,Zt){try{!function ot(qt){qt.value instanceof Re?Promise.resolve(qt.value.v).then(ht,ct):De(Et[0][2],qt)}(Ft[qt](Zt))}catch(ei){De(Et[0][3],ei)}}function ht(qt){je("next",qt)}function ct(qt){je("throw",qt)}function De(qt,Zt){qt(Zt),Et.shift(),Et.length&&je(Et[0][0],Et[0][1])}}function gt(wt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var kt,xt=wt[Symbol.asyncIterator];return xt?xt.call(wt):(wt=function bt(wt){var xt="function"==typeof Symbol&&Symbol.iterator,kt=xt&&wt[xt],Ft=0;if(kt)return kt.call(wt);if(wt&&"number"==typeof wt.length)return{next:function(){return wt&&Ft>=wt.length&&(wt=void 0),{value:wt&&wt[Ft++],done:!wt}}};throw new TypeError(xt?"Object is not iterable.":"Symbol.iterator is not defined.")}(wt),kt={},Ft("next"),Ft("throw"),Ft("return"),kt[Symbol.asyncIterator]=function(){return this},kt);function Ft(Et){kt[Et]=wt[Et]&&function(hi){return new Promise(function(je,ot){!function Jt(Et,hi,je,ot){Promise.resolve(ot).then(function(ht){Et({value:ht,done:je})},hi)}(je,ot,(hi=wt[Et](hi)).done,hi.value)})}}}j.d(ft,{FC:()=>Ze,KL:()=>gt,mG:()=>Le,qq:()=>Re}),"function"==typeof SuppressedError&&SuppressedError}},gi=>{gi(gi.s=8956)}]);
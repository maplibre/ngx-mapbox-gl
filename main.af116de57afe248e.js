(self.webpackChunkshowcase=self.webpackChunkshowcase||[]).push([[179],{6637:(_i,pt,H)=>{"use strict";H.d(pt,{a:()=>je});var C=H(8484),l=H(5879);function le(ne,He){1&ne&&l.Hsn(0)}const v=["*"];let je=(()=>{class ne{constructor(Oe,Ge,Ve){this.componentFactoryResolver=Oe,this.injector=Ge,this.appRef=Ve}ngAfterViewInit(){this.portalOutlet=new C.u0(document.querySelector("left"===this.position?"#layout-left-custom-items":"#layout-right-custom-items"),this.componentFactoryResolver,this.appRef,this.injector),this.portalOutlet.attach(this.portal)}ngOnDestroy(){this.portalOutlet.detach()}}return ne.\u0275fac=function(Oe){return new(Oe||ne)(l.Y36(l._Vd),l.Y36(l.zs3),l.Y36(l.z2F))},ne.\u0275cmp=l.Xpm({type:ne,selectors:[["showcase-layout-toolbar-menu"]],viewQuery:function(Oe,Ge){if(1&Oe&&l.Gf(C.ig,5),2&Oe){let Ve;l.iGM(Ve=l.CRH())&&(Ge.portal=Ve.first)}},inputs:{position:"position"},ngContentSelectors:v,decls:1,vars:0,consts:[["cdk-portal",""]],template:function(Oe,Ge){1&Oe&&(l.F$t(),l.YNc(0,le,1,0,"ng-template",0))},dependencies:[C.bH],encapsulation:2}),ne})()},2627:(_i,pt,H)=>{"use strict";H.d(pt,{$:()=>ne});var C=H(5879),l=H(8184),le=H(1274),v=H(617),je=H(2296);let ne=(()=>{class He{}return He.\u0275fac=function(Ge){return new(Ge||He)},He.\u0275cmp=C.Xpm({type:He,selectors:[["ng-component"]],decls:18,vars:0,consts:[["color","primary"],["id","layout-left-custom-items"],["mat-icon-button","","routerLink","/"],["svgIcon","ngx-maplibre-gl"],["mat-button","","routerLink","/"],["mat-button","","routerLink","/demo"],["mat-button","","routerLink","/doc"],["id","layout-right-custom-items"],["mat-button","","href","https://github.com/maplibre/ngx-maplibre-gl"],["mat-icon-button","","href","https://github.com/maplibre/ngx-maplibre-gl"],["svgIcon","github"]],template:function(Ge,Ve){1&Ge&&(C.TgZ(0,"mat-toolbar",0)(1,"div"),C._UZ(2,"div",1),C.TgZ(3,"a",2),C._UZ(4,"mat-icon",3),C.qZA(),C.TgZ(5,"a",4),C._uU(6," ngx-maplibre-gl "),C.qZA(),C.TgZ(7,"a",5),C._uU(8," Demo "),C.qZA(),C.TgZ(9,"a",6),C._uU(10," Documentation "),C.qZA()(),C.TgZ(11,"div"),C._UZ(12,"div",7),C.TgZ(13,"a",8),C._uU(14," Github "),C.qZA(),C.TgZ(15,"a",9),C._UZ(16,"mat-icon",10),C.qZA()()(),C._UZ(17,"router-outlet"))},dependencies:[l.lC,l.rH,le.Ye,v.Hw,je.zs,je.o6],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1;height:100vh}mat-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 16px 0 0}div[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center}.menu-button[_ngcontent-%COMP%]{height:100%}"]}),He})()},877:(_i,pt,H)=>{"use strict";H.d(pt,{x:()=>nt});var C=H(8484),l=H(6814),le=H(2296),v=H(617),je=H(1274),ne=H(8184),Ge=(H(6637),H(2627),H(5879));let nt=(()=>{class Fe{}return Fe.\u0275fac=function(Xe){return new(Xe||Fe)},Fe.\u0275mod=Ge.oAB({type:Fe}),Fe.\u0275inj=Ge.cJS({imports:[l.ez,ne.Bz,je.g0,v.Ps,le.ot,C.eL]}),Fe})()},8956:(_i,pt,H)=>{"use strict";var C=H(6593),l=H(5879),le=H(8184);let v=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-root"]],decls:1,vars:0,template:function(r,h){1&r&&l._UZ(0,"router-outlet")},dependencies:[le.lC],encapsulation:2}),c})();var je=H(617),ne=H(6825);function Oe(c){return new l.vHH(3e3,!1)}function ut(c){switch(c.length){case 0:return new ne.ZN;case 1:return c[0];default:return new ne.ZE(c)}}function Ee(c,m,r=new Map,h=new Map){const A=[],N=[];let re=-1,ve=null;if(m.forEach(Ke=>{const dt=Ke.get("offset"),jt=dt==re,qt=jt&&ve||new Map;Ke.forEach((Si,Hi)=>{let zi=Hi,$i=Si;if("offset"!==Hi)switch(zi=c.normalizePropertyName(zi,A),$i){case ne.k1:$i=r.get(Hi);break;case ne.l3:$i=h.get(Hi);break;default:$i=c.normalizeStyleValue(Hi,zi,$i,A)}qt.set(zi,$i)}),jt||N.push(qt),ve=qt,re=dt}),A.length)throw function $n(c){return new l.vHH(3502,!1)}();return N}function ht(c,m,r,h){switch(m){case"start":c.onStart(()=>h(r&&Kt(r,"start",c)));break;case"done":c.onDone(()=>h(r&&Kt(r,"done",c)));break;case"destroy":c.onDestroy(()=>h(r&&Kt(r,"destroy",c)))}}function Kt(c,m,r){const N=Bt(c.element,c.triggerName,c.fromState,c.toState,m||c.phaseName,r.totalTime??c.totalTime,!!r.disabled),re=c._data;return null!=re&&(N._data=re),N}function Bt(c,m,r,h,A="",N=0,re){return{element:c,triggerName:m,fromState:r,toState:h,phaseName:A,totalTime:N,disabled:!!re}}function ri(c,m,r){let h=c.get(m);return h||c.set(m,h=r),h}function ot(c){const m=c.indexOf(":");return[c.substring(1,m),c.slice(m+1)]}const Dt=(()=>typeof document>"u"?null:document.documentElement)();function wi(c){const m=c.parentNode||c.host||null;return m===Dt?null:m}let Wi=null,Nn=!1;function ae(c,m){for(;m;){if(m===c)return!0;m=wi(m)}return!1}function Se(c,m,r){if(r)return Array.from(c.querySelectorAll(m));const h=c.querySelector(m);return h?[h]:[]}let he=(()=>{class c{validateStyleProperty(r){return function Cn(c){Wi||(Wi=function at(){return typeof document<"u"?document.body:null}()||{},Nn=!!Wi.style&&"WebkitAppearance"in Wi.style);let m=!0;return Wi.style&&!function vn(c){return"ebkit"==c.substring(1,6)}(c)&&(m=c in Wi.style,!m&&Nn&&(m="Webkit"+c.charAt(0).toUpperCase()+c.slice(1)in Wi.style)),m}(r)}matchesElement(r,h){return!1}containsElement(r,h){return ae(r,h)}getParentElement(r){return wi(r)}query(r,h,A){return Se(r,h,A)}computeStyle(r,h,A){return A||""}animate(r,h,A,N,re,ve=[],Ke){return new ne.ZN(A,N)}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac}),c})(),de=(()=>{class c{}return c.NOOP=new he,c})();const Re=1e3,Lt="ng-enter",yi="ng-leave",pi="ng-trigger",en=".ng-trigger",nn="ng-animating",Qi=".ng-animating";function Vi(c){if("number"==typeof c)return c;const m=c.match(/^(-?[\.\d]+)(m?s)/);return!m||m.length<2?0:At(parseFloat(m[1]),m[2])}function At(c,m){return"s"===m?c*Re:c}function ci(c,m,r){return c.hasOwnProperty("duration")?c:function vt(c,m,r){let A,N=0,re="";if("string"==typeof c){const ve=c.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ve)return m.push(Oe()),{duration:0,delay:0,easing:""};A=At(parseFloat(ve[1]),ve[2]);const Ke=ve[3];null!=Ke&&(N=At(parseFloat(Ke),ve[4]));const dt=ve[5];dt&&(re=dt)}else A=c;if(!r){let ve=!1,Ke=m.length;A<0&&(m.push(function Ge(){return new l.vHH(3100,!1)}()),ve=!0),N<0&&(m.push(function Ve(){return new l.vHH(3101,!1)}()),ve=!0),ve&&m.splice(Ke,0,Oe())}return{duration:A,delay:N,easing:re}}(c,m,r)}function q(c,m={}){return Object.keys(c).forEach(r=>{m[r]=c[r]}),m}function B(c){const m=new Map;return Object.keys(c).forEach(r=>{m.set(r,c[r])}),m}function _e(c,m=new Map,r){if(r)for(let[h,A]of r)m.set(h,A);for(let[h,A]of c)m.set(h,A);return m}function ke(c,m,r){m.forEach((h,A)=>{const N=ue(A);r&&!r.has(A)&&r.set(A,c.style[N]),c.style[N]=h})}function ge(c,m){m.forEach((r,h)=>{const A=ue(h);c.style[A]=""})}function se(c){return Array.isArray(c)?1==c.length?c[0]:(0,ne.vP)(c):c}const me=new RegExp("{{\\s*(.+?)\\s*}}","g");function Je(c){let m=[];if("string"==typeof c){let r;for(;r=me.exec(c);)m.push(r[1]);me.lastIndex=0}return m}function lt(c,m,r){const h=c.toString(),A=h.replace(me,(N,re)=>{let ve=m[re];return null==ve&&(r.push(function Fe(c){return new l.vHH(3003,!1)}()),ve=""),ve.toString()});return A==h?c:A}function xe(c){const m=[];let r=c.next();for(;!r.done;)m.push(r.value),r=c.next();return m}const Ie=/-+([a-z0-9])/g;function ue(c){return c.replace(Ie,(...m)=>m[1].toUpperCase())}function Ye(c,m,r){switch(m.type){case 7:return c.visitTrigger(m,r);case 0:return c.visitState(m,r);case 1:return c.visitTransition(m,r);case 2:return c.visitSequence(m,r);case 3:return c.visitGroup(m,r);case 4:return c.visitAnimate(m,r);case 5:return c.visitKeyframes(m,r);case 6:return c.visitStyle(m,r);case 8:return c.visitReference(m,r);case 9:return c.visitAnimateChild(m,r);case 10:return c.visitAnimateRef(m,r);case 11:return c.visitQuery(m,r);case 12:return c.visitStagger(m,r);default:throw function et(c){return new l.vHH(3004,!1)}()}}function Te(c,m){return window.getComputedStyle(c)[m]}const Ui="*";function Gn(c,m){const r=[];return"string"==typeof c?c.split(/\s*,\s*/).forEach(h=>function To(c,m,r){if(":"==c[0]){const Ke=function kr(c,m){switch(c){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,h)=>parseFloat(h)>parseFloat(r);case":decrement":return(r,h)=>parseFloat(h)<parseFloat(r);default:return m.push(function ti(c){return new l.vHH(3016,!1)}()),"* => *"}}(c,r);if("function"==typeof Ke)return void m.push(Ke);c=Ke}const h=c.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==h||h.length<4)return r.push(function ui(c){return new l.vHH(3015,!1)}()),m;const A=h[1],N=h[2],re=h[3];m.push(io(A,re));"<"==N[0]&&!(A==Ui&&re==Ui)&&m.push(io(re,A))}(h,r,m)):r.push(c),r}const kn=new Set(["true","1"]),Nr=new Set(["false","0"]);function io(c,m){const r=kn.has(c)||Nr.has(c),h=kn.has(m)||Nr.has(m);return(A,N)=>{let re=c==Ui||c==A,ve=m==Ui||m==N;return!re&&r&&"boolean"==typeof A&&(re=A?kn.has(c):Nr.has(c)),!ve&&h&&"boolean"==typeof N&&(ve=N?kn.has(m):Nr.has(m)),re&&ve}}const fn=new RegExp("s*:selfs*,?","g");function Dr(c,m,r,h){return new er(c).build(m,r,h)}class er{constructor(m){this._driver=m}build(m,r,h){const A=new lo(r);return this._resetContextStyleTimingState(A),Ye(this,se(m),A)}_resetContextStyleTimingState(m){m.currentQuerySelector="",m.collectedStyles=new Map,m.collectedStyles.set("",new Map),m.currentTime=0}visitTrigger(m,r){let h=r.queryCount=0,A=r.depCount=0;const N=[],re=[];return"@"==m.name.charAt(0)&&r.errors.push(function ct(){return new l.vHH(3006,!1)}()),m.definitions.forEach(ve=>{if(this._resetContextStyleTimingState(r),0==ve.type){const Ke=ve,dt=Ke.name;dt.toString().split(/\s*,\s*/).forEach(jt=>{Ke.name=jt,N.push(this.visitState(Ke,r))}),Ke.name=dt}else if(1==ve.type){const Ke=this.visitTransition(ve,r);h+=Ke.queryCount,A+=Ke.depCount,re.push(Ke)}else r.errors.push(function bt(){return new l.vHH(3007,!1)}())}),{type:7,name:m.name,states:N,transitions:re,queryCount:h,depCount:A,options:null}}visitState(m,r){const h=this.visitStyle(m.styles,r),A=m.options&&m.options.params||null;if(h.containsDynamicStyles){const N=new Set,re=A||{};h.styles.forEach(ve=>{ve instanceof Map&&ve.forEach(Ke=>{Je(Ke).forEach(dt=>{re.hasOwnProperty(dt)||N.add(dt)})})}),N.size&&(xe(N.values()),r.errors.push(function Vt(c,m){return new l.vHH(3008,!1)}()))}return{type:0,name:m.name,style:h,options:A?{params:A}:null}}visitTransition(m,r){r.queryCount=0,r.depCount=0;const h=Ye(this,se(m.animation),r);return{type:1,matchers:Gn(m.expr,r.errors),animation:h,queryCount:r.queryCount,depCount:r.depCount,options:no(m.options)}}visitSequence(m,r){return{type:2,steps:m.steps.map(h=>Ye(this,h,r)),options:no(m.options)}}visitGroup(m,r){const h=r.currentTime;let A=0;const N=m.steps.map(re=>{r.currentTime=h;const ve=Ye(this,re,r);return A=Math.max(A,r.currentTime),ve});return r.currentTime=A,{type:3,steps:N,options:no(m.options)}}visitAnimate(m,r){const h=function gn(c,m){if(c.hasOwnProperty("duration"))return c;if("number"==typeof c)return Ro(ci(c,m).duration,0,"");const r=c;if(r.split(/\s+/).some(N=>"{"==N.charAt(0)&&"{"==N.charAt(1))){const N=Ro(0,0,"");return N.dynamic=!0,N.strValue=r,N}const A=ci(r,m);return Ro(A.duration,A.delay,A.easing)}(m.timings,r.errors);r.currentAnimateTimings=h;let A,N=m.styles?m.styles:(0,ne.oB)({});if(5==N.type)A=this.visitKeyframes(N,r);else{let re=m.styles,ve=!1;if(!re){ve=!0;const dt={};h.easing&&(dt.easing=h.easing),re=(0,ne.oB)(dt)}r.currentTime+=h.duration+h.delay;const Ke=this.visitStyle(re,r);Ke.isEmptyStep=ve,A=Ke}return r.currentAnimateTimings=null,{type:4,timings:h,style:A,options:null}}visitStyle(m,r){const h=this._makeStyleAst(m,r);return this._validateStyleAst(h,r),h}_makeStyleAst(m,r){const h=[],A=Array.isArray(m.styles)?m.styles:[m.styles];for(let ve of A)"string"==typeof ve?ve===ne.l3?h.push(ve):r.errors.push(new l.vHH(3002,!1)):h.push(B(ve));let N=!1,re=null;return h.forEach(ve=>{if(ve instanceof Map&&(ve.has("easing")&&(re=ve.get("easing"),ve.delete("easing")),!N))for(let Ke of ve.values())if(Ke.toString().indexOf("{{")>=0){N=!0;break}}),{type:6,styles:h,easing:re,offset:m.offset,containsDynamicStyles:N,options:null}}_validateStyleAst(m,r){const h=r.currentAnimateTimings;let A=r.currentTime,N=r.currentTime;h&&N>0&&(N-=h.duration+h.delay),m.styles.forEach(re=>{"string"!=typeof re&&re.forEach((ve,Ke)=>{const dt=r.collectedStyles.get(r.currentQuerySelector),jt=dt.get(Ke);let qt=!0;jt&&(N!=A&&N>=jt.startTime&&A<=jt.endTime&&(r.errors.push(function Yt(c,m,r,h,A){return new l.vHH(3010,!1)}()),qt=!1),N=jt.startTime),qt&&dt.set(Ke,{startTime:N,endTime:A}),r.options&&function X(c,m,r){const h=m.params||{},A=Je(c);A.length&&A.forEach(N=>{h.hasOwnProperty(N)||r.push(function nt(c){return new l.vHH(3001,!1)}())})}(ve,r.options,r.errors)})})}visitKeyframes(m,r){const h={type:5,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push(function Le(){return new l.vHH(3011,!1)}()),h;let N=0;const re=[];let ve=!1,Ke=!1,dt=0;const jt=m.steps.map(Yn=>{const Mr=this._makeStyleAst(Yn,r);let Do=null!=Mr.offset?Mr.offset:function co(c){if("string"==typeof c)return null;let m=null;if(Array.isArray(c))c.forEach(r=>{if(r instanceof Map&&r.has("offset")){const h=r;m=parseFloat(h.get("offset")),h.delete("offset")}});else if(c instanceof Map&&c.has("offset")){const r=c;m=parseFloat(r.get("offset")),r.delete("offset")}return m}(Mr.styles),Lr=0;return null!=Do&&(N++,Lr=Mr.offset=Do),Ke=Ke||Lr<0||Lr>1,ve=ve||Lr<dt,dt=Lr,re.push(Lr),Mr});Ke&&r.errors.push(function Ue(){return new l.vHH(3012,!1)}()),ve&&r.errors.push(function Ae(){return new l.vHH(3200,!1)}());const qt=m.steps.length;let Si=0;N>0&&N<qt?r.errors.push(function It(){return new l.vHH(3202,!1)}()):0==N&&(Si=1/(qt-1));const Hi=qt-1,zi=r.currentTime,$i=r.currentAnimateTimings,Sn=$i.duration;return jt.forEach((Yn,Mr)=>{const Do=Si>0?Mr==Hi?1:Si*Mr:re[Mr],Lr=Do*Sn;r.currentTime=zi+$i.delay+Lr,$i.duration=Lr,this._validateStyleAst(Yn,r),Yn.offset=Do,h.styles.push(Yn)}),h}visitReference(m,r){return{type:8,animation:Ye(this,se(m.animation),r),options:no(m.options)}}visitAnimateChild(m,r){return r.depCount++,{type:9,options:no(m.options)}}visitAnimateRef(m,r){return{type:10,animation:this.visitReference(m.animation,r),options:no(m.options)}}visitQuery(m,r){const h=r.currentQuerySelector,A=m.options||{};r.queryCount++,r.currentQuery=m;const[N,re]=function ur(c){const m=!!c.split(/\s*,\s*/).find(r=>":self"==r);return m&&(c=c.replace(fn,"")),c=c.replace(/@\*/g,en).replace(/@\w+/g,r=>en+"-"+r.slice(1)).replace(/:animating/g,Qi),[c,m]}(m.selector);r.currentQuerySelector=h.length?h+" "+N:N,ri(r.collectedStyles,r.currentQuerySelector,new Map);const ve=Ye(this,se(m.animation),r);return r.currentQuery=null,r.currentQuerySelector=h,{type:11,selector:N,limit:A.limit||0,optional:!!A.optional,includeSelf:re,animation:ve,originalSelector:m.selector,options:no(m.options)}}visitStagger(m,r){r.currentQuery||r.errors.push(function Pt(){return new l.vHH(3013,!1)}());const h="full"===m.timings?{duration:0,delay:0,easing:"full"}:ci(m.timings,r.errors,!0);return{type:12,animation:Ye(this,se(m.animation),r),timings:h,options:null}}}class lo{constructor(m){this.errors=m,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function no(c){return c?(c=q(c)).params&&(c.params=function _o(c){return c?q(c):null}(c.params)):c={},c}function Ro(c,m,r){return{duration:c,delay:m,easing:r}}function cs(c,m,r,h,A,N,re=null,ve=!1){return{type:1,element:c,keyframes:m,preStyleProps:r,postStyleProps:h,duration:A,delay:N,totalTime:A+N,easing:re,subTimeline:ve}}class Ma{constructor(){this._map=new Map}get(m){return this._map.get(m)||[]}append(m,r){let h=this._map.get(m);h||this._map.set(m,h=[]),h.push(...r)}has(m){return this._map.has(m)}clear(){this._map.clear()}}const Da=new RegExp(":enter","g"),Sa=new RegExp(":leave","g");function Ta(c,m,r,h,A,N=new Map,re=new Map,ve,Ke,dt=[]){return(new Ua).buildKeyframes(c,m,r,h,A,N,re,ve,Ke,dt)}class Ua{buildKeyframes(m,r,h,A,N,re,ve,Ke,dt,jt=[]){dt=dt||new Ma;const qt=new Or(m,r,dt,A,N,jt,[]);qt.options=Ke;const Si=Ke.delay?Vi(Ke.delay):0;qt.currentTimeline.delayNextStep(Si),qt.currentTimeline.setStyles([re],null,qt.errors,Ke),Ye(this,h,qt);const Hi=qt.timelines.filter(zi=>zi.containsAnimation());if(Hi.length&&ve.size){let zi;for(let $i=Hi.length-1;$i>=0;$i--){const Sn=Hi[$i];if(Sn.element===r){zi=Sn;break}}zi&&!zi.allowOnlyTimelineStyles()&&zi.setStyles([ve],null,qt.errors,Ke)}return Hi.length?Hi.map(zi=>zi.buildKeyframes()):[cs(r,[],[],[],0,Si,"",!1)]}visitTrigger(m,r){}visitState(m,r){}visitTransition(m,r){}visitAnimateChild(m,r){const h=r.subInstructions.get(r.element);if(h){const A=r.createSubContext(m.options),N=r.currentTimeline.currentTime,re=this._visitSubInstructions(h,A,A.options);N!=re&&r.transformIntoNewTimeline(re)}r.previousNode=m}visitAnimateRef(m,r){const h=r.createSubContext(m.options);h.transformIntoNewTimeline(),this._applyAnimationRefDelays([m.options,m.animation.options],r,h),this.visitReference(m.animation,h),r.transformIntoNewTimeline(h.currentTimeline.currentTime),r.previousNode=m}_applyAnimationRefDelays(m,r,h){for(const A of m){const N=A?.delay;if(N){const re="number"==typeof N?N:Vi(lt(N,A?.params??{},r.errors));h.delayNextStep(re)}}}_visitSubInstructions(m,r,h){let N=r.currentTimeline.currentTime;const re=null!=h.duration?Vi(h.duration):null,ve=null!=h.delay?Vi(h.delay):null;return 0!==re&&m.forEach(Ke=>{const dt=r.appendInstructionToTimeline(Ke,re,ve);N=Math.max(N,dt.duration+dt.delay)}),N}visitReference(m,r){r.updateOptions(m.options,!0),Ye(this,m.animation,r),r.previousNode=m}visitSequence(m,r){const h=r.subContextCount;let A=r;const N=m.options;if(N&&(N.params||N.delay)&&(A=r.createSubContext(N),A.transformIntoNewTimeline(),null!=N.delay)){6==A.previousNode.type&&(A.currentTimeline.snapshotCurrentStyles(),A.previousNode=cn);const re=Vi(N.delay);A.delayNextStep(re)}m.steps.length&&(m.steps.forEach(re=>Ye(this,re,A)),A.currentTimeline.applyStylesToKeyframe(),A.subContextCount>h&&A.transformIntoNewTimeline()),r.previousNode=m}visitGroup(m,r){const h=[];let A=r.currentTimeline.currentTime;const N=m.options&&m.options.delay?Vi(m.options.delay):0;m.steps.forEach(re=>{const ve=r.createSubContext(m.options);N&&ve.delayNextStep(N),Ye(this,re,ve),A=Math.max(A,ve.currentTimeline.currentTime),h.push(ve.currentTimeline)}),h.forEach(re=>r.currentTimeline.mergeTimelineCollectedStyles(re)),r.transformIntoNewTimeline(A),r.previousNode=m}_visitTiming(m,r){if(m.dynamic){const h=m.strValue;return ci(r.params?lt(h,r.params,r.errors):h,r.errors)}return{duration:m.duration,delay:m.delay,easing:m.easing}}visitAnimate(m,r){const h=r.currentAnimateTimings=this._visitTiming(m.timings,r),A=r.currentTimeline;h.delay&&(r.incrementTime(h.delay),A.snapshotCurrentStyles());const N=m.style;5==N.type?this.visitKeyframes(N,r):(r.incrementTime(h.duration),this.visitStyle(N,r),A.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=m}visitStyle(m,r){const h=r.currentTimeline,A=r.currentAnimateTimings;!A&&h.hasCurrentStyleProperties()&&h.forwardFrame();const N=A&&A.easing||m.easing;m.isEmptyStep?h.applyEmptyStep(N):h.setStyles(m.styles,N,r.errors,r.options),r.previousNode=m}visitKeyframes(m,r){const h=r.currentAnimateTimings,A=r.currentTimeline.duration,N=h.duration,ve=r.createSubContext().currentTimeline;ve.easing=h.easing,m.styles.forEach(Ke=>{ve.forwardTime((Ke.offset||0)*N),ve.setStyles(Ke.styles,Ke.easing,r.errors,r.options),ve.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(ve),r.transformIntoNewTimeline(A+N),r.previousNode=m}visitQuery(m,r){const h=r.currentTimeline.currentTime,A=m.options||{},N=A.delay?Vi(A.delay):0;N&&(6===r.previousNode.type||0==h&&r.currentTimeline.hasCurrentStyleProperties())&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=cn);let re=h;const ve=r.invokeQuery(m.selector,m.originalSelector,m.limit,m.includeSelf,!!A.optional,r.errors);r.currentQueryTotal=ve.length;let Ke=null;ve.forEach((dt,jt)=>{r.currentQueryIndex=jt;const qt=r.createSubContext(m.options,dt);N&&qt.delayNextStep(N),dt===r.element&&(Ke=qt.currentTimeline),Ye(this,m.animation,qt),qt.currentTimeline.applyStylesToKeyframe(),re=Math.max(re,qt.currentTimeline.currentTime)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(re),Ke&&(r.currentTimeline.mergeTimelineCollectedStyles(Ke),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=m}visitStagger(m,r){const h=r.parentContext,A=r.currentTimeline,N=m.timings,re=Math.abs(N.duration),ve=re*(r.currentQueryTotal-1);let Ke=re*r.currentQueryIndex;switch(N.duration<0?"reverse":N.easing){case"reverse":Ke=ve-Ke;break;case"full":Ke=h.currentStaggerTime}const jt=r.currentTimeline;Ke&&jt.delayNextStep(Ke);const qt=jt.currentTime;Ye(this,m.animation,r),r.previousNode=m,h.currentStaggerTime=A.currentTime-qt+(A.startTime-h.currentTimeline.startTime)}}const cn={};class Or{constructor(m,r,h,A,N,re,ve,Ke){this._driver=m,this.element=r,this.subInstructions=h,this._enterClassName=A,this._leaveClassName=N,this.errors=re,this.timelines=ve,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=cn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ke||new Yr(this._driver,r,0),ve.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(m,r){if(!m)return;const h=m;let A=this.options;null!=h.duration&&(A.duration=Vi(h.duration)),null!=h.delay&&(A.delay=Vi(h.delay));const N=h.params;if(N){let re=A.params;re||(re=this.options.params={}),Object.keys(N).forEach(ve=>{(!r||!re.hasOwnProperty(ve))&&(re[ve]=lt(N[ve],re,this.errors))})}}_copyOptions(){const m={};if(this.options){const r=this.options.params;if(r){const h=m.params={};Object.keys(r).forEach(A=>{h[A]=r[A]})}}return m}createSubContext(m=null,r,h){const A=r||this.element,N=new Or(this._driver,A,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(A,h||0));return N.previousNode=this.previousNode,N.currentAnimateTimings=this.currentAnimateTimings,N.options=this._copyOptions(),N.updateOptions(m),N.currentQueryIndex=this.currentQueryIndex,N.currentQueryTotal=this.currentQueryTotal,N.parentContext=this,this.subContextCount++,N}transformIntoNewTimeline(m){return this.previousNode=cn,this.currentTimeline=this.currentTimeline.fork(this.element,m),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(m,r,h){const A={duration:r??m.duration,delay:this.currentTimeline.currentTime+(h??0)+m.delay,easing:""},N=new Rs(this._driver,m.element,m.keyframes,m.preStyleProps,m.postStyleProps,A,m.stretchStartingKeyframe);return this.timelines.push(N),A}incrementTime(m){this.currentTimeline.forwardTime(this.currentTimeline.duration+m)}delayNextStep(m){m>0&&this.currentTimeline.delayNextStep(m)}invokeQuery(m,r,h,A,N,re){let ve=[];if(A&&ve.push(this.element),m.length>0){m=(m=m.replace(Da,"."+this._enterClassName)).replace(Sa,"."+this._leaveClassName);let dt=this._driver.query(this.element,m,1!=h);0!==h&&(dt=h<0?dt.slice(dt.length+h,dt.length):dt.slice(0,h)),ve.push(...dt)}return!N&&0==ve.length&&re.push(function Ot(c){return new l.vHH(3014,!1)}()),ve}}class Yr{constructor(m,r,h,A){this._driver=m,this.element=r,this.startTime=h,this._elementTimelineStylesLookup=A,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(m){const r=1===this._keyframes.size&&this._pendingStyles.size;this.duration||r?(this.forwardTime(this.currentTime+m),r&&this.snapshotCurrentStyles()):this.startTime+=m}fork(m,r){return this.applyStylesToKeyframe(),new Yr(this._driver,m,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(m){this.applyStylesToKeyframe(),this.duration=m,this._loadKeyframe()}_updateStyle(m,r){this._localTimelineStyles.set(m,r),this._globalTimelineStyles.set(m,r),this._styleSummary.set(m,{time:this.currentTime,value:r})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(m){m&&this._previousKeyframe.set("easing",m);for(let[r,h]of this._globalTimelineStyles)this._backFill.set(r,h||ne.l3),this._currentKeyframe.set(r,ne.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(m,r,h,A){r&&this._previousKeyframe.set("easing",r);const N=A&&A.params||{},re=function Fs(c,m){const r=new Map;let h;return c.forEach(A=>{if("*"===A){h=h||m.keys();for(let N of h)r.set(N,ne.l3)}else _e(A,r)}),r}(m,this._globalTimelineStyles);for(let[ve,Ke]of re){const dt=lt(Ke,N,h);this._pendingStyles.set(ve,dt),this._localTimelineStyles.has(ve)||this._backFill.set(ve,this._globalTimelineStyles.get(ve)??ne.l3),this._updateStyle(ve,dt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((m,r)=>{this._currentKeyframe.set(r,m)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((m,r)=>{this._currentKeyframe.has(r)||this._currentKeyframe.set(r,m)}))}snapshotCurrentStyles(){for(let[m,r]of this._localTimelineStyles)this._pendingStyles.set(m,r),this._updateStyle(m,r)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const m=[];for(let r in this._currentKeyframe)m.push(r);return m}mergeTimelineCollectedStyles(m){m._styleSummary.forEach((r,h)=>{const A=this._styleSummary.get(h);(!A||r.time>A.time)&&this._updateStyle(h,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const m=new Set,r=new Set,h=1===this._keyframes.size&&0===this.duration;let A=[];this._keyframes.forEach((ve,Ke)=>{const dt=_e(ve,new Map,this._backFill);dt.forEach((jt,qt)=>{jt===ne.k1?m.add(qt):jt===ne.l3&&r.add(qt)}),h||dt.set("offset",Ke/this.duration),A.push(dt)});const N=m.size?xe(m.values()):[],re=r.size?xe(r.values()):[];if(h){const ve=A[0],Ke=new Map(ve);ve.set("offset",0),Ke.set("offset",1),A=[ve,Ke]}return cs(this.element,A,N,re,this.duration,this.startTime,this.easing,!1)}}class Rs extends Yr{constructor(m,r,h,A,N,re,ve=!1){super(m,r,re.delay),this.keyframes=h,this.preStyleProps=A,this.postStyleProps=N,this._stretchStartingKeyframe=ve,this.timings={duration:re.duration,delay:re.delay,easing:re.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let m=this.keyframes,{delay:r,duration:h,easing:A}=this.timings;if(this._stretchStartingKeyframe&&r){const N=[],re=h+r,ve=r/re,Ke=_e(m[0]);Ke.set("offset",0),N.push(Ke);const dt=_e(m[0]);dt.set("offset",vr(ve)),N.push(dt);const jt=m.length-1;for(let qt=1;qt<=jt;qt++){let Si=_e(m[qt]);const Hi=Si.get("offset");Si.set("offset",vr((r+Hi*h)/re)),N.push(Si)}h=re,r=0,A="",m=N}return cs(this.element,m,this.preStyleProps,this.postStyleProps,h,r,A,!0)}}function vr(c,m=3){const r=Math.pow(10,m-1);return Math.round(c*r)/r}class Jo{}const Qo=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class fr extends Jo{normalizePropertyName(m,r){return ue(m)}normalizeStyleValue(m,r,h,A){let N="";const re=h.toString().trim();if(Qo.has(r)&&0!==h&&"0"!==h)if("number"==typeof h)N="px";else{const ve=h.match(/^[+-]?[\d\.]+([a-z]*)$/);ve&&0==ve[1].length&&A.push(function Xe(c,m){return new l.vHH(3005,!1)}())}return re+N}}function Ai(c,m,r,h,A,N,re,ve,Ke,dt,jt,qt,Si){return{type:0,element:c,triggerName:m,isRemovalTransition:A,fromState:r,fromStyles:N,toState:h,toStyles:re,timelines:ve,queriedElements:Ke,preStyleProps:dt,postStyleProps:jt,totalTime:qt,errors:Si}}const rn={};class Pn{constructor(m,r,h){this._triggerName=m,this.ast=r,this._stateStyles=h}match(m,r,h,A){return function zr(c,m,r,h,A){return c.some(N=>N(m,r,h,A))}(this.ast.matchers,m,r,h,A)}buildStyles(m,r,h){let A=this._stateStyles.get("*");return void 0!==m&&(A=this._stateStyles.get(m?.toString())||A),A?A.buildStyles(r,h):new Map}build(m,r,h,A,N,re,ve,Ke,dt,jt){const qt=[],Si=this.ast.options&&this.ast.options.params||rn,zi=this.buildStyles(h,ve&&ve.params||rn,qt),$i=Ke&&Ke.params||rn,Sn=this.buildStyles(A,$i,qt),Yn=new Set,Mr=new Map,Do=new Map,Lr="void"===A,Ea={params:Kn($i,Si),delay:this.ast.options?.delay},el=jt?[]:Ta(m,r,this.ast.animation,N,re,zi,Sn,Ea,dt,qt);let Os=0;if(el.forEach(as=>{Os=Math.max(as.duration+as.delay,Os)}),qt.length)return Ai(r,this._triggerName,h,A,Lr,zi,Sn,[],[],Mr,Do,Os,qt);el.forEach(as=>{const Xo=as.element,Cu=ri(Mr,Xo,new Set);as.preStyleProps.forEach(cr=>Cu.add(cr));const kd=ri(Do,Xo,new Set);as.postStyleProps.forEach(cr=>kd.add(cr)),Xo!==r&&Yn.add(Xo)});const _l=xe(Yn.values());return Ai(r,this._triggerName,h,A,Lr,zi,Sn,el,_l,Mr,Do,Os)}}function Kn(c,m){const r=q(m);for(const h in c)c.hasOwnProperty(h)&&null!=c[h]&&(r[h]=c[h]);return r}class es{constructor(m,r,h){this.styles=m,this.defaultParams=r,this.normalizer=h}buildStyles(m,r){const h=new Map,A=q(this.defaultParams);return Object.keys(m).forEach(N=>{const re=m[N];null!==re&&(A[N]=re)}),this.styles.styles.forEach(N=>{"string"!=typeof N&&N.forEach((re,ve)=>{re&&(re=lt(re,A,r));const Ke=this.normalizer.normalizePropertyName(ve,r);re=this.normalizer.normalizeStyleValue(ve,Ke,re,r),h.set(ve,re)})}),h}}class $o{constructor(m,r,h){this.name=m,this.ast=r,this._normalizer=h,this.transitionFactories=[],this.states=new Map,r.states.forEach(A=>{this.states.set(A.name,new es(A.style,A.options&&A.options.params||{},h))}),an(this.states,"true","1"),an(this.states,"false","0"),r.transitions.forEach(A=>{this.transitionFactories.push(new Pn(m,A,this.states))}),this.fallbackTransition=function Fo(c,m,r){return new Pn(c,{type:1,animation:{type:2,steps:[],options:null},matchers:[(re,ve)=>!0],options:null,queryCount:0,depCount:0},m)}(m,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(m,r,h,A){return this.transitionFactories.find(re=>re.match(m,r,h,A))||null}matchStyles(m,r,h){return this.fallbackTransition.buildStyles(m,r,h)}}function an(c,m,r){c.has(m)?c.has(r)||c.set(r,c.get(m)):c.has(r)&&c.set(m,c.get(r))}const Lo=new Ma;class ia{constructor(m,r,h){this.bodyNode=m,this._driver=r,this._normalizer=h,this._animations=new Map,this._playersById=new Map,this.players=[]}register(m,r){const h=[],N=Dr(this._driver,r,h,[]);if(h.length)throw function pn(c){return new l.vHH(3503,!1)}();this._animations.set(m,N)}_buildPlayer(m,r,h){const A=m.element,N=Ee(this._normalizer,m.keyframes,r,h);return this._driver.animate(A,N,m.duration,m.delay,m.easing,[],!0)}create(m,r,h={}){const A=[],N=this._animations.get(m);let re;const ve=new Map;if(N?(re=Ta(this._driver,r,N,Lt,yi,new Map,new Map,h,Lo,A),re.forEach(jt=>{const qt=ri(ve,jt.element,new Map);jt.postStyleProps.forEach(Si=>qt.set(Si,null))})):(A.push(function jn(){return new l.vHH(3300,!1)}()),re=[]),A.length)throw function In(c){return new l.vHH(3504,!1)}();ve.forEach((jt,qt)=>{jt.forEach((Si,Hi)=>{jt.set(Hi,this._driver.computeStyle(qt,Hi,ne.l3))})});const dt=ut(re.map(jt=>{const qt=ve.get(jt.element);return this._buildPlayer(jt,new Map,qt)}));return this._playersById.set(m,dt),dt.onDestroy(()=>this.destroy(m)),this.players.push(dt),dt}destroy(m){const r=this._getPlayer(m);r.destroy(),this._playersById.delete(m);const h=this.players.indexOf(r);h>=0&&this.players.splice(h,1)}_getPlayer(m){const r=this._playersById.get(m);if(!r)throw function Et(c){return new l.vHH(3301,!1)}();return r}listen(m,r,h,A){const N=Bt(r,"","","");return ht(this._getPlayer(m),h,N,A),()=>{}}command(m,r,h,A){if("register"==h)return void this.register(m,A[0]);if("create"==h)return void this.create(m,r,A[0]||{});const N=this._getPlayer(m);switch(h){case"play":N.play();break;case"pause":N.pause();break;case"reset":N.reset();break;case"restart":N.restart();break;case"finish":N.finish();break;case"init":N.init();break;case"setPosition":N.setPosition(parseFloat(A[0]));break;case"destroy":this.destroy(m)}}}const un="ng-animate-queued",vs="ng-animate-disabled",ja=[],bs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Go={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},uo="__ng_removed";class Ls{get params(){return this.options.params}constructor(m,r=""){this.namespaceId=r;const h=m&&m.hasOwnProperty("value");if(this.value=function ra(c){return c??null}(h?m.value:m),h){const N=q(m);delete N.value,this.options=N}else this.options={};this.options.params||(this.options.params={})}absorbOptions(m){const r=m.params;if(r){const h=this.options.params;Object.keys(r).forEach(A=>{null==h[A]&&(h[A]=r[A])})}}}const _n="void",us=new Ls(_n);class nl{constructor(m,r,h){this.id=m,this.hostElement=r,this._engine=h,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+m,xo(r,this._hostClassName)}listen(m,r,h,A){if(!this._triggers.has(r))throw function gt(c,m){return new l.vHH(3302,!1)}();if(null==h||0==h.length)throw function Nt(c){return new l.vHH(3303,!1)}();if(!function br(c){return"start"==c||"done"==c}(h))throw function zt(c,m){return new l.vHH(3400,!1)}();const N=ri(this._elementListeners,m,[]),re={name:r,phase:h,callback:A};N.push(re);const ve=ri(this._engine.statesByElement,m,new Map);return ve.has(r)||(xo(m,pi),xo(m,pi+"-"+r),ve.set(r,us)),()=>{this._engine.afterFlush(()=>{const Ke=N.indexOf(re);Ke>=0&&N.splice(Ke,1),this._triggers.has(r)||ve.delete(r)})}}register(m,r){return!this._triggers.has(m)&&(this._triggers.set(m,r),!0)}_getTrigger(m){const r=this._triggers.get(m);if(!r)throw function ni(c){return new l.vHH(3401,!1)}();return r}trigger(m,r,h,A=!0){const N=this._getTrigger(r),re=new ho(this.id,r,m);let ve=this._engine.statesByElement.get(m);ve||(xo(m,pi),xo(m,pi+"-"+r),this._engine.statesByElement.set(m,ve=new Map));let Ke=ve.get(r);const dt=new Ls(h,this.id);if(!(h&&h.hasOwnProperty("value"))&&Ke&&dt.absorbOptions(Ke.options),ve.set(r,dt),Ke||(Ke=us),dt.value!==_n&&Ke.value===dt.value){if(!function ol(c,m){const r=Object.keys(c),h=Object.keys(m);if(r.length!=h.length)return!1;for(let A=0;A<r.length;A++){const N=r[A];if(!m.hasOwnProperty(N)||c[N]!==m[N])return!1}return!0}(Ke.params,dt.params)){const $i=[],Sn=N.matchStyles(Ke.value,Ke.params,$i),Yn=N.matchStyles(dt.value,dt.params,$i);$i.length?this._engine.reportError($i):this._engine.afterFlush(()=>{ge(m,Sn),ke(m,Yn)})}return}const Si=ri(this._engine.playersByElement,m,[]);Si.forEach($i=>{$i.namespaceId==this.id&&$i.triggerName==r&&$i.queued&&$i.destroy()});let Hi=N.matchTransition(Ke.value,dt.value,m,dt.params),zi=!1;if(!Hi){if(!A)return;Hi=N.fallbackTransition,zi=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:r,transition:Hi,fromState:Ke,toState:dt,player:re,isFallbackTransition:zi}),zi||(xo(m,un),re.onStart(()=>{jr(m,un)})),re.onDone(()=>{let $i=this.players.indexOf(re);$i>=0&&this.players.splice($i,1);const Sn=this._engine.playersByElement.get(m);if(Sn){let Yn=Sn.indexOf(re);Yn>=0&&Sn.splice(Yn,1)}}),this.players.push(re),Si.push(re),re}deregister(m){this._triggers.delete(m),this._engine.statesByElement.forEach(r=>r.delete(m)),this._elementListeners.forEach((r,h)=>{this._elementListeners.set(h,r.filter(A=>A.name!=m))})}clearElementCache(m){this._engine.statesByElement.delete(m),this._elementListeners.delete(m);const r=this._engine.playersByElement.get(m);r&&(r.forEach(h=>h.destroy()),this._engine.playersByElement.delete(m))}_signalRemovalForInnerTriggers(m,r){const h=this._engine.driver.query(m,en,!0);h.forEach(A=>{if(A[uo])return;const N=this._engine.fetchNamespacesByElement(A);N.size?N.forEach(re=>re.triggerLeaveAnimation(A,r,!1,!0)):this.clearElementCache(A)}),this._engine.afterFlushAnimationsDone(()=>h.forEach(A=>this.clearElementCache(A)))}triggerLeaveAnimation(m,r,h,A){const N=this._engine.statesByElement.get(m),re=new Map;if(N){const ve=[];if(N.forEach((Ke,dt)=>{if(re.set(dt,Ke.value),this._triggers.has(dt)){const jt=this.trigger(m,dt,_n,A);jt&&ve.push(jt)}}),ve.length)return this._engine.markElementAsRemoved(this.id,m,!0,r,re),h&&ut(ve).onDone(()=>this._engine.processLeaveNode(m)),!0}return!1}prepareLeaveAnimationListeners(m){const r=this._elementListeners.get(m),h=this._engine.statesByElement.get(m);if(r&&h){const A=new Set;r.forEach(N=>{const re=N.name;if(A.has(re))return;A.add(re);const Ke=this._triggers.get(re).fallbackTransition,dt=h.get(re)||us,jt=new Ls(_n),qt=new ho(this.id,re,m);this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:re,transition:Ke,fromState:dt,toState:jt,player:qt,isFallbackTransition:!0})})}}removeNode(m,r){const h=this._engine;if(m.childElementCount&&this._signalRemovalForInnerTriggers(m,r),this.triggerLeaveAnimation(m,r,!0))return;let A=!1;if(h.totalAnimations){const N=h.players.length?h.playersByQueriedElement.get(m):[];if(N&&N.length)A=!0;else{let re=m;for(;re=re.parentNode;)if(h.statesByElement.get(re)){A=!0;break}}}if(this.prepareLeaveAnimationListeners(m),A)h.markElementAsRemoved(this.id,m,!1,r);else{const N=m[uo];(!N||N===bs)&&(h.afterFlush(()=>this.clearElementCache(m)),h.destroyInnerAnimations(m),h._onRemovalComplete(m,r))}}insertNode(m,r){xo(m,this._hostClassName)}drainQueuedTransitions(m){const r=[];return this._queue.forEach(h=>{const A=h.player;if(A.destroyed)return;const N=h.element,re=this._elementListeners.get(N);re&&re.forEach(ve=>{if(ve.name==h.triggerName){const Ke=Bt(N,h.triggerName,h.fromState.value,h.toState.value);Ke._data=m,ht(h.player,ve.phase,Ke,ve.callback)}}),A.markedForDestroy?this._engine.afterFlush(()=>{A.destroy()}):r.push(h)}),this._queue=[],r.sort((h,A)=>{const N=h.transition.ast.depCount,re=A.transition.ast.depCount;return 0==N||0==re?N-re:this._engine.driver.containsElement(h.element,A.element)?1:-1})}destroy(m){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,m)}elementContainsData(m){let r=!1;return this._elementListeners.has(m)&&(r=!0),r=!!this._queue.find(h=>h.element===m)||r,r}}class Ha{_onRemovalComplete(m,r){this.onRemovalComplete(m,r)}constructor(m,r,h){this.bodyNode=m,this.driver=r,this._normalizer=h,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(A,N)=>{}}get queuedPlayers(){const m=[];return this._namespaceList.forEach(r=>{r.players.forEach(h=>{h.queued&&m.push(h)})}),m}createNamespace(m,r){const h=new nl(m,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(h,r):(this.newHostElements.set(r,h),this.collectEnterElement(r)),this._namespaceLookup[m]=h}_balanceNamespaceList(m,r){const h=this._namespaceList,A=this.namespacesByHostElement;if(h.length-1>=0){let re=!1,ve=this.driver.getParentElement(r);for(;ve;){const Ke=A.get(ve);if(Ke){const dt=h.indexOf(Ke);h.splice(dt+1,0,m),re=!0;break}ve=this.driver.getParentElement(ve)}re||h.unshift(m)}else h.push(m);return A.set(r,m),m}register(m,r){let h=this._namespaceLookup[m];return h||(h=this.createNamespace(m,r)),h}registerTrigger(m,r,h){let A=this._namespaceLookup[m];A&&A.register(r,h)&&this.totalAnimations++}destroy(m,r){if(!m)return;const h=this._fetchNamespace(m);this.afterFlush(()=>{this.namespacesByHostElement.delete(h.hostElement),delete this._namespaceLookup[m];const A=this._namespaceList.indexOf(h);A>=0&&this._namespaceList.splice(A,1)}),this.afterFlushAnimationsDone(()=>h.destroy(r))}_fetchNamespace(m){return this._namespaceLookup[m]}fetchNamespacesByElement(m){const r=new Set,h=this.statesByElement.get(m);if(h)for(let A of h.values())if(A.namespaceId){const N=this._fetchNamespace(A.namespaceId);N&&r.add(N)}return r}trigger(m,r,h,A){if(Ns(r)){const N=this._fetchNamespace(m);if(N)return N.trigger(r,h,A),!0}return!1}insertNode(m,r,h,A){if(!Ns(r))return;const N=r[uo];if(N&&N.setForRemoval){N.setForRemoval=!1,N.setForMove=!0;const re=this.collectedLeaveElements.indexOf(r);re>=0&&this.collectedLeaveElements.splice(re,1)}if(m){const re=this._fetchNamespace(m);re&&re.insertNode(r,h)}A&&this.collectEnterElement(r)}collectEnterElement(m){this.collectedEnterElements.push(m)}markElementAsDisabled(m,r){r?this.disabledNodes.has(m)||(this.disabledNodes.add(m),xo(m,vs)):this.disabledNodes.has(m)&&(this.disabledNodes.delete(m),jr(m,vs))}removeNode(m,r,h){if(Ns(r)){const A=m?this._fetchNamespace(m):null;A?A.removeNode(r,h):this.markElementAsRemoved(m,r,!1,h);const N=this.namespacesByHostElement.get(r);N&&N.id!==m&&N.removeNode(r,h)}else this._onRemovalComplete(r,h)}markElementAsRemoved(m,r,h,A,N){this.collectedLeaveElements.push(r),r[uo]={namespaceId:m,setForRemoval:A,hasAnimation:h,removedBeforeQueried:!1,previousTriggersValues:N}}listen(m,r,h,A,N){return Ns(r)?this._fetchNamespace(m).listen(r,h,A,N):()=>{}}_buildInstruction(m,r,h,A,N){return m.transition.build(this.driver,m.element,m.fromState.value,m.toState.value,h,A,m.fromState.options,m.toState.options,r,N)}destroyInnerAnimations(m){let r=this.driver.query(m,en,!0);r.forEach(h=>this.destroyActiveAnimationsForElement(h)),0!=this.playersByQueriedElement.size&&(r=this.driver.query(m,Qi,!0),r.forEach(h=>this.finishActiveQueriedAnimationOnElement(h)))}destroyActiveAnimationsForElement(m){const r=this.playersByElement.get(m);r&&r.forEach(h=>{h.queued?h.markedForDestroy=!0:h.destroy()})}finishActiveQueriedAnimationOnElement(m){const r=this.playersByQueriedElement.get(m);r&&r.forEach(h=>h.finish())}whenRenderingDone(){return new Promise(m=>{if(this.players.length)return ut(this.players).onDone(()=>m());m()})}processLeaveNode(m){const r=m[uo];if(r&&r.setForRemoval){if(m[uo]=bs,r.namespaceId){this.destroyInnerAnimations(m);const h=this._fetchNamespace(r.namespaceId);h&&h.clearElementCache(m)}this._onRemovalComplete(m,r.setForRemoval)}m.classList?.contains(vs)&&this.markElementAsDisabled(m,!1),this.driver.query(m,".ng-animate-disabled",!0).forEach(h=>{this.markElementAsDisabled(h,!1)})}flush(m=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((h,A)=>this._balanceNamespaceList(h,A)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let h=0;h<this.collectedEnterElements.length;h++)xo(this.collectedEnterElements[h],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const h=[];try{r=this._flushAnimations(h,m)}finally{for(let A=0;A<h.length;A++)h[A]()}}else for(let h=0;h<this.collectedLeaveElements.length;h++)this.processLeaveNode(this.collectedLeaveElements[h]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(h=>h()),this._flushFns=[],this._whenQuietFns.length){const h=this._whenQuietFns;this._whenQuietFns=[],r.length?ut(r).onDone(()=>{h.forEach(A=>A())}):h.forEach(A=>A())}}reportError(m){throw function Ct(c){return new l.vHH(3402,!1)}()}_flushAnimations(m,r){const h=new Ma,A=[],N=new Map,re=[],ve=new Map,Ke=new Map,dt=new Map,jt=new Set;this.disabledNodes.forEach(Ji=>{jt.add(Ji);const Yi=this.driver.query(Ji,".ng-animate-queued",!0);for(let yn=0;yn<Yi.length;yn++)jt.add(Yi[yn])});const qt=this.bodyNode,Si=Array.from(this.statesByElement.keys()),Hi=Jn(Si,this.collectedEnterElements),zi=new Map;let $i=0;Hi.forEach((Ji,Yi)=>{const yn=Lt+$i++;zi.set(Yi,yn),Ji.forEach(or=>xo(or,yn))});const Sn=[],Yn=new Set,Mr=new Set;for(let Ji=0;Ji<this.collectedLeaveElements.length;Ji++){const Yi=this.collectedLeaveElements[Ji],yn=Yi[uo];yn&&yn.setForRemoval&&(Sn.push(Yi),Yn.add(Yi),yn.hasAnimation?this.driver.query(Yi,".ng-star-inserted",!0).forEach(or=>Yn.add(or)):Mr.add(Yi))}const Do=new Map,Lr=Jn(Si,Array.from(Yn));Lr.forEach((Ji,Yi)=>{const yn=yi+$i++;Do.set(Yi,yn),Ji.forEach(or=>xo(or,yn))}),m.push(()=>{Hi.forEach((Ji,Yi)=>{const yn=zi.get(Yi);Ji.forEach(or=>jr(or,yn))}),Lr.forEach((Ji,Yi)=>{const yn=Do.get(Yi);Ji.forEach(or=>jr(or,yn))}),Sn.forEach(Ji=>{this.processLeaveNode(Ji)})});const Ea=[],el=[];for(let Ji=this._namespaceList.length-1;Ji>=0;Ji--)this._namespaceList[Ji].drainQueuedTransitions(r).forEach(yn=>{const or=yn.player,jo=yn.element;if(Ea.push(or),this.collectedEnterElements.length){const So=jo[uo];if(So&&So.setForMove){if(So.previousTriggersValues&&So.previousTriggersValues.has(yn.triggerName)){const yl=So.previousTriggersValues.get(yn.triggerName),ta=this.statesByElement.get(yn.element);if(ta&&ta.has(yn.triggerName)){const Du=ta.get(yn.triggerName);Du.value=yl,ta.set(yn.triggerName,Du)}}return void or.destroy()}}const Ba=!qt||!this.driver.containsElement(qt,jo),ys=Do.get(jo),tl=zi.get(jo),qr=this._buildInstruction(yn,h,tl,ys,Ba);if(qr.errors&&qr.errors.length)return void el.push(qr);if(Ba)return or.onStart(()=>ge(jo,qr.fromStyles)),or.onDestroy(()=>ke(jo,qr.toStyles)),void A.push(or);if(yn.isFallbackTransition)return or.onStart(()=>ge(jo,qr.fromStyles)),or.onDestroy(()=>ke(jo,qr.toStyles)),void A.push(or);const Mu=[];qr.timelines.forEach(So=>{So.stretchStartingKeyframe=!0,this.disabledNodes.has(So.element)||Mu.push(So)}),qr.timelines=Mu,h.append(jo,qr.timelines),re.push({instruction:qr,player:or,element:jo}),qr.queriedElements.forEach(So=>ri(ve,So,[]).push(or)),qr.preStyleProps.forEach((So,yl)=>{if(So.size){let ta=Ke.get(yl);ta||Ke.set(yl,ta=new Set),So.forEach((Du,Su)=>ta.add(Su))}}),qr.postStyleProps.forEach((So,yl)=>{let ta=dt.get(yl);ta||dt.set(yl,ta=new Set),So.forEach((Du,Su)=>ta.add(Su))})});if(el.length){const Ji=[];el.forEach(Yi=>{Ji.push(function Be(c,m){return new l.vHH(3505,!1)}())}),Ea.forEach(Yi=>Yi.destroy()),this.reportError(Ji)}const Os=new Map,_l=new Map;re.forEach(Ji=>{const Yi=Ji.element;h.has(Yi)&&(_l.set(Yi,Yi),this._beforeAnimationBuild(Ji.player.namespaceId,Ji.instruction,Os))}),A.forEach(Ji=>{const Yi=Ji.element;this._getPreviousPlayers(Yi,!1,Ji.namespaceId,Ji.triggerName,null).forEach(or=>{ri(Os,Yi,[]).push(or),or.destroy()})});const as=Sn.filter(Ji=>zs(Ji,Ke,dt)),Xo=new Map;Sr(Xo,this.driver,Mr,dt,ne.l3).forEach(Ji=>{zs(Ji,Ke,dt)&&as.push(Ji)});const kd=new Map;Hi.forEach((Ji,Yi)=>{Sr(kd,this.driver,new Set(Ji),Ke,ne.k1)}),as.forEach(Ji=>{const Yi=Xo.get(Ji),yn=kd.get(Ji);Xo.set(Ji,new Map([...Yi?.entries()??[],...yn?.entries()??[]]))});const cr=[],Sc=[],Eu={};re.forEach(Ji=>{const{element:Yi,player:yn,instruction:or}=Ji;if(h.has(Yi)){if(jt.has(Yi))return yn.onDestroy(()=>ke(Yi,or.toStyles)),yn.disabled=!0,yn.overrideTotalTime(or.totalTime),void A.push(yn);let jo=Eu;if(_l.size>1){let ys=Yi;const tl=[];for(;ys=ys.parentNode;){const qr=_l.get(ys);if(qr){jo=qr;break}tl.push(ys)}tl.forEach(qr=>_l.set(qr,jo))}const Ba=this._buildAnimation(yn.namespaceId,or,Os,N,kd,Xo);if(yn.setRealPlayer(Ba),jo===Eu)cr.push(yn);else{const ys=this.playersByElement.get(jo);ys&&ys.length&&(yn.parentPlayer=ut(ys)),A.push(yn)}}else ge(Yi,or.fromStyles),yn.onDestroy(()=>ke(Yi,or.toStyles)),Sc.push(yn),jt.has(Yi)&&A.push(yn)}),Sc.forEach(Ji=>{const Yi=N.get(Ji.element);if(Yi&&Yi.length){const yn=ut(Yi);Ji.setRealPlayer(yn)}}),A.forEach(Ji=>{Ji.parentPlayer?Ji.syncPlayerEvents(Ji.parentPlayer):Ji.destroy()});for(let Ji=0;Ji<Sn.length;Ji++){const Yi=Sn[Ji],yn=Yi[uo];if(jr(Yi,yi),yn&&yn.hasAnimation)continue;let or=[];if(ve.size){let Ba=ve.get(Yi);Ba&&Ba.length&&or.push(...Ba);let ys=this.driver.query(Yi,Qi,!0);for(let tl=0;tl<ys.length;tl++){let qr=ve.get(ys[tl]);qr&&qr.length&&or.push(...qr)}}const jo=or.filter(Ba=>!Ba.destroyed);jo.length?Zn(this,Yi,jo):this.processLeaveNode(Yi)}return Sn.length=0,cr.forEach(Ji=>{this.players.push(Ji),Ji.onDone(()=>{Ji.destroy();const Yi=this.players.indexOf(Ji);this.players.splice(Yi,1)}),Ji.play()}),cr}elementContainsData(m,r){let h=!1;const A=r[uo];return A&&A.setForRemoval&&(h=!0),this.playersByElement.has(r)&&(h=!0),this.playersByQueriedElement.has(r)&&(h=!0),this.statesByElement.has(r)&&(h=!0),this._fetchNamespace(m).elementContainsData(r)||h}afterFlush(m){this._flushFns.push(m)}afterFlushAnimationsDone(m){this._whenQuietFns.push(m)}_getPreviousPlayers(m,r,h,A,N){let re=[];if(r){const ve=this.playersByQueriedElement.get(m);ve&&(re=ve)}else{const ve=this.playersByElement.get(m);if(ve){const Ke=!N||N==_n;ve.forEach(dt=>{dt.queued||!Ke&&dt.triggerName!=A||re.push(dt)})}}return(h||A)&&(re=re.filter(ve=>!(h&&h!=ve.namespaceId||A&&A!=ve.triggerName))),re}_beforeAnimationBuild(m,r,h){const N=r.element,re=r.isRemovalTransition?void 0:m,ve=r.isRemovalTransition?void 0:r.triggerName;for(const Ke of r.timelines){const dt=Ke.element,jt=dt!==N,qt=ri(h,dt,[]);this._getPreviousPlayers(dt,jt,re,ve,r.toState).forEach(Hi=>{const zi=Hi.getRealPlayer();zi.beforeDestroy&&zi.beforeDestroy(),Hi.destroy(),qt.push(Hi)})}ge(N,r.fromStyles)}_buildAnimation(m,r,h,A,N,re){const ve=r.triggerName,Ke=r.element,dt=[],jt=new Set,qt=new Set,Si=r.timelines.map(zi=>{const $i=zi.element;jt.add($i);const Sn=$i[uo];if(Sn&&Sn.removedBeforeQueried)return new ne.ZN(zi.duration,zi.delay);const Yn=$i!==Ke,Mr=function Kr(c){const m=[];return $a(c,m),m}((h.get($i)||ja).map(Os=>Os.getRealPlayer())).filter(Os=>!!Os.element&&Os.element===$i),Do=N.get($i),Lr=re.get($i),Ea=Ee(this._normalizer,zi.keyframes,Do,Lr),el=this._buildPlayer(zi,Ea,Mr);if(zi.subTimeline&&A&&qt.add($i),Yn){const Os=new ho(m,ve,$i);Os.setRealPlayer(el),dt.push(Os)}return el});dt.forEach(zi=>{ri(this.playersByQueriedElement,zi.element,[]).push(zi),zi.onDone(()=>function pa(c,m,r){let h=c.get(m);if(h){if(h.length){const A=h.indexOf(r);h.splice(A,1)}0==h.length&&c.delete(m)}return h}(this.playersByQueriedElement,zi.element,zi))}),jt.forEach(zi=>xo(zi,nn));const Hi=ut(Si);return Hi.onDestroy(()=>{jt.forEach(zi=>jr(zi,nn)),ke(Ke,r.toStyles)}),qt.forEach(zi=>{ri(A,zi,[]).push(Hi)}),Hi}_buildPlayer(m,r,h){return r.length>0?this.driver.animate(m.element,r,m.duration,m.delay,m.easing,h):new ne.ZN(m.duration,m.delay)}}class ho{constructor(m,r,h){this.namespaceId=m,this.triggerName=r,this.element=h,this._player=new ne.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(m){this._containsRealPlayer||(this._player=m,this._queuedCallbacks.forEach((r,h)=>{r.forEach(A=>ht(m,h,void 0,A))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(m.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(m){this.totalTime=m}syncPlayerEvents(m){const r=this._player;r.triggerCallback&&m.onStart(()=>r.triggerCallback("start")),m.onDone(()=>this.finish()),m.onDestroy(()=>this.destroy())}_queueEvent(m,r){ri(this._queuedCallbacks,m,[]).push(r)}onDone(m){this.queued&&this._queueEvent("done",m),this._player.onDone(m)}onStart(m){this.queued&&this._queueEvent("start",m),this._player.onStart(m)}onDestroy(m){this.queued&&this._queueEvent("destroy",m),this._player.onDestroy(m)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(m){this.queued||this._player.setPosition(m)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(m){const r=this._player;r.triggerCallback&&r.triggerCallback(m)}}function Ns(c){return c&&1===c.nodeType}function rl(c,m){const r=c.style.display;return c.style.display=m??"none",r}function Sr(c,m,r,h,A){const N=[];r.forEach(Ke=>N.push(rl(Ke)));const re=[];h.forEach((Ke,dt)=>{const jt=new Map;Ke.forEach(qt=>{const Si=m.computeStyle(dt,qt,A);jt.set(qt,Si),(!Si||0==Si.length)&&(dt[uo]=Go,re.push(dt))}),c.set(dt,jt)});let ve=0;return r.forEach(Ke=>rl(Ke,N[ve++])),re}function Jn(c,m){const r=new Map;if(c.forEach(ve=>r.set(ve,[])),0==m.length)return r;const A=new Set(m),N=new Map;function re(ve){if(!ve)return 1;let Ke=N.get(ve);if(Ke)return Ke;const dt=ve.parentNode;return Ke=r.has(dt)?dt:A.has(dt)?1:re(dt),N.set(ve,Ke),Ke}return m.forEach(ve=>{const Ke=re(ve);1!==Ke&&r.get(Ke).push(ve)}),r}function xo(c,m){c.classList?.add(m)}function jr(c,m){c.classList?.remove(m)}function Zn(c,m,r){ut(r).onDone(()=>c.processLeaveNode(m))}function $a(c,m){for(let r=0;r<c.length;r++){const h=c[r];h instanceof ne.ZE?$a(h.players,m):m.push(h)}}function zs(c,m,r){const h=r.get(c);if(!h)return!1;let A=m.get(c);return A?h.forEach(N=>A.add(N)):m.set(c,h),r.delete(c),!0}class bl{constructor(m,r,h){this.bodyNode=m,this._driver=r,this._normalizer=h,this._triggerCache={},this.onRemovalComplete=(A,N)=>{},this._transitionEngine=new Ha(m,r,h),this._timelineEngine=new ia(m,r,h),this._transitionEngine.onRemovalComplete=(A,N)=>this.onRemovalComplete(A,N)}registerTrigger(m,r,h,A,N){const re=m+"-"+A;let ve=this._triggerCache[re];if(!ve){const Ke=[],jt=Dr(this._driver,N,Ke,[]);if(Ke.length)throw function Tn(c,m){return new l.vHH(3404,!1)}();ve=function gr(c,m,r){return new $o(c,m,r)}(A,jt,this._normalizer),this._triggerCache[re]=ve}this._transitionEngine.registerTrigger(r,A,ve)}register(m,r){this._transitionEngine.register(m,r)}destroy(m,r){this._transitionEngine.destroy(m,r)}onInsert(m,r,h,A){this._transitionEngine.insertNode(m,r,h,A)}onRemove(m,r,h){this._transitionEngine.removeNode(m,r,h)}disableAnimations(m,r){this._transitionEngine.markElementAsDisabled(m,r)}process(m,r,h,A){if("@"==h.charAt(0)){const[N,re]=ot(h);this._timelineEngine.command(N,r,re,A)}else this._transitionEngine.trigger(m,r,h,A)}listen(m,r,h,A,N){if("@"==h.charAt(0)){const[re,ve]=ot(h);return this._timelineEngine.listen(re,r,ve,N)}return this._transitionEngine.listen(m,r,h,A,N)}flush(m=-1){this._transitionEngine.flush(m)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(m){this._transitionEngine.afterFlushAnimationsDone(m)}}let Bs=(()=>{class c{constructor(r,h,A){this._element=r,this._startStyles=h,this._endStyles=A,this._state=0;let N=c.initialStylesByElement.get(r);N||c.initialStylesByElement.set(r,N=new Map),this._initialStyles=N}start(){this._state<1&&(this._startStyles&&ke(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ke(this._element,this._initialStyles),this._endStyles&&(ke(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(c.initialStylesByElement.delete(this._element),this._startStyles&&(ge(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ge(this._element,this._endStyles),this._endStyles=null),ke(this._element,this._initialStyles),this._state=3)}}return c.initialStylesByElement=new WeakMap,c})();function fa(c){let m=null;return c.forEach((r,h)=>{(function Ul(c){return"display"===c||"position"===c})(h)&&(m=m||new Map,m.set(h,r))}),m}class sl{constructor(m,r,h,A){this.element=m,this.keyframes=r,this.options=h,this._specialStyles=A,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=h.duration,this._delay=h.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(m=>m()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const m=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,m,this.options),this._finalKeyframe=m.length?m[m.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(m){const r=[];return m.forEach(h=>{r.push(Object.fromEntries(h))}),r}_triggerWebAnimation(m,r,h){return m.animate(this._convertKeyframesToObject(r),h)}onStart(m){this._originalOnStartFns.push(m),this._onStartFns.push(m)}onDone(m){this._originalOnDoneFns.push(m),this._onDoneFns.push(m)}onDestroy(m){this._onDestroyFns.push(m)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(m=>m()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(m=>m()),this._onDestroyFns=[])}setPosition(m){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=m*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const m=new Map;this.hasStarted()&&this._finalKeyframe.forEach((h,A)=>{"offset"!==A&&m.set(A,this._finished?h:Te(this.element,A))}),this.currentSnapshot=m}triggerCallback(m){const r="start"===m?this._onStartFns:this._onDoneFns;r.forEach(h=>h()),r.length=0}}class Ia{validateStyleProperty(m){return!0}validateAnimatableStyleProperty(m){return!0}matchesElement(m,r){return!1}containsElement(m,r){return ae(m,r)}getParentElement(m){return wi(m)}query(m,r,h){return Se(m,r,h)}computeStyle(m,r,h){return window.getComputedStyle(m)[r]}animate(m,r,h,A,N,re=[]){const Ke={duration:h,delay:A,fill:0==A?"both":"forwards"};N&&(Ke.easing=N);const dt=new Map,jt=re.filter(Hi=>Hi instanceof sl);(function Qe(c,m){return 0===c||0===m})(h,A)&&jt.forEach(Hi=>{Hi.currentSnapshot.forEach((zi,$i)=>dt.set($i,zi))});let qt=function j(c){return c.length?c[0]instanceof Map?c:c.map(m=>B(m)):[]}(r).map(Hi=>_e(Hi));qt=function Tt(c,m,r){if(r.size&&m.length){let h=m[0],A=[];if(r.forEach((N,re)=>{h.has(re)||A.push(re),h.set(re,N)}),A.length)for(let N=1;N<m.length;N++){let re=m[N];A.forEach(ve=>re.set(ve,Te(c,ve)))}}return m}(m,qt,dt);const Si=function Ac(c,m){let r=null,h=null;return Array.isArray(m)&&m.length?(r=fa(m[0]),m.length>1&&(h=fa(m[m.length-1]))):m instanceof Map&&(r=fa(m)),r||h?new Bs(c,r,h):null}(m,qt);return new sl(m,qt,Ke,Si)}}var Bi=H(6814);let jl=(()=>{class c extends ne._j{constructor(r,h){super(),this._nextAnimationId=0,this._renderer=r.createRenderer(h.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(r){const h=this._nextAnimationId.toString();this._nextAnimationId++;const A=Array.isArray(r)?(0,ne.vP)(r):r;return mr(this._renderer,null,h,"register",[A]),new On(h,this._renderer)}}return c.\u0275fac=function(r){return new(r||c)(l.LFG(l.FYo),l.LFG(Bi.K0))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac}),c})();class On extends ne.LC{constructor(m,r){super(),this._id=m,this._renderer=r}create(m,r){return new Ga(this._id,m,r||{},this._renderer)}}class Ga{constructor(m,r,h,A){this.id=m,this.element=r,this._renderer=A,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",h)}_listen(m,r){return this._renderer.listen(this.element,`@@${this.id}:${m}`,r)}_command(m,...r){return mr(this._renderer,this.element,this.id,m,r)}onDone(m){this._listen("done",m)}onStart(m){this._listen("start",m)}onDestroy(m){this._listen("destroy",m)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(m){this._command("setPosition",m)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function mr(c,m,r,h,A){return c.setProperty(m,`@@${r}:${h}`,A)}const Y="@.disabled";let W=(()=>{class c{constructor(r,h,A){this.delegate=r,this.engine=h,this._zone=A,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,h.onRemovalComplete=(N,re)=>{const ve=re?.parentNode(N);ve&&re.removeChild(ve,N)}}createRenderer(r,h){const N=this.delegate.createRenderer(r,h);if(!(r&&h&&h.data&&h.data.animation)){let jt=this._rendererCache.get(N);return jt||(jt=new G("",N,this.engine,()=>this._rendererCache.delete(N)),this._rendererCache.set(N,jt)),jt}const re=h.id,ve=h.id+"-"+this._currentId;this._currentId++,this.engine.register(ve,r);const Ke=jt=>{Array.isArray(jt)?jt.forEach(Ke):this.engine.registerTrigger(re,ve,r,jt.name,jt)};return h.data.animation.forEach(Ke),new we(this,ve,N,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(r,h,A){r>=0&&r<this._microtaskId?this._zone.run(()=>h(A)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(N=>{const[re,ve]=N;re(ve)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([h,A]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return c.\u0275fac=function(r){return new(r||c)(l.LFG(l.FYo),l.LFG(bl),l.LFG(l.R0b))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac}),c})();class G{constructor(m,r,h,A){this.namespaceId=m,this.delegate=r,this.engine=h,this._onDestroy=A}get data(){return this.delegate.data}destroyNode(m){this.delegate.destroyNode?.(m)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(m,r){return this.delegate.createElement(m,r)}createComment(m){return this.delegate.createComment(m)}createText(m){return this.delegate.createText(m)}appendChild(m,r){this.delegate.appendChild(m,r),this.engine.onInsert(this.namespaceId,r,m,!1)}insertBefore(m,r,h,A=!0){this.delegate.insertBefore(m,r,h),this.engine.onInsert(this.namespaceId,r,m,A)}removeChild(m,r,h){this.engine.onRemove(this.namespaceId,r,this.delegate)}selectRootElement(m,r){return this.delegate.selectRootElement(m,r)}parentNode(m){return this.delegate.parentNode(m)}nextSibling(m){return this.delegate.nextSibling(m)}setAttribute(m,r,h,A){this.delegate.setAttribute(m,r,h,A)}removeAttribute(m,r,h){this.delegate.removeAttribute(m,r,h)}addClass(m,r){this.delegate.addClass(m,r)}removeClass(m,r){this.delegate.removeClass(m,r)}setStyle(m,r,h,A){this.delegate.setStyle(m,r,h,A)}removeStyle(m,r,h){this.delegate.removeStyle(m,r,h)}setProperty(m,r,h){"@"==r.charAt(0)&&r==Y?this.disableAnimations(m,!!h):this.delegate.setProperty(m,r,h)}setValue(m,r){this.delegate.setValue(m,r)}listen(m,r,h){return this.delegate.listen(m,r,h)}disableAnimations(m,r){this.engine.disableAnimations(m,r)}}class we extends G{constructor(m,r,h,A,N){super(r,h,A,N),this.factory=m,this.namespaceId=r}setProperty(m,r,h){"@"==r.charAt(0)?"."==r.charAt(1)&&r==Y?this.disableAnimations(m,h=void 0===h||!!h):this.engine.process(this.namespaceId,m,r.slice(1),h):this.delegate.setProperty(m,r,h)}listen(m,r,h){if("@"==r.charAt(0)){const A=function Ht(c){switch(c){case"body":return document.body;case"document":return document;case"window":return window;default:return c}}(m);let N=r.slice(1),re="";return"@"!=N.charAt(0)&&([N,re]=function Di(c){const m=c.indexOf(".");return[c.substring(0,m),c.slice(m+1)]}(N)),this.engine.listen(this.namespaceId,A,N,re,ve=>{this.factory.scheduleListenerCallback(ve._data||-1,h,ve)})}return this.delegate.listen(m,r,h)}}let Xr=(()=>{class c extends bl{constructor(r,h,A,N){super(r.body,h,A)}ngOnDestroy(){this.flush()}}return c.\u0275fac=function(r){return new(r||c)(l.LFG(Bi.K0),l.LFG(de),l.LFG(Jo),l.LFG(l.z2F))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac}),c})();const Aa=[{provide:ne._j,useClass:jl},{provide:Jo,useFactory:function mo(){return new fr}},{provide:bl,useClass:Xr},{provide:l.FYo,useFactory:function Vs(c,m,r){return new W(c,m,r)},deps:[C.se,bl,l.R0b]}],Za=[{provide:de,useFactory:()=>new Ia},{provide:l.QbO,useValue:"BrowserAnimations"},...Aa],Hl=[{provide:de,useClass:he},{provide:l.QbO,useValue:"NoopAnimations"},...Aa];let Hr=(()=>{class c{static withConfig(r){return{ngModule:c,providers:r.disableAnimations?Hl:Za}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({providers:Za,imports:[C.b2]}),c})(),Wa=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Bi.ez]}),c})();function No(c,m,r,h,A,N,re){try{var ve=c[N](re),Ke=ve.value}catch(dt){return void r(dt)}ve.done?m(Ke):Promise.resolve(Ke).then(h,A)}function xr(c){return function(){var m=this,r=arguments;return new Promise(function(h,A){var N=c.apply(m,r);function re(Ke){No(N,h,A,re,ve,"next",Ke)}function ve(Ke){No(N,h,A,re,ve,"throw",Ke)}re(void 0)})}}var Rn=H(5624),wr=H(8645);class xl extends wr.x{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(m){const{hasError:r,_hasValue:h,_value:A,thrownError:N,isStopped:re,_isComplete:ve}=this;r?m.error(N):(re||ve)&&(h&&m.next(A),m.complete())}next(m){this.isStopped||(this._value=m,this._hasValue=!0)}complete(){const{_hasValue:m,_value:r,_isComplete:h}=this;h||(this._isComplete=!0,m&&super.next(r),super.complete())}}var js=H(7394),ka=H(1374);let Cr=(()=>{class c{constructor(r){this.zone=r,this.mapCreated=new xl,this.mapLoaded=new xl,this.markersToRemove=[],this.popupsToRemove=[],this.imageIdsToRemove=[],this.subscription=new js.w0,this.mapCreated$=this.mapCreated.asObservable(),this.mapLoaded$=this.mapLoaded.asObservable()}setup(r){this.zone.onStable.pipe((0,ka.P)()).subscribe(()=>{this.createMap(r.mapOptions),this.hookEvents(r.mapEvents),this.mapEvents=r.mapEvents,this.mapCreated.next(void 0),this.mapCreated.complete(),r.mapOptions.terrain&&this.mapInstance.on("load",()=>{this.updateTerrain(r.mapOptions.terrain)})})}destroyMap(){this.mapInstance&&(this.subscription.unsubscribe(),this.mapInstance.remove())}updateMinZoom(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMinZoom(r)})}updateMaxZoom(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMaxZoom(r)})}updateMinPitch(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMinPitch(r)})}updateMaxPitch(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMaxPitch(r)})}updateRenderWorldCopies(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setRenderWorldCopies(r)})}updateScrollZoom(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.scrollZoom.enable():this.mapInstance.scrollZoom.disable()})}updateDragRotate(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.dragRotate.enable():this.mapInstance.dragRotate.disable()})}updateTouchPitch(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.touchPitch.enable():this.mapInstance.touchPitch.disable()})}updateTouchZoomRotate(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.touchZoomRotate.enable():this.mapInstance.touchZoomRotate.disable()})}updateDoubleClickZoom(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.doubleClickZoom.enable():this.mapInstance.doubleClickZoom.disable()})}updateKeyboard(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.keyboard.enable():this.mapInstance.keyboard.disable()})}updateDragPan(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.dragPan.enable():this.mapInstance.dragPan.disable()})}updateBoxZoom(r){return this.zone.runOutsideAngular(()=>{r?this.mapInstance.boxZoom.enable():this.mapInstance.boxZoom.disable()})}updateStyle(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setStyle(r)})}updateMaxBounds(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setMaxBounds(r)})}updateTerrain(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.setTerrain(r)})}getTerrain(){return this.zone.runOutsideAngular(()=>this.mapInstance.getTerrain())}changeCanvasCursor(r){this.mapInstance.getCanvasContainer().style.cursor=r}queryRenderedFeatures(r,h){return this.mapInstance.queryRenderedFeatures(r,h)}panTo(r,h){return this.zone.runOutsideAngular(()=>{this.mapInstance.panTo(r,h)})}move(r,h,A,N,re,ve){return this.zone.runOutsideAngular(()=>{this.mapInstance[r]({...h,zoom:A??this.mapInstance.getZoom(),center:N??this.mapInstance.getCenter(),bearing:re??this.mapInstance.getBearing(),pitch:ve??this.mapInstance.getPitch()})})}addLayer(r,h,A){this.zone.runOutsideAngular(()=>{Object.keys(r.layerOptions).forEach(N=>{void 0===r.layerOptions[N]&&delete r.layerOptions[N]}),this.mapInstance.addLayer(r.layerOptions,A),h&&(r.layerEvents.layerClick.observers.length&&this.mapInstance.on("click",r.layerOptions.id,N=>{this.zone.run(()=>{r.layerEvents.layerClick.emit(N)})}),r.layerEvents.layerDblClick.observers.length&&this.mapInstance.on("dblclick",r.layerOptions.id,N=>{this.zone.run(()=>{r.layerEvents.layerDblClick.emit(N)})}),r.layerEvents.layerMouseDown.observers.length&&this.mapInstance.on("mousedown",r.layerOptions.id,N=>{this.zone.run(()=>{r.layerEvents.layerMouseDown.emit(N)})}),r.layerEvents.layerMouseUp.observers.length&&this.mapInstance.on("mouseup",r.layerOptions.id,N=>{this.zone.run(()=>{r.layerEvents.layerMouseUp.emit(N)})}),r.layerEvents.layerMouseEnter.observers.length&&this.mapInstance.on("mouseenter",r.layerOptions.id,N=>{this.zone.run(()=>{r.layerEvents.layerMouseEnter.emit(N)})}),r.layerEvents.layerMouseLeave.observers.length&&this.mapInstance.on("mouseleave",r.layerOptions.id,N=>{this.zone.run(()=>{r.layerEvents.layerMouseLeave.emit(N)})}),r.layerEvents.layerMouseMove.observers.length&&this.mapInstance.on("mousemove",r.layerOptions.id,N=>{this.zone.run(()=>{r.layerEvents.layerMouseMove.emit(N)})}),r.layerEvents.layerMouseOver.observers.length&&this.mapInstance.on("mouseover",r.layerOptions.id,N=>{this.zone.run(()=>{r.layerEvents.layerMouseOver.emit(N)})}),r.layerEvents.layerMouseOut.observers.length&&this.mapInstance.on("mouseout",r.layerOptions.id,N=>{this.zone.run(()=>{r.layerEvents.layerMouseOut.emit(N)})}),r.layerEvents.layerContextMenu.observers.length&&this.mapInstance.on("contextmenu",r.layerOptions.id,N=>{this.zone.run(()=>{r.layerEvents.layerContextMenu.emit(N)})}),r.layerEvents.layerTouchStart.observers.length&&this.mapInstance.on("touchstart",r.layerOptions.id,N=>{this.zone.run(()=>{r.layerEvents.layerTouchStart.emit(N)})}),r.layerEvents.layerTouchEnd.observers.length&&this.mapInstance.on("touchend",r.layerOptions.id,N=>{this.zone.run(()=>{r.layerEvents.layerTouchEnd.emit(N)})}),r.layerEvents.layerTouchCancel.observers.length&&this.mapInstance.on("touchcancel",r.layerOptions.id,N=>{this.zone.run(()=>{r.layerEvents.layerTouchCancel.emit(N)})}))})}removeLayer(r){this.zone.runOutsideAngular(()=>{null!=this.mapInstance.getLayer(r)&&this.mapInstance.removeLayer(r)})}addMarker(r){const h={offset:r.markersOptions.offset,anchor:r.markersOptions.anchor,draggable:!!r.markersOptions.draggable,rotationAlignment:r.markersOptions.rotationAlignment,pitchAlignment:r.markersOptions.pitchAlignment,clickTolerance:r.markersOptions.clickTolerance};r.markersOptions.element.childNodes.length>0&&(h.element=r.markersOptions.element);const A=new Rn.Marker(h);return r.markersEvents.markerDragStart.observers.length&&A.on("dragstart",re=>{if(re){const{target:ve}=re;this.zone.run(()=>{r.markersEvents.markerDragStart.emit(ve)})}}),r.markersEvents.markerDrag.observers.length&&A.on("drag",re=>{if(re){const{target:ve}=re;this.zone.run(()=>{r.markersEvents.markerDrag.emit(ve)})}}),r.markersEvents.markerDragEnd.observers.length&&A.on("dragend",re=>{if(re){const{target:ve}=re;this.zone.run(()=>{r.markersEvents.markerDragEnd.emit(ve)})}}),A.setLngLat(r.markersOptions.feature?r.markersOptions.feature.geometry.coordinates:r.markersOptions.lngLat),this.zone.runOutsideAngular(()=>(A.addTo(this.mapInstance),A))}removeMarker(r){this.markersToRemove.push(r)}createPopup(r,h){return this.zone.runOutsideAngular(()=>{Object.keys(r.popupOptions).forEach(N=>void 0===r.popupOptions[N]&&delete r.popupOptions[N]);const A=new Rn.Popup(r.popupOptions);return A.setDOMContent(h),r.popupEvents.popupClose.observers.length&&A.on("close",()=>{this.zone.run(()=>{r.popupEvents.popupClose.emit()})}),r.popupEvents.popupOpen.observers.length&&A.on("open",()=>{this.zone.run(()=>{r.popupEvents.popupOpen.emit()})}),A})}addPopupToMap(r,h,A=!1){return this.zone.runOutsideAngular(()=>{A&&r._listeners&&delete r._listeners.open,r.setLngLat(h),r.addTo(this.mapInstance)})}addPopupToMarker(r,h){return this.zone.runOutsideAngular(()=>{r.setPopup(h)})}removePopupFromMap(r,h=!1){h&&r._listeners&&delete r._listeners.close,this.popupsToRemove.push(r)}removePopupFromMarker(r){return this.zone.runOutsideAngular(()=>{r.setPopup(void 0)})}addControl(r,h){return this.zone.runOutsideAngular(()=>{this.mapInstance.addControl(r,h)})}removeControl(r){return this.zone.runOutsideAngular(()=>{this.mapInstance.removeControl(r)})}loadAndAddImage(r,h,A){var N=this;return xr(function*(){return N.zone.runOutsideAngular(()=>new Promise((re,ve)=>{N.mapInstance.loadImage(h,(Ke,dt)=>{Ke?ve(Ke):(N.addImage(r,dt,A),re())})}))})()}addImage(r,h,A){return this.zone.runOutsideAngular(()=>{this.mapInstance.addImage(r,h,A)})}removeImage(r){this.imageIdsToRemove.push(r)}addSource(r,h){return this.zone.runOutsideAngular(()=>{Object.keys(h).forEach(A=>void 0===h[A]&&delete h[A]),this.mapInstance.addSource(r,h)})}getSource(r){return this.mapInstance.getSource(r)}removeSource(r){this.zone.runOutsideAngular(()=>{this.findLayersBySourceId(r).forEach(h=>this.mapInstance.removeLayer(h.id)),this.mapInstance.removeSource(r)})}setAllLayerPaintProperty(r,h){return this.zone.runOutsideAngular(()=>{Object.keys(h).forEach(A=>{this.mapInstance.setPaintProperty(r,A,h[A])})})}setAllLayerLayoutProperty(r,h){return this.zone.runOutsideAngular(()=>{Object.keys(h).forEach(A=>{this.mapInstance.setLayoutProperty(r,A,h[A])})})}setLayerFilter(r,h){return this.zone.runOutsideAngular(()=>{this.mapInstance.setFilter(r,h)})}setLayerBefore(r,h){return this.zone.runOutsideAngular(()=>{this.mapInstance.moveLayer(r,h)})}setLayerZoomRange(r,h,A){return this.zone.runOutsideAngular(()=>{this.mapInstance.setLayerZoomRange(r,h||0,A||20)})}fitBounds(r,h){return this.zone.runOutsideAngular(()=>{this.mapInstance.fitBounds(r,h)})}fitScreenCoordinates(r,h,A){return this.zone.runOutsideAngular(()=>{this.mapInstance.fitScreenCoordinates(r[0],r[1],h,A)})}applyChanges(){this.zone.runOutsideAngular(()=>{this.removeMarkers(),this.removePopups(),this.removeImages()})}createMap(r){l.R0b.assertNotInAngularZone(),Object.keys(r).forEach(A=>{void 0===r[A]&&delete r[A]}),this.mapInstance=new Rn.Map(r),window&&/msie\s|trident\/|edge\//i.test(window.navigator.userAgent)&&this.mapInstance.setStyle(r.style),this.subscription.add(this.zone.onMicrotaskEmpty.subscribe(()=>this.applyChanges()))}removeMarkers(){for(const r of this.markersToRemove)r.remove();this.markersToRemove=[]}removePopups(){for(const r of this.popupsToRemove)r.remove();this.popupsToRemove=[]}removeImages(){for(const r of this.imageIdsToRemove)this.mapInstance.removeImage(r);this.imageIdsToRemove=[]}findLayersBySourceId(r){const h=this.mapInstance.getStyle().layers;return null==h?[]:h.filter(A=>"source"in A&&A.source===r)}hookEvents(r){this.mapInstance.on("load",h=>{this.mapLoaded.next(void 0),this.mapLoaded.complete(),this.zone.run(()=>{r.mapLoad.emit(h.target)})}),r.mapResize.observers.length&&this.mapInstance.on("resize",h=>this.zone.run(()=>{r.mapResize.emit(h)})),r.mapRemove.observers.length&&this.mapInstance.on("remove",h=>this.zone.run(()=>{r.mapRemove.emit(h)})),r.mapMouseDown.observers.length&&this.mapInstance.on("mousedown",h=>this.zone.run(()=>{r.mapMouseDown.emit(h)})),r.mapMouseUp.observers.length&&this.mapInstance.on("mouseup",h=>this.zone.run(()=>{r.mapMouseUp.emit(h)})),r.mapMouseMove.observers.length&&this.mapInstance.on("mousemove",h=>this.zone.run(()=>{r.mapMouseMove.emit(h)})),r.mapClick.observers.length&&this.mapInstance.on("click",h=>this.zone.run(()=>{r.mapClick.emit(h)})),r.mapDblClick.observers.length&&this.mapInstance.on("dblclick",h=>this.zone.run(()=>{r.mapDblClick.emit(h)})),r.mapMouseOver.observers.length&&this.mapInstance.on("mouseover",h=>this.zone.run(()=>{r.mapMouseOver.emit(h)})),r.mapMouseOut.observers.length&&this.mapInstance.on("mouseout",h=>this.zone.run(()=>{r.mapMouseOut.emit(h)})),r.mapContextMenu.observers.length&&this.mapInstance.on("contextmenu",h=>this.zone.run(()=>{r.mapContextMenu.emit(h)})),r.mapTouchStart.observers.length&&this.mapInstance.on("touchstart",h=>this.zone.run(()=>{r.mapTouchStart.emit(h)})),r.mapTouchEnd.observers.length&&this.mapInstance.on("touchend",h=>this.zone.run(()=>{r.mapTouchEnd.emit(h)})),r.mapTouchMove.observers.length&&this.mapInstance.on("touchmove",h=>this.zone.run(()=>{r.mapTouchMove.emit(h)})),r.mapTouchCancel.observers.length&&this.mapInstance.on("touchcancel",h=>this.zone.run(()=>{r.mapTouchCancel.emit(h)})),r.mapWheel.observers.length&&this.mapInstance.on("wheel",h=>this.zone.run(()=>{r.mapWheel.emit(h)})),r.moveStart.observers.length&&this.mapInstance.on("movestart",h=>this.zone.run(()=>r.moveStart.emit(h))),r.move.observers.length&&this.mapInstance.on("move",h=>this.zone.run(()=>r.move.emit(h))),r.moveEnd.observers.length&&this.mapInstance.on("moveend",h=>this.zone.run(()=>r.moveEnd.emit(h))),r.mapDragStart.observers.length&&this.mapInstance.on("dragstart",h=>this.zone.run(()=>{r.mapDragStart.emit(h)})),r.mapDrag.observers.length&&this.mapInstance.on("drag",h=>this.zone.run(()=>{r.mapDrag.emit(h)})),r.mapDragEnd.observers.length&&this.mapInstance.on("dragend",h=>this.zone.run(()=>{r.mapDragEnd.emit(h)})),r.zoomStart.observers.length&&this.mapInstance.on("zoomstart",h=>this.zone.run(()=>r.zoomStart.emit(h))),r.zoomEvt.observers.length&&this.mapInstance.on("zoom",h=>this.zone.run(()=>r.zoomEvt.emit(h))),r.zoomEnd.observers.length&&this.mapInstance.on("zoomend",h=>this.zone.run(()=>r.zoomEnd.emit(h))),r.rotateStart.observers.length&&this.mapInstance.on("rotatestart",h=>this.zone.run(()=>r.rotateStart.emit(h))),r.rotate.observers.length&&this.mapInstance.on("rotate",h=>this.zone.run(()=>r.rotate.emit(h))),r.rotateEnd.observers.length&&this.mapInstance.on("rotateend",h=>this.zone.run(()=>r.rotateEnd.emit(h))),r.pitchStart.observers.length&&this.mapInstance.on("pitchstart",h=>this.zone.run(()=>r.pitchStart.emit(h))),r.pitchEvt.observers.length&&this.mapInstance.on("pitch",h=>this.zone.run(()=>r.pitchEvt.emit(h))),r.pitchEnd.observers.length&&this.mapInstance.on("pitchend",h=>this.zone.run(()=>r.pitchEnd.emit(h))),r.boxZoomStart.observers.length&&this.mapInstance.on("boxzoomstart",h=>this.zone.run(()=>r.boxZoomStart.emit(h))),r.boxZoomEnd.observers.length&&this.mapInstance.on("boxzoomend",h=>this.zone.run(()=>r.boxZoomEnd.emit(h))),r.boxZoomCancel.observers.length&&this.mapInstance.on("boxzoomcancel",h=>this.zone.run(()=>r.boxZoomCancel.emit(h))),r.webGlContextLost.observers.length&&this.mapInstance.on("webglcontextlost",h=>this.zone.run(()=>r.webGlContextLost.emit(h))),r.webGlContextRestored.observers.length&&this.mapInstance.on("webglcontextrestored",h=>this.zone.run(()=>r.webGlContextRestored.emit(h))),r.render.observers.length&&this.mapInstance.on("render",h=>this.zone.run(()=>r.render.emit(h))),r.mapError.observers.length&&this.mapInstance.on("error",h=>this.zone.run(()=>{r.mapError.emit(h)})),r.data.observers.length&&this.mapInstance.on("data",h=>this.zone.run(()=>r.data.emit(h))),r.styleData.observers.length&&this.mapInstance.on("styledata",h=>this.zone.run(()=>r.styleData.emit(h))),r.sourceData.observers.length&&this.mapInstance.on("sourcedata",h=>this.zone.run(()=>r.sourceData.emit(h))),r.dataLoading.observers.length&&this.mapInstance.on("dataloading",h=>this.zone.run(()=>r.dataLoading.emit(h))),r.styleDataLoading.observers.length&&this.mapInstance.on("styledataloading",h=>this.zone.run(()=>r.styleDataLoading.emit(h))),r.sourceDataLoading.observers.length&&this.mapInstance.on("sourcedataloading",h=>this.zone.run(()=>r.sourceDataLoading.emit(h))),r.styleImageMissing.observers.length&&this.mapInstance.on("styleimagemissing",h=>this.zone.run(()=>r.styleImageMissing.emit(h))),r.idle.observers.length&&this.mapInstance.on("idle",h=>this.zone.run(()=>r.idle.emit(h)))}}return c.\u0275fac=function(r){return new(r||c)(l.LFG(l.R0b))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac}),c})();const $l=["content"],Hs=["*"];class qa{constructor(m){this.container=m}onAdd(){return this.container}onRemove(){return this.container.parentNode.removeChild(this.container)}getDefaultPosition(){return"top-right"}}let Tr=(()=>{class c{constructor(r){this.mapService=r}ngAfterContentInit(){this.content.nativeElement.childNodes.length&&(this.control=new qa(this.content.nativeElement),this.mapService.mapCreated$.subscribe(()=>{this.mapService.addControl(this.control,this.position)}))}ngOnDestroy(){this.mapService.mapInstance.hasControl(this.control)&&this.mapService.removeControl(this.control)}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Cr))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-control"]],viewQuery:function(r,h){if(1&r&&l.Gf($l,7),2&r){let A;l.iGM(A=l.CRH())&&(h.content=A.first)}},inputs:{position:"position"},ngContentSelectors:Hs,decls:3,vars:0,consts:[[1,"maplibregl-ctrl"],["content",""]],template:function(r,h){1&r&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},encapsulation:2,changeDetection:0}),c})();var hs=H(2438),$r=H(2181),Gl=H(9397),ms=H(4664),Rr=H(9773),wl=H(8180),xs=H(3620);let Gr=(()=>{class c{constructor(r,h){this.mapService=r,this.zone=h,this.type="geojson",this.updateFeatureData=new wr.x,this.sub=new js.w0,this.sourceAdded=!1,this.featureIdCounter=0}ngOnInit(){this.data||(this.data={type:"FeatureCollection",features:[]});const r=this.mapService.mapLoaded$.subscribe(()=>{this.init();const h=(0,hs.R)(this.mapService.mapInstance,"styledata").pipe((0,$r.h)(()=>!this.mapService.mapInstance.getSource(this.id))).subscribe(()=>{this.init()});this.sub.add(h)});this.sub.add(r)}ngOnChanges(r){if(this.sourceAdded&&((r.maxzoom&&!r.maxzoom.isFirstChange()||r.attribution&&!r.attribution.isFirstChange()||r.buffer&&!r.buffer.isFirstChange()||r.tolerance&&!r.tolerance.isFirstChange()||r.cluster&&!r.cluster.isFirstChange()||r.clusterRadius&&!r.clusterRadius.isFirstChange()||r.clusterMaxZoom&&!r.clusterMaxZoom.isFirstChange()||r.clusterMinPoints&&!r.clusterMinPoints.isFirstChange()||r.clusterProperties&&!r.clusterProperties.isFirstChange()||r.lineMetrics&&!r.lineMetrics.isFirstChange()||r.generateId&&!r.generateId.isFirstChange()||r.promoteId&&!r.promoteId.isFirstChange()||r.filter&&!r.filter.isFirstChange())&&(this.ngOnDestroy(),this.ngOnInit()),r.data&&!r.data.isFirstChange())){const h=this.mapService.getSource(this.id);if(void 0===h)return;h.setData(this.data)}}ngOnDestroy(){this.sub.unsubscribe(),this.sourceAdded&&(this.mapService.removeSource(this.id),this.sourceAdded=!1)}getClusterExpansionZoom(r){var h=this;return xr(function*(){const A=h.mapService.getSource(h.id);return h.zone.run(xr(function*(){return new Promise((N,re)=>{A.getClusterExpansionZoom(r,(ve,Ke)=>{ve?re(ve):N(Ke)})})}))})()}getClusterChildren(r){var h=this;return xr(function*(){const A=h.mapService.getSource(h.id);return h.zone.run(xr(function*(){return new Promise((N,re)=>{A.getClusterChildren(r,(ve,Ke)=>{ve?re(ve):N(Ke)})})}))})()}getClusterLeaves(r,h,A){var N=this;return xr(function*(){const re=N.mapService.getSource(N.id);return N.zone.run(xr(function*(){return new Promise((ve,Ke)=>{re.getClusterLeaves(r,h,A,(dt,jt)=>{dt?Ke(dt):ve(jt)})})}))})()}_addFeature(r){this.data.features.push(r),this.updateFeatureData.next(void 0)}_removeFeature(r){const h=this.data,A=h.features.indexOf(r);A>-1&&h.features.splice(A,1),this.updateFeatureData.next(void 0)}_getNewFeatureId(){return++this.featureIdCounter}init(){this.mapService.addSource(this.id,{type:"geojson",data:this.data,maxzoom:this.maxzoom,attribution:this.attribution,buffer:this.buffer,tolerance:this.tolerance,cluster:this.cluster,clusterRadius:this.clusterRadius,clusterMaxZoom:this.clusterMaxZoom,clusterMinPoints:this.clusterMinPoints,clusterProperties:this.clusterProperties,lineMetrics:this.lineMetrics,generateId:this.generateId,promoteId:this.promoteId,filter:this.filter});const h=this.updateFeatureData.pipe((0,xs.b)(0)).subscribe(()=>{const A=this.mapService.getSource(this.id);void 0!==A&&A.setData(this.data)});this.sub.add(h),this.sourceAdded=!0}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Cr),l.Y36(l.R0b))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-geojson-source"]],inputs:{id:"id",data:"data",maxzoom:"maxzoom",attribution:"attribution",buffer:"buffer",tolerance:"tolerance",cluster:"cluster",clusterRadius:"clusterRadius",clusterMaxZoom:"clusterMaxZoom",clusterMinPoints:"clusterMinPoints",clusterProperties:"clusterProperties",lineMetrics:"lineMetrics",generateId:"generateId",promoteId:"promoteId",filter:"filter"},features:[l.TTD],decls:0,vars:0,template:function(r,h){},encapsulation:2,changeDetection:0}),c})(),ga=(()=>{class c{constructor(r){this.geoJSONSourceComponent=r,this.type="Feature"}ngOnInit(){this.id||(this.id=this.geoJSONSourceComponent._getNewFeatureId()),this.feature={type:this.type,geometry:this.geometry,properties:this.properties?this.properties:{}},this.feature.id=this.id,this.geoJSONSourceComponent._addFeature(this.feature)}ngOnDestroy(){this.geoJSONSourceComponent._removeFeature(this.feature)}updateCoordinates(r){this.feature.geometry.coordinates=r,this.geoJSONSourceComponent.updateFeatureData.next(void 0)}}return c.\u0275fac=function(r){return new(r||c)(l.Y36((0,l.Gpc)(()=>Gr)))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-feature"]],inputs:{id:"id",geometry:"geometry",properties:"properties"},decls:0,vars:0,template:function(r,h){},encapsulation:2,changeDetection:0}),c})(),Zr=(()=>{class c{constructor(r,h,A){this.mapService=r,this.ngZone=h,this.featureComponent=A,this.featureDragStart=new l.vpe,this.featureDragEnd=new l.vpe,this.featureDrag=new l.vpe,this.sub=new js.w0}ngOnInit(){let r,h,A;if(!this.featureComponent||!this.layer)throw new Error("mglDraggable can only be used on Feature (with a layer as input) or Marker");if(r=this.layer.layerMouseEnter,h=this.layer.layerMouseLeave,A=this.featureComponent.updateCoordinates.bind(this.featureComponent),"Point"!==this.featureComponent.geometry.type)throw new Error("mglDraggable only support point feature");this.handleDraggable(r,h,A)}ngOnDestroy(){this.sub.unsubscribe()}handleDraggable(r,h,A){let N=!1,re=!1;this.mapService.mapCreated$.subscribe(()=>{const ve=(0,hs.R)(this.mapService.mapInstance,"mouseup"),Ke=r.pipe((0,$r.h)(()=>!N),(0,$r.h)(qt=>this.filterFeature(qt)),(0,Gl.b)(()=>{re=!0,this.mapService.changeCanvasCursor("move"),this.mapService.updateDragPan(!1)}),(0,ms.w)(()=>(0,hs.R)(this.mapService.mapInstance,"mousedown").pipe((0,Rr.R)(h)))),dt=Ke.pipe((0,ms.w)(()=>(0,hs.R)(this.mapService.mapInstance,"mousemove").pipe((0,Rr.R)(ve)))),jt=Ke.pipe((0,ms.w)(()=>ve.pipe((0,wl.q)(1))));this.sub.add(Ke.subscribe(qt=>{N=!0,this.featureDragStart.observers.length&&this.ngZone.run(()=>{this.featureDragStart.emit(qt)})})),this.sub.add(dt.subscribe(qt=>{A([qt.lngLat.lng,qt.lngLat.lat]),this.featureDrag.observers.length&&this.ngZone.run(()=>{this.featureDrag.emit(qt)})})),this.sub.add(jt.subscribe(qt=>{N=!1,this.featureDragEnd.observers.length&&this.ngZone.run(()=>{this.featureDragEnd.emit(qt)}),re||(this.mapService.changeCanvasCursor(""),this.mapService.updateDragPan(!0))})),this.sub.add(h.pipe((0,Gl.b)(()=>re=!1),(0,$r.h)(()=>!N)).subscribe(()=>{this.mapService.changeCanvasCursor(""),this.mapService.updateDragPan(!0)}))})}filterFeature(r){return!(this.featureComponent&&this.layer&&!this.mapService.queryRenderedFeatures(r.point,{layers:[this.layer.id],filter:["all",["==","$type","Point"],["==","$id",this.featureComponent.id]]})[0])}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Cr),l.Y36(l.R0b),l.Y36(ga,9))},c.\u0275dir=l.lG2({type:c,selectors:[["","mglDraggable",""]],inputs:{layer:["mglDraggable","layer"]},outputs:{featureDragStart:"featureDragStart",featureDragEnd:"featureDragEnd",featureDrag:"featureDrag"}}),c})();var Zo=H(7398),Cl=H(7921);let ro=(()=>{class c{constructor(r){this.mapService=r,this.layerClick=new l.vpe,this.layerDblClick=new l.vpe,this.layerMouseDown=new l.vpe,this.layerMouseUp=new l.vpe,this.layerMouseEnter=new l.vpe,this.layerMouseLeave=new l.vpe,this.layerMouseMove=new l.vpe,this.layerMouseOver=new l.vpe,this.layerMouseOut=new l.vpe,this.layerContextMenu=new l.vpe,this.layerTouchStart=new l.vpe,this.layerTouchEnd=new l.vpe,this.layerTouchCancel=new l.vpe,this.layerAdded=!1}ngOnInit(){this.sub=this.mapService.mapLoaded$.pipe((0,ms.w)(()=>(0,hs.R)(this.mapService.mapInstance,"styledata").pipe((0,Zo.U)(()=>!1),(0,$r.h)(()=>!this.mapService.mapInstance.getLayer(this.id)),(0,Cl.O)(!0)))).subscribe(r=>this.init(r))}ngOnChanges(r){this.layerAdded&&(r.paint&&!r.paint.isFirstChange()&&this.mapService.setAllLayerPaintProperty(this.id,r.paint.currentValue),r.layout&&!r.layout.isFirstChange()&&this.mapService.setAllLayerLayoutProperty(this.id,r.layout.currentValue),r.filter&&!r.filter.isFirstChange()&&this.mapService.setLayerFilter(this.id,r.filter.currentValue),r.before&&!r.before.isFirstChange()&&this.mapService.setLayerBefore(this.id,r.before.currentValue),(r.minzoom&&!r.minzoom.isFirstChange()||r.maxzoom&&!r.maxzoom.isFirstChange())&&this.mapService.setLayerZoomRange(this.id,this.minzoom,this.maxzoom))}ngOnDestroy(){this.layerAdded&&(this.mapService.removeLayer(this.id),void 0!==this.sourceIdAdded&&this.mapService.getSource(this.sourceIdAdded)&&this.mapService.removeSource(this.sourceIdAdded)),this.sub&&this.sub.unsubscribe()}init(r){const h={layerOptions:{id:this.id,type:this.type,source:this.source,metadata:this.metadata,"source-layer":this.sourceLayer,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this.layout,paint:this.paint},layerEvents:{layerClick:this.layerClick,layerDblClick:this.layerDblClick,layerMouseDown:this.layerMouseDown,layerMouseUp:this.layerMouseUp,layerMouseEnter:this.layerMouseEnter,layerMouseLeave:this.layerMouseLeave,layerMouseMove:this.layerMouseMove,layerMouseOver:this.layerMouseOver,layerMouseOut:this.layerMouseOut,layerContextMenu:this.layerContextMenu,layerTouchStart:this.layerTouchStart,layerTouchEnd:this.layerTouchEnd,layerTouchCancel:this.layerTouchCancel}};this.removeSource&&"string"!=typeof this.source&&void 0===this.mapService.getSource(this.id)&&(this.sourceIdAdded=this.id),this.mapService.addLayer(h,r,this.before),void 0!==this.sourceIdAdded&&void 0===this.mapService.getSource(this.sourceIdAdded)&&(this.sourceIdAdded=void 0),this.layerAdded=!0}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Cr))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-layer"]],inputs:{id:"id",source:"source",type:"type",metadata:"metadata",sourceLayer:"sourceLayer",removeSource:"removeSource",filter:"filter",layout:"layout",paint:"paint",before:"before",minzoom:"minzoom",maxzoom:"maxzoom"},outputs:{layerClick:"layerClick",layerDblClick:"layerDblClick",layerMouseDown:"layerMouseDown",layerMouseUp:"layerMouseUp",layerMouseEnter:"layerMouseEnter",layerMouseLeave:"layerMouseLeave",layerMouseMove:"layerMouseMove",layerMouseOver:"layerMouseOver",layerMouseOut:"layerMouseOut",layerContextMenu:"layerContextMenu",layerTouchStart:"layerTouchStart",layerTouchEnd:"layerTouchEnd",layerTouchCancel:"layerTouchCancel"},features:[l.TTD],decls:0,vars:0,template:function(r,h){},encapsulation:2}),c})(),El=(()=>{class c{constructor(r,h){this.mapService=r,this.zone=h,this.imageError=new l.vpe,this.imageLoaded=new l.vpe,this.isAdded=!1,this.isAdding=!1}ngOnInit(){this.sub=this.mapService.mapLoaded$.pipe((0,ms.w)(()=>(0,hs.R)(this.mapService.mapInstance,"styledata").pipe((0,Cl.O)(void 0),(0,$r.h)(()=>!this.isAdding&&!this.mapService.mapInstance.hasImage(this.id))))).subscribe(()=>this.init())}ngOnChanges(r){(r.data&&!r.data.isFirstChange()||r.options&&!r.options.isFirstChange()||r.url&&!r.url.isFirstChange())&&(this.ngOnDestroy(),this.ngOnInit())}ngOnDestroy(){this.isAdded&&this.mapService.removeImage(this.id),this.sub&&this.sub.unsubscribe()}init(){var r=this;return xr(function*(){if(r.isAdding=!0,r.data)r.mapService.addImage(r.id,r.data,r.options),r.isAdded=!0,r.isAdding=!1;else if(r.url)try{yield r.mapService.loadAndAddImage(r.id,r.url,r.options),r.isAdded=!0,r.isAdding=!1,r.zone.run(()=>{r.imageLoaded.emit()})}catch(h){r.zone.run(()=>{r.imageError.emit(h)})}})()}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Cr),l.Y36(l.R0b))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-image"]],inputs:{id:"id",data:"data",options:"options",url:"url"},outputs:{imageError:"imageError",imageLoaded:"imageLoaded"},features:[l.TTD],decls:0,vars:0,template:function(r,h){},encapsulation:2}),c})(),Ya=(()=>{class c{constructor(r){this.mapService=r,this.type="vector",this.sourceAdded=!1,this.sub=new js.w0}ngOnInit(){const r=this.mapService.mapLoaded$.subscribe(()=>{this.init();const h=(0,hs.R)(this.mapService.mapInstance,"styledata").pipe((0,$r.h)(()=>!this.mapService.mapInstance.getSource(this.id))).subscribe(()=>{this.init()});this.sub.add(h)});this.sub.add(r)}ngOnChanges(r){if(this.sourceAdded)if(r.bounds&&!r.bounds.isFirstChange()||r.scheme&&!r.scheme.isFirstChange()||r.minzoom&&!r.minzoom.isFirstChange()||r.maxzoom&&!r.maxzoom.isFirstChange()||r.attribution&&!r.attribution.isFirstChange()||r.promoteId&&!r.promoteId.isFirstChange())this.ngOnDestroy(),this.ngOnInit();else if(r.url&&!r.url.isFirstChange()||r.tiles&&!r.tiles.isFirstChange()){const h=this.mapService.getSource(this.id);if(void 0===h)return;r.url&&this.url&&h.setUrl(this.url),r.tiles&&this.tiles&&h.setTiles(this.tiles)}}ngOnDestroy(){this.sub.unsubscribe(),this.sourceAdded&&(this.mapService.removeSource(this.id),this.sourceAdded=!1)}init(){this.mapService.addSource(this.id,{type:this.type,url:this.url,tiles:this.tiles,bounds:this.bounds,scheme:this.scheme,minzoom:this.minzoom,maxzoom:this.maxzoom,attribution:this.attribution,promoteId:this.promoteId}),this.sourceAdded=!0}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Cr))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-vector-source"]],inputs:{id:"id",url:"url",tiles:"tiles",bounds:"bounds",scheme:"scheme",minzoom:"minzoom",maxzoom:"maxzoom",attribution:"attribution",promoteId:"promoteId"},features:[l.TTD],decls:0,vars:0,template:function(r,h){},encapsulation:2,changeDetection:0}),c})(),Ni=(()=>{class c{constructor(r){this.mapService=r,this.type="image"}ngOnInit(){this.sub=this.mapService.mapLoaded$.subscribe(()=>this.init())}ngOnChanges(r){if(void 0===this.sourceId)return;const h=this.mapService.getSource(this.sourceId);void 0!==h&&h.updateImage({url:void 0===r.url?void 0:this.url,coordinates:void 0===r.coordinates?void 0:this.coordinates})}ngOnDestroy(){void 0!==this.sub&&this.sub.unsubscribe(),void 0!==this.sourceId&&(this.mapService.removeSource(this.sourceId),this.sourceId=void 0)}init(){this.mapService.addSource(this.id,{type:"image",url:this.url,coordinates:this.coordinates}),this.sourceId=this.id}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Cr))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-image-source"]],inputs:{id:"id",url:"url",coordinates:"coordinates"},features:[l.TTD],decls:0,vars:0,template:function(r,h){},encapsulation:2,changeDetection:0}),c})(),ts=(()=>{class c{constructor(r){this.mapService=r,this.type="raster-dem",this.sourceAdded=!1,this.sub=new js.w0}ngOnInit(){const r=this.mapService.mapLoaded$.subscribe(()=>{this.init();const h=(0,hs.R)(this.mapService.mapInstance,"styledata").pipe((0,$r.h)(()=>!this.mapService.mapInstance.getSource(this.id))).subscribe(()=>{this.init()});this.sub.add(h)});this.sub.add(r)}ngOnChanges(r){this.sourceAdded&&(r.url&&!r.url.isFirstChange()||r.tiles&&!r.tiles.isFirstChange()||r.bounds&&!r.bounds.isFirstChange()||r.minzoom&&!r.minzoom.isFirstChange()||r.maxzoom&&!r.maxzoom.isFirstChange()||r.tileSize&&!r.tileSize.isFirstChange()||r.attribution&&!r.attribution.isFirstChange()||r.encoding&&!r.encoding.isFirstChange())&&(this.ngOnDestroy(),this.ngOnInit())}ngOnDestroy(){this.sub.unsubscribe(),this.sourceAdded&&(this.mapService.removeSource(this.id),this.sourceAdded=!1)}init(){this.mapService.addSource(this.id,{type:this.type,url:this.url,tiles:this.tiles,bounds:this.bounds,minzoom:this.minzoom,maxzoom:this.maxzoom,tileSize:this.tileSize,attribution:this.attribution,encoding:this.encoding}),this.sourceAdded=!0}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Cr))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-raster-dem-source"]],inputs:{id:"id",url:"url",tiles:"tiles",bounds:"bounds",minzoom:"minzoom",maxzoom:"maxzoom",tileSize:"tileSize",attribution:"attribution",encoding:"encoding"},features:[l.TTD],decls:0,vars:0,template:function(r,h){},encapsulation:2,changeDetection:0}),c})();const Gs=["content"],_r=["*"];let fi=(()=>{class c{constructor(r){this.mapService=r,this.markerDragStart=new l.vpe,this.markerDragEnd=new l.vpe,this.markerDrag=new l.vpe}ngOnInit(){if(this.feature&&this.lngLat)throw new Error("feature and lngLat input are mutually exclusive")}ngOnChanges(r){r.lngLat&&!r.lngLat.isFirstChange()&&this.markerInstance.setLngLat(this.lngLat),r.feature&&!r.feature.isFirstChange()&&this.markerInstance.setLngLat(this.feature.geometry.coordinates),r.draggable&&!r.draggable.isFirstChange()&&this.markerInstance.setDraggable(!!this.draggable),r.popupShown&&!r.popupShown.isFirstChange()&&(r.popupShown.currentValue?this.markerInstance.getPopup().addTo(this.mapService.mapInstance):this.markerInstance.getPopup().remove()),r.pitchAlignment&&!r.pitchAlignment.isFirstChange()&&this.markerInstance.setPitchAlignment(r.pitchAlignment.currentValue),r.rotationAlignment&&!r.rotationAlignment.isFirstChange()&&this.markerInstance.setRotationAlignment(r.rotationAlignment.currentValue)}ngAfterViewInit(){this.mapService.mapCreated$.subscribe(()=>{this.markerInstance=this.mapService.addMarker({markersOptions:{offset:this.offset,anchor:this.anchor,pitchAlignment:this.pitchAlignment,rotationAlignment:this.rotationAlignment,draggable:!!this.draggable,element:this.content.nativeElement,feature:this.feature,lngLat:this.lngLat,clickTolerance:this.clickTolerance},markersEvents:{markerDragStart:this.markerDragStart,markerDrag:this.markerDrag,markerDragEnd:this.markerDragEnd}})})}ngOnDestroy(){this.mapService.removeMarker(this.markerInstance),this.markerInstance=void 0}togglePopup(){this.markerInstance.togglePopup()}updateCoordinates(r){this.markerInstance.setLngLat(r)}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Cr))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-marker"]],viewQuery:function(r,h){if(1&r&&l.Gf(Gs,7),2&r){let A;l.iGM(A=l.CRH())&&(h.content=A.first)}},inputs:{offset:"offset",anchor:"anchor",clickTolerance:"clickTolerance",feature:"feature",lngLat:"lngLat",draggable:"draggable",popupShown:"popupShown",className:"className",pitchAlignment:"pitchAlignment",rotationAlignment:"rotationAlignment"},outputs:{markerDragStart:"markerDragStart",markerDragEnd:"markerDragEnd",markerDrag:"markerDrag"},features:[l.TTD],ngContentSelectors:_r,decls:3,vars:2,consts:[["content",""]],template:function(r,h){1&r&&(l.F$t(),l.TgZ(0,"div",null,0),l.Hsn(2),l.qZA()),2&r&&l.Tol(h.className)},encapsulation:2,changeDetection:0}),c})();const V=["content"],Q=["*"];let $=(()=>{class c{constructor(r){this.mapService=r,this.popupClose=new l.vpe,this.popupOpen=new l.vpe}ngOnInit(){if(this.lngLat&&this.marker||this.feature&&this.lngLat||this.feature&&this.marker)throw new Error("marker, lngLat, feature input are mutually exclusive")}ngOnChanges(r){if(r.feature&&!r.feature.isFirstChange()){const h=r.lngLat?this.lngLat:this.feature.geometry.coordinates;this.mapService.removePopupFromMap(this.popupInstance,!0);const A=this.createPopup();this.mapService.addPopupToMap(A,h,this.popupInstance.isOpen()),this.popupInstance=A}if(r.lngLat&&!r.lngLat.isFirstChange()&&this.popupInstance.setLngLat(this.lngLat),r.marker&&!r.marker.isFirstChange()){const h=r.marker.previousValue;h.markerInstance&&this.mapService.removePopupFromMarker(h.markerInstance),this.marker&&this.marker.markerInstance&&this.popupInstance&&this.mapService.addPopupToMarker(this.marker.markerInstance,this.popupInstance)}r.offset&&!r.offset.isFirstChange()&&this.popupInstance&&this.popupInstance.setOffset(this.offset)}ngAfterViewInit(){this.popupInstance=this.createPopup(),this.addPopup(this.popupInstance)}ngOnDestroy(){this.popupInstance&&(this.lngLat||this.feature?this.mapService.removePopupFromMap(this.popupInstance):this.marker&&this.marker.markerInstance&&this.mapService.removePopupFromMarker(this.marker.markerInstance)),this.popupInstance=void 0}createPopup(){return this.mapService.createPopup({popupOptions:{closeButton:this.closeButton,closeOnClick:this.closeOnClick,closeOnMove:this.closeOnMove,focusAfterOpen:this.focusAfterOpen,anchor:this.anchor,offset:this.offset,className:this.className,maxWidth:this.maxWidth},popupEvents:{popupOpen:this.popupOpen,popupClose:this.popupClose}},this.content.nativeElement)}addPopup(r){this.mapService.mapCreated$.subscribe(()=>{if(this.lngLat||this.feature)this.mapService.addPopupToMap(r,this.lngLat?this.lngLat:this.feature.geometry.coordinates);else{if(!this.marker||!this.marker.markerInstance)throw new Error("mgl-popup need either lngLat/marker/feature to be set");this.mapService.addPopupToMarker(this.marker.markerInstance,r)}})}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Cr))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-popup"]],viewQuery:function(r,h){if(1&r&&l.Gf(V,7),2&r){let A;l.iGM(A=l.CRH())&&(h.content=A.first)}},inputs:{closeButton:"closeButton",closeOnClick:"closeOnClick",closeOnMove:"closeOnMove",focusAfterOpen:"focusAfterOpen",anchor:"anchor",className:"className",maxWidth:"maxWidth",feature:"feature",lngLat:"lngLat",marker:"marker",offset:"offset"},outputs:{popupClose:"popupClose",popupOpen:"popupOpen"},features:[l.TTD],ngContentSelectors:Q,decls:3,vars:0,consts:[["content",""]],template:function(r,h){1&r&&(l.F$t(),l.TgZ(0,"div",null,0),l.Hsn(2),l.qZA())},encapsulation:2,changeDetection:0}),c})(),fe=(()=>{class c{onFullscreen(){this.mapService.mapInstance.resize()}constructor(r,h){this.mapService=r,this.controlComponent=h}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");this.controlComponent.control=new Rn.FullscreenControl({container:this.container}),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Cr),l.Y36(Tr,1))},c.\u0275dir=l.lG2({type:c,selectors:[["","mglFullscreen",""]],hostBindings:function(r,h){1&r&&l.NdJ("webkitfullscreenchange",function(N){return h.onFullscreen(N.target)},!1,l.Jf7)},inputs:{container:"container"}}),c})(),Ze=(()=>{class c{constructor(r,h){this.mapService=r,this.controlComponent=h,this.geolocate=new l.vpe}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");const r={positionOptions:this.positionOptions,fitBoundsOptions:this.fitBoundsOptions,trackUserLocation:this.trackUserLocation,showUserLocation:this.showUserLocation};Object.keys(r).forEach(h=>{void 0===r[h]&&delete r[h]}),this.controlComponent.control=new Rn.GeolocateControl(r),this.controlComponent.control.on("geolocate",h=>{this.geolocate.emit(h)}),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Cr),l.Y36(Tr,1))},c.\u0275dir=l.lG2({type:c,selectors:[["","mglGeolocate",""]],inputs:{positionOptions:"positionOptions",fitBoundsOptions:"fitBoundsOptions",trackUserLocation:"trackUserLocation",showUserLocation:"showUserLocation"},outputs:{geolocate:"geolocate"}}),c})(),kt=(()=>{class c{constructor(r,h){this.mapService=r,this.controlComponent=h}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");const r={};void 0!==this.showCompass&&(r.showCompass=this.showCompass),void 0!==this.showZoom&&(r.showZoom=this.showZoom),null!=this.visualizePitch&&(r.visualizePitch=this.visualizePitch),this.controlComponent.control=new Rn.NavigationControl(r),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Cr),l.Y36(Tr,1))},c.\u0275dir=l.lG2({type:c,selectors:[["","mglNavigation",""]],inputs:{showCompass:"showCompass",showZoom:"showZoom",visualizePitch:"visualizePitch"}}),c})(),Wt=(()=>{class c{constructor(r,h){this.mapService=r,this.controlComponent=h}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");const r={};void 0!==this.compact&&(r.compact=this.compact),void 0!==this.customAttribution&&(r.customAttribution=this.customAttribution),this.controlComponent.control=new Rn.AttributionControl(r),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Cr),l.Y36(Tr,1))},c.\u0275dir=l.lG2({type:c,selectors:[["","mglAttribution",""]],inputs:{compact:"compact",customAttribution:"customAttribution"}}),c})(),qi=(()=>{class c{constructor(r,h){this.mapService=r,this.controlComponent=h}ngOnChanges(r){r.unit&&!r.unit.isFirstChange()&&this.controlComponent.control.setUnit(r.unit.currentValue)}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");const r={};void 0!==this.maxWidth&&(r.maxWidth=this.maxWidth),void 0!==this.unit&&(r.unit=this.unit),this.controlComponent.control=new Rn.ScaleControl(r),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Cr),l.Y36(Tr,1))},c.\u0275dir=l.lG2({type:c,selectors:[["","mglScale",""]],inputs:{maxWidth:"maxWidth",unit:"unit"},features:[l.TTD]}),c})();var tr=H(3019);function zn(c,m){1&c&&l.GkF(0)}const Bn=function(c){return{$implicit:c}};function Mn(c,m){if(1&c&&(l.ynx(0),l.TgZ(1,"mgl-marker",3),l.YNc(2,zn,1,0,"ng-container",4),l.qZA(),l.BQk()),2&c){const r=l.oxw().$implicit,h=l.oxw();l.xp6(1),l.Q6J("feature",r),l.xp6(1),l.Q6J("ngTemplateOutlet",h.clusterPointTpl)("ngTemplateOutletContext",l.VKq(3,Bn,r))}}function Wn(c,m){1&c&&l.GkF(0)}function mn(c,m){if(1&c&&(l.ynx(0),l.TgZ(1,"mgl-marker",3),l.YNc(2,Wn,1,0,"ng-container",4),l.qZA(),l.BQk()),2&c){const r=l.oxw().$implicit,h=l.oxw();l.xp6(1),l.Q6J("feature",r),l.xp6(1),l.Q6J("ngTemplateOutlet",h.pointTpl)("ngTemplateOutletContext",l.VKq(3,Bn,r))}}function Wr(c,m){if(1&c&&(l.ynx(0),l.YNc(1,Mn,3,5,"ng-container",2),l.YNc(2,mn,3,5,"ng-container",2),l.BQk()),2&c){const r=m.$implicit;l.xp6(1),l.Q6J("ngIf",r.properties.cluster),l.xp6(1),l.Q6J("ngIf",!r.properties.cluster)}}const Zs=function(){return{"circle-radius":0}};let Ki=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275dir=l.lG2({type:c,selectors:[["ng-template","mglPoint",""]]}),c})(),ws=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275dir=l.lG2({type:c,selectors:[["ng-template","mglClusterPoint",""]]}),c})(),Cs=0,ir=(()=>{class c{constructor(r,h,A){this.mapService=r,this.changeDetectorRef=h,this.ngZone=A,this.layerId="mgl-markers-for-clusters-"+Cs++,this.sub=new js.w0}ngAfterContentInit(){const h=this.mapService.mapCreated$.pipe((0,ms.w)(()=>(0,hs.R)(this.mapService.mapInstance,"data").pipe((0,$r.h)(A=>A.sourceId===this.source&&"metadata"!==A.sourceDataType&&this.mapService.mapInstance.isSourceLoaded(this.source)))),(0,ms.w)(()=>(0,tr.T)((0,hs.R)(this.mapService.mapInstance,"move"),(0,hs.R)(this.mapService.mapInstance,"moveend")).pipe((0,Cl.O)(void 0)))).subscribe(()=>{this.ngZone.run(()=>{this.updateCluster()})});this.sub.add(h)}ngOnDestroy(){this.sub.unsubscribe()}trackByClusterPoint(r,h){return h.id}updateCluster(){const r={layers:[this.layerId]};this.pointTpl||(r.filter=["==","cluster",!0]),this.clusterPoints=this.mapService.mapInstance.queryRenderedFeatures(r),this.changeDetectorRef.markForCheck()}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Cr),l.Y36(l.sBO),l.Y36(l.R0b))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-markers-for-clusters"]],contentQueries:function(r,h,A){if(1&r&&(l.Suo(A,Ki,5,l.Rgc),l.Suo(A,ws,5,l.Rgc)),2&r){let N;l.iGM(N=l.CRH())&&(h.pointTpl=N.first),l.iGM(N=l.CRH())&&(h.clusterPointTpl=N.first)}},inputs:{source:"source"},decls:2,vars:6,consts:[["type","circle",3,"id","source","paint"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[3,"feature"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,h){1&r&&(l._UZ(0,"mgl-layer",0),l.YNc(1,Wr,3,2,"ng-container",1)),2&r&&(l.Q6J("id",h.layerId)("source",h.source)("paint",l.DdM(5,Zs)),l.xp6(1),l.Q6J("ngForOf",h.clusterPoints)("ngForTrackBy",h.trackByClusterPoint))},dependencies:[Bi.sg,Bi.O5,Bi.tP,ro,fi],encapsulation:2,changeDetection:0}),c})(),nr=(()=>{class c{constructor(r,h){this.mapService=r,this.controlComponent=h}ngAfterContentInit(){this.mapService.mapCreated$.subscribe(()=>{if(this.controlComponent.control)throw new Error("Another control is already set for this control");this.controlComponent.control=new Rn.TerrainControl({source:this.source,exaggeration:this.exaggeration??1}),this.mapService.addControl(this.controlComponent.control,this.controlComponent.position)})}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Cr),l.Y36(Tr,1))},c.\u0275dir=l.lG2({type:c,selectors:[["","mglTerrain",""]],inputs:{source:"source",exaggeration:"exaggeration"}}),c})();const ps=["container"];let hn=(()=>{class c{get mapInstance(){return this.mapService.mapInstance}constructor(r){this.mapService=r,this.movingMethod="flyTo",this.mapResize=new l.vpe,this.mapRemove=new l.vpe,this.mapMouseDown=new l.vpe,this.mapMouseUp=new l.vpe,this.mapMouseMove=new l.vpe,this.mapClick=new l.vpe,this.mapDblClick=new l.vpe,this.mapMouseOver=new l.vpe,this.mapMouseOut=new l.vpe,this.mapContextMenu=new l.vpe,this.mapTouchStart=new l.vpe,this.mapTouchEnd=new l.vpe,this.mapTouchMove=new l.vpe,this.mapTouchCancel=new l.vpe,this.mapWheel=new l.vpe,this.moveStart=new l.vpe,this.move=new l.vpe,this.moveEnd=new l.vpe,this.mapDragStart=new l.vpe,this.mapDrag=new l.vpe,this.mapDragEnd=new l.vpe,this.zoomStart=new l.vpe,this.zoomEvt=new l.vpe,this.zoomEnd=new l.vpe,this.rotateStart=new l.vpe,this.rotate=new l.vpe,this.rotateEnd=new l.vpe,this.pitchStart=new l.vpe,this.pitchEvt=new l.vpe,this.pitchEnd=new l.vpe,this.boxZoomStart=new l.vpe,this.boxZoomEnd=new l.vpe,this.boxZoomCancel=new l.vpe,this.webGlContextLost=new l.vpe,this.webGlContextRestored=new l.vpe,this.mapLoad=new l.vpe,this.idle=new l.vpe,this.render=new l.vpe,this.mapError=new l.vpe,this.data=new l.vpe,this.styleData=new l.vpe,this.sourceData=new l.vpe,this.dataLoading=new l.vpe,this.styleDataLoading=new l.vpe,this.sourceDataLoading=new l.vpe,this.styleImageMissing=new l.vpe}ngAfterViewInit(){this.mapService.setup({mapOptions:{collectResourceTiming:this.collectResourceTiming,container:this.mapContainer.nativeElement,crossSourceCollisions:this.crossSourceCollisions,fadeDuration:this.fadeDuration,minZoom:this.minZoom,maxZoom:this.maxZoom,minPitch:this.minPitch,maxPitch:this.maxPitch,style:this.style,hash:this.hash,interactive:this.interactive,bearingSnap:this.bearingSnap,pitchWithRotate:this.pitchWithRotate,clickTolerance:this.clickTolerance,attributionControl:this.attributionControl,logoPosition:this.logoPosition,failIfMajorPerformanceCaveat:this.failIfMajorPerformanceCaveat,preserveDrawingBuffer:this.preserveDrawingBuffer,refreshExpiredTiles:this.refreshExpiredTiles,maxBounds:this.maxBounds,scrollZoom:this.scrollZoom,boxZoom:this.boxZoom,dragRotate:this.dragRotate,dragPan:this.dragPan,keyboard:this.keyboard,doubleClickZoom:this.doubleClickZoom,touchPitch:this.touchPitch,touchZoomRotate:this.touchZoomRotate,trackResize:this.trackResize,center:this.center,zoom:this.zoom,bearing:this.bearing,pitch:this.pitch,renderWorldCopies:this.renderWorldCopies,maxTileCacheSize:this.maxTileCacheSize,localIdeographFontFamily:this.localIdeographFontFamily,transformRequest:this.transformRequest,bounds:this.bounds?this.bounds:this.fitBounds,fitBoundsOptions:this.fitBoundsOptions,antialias:this.antialias,locale:this.locale,cooperativeGestures:this.cooperativeGestures,terrain:this.terrain},mapEvents:this}),this.cursorStyle&&this.mapService.changeCanvasCursor(this.cursorStyle)}ngOnDestroy(){this.mapService.destroyMap()}ngOnChanges(r){var h=this;return xr(function*(){yield h.mapService.mapCreated$.toPromise(),r.cursorStyle&&!r.cursorStyle.isFirstChange()&&h.mapService.changeCanvasCursor(r.cursorStyle.currentValue),r.minZoom&&!r.minZoom.isFirstChange()&&h.mapService.updateMinZoom(r.minZoom.currentValue),r.maxZoom&&!r.maxZoom.isFirstChange()&&h.mapService.updateMaxZoom(r.maxZoom.currentValue),r.minPitch&&!r.minPitch.isFirstChange()&&h.mapService.updateMinPitch(r.minPitch.currentValue),r.maxPitch&&!r.maxPitch.isFirstChange()&&h.mapService.updateMaxPitch(r.maxPitch.currentValue),r.renderWorldCopies&&!r.renderWorldCopies.isFirstChange()&&h.mapService.updateRenderWorldCopies(r.renderWorldCopies.currentValue),r.scrollZoom&&!r.scrollZoom.isFirstChange()&&h.mapService.updateScrollZoom(r.scrollZoom.currentValue),r.dragRotate&&!r.dragRotate.isFirstChange()&&h.mapService.updateDragRotate(r.dragRotate.currentValue),r.touchPitch&&!r.touchPitch.isFirstChange()&&h.mapService.updateTouchPitch(r.touchPitch.currentValue),r.touchZoomRotate&&!r.touchZoomRotate.isFirstChange()&&h.mapService.updateTouchZoomRotate(r.touchZoomRotate.currentValue),r.doubleClickZoom&&!r.doubleClickZoom.isFirstChange()&&h.mapService.updateDoubleClickZoom(r.doubleClickZoom.currentValue),r.keyboard&&!r.keyboard.isFirstChange()&&h.mapService.updateKeyboard(r.keyboard.currentValue),r.dragPan&&!r.dragPan.isFirstChange()&&h.mapService.updateDragPan(r.dragPan.currentValue),r.boxZoom&&!r.boxZoom.isFirstChange()&&h.mapService.updateBoxZoom(r.boxZoom.currentValue),r.style&&!r.style.isFirstChange()&&h.mapService.updateStyle(r.style.currentValue),r.maxBounds&&!r.maxBounds.isFirstChange()&&h.mapService.updateMaxBounds(r.maxBounds.currentValue),r.fitBounds&&r.fitBounds.currentValue&&!r.fitBounds.isFirstChange()&&h.mapService.fitBounds(r.fitBounds.currentValue,h.fitBoundsOptions),r.fitScreenCoordinates&&r.fitScreenCoordinates.currentValue&&((h.center||h.zoom||h.pitch||h.fitBounds)&&r.fitScreenCoordinates.isFirstChange()&&console.warn("[ngx-maplibre-gl] center / zoom / pitch / fitBounds inputs are being overridden by fitScreenCoordinates input"),h.mapService.fitScreenCoordinates(r.fitScreenCoordinates.currentValue,h.bearing?h.bearing[0]:0,h.movingOptions)),!h.centerWithPanTo||!r.center||r.center.isFirstChange()||r.zoom||r.bearing||r.pitch?(r.center&&!r.center.isFirstChange()||r.zoom&&!r.zoom.isFirstChange()||r.bearing&&!r.bearing.isFirstChange()&&!r.fitScreenCoordinates||r.pitch&&!r.pitch.isFirstChange())&&h.mapService.move(h.movingMethod,h.movingOptions,r.zoom&&h.zoom?h.zoom[0]:void 0,r.center?h.center:void 0,r.bearing&&h.bearing?h.bearing[0]:void 0,r.pitch&&h.pitch?h.pitch[0]:void 0):h.mapService.panTo(h.center,h.panToOptions),r.terrain&&!r.terrain.isFirstChange()&&h.mapService.updateTerrain(r.terrain.currentValue)})()}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Cr))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mgl-map"]],viewQuery:function(r,h){if(1&r&&l.Gf(ps,7),2&r){let A;l.iGM(A=l.CRH())&&(h.mapContainer=A.first)}},inputs:{collectResourceTiming:"collectResourceTiming",crossSourceCollisions:"crossSourceCollisions",customMapboxApiUrl:"customMapboxApiUrl",fadeDuration:"fadeDuration",hash:"hash",refreshExpiredTiles:"refreshExpiredTiles",failIfMajorPerformanceCaveat:"failIfMajorPerformanceCaveat",bearingSnap:"bearingSnap",interactive:"interactive",pitchWithRotate:"pitchWithRotate",clickTolerance:"clickTolerance",attributionControl:"attributionControl",logoPosition:"logoPosition",maxTileCacheSize:"maxTileCacheSize",localIdeographFontFamily:"localIdeographFontFamily",preserveDrawingBuffer:"preserveDrawingBuffer",trackResize:"trackResize",transformRequest:"transformRequest",bounds:"bounds",antialias:"antialias",locale:"locale",cooperativeGestures:"cooperativeGestures",minZoom:"minZoom",maxZoom:"maxZoom",minPitch:"minPitch",maxPitch:"maxPitch",scrollZoom:"scrollZoom",dragRotate:"dragRotate",touchPitch:"touchPitch",touchZoomRotate:"touchZoomRotate",doubleClickZoom:"doubleClickZoom",keyboard:"keyboard",dragPan:"dragPan",boxZoom:"boxZoom",style:"style",center:"center",maxBounds:"maxBounds",zoom:"zoom",bearing:"bearing",pitch:"pitch",fitBoundsOptions:"fitBoundsOptions",renderWorldCopies:"renderWorldCopies",movingMethod:"movingMethod",movingOptions:"movingOptions",terrain:"terrain",fitBounds:"fitBounds",fitScreenCoordinates:"fitScreenCoordinates",centerWithPanTo:"centerWithPanTo",panToOptions:"panToOptions",cursorStyle:"cursorStyle"},outputs:{mapResize:"mapResize",mapRemove:"mapRemove",mapMouseDown:"mapMouseDown",mapMouseUp:"mapMouseUp",mapMouseMove:"mapMouseMove",mapClick:"mapClick",mapDblClick:"mapDblClick",mapMouseOver:"mapMouseOver",mapMouseOut:"mapMouseOut",mapContextMenu:"mapContextMenu",mapTouchStart:"mapTouchStart",mapTouchEnd:"mapTouchEnd",mapTouchMove:"mapTouchMove",mapTouchCancel:"mapTouchCancel",mapWheel:"mapWheel",moveStart:"moveStart",move:"move",moveEnd:"moveEnd",mapDragStart:"mapDragStart",mapDrag:"mapDrag",mapDragEnd:"mapDragEnd",zoomStart:"zoomStart",zoomEvt:"zoomEvt",zoomEnd:"zoomEnd",rotateStart:"rotateStart",rotate:"rotate",rotateEnd:"rotateEnd",pitchStart:"pitchStart",pitchEvt:"pitchEvt",pitchEnd:"pitchEnd",boxZoomStart:"boxZoomStart",boxZoomEnd:"boxZoomEnd",boxZoomCancel:"boxZoomCancel",webGlContextLost:"webGlContextLost",webGlContextRestored:"webGlContextRestored",mapLoad:"mapLoad",idle:"idle",render:"render",mapError:"mapError",data:"data",styleData:"styleData",sourceData:"sourceData",dataLoading:"dataLoading",styleDataLoading:"styleDataLoading",sourceDataLoading:"sourceDataLoading",styleImageMissing:"styleImageMissing"},features:[l._Bn([Cr]),l.TTD],decls:2,vars:0,consts:[["container",""]],template:function(r,h){1&r&&l._UZ(0,"div",null,0)},styles:["[_nghost-%COMP%]{display:block}div[_ngcontent-%COMP%]{height:100%;width:100%}"],changeDetection:0}),c})();var Ka=H(877);const Qc="object"==typeof global&&global&&global.Object===Object&&global;var ed="object"==typeof self&&self&&self.Object===Object&&self;const is=Qc||ed||Function("return this")(),gi=is.Symbol;var ll=Object.prototype,Ws=ll.hasOwnProperty,wo=ll.toString,Io=gi?gi.toStringTag:void 0;var cl=Object.prototype.toString;var fs=gi?gi.toStringTag:void 0;const Es=function oa(c){return null==c?void 0===c?"[object Undefined]":"[object Null]":fs&&fs in Object(c)?function Wl(c){var m=Ws.call(c,Io),r=c[Io];try{c[Io]=void 0;var h=!0}catch{}var A=wo.call(c);return h&&(m?c[Io]=r:delete c[Io]),A}(c):function Br(c){return cl.call(c)}(c)},ya=function qs(c){var m=typeof c;return null!=c&&("object"==m||"function"==m)},Tl=function ql(c){if(!ya(c))return!1;var m=Es(c);return"[object Function]"==m||"[object GeneratorFunction]"==m||"[object AsyncFunction]"==m||"[object Proxy]"==m};var c,Ra=is["__core-js_shared__"],Il=(c=/[^.]+$/.exec(Ra&&Ra.keys&&Ra.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"";var Qn=Function.prototype.toString;const i=function E(c){if(null!=c){try{return Qn.call(c)}catch{}try{return c+""}catch{}}return""};var y=/^\[object .+?Constructor\]$/,_=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const k=function D(c){return!(!ya(c)||function Al(c){return!!Il&&Il in c}(c))&&(Tl(c)?_:y).test(i(c))},oe=function ee(c,m){var r=function R(c,m){return c?.[m]}(c,m);return k(r)?r:void 0};var Me=function(){try{var c=oe(Object,"defineProperty");return c({},"",{}),c}catch{}}();const Ce=Me,yt=function it(c,m,r){"__proto__"==m&&Ce?Ce(c,m,{configurable:!0,enumerable:!0,value:r,writable:!0}):c[m]=r},ft=function $e(c,m,r,h){for(var A=-1,N=null==c?0:c.length;++A<N;){var re=c[A];m(h,re,r(re),c)}return h};var Gt=function Ft(c){return function(m,r,h){for(var A=-1,N=Object(m),re=h(m),ve=re.length;ve--;){var Ke=re[c?ve:++A];if(!1===r(N[Ke],Ke,N))break}return m}}();const Qt=Gt,xn=function ji(c){return null!=c&&"object"==typeof c},ki=function tn(c){return xn(c)&&"[object Arguments]"==Es(c)};var sr=Object.prototype,Xn=sr.hasOwnProperty,An=sr.propertyIsEnumerable,dn=ki(function(){return arguments}())?ki:function(c){return xn(c)&&Xn.call(c,"callee")&&!An.call(c,"callee")};const Pr=dn,ar=Array.isArray;var sa="object"==typeof exports&&exports&&!exports.nodeType&&exports,va=sa&&"object"==typeof module&&module&&!module.nodeType&&module,Fa=va&&va.exports===sa?is.Buffer:void 0;const po=(Fa?Fa.isBuffer:void 0)||function ns(){return!1};var Eo=/^(?:0|[1-9]\d*)$/;const lr=function qo(c,m){var r=typeof c;return!!(m=m??9007199254740991)&&("number"==r||"symbol"!=r&&Eo.test(c))&&c>-1&&c%1==0&&c<m},Kl=function Ks(c){return"number"==typeof c&&c>-1&&c%1==0&&c<=9007199254740991};var oo={};oo["[object Float32Array]"]=oo["[object Float64Array]"]=oo["[object Int8Array]"]=oo["[object Int16Array]"]=oo["[object Int32Array]"]=oo["[object Uint8Array]"]=oo["[object Uint8ClampedArray]"]=oo["[object Uint16Array]"]=oo["[object Uint32Array]"]=!0,oo["[object Arguments]"]=oo["[object Array]"]=oo["[object ArrayBuffer]"]=oo["[object Boolean]"]=oo["[object DataView]"]=oo["[object Date]"]=oo["[object Error]"]=oo["[object Function]"]=oo["[object Map]"]=oo["[object Number]"]=oo["[object Object]"]=oo["[object RegExp]"]=oo["[object Set]"]=oo["[object String]"]=oo["[object WeakMap]"]=!1;const Oc=function Yo(c){return function(m){return c(m)}};var Hh="object"==typeof exports&&exports&&!exports.nodeType&&exports,fo=Hh&&"object"==typeof module&&module&&!module.nodeType&&module,Rc=fo&&fo.exports===Hh&&Qc.process;const Ms=function(){try{return fo&&fo.require&&fo.require("util").types||Rc&&Rc.binding&&Rc.binding("util")}catch{}}();var Fc=Ms&&Ms.isTypedArray;const sd=Fc?Oc(Fc):function Lf(c){return xn(c)&&Kl(c.length)&&!!oo[Es(c)]};var Gh=Object.prototype.hasOwnProperty;const Ou=function Nf(c,m){var r=ar(c),h=!r&&Pr(c),A=!r&&!h&&po(c),N=!r&&!h&&!A&&sd(c),re=r||h||A||N,ve=re?function Xt(c,m){for(var r=-1,h=Array(c);++r<c;)h[r]=m(r);return h}(c.length,String):[],Ke=ve.length;for(var dt in c)(m||Gh.call(c,dt))&&(!re||!("length"==dt||A&&("offset"==dt||"parent"==dt)||N&&("buffer"==dt||"byteLength"==dt||"byteOffset"==dt)||lr(dt,Ke)))&&ve.push(dt);return ve};var Ru=Object.prototype;const ad=function so(c){var m=c&&c.constructor;return c===("function"==typeof m&&m.prototype||Ru)},tp=function ld(c,m){return function(r){return c(m(r))}},zf=tp(Object.keys,Object);var Vf=Object.prototype.hasOwnProperty;const hl=function np(c){return null!=c&&Kl(c.length)&&!Tl(c)},zd=function hc(c){return hl(c)?Ou(c):function Zh(c){if(!ad(c))return zf(c);var m=[];for(var r in Object(c))Vf.call(c,r)&&"constructor"!=r&&m.push(r);return m}(c)};var rp=function Nu(c,m){return function(r,h){if(null==r)return r;if(!hl(r))return c(r,h);for(var A=r.length,N=m?A:-1,re=Object(r);(m?N--:++N<A)&&!1!==h(re[N],N,re););return r}}(function Lu(c,m){return c&&Qt(c,m,zd)});const Wh=rp,op=function cd(c,m,r,h){return Wh(c,function(A,N,re){m(h,A,r(A),re)}),h},Rl=function Ur(c,m){return c===m||c!=c&&m!=m},ud=function sp(c,m){for(var r=c.length;r--;)if(Rl(c[r][0],m))return r;return-1};var Vd=Array.prototype.splice;function Xl(c){var m=-1,r=null==c?0:c.length;for(this.clear();++m<r;){var h=c[m];this.set(h[0],h[1])}}Xl.prototype.clear=function dd(){this.__data__=[],this.size=0},Xl.prototype.delete=function Hf(c){var m=this.__data__,r=ud(m,c);return!(r<0||(r==m.length-1?m.pop():Vd.call(m,r,1),--this.size,0))},Xl.prototype.get=function Ud(c){var m=this.__data__,r=ud(m,c);return r<0?void 0:m[r][1]},Xl.prototype.has=function hd(c){return ud(this.__data__,c)>-1},Xl.prototype.set=function $f(c,m){var r=this.__data__,h=ud(r,c);return h<0?(++this.size,r.push([c,m])):r[h][1]=m,this};const jd=Xl,Bu=oe(is,"Map"),Vu=oe(Object,"create");var md=Object.prototype.hasOwnProperty;var $u=Object.prototype.hasOwnProperty;function pc(c){var m=-1,r=null==c?0:c.length;for(this.clear();++m<r;){var h=c[m];this.set(h[0],h[1])}}pc.prototype.clear=function mc(){this.__data__=Vu?Vu(null):{},this.size=0},pc.prototype.delete=function ju(c){var m=this.has(c)&&delete this.__data__[c];return this.size-=m?1:0,m},pc.prototype.get=function Jh(c){var m=this.__data__;if(Vu){var r=m[c];return"__lodash_hash_undefined__"===r?void 0:r}return md.call(m,c)?m[c]:void 0},pc.prototype.has=function Fl(c){var m=this.__data__;return Vu?void 0!==m[c]:$u.call(m,c)},pc.prototype.set=function $d(c,m){var r=this.__data__;return this.size+=this.has(c)?0:1,r[c]=Vu&&void 0===m?"__lodash_hash_undefined__":m,this};const hp=pc,Ds=function fp(c,m){var r=c.__data__;return function pp(c){var m=typeof c;return"string"==m||"number"==m||"symbol"==m||"boolean"==m?"__proto__"!==c:null===c}(m)?r["string"==typeof m?"string":"hash"]:r.map};function fc(c){var m=-1,r=null==c?0:c.length;for(this.clear();++m<r;){var h=c[m];this.set(h[0],h[1])}}fc.prototype.clear=function mp(){this.size=0,this.__data__={hash:new hp,map:new(Bu||jd),string:new hp}},fc.prototype.delete=function tm(c){var m=Ds(this,c).delete(c);return this.size-=m?1:0,m},fc.prototype.get=function im(c){return Ds(this,c).get(c)},fc.prototype.has=function Zd(c){return Ds(this,c).has(c)},fc.prototype.set=function Zu(c,m){var r=Ds(this,c),h=r.size;return r.set(c,m),this.size+=r.size==h?0:1,this};const Wd=fc;function Nc(c){var m=this.__data__=new jd(c);this.size=m.size}Nc.prototype.clear=function lp(){this.__data__=new jd,this.size=0},Nc.prototype.delete=function Xh(c){var m=this.__data__,r=m.delete(c);return this.size=m.size,r},Nc.prototype.get=function cp(c){return this.__data__.get(c)},Nc.prototype.has=function zu(c){return this.__data__.has(c)},Nc.prototype.set=function Wu(c,m){var r=this.__data__;if(r instanceof jd){var h=r.__data__;if(!Bu||h.length<199)return h.push([c,m]),this.size=++r.size,this;r=this.__data__=new Wd(h)}return r.set(c,m),this.size=r.size,this};const qd=Nc;function gc(c){var m=-1,r=null==c?0:c.length;for(this.__data__=new Wd;++m<r;)this.add(c[m])}gc.prototype.add=gc.prototype.push=function om(c){return this.__data__.set(c,"__lodash_hash_undefined__"),this},gc.prototype.has=function Yd(c){return this.__data__.has(c)};const Bo=gc,am=function sm(c,m){for(var r=-1,h=null==c?0:c.length;++r<h;)if(m(c[r],r,c))return!0;return!1},pr=function zc(c,m){return c.has(m)},Ll=function Kd(c,m,r,h,A,N){var re=1&r,ve=c.length,Ke=m.length;if(ve!=Ke&&!(re&&Ke>ve))return!1;var dt=N.get(c),jt=N.get(m);if(dt&&jt)return dt==m&&jt==c;var qt=-1,Si=!0,Hi=2&r?new Bo:void 0;for(N.set(c,m),N.set(m,c);++qt<ve;){var zi=c[qt],$i=m[qt];if(h)var Sn=re?h($i,zi,qt,m,c,N):h(zi,$i,qt,c,m,N);if(void 0!==Sn){if(Sn)continue;Si=!1;break}if(Hi){if(!am(m,function(Yn,Mr){if(!pr(Hi,Mr)&&(zi===Yn||A(zi,Yn,r,h,N)))return Hi.push(Mr)})){Si=!1;break}}else if(zi!==$i&&!A(zi,$i,r,h,N)){Si=!1;break}}return N.delete(c),N.delete(m),Si},Xd=is.Uint8Array,Xf=function Kf(c){var m=-1,r=Array(c.size);return c.forEach(function(h,A){r[++m]=[A,h]}),r},xp=function Jf(c){var m=-1,r=Array(c.size);return c.forEach(function(h){r[++m]=h}),r};var dm=gi?gi.prototype:void 0,Jd=dm?dm.valueOf:void 0;const Nl=function eh(c,m){for(var r=-1,h=m.length,A=c.length;++r<h;)c[A+r]=m[r];return c},zl=function yc(c,m,r){var h=m(c);return ar(c)?h:Nl(h,r(c))},um=function Uc(){return[]};var _d=Object.prototype.propertyIsEnumerable,Cp=Object.getOwnPropertySymbols,hm=Cp?function(c){return null==c?[]:(c=Object(c),function Vc(c,m){for(var r=-1,h=null==c?0:c.length,A=0,N=[];++r<h;){var re=c[r];m(re,r,c)&&(N[A++]=re)}return N}(Cp(c),function(m){return _d.call(c,m)}))}:um;const ih=hm,Qd=function mm(c){return zl(c,zd,ih)};var eu=Object.prototype.hasOwnProperty;const nh=oe(is,"DataView"),pm=oe(is,"Promise"),yd=oe(is,"Set"),vd=oe(is,"WeakMap");var bd="[object Map]",bc="[object Promise]",oh="[object Set]",Jl="[object WeakMap]",sh="[object DataView]",Sp=i(nh),ah=i(Bu),Tp=i(pm),ig=i(yd),Ql=i(vd),La=Es;(nh&&La(new nh(new ArrayBuffer(1)))!=sh||Bu&&La(new Bu)!=bd||pm&&La(pm.resolve())!=bc||yd&&La(new yd)!=oh||vd&&La(new vd)!=Jl)&&(La=function(c){var m=Es(c),r="[object Object]"==m?c.constructor:void 0,h=r?i(r):"";if(h)switch(h){case Sp:return sh;case ah:return bd;case Tp:return bc;case ig:return oh;case Ql:return Jl}return m});const tu=La;var Ip="[object Arguments]",Ap="[object Array]",xd="[object Object]",lh=Object.prototype.hasOwnProperty;const Pp=function kp(c,m,r,h,A,N){var re=ar(c),ve=ar(m),Ke=re?Ap:tu(c),dt=ve?Ap:tu(m),jt=(Ke=Ke==Ip?xd:Ke)==xd,qt=(dt=dt==Ip?xd:dt)==xd,Si=Ke==dt;if(Si&&po(c)){if(!po(m))return!1;re=!0,jt=!1}if(Si&&!jt)return N||(N=new qd),re||sd(c)?Ll(c,m,r,h,A,N):function Qs(c,m,r,h,A,N,re){switch(r){case"[object DataView]":if(c.byteLength!=m.byteLength||c.byteOffset!=m.byteOffset)return!1;c=c.buffer,m=m.buffer;case"[object ArrayBuffer]":return!(c.byteLength!=m.byteLength||!N(new Xd(c),new Xd(m)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Rl(+c,+m);case"[object Error]":return c.name==m.name&&c.message==m.message;case"[object RegExp]":case"[object String]":return c==m+"";case"[object Map]":var ve=Xf;case"[object Set]":if(ve||(ve=xp),c.size!=m.size&&!(1&h))return!1;var dt=re.get(c);if(dt)return dt==m;h|=2,re.set(c,m);var jt=Ll(ve(c),ve(m),h,A,N,re);return re.delete(c),jt;case"[object Symbol]":if(Jd)return Jd.call(c)==Jd.call(m)}return!1}(c,m,Ke,r,h,A,N);if(!(1&r)){var Hi=jt&&lh.call(c,"__wrapped__"),zi=qt&&lh.call(m,"__wrapped__");if(Hi||zi){var $i=Hi?c.value():c,Sn=zi?m.value():m;return N||(N=new qd),A($i,Sn,r,h,N)}}return!!Si&&(N||(N=new qd),function jc(c,m,r,h,A,N){var re=1&r,ve=Qd(c),Ke=ve.length;if(Ke!=Qd(m).length&&!re)return!1;for(var qt=Ke;qt--;){var Si=ve[qt];if(!(re?Si in m:eu.call(m,Si)))return!1}var Hi=N.get(c),zi=N.get(m);if(Hi&&zi)return Hi==m&&zi==c;var $i=!0;N.set(c,m),N.set(m,c);for(var Sn=re;++qt<Ke;){var Yn=c[Si=ve[qt]],Mr=m[Si];if(h)var Do=re?h(Mr,Yn,Si,m,c,N):h(Yn,Mr,Si,c,m,N);if(!(void 0===Do?Yn===Mr||A(Yn,Mr,r,h,N):Do)){$i=!1;break}Sn||(Sn="constructor"==Si)}if($i&&!Sn){var Lr=c.constructor,Ea=m.constructor;Lr!=Ea&&"constructor"in c&&"constructor"in m&&!("function"==typeof Lr&&Lr instanceof Lr&&"function"==typeof Ea&&Ea instanceof Ea)&&($i=!1)}return N.delete(c),N.delete(m),$i}(c,m,r,h,A,N))},_m=function gm(c,m,r,h,A){return c===m||(null==c||null==m||!xn(c)&&!xn(m)?c!=c&&m!=m:Pp(c,m,r,h,gm,A))},la=function ym(c){return c==c&&!ya(c)},iu=function og(c,m){return function(r){return null!=r&&r[c]===m&&(void 0!==m||c in Object(r))}},sg=function uh(c){var m=function dh(c){for(var m=zd(c),r=m.length;r--;){var h=m[r],A=c[h];m[r]=[h,A,la(A)]}return m}(c);return 1==m.length&&m[0][2]?iu(m[0][0],m[0][1]):function(r){return r===c||function Cd(c,m,r,h){var A=r.length,N=A,re=!h;if(null==c)return!N;for(c=Object(c);A--;){var ve=r[A];if(re&&ve[2]?ve[1]!==c[ve[0]]:!(ve[0]in c))return!1}for(;++A<N;){var Ke=(ve=r[A])[0],dt=c[Ke],jt=ve[1];if(re&&ve[2]){if(void 0===dt&&!(Ke in c))return!1}else{var qt=new qd;if(h)var Si=h(dt,jt,Ke,c,m,qt);if(!(void 0===Si?_m(jt,dt,3,h,qt):Si))return!1}}return!0}(r,c,m)}},hh=function Op(c){return"symbol"==typeof c||xn(c)&&"[object Symbol]"==Es(c)};var wc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rp=/^\w*$/;const nu=function Fp(c,m){if(ar(c))return!1;var r=typeof c;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=c&&!hh(c))||Rp.test(c)||!wc.test(c)||null!=m&&c in Object(m)};function mh(c,m){if("function"!=typeof c||null!=m&&"function"!=typeof m)throw new TypeError("Expected a function");var r=function(){var h=arguments,A=m?m.apply(this,h):h[0],N=r.cache;if(N.has(A))return N.get(A);var re=c.apply(this,h);return r.cache=N.set(A,re)||N,re};return r.cache=new(mh.Cache||Wd),r}mh.Cache=Wd;const vm=mh;var ph=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xm=/\\(\\)?/g,ou=function Qr(c){var m=vm(c,function(h){return 500===r.size&&r.clear(),h}),r=m.cache;return m}(function(c){var m=[];return 46===c.charCodeAt(0)&&m.push(""),c.replace(ph,function(r,h,A,N){m.push(A?N.replace(xm,"$1"):h||r)}),m});const fh=ou;var wm=gi?gi.prototype:void 0,dg=wm?wm.toString:void 0;const $c=function Ed(c){if("string"==typeof c)return c;if(ar(c))return function gh(c,m){for(var r=-1,h=null==c?0:c.length,A=Array(h);++r<h;)A[r]=m(c[r],r,c);return A}(c,Ed)+"";if(hh(c))return dg?dg.call(c):"";var m=c+"";return"0"==m&&1/c==-1/0?"-0":m},_h=function Np(c,m){return ar(c)?c:nu(c,m)?[c]:fh(function Er(c){return null==c?"":$c(c)}(c))},su=function Em(c){if("string"==typeof c||hh(c))return c;var m=c+"";return"0"==m&&1/c==-1/0?"-0":m},au=function yh(c,m){for(var r=0,h=(m=_h(m,c)).length;null!=c&&r<h;)c=c[su(m[r++])];return r&&r==h?c:void 0},zp=function lu(c,m){return null!=c&&m in Object(c)},ec=function Md(c,m){return null!=c&&function cu(c,m,r){for(var h=-1,A=(m=_h(m,c)).length,N=!1;++h<A;){var re=su(m[h]);if(!(N=null!=c&&r(c,re)))break;c=c[re]}return N||++h!=A?N:!!(A=null==c?0:c.length)&&Kl(A)&&lr(re,A)&&(ar(c)||Pr(c))}(c,m,zp)},o=function xh(c,m){return nu(c)&&la(m)?iu(su(c),m):function(r){var h=function vh(c,m,r){var h=null==c?void 0:au(c,m);return void 0===h?r:h}(r,c);return void 0===h&&h===m?ec(r,c):_m(m,h,3)}},a=function t(c){return c},L=function O(c){return nu(c)?function p(c){return function(m){return m?.[c]}}(su(c)):function T(c){return function(m){return au(m,c)}}(c)};var be=Object.prototype.hasOwnProperty,Ne=function te(c,m){return function(r,h){var A=ar(r)?ft:op,N=m?m():{};return A(r,c,function Z(c){return"function"==typeof c?c:null==c?a:"object"==typeof c?ar(c)?o(c[0],c[1]):sg(c):L(c)}(h),N)}}(function(c,m,r){be.call(c,r)?c[r].push(m):yt(c,r,[m])});const We=Ne;var St=Object.prototype.hasOwnProperty;const ei=function Rt(c,m,r){var h=c[m];(!St.call(c,m)||!Rl(h,r)||void 0===r&&!(m in c))&&yt(c,m,r)},Li=function Ri(c,m,r,h){var A=!r;r||(r={});for(var N=-1,re=m.length;++N<re;){var ve=m[N],Ke=h?h(r[ve],c[ve],ve,r,c):void 0;void 0===Ke&&(Ke=c[ve]),A?yt(r,ve,Ke):ei(r,ve,Ke)}return r};var hi=Object.prototype.hasOwnProperty;const Zi=function Xi(c){if(!ya(c))return function xi(c){var m=[];if(null!=c)for(var r in Object(c))m.push(r);return m}(c);var m=ad(c),r=[];for(var h in c)"constructor"==h&&(m||!hi.call(c,h))||r.push(h);return r},Ir=function Dn(c){return hl(c)?Ou(c,!0):Zi(c)};var ba="object"==typeof exports&&exports&&!exports.nodeType&&exports,rs=ba&&"object"==typeof module&&module&&!module.nodeType&&module,Oo=rs&&rs.exports===ba?is.Buffer:void 0,os=Oo?Oo.allocUnsafe:void 0;const gs=tp(Object.getPrototypeOf,Object);var _s=Object.getOwnPropertySymbols?function(c){for(var m=[];c;)Nl(m,ih(c)),c=gs(c);return m}:um;const Fn=_s,Na=function Is(c){return zl(c,Ir,Fn)};var Ja=Object.prototype.hasOwnProperty;const ks=function As(c){var m=new c.constructor(c.byteLength);return new Xd(m).set(new Xd(c)),m};var Bp=/\w*$/;var Bl=gi?gi.prototype:void 0,Sm=Bl?Bl.valueOf:void 0;const nC=function iC(c,m,r){var h=c.constructor;switch(m){case"[object ArrayBuffer]":return ks(c);case"[object Boolean]":case"[object Date]":return new h(+c);case"[object DataView]":return function xa(c,m){var r=m?ks(c.buffer):c.buffer;return new c.constructor(r,c.byteOffset,c.byteLength)}(c,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function Eh(c,m){var r=m?ks(c.buffer):c.buffer;return new c.constructor(r,c.byteOffset,c.length)}(c,r);case"[object Map]":case"[object Set]":return new h;case"[object Number]":case"[object String]":return new h(c);case"[object RegExp]":return function wh(c){var m=new c.constructor(c.source,Bp.exec(c));return m.lastIndex=c.lastIndex,m}(c);case"[object Symbol]":return function Ch(c){return Sm?Object(Sm.call(c)):{}}(c)}};var ug=Object.create,N_=function(){function c(){}return function(m){if(!ya(m))return{};if(ug)return ug(m);c.prototype=m;var r=new c;return c.prototype=void 0,r}}();const rC=N_;var Vn=Ms&&Ms.isMap;const H_=Vn?Oc(Vn):function V_(c){return xn(c)&&"[object Map]"==tu(c)};var G_=Ms&&Ms.isSet;const Z_=G_?Oc(G_):function g0(c){return xn(c)&&"[object Set]"==tu(c)};var q_="[object Arguments]",pu="[object Function]",fu="[object Object]",ao={};ao[q_]=ao["[object Array]"]=ao["[object ArrayBuffer]"]=ao["[object DataView]"]=ao["[object Boolean]"]=ao["[object Date]"]=ao["[object Float32Array]"]=ao["[object Float64Array]"]=ao["[object Int8Array]"]=ao["[object Int16Array]"]=ao["[object Int32Array]"]=ao["[object Map]"]=ao["[object Number]"]=ao[fu]=ao["[object RegExp]"]=ao["[object Set]"]=ao["[object String]"]=ao["[object Symbol]"]=ao["[object Uint8Array]"]=ao["[object Uint8ClampedArray]"]=ao["[object Uint16Array]"]=ao["[object Uint32Array]"]=!0,ao["[object Error]"]=ao[pu]=ao["[object WeakMap]"]=!1;const T0=function km(c,m,r,h,A,N){var re,ve=1&m,Ke=2&m,dt=4&m;if(r&&(re=A?r(c,h,A,N):r(c)),void 0!==re)return re;if(!ya(c))return c;var jt=ar(c);if(jt){if(re=function Cc(c){var m=c.length,r=new c.constructor(m);return m&&"string"==typeof c[0]&&Ja.call(c,"index")&&(r.index=c.index,r.input=c.input),r}(c),!ve)return function Mo(c,m){var r=-1,h=c.length;for(m||(m=Array(h));++r<h;)m[r]=c[r];return m}(c,re)}else{var qt=tu(c),Si=qt==pu||"[object GeneratorFunction]"==qt;if(po(c))return function ca(c,m){if(m)return c.slice();var r=c.length,h=os?os(r):new c.constructor(r);return c.copy(h),h}(c,ve);if(qt==fu||qt==q_||Si&&!A){if(re=Ke||Si?{}:function z_(c){return"function"!=typeof c.constructor||ad(c)?{}:rC(gs(c))}(c),!ve)return Ke?function ea(c,m){return Li(c,Fn(c),m)}(c,function Fr(c,m){return c&&Li(m,Ir(m),c)}(re,c)):function Ts(c,m){return Li(c,ih(c),m)}(c,function Pi(c,m){return c&&Li(m,zd(m),c)}(re,c))}else{if(!ao[qt])return A?c:{};re=nC(c,qt,ve)}}N||(N=new qd);var Hi=N.get(c);if(Hi)return Hi;N.set(c,re),Z_(c)?c.forEach(function(Sn){re.add(km(Sn,m,r,Sn,c,N))}):H_(c)&&c.forEach(function(Sn,Yn){re.set(Yn,km(Sn,m,r,Yn,c,N))});var $i=jt?void 0:(dt?Ke?Na:Qd:Ke?Ir:zd)(c);return function tt(c,m){for(var r=-1,h=null==c?0:c.length;++r<h&&!1!==m(c[r],r,c););}($i||c,function(Sn,Yn){$i&&(Sn=c[Yn=Sn]),ei(re,Yn,km(Sn,m,r,Yn,c,N))}),re};function P0(c){return"object"==typeof c&&null!=c&&1===c.nodeType}function Zp(c,m){return(!m||"hidden"!==c)&&"visible"!==c&&"clip"!==c}function Wp(c,m){if(c.clientHeight<c.scrollHeight||c.clientWidth<c.scrollWidth){var r=getComputedStyle(c,null);return Zp(r.overflowY,m)||Zp(r.overflowX,m)||!!(A=function(N){if(!N.ownerDocument||!N.ownerDocument.defaultView)return null;try{return N.ownerDocument.defaultView.frameElement}catch{return null}}(h=c))&&(A.clientHeight<h.scrollHeight||A.clientWidth<h.scrollWidth)}var h,A;return!1}function qp(c,m,r,h,A,N,re,ve){return N<c&&re>m||N>c&&re<m?0:N<=c&&ve<=r||re>=m&&ve>=r?N-c-h:re>m&&ve<r||N<c&&ve>r?re-m+A:0}var ty=function(c,m){var r=window,h=m.scrollMode,A=m.block,N=m.inline,re=m.boundary,ve=m.skipOverflowHiddenElements,Ke="function"==typeof re?re:function(Pd){return Pd!==re};if(!P0(c))throw new TypeError("Invalid target");for(var dt,jt,qt=document.scrollingElement||document.documentElement,Si=[],Hi=c;P0(Hi)&&Ke(Hi);){if((Hi=null==(jt=(dt=Hi).parentElement)?dt.getRootNode().host||null:jt)===qt){Si.push(Hi);break}null!=Hi&&Hi===document.body&&Wp(Hi)&&!Wp(document.documentElement)||null!=Hi&&Wp(Hi,ve)&&Si.push(Hi)}for(var zi=r.visualViewport?r.visualViewport.width:innerWidth,$i=r.visualViewport?r.visualViewport.height:innerHeight,Sn=window.scrollX||pageXOffset,Yn=window.scrollY||pageYOffset,Mr=c.getBoundingClientRect(),Do=Mr.height,Lr=Mr.width,Ea=Mr.top,el=Mr.right,Os=Mr.bottom,_l=Mr.left,as="start"===A||"nearest"===A?Ea:"end"===A?Os:Ea+Do/2,Xo="center"===N?_l+Lr/2:"end"===N?el:_l,Cu=[],kd=0;kd<Si.length;kd++){var cr=Si[kd],Sc=cr.getBoundingClientRect(),Eu=Sc.height,Ji=Sc.width,Yi=Sc.top,yn=Sc.right,or=Sc.bottom,jo=Sc.left;if("if-needed"===h&&Ea>=0&&_l>=0&&Os<=$i&&el<=zi&&Ea>=Yi&&Os<=or&&_l>=jo&&el<=yn)return Cu;var Ba=getComputedStyle(cr),ys=parseInt(Ba.borderLeftWidth,10),tl=parseInt(Ba.borderTopWidth,10),qr=parseInt(Ba.borderRightWidth,10),Mu=parseInt(Ba.borderBottomWidth,10),Tc=0,So=0,yl="offsetWidth"in cr?cr.offsetWidth-cr.clientWidth-ys-qr:0,ta="offsetHeight"in cr?cr.offsetHeight-cr.clientHeight-tl-Mu:0,Du="offsetWidth"in cr?0===cr.offsetWidth?0:Ji/cr.offsetWidth:0,Su="offsetHeight"in cr?0===cr.offsetHeight?0:Eu/cr.offsetHeight:0;if(qt===cr)Tc="start"===A?as:"end"===A?as-$i:"nearest"===A?qp(Yn,Yn+$i,$i,tl,Mu,Yn+as,Yn+as+Do,Do):as-$i/2,So="start"===N?Xo:"center"===N?Xo-zi/2:"end"===N?Xo-zi:qp(Sn,Sn+zi,zi,ys,qr,Sn+Xo,Sn+Xo+Lr,Lr),Tc=Math.max(0,Tc+Yn),So=Math.max(0,So+Sn);else{Tc="start"===A?as-Yi-tl:"end"===A?as-or+Mu+ta:"nearest"===A?qp(Yi,or,Eu,tl,Mu+ta,as,as+Do,Do):as-(Yi+Eu/2)+ta/2,So="start"===N?Xo-jo-ys:"center"===N?Xo-(jo+Ji/2)+yl/2:"end"===N?Xo-yn+qr+yl:qp(jo,yn,Ji,ys,qr+yl,Xo,Xo+Lr,Lr);var c0=cr.scrollLeft,Of=cr.scrollTop;as+=Of-(Tc=Math.max(0,Math.min(Of+Tc/Su,cr.scrollHeight-Eu/Su+ta))),Xo+=c0-(So=Math.max(0,Math.min(c0+So/Du,cr.scrollWidth-Ji/Du+yl)))}Cu.push({el:cr,top:Tc,left:So})}return Cu};function iy(c){return c===Object(c)&&0!==Object.keys(c).length}let ry=(()=>{class c{constructor(){this.resize$=new wr.x}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();var wa=H(6223),F0=H(6637),Wc=H(2296),En=H(2495),ss=H(2831),Un=H(3680),yg=H(7131);let oy=(()=>{class c{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(r){this._vertical=(0,En.Ig)(r)}get inset(){return this._inset}set inset(r){this._inset=(0,En.Ig)(r)}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(r,h){2&r&&(l.uIk("aria-orientation",h.vertical?"vertical":"horizontal"),l.ekj("mat-divider-vertical",h.vertical)("mat-divider-horizontal",!h.vertical)("mat-divider-inset",h.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(r,h){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),c})(),L0=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Un.BQ,Un.BQ]}),c})();var ic=H(7849),Pm=H(8337),nc=H(6028);const Om=["*"],sy='@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-base{--mdc-list-list-item-container-shape:0;--mdc-list-list-item-leading-avatar-shape:50%;--mdc-list-list-item-container-color:transparent;--mdc-list-list-item-selected-container-color:transparent;--mdc-list-list-item-leading-avatar-color:transparent;--mdc-list-list-item-leading-icon-size:24px;--mdc-list-list-item-leading-avatar-size:40px;--mdc-list-list-item-trailing-icon-size:24px;--mdc-list-list-item-disabled-state-layer-color:transparent;--mdc-list-list-item-disabled-state-layer-opacity:0;--mdc-list-list-item-disabled-label-text-opacity:0.38;--mdc-list-list-item-disabled-leading-icon-opacity:0.38;--mdc-list-list-item-disabled-trailing-icon-opacity:0.38}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}',vg=["unscopedContent"],ay=["text"],ly=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],cy=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],wg=new l.OlP("ListOption");let hy=(()=>{class c{constructor(r){this._elementRef=r}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.SBq))},c.\u0275dir=l.lG2({type:c,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]}),c})(),my=(()=>{class c{constructor(r){this._elementRef=r}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.SBq))},c.\u0275dir=l.lG2({type:c,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]}),c})(),py=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275dir=l.lG2({type:c,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]}),c})(),Cg=(()=>{class c{constructor(r){this._listOption=r}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(wg,8))},c.\u0275dir=l.lG2({type:c,hostVars:4,hostBindings:function(r,h){2&r&&l.ekj("mdc-list-item__start",h._isAlignedAtStart())("mdc-list-item__end",!h._isAlignedAtStart())}}),c})(),Fm=(()=>{class c extends Cg{}return c.\u0275fac=function(){let m;return function(h){return(m||(m=l.n5z(c)))(h||c)}}(),c.\u0275dir=l.lG2({type:c,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[l.qOj]}),c})(),$0=(()=>{class c extends Cg{}return c.\u0275fac=function(){let m;return function(h){return(m||(m=l.n5z(c)))(h||c)}}(),c.\u0275dir=l.lG2({type:c,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[l.qOj]}),c})();const fy=new l.OlP("MAT_LIST_CONFIG");let Yc=(()=>{class c{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,l.f3M)(fy,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(r){this._disableRipple=(0,En.Ig)(r)}get disabled(){return this._disabled}set disabled(r){this._disabled=(0,En.Ig)(r)}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275dir=l.lG2({type:c,hostVars:1,hostBindings:function(r,h){2&r&&l.uIk("aria-disabled",h.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}}),c})(),Eg=(()=>{class c{set lines(r){this._explicitLines=(0,En.su)(r,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(r){this._disableRipple=(0,En.Ig)(r)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(r){this._disabled=(0,En.Ig)(r)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(r,h,A,N,re,ve){this._elementRef=r,this._ngZone=h,this._listBase=A,this._platform=N,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new js.w0,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=re||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===ve,A&&!A._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new Un.IR(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,tr.T)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(r){if(!this._lines||!this._titles||!this._unscopedContent)return;r&&this._checkDomForUnscopedTextContent();const h=this._explicitLines??this._inferLinesFromContent(),A=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",h<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",h<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===h),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===h),this._hasUnscopedTextContent){const N=0===this._titles.length&&1===h;A.classList.toggle("mdc-list-item__primary-text",N),A.classList.toggle("mdc-list-item__secondary-text",!N)}else A.classList.remove("mdc-list-item__primary-text"),A.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let r=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(r+=1),r}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(r=>r.nodeType!==r.COMMENT_NODE).some(r=>!(!r.textContent||!r.textContent.trim()))}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Yc,8),l.Y36(ss.t4),l.Y36(Un.Y2,8),l.Y36(l.QbO,8))},c.\u0275dir=l.lG2({type:c,contentQueries:function(r,h,A){if(1&r&&(l.Suo(A,Fm,4),l.Suo(A,$0,4)),2&r){let N;l.iGM(N=l.CRH())&&(h._avatars=N),l.iGM(N=l.CRH())&&(h._icons=N)}},hostVars:4,hostBindings:function(r,h){2&r&&(l.uIk("aria-disabled",h.disabled)("disabled",h._isButtonElement&&h.disabled||null),l.ekj("mdc-list-item--disabled",h.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}}),c})(),uC=(()=>{class c extends Yc{}return c.\u0275fac=function(){let m;return function(h){return(m||(m=l.n5z(c)))(h||c)}}(),c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],features:[l._Bn([{provide:Yc,useExisting:c}]),l.qOj],ngContentSelectors:Om,decls:1,vars:0,template:function(r,h){1&r&&(l.F$t(),l.Hsn(0))},styles:[sy],encapsulation:2,changeDetection:0}),c})(),gy=(()=>{class c extends Eg{get activated(){return this._activated}set activated(r){this._activated=(0,En.Ig)(r)}constructor(r,h,A,N,re,ve){super(r,h,A,N,re,ve),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Yc,8),l.Y36(ss.t4),l.Y36(Un.Y2,8),l.Y36(l.QbO,8))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(r,h,A){if(1&r&&(l.Suo(A,my,5),l.Suo(A,hy,5),l.Suo(A,py,5)),2&r){let N;l.iGM(N=l.CRH())&&(h._lines=N),l.iGM(N=l.CRH())&&(h._titles=N),l.iGM(N=l.CRH())&&(h._meta=N)}},viewQuery:function(r,h){if(1&r&&(l.Gf(vg,5),l.Gf(ay,5)),2&r){let A;l.iGM(A=l.CRH())&&(h._unscopedContent=A.first),l.iGM(A=l.CRH())&&(h._itemText=A.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(r,h){2&r&&(l.uIk("aria-current",h._getAriaCurrent()),l.ekj("mdc-list-item--activated",h.activated)("mdc-list-item--with-leading-avatar",0!==h._avatars.length)("mdc-list-item--with-leading-icon",0!==h._icons.length)("mdc-list-item--with-trailing-meta",0!==h._meta.length)("_mat-animation-noopable",h._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[l.qOj],ngContentSelectors:cy,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(r,h){1&r&&(l.F$t(ly),l.Hsn(0),l.TgZ(1,"span",0),l.Hsn(2,1),l.Hsn(3,2),l.TgZ(4,"span",1,2),l.NdJ("cdkObserveContent",function(){return h._updateItemLines(!0)}),l.Hsn(6,3),l.qZA()(),l.Hsn(7,4),l.Hsn(8,5),l._UZ(9,"div",3))},dependencies:[yg.wD],encapsulation:2,changeDetection:0}),c})(),Z0=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275dir=l.lG2({type:c,selectors:[["","mat-subheader",""],["","matSubheader",""]],hostAttrs:[1,"mat-mdc-subheader","mdc-list-group__subheader"]}),c})(),W0=(()=>{class c extends Yc{constructor(){super(...arguments),this._isNonInteractive=!1}}return c.\u0275fac=function(){let m;return function(h){return(m||(m=l.n5z(c)))(h||c)}}(),c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[l._Bn([{provide:Yc,useExisting:c}]),l.qOj],ngContentSelectors:Om,decls:1,vars:0,template:function(r,h){1&r&&(l.F$t(),l.Hsn(0))},styles:[sy],encapsulation:2,changeDetection:0}),c})(),Y0=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[yg.Q8,Bi.ez,Un.BQ,Un.si,Un.us,L0]}),c})();var Jp=H(6232);const vy=(0,ss.i$)({passive:!0});let K0=(()=>{class c{constructor(r,h){this._platform=r,this._ngZone=h,this._monitoredElements=new Map}monitor(r){if(!this._platform.isBrowser)return Jp.E;const h=(0,En.fI)(r),A=this._monitoredElements.get(h);if(A)return A.subject;const N=new wr.x,re="cdk-text-field-autofilled",ve=Ke=>{"cdk-text-field-autofill-start"!==Ke.animationName||h.classList.contains(re)?"cdk-text-field-autofill-end"===Ke.animationName&&h.classList.contains(re)&&(h.classList.remove(re),this._ngZone.run(()=>N.next({target:Ke.target,isAutofilled:!1}))):(h.classList.add(re),this._ngZone.run(()=>N.next({target:Ke.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{h.addEventListener("animationstart",ve,vy),h.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(h,{subject:N,unlisten:()=>{h.removeEventListener("animationstart",ve,vy)}}),N}stopMonitoring(r){const h=(0,En.fI)(r),A=this._monitoredElements.get(h);A&&(A.unlisten(),A.subject.complete(),h.classList.remove("cdk-text-field-autofill-monitored"),h.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(h))}ngOnDestroy(){this._monitoredElements.forEach((r,h)=>this.stopMonitoring(h))}}return c.\u0275fac=function(r){return new(r||c)(l.LFG(ss.t4),l.LFG(l.R0b))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),X0=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({}),c})();var gu=H(4170);const by=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),xy=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let J0=0;const gC=(0,Un.FD)(class{constructor(c,m,r,h){this._defaultErrorStateMatcher=c,this._parentForm=m,this._parentFormGroup=r,this.ngControl=h,this.stateChanges=new wr.x}});let wy=(()=>{class c extends gC{get disabled(){return this._disabled}set disabled(r){this._disabled=(0,En.Ig)(r),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(r){this._id=r||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(wa.kI.required)??!1}set required(r){this._required=(0,En.Ig)(r)}get type(){return this._type}set type(r){this._type=r||"text",this._validateType(),!this._isTextarea&&(0,ss.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(r){r!==this.value&&(this._inputValueAccessor.value=r,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(r){this._readonly=(0,En.Ig)(r)}constructor(r,h,A,N,re,ve,Ke,dt,jt,qt){super(ve,N,re,A),this._elementRef=r,this._platform=h,this._autofillMonitor=dt,this._formField=qt,this._uid="mat-input-"+J0++,this.focused=!1,this.stateChanges=new wr.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(zi=>(0,ss.qK)().has(zi)),this._iOSKeyupListener=zi=>{const $i=zi.target;!$i.value&&0===$i.selectionStart&&0===$i.selectionEnd&&($i.setSelectionRange(1,1),$i.setSelectionRange(0,0))};const Si=this._elementRef.nativeElement,Hi=Si.nodeName.toLowerCase();this._inputValueAccessor=Ke||Si,this._previousNativeValue=this.value,this.id=this.id,h.IOS&&jt.runOutsideAngular(()=>{r.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Hi,this._isTextarea="textarea"===Hi,this._isInFormField=!!qt,this._isNativeSelect&&(this.controlType=Si.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(r=>{this.autofilled=r.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(r){this._elementRef.nativeElement.focus(r)}_focusChanged(r){r!==this.focused&&(this.focused=r,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const r=this._elementRef.nativeElement.value;this._previousNativeValue!==r&&(this._previousNativeValue=r,this.stateChanges.next())}_dirtyCheckPlaceholder(){const r=this._getPlaceholder();if(r!==this._previousPlaceholder){const h=this._elementRef.nativeElement;this._previousPlaceholder=r,r?h.setAttribute("placeholder",r):h.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){xy.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let r=this._elementRef.nativeElement.validity;return r&&r.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const r=this._elementRef.nativeElement,h=r.options[0];return this.focused||r.multiple||!this.empty||!!(r.selectedIndex>-1&&h&&h.label)}return this.focused||!this.empty}setDescribedByIds(r){r.length?this._elementRef.nativeElement.setAttribute("aria-describedby",r.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const r=this._elementRef.nativeElement;return this._isNativeSelect&&(r.multiple||r.size>1)}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.SBq),l.Y36(ss.t4),l.Y36(wa.a5,10),l.Y36(wa.F,8),l.Y36(wa.sg,8),l.Y36(Un.rD),l.Y36(by,10),l.Y36(K0),l.Y36(l.R0b),l.Y36(gu.G_,8))},c.\u0275dir=l.lG2({type:c,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,h){1&r&&l.NdJ("focus",function(){return h._focusChanged(!0)})("blur",function(){return h._focusChanged(!1)})("input",function(){return h._onInput()}),2&r&&(l.Ikx("id",h.id)("disabled",h.disabled)("required",h.required),l.uIk("name",h.name||null)("readonly",h.readonly&&!h._isNativeSelect||null)("aria-invalid",h.empty&&h.required?null:h.errorState)("aria-required",h.required)("id",h.id),l.ekj("mat-input-server",h._isServer)("mat-mdc-form-field-textarea-control",h._isInFormField&&h._isTextarea)("mat-mdc-form-field-input-control",h._isInFormField)("mdc-text-field__input",h._isInFormField)("mat-mdc-native-select-inline",h._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:gu.Eo,useExisting:c}]),l.qOj,l.TTD]}),c})(),Cy=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Un.BQ,gu.lN,gu.lN,X0,Un.BQ]}),c})();var rc=H(799),Lm=H(9388),Ey=H(975),Q0=H(3997);const Sh=["*"],ex=["content"];function Ec(c,m){if(1&c){const r=l.EpF();l.TgZ(0,"div",2),l.NdJ("click",function(){l.CHM(r);const A=l.oxw();return l.KtG(A._onBackdropClicked())}),l.qZA()}if(2&c){const r=l.oxw();l.ekj("mat-drawer-shown",r._isShowingBackdrop())}}function Nm(c,m){1&c&&(l.TgZ(0,"mat-drawer-content"),l.Hsn(1,2),l.qZA())}const Ca=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],_u=["mat-drawer","mat-drawer-content","*"];function Qp(c,m){if(1&c){const r=l.EpF();l.TgZ(0,"div",2),l.NdJ("click",function(){l.CHM(r);const A=l.oxw();return l.KtG(A._onBackdropClicked())}),l.qZA()}if(2&c){const r=l.oxw();l.ekj("mat-drawer-shown",r._isShowingBackdrop())}}function Vl(c,m){1&c&&(l.TgZ(0,"mat-sidenav-content"),l.Hsn(1,2),l.qZA())}const Dg=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Th=["mat-sidenav","mat-sidenav-content","*"],yu={transformDrawer:(0,ne.X$)("transform",[(0,ne.SB)("open, open-instant",(0,ne.oB)({transform:"none",visibility:"visible"})),(0,ne.SB)("void",(0,ne.oB)({"box-shadow":"none",visibility:"hidden"})),(0,ne.eR)("void => open-instant",(0,ne.jt)("0ms")),(0,ne.eR)("void <=> open, open-instant => void",(0,ne.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Ah=new l.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function kh(){return!1}}),Id=new l.OlP("MAT_DRAWER_CONTAINER");let Kc=(()=>{class c extends rc.PQ{constructor(r,h,A,N,re){super(A,N,re),this._changeDetectorRef=r,this._container=h}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.sBO),l.Y36((0,l.Gpc)(()=>Sg)),l.Y36(l.SBq),l.Y36(rc.mF),l.Y36(l.R0b))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(r,h){2&r&&l.Udp("margin-left",h._container._contentMargins.left,"px")("margin-right",h._container._contentMargins.right,"px")},features:[l._Bn([{provide:rc.PQ,useExisting:c}]),l.qOj],ngContentSelectors:Sh,decls:1,vars:0,template:function(r,h){1&r&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),c})(),vu=(()=>{class c{get position(){return this._position}set position(r){(r="end"===r?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(r),this._position=r,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(r){this._mode=r,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(r){this._disableClose=(0,En.Ig)(r)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(r){("true"===r||"false"===r||null==r)&&(r=(0,En.Ig)(r)),this._autoFocus=r}get opened(){return this._opened}set opened(r){this.toggle((0,En.Ig)(r))}constructor(r,h,A,N,re,ve,Ke,dt){this._elementRef=r,this._focusTrapFactory=h,this._focusMonitor=A,this._platform=N,this._ngZone=re,this._interactivityChecker=ve,this._doc=Ke,this._container=dt,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new wr.x,this._animationEnd=new wr.x,this._animationState="void",this.openedChange=new l.vpe(!0),this._openedStream=this.openedChange.pipe((0,$r.h)(jt=>jt),(0,Zo.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,$r.h)(jt=>jt.fromState!==jt.toState&&0===jt.toState.indexOf("open")),(0,Ey.h)(void 0)),this._closedStream=this.openedChange.pipe((0,$r.h)(jt=>!jt),(0,Zo.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,$r.h)(jt=>jt.fromState!==jt.toState&&"void"===jt.toState),(0,Ey.h)(void 0)),this._destroyed=new wr.x,this.onPositionChanged=new l.vpe,this._modeChanged=new wr.x,this.openedChange.subscribe(jt=>{jt?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,hs.R)(this._elementRef.nativeElement,"keydown").pipe((0,$r.h)(jt=>jt.keyCode===nc.hY&&!this.disableClose&&!(0,nc.Vb)(jt)),(0,Rr.R)(this._destroyed)).subscribe(jt=>this._ngZone.run(()=>{this.close(),jt.stopPropagation(),jt.preventDefault()}))}),this._animationEnd.pipe((0,Q0.x)((jt,qt)=>jt.fromState===qt.fromState&&jt.toState===qt.toState)).subscribe(jt=>{const{fromState:qt,toState:Si}=jt;(0===Si.indexOf("open")&&"void"===qt||"void"===Si&&0===qt.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(r,h){this._interactivityChecker.isFocusable(r)||(r.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const A=()=>{r.removeEventListener("blur",A),r.removeEventListener("mousedown",A),r.removeAttribute("tabindex")};r.addEventListener("blur",A),r.addEventListener("mousedown",A)})),r.focus(h)}_focusByCssSelector(r,h){let A=this._elementRef.nativeElement.querySelector(r);A&&this._forceFocus(A,h)}_takeFocus(){if(!this._focusTrap)return;const r=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(h=>{!h&&"function"==typeof this._elementRef.nativeElement.focus&&r.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(r){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,r):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const r=this._doc.activeElement;return!!r&&this._elementRef.nativeElement.contains(r)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(r){return this.toggle(!0,r)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(r=!this.opened,h){r&&h&&(this._openedVia=h);const A=this._setOpen(r,!r&&this._isFocusWithinDrawer(),this._openedVia||"program");return r||(this._openedVia=null),A}_setOpen(r,h,A){return this._opened=r,r?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",h&&this._restoreFocus(A)),this._updateFocusTrapState(),new Promise(N=>{this.openedChange.pipe((0,wl.q)(1)).subscribe(re=>N(re?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(r){const h=this._elementRef.nativeElement,A=h.parentNode;"end"===r?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),A.insertBefore(this._anchor,h)),A.appendChild(h)):this._anchor&&this._anchor.parentNode.insertBefore(h,this._anchor)}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.SBq),l.Y36(ic.qV),l.Y36(ic.tE),l.Y36(ss.t4),l.Y36(l.R0b),l.Y36(ic.ic),l.Y36(Bi.K0,8),l.Y36(Id,8))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-drawer"]],viewQuery:function(r,h){if(1&r&&l.Gf(ex,5),2&r){let A;l.iGM(A=l.CRH())&&(h._content=A.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(r,h){1&r&&l.WFA("@transform.start",function(N){return h._animationStarted.next(N)})("@transform.done",function(N){return h._animationEnd.next(N)}),2&r&&(l.uIk("align",null),l.d8E("@transform",h._animationState),l.ekj("mat-drawer-end","end"===h.position)("mat-drawer-over","over"===h.mode)("mat-drawer-push","push"===h.mode)("mat-drawer-side","side"===h.mode)("mat-drawer-opened",h.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Sh,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(r,h){1&r&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},dependencies:[rc.PQ],encapsulation:2,data:{animation:[yu.transformDrawer]},changeDetection:0}),c})(),Sg=(()=>{class c{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(r){this._autosize=(0,En.Ig)(r)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(r){this._backdropOverride=null==r?null:(0,En.Ig)(r)}get scrollable(){return this._userContent||this._content}constructor(r,h,A,N,re,ve=!1,Ke){this._dir=r,this._element=h,this._ngZone=A,this._changeDetectorRef=N,this._animationMode=Ke,this._drawers=new l.n_E,this.backdropClick=new l.vpe,this._destroyed=new wr.x,this._doCheckSubject=new wr.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new wr.x,r&&r.change.pipe((0,Rr.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),re.change().pipe((0,Rr.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=ve}ngAfterContentInit(){this._allDrawers.changes.pipe((0,Cl.O)(this._allDrawers),(0,Rr.R)(this._destroyed)).subscribe(r=>{this._drawers.reset(r.filter(h=>!h._container||h._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,Cl.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(r=>{this._watchDrawerToggle(r),this._watchDrawerPosition(r),this._watchDrawerMode(r)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,xs.b)(10),(0,Rr.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(r=>r.open())}close(){this._drawers.forEach(r=>r.close())}updateContentMargins(){let r=0,h=0;if(this._left&&this._left.opened)if("side"==this._left.mode)r+=this._left._getWidth();else if("push"==this._left.mode){const A=this._left._getWidth();r+=A,h-=A}if(this._right&&this._right.opened)if("side"==this._right.mode)h+=this._right._getWidth();else if("push"==this._right.mode){const A=this._right._getWidth();h+=A,r-=A}r=r||null,h=h||null,(r!==this._contentMargins.left||h!==this._contentMargins.right)&&(this._contentMargins={left:r,right:h},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(r){r._animationStarted.pipe((0,$r.h)(h=>h.fromState!==h.toState),(0,Rr.R)(this._drawers.changes)).subscribe(h=>{"open-instant"!==h.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==r.mode&&r.openedChange.pipe((0,Rr.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(r.opened))}_watchDrawerPosition(r){r&&r.onPositionChanged.pipe((0,Rr.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,wl.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(r){r&&r._modeChanged.pipe((0,Rr.R)((0,tr.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(r){const h=this._element.nativeElement.classList,A="mat-drawer-container-has-open";r?h.add(A):h.remove(A)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(r=>{"end"==r.position?this._end=r:this._start=r}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(r=>r&&!r.disableClose&&this._canHaveBackdrop(r)).forEach(r=>r._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(r){return"side"!==r.mode||!!this._backdropOverride}_isDrawerOpen(r){return null!=r&&r.opened}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(Lm.Is,8),l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(rc.rL),l.Y36(Ah),l.Y36(l.QbO,8))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-drawer-container"]],contentQueries:function(r,h,A){if(1&r&&(l.Suo(A,Kc,5),l.Suo(A,vu,5)),2&r){let N;l.iGM(N=l.CRH())&&(h._content=N.first),l.iGM(N=l.CRH())&&(h._allDrawers=N)}},viewQuery:function(r,h){if(1&r&&l.Gf(Kc,5),2&r){let A;l.iGM(A=l.CRH())&&(h._userContent=A.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(r,h){2&r&&l.ekj("mat-drawer-container-explicit-backdrop",h._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[l._Bn([{provide:Id,useExisting:c}])],ngContentSelectors:_u,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(r,h){1&r&&(l.F$t(Ca),l.YNc(0,Ec,1,2,"div",0),l.Hsn(1),l.Hsn(2,1),l.YNc(3,Nm,2,0,"mat-drawer-content",1)),2&r&&(l.Q6J("ngIf",h.hasBackdrop),l.xp6(3),l.Q6J("ngIf",!h._content))},dependencies:[Bi.O5,Kc],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),c})(),ef=(()=>{class c extends Kc{constructor(r,h,A,N,re){super(r,h,A,N,re)}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.sBO),l.Y36((0,l.Gpc)(()=>Ig)),l.Y36(l.SBq),l.Y36(rc.mF),l.Y36(l.R0b))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-sidenav-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(r,h){2&r&&l.Udp("margin-left",h._container._contentMargins.left,"px")("margin-right",h._container._contentMargins.right,"px")},features:[l._Bn([{provide:rc.PQ,useExisting:c}]),l.qOj],ngContentSelectors:Sh,decls:1,vars:0,template:function(r,h){1&r&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),c})(),Tg=(()=>{class c extends vu{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(r){this._fixedInViewport=(0,En.Ig)(r)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(r){this._fixedTopGap=(0,En.su)(r)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(r){this._fixedBottomGap=(0,En.su)(r)}}return c.\u0275fac=function(){let m;return function(h){return(m||(m=l.n5z(c)))(h||c)}}(),c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(r,h){2&r&&(l.uIk("align",null),l.Udp("top",h.fixedInViewport?h.fixedTopGap:null,"px")("bottom",h.fixedInViewport?h.fixedBottomGap:null,"px"),l.ekj("mat-drawer-end","end"===h.position)("mat-drawer-over","over"===h.mode)("mat-drawer-push","push"===h.mode)("mat-drawer-side","side"===h.mode)("mat-drawer-opened",h.opened)("mat-sidenav-fixed",h.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[l.qOj],ngContentSelectors:Sh,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(r,h){1&r&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},dependencies:[rc.PQ],encapsulation:2,data:{animation:[yu.transformDrawer]},changeDetection:0}),c})(),Ig=(()=>{class c extends Sg{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}}return c.\u0275fac=function(){let m;return function(h){return(m||(m=l.n5z(c)))(h||c)}}(),c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-sidenav-container"]],contentQueries:function(r,h,A){if(1&r&&(l.Suo(A,ef,5),l.Suo(A,Tg,5)),2&r){let N;l.iGM(N=l.CRH())&&(h._content=N.first),l.iGM(N=l.CRH())&&(h._allDrawers=N)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(r,h){2&r&&l.ekj("mat-drawer-container-explicit-backdrop",h._backdropOverride)},exportAs:["matSidenavContainer"],features:[l._Bn([{provide:Id,useExisting:c}]),l.qOj],ngContentSelectors:Th,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(r,h){1&r&&(l.F$t(Dg),l.YNc(0,Qp,1,2,"div",0),l.Hsn(1),l.Hsn(2,1),l.YNc(3,Vl,2,0,"mat-sidenav-content",1)),2&r&&(l.Q6J("ngIf",h.hasBackdrop),l.xp6(3),l.Q6J("ngIf",!h._content))},dependencies:[Bi.O5,ef],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),c})(),My=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Bi.ez,Un.BQ,rc.ZD,rc.ZD,Un.BQ]}),c})();const Dy=["switch"],Sy=["*"],Ty=new l.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})}),Iy={provide:wa.JU,useExisting:(0,l.Gpc)(()=>Ay),multi:!0};class tf{constructor(m,r){this.source=m,this.checked=r}}let tx=0;const _C=(0,Un.sb)((0,Un.pj)((0,Un.Kr)((0,Un.Id)(class{constructor(c){this._elementRef=c}}))));let yC=(()=>{class c extends _C{get required(){return this._required}set required(r){this._required=(0,En.Ig)(r)}get checked(){return this._checked}set checked(r){this._checked=(0,En.Ig)(r),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(r,h,A,N,re,ve,Ke){super(r),this._focusMonitor=h,this._changeDetectorRef=A,this.defaults=re,this._onChange=dt=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new l.vpe,this.toggleChange=new l.vpe,this.tabIndex=parseInt(N)||0,this.color=this.defaultColor=re.color||"accent",this._noopAnimations="NoopAnimations"===ve,this.id=this._uniqueId=`${Ke}${++tx}`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(r=>{"keyboard"===r||"program"===r?(this._focused=!0,this._changeDetectorRef.markForCheck()):r||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(r){this.checked=!!r}registerOnChange(r){this._onChange=r}registerOnTouched(r){this._onTouched=r}setDisabledState(r){this.disabled=r,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}}return c.\u0275fac=function(r){l.$Z()},c.\u0275dir=l.lG2({type:c,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},features:[l.qOj]}),c})(),Ay=(()=>{class c extends yC{get buttonId(){return`${this.id||this._uniqueId}-button`}constructor(r,h,A,N,re,ve){super(r,h,A,N,re,ve,"mat-mdc-slide-toggle-"),this._labelId=this._uniqueId+"-label"}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new tf(this,this.checked)))}focus(){this._switchElement.nativeElement.focus()}_createChangeEvent(r){return new tf(this,r)}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.SBq),l.Y36(ic.tE),l.Y36(l.sBO),l.$8M("tabindex"),l.Y36(Ty),l.Y36(l.QbO,8))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-slide-toggle"]],viewQuery:function(r,h){if(1&r&&l.Gf(Dy,5),2&r){let A;l.iGM(A=l.CRH())&&(h._switchElement=A.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:11,hostBindings:function(r,h){2&r&&(l.Ikx("id",h.id),l.uIk("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),l.ekj("mat-mdc-slide-toggle-focused",h._focused)("mat-mdc-slide-toggle-checked",h.checked)("_mat-animation-noopable",h._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[l._Bn([Iy]),l.qOj],ngContentSelectors:Sy,decls:17,vars:24,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"],[1,"mdc-label",3,"for","click"]],template:function(r,h){if(1&r&&(l.F$t(),l.TgZ(0,"div",0)(1,"button",1,2),l.NdJ("click",function(){return h._handleClick()}),l._UZ(3,"div",3),l.TgZ(4,"div",4)(5,"div",5)(6,"div",6),l._UZ(7,"div",7),l.qZA(),l.TgZ(8,"div",8),l._UZ(9,"div",9),l.qZA(),l.TgZ(10,"div",10),l.O4$(),l.TgZ(11,"svg",11),l._UZ(12,"path",12),l.qZA(),l.TgZ(13,"svg",13),l._UZ(14,"path",14),l.qZA()()()()(),l.kcU(),l.TgZ(15,"label",15),l.NdJ("click",function(N){return N.stopPropagation()}),l.Hsn(16),l.qZA()()),2&r){const A=l.MAs(2);l.ekj("mdc-form-field--align-end","before"==h.labelPosition),l.xp6(1),l.ekj("mdc-switch--selected",h.checked)("mdc-switch--unselected",!h.checked)("mdc-switch--checked",h.checked)("mdc-switch--disabled",h.disabled),l.Q6J("tabIndex",h.tabIndex)("disabled",h.disabled),l.uIk("id",h.buttonId)("name",h.name)("aria-label",h.ariaLabel)("aria-labelledby",h._getAriaLabelledBy())("aria-describedby",h.ariaDescribedby)("aria-required",h.required||null)("aria-checked",h.checked),l.xp6(8),l.Q6J("matRippleTrigger",A)("matRippleDisabled",h.disableRipple||h.disabled)("matRippleCentered",!0),l.xp6(6),l.Q6J("for",h.buttonId),l.uIk("id",h._labelId)}},dependencies:[Un.wG],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color, #fff)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mdc-switch{width:var(--mdc-switch-track-width, 36px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, #310077)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, #616161)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, #212121)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color, var(--mdc-theme-surface, #fff))}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__focus-ring-wrapper,.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height, 20px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape, 10px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width, 20px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width, 20px))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size, 18px);height:var(--mdc-switch-selected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size, 18px);height:var(--mdc-switch-unselected-icon-size, 18px)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color, #424242)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity, 0.04)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, 0.1)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size, 48px);width:var(--mdc-switch-state-layer-size, 48px)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height, 14px)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity, 0.12)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, #d7bbff)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, #e0e0e0)}.mat-mdc-slide-toggle .mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, #424242)}.mat-mdc-slide-toggle .mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape, 7px)}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}'],encapsulation:2,changeDetection:0}),c})(),ky=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({}),c})(),bC=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[ky,Un.BQ,Un.si,Bi.ez,ky,Un.BQ]}),c})();const nx=["exampleLink"];function rx(c,m){if(1&c){const r=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(r);const A=l.oxw();return l.KtG(A.clearSearch())}),l.TgZ(1,"mat-icon"),l._uU(2,"close"),l.qZA()()}}const ox=function(c){return{_routerLinkActiveWakeUpHack_:c}};function Ag(c,m){if(1&c&&(l.TgZ(0,"a",14,15),l._uU(2),l.qZA()),2&c){const r=l.oxw().$implicit,h=l.oxw(2);l.Q6J("routerLink","/demo/"+(h.isEditMode?"/edit/":"")+r.path)("routerLinkActiveOptions",l.VKq(3,ox,h.isEditMode)),l.xp6(2),l.hij(" ",r.data.label," ")}}function Bm(c,m){if(1&c&&(l.ynx(0),l.YNc(1,Ag,3,5,"a",13),l.BQk()),2&c){const r=m.$implicit;l.xp6(1),l.Q6J("ngIf",r)}}function kg(c,m){if(1&c&&(l.ynx(0),l.TgZ(1,"h3",12),l._uU(2),l.qZA(),l.YNc(3,Bm,2,1,"ng-container",9),l._UZ(4,"mat-divider"),l.BQk()),2&c){const r=m.$implicit,h=l.oxw();l.xp6(2),l.Oqu(r),l.xp6(1),l.Q6J("ngForOf",h.routes[r])}}let nf=(()=>{class c{constructor(r,h,A,N){this.zone=r,this.router=h,this.activatedRoute=A,this.mapResizeService=N,this.sidenavIsOpen=!0,this.isEditMode=!!this.activatedRoute.snapshot.firstChild.params.demoUrl,this.originalRoutes=We(Pf[0].children,re=>re.data?re.data.cat:null),this.categories=[on.STYLES,on.LAYERS,on.SOURCES,on.USER_INTERACTION,on.CAMERA,on.CONTROLS_AND_OVERLAYS,on.TERRAIN]}ngOnInit(){this.routes=this.originalRoutes}ngAfterViewInit(){this.scrollInToActiveExampleLink()}toggleSidenav(){this.sidenavIsOpen=!this.sidenavIsOpen}toggleEdit(r){const h=this.activatedRoute.snapshot.firstChild;this.router.navigate(r.checked?["demo","edit",h.url[0].path]:["demo",h.params.demoUrl])}onSidenavChange(){this.mapResizeService.resize$.next(void 0)}search(){this.routes=function A0(c){return T0(c,5)}(this.originalRoutes),Object.values(this.routes).forEach(r=>{r.forEach((h,A)=>{h.data&&!h.data.label.toLowerCase().includes(this.searchTerm.toLowerCase())&&delete r[A]})})}clearSearch(){this.searchTerm="",this.routes=this.originalRoutes}scrollInToActiveExampleLink(){this.zone.onStable.pipe((0,ka.P)()).subscribe(()=>{const r=this.exampleLinks.find(h=>h.nativeElement.classList.contains("active"));r&&function R0(c,m){var r=c.isConnected||c.ownerDocument.documentElement.contains(c);if(iy(m)&&"function"==typeof m.behavior)return m.behavior(r?ty(c,m):[]);if(r){var h=function O0(c){return!1===c?{block:"end",inline:"nearest"}:iy(c)?c:{block:"start",inline:"nearest"}}(m);(function ny(c,m){void 0===m&&(m="auto");var r="scrollBehavior"in document.body.style;c.forEach(function(h){var A=h.el,N=h.top,re=h.left;A.scroll&&r?A.scroll({top:N,left:re,behavior:m}):(A.scrollTop=N,A.scrollLeft=re)})})(ty(c,h),h.behavior)}}(r.nativeElement,{block:"center",scrollMode:"if-needed"})})}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.R0b),l.Y36(le.F0),l.Y36(le.gz),l.Y36(ry))},c.\u0275cmp=l.Xpm({type:c,selectors:[["ng-component"]],viewQuery:function(r,h){if(1&r&&l.Gf(nx,5,l.SBq),2&r){let A;l.iGM(A=l.CRH())&&(h.exampleLinks=A)}},decls:18,vars:5,consts:[["position","left"],["mat-button","",1,"menu-button",3,"click"],["position","right"],["color","accent",3,"ngModel","ngModelChange","change"],["mode","side",3,"opened","openedChange"],["sidenav",""],[1,"search"],["matInput","","type","text","placeholder","Search",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"content"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["matSubheader",""],["mat-list-item","","routerLinkActive","active",3,"routerLink","routerLinkActiveOptions",4,"ngIf"],["mat-list-item","","routerLinkActive","active",3,"routerLink","routerLinkActiveOptions"],["exampleLink",""]],template:function(r,h){1&r&&(l.TgZ(0,"showcase-layout-toolbar-menu",0)(1,"button",1),l.NdJ("click",function(){return h.toggleSidenav()}),l.TgZ(2,"mat-icon"),l._uU(3,"menu"),l.qZA()()(),l.TgZ(4,"showcase-layout-toolbar-menu",2)(5,"mat-slide-toggle",3),l.NdJ("ngModelChange",function(N){return h.isEditMode=N})("change",function(N){return h.toggleEdit(N)}),l._uU(6," Edit! "),l.qZA()(),l.TgZ(7,"mat-sidenav-container")(8,"mat-sidenav",4,5),l.NdJ("openedChange",function(){return h.onSidenavChange()}),l.TgZ(10,"mat-form-field",6)(11,"input",7),l.NdJ("ngModelChange",function(N){return h.searchTerm=N})("ngModelChange",function(){return h.search()}),l.qZA(),l.YNc(12,rx,3,0,"button",8),l.qZA(),l.TgZ(13,"mat-nav-list"),l.YNc(14,kg,5,2,"ng-container",9),l.qZA()(),l.TgZ(15,"mat-sidenav-content")(16,"section",10),l._UZ(17,"router-outlet"),l.qZA()()()),2&r&&(l.xp6(5),l.Q6J("ngModel",h.isEditMode),l.xp6(3),l.Q6J("opened",h.sidenavIsOpen),l.xp6(3),l.Q6J("ngModel",h.searchTerm),l.xp6(1),l.Q6J("ngIf",h.searchTerm),l.xp6(2),l.Q6J("ngForOf",h.categories))},dependencies:[le.lC,le.rH,le.Od,Bi.sg,Bi.O5,wa.Fj,wa.JJ,wa.On,F0.a,Wc.lW,Wc.RK,W0,gy,Z0,oy,wy,gu.KE,gu.R9,je.Hw,Tg,Ig,ef,Ay],styles:["[_nghost-%COMP%], .content[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:row}mat-sidenav[_ngcontent-%COMP%]{width:345px;display:flex;flex-direction:column;flex:1}mat-nav-list[_ngcontent-%COMP%]{overflow-y:auto}mat-sidenav-container[_ngcontent-%COMP%]{flex:1}.content[_ngcontent-%COMP%]{height:100%}mat-form-field.search[_ngcontent-%COMP%]{width:100%;margin-bottom:-1.25em}a.active[_ngcontent-%COMP%]{color:#fff;background-color:#3f51b5!important}"]}),c})(),qn=(()=>{class c{constructor(r,h){this.mapResizeService=r,this.map=h,this.sub=new js.w0}ngOnInit(){this.sub.add(this.mapResizeService.resize$.subscribe(()=>{this.map.mapInstance.resize()}))}ngOnDestroy(){this.sub.unsubscribe()}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(ry),l.Y36(hn))},c.\u0275dir=l.lG2({type:c,selectors:[["mgl-map"]]}),c})(),Ln=(()=>{class c{constructor(r){this.map=r,null!=window.Cypress&&(console.info("Cypress detected. Setting preserveDrawingBuffer=true"),this.map.preserveDrawingBuffer=!0)}onMapIdle(r){window.mglMapTestHelper.map=r.target,window.mglMapTestHelper.idle=!0}onMapRender(r){window.mglMapTestHelper.map=r.target,window.mglMapTestHelper.idle=!1}onMapLoad(r){window.mglMapTestHelper.map=r.target,window.mglMapTestHelper.loaded=!0}ngOnInit(){window.mglMapTestHelper={mapComponent:this.map}}ngOnDestroy(){window.mglMapTestHelper=void 0}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(hn))},c.\u0275dir=l.lG2({type:c,selectors:[["mgl-map"]],hostBindings:function(r,h){1&r&&l.NdJ("idle",function(N){return h.onMapIdle(N)})("render",function(N){return h.onMapRender(N)})("mapLoad",function(N){return h.onMapLoad(N)})}}),c})();const Py=function(c){return[c,40.7135]},sx=function(){return["==","extrude","true"]},Ph=function(){return["linear"]},Oy=function(){return["zoom"]},ax=function(){return["get","height"]},Ry=function(c,m,r){return["interpolate",c,m,15,0,15.05,r]},lx=function(){return["get","min_height"]},Pg=function(c,m){return{"fill-extrusion-color":"#aaa","fill-extrusion-height":c,"fill-extrusion-base":m,"fill-extrusion-opacity":.6}};let rf=(()=>{class c{onLoad(r){const h=r.getStyle().layers;for(let A=0;A<h.length;A++)if("symbol"===h[A].type&&h[A].layout["text-field"]){this.labelLayerId=h[A].id;break}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:30,consts:[[3,"zoom","center","pitch","bearing","mapLoad"],["id","3d-buildings","source","openmaptiles","sourceLayer","building","type","fill-extrusion",3,"filter","minzoom","paint","before"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l.NdJ("mapLoad",function(N){return h.onLoad(N)}),l._UZ(1,"mgl-layer",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",15.5)("center",l.VKq(10,Py,-74.0066))("pitch",45)("bearing",-17.6),l.xp6(1),l.Q6J("filter",l.DdM(12,sx))("minzoom",15)("paint",l.WLB(27,Pg,l.kEZ(16,Ry,l.DdM(13,Ph),l.DdM(14,Oy),l.DdM(15,ax)),l.kEZ(23,Ry,l.DdM(20,Ph),l.DdM(21,Oy),l.DdM(22,lx))))("before",h.labelLayerId))},dependencies:[hn,ro,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const sf=function(c){return{width:64,height:64,data:c}},xC=function(){return[0,0]},cx=function(c){return{type:"Point",coordinates:c}},dx=function(c){return{type:"Feature",geometry:c}},Og=function(c){return[c]},ux=function(c){return{type:"FeatureCollection",features:c}},Fy=function(c){return{type:"geojson",data:c}},hx=function(){return{"icon-image":"gradient"}};let mx=(()=>{class c{ngOnInit(){this.imageData=this.generateImage()}generateImage(){const A=new Uint8Array(16384);for(let N=0;N<64;N++)for(let re=0;re<64;re++){const ve=4*(64*re+N);A[ve+0]=re/64*255,A[ve+1]=N/64*255,A[ve+2]=128,A[ve+3]=255}return A}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:3,vars:19,consts:[["id","gradient",3,"data"],["id","points","type","symbol",3,"source","layout"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map"),l._UZ(1,"mgl-image",0)(2,"mgl-layer",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.xp6(1),l.Q6J("data",l.VKq(5,sf,h.imageData)),l.xp6(1),l.Q6J("source",l.VKq(16,Fy,l.VKq(14,ux,l.VKq(12,Og,l.VKq(10,dx,l.VKq(8,cx,l.DdM(7,xC)))))))("layout",l.DdM(18,hx)))},dependencies:[hn,ro,El,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();function Ly(c,m){if(1&c&&l._UZ(0,"mgl-image",3),2&c){const r=m.$implicit;l.Q6J("id",r.id)("data",r)}}const Ny=function(){return[0,0]},af=function(c){return{type:"Point",coordinates:c}},px=function(){return{color:"255,0,0"}},Rg=function(c,m){return{type:"Feature",geometry:c,properties:m}},fx=function(){return[50,0]},zy=function(){return{color:"255,209,28"}},Fg=function(c){return[c,0]},Lg=function(){return{color:"242,127,32"}},gx=function(c,m,r){return[c,m,r]},lf=function(c){return{type:"FeatureCollection",features:c}},cf=function(c){return{type:"geojson",data:c}},Ng=function(){return["get","color"]},By=function(c){return["concat","square-rgb-",c]},_x=function(c){return{"icon-image":c}};let yx=(()=>{class c{constructor(){this.imagesData=[]}generateImage({id:r}){const h="square-rgb-";if(0!==r.indexOf(h))return;const A=r.replace(h,"").split(",").map(Number),ve=new Uint8Array(16384);for(let dt=0;dt<64;dt++)for(let jt=0;jt<64;jt++){const qt=4*(64*jt+dt);ve[qt+0]=A[0],ve[qt+1]=A[1],ve[qt+2]=A[2],ve[qt+3]=255}this.imagesData=[...this.imagesData,{id:r,width:64,height:64,data:ve}]}trackByImage(r,h){return h.id}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:3,vars:41,consts:[[3,"styleImageMissing"],[3,"id","data",4,"ngFor","ngForOf","ngForTrackBy"],["id","points","type","symbol",3,"source","layout"],[3,"id","data"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l.NdJ("styleImageMissing",function(N){return h.generateImage(N)}),l.YNc(1,Ly,1,2,"mgl-image",1),l._UZ(2,"mgl-layer",2),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.xp6(1),l.Q6J("ngForOf",h.imagesData)("ngForTrackBy",h.trackByImage),l.xp6(1),l.Q6J("source",l.VKq(34,cf,l.VKq(32,lf,l.kEZ(28,gx,l.WLB(10,Rg,l.VKq(7,af,l.DdM(6,Ny)),l.DdM(9,px)),l.WLB(17,Rg,l.VKq(14,af,l.DdM(13,fx)),l.DdM(16,zy)),l.WLB(25,Rg,l.VKq(22,af,l.VKq(20,Fg,-50)),l.DdM(24,Lg))))))("layout",l.VKq(39,_x,l.VKq(37,By,l.DdM(36,Ng)))))},dependencies:[Bi.sg,hn,ro,El,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const vx=function(){return[0,0]},df=function(c){return{type:"Point",coordinates:c}},uf=function(c){return{type:"Feature",geometry:c}},zg=function(c){return[c]},Vy=function(c){return{type:"FeatureCollection",features:c}},bx=function(c){return{type:"geojson",data:c}},xx=function(){return{"icon-image":"cat","icon-size":.25}};function Uy(c,m){1&c&&l._UZ(0,"mgl-layer",2),2&c&&l.Q6J("source",l.VKq(11,bx,l.VKq(9,Vy,l.VKq(7,zg,l.VKq(5,uf,l.VKq(3,df,l.DdM(2,vx)))))))("layout",l.DdM(13,xx))}let Bg=(()=>{class c{constructor(){this.imageLoaded=!1}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:3,vars:3,consts:[["id","cat","url","https://upload.wikimedia.org/wikipedia/commons/thumb/6/60/Cat_silhouette.svg/400px-Cat_silhouette.svg.png",3,"imageLoaded"],["id","points","type","symbol",3,"source","layout",4,"ngIf"],["id","points","type","symbol",3,"source","layout"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map")(1,"mgl-image",0),l.NdJ("imageLoaded",function(){return h.imageLoaded=!0}),l.qZA(),l.YNc(2,Uy,1,14,"mgl-layer",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.xp6(2),l.Q6J("ngIf",h.imageLoaded))},dependencies:[Bi.O5,hn,ro,El,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const jy=function(c){return[c,38.907]},Vg=function(){return[11.15]};let Ug=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:8,consts:[[3,"center","zoom","attributionControl"],["mglAttribution","","position","top-left"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-control",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("center",l.VKq(5,jy,-77.04))("zoom",l.DdM(7,Vg))("attributionControl",!1))},dependencies:[hn,Tr,Wt,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();function wx(c,m){1&c&&l._UZ(0,"mgl-feature",4),2&c&&l.Q6J("geometry",m.$implicit)}const Hy=function(){return[8]},$y=function(){return{"icon-image":"oneway"}};let Gy=(()=>{class c{constructor(){this.center=[-90.96,-.47],this.geometries=[{type:"Point",coordinates:[-91.395263671875,-.9145729757782163]},{type:"Point",coordinates:[-90.32958984375,-.6344474832838974]},{type:"Point",coordinates:[-91.34033203125,.01647949196029245]}]}centerMapTo(r){this.center=r.features[0].geometry.coordinates}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:4,vars:9,consts:[[3,"zoom","center","cursorStyle","mapLoad"],["id","symbols-source"],[3,"geometry",4,"ngFor","ngForOf"],["id","symbols","type","symbol","source","symbols-source",3,"layout","layerClick","layerMouseEnter","layerMouseLeave"],[3,"geometry"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l.NdJ("mapLoad",function(N){return h.map=N}),l.TgZ(1,"mgl-geojson-source",1),l.YNc(2,wx,1,1,"mgl-feature",2),l.qZA(),l.TgZ(3,"mgl-layer",3),l.NdJ("layerClick",function(N){return h.centerMapTo(N)})("layerMouseEnter",function(){return h.cursorStyle="pointer"})("layerMouseLeave",function(){return h.cursorStyle=""}),l.qZA()()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(7,Hy))("center",h.center)("cursorStyle",h.cursorStyle),l.xp6(2),l.Q6J("ngForOf",h.geometries),l.xp6(1),l.Q6J("layout",l.DdM(8,$y)))},dependencies:[Bi.sg,hn,ro,Gr,ga,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();function Zy(c,m){1&c&&l._UZ(0,"showcase-cluster-point",6),2&c&&l.Q6J("properties",m.$implicit.properties)}const Cx=function(){return[.3]},Wy=function(){return[0,20]},jg=function(){return["!=","cluster",!0]},Hg=function(c){return{fill:c}};function $g(c,m){if(1&c&&(l.O4$(),l._UZ(0,"path",4)),2&c){const r=m.$implicit;l.Q6J("ngStyle",l.VKq(2,Hg,r.fill)),l.uIk("d",r.d)}}const qy=function(c){return{font:c}},bu=["#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c"];let Yy=(()=>{class c{constructor(){const r=["<",["get","mag"],2],h=["all",[">=",["get","mag"],2],["<",["get","mag"],3]],A=["all",[">=",["get","mag"],3],["<",["get","mag"],4]],N=["all",[">=",["get","mag"],4],["<",["get","mag"],5]];this.clusterProperties={mag1:["+",["case",r,1,0]],mag2:["+",["case",h,1,0]],mag3:["+",["case",A,1,0]],mag4:["+",["case",N,1,0]],mag5:["+",["case",[">=",["get","mag"],5],1,0]]},this.circlePaint={"circle-color":["case",r,bu[0],h,bu[1],A,bu[2],N,bu[3],bu[4]],"circle-opacity":.6,"circle-radius":12},this.labelLayout={"text-field":["number-format",["get","mag"],{"min-fraction-digits":1,"max-fraction-digits":1}],"text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-size":10},this.labelPaint={"text-color":["case",["<",["get","mag"],3],"black","white"]}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:6,vars:16,consts:[[3,"zoom","center"],["id","earthquakes","data","https://maplibre.org/maplibre-gl-js-docs/assets/earthquakes.geojson",3,"cluster","clusterRadius","clusterProperties"],["source","earthquakes"],["mglClusterPoint",""],["id","earthquake_circle","type","circle","source","earthquakes",3,"filter","paint"],["id","earthquake_label","type","symbol","source","earthquakes",3,"filter","layout","paint"],[3,"properties"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-geojson-source",1),l.TgZ(2,"mgl-markers-for-clusters",2),l.YNc(3,Zy,1,1,"ng-template",3),l.qZA(),l._UZ(4,"mgl-layer",4)(5,"mgl-layer",5),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(12,Cx))("center",l.DdM(13,Wy)),l.xp6(1),l.Q6J("cluster",!0)("clusterRadius",80)("clusterProperties",h.clusterProperties),l.xp6(3),l.Q6J("filter",l.DdM(14,jg))("paint",h.circlePaint),l.xp6(1),l.Q6J("filter",l.DdM(15,jg))("layout",h.labelLayout)("paint",h.labelPaint))},dependencies:function(){return[hn,ro,Gr,ws,ir,qn,Ky,Ln]},styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})(),Ky=(()=>{class c{ngOnInit(){const r=[],h=[this.properties.mag1,this.properties.mag2,this.properties.mag3,this.properties.mag4,this.properties.mag5];let A=0;for(let re=0;re<h.length;re++)r.push(A),A+=h[re];this.font=(A>=1e3?22:A>=100?20:A>=10?18:16)+"px sans-serif",this.r=A>=1e3?50:A>=100?32:A>=10?24:18,this.r0=Math.round(.6*this.r),this.w=2*this.r,this.viewbox=`0 0 ${this.w} ${this.w}`,this.textTransform=`translate(${this.r}, ${this.r})`,this.segments=[];for(let re=0;re<h.length;re++)this.segments.push(this.donutSegment(r[re]/A,(r[re]+h[re])/A,bu[re]));this.totalString=A.toLocaleString()}donutSegment(r,h,A){h-r==1&&(h-=1e-5);const N=2*Math.PI*(r-.25),re=2*Math.PI*(h-.25),ve=Math.cos(N),Ke=Math.sin(N),dt=Math.cos(re),jt=Math.sin(re),qt=h-r>.5?1:0;return{d:`M ${this.r+this.r0*ve} ${this.r+this.r0*Ke} L ${this.r+this.r*ve} ${this.r+this.r*Ke} A ${this.r} ${this.r} 0 ${qt} 1 ${this.r+this.r*dt} ${this.r+this.r*jt} L ${this.r+this.r0*dt} ${this.r+this.r0*jt} A ${this.r0} ${this.r0} 0 ${qt} 0 ${this.r+this.r0*ve} ${this.r+this.r0*Ke}`,fill:A}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-cluster-point"]],inputs:{properties:"properties"},decls:5,vars:12,consts:[["text-anchor","middle",3,"ngStyle"],[3,"ngStyle",4,"ngFor","ngForOf"],["fill","white"],["dominant-baseline","central"],[3,"ngStyle"]],template:function(r,h){1&r&&(l.O4$(),l.TgZ(0,"svg",0),l.YNc(1,$g,1,4,"path",1),l._UZ(2,"circle",2),l.TgZ(3,"text",3),l._uU(4),l.qZA()()),2&r&&(l.Q6J("ngStyle",l.VKq(10,qy,h.font)),l.uIk("width",h.w)("height",h.w)("viewbox",h.viewbox),l.xp6(1),l.Q6J("ngForOf",h.segments),l.xp6(1),l.uIk("cx",h.r)("cy",h.r)("r",h.r0),l.xp6(1),l.uIk("transform",h.textTransform),l.xp6(1),l.hij(" ",h.totalString," "))},dependencies:[Bi.sg,Bi.PC],encapsulation:2}),c})();const Gg=function(){return["has","point_count"]},Xy=function(){return[0,"#51bbd6"]},Jy=function(){return[100,"#f1f075"]},Qy=function(){return[750,"#f28cb1"]},Vm=function(c,m,r){return[c,m,r]},Xc=function(c){return{property:"point_count",type:"interval",stops:c}},Ex=function(){return[0,20]},Mx=function(){return[100,30]},Zg=function(){return[750,40]},xu=function(c,m){return{"circle-color":c,"circle-radius":m}},Wg=function(){return["DIN Offc Pro Medium","Arial Unicode MS Bold"]},Dx=function(c){return{"text-field":"{point_count_abbreviated}","text-font":c,"text-size":12}},qg=function(){return["!has","point_count"]},wC=function(){return{"circle-color":"#11b4da","circle-radius":4,"circle-stroke-width":1,"circle-stroke-color":"#fff"}};function CC(c,m){if(1&c&&(l.ynx(0),l._UZ(1,"mgl-geojson-source",2)(2,"mgl-layer",3)(3,"mgl-layer",4)(4,"mgl-layer",5),l.BQk()),2&c){const r=l.oxw();l.xp6(1),l.Q6J("data",r.earthquakes)("cluster",!0)("clusterMaxZoom",14)("clusterRadius",50),l.xp6(1),l.Q6J("filter",l.DdM(10,Gg))("paint",l.WLB(29,xu,l.VKq(18,Xc,l.kEZ(14,Vm,l.DdM(11,Xy),l.DdM(12,Jy),l.DdM(13,Qy))),l.VKq(27,Xc,l.kEZ(23,Vm,l.DdM(20,Ex),l.DdM(21,Mx),l.DdM(22,Zg))))),l.xp6(1),l.Q6J("filter",l.DdM(32,Gg))("layout",l.VKq(34,Dx,l.DdM(33,Wg))),l.xp6(1),l.Q6J("filter",l.DdM(36,qg))("paint",l.DdM(37,wC))}}const Sx=function(){return[3]},Tx=function(c){return[c,40.66995747013945]};let ev=(()=>{class c{ngOnInit(){var r=this;return xr(function*(){r.earthquakes=yield H.e(45).then(H.t.bind(H,3045,19))})()}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:8,consts:[[3,"zoom","center"],[4,"ngIf"],["id","earthquakes",3,"data","cluster","clusterMaxZoom","clusterRadius"],["id","clusters","type","circle","source","earthquakes",3,"filter","paint"],["id","cluster-count","type","symbol","source","earthquakes",3,"filter","layout"],["id","unclustered-point","type","circle","source","earthquakes",3,"filter","paint"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l.YNc(1,CC,5,38,"ng-container",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(5,Sx))("center",l.VKq(6,Tx,-103.59179687498357)),l.xp6(1),l.Q6J("ngIf",h.earthquakes))},dependencies:[Bi.O5,hn,ro,Gr,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const Ix=function(c){return[c,38.907]},Ps=function(){return[11.15]},Ax=function(){return['<a href="https://github.com/Wykks/ngx-mapbox-gl" target="_blank">Maps made awesome in Angular</a>',"Hello World"]};let kx=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:10,consts:[[3,"center","zoom","attributionControl"],["mglAttribution","","position","bottom-right",3,"customAttribution"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-control",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("center",l.VKq(6,Ix,-77.04))("zoom",l.DdM(8,Ps))("attributionControl",!1),l.xp6(1),l.Q6J("customAttribution",l.DdM(9,Ax)))},dependencies:[hn,Tr,Wt,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const iv=function(){return[36.235656,50.00387]},Px=function(){return[11.15]};let nv=(()=>{class c{constructor(){this.locale={"FullscreenControl.Enter":"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u043e\u0432\u043d\u043e\u0435\u043a\u0440\u0430\u043d\u043d\u0438\u0439 \u0440\u0435\u0436\u0438\u043c","FullscreenControl.Exit":"\u0412\u0438\u0439\u0442\u0438 \u0437 \u043f\u043e\u0432\u043d\u043e\u0435\u043a\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0440\u0435\u0436\u0438\u043c\u0443","GeolocateControl.FindMyLocation":"\u0417\u043d\u0430\u0439\u0442\u0438 \u043c\u043e\u0454 \u043c\u0456\u0441\u0446\u0435\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u043d\u044f","GeolocateControl.LocationNotAvailable":"\u041c\u0456\u0441\u0446\u0435\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u043d\u044f \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0435","LogoControl.Title":"\u041b\u043e\u0433\u043e Mapbox","NavigationControl.ResetBearing":"C\u043a\u0438\u043d\u0443\u0442\u0438 \u043a\u043e\u043c\u043f\u0430\u0441","NavigationControl.ZoomIn":"\u041d\u0430\u0431\u043b\u0438\u0437\u0438\u0442\u0438","NavigationControl.ZoomOut":"\u0412\u0456\u0434\u0434\u0430\u043b\u0438\u0442\u0438","ScaleControl.Feet":"\u0444","ScaleControl.Meters":"\u043c","ScaleControl.Kilometers":"\u043a\u043c","ScaleControl.Miles":"\u043c\u0438","ScaleControl.NauticalMiles":"\u043d\u043c"}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:5,vars:7,consts:[[3,"center","zoom","locale"],["mglFullscreen","","position","top-left"],["mglGeolocate","","position","top-left"],["mglNavigation","","position","top-left"],["mglScale",""]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-control",1)(2,"mgl-control",2)(3,"mgl-control",3)(4,"mgl-control",4),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("center",l.DdM(5,iv))("zoom",l.DdM(6,Px))("locale",h.locale))},dependencies:[hn,Tr,fe,kt,Ze,qi,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const rv=function(c,m,r){return{"background-image":c,width:m,height:r}};function Oh(c,m){if(1&c){const r=l.EpF();l.TgZ(0,"mgl-marker",2)(1,"div",3),l.NdJ("click",function(){const N=l.CHM(r).$implicit,re=l.oxw();return l.KtG(re.alert(N.properties.message))}),l.qZA()()}if(2&c){const r=m.$implicit;l.Q6J("feature",r),l.xp6(1),l.Q6J("ngStyle",l.kEZ(2,rv,"url(https://placekitten.com/g/"+r.properties.iconSize.join("/")+"/)",r.properties.iconSize[0]+"px",r.properties.iconSize[1]+"px"))}}const Ox=function(){return[5]},Rx=function(c,m){return[c,m]};let ov=(()=>{class c{constructor(){this.geojson={type:"FeatureCollection",features:[{type:"Feature",properties:{message:"Foo",iconSize:[60,60]},geometry:{type:"Point",coordinates:[-66.324462890625,-16.024695711685304]}},{type:"Feature",properties:{message:"Bar",iconSize:[50,50]},geometry:{type:"Point",coordinates:[-61.2158203125,-15.97189158092897]}},{type:"Feature",properties:{message:"Baz",iconSize:[40,40]},geometry:{type:"Point",coordinates:[-63.29223632812499,-18.28151823530889]}}]}}alert(r){alert(r)}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:9,consts:[[3,"zoom","center"],[3,"feature",4,"ngFor","ngForOf"],[3,"feature"],[1,"marker",3,"ngStyle","click"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l.YNc(1,Oh,2,6,"mgl-marker",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(5,Ox))("center",l.WLB(6,Rx,-65.017,-16.457)),l.xp6(1),l.Q6J("ngForOf",h.geojson.features))},dependencies:[Bi.sg,Bi.PC,hn,fi,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".marker[_ngcontent-%COMP%]{border:none;border-radius:50%;cursor:pointer;padding:0}"]}),c})();const Fx=function(){return[3]},sv=function(c){return[c,39]};let EC=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:1,vars:7,consts:[[3,"zoom","center"]],template:function(r,h){1&r&&l._UZ(0,"mgl-map",0),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(4,Fx))("center",l.VKq(5,sv,-77.38)))},dependencies:[hn,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const Yg=function(){return[9]},Kg=function(c){return[c,40]};let oc=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:1,vars:7,consts:[[3,"zoom","center"]],template:function(r,h){1&r&&l._UZ(0,"mgl-map",0),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(4,Yg))("center",l.VKq(5,Kg,-74.5)))},dependencies:[hn,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const Lx=["*"],lv=new l.OlP("MAT_CARD_CONFIG");let hf=(()=>{class c{constructor(r){this.appearance=r?.appearance||"raised"}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(lv,8))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,h){2&r&&l.ekj("mat-mdc-card-outlined","outlined"===h.appearance)("mdc-card--outlined","outlined"===h.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:Lx,decls:1,vars:0,template:function(r,h){1&r&&(l.F$t(),l.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),c})(),dv=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Un.BQ,Bi.ez,Un.BQ]}),c})();function uv(c,m){if(1&c&&(l.TgZ(0,"mgl-control",3)(1,"mat-card",4)(2,"div"),l._uU(3),l.qZA(),l.TgZ(4,"div"),l._uU(5),l.qZA()()()),2&c){const r=l.oxw();l.xp6(3),l.hij("Longitude:\xa0",r.coordinates[0],""),l.xp6(2),l.hij("Latitude:\xa0",r.coordinates[1],"")}}const hv=function(){return[2]},mv=function(){return[0,0]};let Vx=(()=>{class c{constructor(){this.color="#3887be"}onDragEnd(r){this.coordinates=r.getLngLat().toArray()}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:3,vars:10,consts:[[3,"zoom","center"],[3,"lngLat","draggable","markerDragEnd"],["position","bottom-left",4,"ngIf"],["position","bottom-left"],["appearance","outlined"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0)(1,"mgl-marker",1),l.NdJ("markerDragEnd",function(N){return h.onDragEnd(N)}),l.qZA(),l.YNc(2,uv,6,2,"mgl-control",2),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(7,hv))("center",l.DdM(8,mv)),l.xp6(1),l.Q6J("lngLat",l.DdM(9,mv))("draggable",!0),l.xp6(1),l.Q6J("ngIf",h.coordinates))},dependencies:[Bi.O5,hn,fi,Tr,hf,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const Jg=function(){return[13]},pf=function(){return[11.255,43.77]};let pv=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:6,consts:[[3,"zoom","center"],["mglFullscreen",""]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-control",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(4,Jg))("center",l.DdM(5,pf)))},dependencies:[hn,Tr,fe,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const fv=function(){return[15]},gv=function(c){return[c,37.830348]},_v=function(){return{}},yv=function(c){return[c,37.83381888486939]},vv=function(c){return[c,37.83317489144141]},bv=function(c){return[c,37.83270036637107]},xv=function(c){return[c,37.832056363179625]},wv=function(c){return[c,37.83114119107971]},Ux=function(c){return[c,37.83049717427869]},jx=function(c){return[c,37.829920943955045]},Hx=function(c){return[c,37.82954808664175]},$x=function(c){return[c,37.82944639795659]},Gx=function(c){return[c,37.82880236636284]},Zx=function(c){return[c,37.82931081282506]},Wx=function(c){return[c,37.83080223556934]},qx=function(c){return[c,37.83168351665737]},Yx=function(c){return[c,37.832158048267786]},Kx=function(c){return[c,37.83297152392784]},Xx=function(c){return[c,37.83263257682617]},Jx=function(c){return[c,37.832937629287755]},Qx=function(c){return[c,37.832429207817725]},ew=function(c){return[c,37.832564787218985]},tw=function(c){return[c,37.83337825839438]},iw=function(c){return[c,37.83368330777276]},nw=function(c,m,r,h,A,N,re,ve,Ke,dt,jt,qt,Si,Hi,zi,$i,Sn,Yn,Mr,Do,Lr){return[c,m,r,h,A,N,re,ve,Ke,dt,jt,qt,Si,Hi,zi,$i,Sn,Yn,Mr,Do,Lr]},Cv=function(c){return{type:"LineString",coordinates:c}},Ev=function(c,m){return{type:"Feature",properties:c,geometry:m}},Mv=function(c){return{type:"geojson",data:c}},Dv=function(){return{"line-join":"round","line-cap":"round"}},Sv=function(){return{"line-color":"#888","line-width":8}};let Tv=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:84,consts:[[3,"zoom","center"],["id","route","type","line",3,"source","layout","paint"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-layer",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(7,fv))("center",l.VKq(8,gv,-122.486052)),l.xp6(1),l.Q6J("source",l.VKq(80,Mv,l.WLB(77,Ev,l.DdM(10,_v),l.VKq(75,Cv,l.rFY(53,nw,[l.VKq(11,yv,-122.48369693756104),l.VKq(13,vv,-122.48348236083984),l.VKq(15,bv,-122.48339653015138),l.VKq(17,xv,-122.48356819152832),l.VKq(19,wv,-122.48404026031496),l.VKq(21,Ux,-122.48404026031496),l.VKq(23,jx,-122.48348236083984),l.VKq(25,Hx,-122.48356819152832),l.VKq(27,$x,-122.48507022857666),l.VKq(29,Gx,-122.48610019683838),l.VKq(31,Zx,-122.48695850372314),l.VKq(33,Wx,-122.48700141906738),l.VKq(35,qx,-122.48751640319824),l.VKq(37,Yx,-122.48803138732912),l.VKq(39,Kx,-122.48888969421387),l.VKq(41,Xx,-122.48987674713133),l.VKq(43,Jx,-122.49043464660643),l.VKq(45,Qx,-122.49125003814696),l.VKq(47,ew,-122.49163627624512),l.VKq(49,tw,-122.49223709106445),l.VKq(51,iw,-122.49378204345702)])))))("layout",l.DdM(82,Dv))("paint",l.DdM(83,Sv)))},dependencies:[hn,ro,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();function Iv(c,m){if(1&c&&l._UZ(0,"mgl-layer",5),2&c){const r=m.$implicit;l.Q6J("id",r.id)("type",r.type)("filter",r.filter)("paint",r.paint)}}const Av=function(){return["!=","cluster",!0]},kv=function(){return{"circle-color":"rgba(0,255,0,0.5)","circle-radius":20,"circle-blur":1}};function Qg(c,m){if(1&c&&(l.ynx(0),l._UZ(1,"mgl-geojson-source",2),l.YNc(2,Iv,1,4,"mgl-layer",3),l._UZ(3,"mgl-layer",4),l.BQk()),2&c){const r=l.oxw();l.xp6(1),l.Q6J("data",r.earthquakes)("cluster",!0)("clusterMaxZoom",15)("clusterRadius",20),l.xp6(1),l.Q6J("ngForOf",r.clusterLayers),l.xp6(1),l.Q6J("filter",l.DdM(7,Av))("paint",l.DdM(8,kv))}}const e_=function(){return[3]},wu=function(c){return[c,40.66995747013945]};let rw=(()=>{class c{ngOnInit(){var r=this;return xr(function*(){r.earthquakes=yield H.e(45).then(H.t.bind(H,3045,19));const h=[[0,"green"],[20,"orange"],[200,"red"]];r.clusterLayers=h.map((A,N)=>({type:"circle",id:`cluster-${N}`,paint:{"circle-color":A[1],"circle-radius":70,"circle-blur":1},filter:N===h.length-1?[">=","point_count",A[0]]:["all",[">=","point_count",A[0]],["<","point_count",h[N+1][0]]]}))})()}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:8,consts:[[3,"zoom","center"],[4,"ngIf"],["id","earthquakes",3,"data","cluster","clusterMaxZoom","clusterRadius"],["source","earthquakes",3,"id","type","filter","paint",4,"ngFor","ngForOf"],["id","unclustered-point","type","circle","source","earthquakes",3,"filter","paint"],["source","earthquakes",3,"id","type","filter","paint"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l.YNc(1,Qg,4,9,"ng-container",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(5,e_))("center",l.VKq(6,wu,-103.59179687498357)),l.xp6(1),l.Q6J("ngIf",h.earthquakes))},dependencies:[Bi.sg,Bi.O5,hn,ro,Gr,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const ow=function(){return[2]},Rh=function(c){return[c,37.830348]},OC=function(){return{"fill-color":"#627BC1","fill-opacity":.5}},t_=function(){return{"line-color":"#627BC1","line-width":2}},RC=function(){return{"fill-color":"#627BC1","fill-opacity":1}};let Pv=(()=>{class c{constructor(){this.hoverFilter=["==","name",""]}activateHoverOn(r){this.hoverFilter=["==","name",r.features[0].properties.name]}disableHover(){this.hoverFilter=["==","name",""]}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:5,vars:14,consts:[[3,"zoom","center"],["id","states","data","https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_110m_admin_1_states_provinces.geojson"],["id","state-fills","type","fill","source","states",3,"paint","layerMouseMove","layerMouseLeave"],["id","state-borders","type","line","source","states",3,"paint"],["id","state-fills-hover","type","fill","source","states",3,"paint","filter"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-geojson-source",1),l.TgZ(2,"mgl-layer",2),l.NdJ("layerMouseMove",function(N){return h.activateHoverOn(N)})("layerMouseLeave",function(){return h.disableHover()}),l.qZA(),l._UZ(3,"mgl-layer",3)(4,"mgl-layer",4),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(8,ow))("center",l.VKq(9,Rh,-100.486052)),l.xp6(2),l.Q6J("paint",l.DdM(11,OC)),l.xp6(1),l.Q6J("paint",l.DdM(12,t_)),l.xp6(1),l.Q6J("paint",l.DdM(13,RC))("filter",h.hoverFilter))},dependencies:[hn,ro,Gr,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const Ov=function(){return[9]},FC=function(c){return[c,40]};let wn=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:1,vars:8,consts:[[3,"zoom","center","interactive"]],template:function(r,h){1&r&&l._UZ(0,"mgl-map",0),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(5,Ov))("center",l.VKq(6,FC,-74.5))("interactive",!1))},dependencies:[hn,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const sw=function(){return[2.9]},aw=function(){return[16.05,48]};let lw=(()=>{class c{changeLangTo(r){this.map&&(this.map.setLayoutProperty("country_1","text-field","{name:"+r+"}"),this.map.setLayoutProperty("country_2","text-field","{name:"+r+"}"),this.map.setLayoutProperty("country_3","text-field","{name:"+r+"}"))}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:10,vars:6,consts:[[3,"zoom","center","mapLoad"],["mat-raised-button","",1,"lang-button",3,"click"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l.NdJ("mapLoad",function(N){return h.map=N}),l.TgZ(1,"mgl-control")(2,"button",1),l.NdJ("click",function(){return h.changeLangTo("fr")}),l._uU(3," French "),l.qZA(),l.TgZ(4,"button",1),l.NdJ("click",function(){return h.changeLangTo("ru")}),l._uU(5," Russian "),l.qZA(),l.TgZ(6,"button",1),l.NdJ("click",function(){return h.changeLangTo("de")}),l._uU(7," German "),l.qZA(),l.TgZ(8,"button",1),l.NdJ("click",function(){return h.changeLangTo("es")}),l._uU(9," Spanish "),l.qZA()()()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(4,sw))("center",l.DdM(5,aw)))},dependencies:[hn,Tr,Wc.lW,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();function Fh(c,m){if(1&c&&l._UZ(0,"mgl-geojson-source",3),2&c){const r=l.oxw();l.Q6J("data",r.data)}}const cw=function(){return{"line-color":"yellow","line-opacity":.75,"line-width":5}};function ff(c,m){1&c&&l._UZ(0,"mgl-layer",4),2&c&&l.Q6J("paint",l.DdM(1,cw))}let gf=(()=>{class c{constructor(){this.zoom=[0]}ngOnInit(){var r=this;return xr(function*(){const h=yield H.e(330).then(H.t.bind(H,3330,19)),A=h.features[0].geometry.coordinates;h.features[0].geometry.coordinates=[A[0]],r.data=h,r.center=A[0],r.zoom=[14],r.pitch=30;let N=0;r.timer=window.setInterval(()=>{N<A.length?(r.center=A[N],h.features[0].geometry.coordinates.push(A[N]),r.data={...r.data},N++):window.clearInterval(r.timer)},10)})()}ngOnDestroy(){window.clearInterval(this.timer)}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:3,vars:8,consts:[["movingMethod","jumpTo",3,"zoom","center","centerWithPanTo","pitch"],["id","trace",3,"data",4,"ngIf"],["id","trace","type","line","source","trace",3,"paint",4,"ngIf"],["id","trace",3,"data"],["id","trace","type","line","source","trace",3,"paint"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l.YNc(1,Fh,1,1,"mgl-geojson-source",1),l.YNc(2,ff,1,2,"mgl-layer",2),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",h.zoom)("center",h.center)("centerWithPanTo",!0)("pitch",h.pitch),l.xp6(1),l.Q6J("ngIf",h.data),l.xp6(1),l.Q6J("ngIf",h.data))},dependencies:[Bi.O5,hn,ro,Gr,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();var Ko=H(6321),LC=H(4825);const Fv=function(){return[14]},dw=function(){return{"raster-fade-duration":0}};let Lv=(()=>{class c{constructor(){this.size=.001,this.url="assets/red.png"}ngOnInit(){var r=this;return xr(function*(){const A=(yield H.e(330).then(H.t.bind(H,3330,19))).features[0].geometry.coordinates,N=A.map(ve=>r.makeRectangle(ve));r.center=A[0],r.coordinates=N[0];let re=0;r.sub=function Rv(c=0,m=Ko.z){return c<0&&(c=0),(0,LC.H)(c,c,m)}(250).subscribe(()=>{r.url=Math.random()<.5?"assets/red.png":"assets/blue.png",r.coordinates=N[re],re=(re+1)%N.length})})()}ngOnDestroy(){void 0!==this.sub&&this.sub.unsubscribe()}makeRectangle([r,h]){return[[r,h],[r+this.size,h],[r+this.size,h-this.size],[r,h-this.size]]}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:3,vars:9,consts:[["movingMethod","jumpTo",3,"center","zoom"],["id","test_source",3,"url","coordinates"],["id","test_layer","source","test_source","type","raster",3,"paint"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-image-source",1)(2,"mgl-layer",2),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("center",h.center)("zoom",l.DdM(7,Fv)),l.xp6(1),l.Q6J("url",h.url)("coordinates",h.coordinates),l.xp6(1),l.Q6J("paint",l.DdM(8,dw)))},dependencies:[hn,ro,Ni,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const Nv=function(){return{enableHighAccuracy:!0}};let zv=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:5,consts:[["mglGeolocate","",3,"positionOptions","trackUserLocation"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map"),l._UZ(1,"mgl-control",0),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.xp6(1),l.Q6J("positionOptions",l.DdM(4,Nv))("trackUserLocation",!0))},dependencies:[hn,Tr,Ze,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const i_=function(c){return[c]},uw=function(){return[17]},hw=function(){return[4.577979,51.038189]},mw=function(){return[4.577979,51.03816]};let Um=(()=>{class c{constructor(){this.pitch=50,this.bearing=-97}ngOnInit(){let r=0;setInterval(()=>{r+=.01,1===r&&(r=0),this.pitch=45+15*Math.cos(r),this.bearing=20*Math.sin(r)-103},20)}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:7,vars:15,consts:[["movingMethod","jumpTo",3,"interactive","pitch","bearing","zoom","center"],["rotationAlignment","map","pitchAlignment","map",3,"lngLat"],[1,"arrow"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 434 437"],["points","37.5 437.18 218 350.75 217.49 -0.37 37.5 437.18",2,"fill","#579120"],["points","397.55 437.13 218 350.75 217.49 -0.37 397.55 437.13",2,"fill","#6fad2d"],["points","217.22 391.46 397.55 437.13 218 350.75 37.5 437.18 217.22 391.46",2,"fill","#315112"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0)(1,"mgl-marker",1)(2,"div",2),l.O4$(),l.TgZ(3,"svg",3),l._UZ(4,"polygon",4)(5,"polygon",5)(6,"polygon",6),l.qZA()()()()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("interactive",!1)("pitch",l.VKq(8,i_,h.pitch))("bearing",l.VKq(10,i_,h.bearing))("zoom",l.DdM(12,uw))("center",l.DdM(13,hw)),l.xp6(1),l.Q6J("lngLat",l.DdM(14,mw)))},dependencies:[hn,fi,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".arrow[_ngcontent-%COMP%]{width:50px;height:50px;transform:rotate(-97deg)}"]}),c})();const pw=function(){return[9]},fw=function(c){return[c,40]};let gw=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:7,consts:[[3,"zoom","center"],["mglNavigation",""]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-control",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(4,pw))("center",l.VKq(5,fw,-74.5)))},dependencies:[hn,Tr,kt,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();var jm=H(8525),_f=H(3651),Bv=H(8484);const Vv=["tooltip"],Lh=new l.OlP("mat-tooltip-scroll-strategy"),vw={provide:Lh,deps:[_f.aV],useFactory:function yw(c){return()=>c.scrollStrategies.reposition({scrollThrottle:20})}},Uv=new l.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function bw(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),n_="tooltip-panel",jv=(0,ss.i$)({passive:!0});let BC=(()=>{class c{get position(){return this._position}set position(r){r!==this._position&&(this._position=r,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(r){this._positionAtOrigin=(0,En.Ig)(r),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(r){this._disabled=(0,En.Ig)(r),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(r){this._showDelay=(0,En.su)(r)}get hideDelay(){return this._hideDelay}set hideDelay(r){this._hideDelay=(0,En.su)(r),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(r){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=r?String(r).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(r){this._tooltipClass=r,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(r,h,A,N,re,ve,Ke,dt,jt,qt,Si,Hi){this._overlay=r,this._elementRef=h,this._scrollDispatcher=A,this._viewContainerRef=N,this._ngZone=re,this._platform=ve,this._ariaDescriber=Ke,this._focusMonitor=dt,this._dir=qt,this._defaultOptions=Si,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new wr.x,this._scrollStrategy=jt,this._document=Hi,Si&&(this._showDelay=Si.showDelay,this._hideDelay=Si.hideDelay,Si.position&&(this.position=Si.position),Si.positionAtOrigin&&(this.positionAtOrigin=Si.positionAtOrigin),Si.touchGestures&&(this.touchGestures=Si.touchGestures)),qt.change.pipe((0,Rr.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,Rr.R)(this._destroyed)).subscribe(r=>{r?"keyboard"===r&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const r=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([h,A])=>{r.removeEventListener(h,A,jv)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(r,this.message,"tooltip"),this._focusMonitor.stopMonitoring(r)}show(r=this.showDelay,h){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const A=this._createOverlay(h);this._detach(),this._portal=this._portal||new Bv.C5(this._tooltipComponent,this._viewContainerRef);const N=this._tooltipInstance=A.attach(this._portal).instance;N._triggerElement=this._elementRef.nativeElement,N._mouseLeaveHideDelay=this._hideDelay,N.afterHidden().pipe((0,Rr.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),N.show(r)}hide(r=this.hideDelay){const h=this._tooltipInstance;h&&(h.isVisible()?h.hide(r):(h._cancelPendingAnimations(),this._detach()))}toggle(r){this._isTooltipVisible()?this.hide():this.show(void 0,r)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(r){if(this._overlayRef){const N=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!r)&&N._origin instanceof l.SBq)return this._overlayRef;this._detach()}const h=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),A=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&r||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(h);return A.positionChanges.pipe((0,Rr.R)(this._destroyed)).subscribe(N=>{this._updateCurrentPositionClass(N.connectionPair),this._tooltipInstance&&N.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:A,panelClass:`${this._cssClassPrefix}-${n_}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,Rr.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,Rr.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,Rr.R)(this._destroyed)).subscribe(N=>{this._isTooltipVisible()&&N.keyCode===nc.hY&&!(0,nc.Vb)(N)&&(N.preventDefault(),N.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(r){const h=r.getConfig().positionStrategy,A=this._getOrigin(),N=this._getOverlayPosition();h.withPositions([this._addOffset({...A.main,...N.main}),this._addOffset({...A.fallback,...N.fallback})])}_addOffset(r){return r}_getOrigin(){const r=!this._dir||"ltr"==this._dir.value,h=this.position;let A;"above"==h||"below"==h?A={originX:"center",originY:"above"==h?"top":"bottom"}:"before"==h||"left"==h&&r||"right"==h&&!r?A={originX:"start",originY:"center"}:("after"==h||"right"==h&&r||"left"==h&&!r)&&(A={originX:"end",originY:"center"});const{x:N,y:re}=this._invertPosition(A.originX,A.originY);return{main:A,fallback:{originX:N,originY:re}}}_getOverlayPosition(){const r=!this._dir||"ltr"==this._dir.value,h=this.position;let A;"above"==h?A={overlayX:"center",overlayY:"bottom"}:"below"==h?A={overlayX:"center",overlayY:"top"}:"before"==h||"left"==h&&r||"right"==h&&!r?A={overlayX:"end",overlayY:"center"}:("after"==h||"right"==h&&r||"left"==h&&!r)&&(A={overlayX:"start",overlayY:"center"});const{x:N,y:re}=this._invertPosition(A.overlayX,A.overlayY);return{main:A,fallback:{overlayX:N,overlayY:re}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,wl.q)(1),(0,Rr.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(r){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=r,this._tooltipInstance._markForCheck())}_invertPosition(r,h){return"above"===this.position||"below"===this.position?"top"===h?h="bottom":"bottom"===h&&(h="top"):"end"===r?r="start":"start"===r&&(r="end"),{x:r,y:h}}_updateCurrentPositionClass(r){const{overlayY:h,originX:A,originY:N}=r;let re;if(re="center"===h?this._dir&&"rtl"===this._dir.value?"end"===A?"left":"right":"start"===A?"left":"right":"bottom"===h&&"top"===N?"above":"below",re!==this._currentPosition){const ve=this._overlayRef;if(ve){const Ke=`${this._cssClassPrefix}-${n_}-`;ve.removePanelClass(Ke+this._currentPosition),ve.addPanelClass(Ke+re)}this._currentPosition=re}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",r=>{let h;this._setupPointerExitEventsIfNeeded(),void 0!==r.x&&void 0!==r.y&&(h=r),this.show(void 0,h)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",r=>{const h=r.targetTouches?.[0],A=h?{x:h.clientX,y:h.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,A),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const r=[];if(this._platformSupportsMouseEvents())r.push(["mouseleave",h=>{const A=h.relatedTarget;(!A||!this._overlayRef?.overlayElement.contains(A))&&this.hide()}],["wheel",h=>this._wheelListener(h)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const h=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};r.push(["touchend",h],["touchcancel",h])}this._addListeners(r),this._passiveListeners.push(...r)}_addListeners(r){r.forEach(([h,A])=>{this._elementRef.nativeElement.addEventListener(h,A,jv)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(r){if(this._isTooltipVisible()){const h=this._document.elementFromPoint(r.clientX,r.clientY),A=this._elementRef.nativeElement;h!==A&&!A.contains(h)&&this.hide()}}_disableNativeGesturesIfNecessary(){const r=this.touchGestures;if("off"!==r){const h=this._elementRef.nativeElement,A=h.style;("on"===r||"INPUT"!==h.nodeName&&"TEXTAREA"!==h.nodeName)&&(A.userSelect=A.msUserSelect=A.webkitUserSelect=A.MozUserSelect="none"),("on"===r||!h.draggable)&&(A.webkitUserDrag="none"),A.touchAction="none",A.webkitTapHighlightColor="transparent"}}}return c.\u0275fac=function(r){l.$Z()},c.\u0275dir=l.lG2({type:c,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),c})(),VC=(()=>{class c extends BC{constructor(r,h,A,N,re,ve,Ke,dt,jt,qt,Si,Hi){super(r,h,A,N,re,ve,Ke,dt,jt,qt,Si,Hi),this._tooltipComponent=vf,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(r){const A=!this._dir||"ltr"==this._dir.value;return"top"===r.originY?r.offsetY=-8:"bottom"===r.originY?r.offsetY=8:"start"===r.originX?r.offsetX=A?-8:8:"end"===r.originX&&(r.offsetX=A?8:-8),r}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(_f.aV),l.Y36(l.SBq),l.Y36(rc.mF),l.Y36(l.s_b),l.Y36(l.R0b),l.Y36(ss.t4),l.Y36(ic.$s),l.Y36(ic.tE),l.Y36(Lh),l.Y36(Lm.Is,8),l.Y36(Uv,8),l.Y36(Bi.K0))},c.\u0275dir=l.lG2({type:c,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(r,h){2&r&&l.ekj("mat-mdc-tooltip-disabled",h.disabled)},exportAs:["matTooltip"],features:[l.qOj]}),c})(),$v=(()=>{class c{constructor(r,h){this._changeDetectorRef=r,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new wr.x,this._animationsDisabled="NoopAnimations"===h}show(r){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},r)}hide(r){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},r)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:r}){(!r||!this._triggerElement.contains(r))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:r}){(r===this._showAnimation||r===this._hideAnimation)&&this._finalizeAnimation(r===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(r){r?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(r){const h=this._tooltip.nativeElement,A=this._showAnimation,N=this._hideAnimation;if(h.classList.remove(r?N:A),h.classList.add(r?A:N),this._isVisible=r,r&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const re=getComputedStyle(h);("0s"===re.getPropertyValue("animation-duration")||"none"===re.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}r&&this._onShow(),this._animationsDisabled&&(h.classList.add("_mat-animation-noopable"),this._finalizeAnimation(r))}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.sBO),l.Y36(l.QbO,8))},c.\u0275dir=l.lG2({type:c}),c})(),vf=(()=>{class c extends $v{constructor(r,h,A){super(r,A),this._elementRef=h,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const r=this._elementRef.nativeElement.getBoundingClientRect();return r.height>24&&r.width>=200}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.QbO,8))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-tooltip-component"]],viewQuery:function(r,h){if(1&r&&l.Gf(Vv,7),2&r){let A;l.iGM(A=l.CRH())&&(h._tooltip=A.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(r,h){1&r&&l.NdJ("mouseleave",function(N){return h._handleMouseLeave(N)}),2&r&&l.Udp("zoom",h.isVisible()?1:null)},features:[l.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(r,h){1&r&&(l.TgZ(0,"div",0,1),l.NdJ("animationend",function(N){return h._handleAnimationEnd(N)}),l.TgZ(2,"div",2),l._uU(3),l.qZA()()),2&r&&(l.ekj("mdc-tooltip--multiline",h._isMultiline),l.Q6J("ngClass",h.tooltipClass),l.xp6(3),l.Oqu(h.message))},dependencies:[Bi.mk],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),c})(),Ew=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({providers:[vw],imports:[ic.rt,Bi.ez,_f.U8,Un.BQ,Un.BQ,rc.ZD]}),c})();function Gv(c,m){if(1&c&&(l.TgZ(0,"mat-option",19),l._uU(1),l.qZA()),2&c){const r=m.$implicit;l.Q6J("value",r),l.xp6(1),l.hij(" ",r," ")}}function Hm(c,m){if(1&c){const r=l.EpF();l.TgZ(0,"mat-form-field",16)(1,"mat-select",17),l.NdJ("selectionChange",function(A){l.CHM(r);const N=l.oxw(2);return l.KtG(N._changePageSize(A.value))}),l.YNc(2,Gv,2,2,"mat-option",18),l.qZA()()}if(2&c){const r=l.oxw(2);l.Q6J("appearance",r._formFieldAppearance)("color",r.color),l.xp6(1),l.Q6J("value",r.pageSize)("disabled",r.disabled)("aria-labelledby",r._pageSizeLabelId)("panelClass",r.selectConfig.panelClass||"")("disableOptionCentering",r.selectConfig.disableOptionCentering),l.xp6(1),l.Q6J("ngForOf",r._displayedPageSizeOptions)}}function Mw(c,m){if(1&c&&(l.TgZ(0,"div",20),l._uU(1),l.qZA()),2&c){const r=l.oxw(2);l.xp6(1),l.Oqu(r.pageSize)}}function Dw(c,m){if(1&c&&(l.TgZ(0,"div",12)(1,"div",13),l._uU(2),l.qZA(),l.YNc(3,Hm,3,8,"mat-form-field",14),l.YNc(4,Mw,2,1,"div",15),l.qZA()),2&c){const r=l.oxw();l.xp6(1),l.s9C("id",r._pageSizeLabelId),l.xp6(1),l.hij(" ",r._intl.itemsPerPageLabel," "),l.xp6(1),l.Q6J("ngIf",r._displayedPageSizeOptions.length>1),l.xp6(1),l.Q6J("ngIf",r._displayedPageSizeOptions.length<=1)}}function Sw(c,m){if(1&c){const r=l.EpF();l.TgZ(0,"button",21),l.NdJ("click",function(){l.CHM(r);const A=l.oxw();return l.KtG(A.firstPage())}),l.O4$(),l.TgZ(1,"svg",7),l._UZ(2,"path",22),l.qZA()()}if(2&c){const r=l.oxw();l.Q6J("matTooltip",r._intl.firstPageLabel)("matTooltipDisabled",r._previousButtonsDisabled())("matTooltipPosition","above")("disabled",r._previousButtonsDisabled()),l.uIk("aria-label",r._intl.firstPageLabel)}}function Tw(c,m){if(1&c){const r=l.EpF();l.O4$(),l.kcU(),l.TgZ(0,"button",23),l.NdJ("click",function(){l.CHM(r);const A=l.oxw();return l.KtG(A.lastPage())}),l.O4$(),l.TgZ(1,"svg",7),l._UZ(2,"path",24),l.qZA()()}if(2&c){const r=l.oxw();l.Q6J("matTooltip",r._intl.lastPageLabel)("matTooltipDisabled",r._nextButtonsDisabled())("matTooltipPosition","above")("disabled",r._nextButtonsDisabled()),l.uIk("aria-label",r._intl.lastPageLabel)}}let r_=(()=>{class c{constructor(){this.changes=new wr.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(r,h,A)=>{if(0==A||0==h)return`0 of ${A}`;const N=r*h;return`${N+1} \u2013 ${N<(A=Math.max(A,0))?Math.min(N+h,A):N+h} of ${A}`}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const Zv={provide:r_,deps:[[new l.FiY,new l.tp0,r_]],useFactory:function Iw(c){return c||new r_}},$m=new l.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),kw=(0,Un.Id)((0,Un.dB)(class{}));let Wv=(()=>{class c extends kw{get pageIndex(){return this._pageIndex}set pageIndex(r){this._pageIndex=Math.max((0,En.su)(r),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(r){this._length=(0,En.su)(r),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(r){this._pageSize=Math.max((0,En.su)(r),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(r){this._pageSizeOptions=(r||[]).map(h=>(0,En.su)(h)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(r){this._hidePageSize=(0,En.Ig)(r)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(r){this._showFirstLastButtons=(0,En.Ig)(r)}constructor(r,h,A){if(super(),this._intl=r,this._changeDetectorRef=h,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new l.vpe,this._intlChanges=r.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),A){const{pageSize:N,pageSizeOptions:re,hidePageSize:ve,showFirstLastButtons:Ke}=A;null!=N&&(this._pageSize=N),null!=re&&(this._pageSizeOptions=re),null!=ve&&(this._hidePageSize=ve),null!=Ke&&(this._showFirstLastButtons=Ke)}}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const r=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(r)}previousPage(){if(!this.hasPreviousPage())return;const r=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(r)}firstPage(){if(!this.hasPreviousPage())return;const r=this.pageIndex;this.pageIndex=0,this._emitPageEvent(r)}lastPage(){if(!this.hasNextPage())return;const r=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(r)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const r=this.getNumberOfPages()-1;return this.pageIndex<r&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(r){const A=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/r)||0,this.pageSize=r,this._emitPageEvent(A)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((r,h)=>r-h),this._changeDetectorRef.markForCheck())}_emitPageEvent(r){this.page.emit({previousPageIndex:r,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return c.\u0275fac=function(r){l.$Z()},c.\u0275dir=l.lG2({type:c,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[l.qOj]}),c})(),Pw=0,o_=(()=>{class c extends Wv{constructor(r,h,A){super(r,h,A),this._pageSizeLabelId="mat-paginator-page-size-label-"+Pw++,this._formFieldAppearance=A?.formFieldAppearance||"outline"}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(r_),l.Y36(l.sBO),l.Y36($m,8))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[l.qOj],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],["class","mat-mdc-paginator-page-size",4,"ngIf"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-page-size-label",3,"id"],["class","mat-mdc-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-mdc-paginator-page-size-value",4,"ngIf"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],["hideSingleSelectionIndicator","",3,"value","disabled","aria-labelledby","panelClass","disableOptionCentering","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-mdc-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(r,h){1&r&&(l.TgZ(0,"div",0)(1,"div",1),l.YNc(2,Dw,5,4,"div",2),l.TgZ(3,"div",3)(4,"div",4),l._uU(5),l.qZA(),l.YNc(6,Sw,3,5,"button",5),l.TgZ(7,"button",6),l.NdJ("click",function(){return h.previousPage()}),l.O4$(),l.TgZ(8,"svg",7),l._UZ(9,"path",8),l.qZA()(),l.kcU(),l.TgZ(10,"button",9),l.NdJ("click",function(){return h.nextPage()}),l.O4$(),l.TgZ(11,"svg",7),l._UZ(12,"path",10),l.qZA()(),l.YNc(13,Tw,3,5,"button",11),l.qZA()()()),2&r&&(l.xp6(2),l.Q6J("ngIf",!h.hidePageSize),l.xp6(3),l.hij(" ",h._intl.getRangeLabel(h.pageIndex,h.pageSize,h.length)," "),l.xp6(1),l.Q6J("ngIf",h.showFirstLastButtons),l.xp6(1),l.Q6J("matTooltip",h._intl.previousPageLabel)("matTooltipDisabled",h._previousButtonsDisabled())("matTooltipPosition","above")("disabled",h._previousButtonsDisabled()),l.uIk("aria-label",h._intl.previousPageLabel),l.xp6(3),l.Q6J("matTooltip",h._intl.nextPageLabel)("matTooltipDisabled",h._nextButtonsDisabled())("matTooltipPosition","above")("disabled",h._nextButtonsDisabled()),l.uIk("aria-label",h._intl.nextPageLabel),l.xp6(3),l.Q6J("ngIf",h.showFirstLastButtons))},dependencies:[Bi.sg,Bi.O5,Wc.RK,gu.KE,jm.gD,Un.ey,VC],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),c})(),Ow=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({providers:[Zv],imports:[Bi.ez,Wc.ot,jm.LD,Ew]}),c})();function qv(c,m){if(1&c&&(l.TgZ(0,"div",8),l._uU(1),l.qZA()),2&c){const r=m.$implicit;l.Q6J("title",r.properties["Secondary ID"]),l.xp6(1),l.hij(" ",r.properties["Primary ID"]," ")}}function Rw(c,m){if(1&c){const r=l.EpF();l.TgZ(0,"div",9),l.NdJ("click",function(A){const re=l.CHM(r).$implicit,ve=l.oxw(2);return l.KtG(ve.selectCluster(A,re))}),l._uU(1),l.qZA()}if(2&c){const r=m.$implicit;l.xp6(1),l.hij(" ",null==r.properties?null:r.properties.point_count," ")}}function s_(c,m){if(1&c&&(l.TgZ(0,"mgl-popup",10),l._UZ(1,"showcase-cluster-popup",11),l.qZA()),2&c){l.oxw();const r=l.MAs(2),h=l.oxw();l.Q6J("feature",h.selectedCluster),l.xp6(1),l.Q6J("clusterComponent",r)("selectedCluster",h.selectedCluster)}}function Fw(c,m){if(1&c&&(l.ynx(0),l._UZ(1,"mgl-geojson-source",2,3),l.TgZ(3,"mgl-markers-for-clusters",4),l.YNc(4,qv,2,2,"ng-template",5),l.YNc(5,Rw,2,1,"ng-template",6),l.qZA(),l.YNc(6,s_,2,3,"mgl-popup",7),l.BQk()),2&c){const r=l.oxw();l.xp6(1),l.Q6J("data",r.earthquakes)("cluster",!0)("clusterRadius",50)("clusterMaxZoom",14),l.xp6(5),l.Q6J("ngIf",r.selectedCluster)}}const Yv=function(){return[3]},Kv=function(c){return[c,40.66995747013945]};function Lw(c,m){if(1&c&&(l.TgZ(0,"mat-list-item"),l._uU(1),l.qZA()),2&c){const r=m.$implicit;l.xp6(1),l.hij(" ",r.properties["Primary ID"]," ")}}let Nw=(()=>{class c{ngOnInit(){var r=this;return xr(function*(){const h=yield H.e(45).then(H.t.bind(H,3045,19));setInterval(()=>{h.features.length&&h.features.pop(),r.earthquakes={...h}},500)})()}selectCluster(r,h){r.stopPropagation(),this.selectedCluster={geometry:h.geometry,properties:h.properties}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:8,consts:[[3,"zoom","center"],[4,"ngIf"],["id","earthquakes",3,"data","cluster","clusterRadius","clusterMaxZoom"],["clusterComponent",""],["source","earthquakes"],["mglPoint",""],["mglClusterPoint",""],[3,"feature",4,"ngIf"],[1,"marker",3,"title"],[1,"marker-cluster",3,"click"],[3,"feature"],[3,"clusterComponent","selectedCluster"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l.YNc(1,Fw,7,5,"ng-container",1),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(5,Yv))("center",l.VKq(6,Kv,-103.59179687498357)),l.xp6(1),l.Q6J("ngIf",h.earthquakes))},dependencies:function(){return[Bi.O5,hn,Gr,$,Ki,ws,ir,qn,zw,Ln]},styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".marker-cluster{width:30px;height:30px;border-radius:50%;background-color:#4f615a;display:flex;justify-content:center;align-items:center;color:#fff;border:2px solid #56c498;cursor:pointer}.marker[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;background-color:#7d7d7d;display:flex;justify-content:center;align-items:center;border:2px solid #c9c9c9}"]}),c})(),zw=(()=>{class c{ngOnChanges(r){this.changePage(),r.selectedCluster&&!r.selectedCluster.isFirstChange()&&this.paginator.firstPage()}changePage(r){var h=this;return xr(function*(){let A=0;r&&(A=5*r.pageIndex),h.leaves=yield h.clusterComponent.getClusterLeaves(h.selectedCluster.properties.cluster_id,5,A)})()}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-cluster-popup"]],viewQuery:function(r,h){if(1&r&&l.Gf(o_,7),2&r){let A;l.iGM(A=l.CRH())&&(h.paginator=A.first)}},inputs:{selectedCluster:"selectedCluster",clusterComponent:"clusterComponent"},features:[l.TTD],decls:3,vars:3,consts:[[4,"ngFor","ngForOf"],[3,"length","pageSize","page"]],template:function(r,h){1&r&&(l.TgZ(0,"mat-list"),l.YNc(1,Lw,2,1,"mat-list-item",0),l.qZA(),l.TgZ(2,"mat-paginator",1),l.NdJ("page",function(N){return h.changePage(N)}),l.qZA()),2&r&&(l.xp6(1),l.Q6J("ngForOf",h.leaves),l.xp6(1),l.Q6J("length",null==h.selectedCluster.properties?null:h.selectedCluster.properties.point_count)("pageSize",5))},dependencies:[Bi.sg,uC,gy,o_],encapsulation:2}),c})();function a_(c,m){if(1&c){const r=l.EpF();l.ynx(0),l.TgZ(1,"mgl-control")(2,"button",3),l.NdJ("click",function(){l.CHM(r);const A=l.oxw();return l.KtG(A.alert("Hello"))}),l._uU(3," Hello "),l.qZA()(),l._UZ(4,"mgl-control",4)(5,"mgl-control",5),l.TgZ(6,"mgl-control",6),l.NdJ("geolocate",function(A){l.CHM(r);const N=l.oxw();return l.KtG(N.onGeolocate(A))}),l.qZA(),l._UZ(7,"mgl-control",7)(8,"mgl-control",8),l.BQk()}}let Bw=(()=>{class c{constructor(){this.visible=!0}alert(r){alert(r)}onGeolocate(r){console.log("geolocate",r)}toggleControls(){this.visible=!this.visible}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:5,vars:4,consts:[[4,"ngIf"],["position","bottom-right"],["mat-flat-button","","color","accent",3,"click"],["mat-fab","","color","primary",1,"custom-control",3,"click"],["mglAttribution","","position","top-right"],["mglFullscreen","","position","top-right"],["mglGeolocate","","position","top-right",3,"geolocate"],["mglNavigation","","position","top-right"],["mglScale","","position","top-right"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map"),l.YNc(1,a_,9,0,"ng-container",0),l.TgZ(2,"mgl-control",1)(3,"button",2),l.NdJ("click",function(){return h.toggleControls()}),l._uU(4),l.qZA()()()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.xp6(1),l.Q6J("ngIf",h.visible),l.xp6(3),l.hij(" ",h.visible?"Hide Controls":"Show Controls"," "))},dependencies:[Bi.O5,hn,Tr,fe,kt,Ze,Wt,qi,Wc.lW,Wc.cs,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const Xv=function(){return[5]},bf=function(c,m){return[c,m]};let Vw=(()=>{class c{alert(r){alert(r)}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:7,vars:20,consts:[[3,"zoom","center"],[3,"lngLat"],[1,"marker",2,"background-image","url(https://placekitten.com/g/60/60/)","width","60px","height","60px",3,"click"],[1,"marker",2,"background-image","url(https://placekitten.com/g/50/50/)","width","50px","height","50px",3,"click"],[1,"marker",2,"background-image","url(https://placekitten.com/g/40/40/)","width","40px","height","40px",3,"click"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0)(1,"mgl-marker",1)(2,"div",2),l.NdJ("click",function(){return h.alert("Foo")}),l.qZA()(),l.TgZ(3,"mgl-marker",1)(4,"div",3),l.NdJ("click",function(){return h.alert("Bar")}),l.qZA()(),l.TgZ(5,"mgl-marker",1)(6,"div",4),l.NdJ("click",function(){return h.alert("Baz")}),l.qZA()()()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(7,Xv))("center",l.WLB(8,bf,-65.017,-16.457)),l.xp6(1),l.Q6J("lngLat",l.WLB(11,bf,-66.324462890625,-16.024695711685304)),l.xp6(2),l.Q6J("lngLat",l.WLB(14,bf,-61.2158203125,-15.97189158092897)),l.xp6(2),l.Q6J("lngLat",l.WLB(17,bf,-63.29223632812499,-18.28151823530889)))},dependencies:[hn,fi,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".marker[_ngcontent-%COMP%]{border:none;border-radius:50%;cursor:pointer;padding:0}"]}),c})();const Uw=function(){return[2]},Jv=function(){return[0,0]},jw=function(c){return{type:"Point",coordinates:c}};let Hw=(()=>{class c{constructor(){this.layerPaint={"circle-radius":10,"circle-color":"#3887be"},this.coordinates=[0,0]}onDragStart(r){console.log("onDragStart",r)}onDragEnd(r){console.log("onDragEnd",r)}onDrag(r){console.log("onDrag",r),this.coordinates=r.lngLat.toArray()}changeColor(r){this.layerPaint={...this.layerPaint,"circle-color":r}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:11,vars:14,consts:[[3,"zoom","center"],["id","point"],[3,"properties","geometry","mglDraggable","featureDragStart","featureDragEnd","featureDrag"],["id","point","type","circle","source","point",3,"paint","layerMouseEnter","layerMouseLeave"],["targetLayer",""],["position","bottom-left"],["appearance","outlined"]],template:function(r,h){if(1&r&&(l.TgZ(0,"mgl-map",0)(1,"mgl-geojson-source",1)(2,"mgl-feature",2),l.NdJ("featureDragStart",function(N){return h.onDragStart(N)})("featureDragEnd",function(N){return h.onDragEnd(N)})("featureDrag",function(N){return h.onDrag(N)}),l.qZA()(),l.TgZ(3,"mgl-layer",3,4),l.NdJ("layerMouseEnter",function(){return h.changeColor("#3bb2d0")})("layerMouseLeave",function(){return h.changeColor("#3887be")}),l.qZA(),l.TgZ(5,"mgl-control",5)(6,"mat-card",6)(7,"div"),l._uU(8),l.qZA(),l.TgZ(9,"div"),l._uU(10),l.qZA()()()()),2&r){const A=l.MAs(4);l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(9,Uw))("center",l.DdM(10,Jv)),l.xp6(2),l.Q6J("geometry",l.VKq(12,jw,l.DdM(11,Jv)))("mglDraggable",A),l.xp6(1),l.Q6J("paint",h.layerPaint),l.xp6(5),l.hij("Longitude:\xa0",h.coordinates[0],""),l.xp6(2),l.hij("Latitude:\xa0",h.coordinates[1],"")}},dependencies:[hn,ro,Zr,Gr,ga,Tr,hf,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const $w=function(){return[15]},Gw=function(c){return[c,37.830348]},Qv=function(){return{"line-join":"round","line-cap":"round"}},eb=function(){return{"line-color":"#888","line-width":8}};let Zw=(()=>{class c{constructor(){this.geometry={type:"LineString",coordinates:[[-122.48369693756104,37.83381888486939],[-122.48348236083984,37.83317489144141],[-122.48339653015138,37.83270036637107],[-122.48356819152832,37.832056363179625],[-122.48404026031496,37.83114119107971],[-122.48404026031496,37.83049717427869],[-122.48348236083984,37.829920943955045],[-122.48356819152832,37.82954808664175],[-122.48507022857666,37.82944639795659],[-122.48610019683838,37.82880236636284],[-122.48695850372314,37.82931081282506],[-122.48700141906738,37.83080223556934],[-122.48751640319824,37.83168351665737],[-122.48803138732912,37.832158048267786],[-122.48888969421387,37.83297152392784],[-122.48987674713133,37.83263257682617],[-122.49043464660643,37.832937629287755],[-122.49125003814696,37.832429207817725],[-122.49163627624512,37.832564787218985],[-122.49223709106445,37.83337825839438],[-122.49378204345702,37.83368330777276]]}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:4,vars:12,consts:[[3,"zoom","center"],["id","oneline"],[3,"geometry"],["id","route","type","line","source","oneline",3,"layout","paint"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0)(1,"mgl-geojson-source",1),l._UZ(2,"mgl-feature",2),l.qZA(),l._UZ(3,"mgl-layer",3),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(7,$w))("center",l.VKq(8,Gw,-122.486052)),l.xp6(2),l.Q6J("geometry",h.geometry),l.xp6(1),l.Q6J("layout",l.DdM(10,Qv))("paint",l.DdM(11,eb)))},dependencies:[hn,ro,Gr,ga,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})(),Ww=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:2,consts:[["mglScale","","unit","imperial","position","top-right"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map"),l._UZ(1,"mgl-control",0),l.qZA()),2&r&&l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL")},dependencies:[hn,Tr,qi,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const tb=function(){return[12]},qw=function(){return[11.39085,47.27574]};let Yw=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:4,vars:7,consts:[[3,"zoom","center","pitch"],["id","terrainSource","url","https://demotiles.maplibre.org/terrain-tiles/tiles.json","tileSize","256"],["mglNavigation","","showCompass","true","showZoom","true","visualizePitch","true"],["mglTerrain","","source","terrainSource","exaggeration","5","position","top-right"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-raster-dem-source",1)(2,"mgl-control",2)(3,"mgl-control",3),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/hybrid/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(5,tb))("center",l.DdM(6,qw))("pitch",52))},dependencies:[hn,ts,Tr,kt,nr,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();function Kw(c,m){if(1&c&&(l.TgZ(0,"mgl-popup",3),l._UZ(1,"span",4),l.qZA()),2&c){const r=l.oxw();l.Q6J("lngLat",r.selectedLngLat)("closeOnClick",!1),l.xp6(1),l.Q6J("innerHTML",null==r.selectedElement?null:r.selectedElement.name,l.oJD)}}const l_=function(){return[3]},c_=function(c){return[c,38.907]},d_=function(){return{type:"geojson",data:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_110m_admin_1_states_provinces_shp.geojson"}},Xw=function(){return{"fill-color":"rgba(200, 100, 240, 0.4)","fill-outline-color":"rgba(200, 100, 240, 1)"}};let Jw=(()=>{class c{onClick(r){this.selectedLngLat=r.lngLat,this.selectedElement=r.features[0].properties}onMapClick(){this.selectedElement=null}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:3,vars:13,consts:[[3,"zoom","center","cursorStyle","mapClick"],["id","states-layer","type","fill",3,"source","paint","layerMouseEnter","layerMouseLeave","layerClick"],[3,"lngLat","closeOnClick",4,"ngIf"],[3,"lngLat","closeOnClick"],[3,"innerHTML"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l.NdJ("mapClick",function(){return h.onMapClick()}),l.TgZ(1,"mgl-layer",1),l.NdJ("layerMouseEnter",function(){return h.cursorStyle="pointer"})("layerMouseLeave",function(){return h.cursorStyle=""})("layerClick",function(N){return h.onClick(N)}),l.qZA(),l.YNc(2,Kw,2,3,"mgl-popup",2),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(8,l_))("center",l.VKq(9,c_,-100.04))("cursorStyle",h.cursorStyle),l.xp6(1),l.Q6J("source",l.DdM(11,d_))("paint",l.DdM(12,Xw)),l.xp6(1),l.Q6J("ngIf",h.selectedElement&&h.selectedLngLat))},dependencies:[Bi.O5,hn,ro,$,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();function u_(c,m){if(1&c&&(l.TgZ(0,"mgl-popup",4),l._UZ(1,"span",5),l.qZA()),2&c){const r=l.oxw();l.Q6J("feature",r.selectedPoint),l.xp6(1),l.Q6J("innerHTML",null==r.selectedPoint.properties?null:r.selectedPoint.properties.description,l.oJD)}}const Qw=function(){return[11.15]},nb=function(c){return[c,38.907]},Nh=function(){return["get","icon"]},rb=function(c){return{"icon-image":c,"icon-allow-overlap":!0}};let e1=(()=>{class c{constructor(){this.points={type:"FeatureCollection",features:[{type:"Feature",properties:{description:'<strong>Make it Mount Pleasant</strong><p><a href="http://www.mtpleasantdc.com/makeitmtpleasant" target="_blank" title="Opens in a new window">Make it Mount Pleasant</a> is a handmade and vintage market and afternoon of live entertainment and kids activities. 12:00-6:00 p.m.</p>',icon:"theatre_15"},geometry:{type:"Point",coordinates:[-77.038659,38.931567]}},{type:"Feature",properties:{description:'<strong>Mad Men Season Five Finale Watch Party</strong><p>Head to Lounge 201 (201 Massachusetts Avenue NE) Sunday for a <a href="http://madmens5finale.eventbrite.com/" target="_blank" title="Opens in a new window">Mad Men Season Five Finale Watch Party</a>, complete with 60s costume contest, Mad Men trivia, and retro food and drink. 8:00-11:00 p.m. $10 general admission, $20 admission and two hour open bar.</p>',icon:"theatre_15"},geometry:{type:"Point",coordinates:[-77.003168,38.894651]}},{type:"Feature",properties:{description:'<strong>Big Backyard Beach Bash and Wine Fest</strong><p>EatBar (2761 Washington Boulevard Arlington VA) is throwing a <a href="http://tallulaeatbar.ticketleap.com/2012beachblanket/" target="_blank" title="Opens in a new window">Big Backyard Beach Bash and Wine Fest</a> on Saturday, serving up conch fritters, fish tacos and crab sliders, and Red Apron hot dogs. 12:00-3:00 p.m. $25.grill hot dogs.</p>',icon:"bar_15"},geometry:{type:"Point",coordinates:[-77.090372,38.881189]}},{type:"Feature",properties:{description:'<strong>Ballston Arts & Crafts Market</strong><p>The <a href="http://ballstonarts-craftsmarket.blogspot.com/" target="_blank" title="Opens in a new window">Ballston Arts & Crafts Market</a> sets up shop next to the Ballston metro this Saturday for the first of five dates this summer. Nearly 35 artists and crafters will be on hand selling their wares. 10:00-4:00 p.m.</p>',icon:"art_gallery_15"},geometry:{type:"Point",coordinates:[-77.111561,38.882342]}},{type:"Feature",properties:{description:'<strong>Seersucker Bike Ride and Social</strong><p>Feeling dandy? Get fancy, grab your bike, and take part in this year\'s <a href="http://dandiesandquaintrelles.com/2012/04/the-seersucker-social-is-set-for-june-9th-save-the-date-and-start-planning-your-look/" target="_blank" title="Opens in a new window">Seersucker Social</a> bike ride from Dandies and Quaintrelles. After the ride enjoy a lawn party at Hillwood with jazz, cocktails, paper hat-making, and more. 11:00-7:00 p.m.</p>',icon:"bicycle_15"},geometry:{type:"Point",coordinates:[-77.052477,38.943951]}},{type:"Feature",properties:{description:'<strong>Capital Pride Parade</strong><p>The annual <a href="http://www.capitalpride.org/parade" target="_blank" title="Opens in a new window">Capital Pride Parade</a> makes its way through Dupont this Saturday. 4:30 p.m. Free.</p>',icon:"star_15"},geometry:{type:"Point",coordinates:[-77.043444,38.909664]}},{type:"Feature",properties:{description:'<strong>Muhsinah</strong><p>Jazz-influenced hip hop artist <a href="http://www.muhsinah.com" target="_blank" title="Opens in a new window">Muhsinah</a> plays the <a href="http://www.blackcatdc.com">Black Cat</a> (1811 14th Street NW) tonight with <a href="http://www.exitclov.com" target="_blank" title="Opens in a new window">Exit Clov</a> and <a href="http://godsilla.bandcamp.com" target="_blank" title="Opens in a new window">Gods\u2019illa</a>. 9:00 p.m. $12.</p>',icon:"music_15"},geometry:{type:"Point",coordinates:[-77.031706,38.914581]}},{type:"Feature",properties:{description:'<strong>A Little Night Music</strong><p>The Arlington Players\' production of Stephen Sondheim\'s  <a href="http://www.thearlingtonplayers.org/drupal-6.20/node/4661/show" target="_blank" title="Opens in a new window"><em>A Little Night Music</em></a> comes to the Kogod Cradle at The Mead Center for American Theater (1101 6th Street SW) this weekend and next. 8:00 p.m.</p>',icon:"music_15"},geometry:{type:"Point",coordinates:[-77.020945,38.878241]}},{type:"Feature",properties:{description:'<strong>Truckeroo</strong><p><a href="http://www.truckeroodc.com/www/" target="_blank">Truckeroo</a> brings dozens of food trucks, live music, and games to half and M Street SE (across from Navy Yard Metro Station) today from 11:00 a.m. to 11:00 p.m.</p>',icon:"music_15"},geometry:{type:"Point",coordinates:[-77.007481,38.876516]}}]}}onClick(r){this.selectedPoint=r.features[0]}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:4,vars:14,consts:[[3,"zoom","center","cursorStyle"],["id","points",3,"data"],["id","points","source","points","type","symbol",3,"layout","layerClick","layerMouseEnter","layerMouseLeave"],[3,"feature",4,"ngIf"],[3,"feature"],[3,"innerHTML"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-geojson-source",1),l.TgZ(2,"mgl-layer",2),l.NdJ("layerClick",function(N){return h.onClick(N)})("layerMouseEnter",function(){return h.cursorStyle="pointer"})("layerMouseLeave",function(){return h.cursorStyle=""}),l.qZA(),l.YNc(3,u_,2,2,"mgl-popup",3),l.qZA()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(8,Qw))("center",l.VKq(9,nb,-77.04))("cursorStyle",h.cursorStyle),l.xp6(1),l.Q6J("data",h.points),l.xp6(1),l.Q6J("layout",l.VKq(12,rb,l.DdM(11,Nh))),l.xp6(1),l.Q6J("ngIf",h.selectedPoint))},dependencies:[Bi.O5,hn,ro,Gr,$,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const HC=function(){return[3]},xf=function(c){return[c,37.8]};let h_=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:4,vars:12,consts:[[3,"zoom","center"],[3,"lngLat","closeOnClick","className"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0)(1,"mgl-popup",1)(2,"h1"),l._uU(3,"Hello world !"),l.qZA()()()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(7,HC))("center",l.VKq(8,xf,-96)),l.xp6(1),l.Q6J("lngLat",l.VKq(10,xf,-96))("closeOnClick",!1)("className","custom-popup-class1 custom-popup-class2"))},dependencies:[hn,$,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".custom-popup-class1{color:purple;text-align:center}  .custom-popup-class2{width:300px}"]}),c})();const ob=function(){return{tileSize:512,type:"raster",url:"https://api.maptiler.com/tiles/satellite-v2/tiles.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"}},sb=function(c){return{satellite:c}},n1=function(){return{visibility:"visible"}},ab=function(){return{"raster-opacity":1}},m_=function(c,m){return{id:"satellite",layout:c,minzoom:0,paint:m,"raster-opacity":1,source:"satellite",type:"raster"}},lb=function(c){return[c]},cb=function(c,m){return{version:8,sources:c,layers:m}},db=function(){return[9]},ub=function(){return[137.9150899566626,36.25956997955441]};let r1=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:1,vars:19,consts:[[3,"zoom","center"]],template:function(r,h){1&r&&l._UZ(0,"mgl-map",0),2&r&&(l.Akn(l.WLB(14,cb,l.VKq(5,sb,l.DdM(4,ob)),l.VKq(12,lb,l.WLB(9,m_,l.DdM(7,n1),l.DdM(8,ab))))),l.Q6J("zoom",l.DdM(17,db))("center",l.DdM(18,ub)))},dependencies:[hn,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const o1=function(){return[15]},hb=function(c){return[c,38.8895]},mb=function(){return{"background-image":"url(https://maplibre.org/maplibre-gl-js-docs/assets/washington-monument.jpg)","background-size":"cover",width:"50px",height:"50px","border-radius":"50%",cursor:"pointer"}};let $C=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:6,vars:13,consts:[[3,"zoom","center"],[3,"lngLat"],["myMarker",""],[3,"ngStyle"],[3,"marker"]],template:function(r,h){if(1&r&&(l.TgZ(0,"mgl-map",0)(1,"mgl-marker",1,2),l._UZ(3,"div",3),l.qZA(),l.TgZ(4,"mgl-popup",4),l._uU(5," Construction on the Washington Monument began in 1848. "),l.qZA()()),2&r){const A=l.MAs(2);l.Akn("https://demotiles.maplibre.org/style.json"),l.Q6J("zoom",l.DdM(7,o1))("center",l.VKq(8,hb,-77.0353)),l.xp6(1),l.Q6J("lngLat",l.VKq(10,hb,-77.0353)),l.xp6(2),l.Q6J("ngStyle",l.DdM(12,mb)),l.xp6(1),l.Q6J("marker",A)}},dependencies:[Bi.PC,hn,fi,$,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const pb=["input"],a1=["*"];let fb=0;class l1{constructor(m,r){this.source=m,this.value=r}}const c1={provide:wa.JU,useExisting:(0,l.Gpc)(()=>xb),multi:!0},gb=new l.OlP("MatRadioGroup"),_b=new l.OlP("mat-radio-default-options",{providedIn:"root",factory:function yb(){return{color:"accent"}}});let vb=(()=>{class c{get name(){return this._name}set name(r){this._name=r,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(r){this._labelPosition="before"===r?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(r){this._value!==r&&(this._value=r,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(r){this._selected=r,this.value=r?r.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(r){this._disabled=(0,En.Ig)(r),this._markRadiosForCheck()}get required(){return this._required}set required(r){this._required=(0,En.Ig)(r),this._markRadiosForCheck()}constructor(r){this._changeDetector=r,this._value=null,this._name="mat-radio-group-"+fb++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new l.vpe}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(r=>{r.name=this.name,r._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(h=>{h.checked=this.value===h.value,h.checked&&(this._selected=h)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new l1(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(r=>r._markForCheck())}writeValue(r){this.value=r,this._changeDetector.markForCheck()}registerOnChange(r){this._controlValueAccessorChangeFn=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.disabled=r,this._changeDetector.markForCheck()}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.sBO))},c.\u0275dir=l.lG2({type:c,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),c})();class bb{constructor(m){this._elementRef=m}}const d1=(0,Un.Kr)((0,Un.sb)(bb));let u1=(()=>{class c extends d1{get checked(){return this._checked}set checked(r){const h=(0,En.Ig)(r);this._checked!==h&&(this._checked=h,h&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!h&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),h&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(r){this._value!==r&&(this._value=r,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===r),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(r){this._labelPosition=r}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(r){this._setDisabled((0,En.Ig)(r))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(r){this._required=(0,En.Ig)(r)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(r){this._color=r}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(r,h,A,N,re,ve,Ke,dt){super(h),this._changeDetector=A,this._focusMonitor=N,this._radioDispatcher=re,this._providerOverride=Ke,this._uniqueId="mat-radio-"+ ++fb,this.id=this._uniqueId,this.change=new l.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=r,this._noopAnimations="NoopAnimations"===ve,dt&&(this.tabIndex=(0,En.su)(dt,0))}focus(r,h){h?this._focusMonitor.focusVia(this._inputElement,h,r):this._inputElement.nativeElement.focus(r)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((r,h)=>{r!==this.id&&h===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(r=>{!r&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new l1(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(r){r.stopPropagation()}_onInputInteraction(r){if(r.stopPropagation(),!this.checked&&!this.disabled){const h=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),h&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(r){this._onInputInteraction(r),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(r){this._disabled!==r&&(this._disabled=r,this._changeDetector.markForCheck())}_updateTabIndex(){const r=this.radioGroup;let h;if(h=r&&r.selected&&!this.disabled?r.selected===this?this.tabIndex:-1:this.tabIndex,h!==this._previousTabIndex){const A=this._inputElement?.nativeElement;A&&(A.setAttribute("tabindex",h+""),this._previousTabIndex=h)}}}return c.\u0275fac=function(r){l.$Z()},c.\u0275dir=l.lG2({type:c,viewQuery:function(r,h){if(1&r&&l.Gf(pb,5),2&r){let A;l.iGM(A=l.CRH())&&(h._inputElement=A.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[l.qOj]}),c})(),xb=(()=>{class c extends vb{}return c.\u0275fac=function(){let m;return function(h){return(m||(m=l.n5z(c)))(h||c)}}(),c.\u0275dir=l.lG2({type:c,selectors:[["mat-radio-group"]],contentQueries:function(r,h,A){if(1&r&&l.Suo(A,wb,5),2&r){let N;l.iGM(N=l.CRH())&&(h._radios=N)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],exportAs:["matRadioGroup"],features:[l._Bn([c1,{provide:gb,useExisting:c}]),l.qOj]}),c})(),wb=(()=>{class c extends u1{constructor(r,h,A,N,re,ve,Ke,dt){super(r,h,A,N,re,ve,Ke,dt)}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(gb,8),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(ic.tE),l.Y36(Pm.A8),l.Y36(l.QbO,8),l.Y36(_b,8),l.$8M("tabindex"))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(r,h){1&r&&l.NdJ("focus",function(){return h._inputElement.nativeElement.focus()}),2&r&&(l.uIk("id",h.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),l.ekj("mat-primary","primary"===h.color)("mat-accent","accent"===h.color)("mat-warn","warn"===h.color)("mat-mdc-radio-checked",h.checked)("_mat-animation-noopable",h._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[l.qOj],ngContentSelectors:a1,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(r,h){if(1&r&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3),l.NdJ("click",function(N){return h._onTouchTargetClick(N)}),l.qZA(),l.TgZ(4,"input",4,5),l.NdJ("change",function(N){return h._onInputInteraction(N)}),l.qZA(),l.TgZ(6,"div",6),l._UZ(7,"div",7)(8,"div",8),l.qZA(),l.TgZ(9,"div",9),l._UZ(10,"div",10),l.qZA()(),l.TgZ(11,"label",11),l.Hsn(12),l.qZA()()),2&r){const A=l.MAs(1);l.ekj("mdc-form-field--align-end","before"==h.labelPosition),l.xp6(2),l.ekj("mdc-radio--disabled",h.disabled),l.xp6(2),l.Q6J("id",h.inputId)("checked",h.checked)("disabled",h.disabled)("required",h.required),l.uIk("name",h.name)("value",h.value)("aria-label",h.ariaLabel)("aria-labelledby",h.ariaLabelledby)("aria-describedby",h.ariaDescribedby),l.xp6(5),l.Q6J("matRippleTrigger",A)("matRippleDisabled",h._isRippleDisabled())("matRippleCentered",!0),l.xp6(2),l.Q6J("for",h.inputId)}},dependencies:[Un.wG],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{--mdc-radio-disabled-selected-icon-opacity:0.38;--mdc-radio-disabled-unselected-icon-opacity:0.38;--mdc-radio-state-layer-size:40px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0}),c})(),h1=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Un.BQ,Bi.ez,Un.si,Un.BQ]}),c})();const Cb=function(){return[13]},Gm=function(){return[4.899,52.372]};let Eb=(()=>{class c{constructor(){this.layerId="streets"}ngOnInit(){this.changeStyle(this.layerId)}changeStyle(r){this.style="streets"===r?"https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL":{version:8,sources:{raster:{type:"raster",tiles:["https://tile.openstreetmap.org/{z}/{x}/{y}.png"],minzoom:0,maxzoom:15,scheme:"xyz",tileSize:256}},layers:[{id:"some-raster-layer-id",type:"raster",source:"raster",layout:{visibility:"visible"},paint:{"raster-opacity":1}}]}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:6,vars:7,consts:[[3,"zoom","center"],[1,"radio-group",3,"ngModel","ngModelChange"],["value","streets"],["value","code"]],template:function(r,h){1&r&&(l._UZ(0,"mgl-map",0),l.TgZ(1,"mat-radio-group",1),l.NdJ("ngModelChange",function(N){return h.changeStyle(N)}),l.TgZ(2,"mat-radio-button",2),l._uU(3,"streets"),l.qZA(),l.TgZ(4,"mat-radio-button",3),l._uU(5,"from code"),l.qZA()()),2&r&&(l.Akn(h.style),l.Q6J("zoom",l.DdM(5,Cb))("center",l.DdM(6,Gm)),l.xp6(1),l.Q6J("ngModel",h.layerId))},dependencies:[wa.JJ,wa.On,hn,xb,wb,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".radio-group[_ngcontent-%COMP%]{position:absolute;padding:8px;background:#fff}"]}),c})();const Db=function(){return{tileSize:512,type:"raster",url:"https://api.maptiler.com/tiles/satellite-v2/tiles.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"}},Tb=function(){return{type:"raster-dem",url:"https://demotiles.maplibre.org/terrain-tiles/tiles.json",tileSize:256}},Ib=function(c,m){return{satelliteSource:c,terrainSource:m}},m1=function(){return{id:"satellite",type:"raster",source:"satelliteSource"}},GC=function(c){return[c]},Ab=function(){return{source:"terrainSource",exaggeration:1}},p1=function(c,m,r){return{version:8,sources:c,layers:m,terrain:r}},f1=function(){return[12]},g1=function(){return[11.39085,47.27574]};let _1=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:1,vars:20,consts:[[3,"zoom","center","pitch"]],template:function(r,h){1&r&&l._UZ(0,"mgl-map",0),2&r&&(l.Akn(l.kEZ(14,p1,l.WLB(7,Ib,l.DdM(5,Db),l.DdM(6,Tb)),l.VKq(11,GC,l.DdM(10,m1)),l.DdM(13,Ab))),l.Q6J("zoom",l.DdM(18,f1))("center",l.DdM(19,g1))("pitch",52))},dependencies:[hn,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const Zm=function(){return[12]},y1=function(){return[11.39085,47.27574]};let p_=(()=>{class c{constructor(){this.mapLibreExampleSource="https://api.maptiler.com/maps/hybrid/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL",this.terrainSpec={source:"terrainSource",exaggeration:1}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:2,vars:8,consts:[[3,"zoom","center","pitch","terrain"],["id","terrainSource","url","https://demotiles.maplibre.org/terrain-tiles/tiles.json","tileSize","256"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-raster-dem-source",1),l.qZA()),2&r&&(l.Akn(h.mapLibreExampleSource),l.Q6J("zoom",l.DdM(6,Zm))("center",l.DdM(7,y1))("pitch",52)("terrain",h.terrainSpec))},dependencies:[hn,ts,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})();const Dc=["button"],v1=["*"],Wm=new l.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),zh=new l.OlP("MatButtonToggleGroup");let kb=0;class Pb{constructor(m,r){this.source=m,this.value=r}}const Ob=(0,Un.Kr)(class{});let Rb=(()=>{class c extends Ob{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(r){this._appearance=r}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(r){const h=(0,En.Ig)(r);h!==this._checked&&(this._checked=h,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(r){this._disabled=(0,En.Ig)(r)}constructor(r,h,A,N,re,ve){super(),this._changeDetectorRef=h,this._elementRef=A,this._focusMonitor=N,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new l.vpe;const Ke=Number(re);this.tabIndex=Ke||0===Ke?Ke:null,this.buttonToggleGroup=r,this.appearance=ve&&ve.appearance?ve.appearance:"standard"}ngOnInit(){const r=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+kb++,r&&(r._isPrechecked(this)?this.checked=!0:r._isSelected(this)!==this._checked&&r._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const r=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),r&&r._isSelected(this)&&r._syncButtonToggle(this,!1,!1,!0)}focus(r){this._buttonElement.nativeElement.focus(r)}_onButtonClick(){const r=!!this._isSingleSelector()||!this._checked;r!==this._checked&&(this._checked=r,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new Pb(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(zh,8),l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(ic.tE),l.$8M("tabindex"),l.Y36(Wm,8))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-button-toggle"]],viewQuery:function(r,h){if(1&r&&l.Gf(Dc,5),2&r){let A;l.iGM(A=l.CRH())&&(h._buttonElement=A.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(r,h){1&r&&l.NdJ("focus",function(){return h.focus()}),2&r&&(l.uIk("aria-label",null)("aria-labelledby",null)("id",h.id)("name",null),l.ekj("mat-button-toggle-standalone",!h.buttonToggleGroup)("mat-button-toggle-checked",h.checked)("mat-button-toggle-disabled",h.disabled)("mat-button-toggle-appearance-standard","standard"===h.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[l.qOj],ngContentSelectors:v1,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(r,h){if(1&r&&(l.F$t(),l.TgZ(0,"button",0,1),l.NdJ("click",function(){return h._onButtonClick()}),l.TgZ(2,"span",2),l.Hsn(3),l.qZA()(),l._UZ(4,"span",3)(5,"span",4)),2&r){const A=l.MAs(1);l.Q6J("id",h.buttonId)("disabled",h.disabled||null),l.uIk("tabindex",h.disabled?-1:h.tabIndex)("aria-pressed",h.checked)("name",h._getButtonName())("aria-label",h.ariaLabel)("aria-labelledby",h.ariaLabelledby),l.xp6(5),l.Q6J("matRippleTrigger",A)("matRippleDisabled",h.disableRipple||h.disabled)}},dependencies:[Un.wG],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0}),c})(),x1=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Un.BQ,Un.si,Un.BQ]}),c})();const f_=function(){return[3]},w1=function(c,m){return[c,m]},Fb=function(){return["https://demotiles.maplibre.org/tiles/{z}/{x}/{y}.pbf"]},E1=function(){return{"line-color":"blue"}};let M1=(()=>{class c{constructor(){this.layouts={countries:{visibility:"none"},names:{visibility:"none","text-field":"{name:latin}","text-size":30}}}ngOnInit(){}toggleLayer(r){this.layouts[r.value]={...this.layouts[r.value],visibility:"visible"===this.layouts[r.value].visibility?"none":"visible"}}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:10,vars:16,consts:[[3,"zoom","center"],["id","countries",3,"tiles"],["id","everything","url","https://api.maptiler.com/tiles/v3/tiles.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"],["id","countries-layer","type","line","source","countries","sourceLayer","countries",3,"layout","paint"],["id","names","type","symbol","source","everything","sourceLayer","place",3,"layout"],[1,"menu"],["value","names",3,"checked","change"],["value","countries",3,"checked","change"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l._UZ(1,"mgl-vector-source",1)(2,"mgl-vector-source",2)(3,"mgl-layer",3)(4,"mgl-layer",4),l.qZA(),l.TgZ(5,"div",5)(6,"mat-button-toggle",6),l.NdJ("change",function(N){return h.toggleLayer(N)}),l._uU(7,"countries names"),l.qZA(),l.TgZ(8,"mat-button-toggle",7),l.NdJ("change",function(N){return h.toggleLayer(N)}),l._uU(9,"countries border"),l.qZA()()),2&r&&(l.Akn("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),l.Q6J("zoom",l.DdM(10,f_))("center",l.WLB(11,w1,-71.97722138410576,-13.517379300798098)),l.xp6(1),l.Q6J("tiles",l.DdM(14,Fb)),l.xp6(2),l.Q6J("layout",h.layouts.countries)("paint",l.DdM(15,E1)),l.xp6(1),l.Q6J("layout",h.layouts.names),l.xp6(2),l.Q6J("checked",!0),l.xp6(2),l.Q6J("checked",!0))},dependencies:[hn,ro,Ya,Rb,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}",".menu[_ngcontent-%COMP%]{position:absolute;padding:8px}"]}),c})();const Lb=function(){return[12]},Cf=function(c){return[c,38.897]},D1=function(){return{padding:20}},S1=function(){return{"line-color":"#BF93E4","line-width":5}},Nb=function(){return{"line-join":"round","line-cap":"round"}};let zb=(()=>{class c{constructor(){this.source={type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",properties:{},coordinates:[[-77.0366048812866,38.89873175227713],[-77.03364372253417,38.89876515143842],[-77.03364372253417,38.89549195896866],[-77.02982425689697,38.89549195896866],[-77.02400922775269,38.89387200688839],[-77.01519012451172,38.891416957534204],[-77.01521158218382,38.892068305429156],[-77.00813055038452,38.892051604275686],[-77.00832366943358,38.89143365883688],[-77.00818419456482,38.89082405874451],[-77.00815200805664,38.88989712255097]]}}]}}}zoomToBounds(){const r=this.source.data.features[0].geometry.coordinates;this.bounds=r.reduce((h,A)=>h.extend(A),new Rn.LngLatBounds(r[0],r[0]))}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["showcase-demo"]],decls:5,vars:15,consts:[[3,"zoom","center","fitBounds","fitBoundsOptions"],["mat-raised-button","",1,"zoom-button",3,"click"],["id","LineString","type","line",3,"source","paint","layout"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0)(1,"mgl-control")(2,"button",1),l.NdJ("click",function(){return h.zoomToBounds()}),l._uU(3," Zoom to bounds "),l.qZA()(),l._UZ(4,"mgl-layer",2),l.qZA()),2&r&&(l.Akn("https://demotiles.maplibre.org/style.json"),l.Q6J("zoom",l.DdM(9,Lb))("center",l.VKq(10,Cf,-77.0214))("fitBounds",h.bounds)("fitBoundsOptions",l.DdM(12,D1)),l.xp6(4),l.Q6J("source",h.source)("paint",l.DdM(13,S1))("layout",l.DdM(14,Nb)))},dependencies:[hn,ro,Tr,Wc.lW,qn,Ln],styles:["[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),c})(),Ef=(()=>{class c{constructor(r){this.router=r}canActivate(r){return!!Pf[0].children.some(h=>h.path===r.params.demoUrl)||(this.router.navigate(["/demo"]),!1)}}return c.\u0275fac=function(r){return new(r||c)(l.LFG(le.F0))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const Ub="https://stackblitz.com",jb=["angular-cli","create-react-app","html","javascript","node","polymer","typescript","vue"],I1=["project","search","ports","settings"],g_=["light","dark"],__=["editor","preview"],y_={clickToLoad:c=>Ad("ctl",c),devToolsHeight:c=>Hb("devtoolsheight",c),forceEmbedLayout:c=>Ad("embed",c),hideDevTools:c=>Ad("hidedevtools",c),hideExplorer:c=>Ad("hideExplorer",c),hideNavigation:c=>Ad("hideNavigation",c),openFile:c=>$b("file",c),showSidebar:c=>function A1(c,m){return"boolean"==typeof m?`${c}=${m?"1":"0"}`:""}("showSidebar",c),sidebarView:c=>v_("sidebarView",c,I1),startScript:c=>$b("startScript",c),terminalHeight:c=>Hb("terminalHeight",c),theme:c=>v_("theme",c,g_),view:c=>v_("view",c,__),zenMode:c=>Ad("zenMode",c)};function Mf(c={}){const m=Object.entries(c).map(([r,h])=>null!=h&&y_.hasOwnProperty(r)?y_[r](h):"").filter(Boolean);return m.length?`?${m.join("&")}`:""}function Ad(c,m){return!0===m?`${c}=1`:""}function Hb(c,m){if("number"==typeof m&&!Number.isNaN(m)){const r=Math.min(100,Math.max(0,m));return`${c}=${encodeURIComponent(Math.round(r))}`}return""}function v_(c,m="",r=[]){return r.includes(m)?`${c}=${encodeURIComponent(m)}`:""}function $b(c,m){return(Array.isArray(m)?m:[m]).filter(h=>"string"==typeof h&&""!==h.trim()).map(h=>`${c}=${encodeURIComponent(h)}`).join("&")}function b_(){return Math.random().toString(36).slice(2,6)+Math.random().toString(36).slice(2,6)}function Df(c,m){const r={forceEmbedLayout:!0};return m&&"object"==typeof m&&Object.assign(r,m),`${x_(r)}${c}${Mf(r)}`}function x_(c={}){return("string"==typeof c.origin?c.origin:Ub).replace(/\/$/,"")}function Sf(c,m,r){if(!m||!c||!c.parentNode)throw new Error("Invalid Element");c.id&&(m.id=c.id),c.className&&(m.className=c.className),function Gb(c,m={}){const r=Object.hasOwnProperty.call(m,"height")?`${m.height}`:"300",h=Object.hasOwnProperty.call(m,"width")?`${m.width}`:void 0;c.setAttribute("height",r),h?c.setAttribute("width",h):c.setAttribute("style","width:100%;")}(m,r),c.replaceWith(m)}function Tf(c){if("string"==typeof c){const m=document.getElementById(c);if(!m)throw new Error(`Could not find element with id '${c}'`);return m}if(c instanceof HTMLElement)return c;throw new Error(`Invalid element: ${c}`)}class Zb{constructor(m){this.pending={},this.port=m,this.port.onmessage=this.messageListener.bind(this)}request({type:m,payload:r}){return new Promise((h,A)=>{const N=b_();this.pending[N]={resolve:h,reject:A},this.port.postMessage({type:m,payload:{...r,__reqid:N}})})}messageListener(m){if("string"!=typeof m.data.payload?.__reqid)return;const{type:r,payload:h}=m.data,{__reqid:A,__success:N,__error:re}=h;this.pending[A]&&(N?this.pending[A].resolve(this.cleanResult(h)):this.pending[A].reject(re?`${r}: ${re}`:r),delete this.pending[A])}cleanResult(m){const r={...m};return delete r.__reqid,delete r.__success,delete r.__error,Object.keys(r).length?r:null}}class k1{constructor(m,r){this.editor={openFile:h=>this._rdc.request({type:"SDK_OPEN_FILE",payload:{path:h}}),setCurrentFile:h=>this._rdc.request({type:"SDK_SET_CURRENT_FILE",payload:{path:h}}),setTheme:h=>this._rdc.request({type:"SDK_SET_UI_THEME",payload:{theme:h}}),setView:h=>this._rdc.request({type:"SDK_SET_UI_VIEW",payload:{view:h}}),showSidebar:(h=!0)=>this._rdc.request({type:"SDK_TOGGLE_SIDEBAR",payload:{visible:h}})},this.preview={origin:"",getUrl:()=>this._rdc.request({type:"SDK_GET_PREVIEW_URL",payload:{}}).then(h=>h?.url??null),setUrl:(h="/")=>{if("string"!=typeof h||!h.startsWith("/"))throw new Error(`Invalid argument: expected a path starting with '/', got '${h}'`);return this._rdc.request({type:"SDK_SET_PREVIEW_URL",payload:{path:h}})}},this._rdc=new Zb(m),Object.defineProperty(this.preview,"origin",{value:"string"==typeof r.previewOrigin?r.previewOrigin:null,writable:!1})}applyFsDiff(m){const r=h=>null!==h&&"object"==typeof h;if(!r(m)||!r(m.create))throw new Error("Invalid diff object: expected diff.create to be an object.");if(!Array.isArray(m.destroy))throw new Error("Invalid diff object: expected diff.destroy to be an array.");return this._rdc.request({type:"SDK_APPLY_FS_DIFF",payload:m})}getDependencies(){return this._rdc.request({type:"SDK_GET_DEPS_SNAPSHOT",payload:{}})}getFsSnapshot(){return this._rdc.request({type:"SDK_GET_FS_SNAPSHOT",payload:{}})}}const Ym=[];class Wb{constructor(m){this.id=b_(),this.element=m,this.pending=new Promise((r,h)=>{const A=({data:dt,ports:jt})=>{"SDK_INIT_SUCCESS"===dt?.action&&dt.id===this.id&&(this.vm=new k1(jt[0],dt.payload),r(this.vm),re())},N=()=>{this.element.contentWindow?.postMessage({action:"SDK_INIT",id:this.id},"*")};function re(){window.clearInterval(Ke),window.removeEventListener("message",A)}window.addEventListener("message",A),N();let ve=0;const Ke=window.setInterval(()=>{if(!this.vm)return ve>=20?(re(),h("Timeout: Unable to establish a connection with the StackBlitz VM"),void Ym.forEach((dt,jt)=>{dt.id===this.id&&Ym.splice(jt,1)})):(ve++,void N());re()},500)}),Ym.push(this)}}function qb({template:c,title:m,description:r,dependencies:h,files:A,settings:N}){if(!jb.includes(c)){const dt=jb.map(jt=>`'${jt}'`).join(", ");console.warn(`Unsupported project.template: must be one of ${dt}`)}const re=[],ve=(dt,jt,qt="")=>{re.push(function Bh(c,m){const r=document.createElement("input");return r.type="hidden",r.name=c,r.value=m,r}(dt,"string"==typeof jt?jt:qt))};ve("project[title]",m),"string"==typeof r&&r.length>0&&ve("project[description]",r),ve("project[template]",c,"javascript"),h&&("node"===c?console.warn("Invalid project.dependencies: dependencies must be provided as a 'package.json' file when using the 'node' template."):ve("project[dependencies]",JSON.stringify(h))),N&&ve("project[settings]",JSON.stringify(N)),Object.entries(A).forEach(([dt,jt])=>{ve(`project[files][${function P1(c){return c.replace(/\[/g,"%5B").replace(/\]/g,"%5D")}(dt)}]`,jt)});const Ke=document.createElement("form");return Ke.method="POST",Ke.setAttribute("style","display:none!important;"),Ke.append(...re),Ke}function Km(c){return c?.contentWindow?((c=>{const m=c instanceof Element?"element":"id";return Ym.find(r=>r[m]===c)??null})(c)??new Wb(c)).pending:Promise.reject("Provided element is not an iframe.")}const F1_embedProject=function E_(c,m,r){const h=Tf(c),A=function ZC(c,m){const r=qb(c);return r.action=Df("/run",m),r.id="sb_run",`<!doctype html>\n<html>\n<head><title></title></head>\n<body>\n  ${r.outerHTML}\n  <script>document.getElementById('${r.id}').submit();<\/script>\n</body>\n</html>`}(m,r),N=document.createElement("iframe");return Sf(h,N,r),N.contentDocument?.write(A),Km(N)};var M_=H(9315),Kb=H(2096),D_=H(7715),If=H(940),L1=H(4716);function Af(c){return c.replace(/(^\w|-\w)/g,S_)}function S_(c){return c.replace(/-/,"").toUpperCase()}var kf=H(9862);const Xb="app/demo/examples/";let Jb=(()=>{class c{constructor(r){this.http=r,this.fileCache=new Map,this.loadFile("example.css")}getDemoFiles(r){let h=this.fileCache.get(r);return h||(h=this.http.get(`${Xb}${r}.component.ts`,{responseType:"text"}).pipe((0,ms.w)(A=>this.loadAdditionnalFilesIfNecessary(A)),(0,If.d)(1)),this.fileCache.set(r,h),h)}loadAdditionnalFilesIfNecessary(r){const h=/'\.\/([\w-.]+\.\w+)'/g;let A;const N=[],re={"src/demo.ts":r};for(;A=h.exec(r);)N.push(this.loadFile(A[1]));return N.length?(0,M_.D)(N).pipe((0,Zo.U)(ve=>({...Object.assign({},...ve),...re}))):(0,Kb.of)(re)}loadFile(r){let h=this.fileCache.get(r);return h||(h=this.http.get(`${Xb}${r}`,{responseType:"text"}).pipe((0,Zo.U)(A=>({[`src/${r}`]:A})),(0,If.d)(1)),this.fileCache.set(r,h),h)}}return c.\u0275fac=function(r){return new(r||c)(l.LFG(kf.eN))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const Vh=["determinateSpinner"];function N1(c,m){if(1&c&&(l.O4$(),l.TgZ(0,"svg",11),l._UZ(1,"circle",12),l.qZA()),2&c){const r=l.oxw();l.uIk("viewBox",r._viewBox()),l.xp6(1),l.Udp("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeCircumference()/2,"px")("stroke-width",r._circleStrokeWidth(),"%"),l.uIk("r",r._circleRadius())}}const Qb=(0,Un.pj)(class{constructor(c){this._elementRef=c}},"primary"),T_=new l.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function YC(){return{diameter:e0}}}),e0=100;let z1=(()=>{class c extends Qb{constructor(r,h,A){super(r),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=e0,this._noopAnimations="NoopAnimations"===h&&!!A&&!A._forceAnimations,A&&(A.color&&(this.color=this.defaultColor=A.color),A.diameter&&(this.diameter=A.diameter),A.strokeWidth&&(this.strokeWidth=A.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(r){this._value=Math.max(0,Math.min(100,(0,En.su)(r)))}get diameter(){return this._diameter}set diameter(r){this._diameter=(0,En.su)(r)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(r){this._strokeWidth=(0,En.su)(r)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const r=2*this._circleRadius()+this.strokeWidth;return`0 0 ${r} ${r}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.SBq),l.Y36(l.QbO,8),l.Y36(T_))},c.\u0275cmp=l.Xpm({type:c,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(r,h){if(1&r&&l.Gf(Vh,5),2&r){let A;l.iGM(A=l.CRH())&&(h._determinateCircle=A.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(r,h){2&r&&(l.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===h.mode?h.value:null)("mode",h.mode),l.Udp("width",h.diameter,"px")("height",h.diameter,"px")("--mdc-circular-progress-size",h.diameter+"px")("--mdc-circular-progress-active-indicator-width",h.diameter+"px"),l.ekj("_mat-animation-noopable",h._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===h.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[l.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(r,h){if(1&r&&(l.YNc(0,N1,2,8,"ng-template",null,0,l.W1O),l.TgZ(2,"div",1,2),l.O4$(),l.TgZ(4,"svg",3),l._UZ(5,"circle",4),l.qZA()(),l.kcU(),l.TgZ(6,"div",5)(7,"div",6)(8,"div",7),l.GkF(9,8),l.qZA(),l.TgZ(10,"div",9),l.GkF(11,8),l.qZA(),l.TgZ(12,"div",10),l.GkF(13,8),l.qZA()()()),2&r){const A=l.MAs(1);l.xp6(4),l.uIk("viewBox",h._viewBox()),l.xp6(1),l.Udp("stroke-dasharray",h._strokeCircumference(),"px")("stroke-dashoffset",h._strokeDashOffset(),"px")("stroke-width",h._circleStrokeWidth(),"%"),l.uIk("r",h._circleRadius()),l.xp6(4),l.Q6J("ngTemplateOutlet",A),l.xp6(2),l.Q6J("ngTemplateOutlet",A),l.xp6(2),l.Q6J("ngTemplateOutlet",A)}},dependencies:[Bi.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),c})(),B1=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Bi.ez,Un.BQ]}),c})();const t0=["container"];function n0(c,m){1&c&&(l.TgZ(0,"div",2),l._UZ(1,"mat-spinner")(2,"div"),l.qZA())}let V1=(()=>{class c{constructor(r,h,A,N,re){this.zone=r,this.activatedRoute=h,this.demoFileLoaderService=A,this.http=N,this.ChangeDetectorRef=re,this.loading=!0,this.projectbase$=(0,M_.D)([this.http.get("assets/stackblitz/main.notts",{responseType:"text"}),this.http.get("assets/stackblitz/angular.json",{responseType:"text"})]).pipe((0,If.d)(1))}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}ngAfterViewInit(){this.sub=this.activatedRoute.params.pipe((0,Gl.b)(()=>{this.loading=!0,this.ChangeDetectorRef.markForCheck()}),(0,ms.w)(r=>(0,M_.D)([this.projectbase$,this.demoFileLoaderService.getDemoFiles(r.demoUrl),(0,Kb.of)(r.demoUrl)])),(0,ms.w)(([r,h,A])=>(0,D_.D)(this.openExample(r,h,A)).pipe((0,L1.x)(()=>{this.loading=!1,this.ChangeDetectorRef.markForCheck()})))).subscribe()}openExample(r,h,A){var N=this;return xr(function*(){if(N.vm)return void(yield N.vm.applyFsDiff({create:h,destroy:[]}));const re=function qC(c,m,r){return{files:{"src/main.ts":c[0].replace(/###/g,Af(r)+"Component"),"angular.json":c[1],"src/index.html":"<showcase-demo></showcase-demo>","src/styles.css":"\nhtml, body {\n  display: flex;\n  flex: 1;\n  min-height: 100vh;\n  margin: 0;\n}\n","src/polyfills.ts":"\nimport 'zone.js';\n(window as any).global = window;\n",...m},title:"",description:"",template:"angular-cli",dependencies:{tslib:"*","maplibre-gl":"*","@maplibre/maplibre-gl-style-spec":"*","@maplibre/ngx-maplibre-gl":"*","@angular/cdk":"^16","@angular/material":"^16","@angular/animations":"^16","@angular/forms":"^16","@angular/common":"^16","@angular/compiler":"^16","@angular/core":"^16","@angular/platform-browser":"^16","@angular/platform-browser-dynamic":"^16","@angular/router":"^16",url:"*",querystring:"*",events:"*","@types/supercluster":"*","@types/geojson":"*"}}}(r,h,A);yield N.zone.runOutsideAngular(xr(function*(){N.vm=yield F1_embedProject(N.stackblitzContainer.nativeElement,re,{hideExplorer:!0,hideNavigation:!0,forceEmbedLayout:!0,openFile:"src/demo.ts"})}))})()}}return c.\u0275fac=function(r){return new(r||c)(l.Y36(l.R0b),l.Y36(le.gz),l.Y36(Jb),l.Y36(kf.eN),l.Y36(l.sBO))},c.\u0275cmp=l.Xpm({type:c,selectors:[["ng-component"]],viewQuery:function(r,h){if(1&r&&l.Gf(t0,5),2&r){let A;l.iGM(A=l.CRH())&&(h.stackblitzContainer=A.first)}},decls:3,vars:1,consts:[["container",""],["class","loader",4,"ngIf"],[1,"loader"]],template:function(r,h){1&r&&(l._UZ(0,"div",null,0),l.YNc(2,n0,3,0,"div",1)),2&r&&(l.xp6(2),l.Q6J("ngIf",h.loading))},dependencies:[Bi.O5,z1],styles:["[_nghost-%COMP%]{display:flex;flex:1;position:relative}[_nghost-%COMP%]     iframe{height:100%;width:100%;border:0}.loader[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}"],changeDetection:0}),c})();var on=(()=>((on=on||{}).STYLES="Styles",on.LAYERS="Layers",on.SOURCES="Sources",on.USER_INTERACTION="User interaction",on.CAMERA="Camera",on.CONTROLS_AND_OVERLAYS="Controls and overlays",on.TERRAIN="3D Terrain",on))();const Pf=[{path:"",component:nf,children:[{path:"edit/:demoUrl",component:V1,canActivate:[Ef]},{path:"display-map",component:oc,data:{label:"Display a map",cat:on.STYLES}},{path:"custom-style-id",component:EC,data:{label:"Display a map with a custom style",cat:on.STYLES}},{path:"set-style",component:Eb,data:{label:"Change a map's style",cat:on.STYLES}},{path:"satellite-map",component:r1,data:{label:"Display a satellite map",cat:on.STYLES}},{path:"add-image-generated",component:mx,data:{label:"Add a generated icon to the map",cat:on.LAYERS}},{path:"add-image",component:Bg,data:{label:"Add an icon to the map",cat:on.LAYERS}},{path:"toggle-layers",component:M1,data:{label:"Show and hide layers",cat:on.LAYERS}},{path:"3d-buildings",component:rf,data:{label:"Display 3d buildings",cat:on.LAYERS}},{path:"cluster",component:ev,data:{label:"Create and style clusters",cat:on.LAYERS}},{path:"heatmap",component:rw,data:{label:"Create a heatmap layer",cat:on.LAYERS}},{path:"geojson-line",component:Tv,data:{label:"Add a GeoJSON line",cat:on.LAYERS}},{path:"ngx-geojson-line",component:Zw,data:{label:"[NGX] Add a GeoJSON line",cat:on.LAYERS}},{path:"custom-marker-icons",component:ov,data:{label:"Add custom icons with Markers",cat:on.CONTROLS_AND_OVERLAYS}},{path:"ngx-custom-marker-icons",component:Vw,data:{label:"[NGX] Add custom icons with Markers",cat:on.CONTROLS_AND_OVERLAYS}},{path:"live-update-feature",component:gf,data:{label:"Update a feature in realtime",cat:on.SOURCES}},{path:"live-update-image-source",component:Lv,data:{label:"Update an image source in realtime",cat:on.SOURCES}},{path:"popup",component:h_,data:{label:"Display a popup",cat:on.CONTROLS_AND_OVERLAYS}},{path:"set-popup",component:$C,data:{label:"Attach a popup to a marker instance",cat:on.CONTROLS_AND_OVERLAYS}},{path:"fullscreen",component:pv,data:{label:"View a fullscreen map",cat:on.CONTROLS_AND_OVERLAYS}},{path:"navigation",component:gw,data:{label:"Display map navigation controls",cat:on.CONTROLS_AND_OVERLAYS}},{path:"locate-user",component:zv,data:{label:"Locate the user",cat:on.CONTROLS_AND_OVERLAYS}},{path:"attribution-position",component:Ug,data:{label:"Change the default position for attribution",cat:on.CONTROLS_AND_OVERLAYS}},{path:"ngx-scale-control",component:Ww,data:{label:"[NGX] Show scale information",cat:on.CONTROLS_AND_OVERLAYS}},{path:"ngx-custom-control",component:Bw,data:{label:"[NGX] Add a custom control",cat:on.CONTROLS_AND_OVERLAYS}},{path:"interactive-false",component:wn,data:{label:"Display a non-interactive map",cat:on.USER_INTERACTION}},{path:"language-switch",component:lw,data:{label:"Change a map's language",cat:on.USER_INTERACTION}},{path:"center-on-symbol",component:Gy,data:{label:"Center the map on a clicked symbol",cat:on.USER_INTERACTION}},{path:"ngx-drag-a-point",component:Hw,data:{label:"[NGX] Create a draggable point",cat:on.USER_INTERACTION}},{path:"drag-a-marker",component:Vx,data:{label:"Create a draggable marker",cat:on.USER_INTERACTION}},{path:"hover-styles",component:Pv,data:{label:"Create a hover effect",cat:on.USER_INTERACTION}},{path:"popup-on-click",component:e1,data:{label:"Display a popup on click",cat:on.CONTROLS_AND_OVERLAYS}},{path:"zoomto-linestring",component:zb,data:{label:"Fit to the bounds of a LineString",cat:on.USER_INTERACTION}},{path:"cluster-html",component:Yy,data:{label:"Display HTML clusters with custom properties",cat:on.LAYERS}},{path:"ngx-cluster-html",component:Nw,data:{label:"[NGX] Display HTML clusters with custom properties",cat:on.LAYERS}},{path:"polygon-popup-on-click",component:Jw,data:{label:"Show polygon information on click",cat:on.CONTROLS_AND_OVERLAYS}},{path:"add-image-missing-generated",component:yx,data:{label:"Generate and add a missing icon to the map",cat:on.STYLES}},{path:"custom-attribution",component:kx,data:{label:"Add custom attributions",cat:on.CONTROLS_AND_OVERLAYS}},{path:"custom-locale",component:nv,data:{label:"Add custom localization for controls",cat:on.CONTROLS_AND_OVERLAYS}},{path:"marker-alignment",component:Um,data:{label:"Marker alignment options",cat:on.CAMERA}},{path:"terrain-style",component:_1,data:{label:"Initialize 3D Terrain using style",cat:on.TERRAIN}},{path:"terrain-control",component:Yw,data:{label:"Terrain Control",cat:on.TERRAIN}},{path:"terrain",component:p_,data:{label:"[NGX] Initialize 3D Terrain declaratively",cat:on.TERRAIN}},{path:"**",redirectTo:"display-map"}]}],U1=function(){return[2]},r0=[{path:"",component:(()=>{class c{constructor(){this.center=[0,0],this.panToOptions={duration:1e4,easing:r=>r}}moveCenter(){if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;const r=this.center[0];0===r?this.center=[90,0]:90===r?this.center=[180,0]:180===r?this.center=[-90,0]:-90===r&&(this.center=[0,0])}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=l.Xpm({type:c,selectors:[["ng-component"]],decls:5,vars:8,consts:[[3,"zoom","center","centerWithPanTo","panToOptions","interactive","mapLoad","moveEnd"],[1,"main"],["svgIcon","ngx-maplibre-gl-red",1,"logo"]],template:function(r,h){1&r&&(l.TgZ(0,"mgl-map",0),l.NdJ("mapLoad",function(){return h.moveCenter()})("moveEnd",function(){return h.moveCenter()}),l.qZA(),l.TgZ(1,"div",1),l._UZ(2,"mat-icon",2),l.TgZ(3,"h1"),l._uU(4,"Angular binding of maplibre-gl-js"),l.qZA()()),2&r&&(l.Akn("https://demotiles.maplibre.org/style.json"),l.Q6J("zoom",l.DdM(7,U1))("center",h.center)("centerWithPanTo",!0)("panToOptions",h.panToOptions)("interactive",!1))},dependencies:[hn,je.Hw],styles:["[_nghost-%COMP%]{display:flex;flex:1;position:relative}.main[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;pointer-events:none}.logo[_ngcontent-%COMP%]{width:150px;height:150px}mgl-map[_ngcontent-%COMP%]{flex:1}"]}),c})(),pathMatch:"full"}],o0=[{path:"",component:H(2627).$,children:[{path:"demo",children:Pf},...r0,{path:"doc",loadChildren:()=>H.e(257).then(H.bind(H,3257)).then(c=>c.DocModule)}]},{path:"**",redirectTo:""}];let s0=(()=>{class c{constructor(r,h){r.addSvgIcon("ngx-maplibre-gl",h.bypassSecurityTrustResourceUrl("assets/ngx-maplibre-gl.svg")),r.addSvgIcon("ngx-maplibre-gl-red",h.bypassSecurityTrustResourceUrl("assets/ngx-maplibre-gl-red.svg")),r.addSvgIcon("github",h.bypassSecurityTrustResourceUrl("assets/github.svg"))}}return c.\u0275fac=function(r){return new(r||c)(l.LFG(je.jv),l.LFG(C.H7))},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[C.b2,Hr,je.Ps,le.Bz.forRoot(o0,{}),Wa,Ka.x]}),c})(),a0=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({providers:[Ef],imports:[le.Bz,kf.JF,Bi.ez,wa.u5,Wa,Ka.x,h1,x1,Wc.ot,Y0,dv,B1,Cy,je.Ps,My,Ow,bC]}),c})(),l0=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c}),c.\u0275inj=l.cJS({imports:[Wa,je.Ps]}),c})(),H1=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=l.oAB({type:c,bootstrap:[v]}),c.\u0275inj=l.cJS({imports:[le.Bz,s0,l0,a0]}),c})();(0,l.G48)(),C.q6().bootstrapModule(H1).catch(c=>console.log(c))},5619:(_i,pt,H)=>{"use strict";H.d(pt,{X:()=>l});var C=H(8645);class l extends C.x{constructor(v){super(),this._value=v}get value(){return this.getValue()}_subscribe(v){const je=super._subscribe(v);return!je.closed&&v.next(this._value),je}getValue(){const{hasError:v,thrownError:je,_value:ne}=this;if(v)throw je;return this._throwIfClosed(),ne}next(v){super.next(this._value=v)}}},5592:(_i,pt,H)=>{"use strict";H.d(pt,{y:()=>Oe});var C=H(305),l=H(7394),le=H(4850),v=H(8407),je=H(2653),ne=H(4674),He=H(1441);let Oe=(()=>{class Fe{constructor(Xe){Xe&&(this._subscribe=Xe)}lift(Xe){const ct=new Fe;return ct.source=this,ct.operator=Xe,ct}subscribe(Xe,ct,bt){const Vt=function nt(Fe){return Fe&&Fe instanceof C.Lv||function Ve(Fe){return Fe&&(0,ne.m)(Fe.next)&&(0,ne.m)(Fe.error)&&(0,ne.m)(Fe.complete)}(Fe)&&(0,l.Nn)(Fe)}(Xe)?Xe:new C.Hp(Xe,ct,bt);return(0,He.x)(()=>{const{operator:oi,source:Ti}=this;Vt.add(oi?oi.call(Vt,Ti):Ti?this._subscribe(Vt):this._trySubscribe(Vt))}),Vt}_trySubscribe(Xe){try{return this._subscribe(Xe)}catch(ct){Xe.error(ct)}}forEach(Xe,ct){return new(ct=Ge(ct))((bt,Vt)=>{const oi=new C.Hp({next:Ti=>{try{Xe(Ti)}catch(Yt){Vt(Yt),oi.unsubscribe()}},error:Vt,complete:bt});this.subscribe(oi)})}_subscribe(Xe){var ct;return null===(ct=this.source)||void 0===ct?void 0:ct.subscribe(Xe)}[le.L](){return this}pipe(...Xe){return(0,v.U)(Xe)(this)}toPromise(Xe){return new(Xe=Ge(Xe))((ct,bt)=>{let Vt;this.subscribe(oi=>Vt=oi,oi=>bt(oi),()=>ct(Vt))})}}return Fe.create=et=>new Fe(et),Fe})();function Ge(Fe){var et;return null!==(et=Fe??je.config.Promise)&&void 0!==et?et:Promise}},8645:(_i,pt,H)=>{"use strict";H.d(pt,{x:()=>He});var C=H(5592),l=H(7394);const v=(0,H(2306).d)(Ge=>function(){Ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var je=H(9039),ne=H(1441);let He=(()=>{class Ge extends C.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(nt){const Fe=new Oe(this,this);return Fe.operator=nt,Fe}_throwIfClosed(){if(this.closed)throw new v}next(nt){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Fe of this.currentObservers)Fe.next(nt)}})}error(nt){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=nt;const{observers:Fe}=this;for(;Fe.length;)Fe.shift().error(nt)}})}complete(){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:nt}=this;for(;nt.length;)nt.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var nt;return(null===(nt=this.observers)||void 0===nt?void 0:nt.length)>0}_trySubscribe(nt){return this._throwIfClosed(),super._trySubscribe(nt)}_subscribe(nt){return this._throwIfClosed(),this._checkFinalizedStatuses(nt),this._innerSubscribe(nt)}_innerSubscribe(nt){const{hasError:Fe,isStopped:et,observers:Xe}=this;return Fe||et?l.Lc:(this.currentObservers=null,Xe.push(nt),new l.w0(()=>{this.currentObservers=null,(0,je.P)(Xe,nt)}))}_checkFinalizedStatuses(nt){const{hasError:Fe,thrownError:et,isStopped:Xe}=this;Fe?nt.error(et):Xe&&nt.complete()}asObservable(){const nt=new C.y;return nt.source=this,nt}}return Ge.create=(Ve,nt)=>new Oe(Ve,nt),Ge})();class Oe extends He{constructor(Ve,nt){super(),this.destination=Ve,this.source=nt}next(Ve){var nt,Fe;null===(Fe=null===(nt=this.destination)||void 0===nt?void 0:nt.next)||void 0===Fe||Fe.call(nt,Ve)}error(Ve){var nt,Fe;null===(Fe=null===(nt=this.destination)||void 0===nt?void 0:nt.error)||void 0===Fe||Fe.call(nt,Ve)}complete(){var Ve,nt;null===(nt=null===(Ve=this.destination)||void 0===Ve?void 0:Ve.complete)||void 0===nt||nt.call(Ve)}_subscribe(Ve){var nt,Fe;return null!==(Fe=null===(nt=this.source)||void 0===nt?void 0:nt.subscribe(Ve))&&void 0!==Fe?Fe:l.Lc}}},305:(_i,pt,H)=>{"use strict";H.d(pt,{Hp:()=>bt,Lv:()=>Fe});var C=H(4674),l=H(7394),le=H(2653),v=H(3894),je=H(2420);const ne=Ge("C",void 0,void 0);function Ge(Le,Ue,Ae){return{kind:Le,value:Ue,error:Ae}}var Ve=H(7599),nt=H(1441);class Fe extends l.w0{constructor(Ue){super(),this.isStopped=!1,Ue?(this.destination=Ue,(0,l.Nn)(Ue)&&Ue.add(this)):this.destination=Yt}static create(Ue,Ae,It){return new bt(Ue,Ae,It)}next(Ue){this.isStopped?Ti(function Oe(Le){return Ge("N",Le,void 0)}(Ue),this):this._next(Ue)}error(Ue){this.isStopped?Ti(function He(Le){return Ge("E",void 0,Le)}(Ue),this):(this.isStopped=!0,this._error(Ue))}complete(){this.isStopped?Ti(ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ue){this.destination.next(Ue)}_error(Ue){try{this.destination.error(Ue)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const et=Function.prototype.bind;function Xe(Le,Ue){return et.call(Le,Ue)}class ct{constructor(Ue){this.partialObserver=Ue}next(Ue){const{partialObserver:Ae}=this;if(Ae.next)try{Ae.next(Ue)}catch(It){Vt(It)}}error(Ue){const{partialObserver:Ae}=this;if(Ae.error)try{Ae.error(Ue)}catch(It){Vt(It)}else Vt(Ue)}complete(){const{partialObserver:Ue}=this;if(Ue.complete)try{Ue.complete()}catch(Ae){Vt(Ae)}}}class bt extends Fe{constructor(Ue,Ae,It){let Pt;if(super(),(0,C.m)(Ue)||!Ue)Pt={next:Ue??void 0,error:Ae??void 0,complete:It??void 0};else{let Ot;this&&le.config.useDeprecatedNextContext?(Ot=Object.create(Ue),Ot.unsubscribe=()=>this.unsubscribe(),Pt={next:Ue.next&&Xe(Ue.next,Ot),error:Ue.error&&Xe(Ue.error,Ot),complete:Ue.complete&&Xe(Ue.complete,Ot)}):Pt=Ue}this.destination=new ct(Pt)}}function Vt(Le){le.config.useDeprecatedSynchronousErrorHandling?(0,nt.O)(Le):(0,v.h)(Le)}function Ti(Le,Ue){const{onStoppedNotification:Ae}=le.config;Ae&&Ve.z.setTimeout(()=>Ae(Le,Ue))}const Yt={closed:!0,next:je.Z,error:function oi(Le){throw Le},complete:je.Z}},7394:(_i,pt,H)=>{"use strict";H.d(pt,{Lc:()=>ne,w0:()=>je,Nn:()=>He});var C=H(4674);const le=(0,H(2306).d)(Ge=>function(nt){Ge(this),this.message=nt?`${nt.length} errors occurred during unsubscription:\n${nt.map((Fe,et)=>`${et+1}) ${Fe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=nt});var v=H(9039);class je{constructor(Ve){this.initialTeardown=Ve,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ve;if(!this.closed){this.closed=!0;const{_parentage:nt}=this;if(nt)if(this._parentage=null,Array.isArray(nt))for(const Xe of nt)Xe.remove(this);else nt.remove(this);const{initialTeardown:Fe}=this;if((0,C.m)(Fe))try{Fe()}catch(Xe){Ve=Xe instanceof le?Xe.errors:[Xe]}const{_finalizers:et}=this;if(et){this._finalizers=null;for(const Xe of et)try{Oe(Xe)}catch(ct){Ve=Ve??[],ct instanceof le?Ve=[...Ve,...ct.errors]:Ve.push(ct)}}if(Ve)throw new le(Ve)}}add(Ve){var nt;if(Ve&&Ve!==this)if(this.closed)Oe(Ve);else{if(Ve instanceof je){if(Ve.closed||Ve._hasParent(this))return;Ve._addParent(this)}(this._finalizers=null!==(nt=this._finalizers)&&void 0!==nt?nt:[]).push(Ve)}}_hasParent(Ve){const{_parentage:nt}=this;return nt===Ve||Array.isArray(nt)&&nt.includes(Ve)}_addParent(Ve){const{_parentage:nt}=this;this._parentage=Array.isArray(nt)?(nt.push(Ve),nt):nt?[nt,Ve]:Ve}_removeParent(Ve){const{_parentage:nt}=this;nt===Ve?this._parentage=null:Array.isArray(nt)&&(0,v.P)(nt,Ve)}remove(Ve){const{_finalizers:nt}=this;nt&&(0,v.P)(nt,Ve),Ve instanceof je&&Ve._removeParent(this)}}je.EMPTY=(()=>{const Ge=new je;return Ge.closed=!0,Ge})();const ne=je.EMPTY;function He(Ge){return Ge instanceof je||Ge&&"closed"in Ge&&(0,C.m)(Ge.remove)&&(0,C.m)(Ge.add)&&(0,C.m)(Ge.unsubscribe)}function Oe(Ge){(0,C.m)(Ge)?Ge():Ge.unsubscribe()}},2653:(_i,pt,H)=>{"use strict";H.d(pt,{config:()=>C});const C={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(_i,pt,H)=>{"use strict";H.d(pt,{a:()=>Ve});var C=H(5592),l=H(7453),le=H(7715),v=H(2737),je=H(7400),ne=H(9940),He=H(2714),Oe=H(8251),Ge=H(7103);function Ve(...et){const Xe=(0,ne.yG)(et),ct=(0,ne.jO)(et),{args:bt,keys:Vt}=(0,l.D)(et);if(0===bt.length)return(0,le.D)([],Xe);const oi=new C.y(function nt(et,Xe,ct=v.y){return bt=>{Fe(Xe,()=>{const{length:Vt}=et,oi=new Array(Vt);let Ti=Vt,Yt=Vt;for(let Le=0;Le<Vt;Le++)Fe(Xe,()=>{const Ue=(0,le.D)(et[Le],Xe);let Ae=!1;Ue.subscribe((0,Oe.x)(bt,It=>{oi[Le]=It,Ae||(Ae=!0,Yt--),Yt||bt.next(ct(oi.slice()))},()=>{--Ti||bt.complete()}))},bt)},bt)}}(bt,Xe,Vt?Ti=>(0,He.n)(Vt,Ti):v.y));return ct?oi.pipe((0,je.Z)(ct)):oi}function Fe(et,Xe,ct){et?(0,Ge.f)(ct,et,Xe):Xe()}},5211:(_i,pt,H)=>{"use strict";H.d(pt,{z:()=>je});var C=H(7537),le=H(9940),v=H(7715);function je(...ne){return function l(){return(0,C.J)(1)}()((0,v.D)(ne,(0,le.yG)(ne)))}},4911:(_i,pt,H)=>{"use strict";H.d(pt,{P:()=>le});var C=H(5592),l=H(4829);function le(v){return new C.y(je=>{(0,l.Xf)(v()).subscribe(je)})}},6232:(_i,pt,H)=>{"use strict";H.d(pt,{E:()=>l});const l=new(H(5592).y)(je=>je.complete())},9315:(_i,pt,H)=>{"use strict";H.d(pt,{D:()=>Oe});var C=H(5592),l=H(7453),le=H(4829),v=H(9940),je=H(8251),ne=H(7400),He=H(2714);function Oe(...Ge){const Ve=(0,v.jO)(Ge),{args:nt,keys:Fe}=(0,l.D)(Ge),et=new C.y(Xe=>{const{length:ct}=nt;if(!ct)return void Xe.complete();const bt=new Array(ct);let Vt=ct,oi=ct;for(let Ti=0;Ti<ct;Ti++){let Yt=!1;(0,le.Xf)(nt[Ti]).subscribe((0,je.x)(Xe,Le=>{Yt||(Yt=!0,oi--),bt[Ti]=Le},()=>Vt--,void 0,()=>{(!Vt||!Yt)&&(oi||Xe.next(Fe?(0,He.n)(Fe,bt):bt),Xe.complete())}))}});return Ve?et.pipe((0,ne.Z)(Ve)):et}},7715:(_i,pt,H)=>{"use strict";H.d(pt,{D:()=>It});var C=H(4829),l=H(7103),le=H(9360),v=H(8251);function je(Pt,Ot=0){return(0,le.e)((ui,ti)=>{ui.subscribe((0,v.x)(ti,Fi=>(0,l.f)(ti,Pt,()=>ti.next(Fi),Ot),()=>(0,l.f)(ti,Pt,()=>ti.complete(),Ot),Fi=>(0,l.f)(ti,Pt,()=>ti.error(Fi),Ot)))})}function ne(Pt,Ot=0){return(0,le.e)((ui,ti)=>{ti.add(Pt.schedule(()=>ui.subscribe(ti),Ot))})}var Ge=H(5592),nt=H(4971),Fe=H(4674);function Xe(Pt,Ot){if(!Pt)throw new Error("Iterable cannot be null");return new Ge.y(ui=>{(0,l.f)(ui,Ot,()=>{const ti=Pt[Symbol.asyncIterator]();(0,l.f)(ui,Ot,()=>{ti.next().then(Fi=>{Fi.done?ui.complete():ui.next(Fi.value)})},0,!0)})})}var ct=H(8382),bt=H(4026),Vt=H(4266),oi=H(3664),Ti=H(5726),Yt=H(9853),Le=H(541);function It(Pt,Ot){return Ot?function Ae(Pt,Ot){if(null!=Pt){if((0,ct.c)(Pt))return function He(Pt,Ot){return(0,C.Xf)(Pt).pipe(ne(Ot),je(Ot))}(Pt,Ot);if((0,Vt.z)(Pt))return function Ve(Pt,Ot){return new Ge.y(ui=>{let ti=0;return Ot.schedule(function(){ti===Pt.length?ui.complete():(ui.next(Pt[ti++]),ui.closed||this.schedule())})})}(Pt,Ot);if((0,bt.t)(Pt))return function Oe(Pt,Ot){return(0,C.Xf)(Pt).pipe(ne(Ot),je(Ot))}(Pt,Ot);if((0,Ti.D)(Pt))return Xe(Pt,Ot);if((0,oi.T)(Pt))return function et(Pt,Ot){return new Ge.y(ui=>{let ti;return(0,l.f)(ui,Ot,()=>{ti=Pt[nt.h](),(0,l.f)(ui,Ot,()=>{let Fi,Oi;try{({value:Fi,done:Oi}=ti.next())}catch(Tn){return void ui.error(Tn)}Oi?ui.complete():ui.next(Fi)},0,!0)}),()=>(0,Fe.m)(ti?.return)&&ti.return()})}(Pt,Ot);if((0,Le.L)(Pt))return function Ue(Pt,Ot){return Xe((0,Le.Q)(Pt),Ot)}(Pt,Ot)}throw(0,Yt.z)(Pt)}(Pt,Ot):(0,C.Xf)(Pt)}},2438:(_i,pt,H)=>{"use strict";H.d(pt,{R:()=>Ve});var C=H(4829),l=H(5592),le=H(1631),v=H(4266),je=H(4674),ne=H(7400);const He=["addListener","removeListener"],Oe=["addEventListener","removeEventListener"],Ge=["on","off"];function Ve(ct,bt,Vt,oi){if((0,je.m)(Vt)&&(oi=Vt,Vt=void 0),oi)return Ve(ct,bt,Vt).pipe((0,ne.Z)(oi));const[Ti,Yt]=function Xe(ct){return(0,je.m)(ct.addEventListener)&&(0,je.m)(ct.removeEventListener)}(ct)?Oe.map(Le=>Ue=>ct[Le](bt,Ue,Vt)):function Fe(ct){return(0,je.m)(ct.addListener)&&(0,je.m)(ct.removeListener)}(ct)?He.map(nt(ct,bt)):function et(ct){return(0,je.m)(ct.on)&&(0,je.m)(ct.off)}(ct)?Ge.map(nt(ct,bt)):[];if(!Ti&&(0,v.z)(ct))return(0,le.z)(Le=>Ve(Le,bt,Vt))((0,C.Xf)(ct));if(!Ti)throw new TypeError("Invalid event target");return new l.y(Le=>{const Ue=(...Ae)=>Le.next(1<Ae.length?Ae:Ae[0]);return Ti(Ue),()=>Yt(Ue)})}function nt(ct,bt){return Vt=>oi=>ct[Vt](bt,oi)}},4829:(_i,pt,H)=>{"use strict";H.d(pt,{Xf:()=>et});var C=H(7582),l=H(4266),le=H(4026),v=H(5592),je=H(8382),ne=H(5726),He=H(9853),Oe=H(3664),Ge=H(541),Ve=H(4674),nt=H(3894),Fe=H(4850);function et(Le){if(Le instanceof v.y)return Le;if(null!=Le){if((0,je.c)(Le))return function Xe(Le){return new v.y(Ue=>{const Ae=Le[Fe.L]();if((0,Ve.m)(Ae.subscribe))return Ae.subscribe(Ue);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Le);if((0,l.z)(Le))return function ct(Le){return new v.y(Ue=>{for(let Ae=0;Ae<Le.length&&!Ue.closed;Ae++)Ue.next(Le[Ae]);Ue.complete()})}(Le);if((0,le.t)(Le))return function bt(Le){return new v.y(Ue=>{Le.then(Ae=>{Ue.closed||(Ue.next(Ae),Ue.complete())},Ae=>Ue.error(Ae)).then(null,nt.h)})}(Le);if((0,ne.D)(Le))return oi(Le);if((0,Oe.T)(Le))return function Vt(Le){return new v.y(Ue=>{for(const Ae of Le)if(Ue.next(Ae),Ue.closed)return;Ue.complete()})}(Le);if((0,Ge.L)(Le))return function Ti(Le){return oi((0,Ge.Q)(Le))}(Le)}throw(0,He.z)(Le)}function oi(Le){return new v.y(Ue=>{(function Yt(Le,Ue){var Ae,It,Pt,Ot;return(0,C.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,C.KL)(Le);!(It=yield Ae.next()).done;)if(Ue.next(It.value),Ue.closed)return}catch(ui){Pt={error:ui}}finally{try{It&&!It.done&&(Ot=Ae.return)&&(yield Ot.call(Ae))}finally{if(Pt)throw Pt.error}}Ue.complete()})})(Le,Ue).catch(Ae=>Ue.error(Ae))})}},3019:(_i,pt,H)=>{"use strict";H.d(pt,{T:()=>ne});var C=H(7537),l=H(4829),le=H(6232),v=H(9940),je=H(7715);function ne(...He){const Oe=(0,v.yG)(He),Ge=(0,v._6)(He,1/0),Ve=He;return Ve.length?1===Ve.length?(0,l.Xf)(Ve[0]):(0,C.J)(Ge)((0,je.D)(Ve,Oe)):le.E}},2096:(_i,pt,H)=>{"use strict";H.d(pt,{of:()=>le});var C=H(9940),l=H(7715);function le(...v){const je=(0,C.yG)(v);return(0,l.D)(v,je)}},8504:(_i,pt,H)=>{"use strict";H.d(pt,{_:()=>le});var C=H(5592),l=H(4674);function le(v,je){const ne=(0,l.m)(v)?v:()=>v,He=Oe=>Oe.error(ne());return new C.y(je?Oe=>je.schedule(He,0,Oe):He)}},4825:(_i,pt,H)=>{"use strict";H.d(pt,{H:()=>je});var C=H(5592),l=H(6321),le=H(671);function je(ne=0,He,Oe=l.P){let Ge=-1;return null!=He&&((0,le.K)(He)?Oe=He:Ge=He),new C.y(Ve=>{let nt=function v(ne){return ne instanceof Date&&!isNaN(ne)}(ne)?+ne-Oe.now():ne;nt<0&&(nt=0);let Fe=0;return Oe.schedule(function(){Ve.closed||(Ve.next(Fe++),0<=Ge?this.schedule(void 0,Ge):Ve.complete())},nt)})}},8251:(_i,pt,H)=>{"use strict";H.d(pt,{x:()=>l});var C=H(305);function l(v,je,ne,He,Oe){return new le(v,je,ne,He,Oe)}class le extends C.Lv{constructor(je,ne,He,Oe,Ge,Ve){super(je),this.onFinalize=Ge,this.shouldUnsubscribe=Ve,this._next=ne?function(nt){try{ne(nt)}catch(Fe){je.error(Fe)}}:super._next,this._error=Oe?function(nt){try{Oe(nt)}catch(Fe){je.error(Fe)}finally{this.unsubscribe()}}:super._error,this._complete=He?function(){try{He()}catch(nt){je.error(nt)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var je;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ne}=this;super.unsubscribe(),!ne&&(null===(je=this.onFinalize)||void 0===je||je.call(this))}}}},6306:(_i,pt,H)=>{"use strict";H.d(pt,{K:()=>v});var C=H(4829),l=H(8251),le=H(9360);function v(je){return(0,le.e)((ne,He)=>{let Ve,Oe=null,Ge=!1;Oe=ne.subscribe((0,l.x)(He,void 0,void 0,nt=>{Ve=(0,C.Xf)(je(nt,v(je)(ne))),Oe?(Oe.unsubscribe(),Oe=null,Ve.subscribe(He)):Ge=!0})),Ge&&(Oe.unsubscribe(),Oe=null,Ve.subscribe(He))})}},6328:(_i,pt,H)=>{"use strict";H.d(pt,{b:()=>le});var C=H(1631),l=H(4674);function le(v,je){return(0,l.m)(je)?(0,C.z)(v,je,1):(0,C.z)(v,1)}},3620:(_i,pt,H)=>{"use strict";H.d(pt,{b:()=>v});var C=H(6321),l=H(9360),le=H(8251);function v(je,ne=C.z){return(0,l.e)((He,Oe)=>{let Ge=null,Ve=null,nt=null;const Fe=()=>{if(Ge){Ge.unsubscribe(),Ge=null;const Xe=Ve;Ve=null,Oe.next(Xe)}};function et(){const Xe=nt+je,ct=ne.now();if(ct<Xe)return Ge=this.schedule(void 0,Xe-ct),void Oe.add(Ge);Fe()}He.subscribe((0,le.x)(Oe,Xe=>{Ve=Xe,nt=ne.now(),Ge||(Ge=ne.schedule(et,je),Oe.add(Ge))},()=>{Fe(),Oe.complete()},void 0,()=>{Ve=Ge=null}))})}},3572:(_i,pt,H)=>{"use strict";H.d(pt,{d:()=>le});var C=H(9360),l=H(8251);function le(v){return(0,C.e)((je,ne)=>{let He=!1;je.subscribe((0,l.x)(ne,Oe=>{He=!0,ne.next(Oe)},()=>{He||ne.next(v),ne.complete()}))})}},3997:(_i,pt,H)=>{"use strict";H.d(pt,{x:()=>v});var C=H(2737),l=H(9360),le=H(8251);function v(ne,He=C.y){return ne=ne??je,(0,l.e)((Oe,Ge)=>{let Ve,nt=!0;Oe.subscribe((0,le.x)(Ge,Fe=>{const et=He(Fe);(nt||!ne(Ve,et))&&(nt=!1,Ve=et,Ge.next(Fe))}))})}function je(ne,He){return ne===He}},2181:(_i,pt,H)=>{"use strict";H.d(pt,{h:()=>le});var C=H(9360),l=H(8251);function le(v,je){return(0,C.e)((ne,He)=>{let Oe=0;ne.subscribe((0,l.x)(He,Ge=>v.call(je,Ge,Oe++)&&He.next(Ge)))})}},4716:(_i,pt,H)=>{"use strict";H.d(pt,{x:()=>l});var C=H(9360);function l(le){return(0,C.e)((v,je)=>{try{v.subscribe(je)}finally{je.add(le)}})}},1374:(_i,pt,H)=>{"use strict";H.d(pt,{P:()=>He});var C=H(6973),l=H(2181),le=H(8180),v=H(3572),je=H(3026),ne=H(2737);function He(Oe,Ge){const Ve=arguments.length>=2;return nt=>nt.pipe(Oe?(0,l.h)((Fe,et)=>Oe(Fe,et,nt)):ne.y,(0,le.q)(1),Ve?(0,v.d)(Ge):(0,je.T)(()=>new C.K))}},7398:(_i,pt,H)=>{"use strict";H.d(pt,{U:()=>le});var C=H(9360),l=H(8251);function le(v,je){return(0,C.e)((ne,He)=>{let Oe=0;ne.subscribe((0,l.x)(He,Ge=>{He.next(v.call(je,Ge,Oe++))}))})}},975:(_i,pt,H)=>{"use strict";H.d(pt,{h:()=>l});var C=H(7398);function l(le){return(0,C.U)(()=>le)}},7537:(_i,pt,H)=>{"use strict";H.d(pt,{J:()=>le});var C=H(1631),l=H(2737);function le(v=1/0){return(0,C.z)(l.y,v)}},1631:(_i,pt,H)=>{"use strict";H.d(pt,{z:()=>Oe});var C=H(7398),l=H(4829),le=H(9360),v=H(7103),je=H(8251),He=H(4674);function Oe(Ge,Ve,nt=1/0){return(0,He.m)(Ve)?Oe((Fe,et)=>(0,C.U)((Xe,ct)=>Ve(Fe,Xe,et,ct))((0,l.Xf)(Ge(Fe,et))),nt):("number"==typeof Ve&&(nt=Ve),(0,le.e)((Fe,et)=>function ne(Ge,Ve,nt,Fe,et,Xe,ct,bt){const Vt=[];let oi=0,Ti=0,Yt=!1;const Le=()=>{Yt&&!Vt.length&&!oi&&Ve.complete()},Ue=It=>oi<Fe?Ae(It):Vt.push(It),Ae=It=>{Xe&&Ve.next(It),oi++;let Pt=!1;(0,l.Xf)(nt(It,Ti++)).subscribe((0,je.x)(Ve,Ot=>{et?.(Ot),Xe?Ue(Ot):Ve.next(Ot)},()=>{Pt=!0},void 0,()=>{if(Pt)try{for(oi--;Vt.length&&oi<Fe;){const Ot=Vt.shift();ct?(0,v.f)(Ve,ct,()=>Ae(Ot)):Ae(Ot)}Le()}catch(Ot){Ve.error(Ot)}}))};return Ge.subscribe((0,je.x)(Ve,Ue,()=>{Yt=!0,Le()})),()=>{bt?.()}}(Fe,et,Ge,nt)))}},3020:(_i,pt,H)=>{"use strict";H.d(pt,{B:()=>je});var C=H(4829),l=H(8645),le=H(305),v=H(9360);function je(He={}){const{connector:Oe=(()=>new l.x),resetOnError:Ge=!0,resetOnComplete:Ve=!0,resetOnRefCountZero:nt=!0}=He;return Fe=>{let et,Xe,ct,bt=0,Vt=!1,oi=!1;const Ti=()=>{Xe?.unsubscribe(),Xe=void 0},Yt=()=>{Ti(),et=ct=void 0,Vt=oi=!1},Le=()=>{const Ue=et;Yt(),Ue?.unsubscribe()};return(0,v.e)((Ue,Ae)=>{bt++,!oi&&!Vt&&Ti();const It=ct=ct??Oe();Ae.add(()=>{bt--,0===bt&&!oi&&!Vt&&(Xe=ne(Le,nt))}),It.subscribe(Ae),!et&&bt>0&&(et=new le.Hp({next:Pt=>It.next(Pt),error:Pt=>{oi=!0,Ti(),Xe=ne(Yt,Ge,Pt),It.error(Pt)},complete:()=>{Vt=!0,Ti(),Xe=ne(Yt,Ve),It.complete()}}),(0,C.Xf)(Ue).subscribe(et))})(Fe)}}function ne(He,Oe,...Ge){if(!0===Oe)return void He();if(!1===Oe)return;const Ve=new le.Hp({next:()=>{Ve.unsubscribe(),He()}});return Oe(...Ge).subscribe(Ve)}},940:(_i,pt,H)=>{"use strict";H.d(pt,{d:()=>je});var C=H(8645),l=H(4552);class le extends C.x{constructor(He=1/0,Oe=1/0,Ge=l.l){super(),this._bufferSize=He,this._windowTime=Oe,this._timestampProvider=Ge,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Oe===1/0,this._bufferSize=Math.max(1,He),this._windowTime=Math.max(1,Oe)}next(He){const{isStopped:Oe,_buffer:Ge,_infiniteTimeWindow:Ve,_timestampProvider:nt,_windowTime:Fe}=this;Oe||(Ge.push(He),!Ve&&Ge.push(nt.now()+Fe)),this._trimBuffer(),super.next(He)}_subscribe(He){this._throwIfClosed(),this._trimBuffer();const Oe=this._innerSubscribe(He),{_infiniteTimeWindow:Ge,_buffer:Ve}=this,nt=Ve.slice();for(let Fe=0;Fe<nt.length&&!He.closed;Fe+=Ge?1:2)He.next(nt[Fe]);return this._checkFinalizedStatuses(He),Oe}_trimBuffer(){const{_bufferSize:He,_timestampProvider:Oe,_buffer:Ge,_infiniteTimeWindow:Ve}=this,nt=(Ve?1:2)*He;if(He<1/0&&nt<Ge.length&&Ge.splice(0,Ge.length-nt),!Ve){const Fe=Oe.now();let et=0;for(let Xe=1;Xe<Ge.length&&Ge[Xe]<=Fe;Xe+=2)et=Xe;et&&Ge.splice(0,et+1)}}}var v=H(3020);function je(ne,He,Oe){let Ge,Ve=!1;return ne&&"object"==typeof ne?({bufferSize:Ge=1/0,windowTime:He=1/0,refCount:Ve=!1,scheduler:Oe}=ne):Ge=ne??1/0,(0,v.B)({connector:()=>new le(Ge,He,Oe),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ve})}},7921:(_i,pt,H)=>{"use strict";H.d(pt,{O:()=>v});var C=H(5211),l=H(9940),le=H(9360);function v(...je){const ne=(0,l.yG)(je);return(0,le.e)((He,Oe)=>{(ne?(0,C.z)(je,He,ne):(0,C.z)(je,He)).subscribe(Oe)})}},4664:(_i,pt,H)=>{"use strict";H.d(pt,{w:()=>v});var C=H(4829),l=H(9360),le=H(8251);function v(je,ne){return(0,l.e)((He,Oe)=>{let Ge=null,Ve=0,nt=!1;const Fe=()=>nt&&!Ge&&Oe.complete();He.subscribe((0,le.x)(Oe,et=>{Ge?.unsubscribe();let Xe=0;const ct=Ve++;(0,C.Xf)(je(et,ct)).subscribe(Ge=(0,le.x)(Oe,bt=>Oe.next(ne?ne(et,bt,ct,Xe++):bt),()=>{Ge=null,Fe()}))},()=>{nt=!0,Fe()}))})}},8180:(_i,pt,H)=>{"use strict";H.d(pt,{q:()=>v});var C=H(6232),l=H(9360),le=H(8251);function v(je){return je<=0?()=>C.E:(0,l.e)((ne,He)=>{let Oe=0;ne.subscribe((0,le.x)(He,Ge=>{++Oe<=je&&(He.next(Ge),je<=Oe&&He.complete())}))})}},9773:(_i,pt,H)=>{"use strict";H.d(pt,{R:()=>je});var C=H(9360),l=H(8251),le=H(4829),v=H(2420);function je(ne){return(0,C.e)((He,Oe)=>{(0,le.Xf)(ne).subscribe((0,l.x)(Oe,()=>Oe.complete(),v.Z)),!Oe.closed&&He.subscribe(Oe)})}},9397:(_i,pt,H)=>{"use strict";H.d(pt,{b:()=>je});var C=H(4674),l=H(9360),le=H(8251),v=H(2737);function je(ne,He,Oe){const Ge=(0,C.m)(ne)||He||Oe?{next:ne,error:He,complete:Oe}:ne;return Ge?(0,l.e)((Ve,nt)=>{var Fe;null===(Fe=Ge.subscribe)||void 0===Fe||Fe.call(Ge);let et=!0;Ve.subscribe((0,le.x)(nt,Xe=>{var ct;null===(ct=Ge.next)||void 0===ct||ct.call(Ge,Xe),nt.next(Xe)},()=>{var Xe;et=!1,null===(Xe=Ge.complete)||void 0===Xe||Xe.call(Ge),nt.complete()},Xe=>{var ct;et=!1,null===(ct=Ge.error)||void 0===ct||ct.call(Ge,Xe),nt.error(Xe)},()=>{var Xe,ct;et&&(null===(Xe=Ge.unsubscribe)||void 0===Xe||Xe.call(Ge)),null===(ct=Ge.finalize)||void 0===ct||ct.call(Ge)}))}):v.y}},3026:(_i,pt,H)=>{"use strict";H.d(pt,{T:()=>v});var C=H(6973),l=H(9360),le=H(8251);function v(ne=je){return(0,l.e)((He,Oe)=>{let Ge=!1;He.subscribe((0,le.x)(Oe,Ve=>{Ge=!0,Oe.next(Ve)},()=>Ge?Oe.complete():Oe.error(ne())))})}function je(){return new C.K}},1954:(_i,pt,H)=>{"use strict";H.d(pt,{o:()=>je});var C=H(7394);class l extends C.w0{constructor(He,Oe){super()}schedule(He,Oe=0){return this}}const le={setInterval(ne,He,...Oe){const{delegate:Ge}=le;return Ge?.setInterval?Ge.setInterval(ne,He,...Oe):setInterval(ne,He,...Oe)},clearInterval(ne){const{delegate:He}=le;return(He?.clearInterval||clearInterval)(ne)},delegate:void 0};var v=H(9039);class je extends l{constructor(He,Oe){super(He,Oe),this.scheduler=He,this.work=Oe,this.pending=!1}schedule(He,Oe=0){var Ge;if(this.closed)return this;this.state=He;const Ve=this.id,nt=this.scheduler;return null!=Ve&&(this.id=this.recycleAsyncId(nt,Ve,Oe)),this.pending=!0,this.delay=Oe,this.id=null!==(Ge=this.id)&&void 0!==Ge?Ge:this.requestAsyncId(nt,this.id,Oe),this}requestAsyncId(He,Oe,Ge=0){return le.setInterval(He.flush.bind(He,this),Ge)}recycleAsyncId(He,Oe,Ge=0){if(null!=Ge&&this.delay===Ge&&!1===this.pending)return Oe;null!=Oe&&le.clearInterval(Oe)}execute(He,Oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ge=this._execute(He,Oe);if(Ge)return Ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(He,Oe){let Ve,Ge=!1;try{this.work(He)}catch(nt){Ge=!0,Ve=nt||new Error("Scheduled action threw falsy error")}if(Ge)return this.unsubscribe(),Ve}unsubscribe(){if(!this.closed){const{id:He,scheduler:Oe}=this,{actions:Ge}=Oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,v.P)(Ge,this),null!=He&&(this.id=this.recycleAsyncId(Oe,He,null)),this.delay=null,super.unsubscribe()}}}},2631:(_i,pt,H)=>{"use strict";H.d(pt,{v:()=>le});var C=H(4552);class l{constructor(je,ne=l.now){this.schedulerActionCtor=je,this.now=ne}schedule(je,ne=0,He){return new this.schedulerActionCtor(this,je).schedule(He,ne)}}l.now=C.l.now;class le extends l{constructor(je,ne=l.now){super(je,ne),this.actions=[],this._active=!1}flush(je){const{actions:ne}=this;if(this._active)return void ne.push(je);let He;this._active=!0;do{if(He=je.execute(je.state,je.delay))break}while(je=ne.shift());if(this._active=!1,He){for(;je=ne.shift();)je.unsubscribe();throw He}}}},6321:(_i,pt,H)=>{"use strict";H.d(pt,{P:()=>v,z:()=>le});var C=H(1954);const le=new(H(2631).v)(C.o),v=le},4552:(_i,pt,H)=>{"use strict";H.d(pt,{l:()=>C});const C={now:()=>(C.delegate||Date).now(),delegate:void 0}},7599:(_i,pt,H)=>{"use strict";H.d(pt,{z:()=>C});const C={setTimeout(l,le,...v){const{delegate:je}=C;return je?.setTimeout?je.setTimeout(l,le,...v):setTimeout(l,le,...v)},clearTimeout(l){const{delegate:le}=C;return(le?.clearTimeout||clearTimeout)(l)},delegate:void 0}},4971:(_i,pt,H)=>{"use strict";H.d(pt,{h:()=>l});const l=function C(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(_i,pt,H)=>{"use strict";H.d(pt,{L:()=>C});const C="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(_i,pt,H)=>{"use strict";H.d(pt,{K:()=>l});const l=(0,H(2306).d)(le=>function(){le(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(_i,pt,H)=>{"use strict";H.d(pt,{_6:()=>ne,jO:()=>v,yG:()=>je});var C=H(4674),l=H(671);function le(He){return He[He.length-1]}function v(He){return(0,C.m)(le(He))?He.pop():void 0}function je(He){return(0,l.K)(le(He))?He.pop():void 0}function ne(He,Oe){return"number"==typeof le(He)?He.pop():Oe}},7453:(_i,pt,H)=>{"use strict";H.d(pt,{D:()=>je});const{isArray:C}=Array,{getPrototypeOf:l,prototype:le,keys:v}=Object;function je(He){if(1===He.length){const Oe=He[0];if(C(Oe))return{args:Oe,keys:null};if(function ne(He){return He&&"object"==typeof He&&l(He)===le}(Oe)){const Ge=v(Oe);return{args:Ge.map(Ve=>Oe[Ve]),keys:Ge}}}return{args:He,keys:null}}},9039:(_i,pt,H)=>{"use strict";function C(l,le){if(l){const v=l.indexOf(le);0<=v&&l.splice(v,1)}}H.d(pt,{P:()=>C})},2306:(_i,pt,H)=>{"use strict";function C(l){const v=l(je=>{Error.call(je),je.stack=(new Error).stack});return v.prototype=Object.create(Error.prototype),v.prototype.constructor=v,v}H.d(pt,{d:()=>C})},2714:(_i,pt,H)=>{"use strict";function C(l,le){return l.reduce((v,je,ne)=>(v[je]=le[ne],v),{})}H.d(pt,{n:()=>C})},1441:(_i,pt,H)=>{"use strict";H.d(pt,{O:()=>v,x:()=>le});var C=H(2653);let l=null;function le(je){if(C.config.useDeprecatedSynchronousErrorHandling){const ne=!l;if(ne&&(l={errorThrown:!1,error:null}),je(),ne){const{errorThrown:He,error:Oe}=l;if(l=null,He)throw Oe}}else je()}function v(je){C.config.useDeprecatedSynchronousErrorHandling&&l&&(l.errorThrown=!0,l.error=je)}},7103:(_i,pt,H)=>{"use strict";function C(l,le,v,je=0,ne=!1){const He=le.schedule(function(){v(),ne?l.add(this.schedule(null,je)):this.unsubscribe()},je);if(l.add(He),!ne)return He}H.d(pt,{f:()=>C})},2737:(_i,pt,H)=>{"use strict";function C(l){return l}H.d(pt,{y:()=>C})},4266:(_i,pt,H)=>{"use strict";H.d(pt,{z:()=>C});const C=l=>l&&"number"==typeof l.length&&"function"!=typeof l},5726:(_i,pt,H)=>{"use strict";H.d(pt,{D:()=>l});var C=H(4674);function l(le){return Symbol.asyncIterator&&(0,C.m)(le?.[Symbol.asyncIterator])}},4674:(_i,pt,H)=>{"use strict";function C(l){return"function"==typeof l}H.d(pt,{m:()=>C})},8382:(_i,pt,H)=>{"use strict";H.d(pt,{c:()=>le});var C=H(4850),l=H(4674);function le(v){return(0,l.m)(v[C.L])}},3664:(_i,pt,H)=>{"use strict";H.d(pt,{T:()=>le});var C=H(4971),l=H(4674);function le(v){return(0,l.m)(v?.[C.h])}},4026:(_i,pt,H)=>{"use strict";H.d(pt,{t:()=>l});var C=H(4674);function l(le){return(0,C.m)(le?.then)}},541:(_i,pt,H)=>{"use strict";H.d(pt,{L:()=>v,Q:()=>le});var C=H(7582),l=H(4674);function le(je){return(0,C.FC)(this,arguments,function*(){const He=je.getReader();try{for(;;){const{value:Oe,done:Ge}=yield(0,C.qq)(He.read());if(Ge)return yield(0,C.qq)(void 0);yield yield(0,C.qq)(Oe)}}finally{He.releaseLock()}})}function v(je){return(0,l.m)(je?.getReader)}},671:(_i,pt,H)=>{"use strict";H.d(pt,{K:()=>l});var C=H(4674);function l(le){return le&&(0,C.m)(le.schedule)}},9360:(_i,pt,H)=>{"use strict";H.d(pt,{A:()=>l,e:()=>le});var C=H(4674);function l(v){return(0,C.m)(v?.lift)}function le(v){return je=>{if(l(je))return je.lift(function(ne){try{return v(ne,this)}catch(He){this.error(He)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(_i,pt,H)=>{"use strict";H.d(pt,{Z:()=>v});var C=H(7398);const{isArray:l}=Array;function v(je){return(0,C.U)(ne=>function le(je,ne){return l(ne)?je(...ne):je(ne)}(je,ne))}},2420:(_i,pt,H)=>{"use strict";function C(){}H.d(pt,{Z:()=>C})},8407:(_i,pt,H)=>{"use strict";H.d(pt,{U:()=>le,z:()=>l});var C=H(2737);function l(...v){return le(v)}function le(v){return 0===v.length?C.y:1===v.length?v[0]:function(ne){return v.reduce((He,Oe)=>Oe(He),ne)}}},3894:(_i,pt,H)=>{"use strict";H.d(pt,{h:()=>le});var C=H(2653),l=H(7599);function le(v){l.z.setTimeout(()=>{const{onUnhandledError:je}=C.config;if(!je)throw v;je(v)})}},9853:(_i,pt,H)=>{"use strict";function C(l){return new TypeError(`You provided ${null!==l&&"object"==typeof l?"an invalid object":`'${l}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}H.d(pt,{z:()=>C})},5624:function(_i){_i.exports=function(){"use strict";var pt,H,C;function l(v,je){if(pt)if(H){var ne="var sharedChunk = {}; ("+pt+")(sharedChunk); ("+H+")(sharedChunk);",He={};pt(He),C=je(He),typeof window<"u"&&(C.workerUrl=window.URL.createObjectURL(new Blob([ne],{type:"text/javascript"})))}else H=je;else pt=je}return l(0,function(v){function je(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var ne=He;function He(o,t){this.x=o,this.y=t}He.prototype={clone:function(){return new He(this.x,this.y)},add:function(o){return this.clone()._add(o)},sub:function(o){return this.clone()._sub(o)},multByPoint:function(o){return this.clone()._multByPoint(o)},divByPoint:function(o){return this.clone()._divByPoint(o)},mult:function(o){return this.clone()._mult(o)},div:function(o){return this.clone()._div(o)},rotate:function(o){return this.clone()._rotate(o)},rotateAround:function(o,t){return this.clone()._rotateAround(o,t)},matMult:function(o){return this.clone()._matMult(o)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(o){return this.x===o.x&&this.y===o.y},dist:function(o){return Math.sqrt(this.distSqr(o))},distSqr:function(o){var t=o.x-this.x,a=o.y-this.y;return t*t+a*a},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(o){return Math.atan2(this.y-o.y,this.x-o.x)},angleWith:function(o){return this.angleWithSep(o.x,o.y)},angleWithSep:function(o,t){return Math.atan2(this.x*t-this.y*o,this.x*o+this.y*t)},_matMult:function(o){var t=o[2]*this.x+o[3]*this.y;return this.x=o[0]*this.x+o[1]*this.y,this.y=t,this},_add:function(o){return this.x+=o.x,this.y+=o.y,this},_sub:function(o){return this.x-=o.x,this.y-=o.y,this},_mult:function(o){return this.x*=o,this.y*=o,this},_div:function(o){return this.x/=o,this.y/=o,this},_multByPoint:function(o){return this.x*=o.x,this.y*=o.y,this},_divByPoint:function(o){return this.x/=o.x,this.y/=o.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var o=this.y;return this.y=this.x,this.x=-o,this},_rotate:function(o){var t=Math.cos(o),a=Math.sin(o),p=a*this.x+t*this.y;return this.x=t*this.x-a*this.y,this.y=p,this},_rotateAround:function(o,t){var a=Math.cos(o),p=Math.sin(o),x=t.y+p*(this.x-t.x)+a*(this.y-t.y);return this.x=t.x+a*(this.x-t.x)-p*(this.y-t.y),this.y=x,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},He.convert=function(o){return o instanceof He?o:Array.isArray(o)?new He(o[0],o[1]):o};var Oe=je(ne),Ge=Ve;function Ve(o,t,a,p){this.cx=3*o,this.bx=3*(a-o)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(p-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=o,this.p1y=t,this.p2x=a,this.p2y=p}Ve.prototype={sampleCurveX:function(o){return((this.ax*o+this.bx)*o+this.cx)*o},sampleCurveY:function(o){return((this.ay*o+this.by)*o+this.cy)*o},sampleCurveDerivativeX:function(o){return(3*this.ax*o+2*this.bx)*o+this.cx},solveCurveX:function(o,t){if(void 0===t&&(t=1e-6),o<0)return 0;if(o>1)return 1;for(var a=o,p=0;p<8;p++){var x=this.sampleCurveX(a)-o;if(Math.abs(x)<t)return a;var T=this.sampleCurveDerivativeX(a);if(Math.abs(T)<1e-6)break;a-=x/T}var I=0,O=1;for(a=o,p=0;p<20&&(x=this.sampleCurveX(a),!(Math.abs(x-o)<t));p++)o>x?I=a:O=a,a=.5*(O-I)+I;return a},solve:function(o,t){return this.sampleCurveY(this.solveCurveX(o,t))}};var nt=je(Ge);function Fe(o,t,a,p){const x=new nt(o,t,a,p);return function(T){return x.solve(T)}}const et=Fe(.25,.1,.25,1);function Xe(o,t,a){return Math.min(a,Math.max(t,o))}function ct(o,t,a){const p=a-t,x=((o-t)%p+p)%p+t;return x===t?a:x}function bt(o,...t){for(const a of t)for(const p in a)o[p]=a[p];return o}let Vt=1;function oi(o,t,a){const p={};for(const x in o)p[x]=t.call(a||this,o[x],x,o);return p}function Ti(o,t,a){const p={};for(const x in o)t.call(a||this,o[x],x,o)&&(p[x]=o[x]);return p}function Yt(o){return Array.isArray(o)?o.map(Yt):"object"==typeof o&&o?oi(o,Yt):o}const Le={};function Ue(o){Le[o]||(typeof console<"u"&&console.warn(o),Le[o]=!0)}function Ae(o,t,a){return(a.y-o.y)*(t.x-o.x)>(t.y-o.y)*(a.x-o.x)}function It(o){let t=0;for(let a,p,x=0,T=o.length,I=T-1;x<T;I=x++)a=o[x],p=o[I],t+=(p.x-a.x)*(a.y+p.y);return t}function Pt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}let Ot=null;function ui(o){if(null==Ot){const t=o.navigator?o.navigator.userAgent:null;Ot=!!o.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return Ot}function ti(o){return typeof ImageBitmap<"u"&&o instanceof ImageBitmap}const Fi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let Oi,Tn;const $n={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(o){const t=requestAnimationFrame(o);return{cancel:()=>cancelAnimationFrame(t)}},getImageData(o,t=0){return this.getImageCanvasContext(o).getImageData(-t,-t,o.width+2*t,o.height+2*t)},getImageCanvasContext(o){const t=window.document.createElement("canvas"),a=t.getContext("2d",{willReadFrequently:!0});if(!a)throw new Error("failed to create canvas 2d context");return t.width=o.width,t.height=o.height,a.drawImage(o,0,0,o.width,o.height),a},resolveURL:o=>(Oi||(Oi=document.createElement("a")),Oi.href=o,Oi.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(null==Tn&&(Tn=matchMedia("(prefers-reduced-motion: reduce)")),Tn.matches)}},pn={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};class jn extends Error{constructor(t,a,p,x){super(`AJAXError: ${a} (${t}): ${p}`),this.status=t,this.statusText=a,this.url=p,this.body=x}}const In=Pt()?()=>self.worker&&self.worker.referrer:()=>("blob:"===window.location.protocol?window.parent:window).location.href,Et=o=>pn.REGISTERED_PROTOCOLS[o.substring(0,o.indexOf("://"))];function gt(o,t){const a=new AbortController,p=new Request(o.url,{method:o.method||"GET",body:o.body,credentials:o.credentials,headers:o.headers,referrer:In(),signal:a.signal});let x=!1,T=!1;return"json"===o.type&&p.headers.set("Accept","application/json"),T||fetch(p).then(I=>{return I.ok?(O=I,void("arrayBuffer"===o.type||"image"===o.type?O.arrayBuffer():"json"===o.type?O.json():O.text()).then(L=>{T||(x=!0,t(null,L,O.headers.get("Cache-Control"),O.headers.get("Expires")))}).catch(L=>{T||t(new Error(L.message))})):I.blob().then(O=>t(new jn(I.status,I.statusText,o.url,O)));var O}).catch(I=>{20!==I.code&&t(new Error(I.message))}),{cancel:()=>{T=!0,x||a.abort()}}}const Nt=function(o,t){if(/:\/\//.test(o.url)&&!/^https?:|^file:/.test(o.url)){if(Pt()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",o,t);if(!Pt())return(Et(o.url)||gt)(o,t)}if(!(/^file:/.test(a=o.url)||/^file:/.test(In())&&!/^\w+:/.test(a))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return gt(o,t);if(Pt()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",o,t,void 0,!0)}var a;return function(p,x){const T=new XMLHttpRequest;T.open(p.method||"GET",p.url,!0),"arrayBuffer"!==p.type&&"image"!==p.type||(T.responseType="arraybuffer");for(const I in p.headers)T.setRequestHeader(I,p.headers[I]);return"json"===p.type&&(T.responseType="text",T.setRequestHeader("Accept","application/json")),T.withCredentials="include"===p.credentials,T.onerror=()=>{x(new Error(T.statusText))},T.onload=()=>{if((T.status>=200&&T.status<300||0===T.status)&&null!==T.response){let I=T.response;if("json"===p.type)try{I=JSON.parse(T.response)}catch(O){return x(O)}x(null,I,T.getResponseHeader("Cache-Control"),T.getResponseHeader("Expires"))}else{const I=new Blob([T.response],{type:T.getResponseHeader("Content-Type")});x(new jn(T.status,T.statusText,p.url,I))}},T.send(p.body),{cancel:()=>T.abort()}}(o,t)},zt=function(o,t){return Nt(bt(o,{type:"arrayBuffer"}),t)};function ni(o){if(!o||o.indexOf("://")<=0||0===o.indexOf("data:image/")||0===o.indexOf("blob:"))return!0;const t=new URL(o),a=window.location;return t.protocol===a.protocol&&t.host===a.host}function Ct(o,t,a){a[o]&&-1!==a[o].indexOf(t)||(a[o]=a[o]||[],a[o].push(t))}function li(o,t,a){if(a&&a[o]){const p=a[o].indexOf(t);-1!==p&&a[o].splice(p,1)}}class Be{constructor(t,a={}){bt(this,a),this.type=t}}class rt extends Be{constructor(t,a={}){super("error",bt({error:t},a))}}class ut{on(t,a){return this._listeners=this._listeners||{},Ct(t,a,this._listeners),this}off(t,a){return li(t,a,this._listeners),li(t,a,this._oneTimeListeners),this}once(t,a){return a?(this._oneTimeListeners=this._oneTimeListeners||{},Ct(t,a,this._oneTimeListeners),this):new Promise(p=>this.once(t,p))}fire(t,a){"string"==typeof t&&(t=new Be(t,a||{}));const p=t.type;if(this.listens(p)){t.target=this;const x=this._listeners&&this._listeners[p]?this._listeners[p].slice():[];for(const O of x)O.call(this,t);const T=this._oneTimeListeners&&this._oneTimeListeners[p]?this._oneTimeListeners[p].slice():[];for(const O of T)li(p,O,this._oneTimeListeners),O.call(this,t);const I=this._eventedParent;I&&(bt(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),I.fire(t))}else t instanceof rt&&console.error(t.error);return this}listens(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)}setEventedParent(t,a){return this._eventedParent=t,this._eventedParentData=a,this}}var Ee={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const ht=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Kt(o,t){const a={};for(const p in o)"ref"!==p&&(a[p]=o[p]);return ht.forEach(p=>{p in t&&(a[p]=t[p])}),a}function Bt(o,t){if(Array.isArray(o)){if(!Array.isArray(t)||o.length!==t.length)return!1;for(let a=0;a<o.length;a++)if(!Bt(o[a],t[a]))return!1;return!0}if("object"==typeof o&&null!==o&&null!==t){if("object"!=typeof t||Object.keys(o).length!==Object.keys(t).length)return!1;for(const a in o)if(!Bt(o[a],t[a]))return!1;return!0}return o===t}const ri={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function ot(o,t,a){a.push({command:ri.addSource,args:[o,t[o]]})}function Dt(o,t,a){t.push({command:ri.removeSource,args:[o]}),a[o]=!0}function wi(o,t,a,p){Dt(o,a,p),ot(o,t,a)}function vn(o,t,a){let p;for(p in o[a])if(Object.prototype.hasOwnProperty.call(o[a],p)&&"data"!==p&&!Bt(o[a][p],t[a][p]))return!1;for(p in t[a])if(Object.prototype.hasOwnProperty.call(t[a],p)&&"data"!==p&&!Bt(o[a][p],t[a][p]))return!1;return!0}function Wi(o,t,a,p,x,T){let I;for(I in t=t||{},o=o||{})Object.prototype.hasOwnProperty.call(o,I)&&(Bt(o[I],t[I])||a.push({command:T,args:[p,I,t[I],x]}));for(I in t)Object.prototype.hasOwnProperty.call(t,I)&&!Object.prototype.hasOwnProperty.call(o,I)&&(Bt(o[I],t[I])||a.push({command:T,args:[p,I,t[I],x]}))}function Nn(o){return o.id}function Cn(o,t){return o[t.id]=t,o}class ii{constructor(t,a,p,x){this.message=(t?`${t}: `:"")+p,x&&(this.identifier=x),null!=a&&a.__line__&&(this.line=a.__line__)}}function at(o,...t){for(const a of t)for(const p in a)o[p]=a[p];return o}class ae extends Error{constructor(t,a){super(a),this.message=a,this.key=t}}class Se{constructor(t,a=[]){this.parent=t,this.bindings={};for(const[p,x]of a)this.bindings[p]=x}concat(t){return new Se(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(`${t} not found in scope.`)}has(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)}}const Pe={kind:"null"},he={kind:"number"},de={kind:"string"},Re={kind:"boolean"},xt={kind:"color"},Jt={kind:"object"},Lt={kind:"value"},yi={kind:"collator"},pi={kind:"formatted"},en={kind:"padding"},nn={kind:"resolvedImage"};function Qi(o,t){return{kind:"array",itemType:o,N:t}}function Vi(o){if("array"===o.kind){const t=Vi(o.itemType);return"number"==typeof o.N?`array<${t}, ${o.N}>`:"value"===o.itemType.kind?"array":`array<${t}>`}return o.kind}const At=[Pe,he,de,Re,xt,pi,Jt,Qi(Lt),en,nn];function ci(o,t){if("error"===t.kind)return null;if("array"===o.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!ci(o.itemType,t.itemType))&&("number"!=typeof o.N||o.N===t.N))return null}else{if(o.kind===t.kind)return null;if("value"===o.kind)for(const a of At)if(!ci(a,t))return null}return`Expected ${Vi(o)} but found ${Vi(t)} instead.`}function vt(o,t){return t.some(a=>a.kind===o.kind)}function q(o,t){return t.some(a=>"null"===a?null===o:"array"===a?Array.isArray(o):"object"===a?o&&!Array.isArray(o)&&"object"==typeof o:a===typeof o)}function B(o,t){return"array"===o.kind&&"array"===t.kind?o.itemType.kind===t.itemType.kind&&"number"==typeof o.N:o.kind===t.kind}const j=.96422,_e=4/29,ke=6/29,ge=3*ke*ke,se=ke*ke*ke,X=Math.PI/180,me=180/Math.PI;function Je(o){return(o%=360)<0&&(o+=360),o}function lt([o,t,a,p]){let x,T;const I=Ie((.2225045*(o=xe(o))+.7168786*(t=xe(t))+.0606169*(a=xe(a)))/1);o===t&&t===a?x=T=I:(x=Ie((.4360747*o+.3850649*t+.1430804*a)/j),T=Ie((.0139322*o+.0971045*t+.7141733*a)/.82521));const O=116*I-16;return[O<0?0:O,500*(x-I),200*(I-T),p]}function xe(o){return o<=.04045?o/12.92:Math.pow((o+.055)/1.055,2.4)}function Ie(o){return o>se?Math.pow(o,1/3):o/ge+_e}function ue([o,t,a,p]){let x=(o+16)/116,T=isNaN(t)?x:x+t/500,I=isNaN(a)?x:x-a/200;return x=1*Qe(x),T=j*Qe(T),I=.82521*Qe(I),[De(3.1338561*T-1.6168667*x-.4906146*I),De(-.9787684*T+1.9161415*x+.033454*I),De(.0719453*T-.2289914*x+1.4052427*I),p]}function De(o){return(o=o<=.00304?12.92*o:1.055*Math.pow(o,1/2.4)-.055)<0?0:o>1?1:o}function Qe(o){return o>ke?o*o*o:ge*(o-_e)}function Tt(o){return parseInt(o.padEnd(2,o),16)/255}function Ye(o,t){return Te(t?o/100:o,0,1)}function Te(o,t,a){return Math.min(Math.max(t,o),a)}function qe(o){return!o.some(Number.isNaN)}const Ut={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class $t{constructor(t,a,p,x=1,T=!0){this.r=t,this.g=a,this.b=p,this.a=x,T||(this.r*=x,this.g*=x,this.b*=x,x||this.overwriteGetter("rgb",[t,a,p,x]))}static parse(t){if(t instanceof $t)return t;if("string"!=typeof t)return;const a=function(p){if("transparent"===(p=p.toLowerCase()))return[0,0,0,0];const x=Ut[p];if(x){const[I,O,L]=x;return[I/255,O/255,L/255,1]}if(p.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(p)){const I=p.length<6?1:2;let O=1;return[Tt(p.slice(O,O+=I)),Tt(p.slice(O,O+=I)),Tt(p.slice(O,O+=I)),Tt(p.slice(O,O+I)||"ff")]}if(p.startsWith("rgb")){const I=p.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(I){const[O,L,Z,K,te,ce,pe,be,Ne,We,tt,_t]=I,st=[K||" ",pe||" ",We].join("");if("  "===st||"  /"===st||",,"===st||",,,"===st){const St=[Z,ce,Ne].join(""),Rt="%%%"===St?100:""===St?255:0;if(Rt){const ei=[Te(+L/Rt,0,1),Te(+te/Rt,0,1),Te(+be/Rt,0,1),tt?Ye(+tt,_t):1];if(qe(ei))return ei}}return}}const T=p.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(T){const[I,O,L,Z,K,te,ce,pe,be]=T,Ne=[L||" ",K||" ",ce].join("");if("  "===Ne||"  /"===Ne||",,"===Ne||",,,"===Ne){const We=[+O,Te(+Z,0,100),Te(+te,0,100),pe?Ye(+pe,be):1];if(qe(We))return function([tt,_t,st,St]){function Rt(ei){const Ri=(ei+tt/30)%12,Li=_t*Math.min(st,1-st);return st-Li*Math.max(-1,Math.min(Ri-3,9-Ri,1))}return tt=Je(tt),_t/=100,st/=100,[Rt(0),Rt(8),Rt(4),St]}(We)}}}(t);return a?new $t(...a,!1):void 0}get rgb(){const{r:t,g:a,b:p,a:x}=this,T=x||1/0;return this.overwriteGetter("rgb",[t/T,a/T,p/T,x])}get hcl(){return this.overwriteGetter("hcl",function(t){const[a,p,x,T]=lt(t),I=Math.sqrt(p*p+x*x);return[Math.round(1e4*I)?Je(Math.atan2(x,p)*me):NaN,I,a,T]}(this.rgb))}get lab(){return this.overwriteGetter("lab",lt(this.rgb))}overwriteGetter(t,a){return Object.defineProperty(this,t,{value:a}),a}toString(){const[t,a,p,x]=this.rgb;return`rgba(${[t,a,p].map(T=>Math.round(255*T)).join(",")},${x})`}}$t.black=new $t(0,0,0,1),$t.white=new $t(1,1,1,1),$t.transparent=new $t(0,0,0,0),$t.red=new $t(1,0,0,1);class mi{constructor(t,a,p){this.sensitivity=t?a?"variant":"case":a?"accent":"base",this.locale=p,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(t,a){return this.collator.compare(t,a)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class di{constructor(t,a,p,x,T){this.text=t,this.image=a,this.scale=p,this.fontStack=x,this.textColor=T}}class bn{constructor(t){this.sections=t}static fromString(t){return new bn([new di(t,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(t=>0!==t.text.length||t.image&&0!==t.image.name.length)}static factory(t){return t instanceof bn?t:bn.fromString(t)}toString(){return 0===this.sections.length?"":this.sections.map(t=>t.text).join("")}}class Ui{constructor(t){this.values=t.slice()}static parse(t){if(t instanceof Ui)return t;if("number"==typeof t)return new Ui([t,t,t,t]);if(Array.isArray(t)&&!(t.length<1||t.length>4)){for(const a of t)if("number"!=typeof a)return;switch(t.length){case 1:t=[t[0],t[0],t[0],t[0]];break;case 2:t=[t[0],t[1],t[0],t[1]];break;case 3:t=[t[0],t[1],t[2],t[1]]}return new Ui(t)}}toString(){return JSON.stringify(this.values)}}class Gn{constructor(t){this.name=t.name,this.available=t.available}toString(){return this.name}static fromString(t){return t?new Gn({name:t,available:!1}):null}}function To(o,t,a,p){return"number"==typeof o&&o>=0&&o<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof a&&a>=0&&a<=255?void 0===p||"number"==typeof p&&p>=0&&p<=1?null:`Invalid rgba value [${[o,t,a,p].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof p?[o,t,a,p]:[o,t,a]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function kr(o){if(null===o||"string"==typeof o||"boolean"==typeof o||"number"==typeof o||o instanceof $t||o instanceof mi||o instanceof bn||o instanceof Ui||o instanceof Gn)return!0;if(Array.isArray(o)){for(const t of o)if(!kr(t))return!1;return!0}if("object"==typeof o){for(const t in o)if(!kr(o[t]))return!1;return!0}return!1}function kn(o){if(null===o)return Pe;if("string"==typeof o)return de;if("boolean"==typeof o)return Re;if("number"==typeof o)return he;if(o instanceof $t)return xt;if(o instanceof mi)return yi;if(o instanceof bn)return pi;if(o instanceof Ui)return en;if(o instanceof Gn)return nn;if(Array.isArray(o)){const t=o.length;let a;for(const p of o){const x=kn(p);if(a){if(a===x)continue;a=Lt;break}a=x}return Qi(a||Lt,t)}return Jt}function Nr(o){const t=typeof o;return null===o?"":"string"===t||"number"===t||"boolean"===t?String(o):o instanceof $t||o instanceof bn||o instanceof Ui||o instanceof Gn?o.toString():JSON.stringify(o)}class io{constructor(t,a){this.type=t,this.value=a}static parse(t,a){if(2!==t.length)return a.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!kr(t[1]))return a.error("invalid value");const p=t[1];let x=kn(p);const T=a.expectedType;return"array"!==x.kind||0!==x.N||!T||"array"!==T.kind||"number"==typeof T.N&&0!==T.N||(x=T),new io(x,p)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class sn{constructor(t){this.name="ExpressionEvaluationError",this.message=t}toJSON(){return this.message}}const fn={string:de,number:he,boolean:Re,object:Jt};class Dr{constructor(t,a){this.type=t,this.args=a}static parse(t,a){if(t.length<2)return a.error("Expected at least one argument.");let p,x=1;const T=t[0];if("array"===T){let O,L;if(t.length>2){const Z=t[1];if("string"!=typeof Z||!(Z in fn)||"object"===Z)return a.error('The item type argument of "array" must be one of string, number, boolean',1);O=fn[Z],x++}else O=Lt;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return a.error('The length argument to "array" must be a positive integer literal',2);L=t[2],x++}p=Qi(O,L)}else{if(!fn[T])throw new Error(`Types doesn't contain name = ${T}`);p=fn[T]}const I=[];for(;x<t.length;x++){const O=a.parse(t[x],x,Lt);if(!O)return null;I.push(O)}return new Dr(p,I)}evaluate(t){for(let a=0;a<this.args.length;a++){const p=this.args[a].evaluate(t);if(!ci(this.type,kn(p)))return p;if(a===this.args.length-1)throw new sn(`Expected value to be of type ${Vi(this.type)}, but found ${Vi(kn(p))} instead.`)}throw new Error}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}}const ls={"to-boolean":Re,"to-color":xt,"to-number":he,"to-string":de};class er{constructor(t,a){this.type=t,this.args=a}static parse(t,a){if(t.length<2)return a.error("Expected at least one argument.");const p=t[0];if(!ls[p])throw new Error(`Can't parse ${p} as it is not part of the known types`);if(("to-boolean"===p||"to-string"===p)&&2!==t.length)return a.error("Expected one argument.");const x=ls[p],T=[];for(let I=1;I<t.length;I++){const O=a.parse(t[I],I,Lt);if(!O)return null;T.push(O)}return new er(x,T)}evaluate(t){if("boolean"===this.type.kind)return!!this.args[0].evaluate(t);if("color"===this.type.kind){let a,p;for(const x of this.args){if(a=x.evaluate(t),p=null,a instanceof $t)return a;if("string"==typeof a){const T=t.parseColor(a);if(T)return T}else if(Array.isArray(a)&&(p=a.length<3||a.length>4?`Invalid rbga value ${JSON.stringify(a)}: expected an array containing either three or four numeric values.`:To(a[0],a[1],a[2],a[3]),!p))return new $t(a[0]/255,a[1]/255,a[2]/255,a[3])}throw new sn(p||`Could not parse color from value '${"string"==typeof a?a:JSON.stringify(a)}'`)}if("padding"===this.type.kind){let a;for(const p of this.args){a=p.evaluate(t);const x=Ui.parse(a);if(x)return x}throw new sn(`Could not parse padding from value '${"string"==typeof a?a:JSON.stringify(a)}'`)}if("number"===this.type.kind){let a=null;for(const p of this.args){if(a=p.evaluate(t),null===a)return 0;const x=Number(a);if(!isNaN(x))return x}throw new sn(`Could not convert ${JSON.stringify(a)} to number.`)}return"formatted"===this.type.kind?bn.fromString(Nr(this.args[0].evaluate(t))):"resolvedImage"===this.type.kind?Gn.fromString(Nr(this.args[0].evaluate(t))):Nr(this.args[0].evaluate(t))}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}}const ur=["Unknown","Point","LineString","Polygon"];class _o{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?ur[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(t){let a=this._parseColorCache[t];return a||(a=this._parseColorCache[t]=$t.parse(t)),a}}class lo{constructor(t,a,p=[],x,T=new Se,I=[]){this.registry=t,this.path=p,this.key=p.map(O=>`[${O}]`).join(""),this.scope=T,this.errors=I,this.expectedType=x,this._isConstant=a}parse(t,a,p,x,T={}){return a?this.concat(a,p,x)._parse(t,T):this._parse(t,T)}_parse(t,a){function p(x,T,I){return"assert"===I?new Dr(T,[x]):"coerce"===I?new er(T,[x]):x}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const x=t[0];if("string"!=typeof x)return this.error(`Expression name must be a string, but found ${typeof x} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const T=this.registry[x];if(T){let I=T.parse(t,this);if(!I)return null;if(this.expectedType){const O=this.expectedType,L=I.type;if("string"!==O.kind&&"number"!==O.kind&&"boolean"!==O.kind&&"object"!==O.kind&&"array"!==O.kind||"value"!==L.kind)if("color"!==O.kind&&"formatted"!==O.kind&&"resolvedImage"!==O.kind||"value"!==L.kind&&"string"!==L.kind)if("padding"!==O.kind||"value"!==L.kind&&"number"!==L.kind&&"array"!==L.kind){if(this.checkSubtype(O,L))return null}else I=p(I,O,a.typeAnnotation||"coerce");else I=p(I,O,a.typeAnnotation||"coerce");else I=p(I,O,a.typeAnnotation||"assert")}if(!(I instanceof io)&&"resolvedImage"!==I.type.kind&&this._isConstant(I)){const O=new _o;try{I=new io(I.type,I.evaluate(O))}catch(L){return this.error(L.message),null}}return I}return this.error(`Unknown expression "${x}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===t?"'undefined' value invalid. Use null instead.":"object"==typeof t?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof t} instead.`)}concat(t,a,p){const x="number"==typeof t?this.path.concat(t):this.path,T=p?this.scope.concat(p):this.scope;return new lo(this.registry,this._isConstant,x,a||null,T,this.errors)}error(t,...a){const p=`${this.key}${a.map(x=>`[${x}]`).join("")}`;this.errors.push(new ae(p,t))}checkSubtype(t,a){const p=ci(t,a);return p&&this.error(p),p}}class co{constructor(t,a,p){this.type=yi,this.locale=p,this.caseSensitive=t,this.diacriticSensitive=a}static parse(t,a){if(2!==t.length)return a.error("Expected one argument.");const p=t[1];if("object"!=typeof p||Array.isArray(p))return a.error("Collator options argument must be an object.");const x=a.parse(void 0!==p["case-sensitive"]&&p["case-sensitive"],1,Re);if(!x)return null;const T=a.parse(void 0!==p["diacritic-sensitive"]&&p["diacritic-sensitive"],1,Re);if(!T)return null;let I=null;return p.locale&&(I=a.parse(p.locale,1,de),!I)?null:new co(x,T,I)}evaluate(t){return new mi(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)}outputDefined(){return!1}}const gn=8192;function no(o,t){o[0]=Math.min(o[0],t[0]),o[1]=Math.min(o[1],t[1]),o[2]=Math.max(o[2],t[0]),o[3]=Math.max(o[3],t[1])}function Ro(o,t){return!(o[0]<=t[0]||o[2]>=t[2]||o[1]<=t[1]||o[3]>=t[3])}function cs(o,t){const a=(180+o[0])/360,p=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o[1]*Math.PI/360)))/360,x=Math.pow(2,t.z);return[Math.round(a*x*gn),Math.round(p*x*gn)]}function Ma(o,t,a){const p=o[0]-t[0],x=o[1]-t[1],T=o[0]-a[0],I=o[1]-a[1];return p*I-T*x==0&&p*T<=0&&x*I<=0}function Va(o,t){let a=!1;for(let I=0,O=t.length;I<O;I++){const L=t[I];for(let Z=0,K=L.length;Z<K-1;Z++){if(Ma(o,L[Z],L[Z+1]))return!1;(x=L[Z])[1]>(p=o)[1]!=(T=L[Z+1])[1]>p[1]&&p[0]<(T[0]-x[0])*(p[1]-x[1])/(T[1]-x[1])+x[0]&&(a=!a)}}var p,x,T;return a}function Ic(o,t){for(let a=0;a<t.length;a++)if(Va(o,t[a]))return!0;return!1}function Da(o,t,a,p){const x=p[0]-a[0],T=p[1]-a[1],I=(o[0]-a[0])*T-x*(o[1]-a[1]),O=(t[0]-a[0])*T-x*(t[1]-a[1]);return I>0&&O<0||I<0&&O>0}function vl(o,t,a){for(const Z of a)for(let K=0;K<Z.length-1;++K)if((O=[(I=Z[K+1])[0]-(T=Z[K])[0],I[1]-T[1]])[0]*(L=[(x=t)[0]-(p=o)[0],x[1]-p[1]])[1]-O[1]*L[0]!=0&&Da(p,x,T,I)&&Da(T,I,p,x))return!0;var p,x,T,I,O,L;return!1}function Sa(o,t){for(let a=0;a<o.length;++a)if(!Va(o[a],t))return!1;for(let a=0;a<o.length-1;++a)if(vl(o[a],o[a+1],t))return!1;return!0}function Ta(o,t){for(let a=0;a<t.length;a++)if(Sa(o,t[a]))return!0;return!1}function Ua(o,t,a){const p=[];for(let x=0;x<o.length;x++){const T=[];for(let I=0;I<o[x].length;I++){const O=cs(o[x][I],a);no(t,O),T.push(O)}p.push(T)}return p}function cn(o,t,a){const p=[];for(let x=0;x<o.length;x++){const T=Ua(o[x],t,a);p.push(T)}return p}function Or(o,t,a,p){if(o[0]<a[0]||o[0]>a[2]){const x=.5*p;let T=o[0]-a[0]>x?-p:a[0]-o[0]>x?p:0;0===T&&(T=o[0]-a[2]>x?-p:a[2]-o[0]>x?p:0),o[0]+=T}no(t,o)}function Yr(o,t,a,p){const x=Math.pow(2,p.z)*gn,T=[p.x*gn,p.y*gn],I=[];for(const O of o)for(const L of O){const Z=[L.x+T[0],L.y+T[1]];Or(Z,t,a,x),I.push(Z)}return I}function Rs(o,t,a,p){const x=Math.pow(2,p.z)*gn,T=[p.x*gn,p.y*gn],I=[];for(const L of o){const Z=[];for(const K of L){const te=[K.x+T[0],K.y+T[1]];no(t,te),Z.push(te)}I.push(Z)}if(t[2]-t[0]<=x/2){(O=t)[0]=O[1]=1/0,O[2]=O[3]=-1/0;for(const L of I)for(const Z of L)Or(Z,t,a,x)}var O;return I}class vr{constructor(t,a){this.type=Re,this.geojson=t,this.geometries=a}static parse(t,a){if(2!==t.length)return a.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(kr(t[1])){const p=t[1];if("FeatureCollection"===p.type)for(let x=0;x<p.features.length;++x){const T=p.features[x].geometry.type;if("Polygon"===T||"MultiPolygon"===T)return new vr(p,p.features[x].geometry)}else if("Feature"===p.type){const x=p.geometry.type;if("Polygon"===x||"MultiPolygon"===x)return new vr(p,p.geometry)}else if("Polygon"===p.type||"MultiPolygon"===p.type)return new vr(p,p)}return a.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(null!=t.geometry()&&null!=t.canonicalID()){if("Point"===t.geometryType())return function(a,p){const x=[1/0,1/0,-1/0,-1/0],T=[1/0,1/0,-1/0,-1/0],I=a.canonicalID();if("Polygon"===p.type){const O=Ua(p.coordinates,T,I),L=Yr(a.geometry(),x,T,I);if(!Ro(x,T))return!1;for(const Z of L)if(!Va(Z,O))return!1}if("MultiPolygon"===p.type){const O=cn(p.coordinates,T,I),L=Yr(a.geometry(),x,T,I);if(!Ro(x,T))return!1;for(const Z of L)if(!Ic(Z,O))return!1}return!0}(t,this.geometries);if("LineString"===t.geometryType())return function(a,p){const x=[1/0,1/0,-1/0,-1/0],T=[1/0,1/0,-1/0,-1/0],I=a.canonicalID();if("Polygon"===p.type){const O=Ua(p.coordinates,T,I),L=Rs(a.geometry(),x,T,I);if(!Ro(x,T))return!1;for(const Z of L)if(!Sa(Z,O))return!1}if("MultiPolygon"===p.type){const O=cn(p.coordinates,T,I),L=Rs(a.geometry(),x,T,I);if(!Ro(x,T))return!1;for(const Z of L)if(!Ta(Z,O))return!1}return!0}(t,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class Fs{constructor(t,a){this.type=a.type,this.name=t,this.boundExpression=a}static parse(t,a){if(2!==t.length||"string"!=typeof t[1])return a.error("'var' expression requires exactly one string literal argument.");const p=t[1];return a.scope.has(p)?new Fs(p,a.scope.get(p)):a.error(`Unknown variable "${p}". Make sure "${p}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return!1}}class yo{constructor(t,a,p,x){this.name=t,this.type=a,this._evaluate=p,this.args=x}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t)}outputDefined(){return!1}static parse(t,a){const p=t[0],x=yo.definitions[p];if(!x)return a.error(`Unknown expression "${p}". If you wanted a literal array, use ["literal", [...]].`,0);const T=Array.isArray(x)?x[0]:x.type,I=Array.isArray(x)?[[x[1],x[2]]]:x.overloads,O=I.filter(([Z])=>!Array.isArray(Z)||Z.length===t.length-1);let L=null;for(const[Z,K]of O){L=new lo(a.registry,Jo,a.path,null,a.scope);const te=[];let ce=!1;for(let pe=1;pe<t.length;pe++){const be=t[pe],Ne=Array.isArray(Z)?Z[pe-1]:Z.type,We=L.parse(be,1+te.length,Ne);if(!We){ce=!0;break}te.push(We)}if(!ce)if(Array.isArray(Z)&&Z.length!==te.length)L.error(`Expected ${Z.length} arguments, but found ${te.length} instead.`);else{for(let pe=0;pe<te.length;pe++){const be=Array.isArray(Z)?Z[pe]:Z.type,Ne=te[pe];L.concat(pe+1).checkSubtype(be,Ne.type)}if(0===L.errors.length)return new yo(p,T,K,te)}}if(1===O.length)a.errors.push(...L.errors);else{const Z=(O.length?O:I).map(([te])=>{return ce=te,Array.isArray(ce)?`(${ce.map(Vi).join(", ")})`:`(${Vi(ce.type)}...)`;var ce}).join(" | "),K=[];for(let te=1;te<t.length;te++){const ce=a.parse(t[te],1+K.length);if(!ce)return null;K.push(Vi(ce.type))}a.error(`Expected arguments of type ${Z}, but found (${K.join(", ")}) instead.`)}return null}static register(t,a){yo.definitions=a;for(const p in a)t[p]=yo}}function Jo(o){if(o instanceof Fs)return Jo(o.boundExpression);if(o instanceof yo&&"error"===o.name||o instanceof co||o instanceof vr)return!1;const t=o instanceof er||o instanceof Dr;let a=!0;return o.eachChild(p=>{a=t?a&&Jo(p):a&&p instanceof io}),!!a&&Ho(o)&&fr(o,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Ho(o){if(o instanceof yo&&("get"===o.name&&1===o.args.length||"feature-state"===o.name||"has"===o.name&&1===o.args.length||"properties"===o.name||"geometry-type"===o.name||"id"===o.name||/^filter-/.test(o.name))||o instanceof vr)return!1;let t=!0;return o.eachChild(a=>{t&&!Ho(a)&&(t=!1)}),t}function Qo(o){if(o instanceof yo&&"feature-state"===o.name)return!1;let t=!0;return o.eachChild(a=>{t&&!Qo(a)&&(t=!1)}),t}function fr(o,t){if(o instanceof yo&&t.indexOf(o.name)>=0)return!1;let a=!0;return o.eachChild(p=>{a&&!fr(p,t)&&(a=!1)}),a}function Ai(o,t){const a=o.length-1;let p,x,T=0,I=a,O=0;for(;T<=I;)if(O=Math.floor((T+I)/2),p=o[O],x=o[O+1],p<=t){if(O===a||t<x)return O;T=O+1}else{if(!(p>t))throw new sn("Input is not a number.");I=O-1}return 0}class rn{constructor(t,a,p){this.type=t,this.input=a,this.labels=[],this.outputs=[];for(const[x,T]of p)this.labels.push(x),this.outputs.push(T)}static parse(t,a){if(t.length-1<4)return a.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return a.error("Expected an even number of arguments.");const p=a.parse(t[1],1,he);if(!p)return null;const x=[];let T=null;a.expectedType&&"value"!==a.expectedType.kind&&(T=a.expectedType);for(let I=1;I<t.length;I+=2){const O=1===I?-1/0:t[I],L=t[I+1],Z=I,K=I+1;if("number"!=typeof O)return a.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Z);if(x.length&&x[x.length-1][0]>=O)return a.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Z);const te=a.parse(L,K,T);if(!te)return null;T=T||te.type,x.push([O,te])}return new rn(T,p,x)}evaluate(t){const a=this.labels,p=this.outputs;if(1===a.length)return p[0].evaluate(t);const x=this.input.evaluate(t);if(x<=a[0])return p[0].evaluate(t);const T=a.length;return x>=a[T-1]?p[T-1].evaluate(t):p[Ai(a,x)].evaluate(t)}eachChild(t){t(this.input);for(const a of this.outputs)t(a)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}}function Pn(o,t,a){return o+a*(t-o)}function vo(o,t,a){return o.map((p,x)=>Pn(p,t[x],a))}const zr={number:Pn,color:function(o,t,a,p="rgb"){switch(p){case"rgb":{const[x,T,I,O]=vo(o.rgb,t.rgb,a);return new $t(x,T,I,O,!1)}case"hcl":{const[x,T,I,O]=o.hcl,[L,Z,K,te]=t.hcl;let ce,pe;if(isNaN(x)||isNaN(L))isNaN(x)?isNaN(L)?ce=NaN:(ce=L,1!==I&&0!==I||(pe=Z)):(ce=x,1!==K&&0!==K||(pe=T));else{let _t=L-x;L>x&&_t>180?_t-=360:L<x&&x-L>180&&(_t+=360),ce=x+a*_t}const[be,Ne,We,tt]=function([_t,st,St,Rt]){return _t=isNaN(_t)?0:_t*X,ue([St,Math.cos(_t)*st,Math.sin(_t)*st,Rt])}([ce,pe??Pn(T,Z,a),Pn(I,K,a),Pn(O,te,a)]);return new $t(be,Ne,We,tt,!1)}case"lab":{const[x,T,I,O]=ue(vo(o.lab,t.lab,a));return new $t(x,T,I,O,!1)}}},array:vo,padding:function(o,t,a){return new Ui(vo(o.values,t.values,a))}};class Kn{constructor(t,a,p,x,T){this.type=t,this.operator=a,this.interpolation=p,this.input=x,this.labels=[],this.outputs=[];for(const[I,O]of T)this.labels.push(I),this.outputs.push(O)}static interpolationFactor(t,a,p,x){let T=0;if("exponential"===t.name)T=es(a,t.base,p,x);else if("linear"===t.name)T=es(a,1,p,x);else if("cubic-bezier"===t.name){const I=t.controlPoints;T=new nt(I[0],I[1],I[2],I[3]).solve(es(a,1,p,x))}return T}static parse(t,a){let[p,x,T,...I]=t;if(!Array.isArray(x)||0===x.length)return a.error("Expected an interpolation type expression.",1);if("linear"===x[0])x={name:"linear"};else if("exponential"===x[0]){const Z=x[1];if("number"!=typeof Z)return a.error("Exponential interpolation requires a numeric base.",1,1);x={name:"exponential",base:Z}}else{if("cubic-bezier"!==x[0])return a.error(`Unknown interpolation type ${String(x[0])}`,1,0);{const Z=x.slice(1);if(4!==Z.length||Z.some(K=>"number"!=typeof K||K<0||K>1))return a.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);x={name:"cubic-bezier",controlPoints:Z}}}if(t.length-1<4)return a.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return a.error("Expected an even number of arguments.");if(T=a.parse(T,2,he),!T)return null;const O=[];let L=null;"interpolate-hcl"===p||"interpolate-lab"===p?L=xt:a.expectedType&&"value"!==a.expectedType.kind&&(L=a.expectedType);for(let Z=0;Z<I.length;Z+=2){const K=I[Z],te=I[Z+1],ce=Z+3,pe=Z+4;if("number"!=typeof K)return a.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ce);if(O.length&&O[O.length-1][0]>=K)return a.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',ce);const be=a.parse(te,pe,L);if(!be)return null;L=L||be.type,O.push([K,be])}return B(L,he)||B(L,xt)||B(L,en)||B(L,Qi(he))?new Kn(L,p,x,T,O):a.error(`Type ${Vi(L)} is not interpolatable.`)}evaluate(t){const a=this.labels,p=this.outputs;if(1===a.length)return p[0].evaluate(t);const x=this.input.evaluate(t);if(x<=a[0])return p[0].evaluate(t);const T=a.length;if(x>=a[T-1])return p[T-1].evaluate(t);const I=Ai(a,x),O=Kn.interpolationFactor(this.interpolation,x,a[I],a[I+1]),L=p[I].evaluate(t),Z=p[I+1].evaluate(t);switch(this.operator){case"interpolate":return zr[this.type.kind](L,Z,O);case"interpolate-hcl":return zr.color(L,Z,O,"hcl");case"interpolate-lab":return zr.color(L,Z,O,"lab")}}eachChild(t){t(this.input);for(const a of this.outputs)t(a)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}}function es(o,t,a,p){const x=p-a,T=o-a;return 0===x?0:1===t?T/x:(Math.pow(t,T)-1)/(Math.pow(t,x)-1)}class gr{constructor(t,a){this.type=t,this.args=a}static parse(t,a){if(t.length<2)return a.error("Expectected at least one argument.");let p=null;const x=a.expectedType;x&&"value"!==x.kind&&(p=x);const T=[];for(const O of t.slice(1)){const L=a.parse(O,1+T.length,p,void 0,{typeAnnotation:"omit"});if(!L)return null;p=p||L.type,T.push(L)}if(!p)throw new Error("No output type");const I=x&&T.some(O=>ci(x,O.type));return new gr(I?Lt:p,T)}evaluate(t){let a,p=null,x=0;for(const T of this.args)if(x++,p=T.evaluate(t),p&&p instanceof Gn&&!p.available&&(a||(a=p.name),p=null,x===this.args.length&&(p=a)),null!==p)break;return p}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}}class $o{constructor(t,a){this.type=a.type,this.bindings=[].concat(t),this.result=a}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const a of this.bindings)t(a[1]);t(this.result)}static parse(t,a){if(t.length<4)return a.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const p=[];for(let T=1;T<t.length-1;T+=2){const I=t[T];if("string"!=typeof I)return a.error(`Expected string, but found ${typeof I} instead.`,T);if(/[^a-zA-Z0-9_]/.test(I))return a.error("Variable names must contain only alphanumeric characters or '_'.",T);const O=a.parse(t[T+1],T+1);if(!O)return null;p.push([I,O])}const x=a.parse(t[t.length-1],t.length-1,a.expectedType,p);return x?new $o(p,x):null}outputDefined(){return this.result.outputDefined()}}class Fo{constructor(t,a,p){this.type=t,this.index=a,this.input=p}static parse(t,a){if(3!==t.length)return a.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const p=a.parse(t[1],1,he),x=a.parse(t[2],2,Qi(a.expectedType||Lt));return p&&x?new Fo(x.type.itemType,p,x):null}evaluate(t){const a=this.index.evaluate(t),p=this.input.evaluate(t);if(a<0)throw new sn(`Array index out of bounds: ${a} < 0.`);if(a>=p.length)throw new sn(`Array index out of bounds: ${a} > ${p.length-1}.`);if(a!==Math.floor(a))throw new sn(`Array index must be an integer, but found ${a} instead.`);return p[a]}eachChild(t){t(this.index),t(this.input)}outputDefined(){return!1}}class an{constructor(t,a){this.type=Re,this.needle=t,this.haystack=a}static parse(t,a){if(3!==t.length)return a.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const p=a.parse(t[1],1,Lt),x=a.parse(t[2],2,Lt);return p&&x?vt(p.type,[Re,de,he,Pe,Lt])?new an(p,x):a.error(`Expected first argument to be of type boolean, string, number or null, but found ${Vi(p.type)} instead`):null}evaluate(t){const a=this.needle.evaluate(t),p=this.haystack.evaluate(t);if(!p)return!1;if(!q(a,["boolean","string","number","null"]))throw new sn(`Expected first argument to be of type boolean, string, number or null, but found ${Vi(kn(a))} instead.`);if(!q(p,["string","array"]))throw new sn(`Expected second argument to be of type array or string, but found ${Vi(kn(p))} instead.`);return p.indexOf(a)>=0}eachChild(t){t(this.needle),t(this.haystack)}outputDefined(){return!0}}class Lo{constructor(t,a,p){this.type=he,this.needle=t,this.haystack=a,this.fromIndex=p}static parse(t,a){if(t.length<=2||t.length>=5)return a.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const p=a.parse(t[1],1,Lt),x=a.parse(t[2],2,Lt);if(!p||!x)return null;if(!vt(p.type,[Re,de,he,Pe,Lt]))return a.error(`Expected first argument to be of type boolean, string, number or null, but found ${Vi(p.type)} instead`);if(4===t.length){const T=a.parse(t[3],3,he);return T?new Lo(p,x,T):null}return new Lo(p,x)}evaluate(t){const a=this.needle.evaluate(t),p=this.haystack.evaluate(t);if(!q(a,["boolean","string","number","null"]))throw new sn(`Expected first argument to be of type boolean, string, number or null, but found ${Vi(kn(a))} instead.`);if(!q(p,["string","array"]))throw new sn(`Expected second argument to be of type array or string, but found ${Vi(kn(p))} instead.`);if(this.fromIndex){const x=this.fromIndex.evaluate(t);return p.indexOf(a,x)}return p.indexOf(a)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)}outputDefined(){return!1}}class ia{constructor(t,a,p,x,T,I){this.inputType=t,this.type=a,this.input=p,this.cases=x,this.outputs=T,this.otherwise=I}static parse(t,a){if(t.length<5)return a.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!=1)return a.error("Expected an even number of arguments.");let p,x;a.expectedType&&"value"!==a.expectedType.kind&&(x=a.expectedType);const T={},I=[];for(let Z=2;Z<t.length-1;Z+=2){let K=t[Z];const te=t[Z+1];Array.isArray(K)||(K=[K]);const ce=a.concat(Z);if(0===K.length)return ce.error("Expected at least one branch label.");for(const be of K){if("number"!=typeof be&&"string"!=typeof be)return ce.error("Branch labels must be numbers or strings.");if("number"==typeof be&&Math.abs(be)>Number.MAX_SAFE_INTEGER)return ce.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof be&&Math.floor(be)!==be)return ce.error("Numeric branch labels must be integer values.");if(p){if(ce.checkSubtype(p,kn(be)))return null}else p=kn(be);if(void 0!==T[String(be)])return ce.error("Branch labels must be unique.");T[String(be)]=I.length}const pe=a.parse(te,Z,x);if(!pe)return null;x=x||pe.type,I.push(pe)}const O=a.parse(t[1],1,Lt);if(!O)return null;const L=a.parse(t[t.length-1],t.length-1,x);return L?"value"!==O.type.kind&&a.concat(1).checkSubtype(p,O.type)?null:new ia(p,x,O,T,I,L):null}evaluate(t){const a=this.input.evaluate(t);return(kn(a)===this.inputType&&this.outputs[this.cases[a]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)}outputDefined(){return this.outputs.every(t=>t.outputDefined())&&this.otherwise.outputDefined()}}class un{constructor(t,a,p){this.type=t,this.branches=a,this.otherwise=p}static parse(t,a){if(t.length<4)return a.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!=0)return a.error("Expected an odd number of arguments.");let p;a.expectedType&&"value"!==a.expectedType.kind&&(p=a.expectedType);const x=[];for(let I=1;I<t.length-1;I+=2){const O=a.parse(t[I],I,Re);if(!O)return null;const L=a.parse(t[I+1],I+1,p);if(!L)return null;x.push([O,L]),p=p||L.type}const T=a.parse(t[t.length-1],t.length-1,p);if(!T)return null;if(!p)throw new Error("Can't infer output type");return new un(p,x,T)}evaluate(t){for(const[a,p]of this.branches)if(a.evaluate(t))return p.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[a,p]of this.branches)t(a),t(p);t(this.otherwise)}outputDefined(){return this.branches.every(([t,a])=>a.outputDefined())&&this.otherwise.outputDefined()}}class hr{constructor(t,a,p,x){this.type=t,this.input=a,this.beginIndex=p,this.endIndex=x}static parse(t,a){if(t.length<=2||t.length>=5)return a.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const p=a.parse(t[1],1,Lt),x=a.parse(t[2],2,he);if(!p||!x)return null;if(!vt(p.type,[Qi(Lt),de,Lt]))return a.error(`Expected first argument to be of type array or string, but found ${Vi(p.type)} instead`);if(4===t.length){const T=a.parse(t[3],3,he);return T?new hr(p.type,p,x,T):null}return new hr(p.type,p,x)}evaluate(t){const a=this.input.evaluate(t),p=this.beginIndex.evaluate(t);if(!q(a,["string","array"]))throw new sn(`Expected first argument to be of type array or string, but found ${Vi(kn(a))} instead.`);if(this.endIndex){const x=this.endIndex.evaluate(t);return a.slice(p,x)}return a.slice(p)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)}outputDefined(){return!1}}function vs(o,t){return"=="===o||"!="===o?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function ds(o,t,a,p){return 0===p.compare(t,a)}function bo(o,t,a){const p="=="!==o&&"!="!==o;return class SE{constructor(T,I,O){this.type=Re,this.lhs=T,this.rhs=I,this.collator=O,this.hasUntypedArgument="value"===T.type.kind||"value"===I.type.kind}static parse(T,I){if(3!==T.length&&4!==T.length)return I.error("Expected two or three arguments.");const O=T[0];let L=I.parse(T[1],1,Lt);if(!L)return null;if(!vs(O,L.type))return I.concat(1).error(`"${O}" comparisons are not supported for type '${Vi(L.type)}'.`);let Z=I.parse(T[2],2,Lt);if(!Z)return null;if(!vs(O,Z.type))return I.concat(2).error(`"${O}" comparisons are not supported for type '${Vi(Z.type)}'.`);if(L.type.kind!==Z.type.kind&&"value"!==L.type.kind&&"value"!==Z.type.kind)return I.error(`Cannot compare types '${Vi(L.type)}' and '${Vi(Z.type)}'.`);p&&("value"===L.type.kind&&"value"!==Z.type.kind?L=new Dr(Z.type,[L]):"value"!==L.type.kind&&"value"===Z.type.kind&&(Z=new Dr(L.type,[Z])));let K=null;if(4===T.length){if("string"!==L.type.kind&&"string"!==Z.type.kind&&"value"!==L.type.kind&&"value"!==Z.type.kind)return I.error("Cannot use collator to compare non-string types.");if(K=I.parse(T[3],3,yi),!K)return null}return new SE(L,Z,K)}evaluate(T){const I=this.lhs.evaluate(T),O=this.rhs.evaluate(T);if(p&&this.hasUntypedArgument){const L=kn(I),Z=kn(O);if(L.kind!==Z.kind||"string"!==L.kind&&"number"!==L.kind)throw new sn(`Expected arguments for "${o}" to be (string, string) or (number, number), but found (${L.kind}, ${Z.kind}) instead.`)}if(this.collator&&!p&&this.hasUntypedArgument){const L=kn(I),Z=kn(O);if("string"!==L.kind||"string"!==Z.kind)return t(T,I,O)}return this.collator?a(T,I,O,this.collator.evaluate(T)):t(T,I,O)}eachChild(T){T(this.lhs),T(this.rhs),this.collator&&T(this.collator)}outputDefined(){return!0}}}const na=bo("==",function(o,t,a){return t===a},ds),ja=bo("!=",function(o,t,a){return t!==a},function(o,t,a,p){return!ds(0,t,a,p)}),bs=bo("<",function(o,t,a){return t<a},function(o,t,a,p){return p.compare(t,a)<0}),Go=bo(">",function(o,t,a){return t>a},function(o,t,a,p){return p.compare(t,a)>0}),uo=bo("<=",function(o,t,a){return t<=a},function(o,t,a,p){return p.compare(t,a)<=0}),Ls=bo(">=",function(o,t,a){return t>=a},function(o,t,a,p){return p.compare(t,a)>=0});class _n{constructor(t,a,p,x,T){this.type=de,this.number=t,this.locale=a,this.currency=p,this.minFractionDigits=x,this.maxFractionDigits=T}static parse(t,a){if(3!==t.length)return a.error("Expected two arguments.");const p=a.parse(t[1],1,he);if(!p)return null;const x=t[2];if("object"!=typeof x||Array.isArray(x))return a.error("NumberFormat options argument must be an object.");let T=null;if(x.locale&&(T=a.parse(x.locale,1,de),!T))return null;let I=null;if(x.currency&&(I=a.parse(x.currency,1,de),!I))return null;let O=null;if(x["min-fraction-digits"]&&(O=a.parse(x["min-fraction-digits"],1,he),!O))return null;let L=null;return x["max-fraction-digits"]&&(L=a.parse(x["max-fraction-digits"],1,he),!L)?null:new _n(p,T,I,O,L)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)}outputDefined(){return!1}}class us{constructor(t){this.type=pi,this.sections=t}static parse(t,a){if(t.length<2)return a.error("Expected at least one argument.");const p=t[1];if(!Array.isArray(p)&&"object"==typeof p)return a.error("First argument must be an image or text section.");const x=[];let T=!1;for(let I=1;I<=t.length-1;++I){const O=t[I];if(T&&"object"==typeof O&&!Array.isArray(O)){T=!1;let L=null;if(O["font-scale"]&&(L=a.parse(O["font-scale"],1,he),!L))return null;let Z=null;if(O["text-font"]&&(Z=a.parse(O["text-font"],1,Qi(de)),!Z))return null;let K=null;if(O["text-color"]&&(K=a.parse(O["text-color"],1,xt),!K))return null;const te=x[x.length-1];te.scale=L,te.font=Z,te.textColor=K}else{const L=a.parse(t[I],1,Lt);if(!L)return null;const Z=L.type.kind;if("string"!==Z&&"value"!==Z&&"null"!==Z&&"resolvedImage"!==Z)return a.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");T=!0,x.push({content:L,scale:null,font:null,textColor:null})}}return new us(x)}evaluate(t){return new bn(this.sections.map(a=>{const p=a.content.evaluate(t);return kn(p)===nn?new di("",p,null,null,null):new di(Nr(p),null,a.scale?a.scale.evaluate(t):null,a.font?a.font.evaluate(t).join(","):null,a.textColor?a.textColor.evaluate(t):null)}))}eachChild(t){for(const a of this.sections)t(a.content),a.scale&&t(a.scale),a.font&&t(a.font),a.textColor&&t(a.textColor)}outputDefined(){return!1}}class nl{constructor(t){this.type=nn,this.input=t}static parse(t,a){if(2!==t.length)return a.error("Expected two arguments.");const p=a.parse(t[1],1,de);return p?new nl(p):a.error("No image name provided.")}evaluate(t){const a=this.input.evaluate(t),p=Gn.fromString(a);return p&&t.availableImages&&(p.available=t.availableImages.indexOf(a)>-1),p}eachChild(t){t(this.input)}outputDefined(){return!1}}class Ha{constructor(t){this.type=he,this.input=t}static parse(t,a){if(2!==t.length)return a.error(`Expected 1 argument, but found ${t.length-1} instead.`);const p=a.parse(t[1],1);return p?"array"!==p.type.kind&&"string"!==p.type.kind&&"value"!==p.type.kind?a.error(`Expected argument of type string or array, but found ${Vi(p.type)} instead.`):new Ha(p):null}evaluate(t){const a=this.input.evaluate(t);if("string"==typeof a||Array.isArray(a))return a.length;throw new sn(`Expected value to be of type string or array, but found ${Vi(kn(a))} instead.`)}eachChild(t){t(this.input)}outputDefined(){return!1}}const ho={"==":na,"!=":ja,">":Go,"<":bs,">=":Ls,"<=":uo,array:Dr,at:Fo,boolean:Dr,case:un,coalesce:gr,collator:co,format:us,image:nl,in:an,"index-of":Lo,interpolate:Kn,"interpolate-hcl":Kn,"interpolate-lab":Kn,length:Ha,let:$o,literal:io,match:ia,number:Dr,"number-format":_n,object:Dr,slice:hr,step:rn,string:Dr,"to-boolean":er,"to-color":er,"to-number":er,"to-string":er,var:Fs,within:vr};function pa(o,[t,a,p,x]){t=t.evaluate(o),a=a.evaluate(o),p=p.evaluate(o);const T=x?x.evaluate(o):1,I=To(t,a,p,T);if(I)throw new sn(I);return new $t(t/255,a/255,p/255,T,!1)}function ra(o,t){return o in t}function Ns(o,t){const a=t[o];return void 0===a?null:a}function br(o){return{type:o}}function rl(o){return{result:"success",value:o}}function Sr(o){return{result:"error",value:o}}function Jn(o){return"data-driven"===o["property-type"]||"cross-faded-data-driven"===o["property-type"]}function xo(o){return!!o.expression&&o.expression.parameters.indexOf("zoom")>-1}function jr(o){return!!o.expression&&o.expression.interpolated}function Zn(o){return o instanceof Number?"number":o instanceof String?"string":o instanceof Boolean?"boolean":Array.isArray(o)?"array":null===o?"null":typeof o}function Kr(o){return"object"==typeof o&&null!==o&&!Array.isArray(o)}function $a(o){return o}function ol(o,t){const a="color"===t.type,p=o.stops&&"object"==typeof o.stops[0][0],x=p||!(p||void 0!==o.property),T=o.type||(jr(t)?"exponential":"interval");if(a||"padding"===t.type){const K=a?$t.parse:Ui.parse;(o=at({},o)).stops&&(o.stops=o.stops.map(te=>[te[0],K(te[1])])),o.default=K(o.default?o.default:t.default)}if(o.colorSpace&&"rgb"!==(I=o.colorSpace)&&"hcl"!==I&&"lab"!==I)throw new Error(`Unknown color space: "${o.colorSpace}"`);var I;let O,L,Z;if("exponential"===T)O=Bs;else if("interval"===T)O=Ac;else if("categorical"===T){O=bl,L=Object.create(null);for(const K of o.stops)L[K[0]]=K[1];Z=typeof o.stops[0][0]}else{if("identity"!==T)throw new Error(`Unknown function type "${T}"`);O=fa}if(p){const K={},te=[];for(let be=0;be<o.stops.length;be++){const Ne=o.stops[be],We=Ne[0].zoom;void 0===K[We]&&(K[We]={zoom:We,type:o.type,property:o.property,default:o.default,stops:[]},te.push(We)),K[We].stops.push([Ne[0].value,Ne[1]])}const ce=[];for(const be of te)ce.push([K[be].zoom,ol(K[be],t)]);const pe={name:"linear"};return{kind:"composite",interpolationType:pe,interpolationFactor:Kn.interpolationFactor.bind(void 0,pe),zoomStops:ce.map(be=>be[0]),evaluate:({zoom:be},Ne)=>Bs({stops:ce,base:o.base},t,be).evaluate(be,Ne)}}if(x){const K="exponential"===T?{name:"exponential",base:void 0!==o.base?o.base:1}:null;return{kind:"camera",interpolationType:K,interpolationFactor:Kn.interpolationFactor.bind(void 0,K),zoomStops:o.stops.map(te=>te[0]),evaluate:({zoom:te})=>O(o,t,te,L,Z)}}return{kind:"source",evaluate(K,te){const ce=te&&te.properties?te.properties[o.property]:void 0;return void 0===ce?zs(o.default,t.default):O(o,t,ce,L,Z)}}}function zs(o,t,a){return void 0!==o?o:void 0!==t?t:void 0!==a?a:void 0}function bl(o,t,a,p,x){return zs(typeof a===x?p[a]:void 0,o.default,t.default)}function Ac(o,t,a){if("number"!==Zn(a))return zs(o.default,t.default);const p=o.stops.length;if(1===p||a<=o.stops[0][0])return o.stops[0][1];if(a>=o.stops[p-1][0])return o.stops[p-1][1];const x=Ai(o.stops.map(T=>T[0]),a);return o.stops[x][1]}function Bs(o,t,a){const p=void 0!==o.base?o.base:1;if("number"!==Zn(a))return zs(o.default,t.default);const x=o.stops.length;if(1===x||a<=o.stops[0][0])return o.stops[0][1];if(a>=o.stops[x-1][0])return o.stops[x-1][1];const T=Ai(o.stops.map(K=>K[0]),a),I=function(K,te,ce,pe){const be=pe-ce,Ne=K-ce;return 0===be?0:1===te?Ne/be:(Math.pow(te,Ne)-1)/(Math.pow(te,be)-1)}(a,p,o.stops[T][0],o.stops[T+1][0]),O=o.stops[T][1],L=o.stops[T+1][1],Z=zr[t.type]||$a;return"function"==typeof O.evaluate?{evaluate(...K){const te=O.evaluate.apply(void 0,K),ce=L.evaluate.apply(void 0,K);if(void 0!==te&&void 0!==ce)return Z(te,ce,I,o.colorSpace)}}:Z(O,L,I,o.colorSpace)}function fa(o,t,a){switch(t.type){case"color":a=$t.parse(a);break;case"formatted":a=bn.fromString(a.toString());break;case"resolvedImage":a=Gn.fromString(a.toString());break;case"padding":a=Ui.parse(a);break;default:Zn(a)===t.type||"enum"===t.type&&t.values[a]||(a=void 0)}return zs(a,o.default,t.default)}yo.register(ho,{error:[{kind:"error"},[de],(o,[t])=>{throw new sn(t.evaluate(o))}],typeof:[de,[Lt],(o,[t])=>Vi(kn(t.evaluate(o)))],"to-rgba":[Qi(he,4),[xt],(o,[t])=>{const[a,p,x,T]=t.evaluate(o).rgb;return[255*a,255*p,255*x,T]}],rgb:[xt,[he,he,he],pa],rgba:[xt,[he,he,he,he],pa],has:{type:Re,overloads:[[[de],(o,[t])=>ra(t.evaluate(o),o.properties())],[[de,Jt],(o,[t,a])=>ra(t.evaluate(o),a.evaluate(o))]]},get:{type:Lt,overloads:[[[de],(o,[t])=>Ns(t.evaluate(o),o.properties())],[[de,Jt],(o,[t,a])=>Ns(t.evaluate(o),a.evaluate(o))]]},"feature-state":[Lt,[de],(o,[t])=>Ns(t.evaluate(o),o.featureState||{})],properties:[Jt,[],o=>o.properties()],"geometry-type":[de,[],o=>o.geometryType()],id:[Lt,[],o=>o.id()],zoom:[he,[],o=>o.globals.zoom],"heatmap-density":[he,[],o=>o.globals.heatmapDensity||0],"line-progress":[he,[],o=>o.globals.lineProgress||0],accumulated:[Lt,[],o=>void 0===o.globals.accumulated?null:o.globals.accumulated],"+":[he,br(he),(o,t)=>{let a=0;for(const p of t)a+=p.evaluate(o);return a}],"*":[he,br(he),(o,t)=>{let a=1;for(const p of t)a*=p.evaluate(o);return a}],"-":{type:he,overloads:[[[he,he],(o,[t,a])=>t.evaluate(o)-a.evaluate(o)],[[he],(o,[t])=>-t.evaluate(o)]]},"/":[he,[he,he],(o,[t,a])=>t.evaluate(o)/a.evaluate(o)],"%":[he,[he,he],(o,[t,a])=>t.evaluate(o)%a.evaluate(o)],ln2:[he,[],()=>Math.LN2],pi:[he,[],()=>Math.PI],e:[he,[],()=>Math.E],"^":[he,[he,he],(o,[t,a])=>Math.pow(t.evaluate(o),a.evaluate(o))],sqrt:[he,[he],(o,[t])=>Math.sqrt(t.evaluate(o))],log10:[he,[he],(o,[t])=>Math.log(t.evaluate(o))/Math.LN10],ln:[he,[he],(o,[t])=>Math.log(t.evaluate(o))],log2:[he,[he],(o,[t])=>Math.log(t.evaluate(o))/Math.LN2],sin:[he,[he],(o,[t])=>Math.sin(t.evaluate(o))],cos:[he,[he],(o,[t])=>Math.cos(t.evaluate(o))],tan:[he,[he],(o,[t])=>Math.tan(t.evaluate(o))],asin:[he,[he],(o,[t])=>Math.asin(t.evaluate(o))],acos:[he,[he],(o,[t])=>Math.acos(t.evaluate(o))],atan:[he,[he],(o,[t])=>Math.atan(t.evaluate(o))],min:[he,br(he),(o,t)=>Math.min(...t.map(a=>a.evaluate(o)))],max:[he,br(he),(o,t)=>Math.max(...t.map(a=>a.evaluate(o)))],abs:[he,[he],(o,[t])=>Math.abs(t.evaluate(o))],round:[he,[he],(o,[t])=>{const a=t.evaluate(o);return a<0?-Math.round(-a):Math.round(a)}],floor:[he,[he],(o,[t])=>Math.floor(t.evaluate(o))],ceil:[he,[he],(o,[t])=>Math.ceil(t.evaluate(o))],"filter-==":[Re,[de,Lt],(o,[t,a])=>o.properties()[t.value]===a.value],"filter-id-==":[Re,[Lt],(o,[t])=>o.id()===t.value],"filter-type-==":[Re,[de],(o,[t])=>o.geometryType()===t.value],"filter-<":[Re,[de,Lt],(o,[t,a])=>{const p=o.properties()[t.value],x=a.value;return typeof p==typeof x&&p<x}],"filter-id-<":[Re,[Lt],(o,[t])=>{const a=o.id(),p=t.value;return typeof a==typeof p&&a<p}],"filter->":[Re,[de,Lt],(o,[t,a])=>{const p=o.properties()[t.value],x=a.value;return typeof p==typeof x&&p>x}],"filter-id->":[Re,[Lt],(o,[t])=>{const a=o.id(),p=t.value;return typeof a==typeof p&&a>p}],"filter-<=":[Re,[de,Lt],(o,[t,a])=>{const p=o.properties()[t.value],x=a.value;return typeof p==typeof x&&p<=x}],"filter-id-<=":[Re,[Lt],(o,[t])=>{const a=o.id(),p=t.value;return typeof a==typeof p&&a<=p}],"filter->=":[Re,[de,Lt],(o,[t,a])=>{const p=o.properties()[t.value],x=a.value;return typeof p==typeof x&&p>=x}],"filter-id->=":[Re,[Lt],(o,[t])=>{const a=o.id(),p=t.value;return typeof a==typeof p&&a>=p}],"filter-has":[Re,[Lt],(o,[t])=>t.value in o.properties()],"filter-has-id":[Re,[],o=>null!==o.id()&&void 0!==o.id()],"filter-type-in":[Re,[Qi(de)],(o,[t])=>t.value.indexOf(o.geometryType())>=0],"filter-id-in":[Re,[Qi(Lt)],(o,[t])=>t.value.indexOf(o.id())>=0],"filter-in-small":[Re,[de,Qi(Lt)],(o,[t,a])=>a.value.indexOf(o.properties()[t.value])>=0],"filter-in-large":[Re,[de,Qi(Lt)],(o,[t,a])=>function(p,x,T,I){for(;T<=I;){const O=T+I>>1;if(x[O]===p)return!0;x[O]>p?I=O-1:T=O+1}return!1}(o.properties()[t.value],a.value,0,a.value.length-1)],all:{type:Re,overloads:[[[Re,Re],(o,[t,a])=>t.evaluate(o)&&a.evaluate(o)],[br(Re),(o,t)=>{for(const a of t)if(!a.evaluate(o))return!1;return!0}]]},any:{type:Re,overloads:[[[Re,Re],(o,[t,a])=>t.evaluate(o)||a.evaluate(o)],[br(Re),(o,t)=>{for(const a of t)if(a.evaluate(o))return!0;return!1}]]},"!":[Re,[Re],(o,[t])=>!t.evaluate(o)],"is-supported-script":[Re,[de],(o,[t])=>{const a=o.globals&&o.globals.isSupportedScript;return!a||a(t.evaluate(o))}],upcase:[de,[de],(o,[t])=>t.evaluate(o).toUpperCase()],downcase:[de,[de],(o,[t])=>t.evaluate(o).toLowerCase()],concat:[de,br(Lt),(o,t)=>t.map(a=>Nr(a.evaluate(o))).join("")],"resolved-locale":[de,[yi],(o,[t])=>t.evaluate(o).resolvedLocale()]});class Ul{constructor(t,a){var p;this.expression=t,this._warningHistory={},this._evaluator=new _o,this._defaultValue=a?"color"===(p=a).type&&Kr(p.default)?new $t(0,0,0,0):"color"===p.type?$t.parse(p.default)||null:"padding"===p.type?Ui.parse(p.default)||null:void 0===p.default?null:p.default:null,this._enumValues=a&&"enum"===a.type?a.values:null}evaluateWithoutErrorHandling(t,a,p,x,T,I){return this._evaluator.globals=t,this._evaluator.feature=a,this._evaluator.featureState=p,this._evaluator.canonical=x,this._evaluator.availableImages=T||null,this._evaluator.formattedSection=I,this.expression.evaluate(this._evaluator)}evaluate(t,a,p,x,T,I){this._evaluator.globals=t,this._evaluator.feature=a||null,this._evaluator.featureState=p||null,this._evaluator.canonical=x,this._evaluator.availableImages=T||null,this._evaluator.formattedSection=I||null;try{const O=this.expression.evaluate(this._evaluator);if(null==O||"number"==typeof O&&O!=O)return this._defaultValue;if(this._enumValues&&!(O in this._enumValues))throw new sn(`Expected value to be one of ${Object.keys(this._enumValues).map(L=>JSON.stringify(L)).join(", ")}, but found ${JSON.stringify(O)} instead.`);return O}catch(O){return this._warningHistory[O.message]||(this._warningHistory[O.message]=!0,typeof console<"u"&&console.warn(O.message)),this._defaultValue}}}function sl(o){return Array.isArray(o)&&o.length>0&&"string"==typeof o[0]&&o[0]in ho}function Ia(o,t){const a=new lo(ho,Jo,[],t?function(x){const T={color:xt,string:de,number:he,enum:de,boolean:Re,formatted:pi,padding:en,resolvedImage:nn};return"array"===x.type?Qi(T[x.value]||Lt,x.length):T[x.type]}(t):void 0),p=a.parse(o,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return p?rl(new Ul(p,t)):Sr(a.errors)}class Bi{constructor(t,a){this.kind=t,this._styleExpression=a,this.isStateDependent="constant"!==t&&!Qo(a.expression)}evaluateWithoutErrorHandling(t,a,p,x,T,I){return this._styleExpression.evaluateWithoutErrorHandling(t,a,p,x,T,I)}evaluate(t,a,p,x,T,I){return this._styleExpression.evaluate(t,a,p,x,T,I)}}class jl{constructor(t,a,p,x){this.kind=t,this.zoomStops=p,this._styleExpression=a,this.isStateDependent="camera"!==t&&!Qo(a.expression),this.interpolationType=x}evaluateWithoutErrorHandling(t,a,p,x,T,I){return this._styleExpression.evaluateWithoutErrorHandling(t,a,p,x,T,I)}evaluate(t,a,p,x,T,I){return this._styleExpression.evaluate(t,a,p,x,T,I)}interpolationFactor(t,a,p){return this.interpolationType?Kn.interpolationFactor(this.interpolationType,t,a,p):0}}function On(o,t){const a=Ia(o,t);if("error"===a.result)return a;const p=a.value.expression,x=Ho(p);if(!x&&!Jn(t))return Sr([new ae("","data expressions not supported")]);const T=fr(p,["zoom"]);if(!T&&!xo(t))return Sr([new ae("","zoom expressions not supported")]);const I=mr(p);return I||T?I instanceof ae?Sr([I]):I instanceof Kn&&!jr(t)?Sr([new ae("",'"interpolate" expressions cannot be used with this property')]):rl(I?new jl(x?"camera":"composite",a.value,I.labels,I instanceof Kn?I.interpolation:void 0):new Bi(x?"constant":"source",a.value)):Sr([new ae("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Ga{constructor(t,a){this._parameters=t,this._specification=a,at(this,ol(this._parameters,this._specification))}static deserialize(t){return new Ga(t._parameters,t._specification)}static serialize(t){return{_parameters:t._parameters,_specification:t._specification}}}function mr(o){let t=null;if(o instanceof $o)t=mr(o.result);else if(o instanceof gr){for(const a of o.args)if(t=mr(a),t)break}else(o instanceof rn||o instanceof Kn)&&o.input instanceof yo&&"zoom"===o.input.name&&(t=o);return t instanceof ae||o.eachChild(a=>{const p=mr(a);p instanceof ae?t=p:!t&&p?t=new ae("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&p&&t!==p&&(t=new ae("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),t}function dr(o){if(!0===o||!1===o)return!0;if(!Array.isArray(o)||0===o.length)return!1;switch(o[0]){case"has":return o.length>=2&&"$id"!==o[1]&&"$type"!==o[1];case"in":return o.length>=3&&("string"!=typeof o[1]||Array.isArray(o[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==o.length||Array.isArray(o[1])||Array.isArray(o[2]);case"any":case"all":for(const t of o.slice(1))if(!dr(t)&&"boolean"!=typeof t)return!1;return!0;default:return!0}}const Y={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function W(o){if(null==o)return{filter:()=>!0,needGeometry:!1};dr(o)||(o=Ht(o));const t=Ia(o,Y);if("error"===t.result)throw new Error(t.value.map(a=>`${a.key}: ${a.message}`).join(", "));return{filter:(a,p,x)=>t.value.evaluate(a,p,{},x),needGeometry:we(o)}}function G(o,t){return o<t?-1:o>t?1:0}function we(o){if(!Array.isArray(o))return!1;if("within"===o[0])return!0;for(let t=1;t<o.length;t++)if(we(o[t]))return!0;return!1}function Ht(o){if(!o)return!0;const t=o[0];return o.length<=1?"any"!==t:"=="===t?Di(o[1],o[2],"=="):"!="===t?Vs(Di(o[1],o[2],"==")):"<"===t||">"===t||"<="===t||">="===t?Di(o[1],o[2],t):"any"===t?(a=o.slice(1),["any"].concat(a.map(Ht))):"all"===t?["all"].concat(o.slice(1).map(Ht)):"none"===t?["all"].concat(o.slice(1).map(Ht).map(Vs)):"in"===t?Xr(o[1],o.slice(2)):"!in"===t?Vs(Xr(o[1],o.slice(2))):"has"===t?mo(o[1]):"!has"===t?Vs(mo(o[1])):"within"!==t||o;var a}function Di(o,t,a){switch(o){case"$type":return[`filter-type-${a}`,t];case"$id":return[`filter-id-${a}`,t];default:return[`filter-${a}`,o,t]}}function Xr(o,t){if(0===t.length)return!1;switch(o){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(a=>typeof a!=typeof t[0])?["filter-in-large",o,["literal",t.sort(G)]]:["filter-in-small",o,["literal",t]]}}function mo(o){switch(o){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",o]}}function Vs(o){return["!",o]}function Aa(o){const t=typeof o;if("number"===t||"boolean"===t||"string"===t||null==o)return JSON.stringify(o);if(Array.isArray(o)){let x="[";for(const T of o)x+=`${Aa(T)},`;return`${x}]`}const a=Object.keys(o).sort();let p="{";for(let x=0;x<a.length;x++)p+=`${JSON.stringify(a[x])}:${Aa(o[a[x]])},`;return`${p}}`}function Za(o){let t="";for(const a of ht)t+=`/${Aa(o[a])}`;return t}function Hl(o){const t=o.value;return t?[new ii(o.key,t,"constants have been deprecated as of v8")]:[]}function Hr(o){return o instanceof Number||o instanceof String||o instanceof Boolean?o.valueOf():o}function al(o){if(Array.isArray(o))return o.map(al);if(o instanceof Object&&!(o instanceof Number||o instanceof String||o instanceof Boolean)){const t={};for(const a in o)t[a]=al(o[a]);return t}return Hr(o)}function Us(o){const t=o.key,a=o.value,p=o.valueSpec||{},x=o.objectElementValidators||{},T=o.style,I=o.styleSpec,O=o.validateSpec;let L=[];const Z=Zn(a);if("object"!==Z)return[new ii(t,a,`object expected, ${Z} found`)];for(const K in a){const te=K.split(".")[0],ce=p[te]||p["*"];let pe;if(x[te])pe=x[te];else if(p[te])pe=O;else if(x["*"])pe=x["*"];else{if(!p["*"]){L.push(new ii(t,a[K],`unknown property "${K}"`));continue}pe=O}L=L.concat(pe({key:(t&&`${t}.`)+K,value:a[K],valueSpec:ce,style:T,styleSpec:I,object:a,objectKey:K,validateSpec:O},a))}for(const K in p)x[K]||p[K].required&&void 0===p[K].default&&void 0===a[K]&&L.push(new ii(t,a,`missing required property "${K}"`));return L}function Jc(o){const t=o.value,a=o.valueSpec,p=o.style,x=o.styleSpec,T=o.key,I=o.arrayElementValidator||o.validateSpec;if("array"!==Zn(t))return[new ii(T,t,`array expected, ${Zn(t)} found`)];if(a.length&&t.length!==a.length)return[new ii(T,t,`array length ${a.length} expected, length ${t.length} found`)];if(a["min-length"]&&t.length<a["min-length"])return[new ii(T,t,`array length at least ${a["min-length"]} expected, length ${t.length} found`)];let O={type:a.value,values:a.values};x.$version<7&&(O.function=a.function),"object"===Zn(a.value)&&(O=a.value);let L=[];for(let Z=0;Z<t.length;Z++)L=L.concat(I({array:t,arrayIndex:Z,value:t[Z],valueSpec:O,validateSpec:o.validateSpec,style:p,styleSpec:x,key:`${T}[${Z}]`}));return L}function Wa(o){const t=o.key,a=o.value,p=o.valueSpec;let x=Zn(a);return"number"===x&&a!=a&&(x="NaN"),"number"!==x?[new ii(t,a,`number expected, ${x} found`)]:"minimum"in p&&a<p.minimum?[new ii(t,a,`${a} is less than the minimum value ${p.minimum}`)]:"maximum"in p&&a>p.maximum?[new ii(t,a,`${a} is greater than the maximum value ${p.maximum}`)]:[]}function No(o){const t=o.valueSpec,a=Hr(o.value.type);let p,x,T,I={};const O="categorical"!==a&&void 0===o.value.property,L=!O,Z="array"===Zn(o.value.stops)&&"array"===Zn(o.value.stops[0])&&"object"===Zn(o.value.stops[0][0]),K=Us({key:o.key,value:o.value,valueSpec:o.styleSpec.function,validateSpec:o.validateSpec,style:o.style,styleSpec:o.styleSpec,objectElementValidators:{stops:function(pe){if("identity"===a)return[new ii(pe.key,pe.value,'identity function may not have a "stops" property')];let be=[];const Ne=pe.value;return be=be.concat(Jc({key:pe.key,value:Ne,valueSpec:pe.valueSpec,validateSpec:pe.validateSpec,style:pe.style,styleSpec:pe.styleSpec,arrayElementValidator:te})),"array"===Zn(Ne)&&0===Ne.length&&be.push(new ii(pe.key,Ne,"array must have at least one stop")),be},default:function(pe){return pe.validateSpec({key:pe.key,value:pe.value,valueSpec:t,validateSpec:pe.validateSpec,style:pe.style,styleSpec:pe.styleSpec})}}});return"identity"===a&&O&&K.push(new ii(o.key,o.value,'missing required property "property"')),"identity"===a||o.value.stops||K.push(new ii(o.key,o.value,'missing required property "stops"')),"exponential"===a&&o.valueSpec.expression&&!jr(o.valueSpec)&&K.push(new ii(o.key,o.value,"exponential functions not supported")),o.styleSpec.$version>=8&&(L&&!Jn(o.valueSpec)?K.push(new ii(o.key,o.value,"property functions not supported")):O&&!xo(o.valueSpec)&&K.push(new ii(o.key,o.value,"zoom functions not supported"))),"categorical"!==a&&!Z||void 0!==o.value.property||K.push(new ii(o.key,o.value,'"property" property is required')),K;function te(pe){let be=[];const Ne=pe.value,We=pe.key;if("array"!==Zn(Ne))return[new ii(We,Ne,`array expected, ${Zn(Ne)} found`)];if(2!==Ne.length)return[new ii(We,Ne,`array length 2 expected, length ${Ne.length} found`)];if(Z){if("object"!==Zn(Ne[0]))return[new ii(We,Ne,`object expected, ${Zn(Ne[0])} found`)];if(void 0===Ne[0].zoom)return[new ii(We,Ne,"object stop key must have zoom")];if(void 0===Ne[0].value)return[new ii(We,Ne,"object stop key must have value")];if(T&&T>Hr(Ne[0].zoom))return[new ii(We,Ne[0].zoom,"stop zoom values must appear in ascending order")];Hr(Ne[0].zoom)!==T&&(T=Hr(Ne[0].zoom),x=void 0,I={}),be=be.concat(Us({key:`${We}[0]`,value:Ne[0],valueSpec:{zoom:{}},validateSpec:pe.validateSpec,style:pe.style,styleSpec:pe.styleSpec,objectElementValidators:{zoom:Wa,value:ce}}))}else be=be.concat(ce({key:`${We}[0]`,value:Ne[0],valueSpec:{},validateSpec:pe.validateSpec,style:pe.style,styleSpec:pe.styleSpec},Ne));return sl(al(Ne[1]))?be.concat([new ii(`${We}[1]`,Ne[1],"expressions are not allowed in function stops.")]):be.concat(pe.validateSpec({key:`${We}[1]`,value:Ne[1],valueSpec:t,validateSpec:pe.validateSpec,style:pe.style,styleSpec:pe.styleSpec}))}function ce(pe,be){const Ne=Zn(pe.value),We=Hr(pe.value),tt=null!==pe.value?pe.value:be;if(p){if(Ne!==p)return[new ii(pe.key,tt,`${Ne} stop domain type must match previous stop domain type ${p}`)]}else p=Ne;if("number"!==Ne&&"string"!==Ne&&"boolean"!==Ne)return[new ii(pe.key,tt,"stop domain value must be a number, string, or boolean")];if("number"!==Ne&&"categorical"!==a){let _t=`number expected, ${Ne} found`;return Jn(t)&&void 0===a&&(_t+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ii(pe.key,tt,_t)]}return"categorical"!==a||"number"!==Ne||isFinite(We)&&Math.floor(We)===We?"categorical"!==a&&"number"===Ne&&void 0!==x&&We<x?[new ii(pe.key,tt,"stop domain values must appear in ascending order")]:(x=We,"categorical"===a&&We in I?[new ii(pe.key,tt,"stop domain values must be unique")]:(I[We]=!0,[])):[new ii(pe.key,tt,`integer expected, found ${We}`)]}}function xr(o){const t=("property"===o.expressionContext?On:Ia)(al(o.value),o.valueSpec);if("error"===t.result)return t.value.map(p=>new ii(`${o.key}${p.key}`,o.value,p.message));const a=t.value.expression||t.value._styleExpression.expression;if("property"===o.expressionContext&&"text-font"===o.propertyKey&&!a.outputDefined())return[new ii(o.key,o.value,`Invalid data expression for "${o.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===o.expressionContext&&"layout"===o.propertyType&&!Qo(a))return[new ii(o.key,o.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===o.expressionContext&&!Qo(a))return[new ii(o.key,o.value,'"feature-state" data expressions are not supported with filters.')];if(o.expressionContext&&0===o.expressionContext.indexOf("cluster")){if(!fr(a,["zoom","feature-state"]))return[new ii(o.key,o.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===o.expressionContext&&!Ho(a))return[new ii(o.key,o.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Rn(o){const t=o.key,a=o.value,p=o.valueSpec,x=[];return Array.isArray(p.values)?-1===p.values.indexOf(Hr(a))&&x.push(new ii(t,a,`expected one of [${p.values.join(", ")}], ${JSON.stringify(a)} found`)):-1===Object.keys(p.values).indexOf(Hr(a))&&x.push(new ii(t,a,`expected one of [${Object.keys(p.values).join(", ")}], ${JSON.stringify(a)} found`)),x}function wr(o){return dr(al(o.value))?xr(at({},o,{expressionContext:"filter",valueSpec:{value:"boolean"}})):xl(o)}function xl(o){const t=o.value,a=o.key;if("array"!==Zn(t))return[new ii(a,t,`array expected, ${Zn(t)} found`)];const p=o.styleSpec;let x,T=[];if(t.length<1)return[new ii(a,t,"filter array must have at least 1 element")];switch(T=T.concat(Rn({key:`${a}[0]`,value:t[0],valueSpec:p.filter_operator,style:o.style,styleSpec:o.styleSpec})),Hr(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&"$type"===Hr(t[1])&&T.push(new ii(a,t,`"$type" cannot be use with operator "${t[0]}"`));case"==":case"!=":3!==t.length&&T.push(new ii(a,t,`filter array for operator "${t[0]}" must have 3 elements`));case"in":case"!in":t.length>=2&&(x=Zn(t[1]),"string"!==x&&T.push(new ii(`${a}[1]`,t[1],`string expected, ${x} found`)));for(let I=2;I<t.length;I++)x=Zn(t[I]),"$type"===Hr(t[1])?T=T.concat(Rn({key:`${a}[${I}]`,value:t[I],valueSpec:p.geometry_type,style:o.style,styleSpec:o.styleSpec})):"string"!==x&&"number"!==x&&"boolean"!==x&&T.push(new ii(`${a}[${I}]`,t[I],`string, number, or boolean expected, ${x} found`));break;case"any":case"all":case"none":for(let I=1;I<t.length;I++)T=T.concat(xl({key:`${a}[${I}]`,value:t[I],style:o.style,styleSpec:o.styleSpec}));break;case"has":case"!has":x=Zn(t[1]),2!==t.length?T.push(new ii(a,t,`filter array for "${t[0]}" operator must have 2 elements`)):"string"!==x&&T.push(new ii(`${a}[1]`,t[1],`string expected, ${x} found`));break;case"within":x=Zn(t[1]),2!==t.length?T.push(new ii(a,t,`filter array for "${t[0]}" operator must have 2 elements`)):"object"!==x&&T.push(new ii(`${a}[1]`,t[1],`object expected, ${x} found`))}return T}function js(o,t){const a=o.key,p=o.validateSpec,x=o.style,T=o.styleSpec,I=o.value,O=o.objectKey,L=T[`${t}_${o.layerType}`];if(!L)return[];const Z=O.match(/^(.*)-transition$/);if("paint"===t&&Z&&L[Z[1]]&&L[Z[1]].transition)return p({key:a,value:I,valueSpec:T.transition,style:x,styleSpec:T});const K=o.valueSpec||L[O];if(!K)return[new ii(a,I,`unknown property "${O}"`)];let te;if("string"===Zn(I)&&Jn(K)&&!K.tokens&&(te=/^{([^}]+)}$/.exec(I)))return[new ii(a,I,`"${O}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(te[1])} }\`.`)];const ce=[];return"symbol"===o.layerType&&("text-field"===O&&x&&!x.glyphs&&ce.push(new ii(a,I,'use of "text-field" requires a style "glyphs" property')),"text-font"===O&&Kr(al(I))&&"identity"===Hr(I.type)&&ce.push(new ii(a,I,'"text-font" does not support identity functions'))),ce.concat(p({key:o.key,value:I,valueSpec:K,style:x,styleSpec:T,expressionContext:"property",propertyType:t,propertyKey:O}))}function ka(o){return js(o,"paint")}function Cr(o){return js(o,"layout")}function $l(o){let t=[];const a=o.value,p=o.key,x=o.style,T=o.styleSpec;a.type||a.ref||t.push(new ii(p,a,'either "type" or "ref" is required'));let I=Hr(a.type);const O=Hr(a.ref);if(a.id){const L=Hr(a.id);for(let Z=0;Z<o.arrayIndex;Z++){const K=x.layers[Z];Hr(K.id)===L&&t.push(new ii(p,a.id,`duplicate layer id "${a.id}", previously used at line ${K.id.__line__}`))}}if("ref"in a){let L;["type","source","source-layer","filter","layout"].forEach(Z=>{Z in a&&t.push(new ii(p,a[Z],`"${Z}" is prohibited for ref layers`))}),x.layers.forEach(Z=>{Hr(Z.id)===O&&(L=Z)}),L?L.ref?t.push(new ii(p,a.ref,"ref cannot reference another ref layer")):I=Hr(L.type):t.push(new ii(p,a.ref,`ref layer "${O}" not found`))}else if("background"!==I)if(a.source){const L=x.sources&&x.sources[a.source],Z=L&&Hr(L.type);L?"vector"===Z&&"raster"===I?t.push(new ii(p,a.source,`layer "${a.id}" requires a raster source`)):"raster"===Z&&"raster"!==I?t.push(new ii(p,a.source,`layer "${a.id}" requires a vector source`)):"vector"!==Z||a["source-layer"]?"raster-dem"===Z&&"hillshade"!==I?t.push(new ii(p,a.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==I||!a.paint||!a.paint["line-gradient"]||"geojson"===Z&&L.lineMetrics||t.push(new ii(p,a,`layer "${a.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new ii(p,a,`layer "${a.id}" must specify a "source-layer"`)):t.push(new ii(p,a.source,`source "${a.source}" not found`))}else t.push(new ii(p,a,'missing required property "source"'));return t=t.concat(Us({key:p,value:a,valueSpec:T.layer,style:o.style,styleSpec:o.styleSpec,validateSpec:o.validateSpec,objectElementValidators:{"*":()=>[],type:()=>o.validateSpec({key:`${p}.type`,value:a.type,valueSpec:T.layer.type,style:o.style,styleSpec:o.styleSpec,validateSpec:o.validateSpec,object:a,objectKey:"type"}),filter:wr,layout:L=>Us({layer:a,key:L.key,value:L.value,style:L.style,styleSpec:L.styleSpec,validateSpec:L.validateSpec,objectElementValidators:{"*":Z=>Cr(at({layerType:I},Z))}}),paint:L=>Us({layer:a,key:L.key,value:L.value,style:L.style,styleSpec:L.styleSpec,validateSpec:L.validateSpec,objectElementValidators:{"*":Z=>ka(at({layerType:I},Z))}})}})),t}function Hs(o){const t=o.value,a=o.key,p=Zn(t);return"string"!==p?[new ii(a,t,`string expected, ${p} found`)]:[]}const qa={promoteId:function({key:o,value:t}){if("string"===Zn(t))return Hs({key:o,value:t});{const a=[];for(const p in t)a.push(...Hs({key:`${o}.${p}`,value:t[p]}));return a}}};function Tr(o){const t=o.value,a=o.key,p=o.styleSpec,x=o.style,T=o.validateSpec;if(!t.type)return[new ii(a,t,'"type" is required')];const I=Hr(t.type);let O;switch(I){case"vector":case"raster":case"raster-dem":return O=Us({key:a,value:t,valueSpec:p[`source_${I.replace("-","_")}`],style:o.style,styleSpec:p,objectElementValidators:qa,validateSpec:T}),O;case"geojson":if(O=Us({key:a,value:t,valueSpec:p.source_geojson,style:x,styleSpec:p,validateSpec:T,objectElementValidators:qa}),t.cluster)for(const L in t.clusterProperties){const[Z,K]=t.clusterProperties[L],te="string"==typeof Z?[Z,["accumulated"],["get",L]]:Z;O.push(...xr({key:`${a}.${L}.map`,value:K,validateSpec:T,expressionContext:"cluster-map"})),O.push(...xr({key:`${a}.${L}.reduce`,value:te,validateSpec:T,expressionContext:"cluster-reduce"}))}return O;case"video":return Us({key:a,value:t,valueSpec:p.source_video,style:x,validateSpec:T,styleSpec:p});case"image":return Us({key:a,value:t,valueSpec:p.source_image,style:x,validateSpec:T,styleSpec:p});case"canvas":return[new ii(a,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Rn({key:`${a}.type`,value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:x,validateSpec:T,styleSpec:p})}}function hs(o){const t=o.value,a=o.styleSpec,p=a.light,x=o.style;let T=[];const I=Zn(t);if(void 0===t)return T;if("object"!==I)return T=T.concat([new ii("light",t,`object expected, ${I} found`)]),T;for(const O in t){const L=O.match(/^(.*)-transition$/);T=T.concat(L&&p[L[1]]&&p[L[1]].transition?o.validateSpec({key:O,value:t[O],valueSpec:a.transition,validateSpec:o.validateSpec,style:x,styleSpec:a}):p[O]?o.validateSpec({key:O,value:t[O],valueSpec:p[O],validateSpec:o.validateSpec,style:x,styleSpec:a}):[new ii(O,t[O],`unknown property "${O}"`)])}return T}function $r(o){const t=o.value,a=o.styleSpec,p=a.terrain,x=o.style;let T=[];const I=Zn(t);if(void 0===t)return T;if("object"!==I)return T=T.concat([new ii("terrain",t,`object expected, ${I} found`)]),T;for(const O in t)T=T.concat(p[O]?o.validateSpec({key:O,value:t[O],valueSpec:p[O],validateSpec:o.validateSpec,style:x,styleSpec:a}):[new ii(O,t[O],`unknown property "${O}"`)]);return T}function Gl(o){let t=[];const a=o.value,p=o.key;if(Array.isArray(a)){const x=[],T=[];for(const I in a)a[I].id&&x.includes(a[I].id)&&t.push(new ii(p,a,`all the sprites' ids must be unique, but ${a[I].id} is duplicated`)),x.push(a[I].id),a[I].url&&T.includes(a[I].url)&&t.push(new ii(p,a,`all the sprites' URLs must be unique, but ${a[I].url} is duplicated`)),T.push(a[I].url),t=t.concat(Us({key:`${p}[${I}]`,value:a[I],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:o.validateSpec}));return t}return Hs({key:p,value:a})}const ms={"*":()=>[],array:Jc,boolean:function(o){const t=o.value,a=o.key,p=Zn(t);return"boolean"!==p?[new ii(a,t,`boolean expected, ${p} found`)]:[]},number:Wa,color:function(o){const t=o.key,a=o.value,p=Zn(a);return"string"!==p?[new ii(t,a,`color expected, ${p} found`)]:$t.parse(String(a))?[]:[new ii(t,a,`color expected, "${a}" found`)]},constants:Hl,enum:Rn,filter:wr,function:No,layer:$l,object:Us,source:Tr,light:hs,terrain:$r,string:Hs,formatted:function(o){return 0===Hs(o).length?[]:xr(o)},resolvedImage:function(o){return 0===Hs(o).length?[]:xr(o)},padding:function(o){const t=o.key,a=o.value;if("array"===Zn(a)){if(a.length<1||a.length>4)return[new ii(t,a,`padding requires 1 to 4 values; ${a.length} values found`)];const p={type:"number"};let x=[];for(let T=0;T<a.length;T++)x=x.concat(o.validateSpec({key:`${t}[${T}]`,value:a[T],validateSpec:o.validateSpec,valueSpec:p}));return x}return Wa({key:t,value:a,valueSpec:{}})},sprite:Gl};function Rr(o){const t=o.value,a=o.valueSpec,p=o.styleSpec;return o.validateSpec=Rr,a.expression&&Kr(Hr(t))?No(o):a.expression&&sl(al(t))?xr(o):a.type&&ms[a.type]?ms[a.type](o):Us(at({},o,{valueSpec:a.type?p[a.type]:a}))}function wl(o){const t=o.value,a=o.key,p=Hs(o);return p.length||(-1===t.indexOf("{fontstack}")&&p.push(new ii(a,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&p.push(new ii(a,t,'"glyphs" url must include a "{range}" token'))),p}function xs(o,t=Ee){let a=[];return a=a.concat(Rr({key:"",value:o,valueSpec:t.$root,styleSpec:t,style:o,validateSpec:Rr,objectElementValidators:{glyphs:wl,"*":()=>[]}})),o.constants&&(a=a.concat(Hl({key:"constants",value:o.constants,style:o,styleSpec:t,validateSpec:Rr}))),ga(a)}function Gr(o){return function(t){return o({...t,validateSpec:Rr})}}function ga(o){return[].concat(o).sort((t,a)=>t.line-a.line)}function Zr(o){return function(...t){return ga(o.apply(this,t))}}xs.source=Zr(Gr(Tr)),xs.sprite=Zr(Gr(Gl)),xs.glyphs=Zr(Gr(wl)),xs.light=Zr(Gr(hs)),xs.terrain=Zr(Gr($r)),xs.layer=Zr(Gr($l)),xs.filter=Zr(Gr(wr)),xs.paintProperty=Zr(Gr(ka)),xs.layoutProperty=Zr(Gr(Cr));const Zo=xs,Cl=Zo.light,ro=Zo.paintProperty,El=Zo.layoutProperty;function Ya(o,t){let a=!1;if(t&&t.length)for(const p of t)o.fire(new rt(new Error(p.message))),a=!0;return a}class Zl{constructor(t,a,p){const x=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;const I=new Int32Array(this.arrayBuffer);t=I[0],this.d=(a=I[1])+2*(p=I[2]);for(let L=0;L<this.d*this.d;L++){const Z=I[3+L],K=I[3+L+1];x.push(Z===K?null:I.subarray(Z,K))}const O=I[3+x.length+1];this.keys=I.subarray(I[3+x.length],O),this.bboxes=I.subarray(O),this.insert=this._insertReadonly}else{this.d=a+2*p;for(let I=0;I<this.d*this.d;I++)x.push([]);this.keys=[],this.bboxes=[]}this.n=a,this.extent=t,this.padding=p,this.scale=a/t,this.uid=0;const T=p/a*t;this.min=-T,this.max=t+T}insert(t,a,p,x,T){this._forEachCell(a,p,x,T,this._insertCell,this.uid++,void 0,void 0),this.keys.push(t),this.bboxes.push(a),this.bboxes.push(p),this.bboxes.push(x),this.bboxes.push(T)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(t,a,p,x,T,I){this.cells[T].push(I)}query(t,a,p,x,T){const I=this.min,O=this.max;if(t<=I&&a<=I&&O<=p&&O<=x&&!T)return Array.prototype.slice.call(this.keys);{const L=[];return this._forEachCell(t,a,p,x,this._queryCell,L,{},T),L}}_queryCell(t,a,p,x,T,I,O,L){const Z=this.cells[T];if(null!==Z){const K=this.keys,te=this.bboxes;for(let ce=0;ce<Z.length;ce++){const pe=Z[ce];if(void 0===O[pe]){const be=4*pe;(L?L(te[be+0],te[be+1],te[be+2],te[be+3]):t<=te[be+2]&&a<=te[be+3]&&p>=te[be+0]&&x>=te[be+1])?(O[pe]=!0,I.push(K[pe])):O[pe]=!1}}}}_forEachCell(t,a,p,x,T,I,O,L){const Z=this._convertToCellCoord(t),K=this._convertToCellCoord(a),te=this._convertToCellCoord(p),ce=this._convertToCellCoord(x);for(let pe=Z;pe<=te;pe++)for(let be=K;be<=ce;be++){const Ne=this.d*be+pe;if((!L||L(this._convertFromCellCoord(pe),this._convertFromCellCoord(be),this._convertFromCellCoord(pe+1),this._convertFromCellCoord(be+1)))&&T.call(this,t,a,p,x,Ne,I,O,L))return}}_convertFromCellCoord(t){return(t-this.padding)/this.scale}_convertToCellCoord(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const t=this.cells,a=3+this.cells.length+1+1;let p=0;for(let I=0;I<this.cells.length;I++)p+=this.cells[I].length;const x=new Int32Array(a+p+this.keys.length+this.bboxes.length);x[0]=this.extent,x[1]=this.n,x[2]=this.padding;let T=a;for(let I=0;I<t.length;I++){const O=t[I];x[3+I]=T,x.set(O,T),T+=O.length}return x[3+t.length]=T,x.set(this.keys,T),T+=this.keys.length,x[3+t.length+1]=T,x.set(this.bboxes,T),T+=this.bboxes.length,x.buffer}static serialize(t,a){const p=t.toArrayBuffer();return a&&a.push(p),{buffer:p}}static deserialize(t){return new Zl(t.buffer)}}const $s={};function Ni(o,t,a={}){if($s[o])throw new Error(`${o} is already registered.`);Object.defineProperty(t,"_classRegistryKey",{value:o,writeable:!1}),$s[o]={klass:t,omit:a.omit||[],shallow:a.shallow||[]}}Ni("Object",Object),Ni("TransferableGridIndex",Zl),Ni("Color",$t),Ni("Error",Error),Ni("AJAXError",jn),Ni("ResolvedImage",Gn),Ni("StylePropertyFunction",Ga),Ni("StyleExpression",Ul,{omit:["_evaluator"]}),Ni("ZoomDependentExpression",jl),Ni("ZoomConstantExpression",Bi),Ni("CompoundExpression",yo,{omit:["_evaluate"]});for(const o in ho)ho[o]._classRegistryKey||Ni(`Expression_${o}`,ho[o]);function ts(o){return o&&typeof ArrayBuffer<"u"&&(o instanceof ArrayBuffer||o.constructor&&"ArrayBuffer"===o.constructor.name)}function Ml(o,t){if(null==o||"boolean"==typeof o||"number"==typeof o||"string"==typeof o||o instanceof Boolean||o instanceof Number||o instanceof String||o instanceof Date||o instanceof RegExp||o instanceof Blob)return o;if(ts(o)||ti(o))return t&&t.push(o),o;if(ArrayBuffer.isView(o)){const a=o;return t&&t.push(a.buffer),a}if(o instanceof ImageData)return t&&t.push(o.data.buffer),o;if(Array.isArray(o)){const a=[];for(const p of o)a.push(Ml(p,t));return a}if("object"==typeof o){const a=o.constructor,p=a._classRegistryKey;if(!p)throw new Error("can't serialize object of unregistered class");if(!$s[p])throw new Error(`${p} is not registered.`);const x=a.serialize?a.serialize(o,t):{};if(a.serialize){if(t&&x===t[t.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const T in o){if(!o.hasOwnProperty(T)||$s[p].omit.indexOf(T)>=0)continue;const I=o[T];x[T]=$s[p].shallow.indexOf(T)>=0?I:Ml(I,t)}o instanceof Error&&(x.message=o.message)}if(x.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==p&&(x.$name=p),x}throw new Error("can't serialize object of type "+typeof o)}function Gs(o){if(null==o||"boolean"==typeof o||"number"==typeof o||"string"==typeof o||o instanceof Boolean||o instanceof Number||o instanceof String||o instanceof Date||o instanceof RegExp||o instanceof Blob||ts(o)||ti(o)||ArrayBuffer.isView(o)||o instanceof ImageData)return o;if(Array.isArray(o))return o.map(Gs);if("object"==typeof o){const t=o.$name||"Object";if(!$s[t])throw new Error(`can't deserialize unregistered class ${t}`);const{klass:a}=$s[t];if(!a)throw new Error(`can't deserialize unregistered class ${t}`);if(a.deserialize)return a.deserialize(o);const p=Object.create(a.prototype);for(const x of Object.keys(o)){if("$name"===x)continue;const T=o[x];p[x]=$s[t].shallow.indexOf(x)>=0?T:Gs(T)}return p}throw new Error("can't deserialize object of type "+typeof o)}class _r{constructor(){this.first=!0}update(t,a){const p=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=p,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=p,!0):(this.lastFloorZoom>p?(this.lastIntegerZoom=p+1,this.lastIntegerZoomTime=a):this.lastFloorZoom<p&&(this.lastIntegerZoom=p,this.lastIntegerZoomTime=a),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=p,!0))}}const fi={"Latin-1 Supplement":o=>o>=128&&o<=255,Arabic:o=>o>=1536&&o<=1791,"Arabic Supplement":o=>o>=1872&&o<=1919,"Arabic Extended-A":o=>o>=2208&&o<=2303,"Hangul Jamo":o=>o>=4352&&o<=4607,"Unified Canadian Aboriginal Syllabics":o=>o>=5120&&o<=5759,Khmer:o=>o>=6016&&o<=6143,"Unified Canadian Aboriginal Syllabics Extended":o=>o>=6320&&o<=6399,"General Punctuation":o=>o>=8192&&o<=8303,"Letterlike Symbols":o=>o>=8448&&o<=8527,"Number Forms":o=>o>=8528&&o<=8591,"Miscellaneous Technical":o=>o>=8960&&o<=9215,"Control Pictures":o=>o>=9216&&o<=9279,"Optical Character Recognition":o=>o>=9280&&o<=9311,"Enclosed Alphanumerics":o=>o>=9312&&o<=9471,"Geometric Shapes":o=>o>=9632&&o<=9727,"Miscellaneous Symbols":o=>o>=9728&&o<=9983,"Miscellaneous Symbols and Arrows":o=>o>=11008&&o<=11263,"CJK Radicals Supplement":o=>o>=11904&&o<=12031,"Kangxi Radicals":o=>o>=12032&&o<=12255,"Ideographic Description Characters":o=>o>=12272&&o<=12287,"CJK Symbols and Punctuation":o=>o>=12288&&o<=12351,Hiragana:o=>o>=12352&&o<=12447,Katakana:o=>o>=12448&&o<=12543,Bopomofo:o=>o>=12544&&o<=12591,"Hangul Compatibility Jamo":o=>o>=12592&&o<=12687,Kanbun:o=>o>=12688&&o<=12703,"Bopomofo Extended":o=>o>=12704&&o<=12735,"CJK Strokes":o=>o>=12736&&o<=12783,"Katakana Phonetic Extensions":o=>o>=12784&&o<=12799,"Enclosed CJK Letters and Months":o=>o>=12800&&o<=13055,"CJK Compatibility":o=>o>=13056&&o<=13311,"CJK Unified Ideographs Extension A":o=>o>=13312&&o<=19903,"Yijing Hexagram Symbols":o=>o>=19904&&o<=19967,"CJK Unified Ideographs":o=>o>=19968&&o<=40959,"Yi Syllables":o=>o>=40960&&o<=42127,"Yi Radicals":o=>o>=42128&&o<=42191,"Hangul Jamo Extended-A":o=>o>=43360&&o<=43391,"Hangul Syllables":o=>o>=44032&&o<=55215,"Hangul Jamo Extended-B":o=>o>=55216&&o<=55295,"Private Use Area":o=>o>=57344&&o<=63743,"CJK Compatibility Ideographs":o=>o>=63744&&o<=64255,"Arabic Presentation Forms-A":o=>o>=64336&&o<=65023,"Vertical Forms":o=>o>=65040&&o<=65055,"CJK Compatibility Forms":o=>o>=65072&&o<=65103,"Small Form Variants":o=>o>=65104&&o<=65135,"Arabic Presentation Forms-B":o=>o>=65136&&o<=65279,"Halfwidth and Fullwidth Forms":o=>o>=65280&&o<=65519};function V(o){for(const t of o)if(fe(t.charCodeAt(0)))return!0;return!1}function Q(o){for(const t of o)if(!$(t.charCodeAt(0)))return!1;return!0}function $(o){return!(fi.Arabic(o)||fi["Arabic Supplement"](o)||fi["Arabic Extended-A"](o)||fi["Arabic Presentation Forms-A"](o)||fi["Arabic Presentation Forms-B"](o))}function fe(o){return!(746!==o&&747!==o&&(o<4352||!(fi["Bopomofo Extended"](o)||fi.Bopomofo(o)||fi["CJK Compatibility Forms"](o)&&!(o>=65097&&o<=65103)||fi["CJK Compatibility Ideographs"](o)||fi["CJK Compatibility"](o)||fi["CJK Radicals Supplement"](o)||fi["CJK Strokes"](o)||!(!fi["CJK Symbols and Punctuation"](o)||o>=12296&&o<=12305||o>=12308&&o<=12319||12336===o)||fi["CJK Unified Ideographs Extension A"](o)||fi["CJK Unified Ideographs"](o)||fi["Enclosed CJK Letters and Months"](o)||fi["Hangul Compatibility Jamo"](o)||fi["Hangul Jamo Extended-A"](o)||fi["Hangul Jamo Extended-B"](o)||fi["Hangul Jamo"](o)||fi["Hangul Syllables"](o)||fi.Hiragana(o)||fi["Ideographic Description Characters"](o)||fi.Kanbun(o)||fi["Kangxi Radicals"](o)||fi["Katakana Phonetic Extensions"](o)||fi.Katakana(o)&&12540!==o||!(!fi["Halfwidth and Fullwidth Forms"](o)||65288===o||65289===o||65293===o||o>=65306&&o<=65310||65339===o||65341===o||65343===o||o>=65371&&o<=65503||65507===o||o>=65512&&o<=65519)||!(!fi["Small Form Variants"](o)||o>=65112&&o<=65118||o>=65123&&o<=65126)||fi["Unified Canadian Aboriginal Syllabics"](o)||fi["Unified Canadian Aboriginal Syllabics Extended"](o)||fi["Vertical Forms"](o)||fi["Yijing Hexagram Symbols"](o)||fi["Yi Syllables"](o)||fi["Yi Radicals"](o))))}function Ze(o){return!(fe(o)||(t=o,fi["Latin-1 Supplement"](t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||fi["General Punctuation"](t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||fi["Letterlike Symbols"](t)||fi["Number Forms"](t)||fi["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||fi["Control Pictures"](t)&&9251!==t||fi["Optical Character Recognition"](t)||fi["Enclosed Alphanumerics"](t)||fi["Geometric Shapes"](t)||fi["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||fi["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||fi["CJK Symbols and Punctuation"](t)||fi.Katakana(t)||fi["Private Use Area"](t)||fi["CJK Compatibility Forms"](t)||fi["Small Form Variants"](t)||fi["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t));var t}function kt(o){return o>=1424&&o<=2303||fi["Arabic Presentation Forms-A"](o)||fi["Arabic Presentation Forms-B"](o)}function Wt(o,t){return!(!t&&kt(o)||o>=2304&&o<=3583||o>=3840&&o<=4255||fi.Khmer(o))}function qi(o){for(const t of o)if(kt(t.charCodeAt(0)))return!0;return!1}const tr="deferred",zn="loading",Bn="loaded";let Mn=null,Wn="unavailable",mn=null;const Wr=function(o){o&&"string"==typeof o&&o.indexOf("NetworkError")>-1&&(Wn="error"),Mn&&Mn(o)};function Zs(){Ki.fire(new Be("pluginStateChange",{pluginStatus:Wn,pluginURL:mn}))}const Ki=new ut,ws=function(){return Wn},Cs=function(){if(Wn!==tr||!mn)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Wn=zn,Zs(),mn&&zt({url:mn},o=>{o?Wr(o):(Wn=Bn,Zs())})},ir={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Wn===Bn||null!=ir.applyArabicShaping,isLoading:()=>Wn===zn,setState(o){if(!Pt())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");Wn=o.pluginStatus,mn=o.pluginURL},isParsed(){if(!Pt())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return null!=ir.applyArabicShaping&&null!=ir.processBidirectionalText&&null!=ir.processStyledBidirectionalText},getPluginURL(){if(!Pt())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return mn}};class nr{constructor(t,a){this.zoom=t,a?(this.now=a.now,this.fadeDuration=a.fadeDuration,this.zoomHistory=a.zoomHistory,this.transition=a.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new _r,this.transition={})}isSupportedScript(t){return function(a,p){for(const x of a)if(!Wt(x.charCodeAt(0),p))return!1;return!0}(t,ir.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const t=this.zoom,a=t-Math.floor(t),p=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:a+(1-a)*p}:{fromScale:.5,toScale:1,t:1-(1-p)*a}}}class ps{constructor(t,a){this.property=t,this.value=a,this.expression=function(p,x){if(Kr(p))return new Ga(p,x);if(sl(p)){const T=On(p,x);if("error"===T.result)throw new Error(T.value.map(I=>`${I.key}: ${I.message}`).join(", "));return T.value}{let T=p;return"color"===x.type&&"string"==typeof p?T=$t.parse(p):"padding"!==x.type||"number"!=typeof p&&!Array.isArray(p)||(T=Ui.parse(p)),{kind:"constant",evaluate:()=>T}}}(void 0===a?t.specification.default:a,t.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(t,a,p){return this.property.possiblyEvaluate(this,t,a,p)}}class hn{constructor(t){this.property=t,this.value=new ps(t,void 0)}transitioned(t,a){return new Dl(this.property,this.value,a,bt({},t.transition,this.transition),t.now)}untransitioned(){return new Dl(this.property,this.value,null,{},0)}}class Ka{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)}getValue(t){return Yt(this._values[t].value.value)}setValue(t,a){Object.prototype.hasOwnProperty.call(this._values,t)||(this._values[t]=new hn(this._values[t].property)),this._values[t].value=new ps(this._values[t].property,null===a?void 0:Yt(a))}getTransition(t){return Yt(this._values[t].transition)}setTransition(t,a){Object.prototype.hasOwnProperty.call(this._values,t)||(this._values[t]=new hn(this._values[t].property)),this._values[t].transition=Yt(a)||void 0}serialize(){const t={};for(const a of Object.keys(this._values)){const p=this.getValue(a);void 0!==p&&(t[a]=p);const x=this.getTransition(a);void 0!==x&&(t[`${a}-transition`]=x)}return t}transitioned(t,a){const p=new Qc(this._properties);for(const x of Object.keys(this._values))p._values[x]=this._values[x].transitioned(t,a._values[x]);return p}untransitioned(){const t=new Qc(this._properties);for(const a of Object.keys(this._values))t._values[a]=this._values[a].untransitioned();return t}}class Dl{constructor(t,a,p,x,T){this.property=t,this.value=a,this.begin=T+x.delay||0,this.end=this.begin+x.duration||0,t.specification.transition&&(x.delay||x.duration)&&(this.prior=p)}possiblyEvaluate(t,a,p){const x=t.now||0,T=this.value.possiblyEvaluate(t,a,p),I=this.prior;if(I){if(x>this.end)return this.prior=null,T;if(this.value.isDataDriven())return this.prior=null,T;if(x<this.begin)return I.possiblyEvaluate(t,a,p);{const O=(x-this.begin)/(this.end-this.begin);return this.property.interpolate(I.possiblyEvaluate(t,a,p),T,function(L){if(L<=0)return 0;if(L>=1)return 1;const Z=L*L,K=Z*L;return 4*(L<.5?K:3*(L-Z)+K-.75)}(O))}}return T}}class Qc{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)}possiblyEvaluate(t,a,p){const x=new is(this._properties);for(const T of Object.keys(this._values))x._values[T]=this._values[T].possiblyEvaluate(t,a,p);return x}hasTransition(){for(const t of Object.keys(this._values))if(this._values[t].prior)return!0;return!1}}class ed{constructor(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)}getValue(t){return Yt(this._values[t].value)}setValue(t,a){this._values[t]=new ps(this._values[t].property,null===a?void 0:Yt(a))}serialize(){const t={};for(const a of Object.keys(this._values)){const p=this.getValue(a);void 0!==p&&(t[a]=p)}return t}possiblyEvaluate(t,a,p){const x=new is(this._properties);for(const T of Object.keys(this._values))x._values[T]=this._values[T].possiblyEvaluate(t,a,p);return x}}class _a{constructor(t,a,p){this.property=t,this.value=a,this.parameters=p}isConstant(){return"constant"===this.value.kind}constantOr(t){return"constant"===this.value.kind?this.value.value:t}evaluate(t,a,p,x){return this.property.evaluate(this.value,this.parameters,t,a,p,x)}}class is{constructor(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)}get(t){return this._values[t]}}class wt{constructor(t){this.specification=t}possiblyEvaluate(t,a){if(t.isDataDriven())throw new Error("Value should not be data driven");return t.expression.evaluate(a)}interpolate(t,a,p){const x=zr[this.specification.type];return x?x(t,a,p):t}}class gi{constructor(t,a){this.specification=t,this.overrides=a}possiblyEvaluate(t,a,p,x){return new _a(this,"constant"===t.expression.kind||"camera"===t.expression.kind?{kind:"constant",value:t.expression.evaluate(a,null,{},p,x)}:t.expression,a)}interpolate(t,a,p){if("constant"!==t.value.kind||"constant"!==a.value.kind)return t;if(void 0===t.value.value||void 0===a.value.value)return new _a(this,{kind:"constant",value:void 0},t.parameters);const x=zr[this.specification.type];if(x){const T=x(t.value.value,a.value.value,p);return new _a(this,{kind:"constant",value:T},t.parameters)}return t}evaluate(t,a,p,x,T,I){return"constant"===t.kind?t.value:t.evaluate(a,p,x,T,I)}}class ll extends gi{possiblyEvaluate(t,a,p,x){if(void 0===t.value)return new _a(this,{kind:"constant",value:void 0},a);if("constant"===t.expression.kind){const T=t.expression.evaluate(a,null,{},p,x),I="resolvedImage"===t.property.specification.type&&"string"!=typeof T?T.name:T,O=this._calculate(I,I,I,a);return new _a(this,{kind:"constant",value:O},a)}if("camera"===t.expression.kind){const T=this._calculate(t.expression.evaluate({zoom:a.zoom-1}),t.expression.evaluate({zoom:a.zoom}),t.expression.evaluate({zoom:a.zoom+1}),a);return new _a(this,{kind:"constant",value:T},a)}return new _a(this,t.expression,a)}evaluate(t,a,p,x,T,I){if("source"===t.kind){const O=t.evaluate(a,p,x,T,I);return this._calculate(O,O,O,a)}return"composite"===t.kind?this._calculate(t.evaluate({zoom:Math.floor(a.zoom)-1},p,x),t.evaluate({zoom:Math.floor(a.zoom)},p,x),t.evaluate({zoom:Math.floor(a.zoom)+1},p,x),a):t.value}_calculate(t,a,p,x){return x.zoom>x.zoomHistory.lastIntegerZoom?{from:t,to:a}:{from:p,to:a}}interpolate(t){return t}}class Ws{constructor(t){this.specification=t}possiblyEvaluate(t,a,p,x){if(void 0!==t.value){if("constant"===t.expression.kind){const T=t.expression.evaluate(a,null,{},p,x);return this._calculate(T,T,T,a)}return this._calculate(t.expression.evaluate(new nr(Math.floor(a.zoom-1),a)),t.expression.evaluate(new nr(Math.floor(a.zoom),a)),t.expression.evaluate(new nr(Math.floor(a.zoom+1),a)),a)}}_calculate(t,a,p,x){return x.zoom>x.zoomHistory.lastIntegerZoom?{from:t,to:a}:{from:p,to:a}}interpolate(t){return t}}class wo{constructor(t){this.specification=t}possiblyEvaluate(t,a,p,x){return!!t.expression.evaluate(a,null,{},p,x)}interpolate(){return!1}}class Io{constructor(t){this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const a in t){const p=t[a];p.specification.overridable&&this.overridableProperties.push(a);const x=this.defaultPropertyValues[a]=new ps(p,void 0),T=this.defaultTransitionablePropertyValues[a]=new hn(p);this.defaultTransitioningPropertyValues[a]=T.untransitioned(),this.defaultPossiblyEvaluatedValues[a]=x.possiblyEvaluate({})}}}Ni("DataDrivenProperty",gi),Ni("DataConstantProperty",wt),Ni("CrossFadedDataDrivenProperty",ll),Ni("CrossFadedProperty",Ws),Ni("ColorRampProperty",wo);const Wl="-transition";class Ao extends ut{constructor(t,a){if(super(),this.id=t.id,this.type=t.type,this._featureFilter={filter:()=>!0,needGeometry:!1},"custom"!==t.type&&(this.metadata=t.metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,"background"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),a.layout&&(this._unevaluatedLayout=new ed(a.layout)),a.paint)){this._transitionablePaint=new Ka(a.paint);for(const p in t.paint)this.setPaintProperty(p,t.paint[p],{validate:!1});for(const p in t.layout)this.setLayoutProperty(p,t.layout[p],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new is(a.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)}setLayoutProperty(t,a,p={}){null!=a&&this._validate(El,`layers.${this.id}.layout.${t}`,t,a,p)||("visibility"!==t?this._unevaluatedLayout.setValue(t,a):this.visibility=a)}getPaintProperty(t){return t.endsWith(Wl)?this._transitionablePaint.getTransition(t.slice(0,-11)):this._transitionablePaint.getValue(t)}setPaintProperty(t,a,p={}){if(null!=a&&this._validate(ro,`layers.${this.id}.paint.${t}`,t,a,p))return!1;if(t.endsWith(Wl))return this._transitionablePaint.setTransition(t.slice(0,-11),a||void 0),!1;{const x=this._transitionablePaint._values[t],T="cross-faded-data-driven"===x.property.specification["property-type"],I=x.value.isDataDriven(),O=x.value;this._transitionablePaint.setValue(t,a),this._handleSpecialPaintPropertyUpdate(t);const L=this._transitionablePaint._values[t].value;return L.isDataDriven()||I||T||this._handleOverridablePaintPropertyUpdate(t,O,L)}}_handleSpecialPaintPropertyUpdate(t){}_handleOverridablePaintPropertyUpdate(t,a,p){return!1}isHidden(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility}updateTransitions(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(t,a){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,void 0,a)),this.paint=this._transitioningPaint.possiblyEvaluate(t,void 0,a)}serialize(){const t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),Ti(t,(a,p)=>!(void 0===a||"layout"===p&&!Object.keys(a).length||"paint"===p&&!Object.keys(a).length))}_validate(t,a,p,x,T={}){return(!T||!1!==T.validate)&&Ya(this,t.call(Zo,{key:a,layerType:this.type,objectKey:p,value:x,styleSpec:Ee,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const t in this.paint._values){const a=this.paint.get(t);if(a instanceof _a&&Jn(a.property.specification)&&("source"===a.value.kind||"composite"===a.value.kind)&&a.value.isStateDependent)return!0}return!1}}const Pa={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class cl{constructor(t,a){this._structArray=t,this._pos1=a*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Br{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(t,a){return t._trim(),a&&(t.isTransferred=!0,a.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}}static deserialize(t){const a=Object.create(this.prototype);return a.arrayBuffer=t.arrayBuffer,a.length=t.length,a.capacity=t.arrayBuffer.byteLength/a.bytesPerElement,a._refreshViews(),a}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(t){this.reserve(t),this.length=t}reserve(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const a=this.uint8;this._refreshViews(),a&&this.uint8.set(a)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Co(o,t=1){let a=0,p=0;return{members:o.map(x=>{const T=Pa[x.type].BYTES_PER_ELEMENT,I=a=lc(a,Math.max(t,T)),O=x.components||1;return p=Math.max(p,T),a+=T*O,{name:x.name,type:x.type,components:O,offset:I}}),size:lc(a,Math.max(p,t)),alignment:t}}function lc(o,t){return Math.ceil(o/t)*t}class ko extends Br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,a){const p=this.length;return this.resize(p+1),this.emplace(p,t,a)}emplace(t,a,p){const x=2*t;return this.int16[x+0]=a,this.int16[x+1]=p,t}}ko.prototype.bytesPerElement=4,Ni("StructArrayLayout2i4",ko);class fs extends Br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,a,p){const x=this.length;return this.resize(x+1),this.emplace(x,t,a,p)}emplace(t,a,p,x){const T=3*t;return this.int16[T+0]=a,this.int16[T+1]=p,this.int16[T+2]=x,t}}fs.prototype.bytesPerElement=6,Ni("StructArrayLayout3i6",fs);class oa extends Br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,a,p,x){const T=this.length;return this.resize(T+1),this.emplace(T,t,a,p,x)}emplace(t,a,p,x,T){const I=4*t;return this.int16[I+0]=a,this.int16[I+1]=p,this.int16[I+2]=x,this.int16[I+3]=T,t}}oa.prototype.bytesPerElement=8,Ni("StructArrayLayout4i8",oa);class Es extends Br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,a,p,x,T,I){const O=this.length;return this.resize(O+1),this.emplace(O,t,a,p,x,T,I)}emplace(t,a,p,x,T,I,O){const L=6*t;return this.int16[L+0]=a,this.int16[L+1]=p,this.int16[L+2]=x,this.int16[L+3]=T,this.int16[L+4]=I,this.int16[L+5]=O,t}}Es.prototype.bytesPerElement=12,Ni("StructArrayLayout2i4i12",Es);class qs extends Br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,a,p,x,T,I){const O=this.length;return this.resize(O+1),this.emplace(O,t,a,p,x,T,I)}emplace(t,a,p,x,T,I,O){const L=4*t,Z=8*t;return this.int16[L+0]=a,this.int16[L+1]=p,this.uint8[Z+4]=x,this.uint8[Z+5]=T,this.uint8[Z+6]=I,this.uint8[Z+7]=O,t}}qs.prototype.bytesPerElement=8,Ni("StructArrayLayout2i4ub8",qs);class ya extends Br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,a){const p=this.length;return this.resize(p+1),this.emplace(p,t,a)}emplace(t,a,p){const x=2*t;return this.float32[x+0]=a,this.float32[x+1]=p,t}}ya.prototype.bytesPerElement=8,Ni("StructArrayLayout2f8",ya);class Sl extends Br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,a,p,x,T,I,O,L,Z,K){const te=this.length;return this.resize(te+1),this.emplace(te,t,a,p,x,T,I,O,L,Z,K)}emplace(t,a,p,x,T,I,O,L,Z,K,te){const ce=10*t;return this.uint16[ce+0]=a,this.uint16[ce+1]=p,this.uint16[ce+2]=x,this.uint16[ce+3]=T,this.uint16[ce+4]=I,this.uint16[ce+5]=O,this.uint16[ce+6]=L,this.uint16[ce+7]=Z,this.uint16[ce+8]=K,this.uint16[ce+9]=te,t}}Sl.prototype.bytesPerElement=20,Ni("StructArrayLayout10ui20",Sl);class td extends Br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,a,p,x,T,I,O,L,Z,K,te,ce){const pe=this.length;return this.resize(pe+1),this.emplace(pe,t,a,p,x,T,I,O,L,Z,K,te,ce)}emplace(t,a,p,x,T,I,O,L,Z,K,te,ce,pe){const be=12*t;return this.int16[be+0]=a,this.int16[be+1]=p,this.int16[be+2]=x,this.int16[be+3]=T,this.uint16[be+4]=I,this.uint16[be+5]=O,this.uint16[be+6]=L,this.uint16[be+7]=Z,this.int16[be+8]=K,this.int16[be+9]=te,this.int16[be+10]=ce,this.int16[be+11]=pe,t}}td.prototype.bytesPerElement=24,Ni("StructArrayLayout4i4ui4i24",td);class dl extends Br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,a,p){const x=this.length;return this.resize(x+1),this.emplace(x,t,a,p)}emplace(t,a,p,x){const T=3*t;return this.float32[T+0]=a,this.float32[T+1]=p,this.float32[T+2]=x,t}}dl.prototype.bytesPerElement=12,Ni("StructArrayLayout3f12",dl);class Oa extends Br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t){const a=this.length;return this.resize(a+1),this.emplace(a,t)}emplace(t,a){return this.uint32[1*t+0]=a,t}}Oa.prototype.bytesPerElement=4,Ni("StructArrayLayout1ul4",Oa);class ql extends Br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,a,p,x,T,I,O,L,Z){const K=this.length;return this.resize(K+1),this.emplace(K,t,a,p,x,T,I,O,L,Z)}emplace(t,a,p,x,T,I,O,L,Z,K){const te=10*t,ce=5*t;return this.int16[te+0]=a,this.int16[te+1]=p,this.int16[te+2]=x,this.int16[te+3]=T,this.int16[te+4]=I,this.int16[te+5]=O,this.uint32[ce+3]=L,this.uint16[te+8]=Z,this.uint16[te+9]=K,t}}ql.prototype.bytesPerElement=20,Ni("StructArrayLayout6i1ul2ui20",ql);class Tl extends Br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,a,p,x,T,I){const O=this.length;return this.resize(O+1),this.emplace(O,t,a,p,x,T,I)}emplace(t,a,p,x,T,I,O){const L=6*t;return this.int16[L+0]=a,this.int16[L+1]=p,this.int16[L+2]=x,this.int16[L+3]=T,this.int16[L+4]=I,this.int16[L+5]=O,t}}Tl.prototype.bytesPerElement=12,Ni("StructArrayLayout2i2i2i12",Tl);class Ra extends Br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,a,p,x,T){const I=this.length;return this.resize(I+1),this.emplace(I,t,a,p,x,T)}emplace(t,a,p,x,T,I){const O=4*t,L=8*t;return this.float32[O+0]=a,this.float32[O+1]=p,this.float32[O+2]=x,this.int16[L+6]=T,this.int16[L+7]=I,t}}Ra.prototype.bytesPerElement=16,Ni("StructArrayLayout2f1f2i16",Ra);class Yl extends Br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,a,p,x){const T=this.length;return this.resize(T+1),this.emplace(T,t,a,p,x)}emplace(t,a,p,x,T){const I=12*t,O=3*t;return this.uint8[I+0]=a,this.uint8[I+1]=p,this.float32[O+1]=x,this.float32[O+2]=T,t}}Yl.prototype.bytesPerElement=12,Ni("StructArrayLayout2ub2f12",Yl);class Il extends Br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,a,p){const x=this.length;return this.resize(x+1),this.emplace(x,t,a,p)}emplace(t,a,p,x){const T=3*t;return this.uint16[T+0]=a,this.uint16[T+1]=p,this.uint16[T+2]=x,t}}Il.prototype.bytesPerElement=6,Ni("StructArrayLayout3ui6",Il);class Al extends Br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,a,p,x,T,I,O,L,Z,K,te,ce,pe,be,Ne,We,tt){const _t=this.length;return this.resize(_t+1),this.emplace(_t,t,a,p,x,T,I,O,L,Z,K,te,ce,pe,be,Ne,We,tt)}emplace(t,a,p,x,T,I,O,L,Z,K,te,ce,pe,be,Ne,We,tt,_t){const st=24*t,St=12*t,Rt=48*t;return this.int16[st+0]=a,this.int16[st+1]=p,this.uint16[st+2]=x,this.uint16[st+3]=T,this.uint32[St+2]=I,this.uint32[St+3]=O,this.uint32[St+4]=L,this.uint16[st+10]=Z,this.uint16[st+11]=K,this.uint16[st+12]=te,this.float32[St+7]=ce,this.float32[St+8]=pe,this.uint8[Rt+36]=be,this.uint8[Rt+37]=Ne,this.uint8[Rt+38]=We,this.uint32[St+10]=tt,this.int16[st+22]=_t,t}}Al.prototype.bytesPerElement=48,Ni("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Al);class cc extends Br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,a,p,x,T,I,O,L,Z,K,te,ce,pe,be,Ne,We,tt,_t,st,St,Rt,ei,Ri,Li,Pi,Ci,xi,Ii){const Mi=this.length;return this.resize(Mi+1),this.emplace(Mi,t,a,p,x,T,I,O,L,Z,K,te,ce,pe,be,Ne,We,tt,_t,st,St,Rt,ei,Ri,Li,Pi,Ci,xi,Ii)}emplace(t,a,p,x,T,I,O,L,Z,K,te,ce,pe,be,Ne,We,tt,_t,st,St,Rt,ei,Ri,Li,Pi,Ci,xi,Ii,Mi){const hi=34*t,Xi=17*t;return this.int16[hi+0]=a,this.int16[hi+1]=p,this.int16[hi+2]=x,this.int16[hi+3]=T,this.int16[hi+4]=I,this.int16[hi+5]=O,this.int16[hi+6]=L,this.int16[hi+7]=Z,this.uint16[hi+8]=K,this.uint16[hi+9]=te,this.uint16[hi+10]=ce,this.uint16[hi+11]=pe,this.uint16[hi+12]=be,this.uint16[hi+13]=Ne,this.uint16[hi+14]=We,this.uint16[hi+15]=tt,this.uint16[hi+16]=_t,this.uint16[hi+17]=st,this.uint16[hi+18]=St,this.uint16[hi+19]=Rt,this.uint16[hi+20]=ei,this.uint16[hi+21]=Ri,this.uint16[hi+22]=Li,this.uint32[Xi+12]=Pi,this.float32[Xi+13]=Ci,this.float32[Xi+14]=xi,this.float32[Xi+15]=Ii,this.float32[Xi+16]=Mi,t}}cc.prototype.bytesPerElement=68,Ni("StructArrayLayout8i15ui1ul4f68",cc);class kl extends Br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t){const a=this.length;return this.resize(a+1),this.emplace(a,t)}emplace(t,a){return this.float32[1*t+0]=a,t}}kl.prototype.bytesPerElement=4,Ni("StructArrayLayout1f4",kl);class Qn extends Br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,a,p){const x=this.length;return this.resize(x+1),this.emplace(x,t,a,p)}emplace(t,a,p,x){const T=4*t;return this.uint32[2*t+0]=a,this.uint16[T+2]=p,this.uint16[T+3]=x,t}}Qn.prototype.bytesPerElement=8,Ni("StructArrayLayout1ul2ui8",Qn);class E extends Br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,a){const p=this.length;return this.resize(p+1),this.emplace(p,t,a)}emplace(t,a,p){const x=2*t;return this.uint16[x+0]=a,this.uint16[x+1]=p,t}}E.prototype.bytesPerElement=4,Ni("StructArrayLayout2ui4",E);class i extends Br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t){const a=this.length;return this.resize(a+1),this.emplace(a,t)}emplace(t,a){return this.uint16[1*t+0]=a,t}}i.prototype.bytesPerElement=2,Ni("StructArrayLayout1ui2",i);class d extends Br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,a,p,x){const T=this.length;return this.resize(T+1),this.emplace(T,t,a,p,x)}emplace(t,a,p,x,T){const I=4*t;return this.float32[I+0]=a,this.float32[I+1]=p,this.float32[I+2]=x,this.float32[I+3]=T,t}}d.prototype.bytesPerElement=16,Ni("StructArrayLayout4f16",d);class y extends cl{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new Oe(this.anchorPointX,this.anchorPointY)}}y.prototype.size=20;class w extends ql{get(t){return new y(this,t)}}Ni("CollisionBoxArray",w);class S extends cl{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(t){this._structArray.uint8[this._pos1+37]=t}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(t){this._structArray.uint8[this._pos1+38]=t}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(t){this._structArray.uint32[this._pos4+10]=t}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}S.prototype.size=48;class f extends Al{get(t){return new S(this,t)}}Ni("PlacedSymbolArray",f);class b extends cl{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(t){this._structArray.uint32[this._pos4+12]=t}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get textOffset0(){return this._structArray.float32[this._pos4+14]}get textOffset1(){return this._structArray.float32[this._pos4+15]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+16]}}b.prototype.size=68;class _ extends cc{get(t){return new b(this,t)}}Ni("SymbolInstanceArray",_);class D extends kl{getoffsetX(t){return this.float32[1*t+0]}}Ni("GlyphOffsetArray",D);class k extends fs{getx(t){return this.int16[3*t+0]}gety(t){return this.int16[3*t+1]}gettileUnitDistanceFromAnchor(t){return this.int16[3*t+2]}}Ni("SymbolLineVertexArray",k);class R extends cl{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}R.prototype.size=8;class z extends Qn{get(t){return new R(this,t)}}Ni("FeatureIndexArray",z);class ee extends ko{}class oe extends ko{}class Me extends ko{}class Ce extends Es{}class it extends qs{}class yt extends ya{}class $e extends Sl{}class ft extends td{}class Ft extends dl{}class Zt extends Oa{}class Gt extends Tl{}class Qt extends Yl{}class Xt extends Il{}class Ei extends E{}const ji=Co([{name:"a_pos",components:2,type:"Int16"}],4),{members:xn}=ji;class bi{constructor(t=[]){this.segments=t}prepareSegment(t,a,p,x){let T=this.segments[this.segments.length-1];return t>bi.MAX_VERTEX_ARRAY_LENGTH&&Ue(`Max vertices per segment is ${bi.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${t}`),(!T||T.vertexLength+t>bi.MAX_VERTEX_ARRAY_LENGTH||T.sortKey!==x)&&(T={vertexOffset:a.length,primitiveOffset:p.length,vertexLength:0,primitiveLength:0},void 0!==x&&(T.sortKey=x),this.segments.push(T)),T}get(){return this.segments}destroy(){for(const t of this.segments)for(const a in t.vaos)t.vaos[a].destroy()}static simpleSegment(t,a,p,x){return new bi([{vertexOffset:t,primitiveOffset:a,vertexLength:p,primitiveLength:x,vaos:{},sortKey:0}])}}function tn(o,t){return 256*(o=Xe(Math.floor(o),0,255))+Xe(Math.floor(t),0,255)}bi.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ni("SegmentVector",bi);const ki=Co([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var sr={exports:{}},Pr=function(o,t){var a,p,x,T,I,O,L,Z;for(p=o.length-(a=3&o.length),x=t,I=3432918353,O=461845907,Z=0;Z<p;)L=255&o.charCodeAt(Z)|(255&o.charCodeAt(++Z))<<8|(255&o.charCodeAt(++Z))<<16|(255&o.charCodeAt(++Z))<<24,++Z,x=27492+(65535&(T=5*(65535&(x=(x^=L=(65535&(L=(L=(65535&L)*I+(((L>>>16)*I&65535)<<16)&4294967295)<<15|L>>>17))*O+(((L>>>16)*O&65535)<<16)&4294967295)<<13|x>>>19))+((5*(x>>>16)&65535)<<16)&4294967295))+((58964+(T>>>16)&65535)<<16);switch(L=0,a){case 3:L^=(255&o.charCodeAt(Z+2))<<16;case 2:L^=(255&o.charCodeAt(Z+1))<<8;case 1:x^=L=(65535&(L=(L=(65535&(L^=255&o.charCodeAt(Z)))*I+(((L>>>16)*I&65535)<<16)&4294967295)<<15|L>>>17))*O+(((L>>>16)*O&65535)<<16)&4294967295}return x^=o.length,x=2246822507*(65535&(x^=x>>>16))+((2246822507*(x>>>16)&65535)<<16)&4294967295,x=3266489909*(65535&(x^=x>>>13))+((3266489909*(x>>>16)&65535)<<16)&4294967295,(x^=x>>>16)>>>0},zo=function(o,t){for(var a,p=o.length,x=t^p,T=0;p>=4;)a=1540483477*(65535&(a=255&o.charCodeAt(T)|(255&o.charCodeAt(++T))<<8|(255&o.charCodeAt(++T))<<16|(255&o.charCodeAt(++T))<<24))+((1540483477*(a>>>16)&65535)<<16),x=1540483477*(65535&x)+((1540483477*(x>>>16)&65535)<<16)^(a=1540483477*(65535&(a^=a>>>24))+((1540483477*(a>>>16)&65535)<<16)),p-=4,++T;switch(p){case 3:x^=(255&o.charCodeAt(T+2))<<16;case 2:x^=(255&o.charCodeAt(T+1))<<8;case 1:x=1540483477*(65535&(x^=255&o.charCodeAt(T)))+((1540483477*(x>>>16)&65535)<<16)}return x=1540483477*(65535&(x^=x>>>13))+((1540483477*(x>>>16)&65535)<<16),(x^=x>>>15)>>>0};sr.exports=Pr,sr.exports.murmur3=Pr,sr.exports.murmur2=zo;var ar=je(sr.exports);class ns{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(t,a,p,x){this.ids.push(Ys(t)),this.positions.push(a,p,x)}getPositions(t){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const a=Ys(t);let p=0,x=this.ids.length-1;for(;p<x;){const I=p+x>>1;this.ids[I]>=a?x=I:p=I+1}const T=[];for(;this.ids[p]===a;)T.push({index:this.positions[3*p],start:this.positions[3*p+1],end:this.positions[3*p+2]}),p++;return T}static serialize(t,a){const p=new Float64Array(t.ids),x=new Uint32Array(t.positions);return sa(p,x,0,p.length-1),a&&a.push(p.buffer,x.buffer),{ids:p,positions:x}}static deserialize(t){const a=new ns;return a.ids=t.ids,a.positions=t.positions,a.indexed=!0,a}}function Ys(o){const t=+o;return!isNaN(t)&&t<=Number.MAX_SAFE_INTEGER?t:ar(String(o))}function sa(o,t,a,p){for(;a<p;){const x=o[a+p>>1];let T=a-1,I=p+1;for(;;){do{T++}while(o[T]<x);do{I--}while(o[I]>x);if(T>=I)break;va(o,T,I),va(t,3*T,3*I),va(t,3*T+1,3*I+1),va(t,3*T+2,3*I+2)}I-a<p-I?(sa(o,t,a,I),a=I+1):(sa(o,t,I+1,p),p=I)}}function va(o,t,a){const p=o[t];o[t]=o[a],o[a]=p}Ni("FeaturePositionMap",ns);class Jr{constructor(t,a){this.gl=t.gl,this.location=a}}class Fa extends Jr{constructor(t,a){super(t,a),this.current=0}set(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t))}}class Pl extends Jr{constructor(t,a){super(t,a),this.current=[0,0,0,0]}set(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))}}class Wo extends Jr{constructor(t,a){super(t,a),this.current=$t.transparent}set(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))}}const po=new Float32Array(16);function rr(o){return[tn(255*o.r,255*o.g),tn(255*o.b,255*o.a)]}class Eo{constructor(t,a,p){this.value=t,this.uniformNames=a.map(x=>`u_${x}`),this.type=p}setUniform(t,a,p){t.set(p.constantOr(this.value))}getBinding(t,a,p){return"color"===this.type?new Wo(t,a):new Fa(t,a)}}class qo{constructor(t,a){this.uniformNames=a.map(p=>`u_${p}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(t,a){this.pixelRatioFrom=a.pixelRatio,this.pixelRatioTo=t.pixelRatio,this.patternFrom=a.tlbr,this.patternTo=t.tlbr}setUniform(t,a,p,x){const T="u_pattern_to"===x?this.patternTo:"u_pattern_from"===x?this.patternFrom:"u_pixel_ratio_to"===x?this.pixelRatioTo:"u_pixel_ratio_from"===x?this.pixelRatioFrom:null;T&&t.set(T)}getBinding(t,a,p){return"u_pattern"===p.substr(0,9)?new Pl(t,a):new Fa(t,a)}}class lr{constructor(t,a,p,x){this.expression=t,this.type=p,this.maxValue=0,this.paintVertexAttributes=a.map(T=>({name:`a_${T}`,type:"Float32",components:"color"===p?2:1,offset:0})),this.paintVertexArray=new x}populatePaintArray(t,a,p,x,T){const I=this.paintVertexArray.length,O=this.expression.evaluate(new nr(0),a,{},x,[],T);this.paintVertexArray.resize(t),this._setPaintValue(I,t,O)}updatePaintArray(t,a,p,x){const T=this.expression.evaluate({zoom:0},p,x);this._setPaintValue(t,a,T)}_setPaintValue(t,a,p){if("color"===this.type){const x=rr(p);for(let T=t;T<a;T++)this.paintVertexArray.emplace(T,x[0],x[1])}else{for(let x=t;x<a;x++)this.paintVertexArray.emplace(x,p);this.maxValue=Math.max(this.maxValue,Math.abs(p))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Po{constructor(t,a,p,x,T,I){this.expression=t,this.uniformNames=a.map(O=>`u_${O}_t`),this.type=p,this.useIntegerZoom=x,this.zoom=T,this.maxValue=0,this.paintVertexAttributes=a.map(O=>({name:`a_${O}`,type:"Float32",components:"color"===p?4:2,offset:0})),this.paintVertexArray=new I}populatePaintArray(t,a,p,x,T){const I=this.expression.evaluate(new nr(this.zoom),a,{},x,[],T),O=this.expression.evaluate(new nr(this.zoom+1),a,{},x,[],T),L=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(L,t,I,O)}updatePaintArray(t,a,p,x){const T=this.expression.evaluate({zoom:this.zoom},p,x),I=this.expression.evaluate({zoom:this.zoom+1},p,x);this._setPaintValue(t,a,T,I)}_setPaintValue(t,a,p,x){if("color"===this.type){const T=rr(p),I=rr(x);for(let O=t;O<a;O++)this.paintVertexArray.emplace(O,T[0],T[1],I[0],I[1])}else{for(let T=t;T<a;T++)this.paintVertexArray.emplace(T,p,x);this.maxValue=Math.max(this.maxValue,Math.abs(p),Math.abs(x))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(t,a){const p=this.useIntegerZoom?Math.floor(a.zoom):a.zoom,x=Xe(this.expression.interpolationFactor(p,this.zoom,this.zoom+1),0,1);t.set(x)}getBinding(t,a,p){return new Fa(t,a)}}class Ks{constructor(t,a,p,x,T,I){this.expression=t,this.type=a,this.useIntegerZoom=p,this.zoom=x,this.layerId=I,this.zoomInPaintVertexArray=new T,this.zoomOutPaintVertexArray=new T}populatePaintArray(t,a,p){const x=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(x,t,a.patterns&&a.patterns[this.layerId],p)}updatePaintArray(t,a,p,x,T){this._setPaintValues(t,a,p.patterns&&p.patterns[this.layerId],T)}_setPaintValues(t,a,p,x){if(!x||!p)return;const{min:T,mid:I,max:O}=p,L=x[T],Z=x[I],K=x[O];if(L&&Z&&K)for(let te=t;te<a;te++)this.zoomInPaintVertexArray.emplace(te,Z.tl[0],Z.tl[1],Z.br[0],Z.br[1],L.tl[0],L.tl[1],L.br[0],L.br[1],Z.pixelRatio,L.pixelRatio),this.zoomOutPaintVertexArray.emplace(te,Z.tl[0],Z.tl[1],Z.br[0],Z.br[1],K.tl[0],K.tl[1],K.br[0],K.br[1],Z.pixelRatio,K.pixelRatio)}upload(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,ki.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,ki.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Kl{constructor(t,a,p){this.binders={},this._buffers=[];const x=[];for(const T in t.paint._values){if(!p(T))continue;const I=t.paint.get(T);if(!(I instanceof _a&&Jn(I.property.specification)))continue;const O=id(T,t.type),L=I.value,Z=I.property.specification.type,K=I.property.useIntegerZoom,te=I.property.specification["property-type"],ce="cross-faded"===te||"cross-faded-data-driven"===te;if("constant"===L.kind)this.binders[T]=ce?new qo(L.value,O):new Eo(L.value,O,Z),x.push(`/u_${T}`);else if("source"===L.kind||ce){const pe=Ol(T,Z,"source");this.binders[T]=ce?new Ks(L,Z,K,a,pe,t.id):new lr(L,O,Z,pe),x.push(`/a_${T}`)}else{const pe=Ol(T,Z,"composite");this.binders[T]=new Po(L,O,Z,K,a,pe),x.push(`/z_${T}`)}}this.cacheKey=x.sort().join("")}getMaxValue(t){const a=this.binders[t];return a instanceof lr||a instanceof Po?a.maxValue:0}populatePaintArrays(t,a,p,x,T){for(const I in this.binders){const O=this.binders[I];(O instanceof lr||O instanceof Po||O instanceof Ks)&&O.populatePaintArray(t,a,p,x,T)}}setConstantPatternPositions(t,a){for(const p in this.binders){const x=this.binders[p];x instanceof qo&&x.setConstantPatternPositions(t,a)}}updatePaintArrays(t,a,p,x,T){let I=!1;for(const O in t){const L=a.getPositions(O);for(const Z of L){const K=p.feature(Z.index);for(const te in this.binders){const ce=this.binders[te];if((ce instanceof lr||ce instanceof Po||ce instanceof Ks)&&!0===ce.expression.isStateDependent){const pe=x.paint.get(te);ce.expression=pe.value,ce.updatePaintArray(Z.start,Z.end,K,t[O],T),I=!0}}}}return I}defines(){const t=[];for(const a in this.binders){const p=this.binders[a];(p instanceof Eo||p instanceof qo)&&t.push(...p.uniformNames.map(x=>`#define HAS_UNIFORM_${x}`))}return t}getBinderAttributes(){const t=[];for(const a in this.binders){const p=this.binders[a];if(p instanceof lr||p instanceof Po)for(let x=0;x<p.paintVertexAttributes.length;x++)t.push(p.paintVertexAttributes[x].name);else if(p instanceof Ks)for(let x=0;x<ki.members.length;x++)t.push(ki.members[x].name)}return t}getBinderUniforms(){const t=[];for(const a in this.binders){const p=this.binders[a];if(p instanceof Eo||p instanceof qo||p instanceof Po)for(const x of p.uniformNames)t.push(x)}return t}getPaintVertexBuffers(){return this._buffers}getUniforms(t,a){const p=[];for(const x in this.binders){const T=this.binders[x];if(T instanceof Eo||T instanceof qo||T instanceof Po)for(const I of T.uniformNames)if(a[I]){const O=T.getBinding(t,a[I],I);p.push({name:I,property:x,binding:O})}}return p}setUniforms(t,a,p,x){for(const{name:T,property:I,binding:O}of a)this.binders[I].setUniform(O,x,p.get(I),T)}updatePaintBuffers(t){this._buffers=[];for(const a in this.binders){const p=this.binders[a];if(t&&p instanceof Ks){const x=2===t.fromScale?p.zoomInPaintVertexBuffer:p.zoomOutPaintVertexBuffer;x&&this._buffers.push(x)}else(p instanceof lr||p instanceof Po)&&p.paintVertexBuffer&&this._buffers.push(p.paintVertexBuffer)}}upload(t){for(const a in this.binders){const p=this.binders[a];(p instanceof lr||p instanceof Po||p instanceof Ks)&&p.upload(t)}this.updatePaintBuffers()}destroy(){for(const t in this.binders){const a=this.binders[t];(a instanceof lr||a instanceof Po||a instanceof Ks)&&a.destroy()}}}class ul{constructor(t,a,p=(()=>!0)){this.programConfigurations={};for(const x of t)this.programConfigurations[x.id]=new Kl(x,a,p);this.needsUpload=!1,this._featureMap=new ns,this._bufferOffset=0}populatePaintArrays(t,a,p,x,T,I){for(const O in this.programConfigurations)this.programConfigurations[O].populatePaintArrays(t,a,x,T,I);void 0!==a.id&&this._featureMap.add(a.id,p,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0}updatePaintArrays(t,a,p,x){for(const T of p)this.needsUpload=this.programConfigurations[T.id].updatePaintArrays(t,this._featureMap,a,T,x)||this.needsUpload}get(t){return this.programConfigurations[t]}upload(t){if(this.needsUpload){for(const a in this.programConfigurations)this.programConfigurations[a].upload(t);this.needsUpload=!1}}destroy(){for(const t in this.programConfigurations)this.programConfigurations[t].destroy()}}function id(o,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[o]||[o.replace(`${t}-`,"").replace(/-/g,"_")]}function Ol(o,t,a){const x={"line-pattern":{source:$e,composite:$e},"fill-pattern":{source:$e,composite:$e},"fill-extrusion-pattern":{source:$e,composite:$e}}[o];return x&&x[a]||{color:{source:ya,composite:d},number:{source:kl,composite:ya}}[t][a]}Ni("ConstantBinder",Eo),Ni("CrossFadedConstantBinder",qo),Ni("SourceExpressionBinder",lr),Ni("CrossFadedCompositeBinder",Ks),Ni("CompositeExpressionBinder",Po),Ni("ProgramConfiguration",Kl,{omit:["_buffers"]}),Ni("ProgramConfigurationSet",ul);const Vr=8192,nd=Math.pow(2,14)-1,dc=-nd-1;function Xs(o){const t=Vr/o.extent,a=o.loadGeometry();for(let p=0;p<a.length;p++){const x=a[p];for(let T=0;T<x.length;T++){const I=x[T],O=Math.round(I.x*t),L=Math.round(I.y*t);I.x=Xe(O,dc,nd),I.y=Xe(L,dc,nd),(O<I.x||O>I.x+1||L<I.y||L>I.y+1)&&Ue("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return a}function kc(o,t){return{type:o.type,id:o.id,properties:o.properties,geometry:t?Xs(o):[]}}function Od(o,t,a,p,x){o.emplaceBack(2*t+(p+1)/2,2*a+(x+1)/2)}class Rd{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(a=>a.id),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new oe,this.indexArray=new Xt,this.segments=new bi,this.programConfigurations=new ul(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id)}populate(t,a,p){const x=this.layers[0],T=[];let I=null,O=!1;"circle"===x.type&&(I=x.layout.get("circle-sort-key"),O=!I.isConstant());for(const{feature:L,id:Z,index:K,sourceLayerIndex:te}of t){const ce=this.layers[0]._featureFilter.needGeometry,pe=kc(L,ce);if(!this.layers[0]._featureFilter.filter(new nr(this.zoom),pe,p))continue;const be=O?I.evaluate(pe,{},p):void 0,Ne={id:Z,properties:L.properties,type:L.type,sourceLayerIndex:te,index:K,geometry:ce?pe.geometry:Xs(L),patterns:{},sortKey:be};T.push(Ne)}O&&T.sort((L,Z)=>L.sortKey-Z.sortKey);for(const L of T){const{geometry:Z,index:K,sourceLayerIndex:te}=L,ce=t[K].feature;this.addFeature(L,Z,K,p),a.featureIndex.insert(ce,Z,K,te,this.index)}}update(t,a,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,a,this.stateDependentLayers,p)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,xn),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(t,a,p,x){for(const T of a)for(const I of T){const O=I.x,L=I.y;if(O<0||O>=Vr||L<0||L>=Vr)continue;const Z=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),K=Z.vertexLength;Od(this.layoutVertexArray,O,L,-1,-1),Od(this.layoutVertexArray,O,L,1,-1),Od(this.layoutVertexArray,O,L,1,1),Od(this.layoutVertexArray,O,L,-1,1),this.indexArray.emplaceBack(K,K+1,K+2),this.indexArray.emplaceBack(K,K+3,K+2),Z.vertexLength+=4,Z.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,p,{},x)}}function Qm(o,t){for(let a=0;a<o.length;a++)if(Fd(t,o[a]))return!0;for(let a=0;a<t.length;a++)if(Fd(o,t[a]))return!0;return!!uc(o,t)}function ep(o,t,a){return!!Fd(o,t)||!!Iu(t,o,a)}function Tu(o,t){if(1===o.length)return Pc(t,o[0]);for(let a=0;a<t.length;a++){const p=t[a];for(let x=0;x<p.length;x++)if(Fd(o,p[x]))return!0}for(let a=0;a<o.length;a++)if(Pc(t,o[a]))return!0;for(let a=0;a<t.length;a++)if(uc(o,t[a]))return!0;return!1}function rd(o,t,a){if(o.length>1){if(uc(o,t))return!0;for(let p=0;p<t.length;p++)if(Iu(t[p],o,a))return!0}for(let p=0;p<o.length;p++)if(Iu(o[p],t,a))return!0;return!1}function uc(o,t){if(0===o.length||0===t.length)return!1;for(let a=0;a<o.length-1;a++){const p=o[a],x=o[a+1];for(let T=0;T<t.length-1;T++)if(od(p,x,t[T],t[T+1]))return!0}return!1}function od(o,t,a,p){return Ae(o,a,p)!==Ae(t,a,p)&&Ae(o,t,a)!==Ae(o,t,p)}function Iu(o,t,a){const p=a*a;if(1===t.length)return o.distSqr(t[0])<p;for(let x=1;x<t.length;x++)if(Au(o,t[x-1],t[x])<p)return!0;return!1}function Au(o,t,a){const p=t.distSqr(a);if(0===p)return o.distSqr(t);const x=((o.x-t.x)*(a.x-t.x)+(o.y-t.y)*(a.y-t.y))/p;return o.distSqr(x<0?t:x>1?a:a.sub(t)._mult(x)._add(t))}function Pc(o,t){let a,p,x,T=!1;for(let I=0;I<o.length;I++){a=o[I];for(let O=0,L=a.length-1;O<a.length;L=O++)p=a[O],x=a[L],p.y>t.y!=x.y>t.y&&t.x<(x.x-p.x)*(t.y-p.y)/(x.y-p.y)+p.x&&(T=!T)}return T}function Fd(o,t){let a=!1;for(let p=0,x=o.length-1;p<o.length;x=p++){const T=o[p],I=o[x];T.y>t.y!=I.y>t.y&&t.x<(I.x-T.x)*(t.y-T.y)/(I.y-T.y)+T.x&&(a=!a)}return a}function Ff(o,t,a){const p=a[0],x=a[2];if(o.x<p.x&&t.x<p.x||o.x>x.x&&t.x>x.x||o.y<p.y&&t.y<p.y||o.y>x.y&&t.y>x.y)return!1;const T=Ae(o,t,a[0]);return T!==Ae(o,t,a[1])||T!==Ae(o,t,a[2])||T!==Ae(o,t,a[3])}function ku(o,t,a){const p=t.paint.get(o).value;return"constant"===p.kind?p.value:a.programConfigurations.get(t.id).getMaxValue(o)}function Uh(o){return Math.sqrt(o[0]*o[0]+o[1]*o[1])}function jh(o,t,a,p,x){if(!t[0]&&!t[1])return o;const T=Oe.convert(t)._mult(x);"viewport"===a&&T._rotate(-p);const I=[];for(let O=0;O<o.length;O++)I.push(o[O].sub(T));return I}let oo,Lf;Ni("CircleBucket",Rd,{omit:["layers"]});var I_={get paint(){return Lf=Lf||new Io({"circle-radius":new gi(Ee.paint_circle["circle-radius"]),"circle-color":new gi(Ee.paint_circle["circle-color"]),"circle-blur":new gi(Ee.paint_circle["circle-blur"]),"circle-opacity":new gi(Ee.paint_circle["circle-opacity"]),"circle-translate":new wt(Ee.paint_circle["circle-translate"]),"circle-translate-anchor":new wt(Ee.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new wt(Ee.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new wt(Ee.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new gi(Ee.paint_circle["circle-stroke-width"]),"circle-stroke-color":new gi(Ee.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new gi(Ee.paint_circle["circle-stroke-opacity"])})},get layout(){return oo=oo||new Io({"circle-sort-key":new gi(Ee.layout_circle["circle-sort-key"])})}},Yo=1e-6,Oc=typeof Float32Array<"u"?Float32Array:Array;function Hh(o){return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}function fo(o,t,a){var p=t[0],x=t[1],T=t[2],I=t[3],O=t[4],L=t[5],Z=t[6],K=t[7],te=t[8],ce=t[9],pe=t[10],be=t[11],Ne=t[12],We=t[13],tt=t[14],_t=t[15],st=a[0],St=a[1],Rt=a[2],ei=a[3];return o[0]=st*p+St*O+Rt*te+ei*Ne,o[1]=st*x+St*L+Rt*ce+ei*We,o[2]=st*T+St*Z+Rt*pe+ei*tt,o[3]=st*I+St*K+Rt*be+ei*_t,o[4]=(st=a[4])*p+(St=a[5])*O+(Rt=a[6])*te+(ei=a[7])*Ne,o[5]=st*x+St*L+Rt*ce+ei*We,o[6]=st*T+St*Z+Rt*pe+ei*tt,o[7]=st*I+St*K+Rt*be+ei*_t,o[8]=(st=a[8])*p+(St=a[9])*O+(Rt=a[10])*te+(ei=a[11])*Ne,o[9]=st*x+St*L+Rt*ce+ei*We,o[10]=st*T+St*Z+Rt*pe+ei*tt,o[11]=st*I+St*K+Rt*be+ei*_t,o[12]=(st=a[12])*p+(St=a[13])*O+(Rt=a[14])*te+(ei=a[15])*Ne,o[13]=st*x+St*L+Rt*ce+ei*We,o[14]=st*T+St*Z+Rt*pe+ei*tt,o[15]=st*I+St*K+Rt*be+ei*_t,o}Math.hypot||(Math.hypot=function(){for(var o=0,t=arguments.length;t--;)o+=arguments[t]*arguments[t];return Math.sqrt(o)});var Ld,Rc=fo;function Pu(o,t,a){var p=t[0],x=t[1],T=t[2],I=t[3];return o[0]=a[0]*p+a[4]*x+a[8]*T+a[12]*I,o[1]=a[1]*p+a[5]*x+a[9]*T+a[13]*I,o[2]=a[2]*p+a[6]*x+a[10]*T+a[14]*I,o[3]=a[3]*p+a[7]*x+a[11]*T+a[15]*I,o}Ld=new Oc(4),Oc!=Float32Array&&(Ld[0]=0,Ld[1]=0,Ld[2]=0,Ld[3]=0);class Ms extends Ao{constructor(t){super(t,I_)}createBucket(t){return new Rd(t)}queryRadius(t){const a=t;return ku("circle-radius",this,a)+ku("circle-stroke-width",this,a)+Uh(this.paint.get("circle-translate"))}queryIntersectsFeature(t,a,p,x,T,I,O,L){const Z=jh(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),I.angle,O),K=this.paint.get("circle-radius").evaluate(a,p)+this.paint.get("circle-stroke-width").evaluate(a,p),te="map"===this.paint.get("circle-pitch-alignment"),ce=te?Z:(Ne=L,Z.map(We=>Fc(We,Ne))),pe=te?K*O:K;var Ne;for(const be of x)for(const Ne of be){const We=te?Ne:Fc(Ne,L);let tt=pe;const _t=Pu([],[Ne.x,Ne.y,0,1],L);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?tt*=_t[3]/I.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(tt*=I.cameraToCenterDistance/_t[3]),ep(ce,We,tt))return!0}return!1}}function Fc(o,t){const a=Pu([],[o.x,o.y,0,1],t);return new Oe(a[0]/a[3],a[1]/a[3])}class $h extends Rd{}let sd;Ni("HeatmapBucket",$h,{omit:["layers"]});var Nd={get paint(){return sd=sd||new Io({"heatmap-radius":new gi(Ee.paint_heatmap["heatmap-radius"]),"heatmap-weight":new gi(Ee.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new wt(Ee.paint_heatmap["heatmap-intensity"]),"heatmap-color":new wo(Ee.paint_heatmap["heatmap-color"]),"heatmap-opacity":new wt(Ee.paint_heatmap["heatmap-opacity"])})}};function Gh(o,{width:t,height:a},p,x){if(x){if(x instanceof Uint8ClampedArray)x=new Uint8Array(x.buffer);else if(x.length!==t*a*p)throw new RangeError(`mismatched image size. expected: ${x.length} but got: ${t*a*p}`)}else x=new Uint8Array(t*a*p);return o.width=t,o.height=a,o.data=x,o}function Nf(o,{width:t,height:a},p){if(t===o.width&&a===o.height)return;const x=Gh({},{width:t,height:a},p);Ou(o,x,{x:0,y:0},{x:0,y:0},{width:Math.min(o.width,t),height:Math.min(o.height,a)},p),o.width=t,o.height=a,o.data=x.data}function Ou(o,t,a,p,x,T){if(0===x.width||0===x.height)return t;if(x.width>o.width||x.height>o.height||a.x>o.width-x.width||a.y>o.height-x.height)throw new RangeError("out of range source coordinates for image copy");if(x.width>t.width||x.height>t.height||p.x>t.width-x.width||p.y>t.height-x.height)throw new RangeError("out of range destination coordinates for image copy");const I=o.data,O=t.data;if(I===O)throw new Error("srcData equals dstData, so image is already copied");for(let L=0;L<x.height;L++){const Z=((a.y+L)*o.width+a.x)*T,K=((p.y+L)*t.width+p.x)*T;for(let te=0;te<x.width*T;te++)O[K+te]=I[Z+te]}return t}class Ru{constructor(t,a){Gh(this,t,1,a)}resize(t){Nf(this,t,1)}clone(){return new Ru({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,a,p,x,T){Ou(t,a,p,x,T,1)}}class so{constructor(t,a){Gh(this,t,4,a)}resize(t){Nf(this,t,4)}replace(t,a){a?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t}clone(){return new so({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,a,p,x,T){Ou(t,a,p,x,T,4)}}function ad(o){const t={},a=o.resolution||256,p=o.clips?o.clips.length:1,x=o.image||new so({width:a,height:p});if(Math.log(a)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${a}`);const T=(I,O,L)=>{t[o.evaluationKey]=L;const Z=o.expression.evaluate(t);x.data[I+O+0]=Math.floor(255*Z.r/Z.a),x.data[I+O+1]=Math.floor(255*Z.g/Z.a),x.data[I+O+2]=Math.floor(255*Z.b/Z.a),x.data[I+O+3]=Math.floor(255*Z.a)};if(o.clips)for(let I=0,O=0;I<p;++I,O+=4*a)for(let L=0,Z=0;L<a;L++,Z+=4){const K=L/(a-1),{start:te,end:ce}=o.clips[I];T(O,Z,te*(1-K)+ce*K)}else for(let I=0,O=0;I<a;I++,O+=4)T(0,O,I/(a-1));return x}Ni("AlphaImage",Ru),Ni("RGBAImage",so);class ld extends Ao{createBucket(t){return new $h(t)}constructor(t){super(t,Nd),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(t){"heatmap-color"===t&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=ad({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}}let tp;var ip={get paint(){return tp=tp||new Io({"hillshade-illumination-direction":new wt(Ee.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new wt(Ee.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new wt(Ee.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new wt(Ee.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new wt(Ee.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new wt(Ee.paint_hillshade["hillshade-accent-color"])})}};class zf extends Ao{constructor(t){super(t,ip)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}}const Bf=Co([{name:"a_pos",components:2,type:"Int16"}],4),{members:Vf}=Bf;var Zh={exports:{}};function Fu(o,t,a){a=a||2;var p,x,T,I,O,L,Z,K=t&&t.length,te=K?t[0]*a:o.length,ce=np(o,0,te,a,!0),pe=[];if(!ce||ce.next===ce.prev)return pe;if(K&&(ce=function(Ne,We,tt,_t){var st,St,Rt,ei=[];for(st=0,St=We.length;st<St;st++)(Rt=np(Ne,We[st]*_t,st<St-1?We[st+1]*_t:Ne.length,_t,!1))===Rt.next&&(Rt.steiner=!0),ei.push(op(Rt));for(ei.sort(A_),st=0;st<ei.length;st++)tt=rp(ei[st],tt);return tt}(o,t,ce,a)),o.length>80*a){p=T=o[0],x=I=o[1];for(var be=a;be<te;be+=a)(O=o[be])<p&&(p=O),(L=o[be+1])<x&&(x=L),O>T&&(T=O),L>I&&(I=L);Z=0!==(Z=Math.max(T-p,I-x))?32767/Z:0}return hc(ce,pe,a,p,x,Z,0),pe}function np(o,t,a,p,x){var T,I;if(x===hd(o,t,a,p)>0)for(T=t;T<a;T+=p)I=ap(T,o[T],o[T+1],I);else for(T=a-p;T>=t;T-=p)I=ap(T,o[T],o[T+1],I);return I&&Rl(I,I.next)&&(Ud(I),I=I.next),I}function hl(o,t){if(!o)return o;t||(t=o);var a,p=o;do{if(a=!1,p.steiner||!Rl(p,p.next)&&0!==Ur(p.prev,p,p.next))p=p.next;else{if(Ud(p),(p=t=p.prev)===p.next)break;a=!0}}while(a||p!==t);return t}function hc(o,t,a,p,x,T,I){if(o){!I&&T&&function(K,te,ce,pe){var be=K;do{0===be.z&&(be.z=cd(be.x,be.y,te,ce,pe)),be.prevZ=be.prev,be.nextZ=be.next,be=be.next}while(be!==K);be.prevZ.nextZ=null,be.prevZ=null,function(Ne){var We,tt,_t,st,St,Rt,ei,Ri,Li=1;do{for(tt=Ne,Ne=null,St=null,Rt=0;tt;){for(Rt++,_t=tt,ei=0,We=0;We<Li&&(ei++,_t=_t.nextZ);We++);for(Ri=Li;ei>0||Ri>0&&_t;)0!==ei&&(0===Ri||!_t||tt.z<=_t.z)?(st=tt,tt=tt.nextZ,ei--):(st=_t,_t=_t.nextZ,Ri--),St?St.nextZ=st:Ne=st,st.prevZ=St,St=st;tt=_t}St.nextZ=null,Li*=2}while(Rt>1)}(be)}(o,p,x,T);for(var O,L,Z=o;o.prev!==o.next;)if(O=o.prev,L=o.next,T?Lu(o,p,x,T):zd(o))t.push(O.i/a|0),t.push(o.i/a|0),t.push(L.i/a|0),Ud(o),o=L.next,Z=L.next;else if((o=L)===Z){I?1===I?hc(o=Uf(hl(o),t,a),t,a,p,x,T,2):2===I&&Nu(o,t,a,p,x,T):hc(hl(o),t,a,p,x,T,1);break}}}function zd(o){var t=o.prev,a=o,p=o.next;if(Ur(t,a,p)>=0)return!1;for(var x=t.x,T=a.x,I=p.x,O=t.y,L=a.y,Z=p.y,K=x<T?x<I?x:I:T<I?T:I,te=O<L?O<Z?O:Z:L<Z?L:Z,ce=x>T?x>I?x:I:T>I?T:I,pe=O>L?O>Z?O:Z:L>Z?L:Z,be=p.next;be!==t;){if(be.x>=K&&be.x<=ce&&be.y>=te&&be.y<=pe&&dd(x,O,T,L,I,Z,be.x,be.y)&&Ur(be.prev,be,be.next)>=0)return!1;be=be.next}return!0}function Lu(o,t,a,p){var x=o.prev,T=o,I=o.next;if(Ur(x,T,I)>=0)return!1;for(var O=x.x,L=T.x,Z=I.x,K=x.y,te=T.y,ce=I.y,pe=O<L?O<Z?O:Z:L<Z?L:Z,be=K<te?K<ce?K:ce:te<ce?te:ce,Ne=O>L?O>Z?O:Z:L>Z?L:Z,We=K>te?K>ce?K:ce:te>ce?te:ce,tt=cd(pe,be,t,a,p),_t=cd(Ne,We,t,a,p),st=o.prevZ,St=o.nextZ;st&&st.z>=tt&&St&&St.z<=_t;){if(st.x>=pe&&st.x<=Ne&&st.y>=be&&st.y<=We&&st!==x&&st!==I&&dd(O,K,L,te,Z,ce,st.x,st.y)&&Ur(st.prev,st,st.next)>=0||(st=st.prevZ,St.x>=pe&&St.x<=Ne&&St.y>=be&&St.y<=We&&St!==x&&St!==I&&dd(O,K,L,te,Z,ce,St.x,St.y)&&Ur(St.prev,St,St.next)>=0))return!1;St=St.nextZ}for(;st&&st.z>=tt;){if(st.x>=pe&&st.x<=Ne&&st.y>=be&&st.y<=We&&st!==x&&st!==I&&dd(O,K,L,te,Z,ce,st.x,st.y)&&Ur(st.prev,st,st.next)>=0)return!1;st=st.prevZ}for(;St&&St.z<=_t;){if(St.x>=pe&&St.x<=Ne&&St.y>=be&&St.y<=We&&St!==x&&St!==I&&dd(O,K,L,te,Z,ce,St.x,St.y)&&Ur(St.prev,St,St.next)>=0)return!1;St=St.nextZ}return!0}function Uf(o,t,a){var p=o;do{var x=p.prev,T=p.next.next;!Rl(x,T)&&sp(x,p,p.next,T)&&Vd(x,T)&&Vd(T,x)&&(t.push(x.i/a|0),t.push(p.i/a|0),t.push(T.i/a|0),Ud(p),Ud(p.next),p=o=T),p=p.next}while(p!==o);return hl(p)}function Nu(o,t,a,p,x,T){var I=o;do{for(var O=I.next.next;O!==I.prev;){if(I.i!==O.i&&jf(I,O)){var L=Hf(I,O);return I=hl(I,I.next),L=hl(L,L.next),hc(I,t,a,p,x,T,0),void hc(L,t,a,p,x,T,0)}O=O.next}I=I.next}while(I!==o)}function A_(o,t){return o.x-t.x}function rp(o,t){var a=function(x,T){var I,O=T,L=x.x,Z=x.y,K=-1/0;do{if(Z<=O.y&&Z>=O.next.y&&O.next.y!==O.y){var te=O.x+(Z-O.y)*(O.next.x-O.x)/(O.next.y-O.y);if(te<=L&&te>K&&(K=te,I=O.x<O.next.x?O:O.next,te===L))return I}O=O.next}while(O!==T);if(!I)return null;var ce,pe=I,be=I.x,Ne=I.y,We=1/0;O=I;do{L>=O.x&&O.x>=be&&L!==O.x&&dd(Z<Ne?L:K,Z,be,Ne,Z<Ne?K:L,Z,O.x,O.y)&&(ce=Math.abs(Z-O.y)/(L-O.x),Vd(O,x)&&(ce<We||ce===We&&(O.x>I.x||O.x===I.x&&Wh(I,O)))&&(I=O,We=ce)),O=O.next}while(O!==pe);return I}(o,t);if(!a)return t;var p=Hf(a,o);return hl(p,p.next),hl(a,a.next)}function Wh(o,t){return Ur(o.prev,o,t.prev)<0&&Ur(t.next,o,o.next)<0}function cd(o,t,a,p,x){return(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=(o-a)*x|0)|o<<8))|o<<4))|o<<2))|o<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-p)*x|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function op(o){var t=o,a=o;do{(t.x<a.x||t.x===a.x&&t.y<a.y)&&(a=t),t=t.next}while(t!==o);return a}function dd(o,t,a,p,x,T,I,O){return(x-I)*(t-O)>=(o-I)*(T-O)&&(o-I)*(p-O)>=(a-I)*(t-O)&&(a-I)*(T-O)>=(x-I)*(p-O)}function jf(o,t){return o.next.i!==t.i&&o.prev.i!==t.i&&!function(a,p){var x=a;do{if(x.i!==a.i&&x.next.i!==a.i&&x.i!==p.i&&x.next.i!==p.i&&sp(x,x.next,a,p))return!0;x=x.next}while(x!==a);return!1}(o,t)&&(Vd(o,t)&&Vd(t,o)&&function(a,p){var x=a,T=!1,I=(a.x+p.x)/2,O=(a.y+p.y)/2;do{x.y>O!=x.next.y>O&&x.next.y!==x.y&&I<(x.next.x-x.x)*(O-x.y)/(x.next.y-x.y)+x.x&&(T=!T),x=x.next}while(x!==a);return T}(o,t)&&(Ur(o.prev,o,t.prev)||Ur(o,t.prev,t))||Rl(o,t)&&Ur(o.prev,o,o.next)>0&&Ur(t.prev,t,t.next)>0)}function Ur(o,t,a){return(t.y-o.y)*(a.x-t.x)-(t.x-o.x)*(a.y-t.y)}function Rl(o,t){return o.x===t.x&&o.y===t.y}function sp(o,t,a,p){var x=Bd(Ur(o,t,a)),T=Bd(Ur(o,t,p)),I=Bd(Ur(a,p,o)),O=Bd(Ur(a,p,t));return x!==T&&I!==O||!(0!==x||!ud(o,a,t))||!(0!==T||!ud(o,p,t))||!(0!==I||!ud(a,o,p))||!(0!==O||!ud(a,t,p))}function ud(o,t,a){return t.x<=Math.max(o.x,a.x)&&t.x>=Math.min(o.x,a.x)&&t.y<=Math.max(o.y,a.y)&&t.y>=Math.min(o.y,a.y)}function Bd(o){return o>0?1:o<0?-1:0}function Vd(o,t){return Ur(o.prev,o,o.next)<0?Ur(o,t,o.next)>=0&&Ur(o,o.prev,t)>=0:Ur(o,t,o.prev)<0||Ur(o,o.next,t)<0}function Hf(o,t){var a=new qh(o.i,o.x,o.y),p=new qh(t.i,t.x,t.y),x=o.next,T=t.prev;return o.next=t,t.prev=o,a.next=x,x.prev=a,p.next=a,a.prev=p,T.next=p,p.prev=T,p}function ap(o,t,a,p){var x=new qh(o,t,a);return p?(x.next=p.next,x.prev=p,p.next.prev=x,p.next=x):(x.prev=x,x.next=x),x}function Ud(o){o.next.prev=o.prev,o.prev.next=o.next,o.prevZ&&(o.prevZ.nextZ=o.nextZ),o.nextZ&&(o.nextZ.prevZ=o.prevZ)}function qh(o,t,a){this.i=o,this.x=t,this.y=a,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function hd(o,t,a,p){for(var x=0,T=t,I=a-p;T<a;T+=p)x+=(o[I]-o[T])*(o[T+1]+o[I+1]),I=T;return x}Zh.exports=Fu,Zh.exports.default=Fu,Fu.deviation=function(o,t,a,p){var x=t&&t.length,T=Math.abs(hd(o,0,x?t[0]*a:o.length,a));if(x)for(var I=0,O=t.length;I<O;I++)T-=Math.abs(hd(o,t[I]*a,I<O-1?t[I+1]*a:o.length,a));var L=0;for(I=0;I<p.length;I+=3){var Z=p[I]*a,K=p[I+1]*a,te=p[I+2]*a;L+=Math.abs((o[Z]-o[te])*(o[K+1]-o[Z+1])-(o[Z]-o[K])*(o[te+1]-o[Z+1]))}return 0===T&&0===L?0:Math.abs((L-T)/T)},Fu.flatten=function(o){for(var t=o[0][0].length,a={vertices:[],holes:[],dimensions:t},p=0,x=0;x<o.length;x++){for(var T=0;T<o[x].length;T++)for(var I=0;I<t;I++)a.vertices.push(o[x][T][I]);x>0&&a.holes.push(p+=o[x-1].length)}return a};var Yh=je(Zh.exports);function $f(o,t,a,p,x){Kh(o,t,a||0,p||o.length-1,x||jd)}function Kh(o,t,a,p,x){for(;p>a;){if(p-a>600){var T=p-a+1,I=t-a+1,O=Math.log(T),L=.5*Math.exp(2*O/3),Z=.5*Math.sqrt(O*L*(T-L)/T)*(I-T/2<0?-1:1);Kh(o,t,Math.max(a,Math.floor(t-I*L/T+Z)),Math.min(p,Math.floor(t+(T-I)*L/T+Z)),x)}var K=o[t],te=a,ce=p;for(Xl(o,a,t),x(o[p],K)>0&&Xl(o,a,p);te<ce;){for(Xl(o,te,ce),te++,ce--;x(o[te],K)<0;)te++;for(;x(o[ce],K)>0;)ce--}0===x(o[a],K)?Xl(o,a,ce):Xl(o,++ce,p),ce<=t&&(a=ce+1),t<=ce&&(p=ce-1)}}function Xl(o,t,a){var p=o[t];o[t]=o[a],o[a]=p}function jd(o,t){return o<t?-1:o>t?1:0}function lp(o,t){const a=o.length;if(a<=1)return[o];const p=[];let x,T;for(let I=0;I<a;I++){const O=It(o[I]);0!==O&&(o[I].area=Math.abs(O),void 0===T&&(T=O<0),T===O<0?(x&&p.push(x),x=[o[I]]):x.push(o[I]))}if(x&&p.push(x),t>1)for(let I=0;I<p.length;I++)p[I].length<=t||($f(p[I],t,1,p[I].length-1,Gf),p[I]=p[I].slice(0,t));return p}function Gf(o,t){return t.area-o.area}function Xh(o,t,a){const p=a.patternDependencies;let x=!1;for(const T of t){const I=T.paint.get(`${o}-pattern`);I.isConstant()||(x=!0);const O=I.constantOr(null);O&&(x=!0,p[O.to]=!0,p[O.from]=!0)}return x}function Hd(o,t,a,p,x){const T=x.patternDependencies;for(const I of t){const O=I.paint.get(`${o}-pattern`).value;if("constant"!==O.kind){let L=O.evaluate({zoom:p-1},a,{},x.availableImages),Z=O.evaluate({zoom:p},a,{},x.availableImages),K=O.evaluate({zoom:p+1},a,{},x.availableImages);L=L&&L.name?L.name:L,Z=Z&&Z.name?Z.name:Z,K=K&&K.name?K.name:K,T[L]=!0,T[Z]=!0,T[K]=!0,a.patterns[I.id]={min:L,mid:Z,max:K}}}return a}class cp{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(a=>a.id),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Me,this.indexArray=new Xt,this.indexArray2=new Ei,this.programConfigurations=new ul(t.layers,t.zoom),this.segments=new bi,this.segments2=new bi,this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id)}populate(t,a,p){this.hasPattern=Xh("fill",this.layers,a);const x=this.layers[0].layout.get("fill-sort-key"),T=!x.isConstant(),I=[];for(const{feature:O,id:L,index:Z,sourceLayerIndex:K}of t){const te=this.layers[0]._featureFilter.needGeometry,ce=kc(O,te);if(!this.layers[0]._featureFilter.filter(new nr(this.zoom),ce,p))continue;const pe=T?x.evaluate(ce,{},p,a.availableImages):void 0,be={id:L,properties:O.properties,type:O.type,sourceLayerIndex:K,index:Z,geometry:te?ce.geometry:Xs(O),patterns:{},sortKey:pe};I.push(be)}T&&I.sort((O,L)=>O.sortKey-L.sortKey);for(const O of I){const{geometry:L,index:Z,sourceLayerIndex:K}=O;if(this.hasPattern){const te=Hd("fill",this.layers,O,this.zoom,a);this.patternFeatures.push(te)}else this.addFeature(O,L,Z,p,{});a.featureIndex.insert(t[Z].feature,L,Z,K,this.index)}}update(t,a,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,a,this.stateDependentLayers,p)}addFeatures(t,a,p){for(const x of this.patternFeatures)this.addFeature(x,x.geometry,x.index,a,p)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Vf),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(t,a,p,x,T){for(const I of lp(a,500)){let O=0;for(const pe of I)O+=pe.length;const L=this.segments.prepareSegment(O,this.layoutVertexArray,this.indexArray),Z=L.vertexLength,K=[],te=[];for(const pe of I){if(0===pe.length)continue;pe!==I[0]&&te.push(K.length/2);const be=this.segments2.prepareSegment(pe.length,this.layoutVertexArray,this.indexArray2),Ne=be.vertexLength;this.layoutVertexArray.emplaceBack(pe[0].x,pe[0].y),this.indexArray2.emplaceBack(Ne+pe.length-1,Ne),K.push(pe[0].x),K.push(pe[0].y);for(let We=1;We<pe.length;We++)this.layoutVertexArray.emplaceBack(pe[We].x,pe[We].y),this.indexArray2.emplaceBack(Ne+We-1,Ne+We),K.push(pe[We].x),K.push(pe[We].y);be.vertexLength+=pe.length,be.primitiveLength+=pe.length}const ce=Yh(K,te);for(let pe=0;pe<ce.length;pe+=3)this.indexArray.emplaceBack(Z+ce[pe],Z+ce[pe+1],Z+ce[pe+2]);L.vertexLength+=O,L.primitiveLength+=ce.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,p,T,x)}}let Zf,zu;Ni("FillBucket",cp,{omit:["layers","patternFeatures"]});var k_={get paint(){return zu=zu||new Io({"fill-antialias":new wt(Ee.paint_fill["fill-antialias"]),"fill-opacity":new gi(Ee.paint_fill["fill-opacity"]),"fill-color":new gi(Ee.paint_fill["fill-color"]),"fill-outline-color":new gi(Ee.paint_fill["fill-outline-color"]),"fill-translate":new wt(Ee.paint_fill["fill-translate"]),"fill-translate-anchor":new wt(Ee.paint_fill["fill-translate-anchor"]),"fill-pattern":new ll(Ee.paint_fill["fill-pattern"])})},get layout(){return Zf=Zf||new Io({"fill-sort-key":new gi(Ee.layout_fill["fill-sort-key"])})}};class P_ extends Ao{constructor(t){super(t,k_)}recalculate(t,a){super.recalculate(t,a);const p=this.paint._values["fill-outline-color"];"constant"===p.value.kind&&void 0===p.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(t){return new cp(t)}queryRadius(){return Uh(this.paint.get("fill-translate"))}queryIntersectsFeature(t,a,p,x,T,I,O){return Tu(jh(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),I.angle,O),x)}isTileClipped(){return!0}}const Bu=Co([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),O_=Co([{name:"a_centroid",components:2,type:"Int16"}],4),{members:Vu}=Bu;var mc={},Uu=ne,ju=Lc;function Lc(o,t,a,p,x){this.properties={},this.extent=a,this.type=0,this._pbf=o,this._geometry=-1,this._keys=p,this._values=x,o.readFields(dp,this,t)}function dp(o,t,a){1==o?t.id=a.readVarint():2==o?function(p,x){for(var T=p.readVarint()+p.pos;p.pos<T;){var I=x._keys[p.readVarint()],O=x._values[p.readVarint()];x.properties[I]=O}}(a,t):3==o?t.type=a.readVarint():4==o&&(t._geometry=a.pos)}function up(o){for(var t,a,p=0,x=0,T=o.length,I=T-1;x<T;I=x++)p+=((a=o[I]).x-(t=o[x]).x)*(t.y+a.y);return p}Lc.types=["Unknown","Point","LineString","Polygon"],Lc.prototype.loadGeometry=function(){var o=this._pbf;o.pos=this._geometry;for(var t,a=o.readVarint()+o.pos,p=1,x=0,T=0,I=0,O=[];o.pos<a;){if(x<=0){var L=o.readVarint();p=7&L,x=L>>3}if(x--,1===p||2===p)T+=o.readSVarint(),I+=o.readSVarint(),1===p&&(t&&O.push(t),t=[]),t.push(new Uu(T,I));else{if(7!==p)throw new Error("unknown command "+p);t&&t.push(t[0].clone())}}return t&&O.push(t),O},Lc.prototype.bbox=function(){var o=this._pbf;o.pos=this._geometry;for(var t=o.readVarint()+o.pos,a=1,p=0,x=0,T=0,I=1/0,O=-1/0,L=1/0,Z=-1/0;o.pos<t;){if(p<=0){var K=o.readVarint();a=7&K,p=K>>3}if(p--,1===a||2===a)(x+=o.readSVarint())<I&&(I=x),x>O&&(O=x),(T+=o.readSVarint())<L&&(L=T),T>Z&&(Z=T);else if(7!==a)throw new Error("unknown command "+a)}return[I,L,O,Z]},Lc.prototype.toGeoJSON=function(o,t,a){var p,x,T=this.extent*Math.pow(2,a),I=this.extent*o,O=this.extent*t,L=this.loadGeometry(),Z=Lc.types[this.type];function K(pe){for(var be=0;be<pe.length;be++){var Ne=pe[be];pe[be]=[360*(Ne.x+I)/T-180,360/Math.PI*Math.atan(Math.exp((180-360*(Ne.y+O)/T)*Math.PI/180))-90]}}switch(this.type){case 1:var te=[];for(p=0;p<L.length;p++)te[p]=L[p][0];K(L=te);break;case 2:for(p=0;p<L.length;p++)K(L[p]);break;case 3:for(L=function(pe){var be=pe.length;if(be<=1)return[pe];for(var Ne,We,tt=[],_t=0;_t<be;_t++){var st=up(pe[_t]);0!==st&&(void 0===We&&(We=st<0),We===st<0?(Ne&&tt.push(Ne),Ne=[pe[_t]]):Ne.push(pe[_t]))}return Ne&&tt.push(Ne),tt}(L),p=0;p<L.length;p++)for(x=0;x<L[p].length;x++)K(L[p][x])}1===L.length?L=L[0]:Z="Multi"+Z;var ce={type:"Feature",geometry:{type:Z,coordinates:L},properties:this.properties};return"id"in this&&(ce.id=this.id),ce};var md=ju,Jh=Qh;function Qh(o,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=o,this._keys=[],this._values=[],this._features=[],o.readFields(Hu,this,t),this.length=this._features.length}function Hu(o,t,a){15===o?t.version=a.readVarint():1===o?t.name=a.readString():5===o?t.extent=a.readVarint():2===o?t._features.push(a.pos):3===o?t._keys.push(a.readString()):4===o&&t._values.push(function(p){for(var x=null,T=p.readVarint()+p.pos;p.pos<T;){var I=p.readVarint()>>3;x=1===I?p.readString():2===I?p.readFloat():3===I?p.readDouble():4===I?p.readVarint64():5===I?p.readVarint():6===I?p.readSVarint():7===I?p.readBoolean():null}return x}(a))}Qh.prototype.feature=function(o){if(o<0||o>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[o];var t=this._pbf.readVarint()+this._pbf.pos;return new md(this._pbf,t,this.extent,this._keys,this._values)};var $u=Jh;function Fl(o,t,a){if(3===o){var p=new $u(a,a.readVarint()+a.pos);p.length&&(t[p.name]=p)}}mc.VectorTile=function(o,t){this.layers=o.readFields(Fl,{},t)},mc.VectorTileFeature=ju,mc.VectorTileLayer=Jh;const Wf=mc.VectorTileFeature.types,em=Math.pow(2,13);function $d(o,t,a,p,x,T,I,O){o.emplaceBack(t,a,2*Math.floor(p*em)+I,x*em*2,T*em*2,Math.round(O))}class Gu{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(a=>a.id),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Ce,this.centroidVertexArray=new ee,this.indexArray=new Xt,this.programConfigurations=new ul(t.layers,t.zoom),this.segments=new bi,this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id)}populate(t,a,p){this.features=[],this.hasPattern=Xh("fill-extrusion",this.layers,a);for(const{feature:x,id:T,index:I,sourceLayerIndex:O}of t){const L=this.layers[0]._featureFilter.needGeometry,Z=kc(x,L);if(!this.layers[0]._featureFilter.filter(new nr(this.zoom),Z,p))continue;const K={id:T,sourceLayerIndex:O,index:I,geometry:L?Z.geometry:Xs(x),properties:x.properties,type:x.type,patterns:{}};this.hasPattern?this.features.push(Hd("fill-extrusion",this.layers,K,this.zoom,a)):this.addFeature(K,K.geometry,I,p,{}),a.featureIndex.insert(x,K.geometry,I,O,this.index,!0)}}addFeatures(t,a,p){for(const x of this.features){const{geometry:T}=x;this.addFeature(x,T,x.index,a,p)}}update(t,a,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,a,this.stateDependentLayers,p)}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.centroidVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Vu),this.centroidVertexBuffer=t.createVertexBuffer(this.centroidVertexArray,O_.members,!0),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(t,a,p,x,T){const I={x:0,y:0,vertexCount:0};for(const O of lp(a,500)){let L=0;for(const be of O)L+=be.length;let Z=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const be of O){if(0===be.length||((o=be).every(t=>t.x<0)||o.every(t=>t.x>Vr)||o.every(t=>t.y<0)||o.every(t=>t.y>Vr)))continue;let Ne=0;for(let We=0;We<be.length;We++){const tt=be[We];if(We>=1){const _t=be[We-1];if(!pc(tt,_t)){Z.vertexLength+4>bi.MAX_VERTEX_ARRAY_LENGTH&&(Z=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const st=tt.sub(_t)._perp()._unit(),St=_t.dist(tt);Ne+St>32768&&(Ne=0),$d(this.layoutVertexArray,tt.x,tt.y,st.x,st.y,0,0,Ne),$d(this.layoutVertexArray,tt.x,tt.y,st.x,st.y,0,1,Ne),I.x+=2*tt.x,I.y+=2*tt.y,I.vertexCount+=2,Ne+=St,$d(this.layoutVertexArray,_t.x,_t.y,st.x,st.y,0,0,Ne),$d(this.layoutVertexArray,_t.x,_t.y,st.x,st.y,0,1,Ne),I.x+=2*_t.x,I.y+=2*_t.y,I.vertexCount+=2;const Rt=Z.vertexLength;this.indexArray.emplaceBack(Rt,Rt+2,Rt+1),this.indexArray.emplaceBack(Rt+1,Rt+2,Rt+3),Z.vertexLength+=4,Z.primitiveLength+=2}}}}if(Z.vertexLength+L>bi.MAX_VERTEX_ARRAY_LENGTH&&(Z=this.segments.prepareSegment(L,this.layoutVertexArray,this.indexArray)),"Polygon"!==Wf[t.type])continue;const K=[],te=[],ce=Z.vertexLength;for(const be of O)if(0!==be.length){be!==O[0]&&te.push(K.length/2);for(let Ne=0;Ne<be.length;Ne++){const We=be[Ne];$d(this.layoutVertexArray,We.x,We.y,0,0,1,1,0),I.x+=We.x,I.y+=We.y,I.vertexCount+=1,K.push(We.x),K.push(We.y)}}const pe=Yh(K,te);for(let be=0;be<pe.length;be+=3)this.indexArray.emplaceBack(ce+pe[be],ce+pe[be+2],ce+pe[be+1]);Z.primitiveLength+=pe.length/3,Z.vertexLength+=L}var o;for(let O=0;O<I.vertexCount;O++)this.centroidVertexArray.emplaceBack(Math.floor(I.x/I.vertexCount),Math.floor(I.y/I.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,p,T,x)}}function pc(o,t){return o.x===t.x&&(o.x<0||o.x>Vr)||o.y===t.y&&(o.y<0||o.y>Vr)}let mp;Ni("FillExtrusionBucket",Gu,{omit:["layers","features"]});var qf={get paint(){return mp=mp||new Io({"fill-extrusion-opacity":new wt(Ee["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new gi(Ee["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new wt(Ee["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new wt(Ee["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ll(Ee["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new gi(Ee["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new gi(Ee["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new wt(Ee["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class pp extends Ao{constructor(t){super(t,qf)}createBucket(t){return new Gu(t)}queryRadius(){return Uh(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(t,a,p,x,T,I,O,L){const Z=jh(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),I.angle,O),K=this.paint.get("fill-extrusion-height").evaluate(a,p),te=this.paint.get("fill-extrusion-base").evaluate(a,p),ce=function(be,Ne,We,tt){const _t=[];for(const st of be){const St=[st.x,st.y,0,1];Pu(St,St,Ne),_t.push(new Oe(St[0]/St[3],St[1]/St[3]))}return _t}(Z,L),pe=function(be,Ne,We,tt){const _t=[],st=[],St=tt[8]*Ne,Rt=tt[9]*Ne,ei=tt[10]*Ne,Ri=tt[11]*Ne,Li=tt[8]*We,Pi=tt[9]*We,Ci=tt[10]*We,xi=tt[11]*We;for(const Ii of be){const Mi=[],hi=[];for(const Xi of Ii){const Zi=Xi.x,Dn=Xi.y,Ir=tt[0]*Zi+tt[4]*Dn+tt[12],Fr=tt[1]*Zi+tt[5]*Dn+tt[13],go=tt[2]*Zi+tt[6]*Dn+tt[14],ba=tt[3]*Zi+tt[7]*Dn+tt[15],rs=go+ei,eo=ba+Ri,Oo=Ir+Li,os=Fr+Pi,ca=go+Ci,Ss=ba+xi,Mo=new Oe((Ir+St)/eo,(Fr+Rt)/eo);Mo.z=rs/eo,Mi.push(Mo);const Vo=new Oe(Oo/Ss,os/Ss);Vo.z=ca/Ss,hi.push(Vo)}_t.push(Mi),st.push(hi)}return[_t,st]}(x,te,K,L);return function(be,Ne,We){let tt=1/0;Tu(We,Ne)&&(tt=fp(We,Ne[0]));for(let _t=0;_t<Ne.length;_t++){const st=Ne[_t],St=be[_t];for(let Rt=0;Rt<st.length-1;Rt++){const ei=st[Rt],Ri=[ei,st[Rt+1],St[Rt+1],St[Rt],ei];Qm(We,Ri)&&(tt=Math.min(tt,fp(We,Ri)))}}return tt!==1/0&&tt}(pe[0],pe[1],ce)}}function Gd(o,t){return o.x*t.x+o.y*t.y}function fp(o,t){if(1===o.length){let a=0;const p=t[a++];let x;for(;!x||p.equals(x);)if(x=t[a++],!x)return 1/0;for(;a<t.length;a++){const T=t[a],I=o[0],O=x.sub(p),L=T.sub(p),Z=I.sub(p),K=Gd(O,O),te=Gd(O,L),ce=Gd(L,L),pe=Gd(Z,O),be=Gd(Z,L),Ne=K*ce-te*te,We=(ce*pe-te*be)/Ne,tt=(K*be-te*pe)/Ne,_t=p.z*(1-We-tt)+x.z*We+T.z*tt;if(isFinite(_t))return _t}return 1/0}{let a=1/0;for(const p of t)a=Math.min(a,p.z);return a}}const Ds=Co([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:tm}=Ds,gp=Co([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:im}=gp,Js=mc.VectorTileFeature.types,Zd=Math.cos(Math.PI/180*37.5),nm=Math.pow(2,14)/.5;class Zu{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(a=>a.id),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(a=>{this.gradients[a.id]={}}),this.layoutVertexArray=new it,this.layoutVertexArray2=new yt,this.indexArray=new Xt,this.programConfigurations=new ul(t.layers,t.zoom),this.segments=new bi,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id)}populate(t,a,p){this.hasPattern=Xh("line",this.layers,a);const x=this.layers[0].layout.get("line-sort-key"),T=!x.isConstant(),I=[];for(const{feature:O,id:L,index:Z,sourceLayerIndex:K}of t){const te=this.layers[0]._featureFilter.needGeometry,ce=kc(O,te);if(!this.layers[0]._featureFilter.filter(new nr(this.zoom),ce,p))continue;const pe=T?x.evaluate(ce,{},p):void 0,be={id:L,properties:O.properties,type:O.type,sourceLayerIndex:K,index:Z,geometry:te?ce.geometry:Xs(O),patterns:{},sortKey:pe};I.push(be)}T&&I.sort((O,L)=>O.sortKey-L.sortKey);for(const O of I){const{geometry:L,index:Z,sourceLayerIndex:K}=O;if(this.hasPattern){const te=Hd("line",this.layers,O,this.zoom,a);this.patternFeatures.push(te)}else this.addFeature(O,L,Z,p,{});a.featureIndex.insert(t[Z].feature,L,Z,K,this.index)}}update(t,a,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,a,this.stateDependentLayers,p)}addFeatures(t,a,p){for(const x of this.patternFeatures)this.addFeature(x,x.geometry,x.index,a,p)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,im)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,tm),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(t){if(t.properties&&Object.prototype.hasOwnProperty.call(t.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(t.properties,"mapbox_clip_end"))return{start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}}addFeature(t,a,p,x,T){const I=this.layers[0].layout,O=I.get("line-join").evaluate(t,{}),L=I.get("line-cap"),Z=I.get("line-miter-limit"),K=I.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);for(const te of a)this.addLine(te,t,O,L,Z,K);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,p,T,x)}addLine(t,a,p,x,T,I){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let tt=0;tt<t.length-1;tt++)this.totalDistance+=t[tt].dist(t[tt+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const O="Polygon"===Js[a.type];let L=t.length;for(;L>=2&&t[L-1].equals(t[L-2]);)L--;let Z=0;for(;Z<L-1&&t[Z].equals(t[Z+1]);)Z++;if(L<(O?3:2))return;"bevel"===p&&(T=1.05);const K=this.overscaling<=16?15*Vr/(512*this.overscaling):0,te=this.segments.prepareSegment(10*L,this.layoutVertexArray,this.indexArray);let ce,pe,be,Ne,We;this.e1=this.e2=-1,O&&(ce=t[L-2],We=t[Z].sub(ce)._unit()._perp());for(let tt=Z;tt<L;tt++){if(be=tt===L-1?O?t[Z+1]:void 0:t[tt+1],be&&t[tt].equals(be))continue;We&&(Ne=We),ce&&(pe=ce),ce=t[tt],We=be?be.sub(ce)._unit()._perp():Ne,Ne=Ne||We;let _t=Ne.add(We);0===_t.x&&0===_t.y||_t._unit();const st=Ne.x*We.x+Ne.y*We.y,St=_t.x*We.x+_t.y*We.y,Rt=0!==St?1/St:1/0,ei=2*Math.sqrt(2-2*St),Ri=St<Zd&&pe&&be,Li=Ne.x*We.y-Ne.y*We.x>0;if(Ri&&tt>Z){const xi=ce.dist(pe);if(xi>2*K){const Ii=ce.sub(ce.sub(pe)._mult(K/xi)._round());this.updateDistance(pe,Ii),this.addCurrentVertex(Ii,Ne,0,0,te),pe=Ii}}const Pi=pe&&be;let Ci=Pi?p:O?"butt":x;if(Pi&&"round"===Ci&&(Rt<I?Ci="miter":Rt<=2&&(Ci="fakeround")),"miter"===Ci&&Rt>T&&(Ci="bevel"),"bevel"===Ci&&(Rt>2&&(Ci="flipbevel"),Rt<T&&(Ci="miter")),pe&&this.updateDistance(pe,ce),"miter"===Ci)_t._mult(Rt),this.addCurrentVertex(ce,_t,0,0,te);else if("flipbevel"===Ci){if(Rt>100)_t=We.mult(-1);else{const xi=Rt*Ne.add(We).mag()/Ne.sub(We).mag();_t._perp()._mult(xi*(Li?-1:1))}this.addCurrentVertex(ce,_t,0,0,te),this.addCurrentVertex(ce,_t.mult(-1),0,0,te)}else if("bevel"===Ci||"fakeround"===Ci){const xi=-Math.sqrt(Rt*Rt-1),Ii=Li?xi:0,Mi=Li?0:xi;if(pe&&this.addCurrentVertex(ce,Ne,Ii,Mi,te),"fakeround"===Ci){const hi=Math.round(180*ei/Math.PI/20);for(let Xi=1;Xi<hi;Xi++){let Zi=Xi/hi;if(.5!==Zi){const Ir=Zi-.5;Zi+=Zi*Ir*(Zi-1)*((1.0904+st*(st*(3.55645-1.43519*st)-3.2452))*Ir*Ir+(.848013+st*(.215638*st-1.06021)))}const Dn=We.sub(Ne)._mult(Zi)._add(Ne)._unit()._mult(Li?-1:1);this.addHalfVertex(ce,Dn.x,Dn.y,!1,Li,0,te)}}be&&this.addCurrentVertex(ce,We,-Ii,-Mi,te)}else if("butt"===Ci)this.addCurrentVertex(ce,_t,0,0,te);else if("square"===Ci){const xi=pe?1:-1;this.addCurrentVertex(ce,_t,xi,xi,te)}else"round"===Ci&&(pe&&(this.addCurrentVertex(ce,Ne,0,0,te),this.addCurrentVertex(ce,Ne,1,1,te,!0)),be&&(this.addCurrentVertex(ce,We,-1,-1,te,!0),this.addCurrentVertex(ce,We,0,0,te)));if(Ri&&tt<L-1){const xi=ce.dist(be);if(xi>2*K){const Ii=ce.add(be.sub(ce)._mult(K/xi)._round());this.updateDistance(ce,Ii),this.addCurrentVertex(Ii,We,0,0,te),ce=Ii}}}}addCurrentVertex(t,a,p,x,T,I=!1){const O=a.y*x-a.x,L=-a.y-a.x*x;this.addHalfVertex(t,a.x+a.y*p,a.y-a.x*p,I,!1,p,T),this.addHalfVertex(t,O,L,I,!0,-x,T),this.distance>nm/2&&0===this.totalDistance&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(t,a,p,x,T,I))}addHalfVertex({x:t,y:a},p,x,T,I,O,L){const Z=.5*(this.lineClips?this.scaledDistance*(nm-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((t<<1)+(T?1:0),(a<<1)+(I?1:0),Math.round(63*p)+128,Math.round(63*x)+128,1+(0===O?0:O<0?-1:1)|(63&Z)<<2,Z>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const K=L.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,K),L.primitiveLength++),I?this.e2=K:this.e1=K}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(t,a){this.distance+=t.dist(a),this.updateScaledDistance()}}let _p,fc;Ni("LineBucket",Zu,{omit:["layers","patternFeatures"]});var Wd={get paint(){return fc=fc||new Io({"line-opacity":new gi(Ee.paint_line["line-opacity"]),"line-color":new gi(Ee.paint_line["line-color"]),"line-translate":new wt(Ee.paint_line["line-translate"]),"line-translate-anchor":new wt(Ee.paint_line["line-translate-anchor"]),"line-width":new gi(Ee.paint_line["line-width"]),"line-gap-width":new gi(Ee.paint_line["line-gap-width"]),"line-offset":new gi(Ee.paint_line["line-offset"]),"line-blur":new gi(Ee.paint_line["line-blur"]),"line-dasharray":new Ws(Ee.paint_line["line-dasharray"]),"line-pattern":new ll(Ee.paint_line["line-pattern"]),"line-gradient":new wo(Ee.paint_line["line-gradient"])})},get layout(){return _p=_p||new Io({"line-cap":new wt(Ee.layout_line["line-cap"]),"line-join":new gi(Ee.layout_line["line-join"]),"line-miter-limit":new wt(Ee.layout_line["line-miter-limit"]),"line-round-limit":new wt(Ee.layout_line["line-round-limit"]),"line-sort-key":new gi(Ee.layout_line["line-sort-key"])})}};class yp extends gi{possiblyEvaluate(t,a){return a=new nr(Math.floor(a.zoom),{now:a.now,fadeDuration:a.fadeDuration,zoomHistory:a.zoomHistory,transition:a.transition}),super.possiblyEvaluate(t,a)}evaluate(t,a,p,x){return a=bt({},a,{zoom:Math.floor(a.zoom)}),super.evaluate(t,a,p,x)}}let Wu;class vp extends Ao{constructor(t){super(t,Wd),this.gradientVersion=0,Wu||(Wu=new yp(Wd.paint.properties["line-width"].specification),Wu.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(t){"line-gradient"===t&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof rn,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER)}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(t,a){super.recalculate(t,a),this.paint._values["line-floorwidth"]=Wu.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)}createBucket(t){return new Zu(t)}queryRadius(t){const a=t,p=Nc(ku("line-width",this,a),ku("line-gap-width",this,a)),x=ku("line-offset",this,a);return p/2+Math.abs(x)+Uh(this.paint.get("line-translate"))}queryIntersectsFeature(t,a,p,x,T,I,O){const L=jh(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),I.angle,O),Z=O/2*Nc(this.paint.get("line-width").evaluate(a,p),this.paint.get("line-gap-width").evaluate(a,p)),K=this.paint.get("line-offset").evaluate(a,p);return K&&(x=function(te,ce){const pe=[];for(let be=0;be<te.length;be++){const Ne=te[be],We=[];for(let tt=0;tt<Ne.length;tt++){const _t=Ne[tt-1],st=Ne[tt],St=Ne[tt+1],Rt=0===tt?new Oe(0,0):st.sub(_t)._unit()._perp(),ei=tt===Ne.length-1?new Oe(0,0):St.sub(st)._unit()._perp(),Ri=Rt._add(ei)._unit(),Li=Ri.x*ei.x+Ri.y*ei.y;0!==Li&&Ri._mult(1/Li),We.push(Ri._mult(ce)._add(st))}pe.push(We)}return pe}(x,K*O)),function(te,ce,pe){for(let be=0;be<ce.length;be++){const Ne=ce[be];if(te.length>=3)for(let We=0;We<Ne.length;We++)if(Fd(te,Ne[We]))return!0;if(rd(te,Ne,pe))return!0}return!1}(L,x,Z)}isTileClipped(){return!0}}function Nc(o,t){return t>0?t+2*o:o}const qd=Co([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),rm=Co([{name:"a_projected_pos",components:3,type:"Float32"}],4);Co([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const om=Co([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Co([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const bp=Co([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Yd=Co([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Yf(o,t,a){return o.sections.forEach(p=>{p.text=function(x,T,I){const O=T.layout.get("text-transform").evaluate(I,{});return"uppercase"===O?x=x.toLocaleUpperCase():"lowercase"===O&&(x=x.toLocaleLowerCase()),ir.applyArabicShaping&&(x=ir.applyArabicShaping(x)),x}(p.text,t,a)}),o}Co([{name:"triangle",components:3,type:"Uint16"}]),Co([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Co([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Co([{type:"Float32",name:"offsetX"}]),Co([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);const gc={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"};var Bo=24,sm=pr,am=function(o,t,a,p,x){var T,I,O=8*x-p-1,L=(1<<O)-1,Z=L>>1,K=-7,te=a?x-1:0,ce=a?-1:1,pe=o[t+te];for(te+=ce,T=pe&(1<<-K)-1,pe>>=-K,K+=O;K>0;T=256*T+o[t+te],te+=ce,K-=8);for(I=T&(1<<-K)-1,T>>=-K,K+=p;K>0;I=256*I+o[t+te],te+=ce,K-=8);if(0===T)T=1-Z;else{if(T===L)return I?NaN:1/0*(pe?-1:1);I+=Math.pow(2,p),T-=Z}return(pe?-1:1)*I*Math.pow(2,T-p)},zc=function(o,t,a,p,x,T){var I,O,L,Z=8*T-x-1,K=(1<<Z)-1,te=K>>1,ce=23===x?Math.pow(2,-24)-Math.pow(2,-77):0,pe=p?0:T-1,be=p?1:-1,Ne=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(O=isNaN(t)?1:0,I=K):(I=Math.floor(Math.log(t)/Math.LN2),t*(L=Math.pow(2,-I))<1&&(I--,L*=2),(t+=I+te>=1?ce/L:ce*Math.pow(2,1-te))*L>=2&&(I++,L/=2),I+te>=K?(O=0,I=K):I+te>=1?(O=(t*L-1)*Math.pow(2,x),I+=te):(O=t*Math.pow(2,te-1)*Math.pow(2,x),I=0));x>=8;o[a+pe]=255&O,pe+=be,O/=256,x-=8);for(I=I<<x|O,Z+=x;Z>0;o[a+pe]=255&I,pe+=be,I/=256,Z-=8);o[a+pe-be]|=128*Ne};function pr(o){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(o)?o:new Uint8Array(o||0),this.pos=0,this.type=0,this.length=this.buf.length}pr.Varint=0,pr.Fixed64=1,pr.Bytes=2,pr.Fixed32=5;var qu=4294967296,Yu=1/qu,Kd=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Ll(o){return o.type===pr.Bytes?o.readVarint()+o.pos:o.pos+1}function Xd(o,t,a){var p=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));a.realloc(p);for(var x=a.pos-1;x>=o;x--)a.buf[x+p]=a.buf[x]}function Kf(o,t){for(var a=0;a<o.length;a++)t.writeVarint(o[a])}function Xf(o,t){for(var a=0;a<o.length;a++)t.writeSVarint(o[a])}function Jf(o,t){for(var a=0;a<o.length;a++)t.writeFloat(o[a])}function xp(o,t){for(var a=0;a<o.length;a++)t.writeDouble(o[a])}function lm(o,t){for(var a=0;a<o.length;a++)t.writeBoolean(o[a])}function wp(o,t){for(var a=0;a<o.length;a++)t.writeFixed32(o[a])}function cm(o,t){for(var a=0;a<o.length;a++)t.writeSFixed32(o[a])}function Qf(o,t){for(var a=0;a<o.length;a++)t.writeFixed64(o[a])}function eg(o,t){for(var a=0;a<o.length;a++)t.writeSFixed64(o[a])}function fd(o,t){return(o[t]|o[t+1]<<8|o[t+2]<<16)+16777216*o[t+3]}function Bc(o,t,a){o[a]=t,o[a+1]=t>>>8,o[a+2]=t>>>16,o[a+3]=t>>>24}function _c(o,t){return(o[t]|o[t+1]<<8|o[t+2]<<16)+(o[t+3]<<24)}pr.prototype={destroy:function(){this.buf=null},readFields:function(o,t,a){for(a=a||this.length;this.pos<a;){var p=this.readVarint(),x=p>>3,T=this.pos;this.type=7&p,o(x,t,this),this.pos===T&&this.skip(p)}return t},readMessage:function(o,t){return this.readFields(o,t,this.readVarint()+this.pos)},readFixed32:function(){var o=fd(this.buf,this.pos);return this.pos+=4,o},readSFixed32:function(){var o=_c(this.buf,this.pos);return this.pos+=4,o},readFixed64:function(){var o=fd(this.buf,this.pos)+fd(this.buf,this.pos+4)*qu;return this.pos+=8,o},readSFixed64:function(){var o=fd(this.buf,this.pos)+_c(this.buf,this.pos+4)*qu;return this.pos+=8,o},readFloat:function(){var o=am(this.buf,this.pos,!0,23,4);return this.pos+=4,o},readDouble:function(){var o=am(this.buf,this.pos,!0,52,8);return this.pos+=8,o},readVarint:function(o){var t,a,p=this.buf;return t=127&(a=p[this.pos++]),a<128?t:(t|=(127&(a=p[this.pos++]))<<7,a<128?t:(t|=(127&(a=p[this.pos++]))<<14,a<128?t:(t|=(127&(a=p[this.pos++]))<<21,a<128?t:function(x,T,I){var O,L,Z=I.buf;if(O=(112&(L=Z[I.pos++]))>>4,L<128||(O|=(127&(L=Z[I.pos++]))<<3,L<128)||(O|=(127&(L=Z[I.pos++]))<<10,L<128)||(O|=(127&(L=Z[I.pos++]))<<17,L<128)||(O|=(127&(L=Z[I.pos++]))<<24,L<128)||(O|=(1&(L=Z[I.pos++]))<<31,L<128))return function pd(o,t,a){return a?4294967296*t+(o>>>0):4294967296*(t>>>0)+(o>>>0)}(x,O,T);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(a=p[this.pos]))<<28,o,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var o=this.readVarint();return o%2==1?(o+1)/-2:o/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var o=this.readVarint()+this.pos,t=this.pos;return this.pos=o,o-t>=12&&Kd?Kd.decode(this.buf.subarray(t,o)):function(a,p,x){for(var T="",I=p;I<x;){var O,L,Z,K=a[I],te=null,ce=K>239?4:K>223?3:K>191?2:1;if(I+ce>x)break;1===ce?K<128&&(te=K):2===ce?128==(192&(O=a[I+1]))&&(te=(31&K)<<6|63&O)<=127&&(te=null):3===ce?(L=a[I+2],128==(192&(O=a[I+1]))&&128==(192&L)&&((te=(15&K)<<12|(63&O)<<6|63&L)<=2047||te>=55296&&te<=57343)&&(te=null)):4===ce&&(L=a[I+2],Z=a[I+3],128==(192&(O=a[I+1]))&&128==(192&L)&&128==(192&Z)&&((te=(15&K)<<18|(63&O)<<12|(63&L)<<6|63&Z)<=65535||te>=1114112)&&(te=null)),null===te?(te=65533,ce=1):te>65535&&(te-=65536,T+=String.fromCharCode(te>>>10&1023|55296),te=56320|1023&te),T+=String.fromCharCode(te),I+=ce}return T}(this.buf,t,o)},readBytes:function(){var o=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,o);return this.pos=o,t},readPackedVarint:function(o,t){if(this.type!==pr.Bytes)return o.push(this.readVarint(t));var a=Ll(this);for(o=o||[];this.pos<a;)o.push(this.readVarint(t));return o},readPackedSVarint:function(o){if(this.type!==pr.Bytes)return o.push(this.readSVarint());var t=Ll(this);for(o=o||[];this.pos<t;)o.push(this.readSVarint());return o},readPackedBoolean:function(o){if(this.type!==pr.Bytes)return o.push(this.readBoolean());var t=Ll(this);for(o=o||[];this.pos<t;)o.push(this.readBoolean());return o},readPackedFloat:function(o){if(this.type!==pr.Bytes)return o.push(this.readFloat());var t=Ll(this);for(o=o||[];this.pos<t;)o.push(this.readFloat());return o},readPackedDouble:function(o){if(this.type!==pr.Bytes)return o.push(this.readDouble());var t=Ll(this);for(o=o||[];this.pos<t;)o.push(this.readDouble());return o},readPackedFixed32:function(o){if(this.type!==pr.Bytes)return o.push(this.readFixed32());var t=Ll(this);for(o=o||[];this.pos<t;)o.push(this.readFixed32());return o},readPackedSFixed32:function(o){if(this.type!==pr.Bytes)return o.push(this.readSFixed32());var t=Ll(this);for(o=o||[];this.pos<t;)o.push(this.readSFixed32());return o},readPackedFixed64:function(o){if(this.type!==pr.Bytes)return o.push(this.readFixed64());var t=Ll(this);for(o=o||[];this.pos<t;)o.push(this.readFixed64());return o},readPackedSFixed64:function(o){if(this.type!==pr.Bytes)return o.push(this.readSFixed64());var t=Ll(this);for(o=o||[];this.pos<t;)o.push(this.readSFixed64());return o},skip:function(o){var t=7&o;if(t===pr.Varint)for(;this.buf[this.pos++]>127;);else if(t===pr.Bytes)this.pos=this.readVarint()+this.pos;else if(t===pr.Fixed32)this.pos+=4;else{if(t!==pr.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(o,t){this.writeVarint(o<<3|t)},realloc:function(o){for(var t=this.length||16;t<this.pos+o;)t*=2;if(t!==this.length){var a=new Uint8Array(t);a.set(this.buf),this.buf=a,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(o){this.realloc(4),Bc(this.buf,o,this.pos),this.pos+=4},writeSFixed32:function(o){this.realloc(4),Bc(this.buf,o,this.pos),this.pos+=4},writeFixed64:function(o){this.realloc(8),Bc(this.buf,-1&o,this.pos),Bc(this.buf,Math.floor(o*Yu),this.pos+4),this.pos+=8},writeSFixed64:function(o){this.realloc(8),Bc(this.buf,-1&o,this.pos),Bc(this.buf,Math.floor(o*Yu),this.pos+4),this.pos+=8},writeVarint:function(o){(o=+o||0)>268435455||o<0?function(t,a){var p,x,T,O;if(t>=0?(p=t%4294967296|0,x=t/4294967296|0):(x=~(-t/4294967296),4294967295^(p=~(-t%4294967296))?p=p+1|0:(p=0,x=x+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");a.realloc(10),T=p,(O=a).buf[O.pos++]=127&T|128,T>>>=7,O.buf[O.pos++]=127&T|128,T>>>=7,O.buf[O.pos++]=127&T|128,T>>>=7,O.buf[O.pos++]=127&T|128,O.buf[O.pos]=127&(T>>>=7),function(T,I){var O=(7&T)<<4;I.buf[I.pos++]|=O|((T>>>=3)?128:0),T&&(I.buf[I.pos++]=127&T|((T>>>=7)?128:0),T&&(I.buf[I.pos++]=127&T|((T>>>=7)?128:0),T&&(I.buf[I.pos++]=127&T|((T>>>=7)?128:0),T&&(I.buf[I.pos++]=127&T|((T>>>=7)?128:0),T&&(I.buf[I.pos++]=127&T)))))}(x,a)}(o,this):(this.realloc(4),this.buf[this.pos++]=127&o|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=o>>>7&127))))},writeSVarint:function(o){this.writeVarint(o<0?2*-o-1:2*o)},writeBoolean:function(o){this.writeVarint(!!o)},writeString:function(o){o=String(o),this.realloc(4*o.length),this.pos++;var t=this.pos;this.pos=function(p,x,T){for(var I,O,L=0;L<x.length;L++){if((I=x.charCodeAt(L))>55295&&I<57344){if(!O){I>56319||L+1===x.length?(p[T++]=239,p[T++]=191,p[T++]=189):O=I;continue}if(I<56320){p[T++]=239,p[T++]=191,p[T++]=189,O=I;continue}I=O-55296<<10|I-56320|65536,O=null}else O&&(p[T++]=239,p[T++]=191,p[T++]=189,O=null);I<128?p[T++]=I:(I<2048?p[T++]=I>>6|192:(I<65536?p[T++]=I>>12|224:(p[T++]=I>>18|240,p[T++]=I>>12&63|128),p[T++]=I>>6&63|128),p[T++]=63&I|128)}return T}(this.buf,o,this.pos);var a=this.pos-t;a>=128&&Xd(t,a,this),this.pos=t-1,this.writeVarint(a),this.pos+=a},writeFloat:function(o){this.realloc(4),zc(this.buf,o,this.pos,!0,23,4),this.pos+=4},writeDouble:function(o){this.realloc(8),zc(this.buf,o,this.pos,!0,52,8),this.pos+=8},writeBytes:function(o){var t=o.length;this.writeVarint(t),this.realloc(t);for(var a=0;a<t;a++)this.buf[this.pos++]=o[a]},writeRawMessage:function(o,t){this.pos++;var a=this.pos;o(t,this);var p=this.pos-a;p>=128&&Xd(a,p,this),this.pos=a-1,this.writeVarint(p),this.pos+=p},writeMessage:function(o,t,a){this.writeTag(o,pr.Bytes),this.writeRawMessage(t,a)},writePackedVarint:function(o,t){t.length&&this.writeMessage(o,Kf,t)},writePackedSVarint:function(o,t){t.length&&this.writeMessage(o,Xf,t)},writePackedBoolean:function(o,t){t.length&&this.writeMessage(o,lm,t)},writePackedFloat:function(o,t){t.length&&this.writeMessage(o,Jf,t)},writePackedDouble:function(o,t){t.length&&this.writeMessage(o,xp,t)},writePackedFixed32:function(o,t){t.length&&this.writeMessage(o,wp,t)},writePackedSFixed32:function(o,t){t.length&&this.writeMessage(o,cm,t)},writePackedFixed64:function(o,t){t.length&&this.writeMessage(o,Qf,t)},writePackedSFixed64:function(o,t){t.length&&this.writeMessage(o,eg,t)},writeBytesField:function(o,t){this.writeTag(o,pr.Bytes),this.writeBytes(t)},writeFixed32Field:function(o,t){this.writeTag(o,pr.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(o,t){this.writeTag(o,pr.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(o,t){this.writeTag(o,pr.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(o,t){this.writeTag(o,pr.Fixed64),this.writeSFixed64(t)},writeVarintField:function(o,t){this.writeTag(o,pr.Varint),this.writeVarint(t)},writeSVarintField:function(o,t){this.writeTag(o,pr.Varint),this.writeSVarint(t)},writeStringField:function(o,t){this.writeTag(o,pr.Bytes),this.writeString(t)},writeFloatField:function(o,t){this.writeTag(o,pr.Fixed32),this.writeFloat(t)},writeDoubleField:function(o,t){this.writeTag(o,pr.Fixed64),this.writeDouble(t)},writeBooleanField:function(o,t){this.writeVarintField(o,!!t)}};var Ku=je(sm);const Xu=3;function tg(o,t,a){1===o&&a.readMessage(R_,t)}function R_(o,t,a){if(3===o){const{id:p,bitmap:x,width:T,height:I,left:O,top:L,advance:Z}=a.readMessage(Ju,{});t.push({id:p,bitmap:new Ru({width:T+2*Xu,height:I+2*Xu},x),metrics:{width:T,height:I,left:O,top:L,advance:Z}})}}function Ju(o,t,a){1===o?t.id=a.readVarint():2===o?t.bitmap=a.readBytes():3===o?t.width=a.readVarint():4===o?t.height=a.readVarint():5===o?t.left=a.readSVarint():6===o?t.top=a.readSVarint():7===o&&(t.advance=a.readVarint())}const dm=Xu;function Jd(o){let t=0,a=0;for(const I of o)t+=I.w*I.h,a=Math.max(a,I.w);o.sort((I,O)=>O.h-I.h);const p=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),a),h:1/0}];let x=0,T=0;for(const I of o)for(let O=p.length-1;O>=0;O--){const L=p[O];if(!(I.w>L.w||I.h>L.h)){if(I.x=L.x,I.y=L.y,T=Math.max(T,I.y+I.h),x=Math.max(x,I.x+I.w),I.w===L.w&&I.h===L.h){const Z=p.pop();O<p.length&&(p[O]=Z)}else I.h===L.h?(L.x+=I.w,L.w-=I.w):I.w===L.w?(L.y+=I.h,L.h-=I.h):(p.push({x:L.x+I.w,y:L.y,w:L.w-I.w,h:I.h}),L.y+=I.h,L.h-=I.h);break}}return{w:x,h:T,fill:t/(x*T)||0}}const Qs=1;class Qu{constructor(t,{pixelRatio:a,version:p,stretchX:x,stretchY:T,content:I}){this.paddedRect=t,this.pixelRatio=a,this.stretchX=x,this.stretchY=T,this.content=I,this.version=p}get tl(){return[this.paddedRect.x+Qs,this.paddedRect.y+Qs]}get br(){return[this.paddedRect.x+this.paddedRect.w-Qs,this.paddedRect.y+this.paddedRect.h-Qs]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*Qs)/this.pixelRatio,(this.paddedRect.h-2*Qs)/this.pixelRatio]}}class eh{constructor(t,a){const p={},x={};this.haveRenderCallbacks=[];const T=[];this.addImages(t,p,T),this.addImages(a,x,T);const{w:I,h:O}=Jd(T),L=new so({width:I||1,height:O||1});for(const Z in t){const K=t[Z],te=p[Z].paddedRect;so.copy(K.data,L,{x:0,y:0},{x:te.x+Qs,y:te.y+Qs},K.data)}for(const Z in a){const K=a[Z],te=x[Z].paddedRect,ce=te.x+Qs,pe=te.y+Qs,be=K.data.width,Ne=K.data.height;so.copy(K.data,L,{x:0,y:0},{x:ce,y:pe},K.data),so.copy(K.data,L,{x:0,y:Ne-1},{x:ce,y:pe-1},{width:be,height:1}),so.copy(K.data,L,{x:0,y:0},{x:ce,y:pe+Ne},{width:be,height:1}),so.copy(K.data,L,{x:be-1,y:0},{x:ce-1,y:pe},{width:1,height:Ne}),so.copy(K.data,L,{x:0,y:0},{x:ce+be,y:pe},{width:1,height:Ne})}this.image=L,this.iconPositions=p,this.patternPositions=x}addImages(t,a,p){for(const x in t){const T=t[x],I={x:0,y:0,w:T.data.width+2*Qs,h:T.data.height+2*Qs};p.push(I),a[x]=new Qu(I,T),T.hasRenderCallback&&this.haveRenderCallbacks.push(x)}}patchUpdatedImages(t,a){t.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const p in t.updatedImages)this.patchUpdatedImage(this.iconPositions[p],t.getImage(p),a),this.patchUpdatedImage(this.patternPositions[p],t.getImage(p),a)}patchUpdatedImage(t,a,p){if(!t||!a||t.version===a.version)return;t.version=a.version;const[x,T]=t.tl;p.update(a.data,void 0,{x,y:T})}}var Nl;Ni("ImagePosition",Qu),Ni("ImageAtlas",eh),v.WritingMode=void 0,(Nl=v.WritingMode||(v.WritingMode={}))[Nl.none=0]="none",Nl[Nl.horizontal=1]="horizontal",Nl[Nl.vertical=2]="vertical",Nl[Nl.horizontalOnly=3]="horizontalOnly";const yc=-17;class zl{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(t,a){const p=new zl;return p.scale=t||1,p.fontStack=a,p}static forImage(t){const a=new zl;return a.imageName=t,a}}class Vc{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(t,a){const p=new Vc;for(let x=0;x<t.sections.length;x++){const T=t.sections[x];T.image?p.addImageSection(T):p.addTextSection(T,a)}return p}length(){return this.text.length}getSection(t){return this.sections[this.sectionIndex[t]]}getSectionIndex(t){return this.sectionIndex[t]}getCharCode(t){return this.text.charCodeAt(t)}verticalizePunctuation(){this.text=function(t){let a="";for(let p=0;p<t.length;p++){const x=t.charCodeAt(p+1)||null,T=t.charCodeAt(p-1)||null;a+=x&&Ze(x)&&!gc[t[p+1]]||T&&Ze(T)&&!gc[t[p-1]]||!gc[t[p]]?t[p]:gc[t[p]]}return a}(this.text)}trim(){let t=0;for(let p=0;p<this.text.length&&Uc[this.text.charCodeAt(p)];p++)t++;let a=this.text.length;for(let p=this.text.length-1;p>=0&&p>=t&&Uc[this.text.charCodeAt(p)];p--)a--;this.text=this.text.substring(t,a),this.sectionIndex=this.sectionIndex.slice(t,a)}substring(t,a){const p=new Vc;return p.text=this.text.substring(t,a),p.sectionIndex=this.sectionIndex.slice(t,a),p.sections=this.sections,p}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((t,a)=>Math.max(t,this.sections[a].scale),0)}addTextSection(t,a){this.text+=t.text,this.sections.push(zl.forText(t.scale,t.fontStack||a));const p=this.sections.length-1;for(let x=0;x<t.text.length;++x)this.sectionIndex.push(p)}addImageSection(t){const a=t.image?t.image.name:"";if(0===a.length)return void Ue("Can't add FormattedSection with an empty image.");const p=this.getNextImageSectionCharCode();p?(this.text+=String.fromCharCode(p),this.sections.push(zl.forImage(a)),this.sectionIndex.push(this.sections.length-1)):Ue("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function gd(o,t,a,p,x,T,I,O,L,Z,K,te,ce,pe,be,Ne){const We=Vc.fromFeature(o,x);let tt;te===v.WritingMode.vertical&&We.verticalizePunctuation();const{processBidirectionalText:_t,processStyledBidirectionalText:st}=ir;if(_t&&1===We.sections.length){tt=[];const ei=_t(We.toString(),mm(We,Z,T,t,p,pe,be));for(const Ri of ei){const Li=new Vc;Li.text=Ri,Li.sections=We.sections;for(let Pi=0;Pi<Ri.length;Pi++)Li.sectionIndex.push(0);tt.push(Li)}}else if(st){tt=[];const ei=st(We.text,We.sectionIndex,mm(We,Z,T,t,p,pe,be));for(const Ri of ei){const Li=new Vc;Li.text=Ri[0],Li.sectionIndex=Ri[1],Li.sections=We.sections,tt.push(Li)}}else tt=function(ei,Ri){const Li=[],Pi=ei.text;let Ci=0;for(const xi of Ri)Li.push(ei.substring(Ci,xi)),Ci=xi;return Ci<Pi.length&&Li.push(ei.substring(Ci,Pi.length)),Li}(We,mm(We,Z,T,t,p,pe,be));const St=[],Rt={positionedLines:St,text:We.toString(),top:K[1],bottom:K[1],left:K[0],right:K[0],writingMode:te,iconsInText:!1,verticalizable:!1};return function(ei,Ri,Li,Pi,Ci,xi,Ii,Mi,hi,Xi,Zi,Dn){let Ir=0,Fr=yc,go=0,ba=0;const rs="right"===Mi?1:"left"===Mi?0:.5;let eo=0;for(const Mo of Ci){Mo.trim();const Vo=Mo.getMaxScale(),Ts=(Vo-1)*Bo,da={positionedGlyphs:[],lineOffset:0};ei.positionedLines[eo]=da;const ua=da.positionedGlyphs;let gs=0;if(!Mo.length()){Fr+=xi,++eo;continue}for(let _s=0;_s<Mo.length();_s++){const Fn=Mo.getSection(_s),ea=Mo.getSectionIndex(_s),Uo=Mo.getCharCode(_s);let Is=0,Na=null,ml=null,Ja=null,Cc=Bo;const Qa=!(hi===v.WritingMode.horizontal||!Zi&&!fe(Uo)||Zi&&(Uc[Uo]||(Oo=Uo,fi.Arabic(Oo)||fi["Arabic Supplement"](Oo)||fi["Arabic Extended-A"](Oo)||fi["Arabic Presentation Forms-A"](Oo)||fi["Arabic Presentation Forms-B"](Oo))));if(Fn.imageName){const As=Pi[Fn.imageName];if(!As)continue;Ja=Fn.imageName,ei.iconsInText=ei.iconsInText||!0,ml=As.paddedRect;const ks=As.displaySize;Fn.scale=Fn.scale*Bo/Dn,Na={width:ks[0],height:ks[1],left:Qs,top:-dm,advance:Qa?ks[1]:ks[0]},Is=Ts+(Bo-ks[1]*Fn.scale),Cc=Na.advance;const xa=Qa?ks[0]*Fn.scale-Bo*Vo:ks[1]*Fn.scale-Bo*Vo;xa>0&&xa>gs&&(gs=xa)}else{const As=Li[Fn.fontStack],ks=As&&As[Uo];if(ks&&ks.rect)ml=ks.rect,Na=ks.metrics;else{const xa=Ri[Fn.fontStack],tc=xa&&xa[Uo];if(!tc)continue;Na=tc.metrics}Is=(Vo-Fn.scale)*Bo}Qa?(ei.verticalizable=!0,ua.push({glyph:Uo,imageName:Ja,x:Ir,y:Fr+Is,vertical:Qa,scale:Fn.scale,fontStack:Fn.fontStack,sectionIndex:ea,metrics:Na,rect:ml}),Ir+=Cc*Fn.scale+Xi):(ua.push({glyph:Uo,imageName:Ja,x:Ir,y:Fr+Is,vertical:Qa,scale:Fn.scale,fontStack:Fn.fontStack,sectionIndex:ea,metrics:Na,rect:ml}),Ir+=Na.advance*Fn.scale+Xi)}0!==ua.length&&(go=Math.max(Ir-Xi,go),Ep(ua,0,ua.length-1,rs,gs)),Ir=0;const to=xi*Vo+gs;da.lineOffset=Math.max(gs,Ts),Fr+=to,ba=Math.max(to,ba),++eo}var Oo;const os=Fr-yc,{horizontalAlign:ca,verticalAlign:Ss}=Qd(Ii);(function(Mo,Vo,Ts,da,ua,gs,to,_s,Fn){const ea=(Vo-Ts)*ua;let Uo=0;Uo=gs!==to?-_s*da-yc:(-da*Fn+.5)*to;for(const Is of Mo)for(const Na of Is.positionedGlyphs)Na.x+=ea,Na.y+=Uo})(ei.positionedLines,rs,ca,Ss,go,ba,xi,os,Ci.length),ei.top+=-Ss*os,ei.bottom=ei.top+os,ei.left+=-ca*go,ei.right=ei.left+go}(Rt,t,a,p,tt,I,O,L,te,Z,ce,Ne),!function(ei){for(const Ri of ei)if(0!==Ri.positionedGlyphs.length)return!1;return!0}(St)&&Rt}const Uc={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},um={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function th(o,t,a,p,x,T){if(t.imageName){const I=p[t.imageName];return I?I.displaySize[0]*t.scale*Bo/T+x:0}{const I=a[t.fontStack],O=I&&I[o];return O?O.metrics.advance*t.scale+x:0}}function _d(o,t,a,p){const x=Math.pow(o-t,2);return p?o<t?x/2:2*x:x+Math.abs(a)*a}function Cp(o,t,a){let p=0;return 10===o&&(p-=1e4),a&&(p+=150),40!==o&&65288!==o||(p+=50),41!==t&&65289!==t||(p+=50),p}function hm(o,t,a,p,x,T){let I=null,O=_d(t,a,x,T);for(const L of p){const Z=_d(t-L.x,a,x,T)+L.badness;Z<=O&&(I=L,O=Z)}return{index:o,x:t,priorBreak:I,badness:O}}function ih(o){return o?ih(o.priorBreak).concat(o.index):[]}function mm(o,t,a,p,x,T,I){if("point"!==T)return[];if(!o)return[];const O=[],L=function(ce,pe,be,Ne,We,tt){let _t=0;for(let st=0;st<ce.length();st++){const St=ce.getSection(st);_t+=th(ce.getCharCode(st),St,Ne,We,pe,tt)}return _t/Math.max(1,Math.ceil(_t/be))}(o,t,a,p,x,I),Z=o.text.indexOf("\u200b")>=0;let K=0;for(let ce=0;ce<o.length();ce++){const pe=o.getSection(ce),be=o.getCharCode(ce);if(Uc[be]||(K+=th(be,pe,p,x,t,I)),ce<o.length()-1){const Ne=!((te=be)<11904||!(fi["Bopomofo Extended"](te)||fi.Bopomofo(te)||fi["CJK Compatibility Forms"](te)||fi["CJK Compatibility Ideographs"](te)||fi["CJK Compatibility"](te)||fi["CJK Radicals Supplement"](te)||fi["CJK Strokes"](te)||fi["CJK Symbols and Punctuation"](te)||fi["CJK Unified Ideographs Extension A"](te)||fi["CJK Unified Ideographs"](te)||fi["Enclosed CJK Letters and Months"](te)||fi["Halfwidth and Fullwidth Forms"](te)||fi.Hiragana(te)||fi["Ideographic Description Characters"](te)||fi["Kangxi Radicals"](te)||fi["Katakana Phonetic Extensions"](te)||fi.Katakana(te)||fi["Vertical Forms"](te)||fi["Yi Radicals"](te)||fi["Yi Syllables"](te)));(um[be]||Ne||pe.imageName)&&O.push(hm(ce+1,K,L,O,Cp(be,o.getCharCode(ce+1),Ne&&Z),!1))}}var te;return ih(hm(o.length(),K,L,O,0,!0))}function Qd(o){let t=.5,a=.5;switch(o){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(o){case"bottom":case"bottom-right":case"bottom-left":a=1;break;case"top":case"top-right":case"top-left":a=0}return{horizontalAlign:t,verticalAlign:a}}function Ep(o,t,a,p,x){if(!p&&!x)return;const T=o[a],I=(o[a].x+T.metrics.advance*T.scale)*p;for(let O=t;O<=a;O++)o[O].x-=I,o[O].y+=x}function Mp(o,t,a){const{horizontalAlign:p,verticalAlign:x}=Qd(a),T=t[0]-o.displaySize[0]*p,I=t[1]-o.displaySize[1]*x;return{image:o,top:I,bottom:I+o.displaySize[1],left:T,right:T+o.displaySize[0]}}function eu(o,t,a,p,x,T){const I=o.image;let O;if(I.content){const We=I.content,tt=I.pixelRatio||1;O=[We[0]/tt,We[1]/tt,I.displaySize[0]-We[2]/tt,I.displaySize[1]-We[3]/tt]}const L=t.left*T,Z=t.right*T;let K,te,ce,pe;"width"===a||"both"===a?(pe=x[0]+L-p[3],te=x[0]+Z+p[1]):(pe=x[0]+(L+Z-I.displaySize[0])/2,te=pe+I.displaySize[0]);const be=t.top*T,Ne=t.bottom*T;return"height"===a||"both"===a?(K=x[1]+be-p[0],ce=x[1]+Ne+p[2]):(K=x[1]+(be+Ne-I.displaySize[1])/2,ce=K+I.displaySize[1]),{image:I,top:K,right:te,bottom:ce,left:pe,collisionPadding:O}}const jc=255,aa=128,vc=jc*aa;function nh(o,t){const{expression:a}=t;if("constant"===a.kind)return{kind:"constant",layoutSize:a.evaluate(new nr(o+1))};if("source"===a.kind)return{kind:"source"};{const{zoomStops:p,interpolationType:x}=a;let T=0;for(;T<p.length&&p[T]<=o;)T++;T=Math.max(0,T-1);let I=T;for(;I<p.length&&p[I]<o+1;)I++;I=Math.min(p.length-1,I);const O=p[T],L=p[I];return"composite"===a.kind?{kind:"composite",minZoom:O,maxZoom:L,interpolationType:x}:{kind:"camera",minZoom:O,maxZoom:L,minSize:a.evaluate(new nr(O)),maxSize:a.evaluate(new nr(L)),interpolationType:x}}}function Dp(o,t,a){let p="never";const x=o.get(t);return x?p=x:o.get(a)&&(p="always"),p}const pm=mc.VectorTileFeature.types,fm=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function yd(o,t,a,p,x,T,I,O,L,Z,K,te,ce){const pe=O?Math.min(vc,Math.round(O[0])):0,be=O?Math.min(vc,Math.round(O[1])):0;o.emplaceBack(t,a,Math.round(32*p),Math.round(32*x),T,I,(pe<<1)+(L?1:0),be,16*Z,16*K,256*te,256*ce)}function Hc(o,t,a){o.emplaceBack(t.x,t.y,a),o.emplaceBack(t.x,t.y,a),o.emplaceBack(t.x,t.y,a),o.emplaceBack(t.x,t.y,a)}function vd(o){for(const t of o.sections)if(qi(t.text))return!0;return!1}class bd{constructor(t){this.layoutVertexArray=new ft,this.indexArray=new Xt,this.programConfigurations=t,this.segments=new bi,this.dynamicLayoutVertexArray=new Ft,this.opacityVertexArray=new Zt,this.hasVisibleVertices=!1,this.placedSymbolArray=new f}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(t,a,p,x){this.isEmpty()||(p&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,qd.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,a),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,rm.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,fm,!0),this.opacityVertexBuffer.itemSize=1),(p||x)&&this.programConfigurations.upload(t))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Ni("SymbolBuffers",bd);class rh{constructor(t,a,p){this.layoutVertexArray=new t,this.layoutAttributes=a,this.indexArray=new p,this.segments=new bi,this.collisionVertexArray=new Qt}upload(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,om.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Ni("CollisionBuffers",rh);class bc{constructor(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(I=>I.id),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Hh([]),this.placementViewportMatrix=Hh([]);const a=this.layers[0]._unevaluatedLayout._values;this.textSizeData=nh(this.zoom,a["text-size"]),this.iconSizeData=nh(this.zoom,a["icon-size"]);const p=this.layers[0].layout,x=p.get("symbol-sort-key"),T=p.get("symbol-z-order");this.canOverlap="never"!==Dp(p,"text-overlap","text-allow-overlap")||"never"!==Dp(p,"icon-overlap","icon-allow-overlap")||p.get("text-ignore-placement")||p.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==T&&!x.isConstant(),this.sortFeaturesByY=("viewport-y"===T||"auto"===T&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===p.get("symbol-placement")&&(this.writingModes=p.get("text-writing-mode").map(I=>v.WritingMode[I])),this.stateDependentLayerIds=this.layers.filter(I=>I.isStateDependent()).map(I=>I.id),this.sourceID=t.sourceID}createArrays(){this.text=new bd(new ul(this.layers,this.zoom,t=>/^text/.test(t))),this.icon=new bd(new ul(this.layers,this.zoom,t=>/^icon/.test(t))),this.glyphOffsetArray=new D,this.lineVertexArray=new k,this.symbolInstances=new _}calculateGlyphDependencies(t,a,p,x,T){for(let I=0;I<t.length;I++)if(a[t.charCodeAt(I)]=!0,(p||x)&&T){const O=gc[t.charAt(I)];O&&(a[O.charCodeAt(0)]=!0)}}populate(t,a,p){const x=this.layers[0],T=x.layout,I=T.get("text-font"),O=T.get("text-field"),L=T.get("icon-image"),Z=("constant"!==O.value.kind||O.value.value instanceof bn&&!O.value.value.isEmpty()||O.value.value.toString().length>0)&&("constant"!==I.value.kind||I.value.value.length>0),K="constant"!==L.value.kind||!!L.value.value||Object.keys(L.parameters).length>0,te=T.get("symbol-sort-key");if(this.features=[],!Z&&!K)return;const ce=a.iconDependencies,pe=a.glyphDependencies,be=a.availableImages,Ne=new nr(this.zoom);for(const{feature:We,id:tt,index:_t,sourceLayerIndex:st}of t){const St=x._featureFilter.needGeometry,Rt=kc(We,St);if(!x._featureFilter.filter(Ne,Rt,p))continue;let ei,Ri;if(St||(Rt.geometry=Xs(We)),Z){const Pi=x.getValueAndResolveTokens("text-field",Rt,p,be),Ci=bn.factory(Pi);vd(Ci)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===ws()||this.hasRTLText&&ir.isParsed())&&(ei=Yf(Ci,x,Rt))}if(K){const Pi=x.getValueAndResolveTokens("icon-image",Rt,p,be);Ri=Pi instanceof Gn?Pi:Gn.fromString(Pi)}if(!ei&&!Ri)continue;const Li=this.sortFeaturesByKey?te.evaluate(Rt,{},p):void 0;if(this.features.push({id:tt,text:ei,icon:Ri,index:_t,sourceLayerIndex:st,geometry:Rt.geometry,properties:We.properties,type:pm[We.type],sortKey:Li}),Ri&&(ce[Ri.name]=!0),ei){const Pi=I.evaluate(Rt,{},p).join(","),Ci="viewport"!==T.get("text-rotation-alignment")&&"point"!==T.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(v.WritingMode.vertical)>=0;for(const xi of ei.sections)if(xi.image)ce[xi.image.name]=!0;else{const Ii=V(ei.toString()),Mi=xi.fontStack||Pi,hi=pe[Mi]=pe[Mi]||{};this.calculateGlyphDependencies(xi.text,hi,Ci,this.allowVerticalPlacement,Ii)}}}"line"===T.get("symbol-placement")&&(this.features=function(We){const tt={},_t={},st=[];let St=0;function Rt(Pi){st.push(We[Pi]),St++}function ei(Pi,Ci,xi){const Ii=_t[Pi];return delete _t[Pi],_t[Ci]=Ii,st[Ii].geometry[0].pop(),st[Ii].geometry[0]=st[Ii].geometry[0].concat(xi[0]),Ii}function Ri(Pi,Ci,xi){const Ii=tt[Ci];return delete tt[Ci],tt[Pi]=Ii,st[Ii].geometry[0].shift(),st[Ii].geometry[0]=xi[0].concat(st[Ii].geometry[0]),Ii}function Li(Pi,Ci,xi){const Ii=xi?Ci[0][Ci[0].length-1]:Ci[0][0];return`${Pi}:${Ii.x}:${Ii.y}`}for(let Pi=0;Pi<We.length;Pi++){const Ci=We[Pi],xi=Ci.geometry,Ii=Ci.text?Ci.text.toString():null;if(!Ii){Rt(Pi);continue}const Mi=Li(Ii,xi),hi=Li(Ii,xi,!0);if(Mi in _t&&hi in tt&&_t[Mi]!==tt[hi]){const Xi=Ri(Mi,hi,xi),Zi=ei(Mi,hi,st[Xi].geometry);delete tt[Mi],delete _t[hi],_t[Li(Ii,st[Zi].geometry,!0)]=Zi,st[Xi].geometry=null}else Mi in _t?ei(Mi,hi,xi):hi in tt?Ri(Mi,hi,xi):(Rt(Pi),tt[Mi]=St-1,_t[hi]=St-1)}return st.filter(Pi=>Pi.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((We,tt)=>We.sortKey-tt.sortKey)}update(t,a,p){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,a,this.layers,p),this.icon.programConfigurations.updatePaintArrays(t,a,this.layers,p))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(t,a){const p=this.lineVertexArray.length;if(void 0!==t.segment){let x=t.dist(a[t.segment+1]),T=t.dist(a[t.segment]);const I={};for(let O=t.segment+1;O<a.length;O++)I[O]={x:a[O].x,y:a[O].y,tileUnitDistanceFromAnchor:x},O<a.length-1&&(x+=a[O+1].dist(a[O]));for(let O=t.segment||0;O>=0;O--)I[O]={x:a[O].x,y:a[O].y,tileUnitDistanceFromAnchor:T},O>0&&(T+=a[O-1].dist(a[O]));for(let O=0;O<a.length;O++){const L=I[O];this.lineVertexArray.emplaceBack(L.x,L.y,L.tileUnitDistanceFromAnchor)}}return{lineStartIndex:p,lineLength:this.lineVertexArray.length-p}}addSymbols(t,a,p,x,T,I,O,L,Z,K,te,ce){const pe=t.indexArray,be=t.layoutVertexArray,Ne=t.segments.prepareSegment(4*a.length,be,pe,this.canOverlap?I.sortKey:void 0),We=this.glyphOffsetArray.length,tt=Ne.vertexLength,_t=this.allowVerticalPlacement&&O===v.WritingMode.vertical?Math.PI/2:0,st=I.text&&I.text.sections;for(let St=0;St<a.length;St++){const{tl:Rt,tr:ei,bl:Ri,br:Li,tex:Pi,pixelOffsetTL:Ci,pixelOffsetBR:xi,minFontScaleX:Ii,minFontScaleY:Mi,glyphOffset:hi,isSDF:Xi,sectionIndex:Zi}=a[St],Dn=Ne.vertexLength,Ir=hi[1];yd(be,L.x,L.y,Rt.x,Ir+Rt.y,Pi.x,Pi.y,p,Xi,Ci.x,Ci.y,Ii,Mi),yd(be,L.x,L.y,ei.x,Ir+ei.y,Pi.x+Pi.w,Pi.y,p,Xi,xi.x,Ci.y,Ii,Mi),yd(be,L.x,L.y,Ri.x,Ir+Ri.y,Pi.x,Pi.y+Pi.h,p,Xi,Ci.x,xi.y,Ii,Mi),yd(be,L.x,L.y,Li.x,Ir+Li.y,Pi.x+Pi.w,Pi.y+Pi.h,p,Xi,xi.x,xi.y,Ii,Mi),Hc(t.dynamicLayoutVertexArray,L,_t),pe.emplaceBack(Dn,Dn+1,Dn+2),pe.emplaceBack(Dn+1,Dn+2,Dn+3),Ne.vertexLength+=4,Ne.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(hi[0]),St!==a.length-1&&Zi===a[St+1].sectionIndex||t.programConfigurations.populatePaintArrays(be.length,I,I.index,{},ce,st&&st[Zi])}t.placedSymbolArray.emplaceBack(L.x,L.y,We,this.glyphOffsetArray.length-We,tt,Z,K,L.segment,p?p[0]:0,p?p[1]:0,x[0],x[1],O,0,!1,0,te)}_addCollisionDebugVertex(t,a,p,x,T,I){return a.emplaceBack(0,0),t.emplaceBack(p.x,p.y,x,T,Math.round(I.x),Math.round(I.y))}addCollisionDebugVertices(t,a,p,x,T,I,O){const L=T.segments.prepareSegment(4,T.layoutVertexArray,T.indexArray),Z=L.vertexLength,K=T.layoutVertexArray,te=T.collisionVertexArray,ce=O.anchorX,pe=O.anchorY;this._addCollisionDebugVertex(K,te,I,ce,pe,new Oe(t,a)),this._addCollisionDebugVertex(K,te,I,ce,pe,new Oe(p,a)),this._addCollisionDebugVertex(K,te,I,ce,pe,new Oe(p,x)),this._addCollisionDebugVertex(K,te,I,ce,pe,new Oe(t,x)),L.vertexLength+=4;const be=T.indexArray;be.emplaceBack(Z,Z+1),be.emplaceBack(Z+1,Z+2),be.emplaceBack(Z+2,Z+3),be.emplaceBack(Z+3,Z),L.primitiveLength+=4}addDebugCollisionBoxes(t,a,p,x){for(let T=t;T<a;T++){const I=this.collisionBoxArray.get(T);this.addCollisionDebugVertices(I.x1,I.y1,I.x2,I.y2,x?this.textCollisionBox:this.iconCollisionBox,I.anchorPoint,p)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new rh(Gt,bp.members,Ei),this.iconCollisionBox=new rh(Gt,bp.members,Ei);for(let t=0;t<this.symbolInstances.length;t++){const a=this.symbolInstances.get(t);this.addDebugCollisionBoxes(a.textBoxStartIndex,a.textBoxEndIndex,a,!0),this.addDebugCollisionBoxes(a.verticalTextBoxStartIndex,a.verticalTextBoxEndIndex,a,!0),this.addDebugCollisionBoxes(a.iconBoxStartIndex,a.iconBoxEndIndex,a,!1),this.addDebugCollisionBoxes(a.verticalIconBoxStartIndex,a.verticalIconBoxEndIndex,a,!1)}}_deserializeCollisionBoxesForSymbol(t,a,p,x,T,I,O,L,Z){const K={};for(let te=a;te<p;te++){const ce=t.get(te);K.textBox={x1:ce.x1,y1:ce.y1,x2:ce.x2,y2:ce.y2,anchorPointX:ce.anchorPointX,anchorPointY:ce.anchorPointY},K.textFeatureIndex=ce.featureIndex;break}for(let te=x;te<T;te++){const ce=t.get(te);K.verticalTextBox={x1:ce.x1,y1:ce.y1,x2:ce.x2,y2:ce.y2,anchorPointX:ce.anchorPointX,anchorPointY:ce.anchorPointY},K.verticalTextFeatureIndex=ce.featureIndex;break}for(let te=I;te<O;te++){const ce=t.get(te);K.iconBox={x1:ce.x1,y1:ce.y1,x2:ce.x2,y2:ce.y2,anchorPointX:ce.anchorPointX,anchorPointY:ce.anchorPointY},K.iconFeatureIndex=ce.featureIndex;break}for(let te=L;te<Z;te++){const ce=t.get(te);K.verticalIconBox={x1:ce.x1,y1:ce.y1,x2:ce.x2,y2:ce.y2,anchorPointX:ce.anchorPointX,anchorPointY:ce.anchorPointY},K.verticalIconFeatureIndex=ce.featureIndex;break}return K}deserializeCollisionBoxes(t){this.collisionArrays=[];for(let a=0;a<this.symbolInstances.length;a++){const p=this.symbolInstances.get(a);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,p.textBoxStartIndex,p.textBoxEndIndex,p.verticalTextBoxStartIndex,p.verticalTextBoxEndIndex,p.iconBoxStartIndex,p.iconBoxEndIndex,p.verticalIconBoxStartIndex,p.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(t,a){const p=t.placedSymbolArray.get(a),x=p.vertexStartIndex+4*p.numGlyphs;for(let T=p.vertexStartIndex;T<x;T+=4)t.indexArray.emplaceBack(T,T+1,T+2),t.indexArray.emplaceBack(T+1,T+2,T+3)}getSortedSymbolIndexes(t){if(this.sortedAngle===t&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const a=Math.sin(t),p=Math.cos(t),x=[],T=[],I=[];for(let O=0;O<this.symbolInstances.length;++O){I.push(O);const L=this.symbolInstances.get(O);x.push(0|Math.round(a*L.anchorX+p*L.anchorY)),T.push(L.featureIndex)}return I.sort((O,L)=>x[O]-x[L]||T[L]-T[O]),I}addToSortKeyRanges(t,a){const p=this.sortKeyRanges[this.sortKeyRanges.length-1];p&&p.sortKey===a?p.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:a,symbolInstanceStart:t,symbolInstanceEnd:t+1})}sortFeatures(t){if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const a of this.symbolInstanceIndexes){const p=this.symbolInstances.get(a);this.featureSortOrder.push(p.featureIndex),[p.rightJustifiedTextSymbolIndex,p.centerJustifiedTextSymbolIndex,p.leftJustifiedTextSymbolIndex].forEach((x,T,I)=>{x>=0&&I.indexOf(x)===T&&this.addIndicesForPlacedSymbol(this.text,x)}),p.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,p.verticalPlacedTextSymbolIndex),p.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,p.placedIconSymbolIndex),p.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,p.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let oh,Jl;Ni("SymbolBucket",bc,{omit:["layers","collisionBoxArray","features","compareText"]}),bc.MAX_GLYPHS=65535,bc.addDynamicAttributes=Hc;var sh={get paint(){return Jl=Jl||new Io({"icon-opacity":new gi(Ee.paint_symbol["icon-opacity"]),"icon-color":new gi(Ee.paint_symbol["icon-color"]),"icon-halo-color":new gi(Ee.paint_symbol["icon-halo-color"]),"icon-halo-width":new gi(Ee.paint_symbol["icon-halo-width"]),"icon-halo-blur":new gi(Ee.paint_symbol["icon-halo-blur"]),"icon-translate":new wt(Ee.paint_symbol["icon-translate"]),"icon-translate-anchor":new wt(Ee.paint_symbol["icon-translate-anchor"]),"text-opacity":new gi(Ee.paint_symbol["text-opacity"]),"text-color":new gi(Ee.paint_symbol["text-color"],{runtimeType:xt,getOverride:o=>o.textColor,hasOverride:o=>!!o.textColor}),"text-halo-color":new gi(Ee.paint_symbol["text-halo-color"]),"text-halo-width":new gi(Ee.paint_symbol["text-halo-width"]),"text-halo-blur":new gi(Ee.paint_symbol["text-halo-blur"]),"text-translate":new wt(Ee.paint_symbol["text-translate"]),"text-translate-anchor":new wt(Ee.paint_symbol["text-translate-anchor"])})},get layout(){return oh=oh||new Io({"symbol-placement":new wt(Ee.layout_symbol["symbol-placement"]),"symbol-spacing":new wt(Ee.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new wt(Ee.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new gi(Ee.layout_symbol["symbol-sort-key"]),"symbol-z-order":new wt(Ee.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new wt(Ee.layout_symbol["icon-allow-overlap"]),"icon-overlap":new wt(Ee.layout_symbol["icon-overlap"]),"icon-ignore-placement":new wt(Ee.layout_symbol["icon-ignore-placement"]),"icon-optional":new wt(Ee.layout_symbol["icon-optional"]),"icon-rotation-alignment":new wt(Ee.layout_symbol["icon-rotation-alignment"]),"icon-size":new gi(Ee.layout_symbol["icon-size"]),"icon-text-fit":new wt(Ee.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new wt(Ee.layout_symbol["icon-text-fit-padding"]),"icon-image":new gi(Ee.layout_symbol["icon-image"]),"icon-rotate":new gi(Ee.layout_symbol["icon-rotate"]),"icon-padding":new gi(Ee.layout_symbol["icon-padding"]),"icon-keep-upright":new wt(Ee.layout_symbol["icon-keep-upright"]),"icon-offset":new gi(Ee.layout_symbol["icon-offset"]),"icon-anchor":new gi(Ee.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new wt(Ee.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new wt(Ee.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new wt(Ee.layout_symbol["text-rotation-alignment"]),"text-field":new gi(Ee.layout_symbol["text-field"]),"text-font":new gi(Ee.layout_symbol["text-font"]),"text-size":new gi(Ee.layout_symbol["text-size"]),"text-max-width":new gi(Ee.layout_symbol["text-max-width"]),"text-line-height":new wt(Ee.layout_symbol["text-line-height"]),"text-letter-spacing":new gi(Ee.layout_symbol["text-letter-spacing"]),"text-justify":new gi(Ee.layout_symbol["text-justify"]),"text-radial-offset":new gi(Ee.layout_symbol["text-radial-offset"]),"text-variable-anchor":new wt(Ee.layout_symbol["text-variable-anchor"]),"text-anchor":new gi(Ee.layout_symbol["text-anchor"]),"text-max-angle":new wt(Ee.layout_symbol["text-max-angle"]),"text-writing-mode":new wt(Ee.layout_symbol["text-writing-mode"]),"text-rotate":new gi(Ee.layout_symbol["text-rotate"]),"text-padding":new wt(Ee.layout_symbol["text-padding"]),"text-keep-upright":new wt(Ee.layout_symbol["text-keep-upright"]),"text-transform":new gi(Ee.layout_symbol["text-transform"]),"text-offset":new gi(Ee.layout_symbol["text-offset"]),"text-allow-overlap":new wt(Ee.layout_symbol["text-allow-overlap"]),"text-overlap":new wt(Ee.layout_symbol["text-overlap"]),"text-ignore-placement":new wt(Ee.layout_symbol["text-ignore-placement"]),"text-optional":new wt(Ee.layout_symbol["text-optional"])})}};class Sp{constructor(t){if(void 0===t.property.overrides)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=t.property.overrides?t.property.overrides.runtimeType:Pe,this.defaultValue=t}evaluate(t){if(t.formattedSection){const a=this.defaultValue.property.overrides;if(a&&a.hasOverride(t.formattedSection))return a.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default}eachChild(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Ni("FormatSectionOverride",Sp,{omit:["defaultValue"]});class ah extends Ao{constructor(t){super(t,sh)}recalculate(t,a){if(super.recalculate(t,a),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]="map"===this.layout.get("text-rotation-alignment")?"map":"viewport"),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){const p=this.layout.get("text-writing-mode");if(p){const x=[];for(const T of p)x.indexOf(T)<0&&x.push(T);this.layout._values["text-writing-mode"]=x}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(t,a,p,x){const T=this.layout.get(t).evaluate(a,{},p,x),I=this._unevaluatedLayout._values[t];return I.isDataDriven()||sl(I.value)||!T?T:(O=a.properties,T.replace(/{([^{}]+)}/g,(Z,K)=>K in O?String(O[K]):""));var O}createBucket(t){return new bc(t)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const t of sh.paint.overridableProperties){if(!ah.hasPaintOverride(this.layout,t))continue;const a=this.paint.get(t),p=new Sp(a),x=new Ul(p,a.property.specification);let T=null;T="constant"===a.value.kind||"source"===a.value.kind?new Bi("source",x):new jl("composite",x,a.value.zoomStops),this.paint._values[t]=new _a(a.property,T,a.parameters)}}_handleOverridablePaintPropertyUpdate(t,a,p){return!(!this.layout||a.isDataDriven()||p.isDataDriven())&&ah.hasPaintOverride(this.layout,t)}static hasPaintOverride(t,a){const p=t.get("text-field"),x=sh.paint.properties[a];let T=!1;const I=O=>{for(const L of O)if(x.overrides&&x.overrides.hasOverride(L))return void(T=!0)};if("constant"===p.value.kind&&p.value.value instanceof bn)I(p.value.value.sections);else if("source"===p.value.kind){const O=Z=>{T||(Z instanceof io&&kn(Z.value)===pi?I(Z.value.sections):Z instanceof us?I(Z.sections):Z.eachChild(O))},L=p.value;L._styleExpression&&O(L._styleExpression.expression)}return T}}let Tp;var ig={get paint(){return Tp=Tp||new Io({"background-color":new wt(Ee.paint_background["background-color"]),"background-pattern":new Ws(Ee.paint_background["background-pattern"]),"background-opacity":new wt(Ee.paint_background["background-opacity"])})}};class Ql extends Ao{constructor(t){super(t,ig)}}let La;var tu={get paint(){return La=La||new Io({"raster-opacity":new wt(Ee.paint_raster["raster-opacity"]),"raster-hue-rotate":new wt(Ee.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new wt(Ee.paint_raster["raster-brightness-min"]),"raster-brightness-max":new wt(Ee.paint_raster["raster-brightness-max"]),"raster-saturation":new wt(Ee.paint_raster["raster-saturation"]),"raster-contrast":new wt(Ee.paint_raster["raster-contrast"]),"raster-resampling":new wt(Ee.paint_raster["raster-resampling"]),"raster-fade-duration":new wt(Ee.paint_raster["raster-fade-duration"])})}};class ng extends Ao{constructor(t){super(t,tu)}}class Ip extends Ao{constructor(t){super(t,{}),this.onAdd=a=>{this.implementation.onAdd&&this.implementation.onAdd(a,a.painter.context.gl)},this.onRemove=a=>{this.implementation.onRemove&&this.implementation.onRemove(a,a.painter.context.gl)},this.implementation=t}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class Ap{constructor(t){this._callback=t,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const xd=6371008.8;class xc{constructor(t,a){if(isNaN(t)||isNaN(a))throw new Error(`Invalid LngLat object: (${t}, ${a})`);if(this.lng=+t,this.lat=+a,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new xc(ct(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(t){const a=Math.PI/180,p=this.lat*a,x=t.lat*a,T=Math.sin(p)*Math.sin(x)+Math.cos(p)*Math.cos(x)*Math.cos((t.lng-this.lng)*a);return xd*Math.acos(Math.min(T,1))}static convert(t){if(t instanceof xc)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new xc(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new xc(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const lh=2*Math.PI*xd;function kp(o){return lh*Math.cos(o*Math.PI/180)}function Pp(o){return(180+o)/360}function gm(o){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o*Math.PI/360)))/360}function _m(o,t){return o/kp(t)}function wd(o){return 360/Math.PI*Math.atan(Math.exp((180-360*o)*Math.PI/180))-90}class Xa{constructor(t,a,p=0){this.x=+t,this.y=+a,this.z=+p}static fromLngLat(t,a=0){const p=xc.convert(t);return new Xa(Pp(p.lng),gm(p.lat),_m(a,p.lat))}toLngLat(){return new xc(360*this.x-180,wd(this.y))}toAltitude(){return this.z*kp(wd(this.y))}meterInMercatorCoordinateUnits(){return 1/lh*(t=wd(this.y),1/Math.cos(t*Math.PI/180));var t}}function Cd(o,t,a){var p=2*Math.PI*6378137/256/Math.pow(2,a);return[o*p-2*Math.PI*6378137/2,t*p-2*Math.PI*6378137/2]}class ch{constructor(t,a,p){if(t<0||t>25||p<0||p>=Math.pow(2,t)||a<0||a>=Math.pow(2,t))throw new Error(`x=${a}, y=${p}, z=${t} outside of bounds. 0<=x<${Math.pow(2,t)}, 0<=y<${Math.pow(2,t)} 0<=z<=25 `);this.z=t,this.x=a,this.y=p,this.key=dh(0,t,t,a,p)}equals(t){return this.z===t.z&&this.x===t.x&&this.y===t.y}url(t,a,p){const x=(I=this.y,O=this.z,L=Cd(256*(T=this.x),256*(I=Math.pow(2,O)-I-1),O),Z=Cd(256*(T+1),256*(I+1),O),L[0]+","+L[1]+","+Z[0]+","+Z[1]);var T,I,O,L,Z;const K=function(te,ce,pe){let be,Ne="";for(let We=te;We>0;We--)be=1<<We-1,Ne+=(ce&be?1:0)+(pe&be?2:0);return Ne}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===p?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,a>1?"@2x":"").replace(/{quadkey}/g,K).replace(/{bbox-epsg-3857}/g,x)}isChildOf(t){const a=this.z-t.z;return a>0&&t.x===this.x>>a&&t.y===this.y>>a}getTilePoint(t){const a=Math.pow(2,this.z);return new Oe((t.x*a-this.x)*Vr,(t.y*a-this.y)*Vr)}toString(){return`${this.z}/${this.x}/${this.y}`}}class ym{constructor(t,a){this.wrap=t,this.canonical=a,this.key=dh(t,a.z,a.z,a.x,a.y)}}class la{constructor(t,a,p,x,T){if(t<p)throw new Error(`overscaledZ should be >= z; overscaledZ = ${t}; z = ${p}`);this.overscaledZ=t,this.wrap=a,this.canonical=new ch(p,+x,+T),this.key=dh(a,t,p,x,T)}clone(){return new la(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)}scaledTo(t){if(t>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${t}; overscaledZ = ${this.overscaledZ}`);const a=this.canonical.z-t;return t>this.canonical.z?new la(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new la(t,this.wrap,t,this.canonical.x>>a,this.canonical.y>>a)}calculateScaledKey(t,a){if(t>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${t}; overscaledZ = ${this.overscaledZ}`);const p=this.canonical.z-t;return t>this.canonical.z?dh(this.wrap*+a,t,this.canonical.z,this.canonical.x,this.canonical.y):dh(this.wrap*+a,t,t,this.canonical.x>>p,this.canonical.y>>p)}isChildOf(t){if(t.wrap!==this.wrap)return!1;const a=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>a&&t.canonical.y===this.canonical.y>>a}children(t){if(this.overscaledZ>=t)return[new la(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const a=this.canonical.z+1,p=2*this.canonical.x,x=2*this.canonical.y;return[new la(a,this.wrap,a,p,x),new la(a,this.wrap,a,p+1,x),new la(a,this.wrap,a,p,x+1),new la(a,this.wrap,a,p+1,x+1)]}isLessThan(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))}wrapped(){return new la(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(t){return new la(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new ym(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(t){return this.canonical.getTilePoint(new Xa(t.x-this.wrap,t.y))}}function dh(o,t,a,p,x){(o*=2)<0&&(o=-1*o-1);const T=1<<a;return(T*T*o+T*x+p).toString(36)+a.toString(36)+t.toString(36)}Ni("CanonicalTileID",ch),Ni("OverscaledTileID",la,{omit:["posMatrix"]});class rg{constructor(t,a,p){if(this.uid=t,a.height!==a.width)throw new RangeError("DEM tiles must be square");if(p&&"mapbox"!==p&&"terrarium"!==p)return void Ue(`"${p}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=a.height;const x=this.dim=a.height-2;this.data=new Uint32Array(a.data.buffer),this.encoding=p||"mapbox";for(let T=0;T<x;T++)this.data[this._idx(-1,T)]=this.data[this._idx(0,T)],this.data[this._idx(x,T)]=this.data[this._idx(x-1,T)],this.data[this._idx(T,-1)]=this.data[this._idx(T,0)],this.data[this._idx(T,x)]=this.data[this._idx(T,x-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(x,-1)]=this.data[this._idx(x-1,0)],this.data[this._idx(-1,x)]=this.data[this._idx(0,x-1)],this.data[this._idx(x,x)]=this.data[this._idx(x-1,x-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let T=0;T<x;T++)for(let I=0;I<x;I++){const O=this.get(T,I);O>this.max&&(this.max=O),O<this.min&&(this.min=O)}}get(t,a){const p=new Uint8Array(this.data.buffer),x=4*this._idx(t,a);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(p[x],p[x+1],p[x+2])}getUnpackVector(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]}_idx(t,a){if(t<-1||t>=this.dim+1||a<-1||a>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(a+1)*this.stride+(t+1)}_unpackMapbox(t,a,p){return(256*t*256+256*a+p)/10-1e4}_unpackTerrarium(t,a,p){return 256*t+a+p/256-32768}getPixels(){return new so({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(t,a,p){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");let x=a*this.dim,T=a*this.dim+this.dim,I=p*this.dim,O=p*this.dim+this.dim;switch(a){case-1:x=T-1;break;case 1:T=x+1}switch(p){case-1:I=O-1;break;case 1:O=I+1}const L=-a*this.dim,Z=-p*this.dim;for(let K=I;K<O;K++)for(let te=x;te<T;te++)this.data[this._idx(te,K)]=t.data[this._idx(te+L,K+Z)]}}Ni("DEMData",rg);class og{constructor(t){this._stringToNumber={},this._numberToString=[];for(let a=0;a<t.length;a++){const p=t[a];this._stringToNumber[p]=a,this._numberToString[a]=p}}encode(t){return this._stringToNumber[t]}decode(t){if(t>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${t} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[t]}}class iu{constructor(t,a,p,x,T){this.type="Feature",this._vectorTileFeature=t,t._z=a,t._x=p,t._y=x,this.properties=t.properties,this.id=T}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(t){this._geometry=t}toJSON(){const t={geometry:this.geometry};for(const a in this)"_geometry"!==a&&"_vectorTileFeature"!==a&&(t[a]=this[a]);return t}}class uh{constructor(t,a){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new Zl(Vr,16,0),this.grid3D=new Zl(Vr,16,0),this.featureIndexArray=new z,this.promoteId=a}insert(t,a,p,x,T,I){const O=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(p,x,T);const L=I?this.grid3D:this.grid;for(let Z=0;Z<a.length;Z++){const K=a[Z],te=[1/0,1/0,-1/0,-1/0];for(let ce=0;ce<K.length;ce++){const pe=K[ce];te[0]=Math.min(te[0],pe.x),te[1]=Math.min(te[1],pe.y),te[2]=Math.max(te[2],pe.x),te[3]=Math.max(te[3],pe.y)}te[0]<Vr&&te[1]<Vr&&te[2]>=0&&te[3]>=0&&L.insert(O,te[0],te[1],te[2],te[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new mc.VectorTile(new Ku(this.rawTileData)).layers,this.sourceLayerCoder=new og(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(t,a,p,x){this.loadVTLayers();const T=t.params||{},I=Vr/t.tileSize/t.scale,O=W(T.filter),L=t.queryGeometry,Z=t.queryPadding*I,K=ag(L),te=this.grid.query(K.minX-Z,K.minY-Z,K.maxX+Z,K.maxY+Z),ce=ag(t.cameraQueryGeometry),pe=this.grid3D.query(ce.minX-Z,ce.minY-Z,ce.maxX+Z,ce.maxY+Z,(We,tt,_t,st)=>function(St,Rt,ei,Ri,Li){for(const Ci of St)if(Rt<=Ci.x&&ei<=Ci.y&&Ri>=Ci.x&&Li>=Ci.y)return!0;const Pi=[new Oe(Rt,ei),new Oe(Rt,Li),new Oe(Ri,Li),new Oe(Ri,ei)];if(St.length>2)for(const Ci of Pi)if(Fd(St,Ci))return!0;for(let Ci=0;Ci<St.length-1;Ci++)if(Ff(St[Ci],St[Ci+1],Pi))return!0;return!1}(t.cameraQueryGeometry,We-Z,tt-Z,_t+Z,st+Z));for(const We of pe)te.push(We);te.sort(Op);const be={};let Ne;for(let We=0;We<te.length;We++){const tt=te[We];if(tt===Ne)continue;Ne=tt;const _t=this.featureIndexArray.get(tt);let st=null;this.loadMatchingFeature(be,_t.bucketIndex,_t.sourceLayerIndex,_t.featureIndex,O,T.layers,T.availableImages,a,p,x,(St,Rt,ei)=>(st||(st=Xs(St)),Rt.queryIntersectsFeature(L,St,ei,st,this.z,t.transform,I,t.pixelPosMatrix)))}return be}loadMatchingFeature(t,a,p,x,T,I,O,L,Z,K,te){const ce=this.bucketLayerIDs[a];if(I&&!function(We,tt){for(let _t=0;_t<We.length;_t++)if(tt.indexOf(We[_t])>=0)return!0;return!1}(I,ce))return;const pe=this.sourceLayerCoder.decode(p),be=this.vtLayers[pe].feature(x);if(T.needGeometry){const We=kc(be,!0);if(!T.filter(new nr(this.tileID.overscaledZ),We,this.tileID.canonical))return}else if(!T.filter(new nr(this.tileID.overscaledZ),be))return;const Ne=this.getId(be,pe);for(let We=0;We<ce.length;We++){const tt=ce[We];if(I&&I.indexOf(tt)<0)continue;const _t=L[tt];if(!_t)continue;let st={};Ne&&K&&(st=K.getState(_t.sourceLayer||"_geojsonTileLayer",Ne));const St=bt({},Z[tt]);St.paint=sg(St.paint,_t.paint,be,st,O),St.layout=sg(St.layout,_t.layout,be,st,O);const Rt=!te||te(be,_t,st);if(!Rt)continue;const ei=new iu(be,this.z,this.x,this.y,Ne);ei.layer=St;let Ri=t[tt];void 0===Ri&&(Ri=t[tt]=[]),Ri.push({featureIndex:x,feature:ei,intersectionZ:Rt})}}lookupSymbolFeatures(t,a,p,x,T,I,O,L){const Z={};this.loadVTLayers();const K=W(T);for(const te of t)this.loadMatchingFeature(Z,p,x,te,K,I,O,L,a);return Z}hasLayer(t){for(const a of this.bucketLayerIDs)for(const p of a)if(t===p)return!0;return!1}getId(t,a){let p=t.id;return this.promoteId&&(p=t.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[a]],"boolean"==typeof p&&(p=Number(p))),p}}function sg(o,t,a,p,x){return oi(o,(T,I)=>{const O=t instanceof is?t.get(I):null;return O&&O.evaluate?O.evaluate(a,p,x):O})}function ag(o){let t=1/0,a=1/0,p=-1/0,x=-1/0;for(const T of o)t=Math.min(t,T.x),a=Math.min(a,T.y),p=Math.max(p,T.x),x=Math.max(x,T.y);return{minX:t,minY:a,maxX:p,maxY:x}}function Op(o,t){return t-o}function hh(o,t,a,p,x){const T=[];for(let I=0;I<o.length;I++){const O=o[I];let L;for(let Z=0;Z<O.length-1;Z++){let K=O[Z],te=O[Z+1];K.x<t&&te.x<t||(K.x<t?K=new Oe(t,K.y+(t-K.x)/(te.x-K.x)*(te.y-K.y))._round():te.x<t&&(te=new Oe(t,K.y+(t-K.x)/(te.x-K.x)*(te.y-K.y))._round()),K.y<a&&te.y<a||(K.y<a?K=new Oe(K.x+(a-K.y)/(te.y-K.y)*(te.x-K.x),a)._round():te.y<a&&(te=new Oe(K.x+(a-K.y)/(te.y-K.y)*(te.x-K.x),a)._round()),K.x>=p&&te.x>=p||(K.x>=p?K=new Oe(p,K.y+(p-K.x)/(te.x-K.x)*(te.y-K.y))._round():te.x>=p&&(te=new Oe(p,K.y+(p-K.x)/(te.x-K.x)*(te.y-K.y))._round()),K.y>=x&&te.y>=x||(K.y>=x?K=new Oe(K.x+(x-K.y)/(te.y-K.y)*(te.x-K.x),x)._round():te.y>=x&&(te=new Oe(K.x+(x-K.y)/(te.y-K.y)*(te.x-K.x),x)._round()),L&&K.equals(L[L.length-1])||(L=[K],T.push(L)),L.push(te)))))}}return T}Ni("FeatureIndex",uh,{omit:["rawTileData","sourceLayerCoder"]});class wc extends Oe{constructor(t,a,p,x){super(t,a),this.angle=p,void 0!==x&&(this.segment=x)}clone(){return new wc(this.x,this.y,this.angle,this.segment)}}function Rp(o,t,a,p,x){if(void 0===t.segment||0===a)return!0;let T=t,I=t.segment+1,O=0;for(;O>-a/2;){if(I--,I<0)return!1;O-=o[I].dist(T),T=o[I]}O+=o[I].dist(o[I+1]),I++;const L=[];let Z=0;for(;O<a/2;){const K=o[I],te=o[I+1];if(!te)return!1;let ce=o[I-1].angleTo(K)-K.angleTo(te);for(ce=Math.abs((ce+3*Math.PI)%(2*Math.PI)-Math.PI),L.push({distance:O,angleDelta:ce}),Z+=ce;O-L[0].distance>p;)Z-=L.shift().angleDelta;if(Z>x)return!1;I++,O+=K.dist(te)}return!0}function Fp(o){let t=0;for(let a=0;a<o.length-1;a++)t+=o[a].dist(o[a+1]);return t}function nu(o,t,a){return o?.6*t*a:0}function ru(o,t){return Math.max(o?o.right-o.left:0,t?t.right-t.left:0)}function mh(o,t,a,p,x,T){const I=nu(a,x,T),O=ru(a,p)*T;let L=0;const Z=Fp(o)/2;for(let K=0;K<o.length-1;K++){const te=o[K],ce=o[K+1],pe=te.dist(ce);if(L+pe>Z){const be=(Z-L)/pe,Ne=zr.number(te.x,ce.x,be),We=zr.number(te.y,ce.y,be),tt=new wc(Ne,We,ce.angleTo(te),K);return tt._round(),!I||Rp(o,tt,O,I,t)?tt:void 0}L+=pe}}function vm(o,t,a,p,x,T,I,O,L){const Z=nu(p,T,I),K=ru(p,x),te=K*I,ce=0===o[0].x||o[0].x===L||0===o[0].y||o[0].y===L;return t-te<t/4&&(t=te+t/4),Lp(o,ce?t/2*O%t:(K/2+2*T)*I*O%t,t,Z,a,te,ce,!1,L)}function Lp(o,t,a,p,x,T,I,O,L){const Z=T/2,K=Fp(o);let te=0,ce=t-a,pe=[];for(let be=0;be<o.length-1;be++){const Ne=o[be],We=o[be+1],tt=Ne.dist(We),_t=We.angleTo(Ne);for(;ce+a<te+tt;){ce+=a;const st=(ce-te)/tt,St=zr.number(Ne.x,We.x,st),Rt=zr.number(Ne.y,We.y,st);if(St>=0&&St<L&&Rt>=0&&Rt<L&&ce-Z>=0&&ce+Z<=K){const ei=new wc(St,Rt,_t,be);ei._round(),p&&!Rp(o,ei,T,p,x)||pe.push(ei)}}te+=tt}return O||pe.length||I||(pe=Lp(o,te/2,a,p,x,T,I,!0,L)),pe}Ni("Anchor",wc);const Qr=Qs;function bm(o,t,a,p){const x=[],T=o.image,I=T.pixelRatio,O=T.paddedRect.w-2*Qr,L=T.paddedRect.h-2*Qr,Z=o.right-o.left,K=o.bottom-o.top,te=T.stretchX||[[0,O]],ce=T.stretchY||[[0,L]],pe=(xi,Ii)=>xi+Ii[1]-Ii[0],be=te.reduce(pe,0),Ne=ce.reduce(pe,0),We=O-be,tt=L-Ne;let _t=0,st=be,St=0,Rt=Ne,ei=0,Ri=We,Li=0,Pi=tt;if(T.content&&p){const xi=T.content;_t=ph(te,0,xi[0]),St=ph(ce,0,xi[1]),st=ph(te,xi[0],xi[2]),Rt=ph(ce,xi[1],xi[3]),ei=xi[0]-_t,Li=xi[1]-St,Ri=xi[2]-xi[0]-st,Pi=xi[3]-xi[1]-Rt}const Ci=(xi,Ii,Mi,hi)=>{const Xi=ou(xi.stretch-_t,st,Z,o.left),Zi=fh(xi.fixed-ei,Ri,xi.stretch,be),Dn=ou(Ii.stretch-St,Rt,K,o.top),Ir=fh(Ii.fixed-Li,Pi,Ii.stretch,Ne),Fr=ou(Mi.stretch-_t,st,Z,o.left),go=fh(Mi.fixed-ei,Ri,Mi.stretch,be),ba=ou(hi.stretch-St,Rt,K,o.top),rs=fh(hi.fixed-Li,Pi,hi.stretch,Ne),eo=new Oe(Xi,Dn),Oo=new Oe(Fr,Dn),os=new Oe(Fr,ba),ca=new Oe(Xi,ba),Ss=new Oe(Zi/I,Ir/I),Mo=new Oe(go/I,rs/I),Vo=t*Math.PI/180;if(Vo){const ua=Math.sin(Vo),gs=Math.cos(Vo),to=[gs,-ua,ua,gs];eo._matMult(to),Oo._matMult(to),ca._matMult(to),os._matMult(to)}const Ts=xi.stretch+xi.fixed,da=Ii.stretch+Ii.fixed;return{tl:eo,tr:Oo,bl:ca,br:os,tex:{x:T.paddedRect.x+Qr+Ts,y:T.paddedRect.y+Qr+da,w:Mi.stretch+Mi.fixed-Ts,h:hi.stretch+hi.fixed-da},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Ss,pixelOffsetBR:Mo,minFontScaleX:Ri/I/Z,minFontScaleY:Pi/I/K,isSDF:a}};if(p&&(T.stretchX||T.stretchY)){const xi=xm(te,We,be),Ii=xm(ce,tt,Ne);for(let Mi=0;Mi<xi.length-1;Mi++){const hi=xi[Mi],Xi=xi[Mi+1];for(let Zi=0;Zi<Ii.length-1;Zi++)x.push(Ci(hi,Ii[Zi],Xi,Ii[Zi+1]))}}else x.push(Ci({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:O+1},{fixed:0,stretch:L+1}));return x}function ph(o,t,a){let p=0;for(const x of o)p+=Math.max(t,Math.min(a,x[1]))-Math.max(t,Math.min(a,x[0]));return p}function xm(o,t,a){const p=[{fixed:-Qr,stretch:0}];for(const[x,T]of o){const I=p[p.length-1];p.push({fixed:x-I.stretch,stretch:I.stretch}),p.push({fixed:x-I.stretch,stretch:I.stretch+(T-x)})}return p.push({fixed:t+Qr,stretch:a}),p}function ou(o,t,a,p){return o/t*a+p}function fh(o,t,a,p){return o-t*a/p}class gh{constructor(t,a,p,x,T,I,O,L,Z,K){if(this.boxStartIndex=t.length,Z){let te=I.top,ce=I.bottom;const pe=I.collisionPadding;pe&&(te-=pe[1],ce+=pe[3]);let be=ce-te;be>0&&(be=Math.max(10,be),this.circleDiameter=be)}else{let te=I.top*O-L[0],ce=I.bottom*O+L[2],pe=I.left*O-L[3],be=I.right*O+L[1];const Ne=I.collisionPadding;if(Ne&&(pe-=Ne[0]*O,te-=Ne[1]*O,be+=Ne[2]*O,ce+=Ne[3]*O),K){const We=new Oe(pe,te),tt=new Oe(be,te),_t=new Oe(pe,ce),st=new Oe(be,ce),St=K*Math.PI/180;We._rotate(St),tt._rotate(St),_t._rotate(St),st._rotate(St),pe=Math.min(We.x,tt.x,_t.x,st.x),be=Math.max(We.x,tt.x,_t.x,st.x),te=Math.min(We.y,tt.y,_t.y,st.y),ce=Math.max(We.y,tt.y,_t.y,st.y)}t.emplaceBack(a.x,a.y,pe,te,be,ce,p,x,T)}this.boxEndIndex=t.length}}class lg{constructor(t=[],a=cg){if(this.data=t,this.length=this.data.length,this.compare=a,this.length>0)for(let p=(this.length>>1)-1;p>=0;p--)this._down(p)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const t=this.data[0],a=this.data.pop();return this.length--,this.length>0&&(this.data[0]=a,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:a,compare:p}=this,x=a[t];for(;t>0;){const T=t-1>>1,I=a[T];if(p(x,I)>=0)break;a[t]=I,t=T}a[t]=x}_down(t){const{data:a,compare:p}=this,x=this.length>>1,T=a[t];for(;t<x;){let I=1+(t<<1),O=a[I];const L=I+1;if(L<this.length&&p(a[L],O)<0&&(I=L,O=a[L]),p(O,T)>=0)break;a[t]=O,t=I}a[t]=T}}function cg(o,t){return o<t?-1:o>t?1:0}function wm(o,t=1,a=!1){let p=1/0,x=1/0,T=-1/0,I=-1/0;const O=o[0];for(let pe=0;pe<O.length;pe++){const be=O[pe];(!pe||be.x<p)&&(p=be.x),(!pe||be.y<x)&&(x=be.y),(!pe||be.x>T)&&(T=be.x),(!pe||be.y>I)&&(I=be.y)}const L=Math.min(T-p,I-x);let Z=L/2;const K=new lg([],dg);if(0===L)return new Oe(p,x);for(let pe=p;pe<T;pe+=L)for(let be=x;be<I;be+=L)K.push(new Ed(pe+Z,be+Z,Z,o));let te=function(pe){let be=0,Ne=0,We=0;const tt=pe[0];for(let _t=0,st=tt.length,St=st-1;_t<st;St=_t++){const Rt=tt[_t],ei=tt[St],Ri=Rt.x*ei.y-ei.x*Rt.y;Ne+=(Rt.x+ei.x)*Ri,We+=(Rt.y+ei.y)*Ri,be+=3*Ri}return new Ed(Ne/be,We/be,0,pe)}(o),ce=K.length;for(;K.length;){const pe=K.pop();(pe.d>te.d||!te.d)&&(te=pe,a&&console.log("found best %d after %d probes",Math.round(1e4*pe.d)/1e4,ce)),pe.max-te.d<=t||(Z=pe.h/2,K.push(new Ed(pe.p.x-Z,pe.p.y-Z,Z,o)),K.push(new Ed(pe.p.x+Z,pe.p.y-Z,Z,o)),K.push(new Ed(pe.p.x-Z,pe.p.y+Z,Z,o)),K.push(new Ed(pe.p.x+Z,pe.p.y+Z,Z,o)),ce+=4)}return a&&(console.log(`num probes: ${ce}`),console.log(`best distance: ${te.d}`)),te.p}function dg(o,t){return t.max-o.max}function Ed(o,t,a,p){this.p=new Oe(o,t),this.h=a,this.d=function(x,T){let I=!1,O=1/0;for(let L=0;L<T.length;L++){const Z=T[L];for(let K=0,te=Z.length,ce=te-1;K<te;ce=K++){const pe=Z[K],be=Z[ce];pe.y>x.y!=be.y>x.y&&x.x<(be.x-pe.x)*(x.y-pe.y)/(be.y-pe.y)+pe.x&&(I=!I),O=Math.min(O,Au(x,pe,be))}}return(I?1:-1)*Math.sqrt(O)}(this.p,p),this.max=this.d+this.h*Math.SQRT2}const $c=Number.POSITIVE_INFINITY;function Er(o,t){return t[1]!==$c?function(a,p,x){let T=0,I=0;switch(p=Math.abs(p),x=Math.abs(x),a){case"top-right":case"top-left":case"top":I=x-7;break;case"bottom-right":case"bottom-left":case"bottom":I=7-x}switch(a){case"top-right":case"bottom-right":case"right":T=-p;break;case"top-left":case"bottom-left":case"left":T=p}return[T,I]}(o,t[0],t[1]):function(a,p){let x=0,T=0;p<0&&(p=0);const I=p/Math.sqrt(2);switch(a){case"top-right":case"top-left":T=I-7;break;case"bottom-right":case"bottom-left":T=7-I;break;case"bottom":T=7-p;break;case"top":T=p-7}switch(a){case"top-right":case"bottom-right":x=-I;break;case"top-left":case"bottom-left":x=I;break;case"left":x=p;break;case"right":x=-p}return[x,T]}(o,t[0])}function Gc(o){switch(o){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Np(o,t,a,p,x,T,I,O,L,Z,K){let te=T.textMaxSize.evaluate(t,{});void 0===te&&(te=I);const ce=o.layers[0].layout,pe=ce.get("icon-offset").evaluate(t,{},K),be=Cm(a.horizontal),Ne=I/24,We=o.tilePixelRatio*Ne,tt=o.tilePixelRatio*te/24,_t=o.tilePixelRatio*O,st=o.tilePixelRatio*ce.get("symbol-spacing"),St=ce.get("text-padding")*o.tilePixelRatio,Rt=function(hi,Xi,Zi,Dn=1){const Ir=hi.get("icon-padding").evaluate(Xi,{},Zi),Fr=Ir&&Ir.values;return[Fr[0]*Dn,Fr[1]*Dn,Fr[2]*Dn,Fr[3]*Dn]}(ce,t,K,o.tilePixelRatio),ei=ce.get("text-max-angle")/180*Math.PI,Ri="viewport"!==ce.get("text-rotation-alignment")&&"point"!==ce.get("symbol-placement"),Li="map"===ce.get("icon-rotation-alignment")&&"point"!==ce.get("symbol-placement"),Pi=ce.get("symbol-placement"),Ci=st/2,xi=ce.get("icon-text-fit");let Ii;p&&"none"!==xi&&(o.allowVerticalPlacement&&a.vertical&&(Ii=eu(p,a.vertical,xi,ce.get("icon-text-fit-padding"),pe,Ne)),be&&(p=eu(p,be,xi,ce.get("icon-text-fit-padding"),pe,Ne)));const Mi=(hi,Xi)=>{Xi.x<0||Xi.x>=Vr||Xi.y<0||Xi.y>=Vr||function(Zi,Dn,Ir,Fr,go,ba,rs,eo,Oo,os,ca,Ss,Mo,Vo,Ts,da,ua,gs,to,_s,Fn,ea,Uo,Is,Na){const ml=Zi.addToLineVertexArray(Dn,Ir);let Ja,Cc,Qa,As,ks=0,xa=0,tc=0,Bp=0,wh=-1,Dm=-1;const Bl={};let Sm=ar(""),Ch=0,Tm=0;if(void 0===eo._unevaluatedLayout.getValue("text-radial-offset")?[Ch,Tm]=eo.layout.get("text-offset").evaluate(Fn,{},Is).map(ha=>ha*Bo):(Ch=eo.layout.get("text-radial-offset").evaluate(Fn,{},Is)*Bo,Tm=$c),Zi.allowVerticalPlacement&&Fr.vertical){const ha=eo.layout.get("text-rotate").evaluate(Fn,{},Is)+90;Qa=new gh(Oo,Dn,os,ca,Ss,Fr.vertical,Mo,Vo,Ts,ha),rs&&(As=new gh(Oo,Dn,os,ca,Ss,rs,ua,gs,Ts,ha))}if(go){const ha=eo.layout.get("icon-rotate").evaluate(Fn,{}),fl="none"!==eo.layout.get("icon-text-fit"),mu=bm(go,ha,Uo,fl),Sd=rs?bm(rs,ha,Uo,fl):void 0;Cc=new gh(Oo,Dn,os,ca,Ss,go,ua,gs,!1,ha),ks=4*mu.length;const Zc=Zi.iconSizeData;let ma=null;"source"===Zc.kind?(ma=[aa*eo.layout.get("icon-size").evaluate(Fn,{})],ma[0]>vc&&Ue(`${Zi.layerIds[0]}: Value for "icon-size" is >= ${jc}. Reduce your "icon-size".`)):"composite"===Zc.kind&&(ma=[aa*ea.compositeIconSizes[0].evaluate(Fn,{},Is),aa*ea.compositeIconSizes[1].evaluate(Fn,{},Is)],(ma[0]>vc||ma[1]>vc)&&Ue(`${Zi.layerIds[0]}: Value for "icon-size" is >= ${jc}. Reduce your "icon-size".`)),Zi.addSymbols(Zi.icon,mu,ma,_s,to,Fn,v.WritingMode.none,Dn,ml.lineStartIndex,ml.lineLength,-1,Is),wh=Zi.icon.placedSymbolArray.length-1,Sd&&(xa=4*Sd.length,Zi.addSymbols(Zi.icon,Sd,ma,_s,to,Fn,v.WritingMode.vertical,Dn,ml.lineStartIndex,ml.lineLength,-1,Is),Dm=Zi.icon.placedSymbolArray.length-1)}const Eh=Object.keys(Fr.horizontal);for(const ha of Eh){const fl=Fr.horizontal[ha];if(!Ja){Sm=ar(fl.text);const Sd=eo.layout.get("text-rotate").evaluate(Fn,{},Is);Ja=new gh(Oo,Dn,os,ca,Ss,fl,Mo,Vo,Ts,Sd)}const mu=1===fl.positionedLines.length;if(tc+=_h(Zi,Dn,fl,ba,eo,Ts,Fn,da,ml,Fr.vertical?v.WritingMode.horizontal:v.WritingMode.horizontalOnly,mu?Eh:[ha],Bl,wh,ea,Is),mu)break}Fr.vertical&&(Bp+=_h(Zi,Dn,Fr.vertical,ba,eo,Ts,Fn,da,ml,v.WritingMode.vertical,["vertical"],Bl,Dm,ea,Is));const hu=Ja?Ja.boxStartIndex:Zi.collisionBoxArray.length,Vp=Ja?Ja.boxEndIndex:Zi.collisionBoxArray.length,F_=Qa?Qa.boxStartIndex:Zi.collisionBoxArray.length,Im=Qa?Qa.boxEndIndex:Zi.collisionBoxArray.length,Dd=Cc?Cc.boxStartIndex:Zi.collisionBoxArray.length,Mh=Cc?Cc.boxEndIndex:Zi.collisionBoxArray.length,Up=As?As.boxStartIndex:Zi.collisionBoxArray.length,jp=As?As.boxEndIndex:Zi.collisionBoxArray.length;let pl=-1;const Dh=(ha,fl)=>ha&&ha.circleDiameter?Math.max(ha.circleDiameter,fl):fl;pl=Dh(Ja,pl),pl=Dh(Qa,pl),pl=Dh(Cc,pl),pl=Dh(As,pl);const Hp=pl>-1?1:0;Hp&&(pl*=Na/Bo),Zi.glyphOffsetArray.length>=bc.MAX_GLYPHS&&Ue("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==Fn.sortKey&&Zi.addToSortKeyRanges(Zi.symbolInstances.length,Fn.sortKey),Zi.symbolInstances.emplaceBack(Dn.x,Dn.y,Bl.right>=0?Bl.right:-1,Bl.center>=0?Bl.center:-1,Bl.left>=0?Bl.left:-1,Bl.vertical||-1,wh,Dm,Sm,hu,Vp,F_,Im,Dd,Mh,Up,jp,os,tc,Bp,ks,xa,Hp,0,Mo,Ch,Tm,pl)}(o,Xi,hi,a,p,x,Ii,o.layers[0],o.collisionBoxArray,t.index,t.sourceLayerIndex,o.index,We,[St,St,St,St],Ri,L,_t,Rt,Li,pe,t,T,Z,K,I)};if("line"===Pi)for(const hi of hh(t.geometry,0,0,Vr,Vr)){const Xi=vm(hi,st,ei,a.vertical||be,p,24,tt,o.overscaling,Vr);for(const Zi of Xi)be&&Em(o,be.text,Ci,Zi)||Mi(hi,Zi)}else if("line-center"===Pi){for(const hi of t.geometry)if(hi.length>1){const Xi=mh(hi,ei,a.vertical||be,p,24,tt);Xi&&Mi(hi,Xi)}}else if("Polygon"===t.type)for(const hi of lp(t.geometry,0)){const Xi=wm(hi,16);Mi(hi[0],new wc(Xi.x,Xi.y,0))}else if("LineString"===t.type)for(const hi of t.geometry)Mi(hi,new wc(hi[0].x,hi[0].y,0));else if("Point"===t.type)for(const hi of t.geometry)for(const Xi of hi)Mi([Xi],new wc(Xi.x,Xi.y,0))}function _h(o,t,a,p,x,T,I,O,L,Z,K,te,ce,pe,be){const Ne=function(_t,st,St,Rt,ei,Ri,Li,Pi){const Ci=Rt.layout.get("text-rotate").evaluate(Ri,{})*Math.PI/180,xi=[];for(const Ii of st.positionedLines)for(const Mi of Ii.positionedGlyphs){if(!Mi.rect)continue;const hi=Mi.rect||{};let Xi=dm+1,Zi=!0,Dn=1,Ir=0;const Fr=(ei||Pi)&&Mi.vertical,go=Mi.metrics.advance*Mi.scale/2;if(Pi&&st.verticalizable&&(Ir=Ii.lineOffset/2-(Mi.imageName?-(Bo-Mi.metrics.width*Mi.scale)/2:(Mi.scale-1)*Bo)),Mi.imageName){const to=Li[Mi.imageName];Zi=to.sdf,Dn=to.pixelRatio,Xi=Qs/Dn}const ba=ei?[Mi.x+go,Mi.y]:[0,0];let rs=ei?[0,0]:[Mi.x+go+St[0],Mi.y+St[1]-Ir],eo=[0,0];Fr&&(eo=rs,rs=[0,0]);const Oo=(Mi.metrics.left-Xi)*Mi.scale-go+rs[0],os=(-Mi.metrics.top-Xi)*Mi.scale+rs[1],ca=Oo+hi.w*Mi.scale/Dn,Ss=os+hi.h*Mi.scale/Dn,Mo=new Oe(Oo,os),Vo=new Oe(ca,os),Ts=new Oe(Oo,Ss),da=new Oe(ca,Ss);if(Fr){const to=new Oe(-go,go-yc),_s=-Math.PI/2,Fn=Bo/2-go,ea=new Oe(5-yc-Fn,-(Mi.imageName?Fn:0)),Uo=new Oe(...eo);Mo._rotateAround(_s,to)._add(ea)._add(Uo),Vo._rotateAround(_s,to)._add(ea)._add(Uo),Ts._rotateAround(_s,to)._add(ea)._add(Uo),da._rotateAround(_s,to)._add(ea)._add(Uo)}if(Ci){const to=Math.sin(Ci),_s=Math.cos(Ci),Fn=[_s,-to,to,_s];Mo._matMult(Fn),Vo._matMult(Fn),Ts._matMult(Fn),da._matMult(Fn)}const ua=new Oe(0,0),gs=new Oe(0,0);xi.push({tl:Mo,tr:Vo,bl:Ts,br:da,tex:hi,writingMode:st.writingMode,glyphOffset:ba,sectionIndex:Mi.sectionIndex,isSDF:Zi,pixelOffsetTL:ua,pixelOffsetBR:gs,minFontScaleX:0,minFontScaleY:0})}return xi}(0,a,O,x,T,I,p,o.allowVerticalPlacement),We=o.textSizeData;let tt=null;"source"===We.kind?(tt=[aa*x.layout.get("text-size").evaluate(I,{})],tt[0]>vc&&Ue(`${o.layerIds[0]}: Value for "text-size" is >= ${jc}. Reduce your "text-size".`)):"composite"===We.kind&&(tt=[aa*pe.compositeTextSizes[0].evaluate(I,{},be),aa*pe.compositeTextSizes[1].evaluate(I,{},be)],(tt[0]>vc||tt[1]>vc)&&Ue(`${o.layerIds[0]}: Value for "text-size" is >= ${jc}. Reduce your "text-size".`)),o.addSymbols(o.text,Ne,tt,O,T,I,Z,t,L.lineStartIndex,L.lineLength,ce,be);for(const _t of K)te[_t]=o.text.placedSymbolArray.length-1;return 4*Ne.length}function Cm(o){for(const t in o)return o[t];return null}function Em(o,t,a,p){const x=o.compareText;if(t in x){const T=x[t];for(let I=T.length-1;I>=0;I--)if(p.dist(T[I])<a)return!0}else x[t]=[];return x[t].push(p),!1}const su=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class yh{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[a,p]=new Uint8Array(t,0,2);if(219!==a)throw new Error("Data does not appear to be in a KDBush format.");const x=p>>4;if(1!==x)throw new Error(`Got v${x} data when expected v1.`);const T=su[15&p];if(!T)throw new Error("Unrecognized array type.");const[I]=new Uint16Array(t,2,1),[O]=new Uint32Array(t,4,1);return new yh(O,I,T,t)}constructor(t,a=64,p=Float64Array,x){if(isNaN(t)||t<0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+a,2),65535),this.ArrayType=p,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;const T=su.indexOf(this.ArrayType),I=2*t*this.ArrayType.BYTES_PER_ELEMENT,O=t*this.IndexArrayType.BYTES_PER_ELEMENT,L=(8-O%8)%8;if(T<0)throw new Error(`Unexpected typed array class: ${p}.`);x&&x instanceof ArrayBuffer?(this.data=x,this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+O+L,2*t),this._pos=2*t,this._finished=!0):(this.data=new ArrayBuffer(8+I+O+L),this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+O+L,2*t),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+T]),new Uint16Array(this.data,2,1)[0]=a,new Uint32Array(this.data,4,1)[0]=t)}add(t,a){const p=this._pos>>1;return this.ids[p]=p,this.coords[this._pos++]=t,this.coords[this._pos++]=a,p}finish(){const t=this._pos>>1;if(t!==this.numItems)throw new Error(`Added ${t} items when expected ${this.numItems}.`);return au(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,a,p,x){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:T,coords:I,nodeSize:O}=this,L=[0,T.length-1,0],Z=[];for(;L.length;){const K=L.pop()||0,te=L.pop()||0,ce=L.pop()||0;if(te-ce<=O){for(let We=ce;We<=te;We++){const tt=I[2*We],_t=I[2*We+1];tt>=t&&tt<=p&&_t>=a&&_t<=x&&Z.push(T[We])}continue}const pe=ce+te>>1,be=I[2*pe],Ne=I[2*pe+1];be>=t&&be<=p&&Ne>=a&&Ne<=x&&Z.push(T[pe]),(0===K?t<=be:a<=Ne)&&(L.push(ce),L.push(pe-1),L.push(1-K)),(0===K?p>=be:x>=Ne)&&(L.push(pe+1),L.push(te),L.push(1-K))}return Z}within(t,a,p){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:x,coords:T,nodeSize:I}=this,O=[0,x.length-1,0],L=[],Z=p*p;for(;O.length;){const K=O.pop()||0,te=O.pop()||0,ce=O.pop()||0;if(te-ce<=I){for(let We=ce;We<=te;We++)zp(T[2*We],T[2*We+1],t,a)<=Z&&L.push(x[We]);continue}const pe=ce+te>>1,be=T[2*pe],Ne=T[2*pe+1];zp(be,Ne,t,a)<=Z&&L.push(x[pe]),(0===K?t-p<=be:a-p<=Ne)&&(O.push(ce),O.push(pe-1),O.push(1-K)),(0===K?t+p>=be:a+p>=Ne)&&(O.push(pe+1),O.push(te),O.push(1-K))}return L}}function au(o,t,a,p,x,T){if(x-p<=a)return;const I=p+x>>1;vh(o,t,I,p,x,T),au(o,t,a,p,I-1,1-T),au(o,t,a,I+1,x,1-T)}function vh(o,t,a,p,x,T){for(;x>p;){if(x-p>600){const Z=x-p+1,K=a-p+1,te=Math.log(Z),ce=.5*Math.exp(2*te/3),pe=.5*Math.sqrt(te*ce*(Z-ce)/Z)*(K-Z/2<0?-1:1);vh(o,t,a,Math.max(p,Math.floor(a-K*ce/Z+pe)),Math.min(x,Math.floor(a+(Z-K)*ce/Z+pe)),T)}const I=t[2*a+T];let O=p,L=x;for(bh(o,t,p,a),t[2*x+T]>I&&bh(o,t,p,x);O<L;){for(bh(o,t,O,L),O++,L--;t[2*O+T]<I;)O++;for(;t[2*L+T]>I;)L--}t[2*p+T]===I?bh(o,t,p,L):(L++,bh(o,t,L,x)),L<=a&&(p=L+1),a<=L&&(x=L-1)}}function bh(o,t,a,p){lu(o,a,p),lu(t,2*a,2*p),lu(t,2*a+1,2*p+1)}function lu(o,t,a){const p=o[t];o[t]=o[a],o[a]=p}function zp(o,t,a,p){const x=o-a,T=t-p;return x*x+T*T}var cu;v.PerformanceMarkers=void 0,(cu=v.PerformanceMarkers||(v.PerformanceMarkers={})).create="create",cu.load="load",cu.fullLoad="fullLoad";let du=null,Md=[];const ec=1e3/60,Mm="loadTime",uu="fullLoadTime",xh={mark(o){performance.mark(o)},frame(o){const t=o;null!=du&&Md.push(t-du),du=t},clearMetrics(){du=null,Md=[],performance.clearMeasures(Mm),performance.clearMeasures(uu);for(const o in v.PerformanceMarkers)performance.clearMarks(v.PerformanceMarkers[o])},getPerformanceMetrics(){performance.measure(Mm,v.PerformanceMarkers.create,v.PerformanceMarkers.load),performance.measure(uu,v.PerformanceMarkers.create,v.PerformanceMarkers.fullLoad);const o=performance.getEntriesByName(Mm)[0].duration,t=performance.getEntriesByName(uu)[0].duration,a=Md.length,p=1/(Md.reduce((T,I)=>T+I,0)/a/1e3),x=Md.filter(T=>T>ec).reduce((T,I)=>T+(I-ec)/ec,0);return{loadTime:o,fullLoadTime:t,fps:p,percentDroppedFrames:x/(a+x)*100,totalFrames:a}}};v.AJAXError=jn,v.ARRAY_TYPE=Oc,v.Actor=class{constructor(o,t,a){this.receive=p=>{const x=p.data,T=x.id;if(T&&(!x.targetMapId||this.mapId===x.targetMapId))if("<cancel>"===x.type){delete this.tasks[T];const I=this.cancelCallbacks[T];delete this.cancelCallbacks[T],I&&I()}else Pt()||x.mustQueue?(this.tasks[T]=x,this.taskQueue.push(T),this.invoker.trigger()):this.processTask(T,x)},this.process=()=>{if(!this.taskQueue.length)return;const p=this.taskQueue.shift(),x=this.tasks[p];delete this.tasks[p],this.taskQueue.length&&this.invoker.trigger(),x&&this.processTask(p,x)},this.target=o,this.parent=t,this.mapId=a,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},this.invoker=new Ap(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=Pt()?o:window}send(o,t,a,p,x=!1){const T=Math.round(1e18*Math.random()).toString(36).substring(0,10);a&&(this.callbacks[T]=a);const I=ui(this.globalScope)?void 0:[];return this.target.postMessage({id:T,type:o,hasCallback:!!a,targetMapId:p,mustQueue:x,sourceMapId:this.mapId,data:Ml(t,I)},I),{cancel:()=>{a&&delete this.callbacks[T],this.target.postMessage({id:T,type:"<cancel>",targetMapId:p,sourceMapId:this.mapId})}}}processTask(o,t){if("<response>"===t.type){const a=this.callbacks[o];delete this.callbacks[o],a&&(t.error?a(Gs(t.error)):a(null,Gs(t.data)))}else{let a=!1;const p=ui(this.globalScope)?void 0:[],x=t.hasCallback?(O,L)=>{a=!0,delete this.cancelCallbacks[o],this.target.postMessage({id:o,type:"<response>",sourceMapId:this.mapId,error:O?Ml(O):null,data:Ml(L,p)},p)}:O=>{a=!0};let T=null;const I=Gs(t.data);if(this.parent[t.type])T=this.parent[t.type](t.sourceMapId,I,x);else if(this.parent.getWorkerSource){const O=t.type.split(".");T=this.parent.getWorkerSource(t.sourceMapId,O[0],I.source)[O[1]](I,x)}else x(new Error(`Could not find function ${t.type}`));!a&&T&&T.cancel&&(this.cancelCallbacks[o]=T.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},v.AlphaImage=Ru,v.CanonicalTileID=ch,v.CollisionBoxArray=w,v.CollisionCircleLayoutArray=class extends Ra{},v.Color=$t,v.DEMData=rg,v.DataConstantProperty=wt,v.DictionaryCoder=og,v.EXTENT=Vr,v.ErrorEvent=rt,v.EvaluationParameters=nr,v.Event=Be,v.Evented=ut,v.FeatureIndex=uh,v.FillBucket=cp,v.FillExtrusionBucket=Gu,v.GeoJSONFeature=iu,v.ImageAtlas=eh,v.ImagePosition=Qu,v.KDBush=yh,v.LineBucket=Zu,v.LineStripIndexArray=class extends i{},v.LngLat=xc,v.MercatorCoordinate=Xa,v.ONE_EM=Bo,v.OverscaledTileID=la,v.PerformanceUtils=xh,v.Point=Oe,v.Pos3dArray=class extends fs{},v.PosArray=ee,v.Properties=Io,v.Protobuf=Ku,v.QuadTriangleArray=class extends Il{},v.RGBAImage=so,v.RasterBoundsArray=class extends oa{},v.RequestPerformance=class{constructor(o){this._marks={start:[o.url,"start"].join("#"),end:[o.url,"end"].join("#"),measure:o.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let o=performance.getEntriesByName(this._marks.measure);return 0===o.length&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),o=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),o}},v.SegmentVector=bi,v.SymbolBucket=bc,v.Transitionable=Ka,v.TriangleIndexArray=Xt,v.Uniform1f=Fa,v.Uniform1i=class extends Jr{constructor(o,t){super(o,t),this.current=0}set(o){this.current!==o&&(this.current=o,this.gl.uniform1i(this.location,o))}},v.Uniform2f=class extends Jr{constructor(o,t){super(o,t),this.current=[0,0]}set(o){o[0]===this.current[0]&&o[1]===this.current[1]||(this.current=o,this.gl.uniform2f(this.location,o[0],o[1]))}},v.Uniform3f=class extends Jr{constructor(o,t){super(o,t),this.current=[0,0,0]}set(o){o[0]===this.current[0]&&o[1]===this.current[1]&&o[2]===this.current[2]||(this.current=o,this.gl.uniform3f(this.location,o[0],o[1],o[2]))}},v.Uniform4f=Pl,v.UniformColor=Wo,v.UniformMatrix4f=class extends Jr{constructor(o,t){super(o,t),this.current=po}set(o){if(o[12]!==this.current[12]||o[0]!==this.current[0])return this.current=o,void this.gl.uniformMatrix4fv(this.location,!1,o);for(let t=1;t<16;t++)if(o[t]!==this.current[t]){this.current=o,this.gl.uniformMatrix4fv(this.location,!1,o);break}}},v.UnwrappedTileID=ym,v.ValidationError=ii,v.ZoomHistory=_r,v.addDynamicAttributes=Hc,v.arrayBufferToImage=function(o,t){const a=new Image;a.onload=()=>{t(null,a),URL.revokeObjectURL(a.src),a.onload=null,window.requestAnimationFrame(()=>{a.src=Fi})},a.onerror=()=>t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const p=new Blob([new Uint8Array(o)],{type:"image/png"});a.src=o.byteLength?URL.createObjectURL(p):Fi},v.arrayBufferToImageBitmap=function(o,t){const a=new Blob([new Uint8Array(o)],{type:"image/png"});createImageBitmap(a).then(p=>{t(null,p)}).catch(p=>{t(new Error(`Could not load image because of ${p.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})},v.asyncAll=function(o,t,a){if(!o.length)return a(null,[]);let p=o.length;const x=new Array(o.length);let T=null;o.forEach((I,O)=>{t(I,(L,Z)=>{L&&(T=L),x[O]=Z,0==--p&&a(T,x)})})},v.bezier=Fe,v.browser=$n,v.clamp=Xe,v.clipLine=hh,v.clone=function(o){var t=new Oc(16);return t[0]=o[0],t[1]=o[1],t[2]=o[2],t[3]=o[3],t[4]=o[4],t[5]=o[5],t[6]=o[6],t[7]=o[7],t[8]=o[8],t[9]=o[9],t[10]=o[10],t[11]=o[11],t[12]=o[12],t[13]=o[13],t[14]=o[14],t[15]=o[15],t},v.clone$1=Yt,v.collisionCircleLayout=Yd,v.config=pn,v.copy=function(o,t){return o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3],o[4]=t[4],o[5]=t[5],o[6]=t[6],o[7]=t[7],o[8]=t[8],o[9]=t[9],o[10]=t[10],o[11]=t[11],o[12]=t[12],o[13]=t[13],o[14]=t[14],o[15]=t[15],o},v.create=function(){var o=new Oc(16);return Oc!=Float32Array&&(o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0),o[0]=1,o[5]=1,o[10]=1,o[15]=1,o},v.createExpression=Ia,v.createFilter=W,v.createLayout=Co,v.createStyleLayer=function(o){if("custom"===o.type)return new Ip(o);switch(o.type){case"background":return new Ql(o);case"circle":return new Ms(o);case"fill":return new P_(o);case"fill-extrusion":return new pp(o);case"heatmap":return new ld(o);case"hillshade":return new zf(o);case"line":return new vp(o);case"raster":return new ng(o);case"symbol":return new ah(o)}},v.deepEqual=function o(t,a){if(Array.isArray(t)){if(!Array.isArray(a)||t.length!==a.length)return!1;for(let p=0;p<t.length;p++)if(!o(t[p],a[p]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==a){if("object"!=typeof a||Object.keys(t).length!==Object.keys(a).length)return!1;for(const p in t)if(!o(t[p],a[p]))return!1;return!0}return t===a},v.defaultEasing=et,v.derefLayers=function(o){o=o.slice();const t=Object.create(null);for(let a=0;a<o.length;a++)t[o[a].id]=o[a];for(let a=0;a<o.length;a++)"ref"in o[a]&&(o[a]=Kt(o[a],t[o[a].ref]));return o},v.diffStyles=function(o,t){if(!o)return[{command:ri.setStyle,args:[t]}];let a=[];try{if(!Bt(o.version,t.version))return[{command:ri.setStyle,args:[t]}];Bt(o.center,t.center)||a.push({command:ri.setCenter,args:[t.center]}),Bt(o.zoom,t.zoom)||a.push({command:ri.setZoom,args:[t.zoom]}),Bt(o.bearing,t.bearing)||a.push({command:ri.setBearing,args:[t.bearing]}),Bt(o.pitch,t.pitch)||a.push({command:ri.setPitch,args:[t.pitch]}),Bt(o.sprite,t.sprite)||a.push({command:ri.setSprite,args:[t.sprite]}),Bt(o.glyphs,t.glyphs)||a.push({command:ri.setGlyphs,args:[t.glyphs]}),Bt(o.transition,t.transition)||a.push({command:ri.setTransition,args:[t.transition]}),Bt(o.light,t.light)||a.push({command:ri.setLight,args:[t.light]});const p={},x=[];!function(I,O,L,Z){let K;for(K in O=O||{},I=I||{})Object.prototype.hasOwnProperty.call(I,K)&&(Object.prototype.hasOwnProperty.call(O,K)||Dt(K,L,Z));for(K in O)Object.prototype.hasOwnProperty.call(O,K)&&(Object.prototype.hasOwnProperty.call(I,K)?Bt(I[K],O[K])||("geojson"===I[K].type&&"geojson"===O[K].type&&vn(I,O,K)?L.push({command:ri.setGeoJSONSourceData,args:[K,O[K].data]}):wi(K,O,L,Z)):ot(K,O,L))}(o.sources,t.sources,x,p);const T=[];o.layers&&o.layers.forEach(I=>{p[I.source]?a.push({command:ri.removeLayer,args:[I.id]}):T.push(I)}),a=a.concat(x),function(I,O,L){O=O||[];const Z=(I=I||[]).map(Nn),K=O.map(Nn),te=I.reduce(Cn,{}),ce=O.reduce(Cn,{}),pe=Z.slice(),be=Object.create(null);let Ne,We,tt,_t,st,St,Rt;for(Ne=0,We=0;Ne<Z.length;Ne++)tt=Z[Ne],Object.prototype.hasOwnProperty.call(ce,tt)?We++:(L.push({command:ri.removeLayer,args:[tt]}),pe.splice(pe.indexOf(tt,We),1));for(Ne=0,We=0;Ne<K.length;Ne++)tt=K[K.length-1-Ne],pe[pe.length-1-Ne]!==tt&&(Object.prototype.hasOwnProperty.call(te,tt)?(L.push({command:ri.removeLayer,args:[tt]}),pe.splice(pe.lastIndexOf(tt,pe.length-We),1)):We++,St=pe[pe.length-Ne],L.push({command:ri.addLayer,args:[ce[tt],St]}),pe.splice(pe.length-Ne,0,tt),be[tt]=!0);for(Ne=0;Ne<K.length;Ne++)if(tt=K[Ne],_t=te[tt],st=ce[tt],!be[tt]&&!Bt(_t,st))if(Bt(_t.source,st.source)&&Bt(_t["source-layer"],st["source-layer"])&&Bt(_t.type,st.type)){for(Rt in Wi(_t.layout,st.layout,L,tt,null,ri.setLayoutProperty),Wi(_t.paint,st.paint,L,tt,null,ri.setPaintProperty),Bt(_t.filter,st.filter)||L.push({command:ri.setFilter,args:[tt,st.filter]}),Bt(_t.minzoom,st.minzoom)&&Bt(_t.maxzoom,st.maxzoom)||L.push({command:ri.setLayerZoomRange,args:[tt,st.minzoom,st.maxzoom]}),_t)Object.prototype.hasOwnProperty.call(_t,Rt)&&"layout"!==Rt&&"paint"!==Rt&&"filter"!==Rt&&"metadata"!==Rt&&"minzoom"!==Rt&&"maxzoom"!==Rt&&(0===Rt.indexOf("paint.")?Wi(_t[Rt],st[Rt],L,tt,Rt.slice(6),ri.setPaintProperty):Bt(_t[Rt],st[Rt])||L.push({command:ri.setLayerProperty,args:[tt,Rt,st[Rt]]}));for(Rt in st)Object.prototype.hasOwnProperty.call(st,Rt)&&!Object.prototype.hasOwnProperty.call(_t,Rt)&&"layout"!==Rt&&"paint"!==Rt&&"filter"!==Rt&&"metadata"!==Rt&&"minzoom"!==Rt&&"maxzoom"!==Rt&&(0===Rt.indexOf("paint.")?Wi(_t[Rt],st[Rt],L,tt,Rt.slice(6),ri.setPaintProperty):Bt(_t[Rt],st[Rt])||L.push({command:ri.setLayerProperty,args:[tt,Rt,st[Rt]]}))}else L.push({command:ri.removeLayer,args:[tt]}),St=pe[pe.lastIndexOf(tt)+1],L.push({command:ri.addLayer,args:[st,St]})}(T,t.layers,a)}catch(p){console.warn("Unable to compute style diff:",p),a=[{command:ri.setStyle,args:[t]}]}return a},v.dot=function(o,t){return o[0]*t[0]+o[1]*t[1]+o[2]*t[2]+o[3]*t[3]},v.earthRadius=xd,v.emitValidationErrors=Ya,v.emptyStyle=function(){const o={},t=Ee.$version;for(const a in Ee.$root){const p=Ee.$root[a];if(p.required){let x=null;x="version"===a?t:"array"===p.type?[]:{},null!=x&&(o[a]=x)}}return o},v.equals=function(o,t){var a=o[0],p=o[1],x=o[2],T=o[3],I=o[4],O=o[5],L=o[6],Z=o[7],K=o[8],te=o[9],ce=o[10],pe=o[11],be=o[12],Ne=o[13],We=o[14],tt=o[15],_t=t[0],st=t[1],St=t[2],Rt=t[3],ei=t[4],Ri=t[5],Li=t[6],Pi=t[7],Ci=t[8],xi=t[9],Ii=t[10],Mi=t[11],hi=t[12],Xi=t[13],Zi=t[14],Dn=t[15];return Math.abs(a-_t)<=Yo*Math.max(1,Math.abs(a),Math.abs(_t))&&Math.abs(p-st)<=Yo*Math.max(1,Math.abs(p),Math.abs(st))&&Math.abs(x-St)<=Yo*Math.max(1,Math.abs(x),Math.abs(St))&&Math.abs(T-Rt)<=Yo*Math.max(1,Math.abs(T),Math.abs(Rt))&&Math.abs(I-ei)<=Yo*Math.max(1,Math.abs(I),Math.abs(ei))&&Math.abs(O-Ri)<=Yo*Math.max(1,Math.abs(O),Math.abs(Ri))&&Math.abs(L-Li)<=Yo*Math.max(1,Math.abs(L),Math.abs(Li))&&Math.abs(Z-Pi)<=Yo*Math.max(1,Math.abs(Z),Math.abs(Pi))&&Math.abs(K-Ci)<=Yo*Math.max(1,Math.abs(K),Math.abs(Ci))&&Math.abs(te-xi)<=Yo*Math.max(1,Math.abs(te),Math.abs(xi))&&Math.abs(ce-Ii)<=Yo*Math.max(1,Math.abs(ce),Math.abs(Ii))&&Math.abs(pe-Mi)<=Yo*Math.max(1,Math.abs(pe),Math.abs(Mi))&&Math.abs(be-hi)<=Yo*Math.max(1,Math.abs(be),Math.abs(hi))&&Math.abs(Ne-Xi)<=Yo*Math.max(1,Math.abs(Ne),Math.abs(Xi))&&Math.abs(We-Zi)<=Yo*Math.max(1,Math.abs(We),Math.abs(Zi))&&Math.abs(tt-Dn)<=Yo*Math.max(1,Math.abs(tt),Math.abs(Dn))},v.evaluateSizeForFeature=function(o,{uSize:t,uSizeT:a},{lowerSize:p,upperSize:x}){return"source"===o.kind?p/aa:"composite"===o.kind?zr.number(p/aa,x/aa,a):t},v.evaluateSizeForZoom=function(o,t){let a=0,p=0;if("constant"===o.kind)p=o.layoutSize;else if("source"!==o.kind){const{interpolationType:x,minZoom:T,maxZoom:I}=o,O=x?Xe(Kn.interpolationFactor(x,t,T,I),0,1):0;"camera"===o.kind?p=zr.number(o.minSize,o.maxSize,O):a=O}return{uSizeT:a,uSize:p}},v.evaluateVariableOffset=Er,v.evented=Ki,v.extend=bt,v.filterObject=Ti,v.findLineIntersection=function(o,t,a,p){const x=t.y-o.y,T=t.x-o.x,I=p.y-a.y,O=p.x-a.x,L=I*T-O*x;if(0===L)return null;const Z=(O*(o.y-a.y)-I*(o.x-a.x))/L;return new Oe(o.x+Z*T,o.y+Z*x)},v.fromScaling=function(o,t){return o[0]=t[0],o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=t[1],o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=t[2],o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o},v.getAnchorAlignment=Qd,v.getAnchorJustification=Gc,v.getArrayBuffer=zt,v.getDefaultExportFromCjs=je,v.getJSON=function(o,t){return Nt(bt(o,{type:"json"}),t)},v.getOverlapMode=Dp,v.getProtocolAction=Et,v.getRTLTextPluginStatus=ws,v.getReferrer=In,v.getVideo=function(o,t){const a=window.document.createElement("video");a.muted=!0,a.onloadstart=function(){t(null,a)};for(let p=0;p<o.length;p++){const x=window.document.createElement("source");ni(o[p])||(a.crossOrigin="Anonymous"),x.src=o[p],a.appendChild(x)}return{cancel:()=>{}}},v.groupByLayout=function(o,t){const a={};for(let x=0;x<o.length;x++){const T=t&&t[o[x].id]||Za(o[x]);t&&(t[o[x].id]=T);let I=a[T];I||(I=a[T]=[]),I.push(o[x])}const p=[];for(const x in a)p.push(a[x]);return p},v.identity=Hh,v.interpolate=zr,v.invert=function(o,t){var a=t[0],p=t[1],x=t[2],T=t[3],I=t[4],O=t[5],L=t[6],Z=t[7],K=t[8],te=t[9],ce=t[10],pe=t[11],be=t[12],Ne=t[13],We=t[14],tt=t[15],_t=a*O-p*I,st=a*L-x*I,St=a*Z-T*I,Rt=p*L-x*O,ei=p*Z-T*O,Ri=x*Z-T*L,Li=K*Ne-te*be,Pi=K*We-ce*be,Ci=K*tt-pe*be,xi=te*We-ce*Ne,Ii=te*tt-pe*Ne,Mi=ce*tt-pe*We,hi=_t*Mi-st*Ii+St*xi+Rt*Ci-ei*Pi+Ri*Li;return hi?(o[0]=(O*Mi-L*Ii+Z*xi)*(hi=1/hi),o[1]=(x*Ii-p*Mi-T*xi)*hi,o[2]=(Ne*Ri-We*ei+tt*Rt)*hi,o[3]=(ce*ei-te*Ri-pe*Rt)*hi,o[4]=(L*Ci-I*Mi-Z*Pi)*hi,o[5]=(a*Mi-x*Ci+T*Pi)*hi,o[6]=(We*St-be*Ri-tt*st)*hi,o[7]=(K*Ri-ce*St+pe*st)*hi,o[8]=(I*Ii-O*Ci+Z*Li)*hi,o[9]=(p*Ci-a*Ii-T*Li)*hi,o[10]=(be*ei-Ne*St+tt*_t)*hi,o[11]=(te*St-K*ei-pe*_t)*hi,o[12]=(O*Pi-I*xi-L*Li)*hi,o[13]=(a*xi-p*Pi+x*Li)*hi,o[14]=(Ne*st-be*Rt-We*_t)*hi,o[15]=(K*Rt-te*st+ce*_t)*hi,o):null},v.isImageBitmap=ti,v.isSafari=ui,v.isWorker=Pt,v.keysDifference=function(o,t){const a=[];for(const p in o)p in t||a.push(p);return a},v.lazyLoadRTLTextPlugin=function(){ir.isLoading()||ir.isLoaded()||"deferred"!==ws()||Cs()},v.makeRequest=Nt,v.mapObject=oi,v.mercatorXfromLng=Pp,v.mercatorYfromLat=gm,v.mercatorZfromAltitude=_m,v.mul=Rc,v.mul$1=function(o,t,a){return o[0]=t[0]*a[0],o[1]=t[1]*a[1],o[2]=t[2]*a[2],o[3]=t[3]*a[3],o},v.multiply=fo,v.nextPowerOfTwo=function(o){return o<=1?1:Math.pow(2,Math.ceil(Math.log(o)/Math.LN2))},v.operations=ri,v.ortho=function(o,t,a,p,x,T,I){var O=1/(t-a),L=1/(p-x),Z=1/(T-I);return o[0]=-2*O,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*L,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*Z,o[11]=0,o[12]=(t+a)*O,o[13]=(x+p)*L,o[14]=(I+T)*Z,o[15]=1,o},v.parseCacheControl=function(o){const t={};if(o.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(a,p,x,T)=>{const I=x||T;return t[p]=!I||I.toLowerCase(),""}),t["max-age"]){const a=parseInt(t["max-age"],10);isNaN(a)?delete t["max-age"]:t["max-age"]=a}return t},v.parseGlyphPbf=function(o){return new Ku(o).readFields(tg,[])},v.pbf=sm,v.performSymbolLayout=function(o){o.bucket.createArrays(),o.bucket.tilePixelRatio=Vr/(512*o.bucket.overscaling),o.bucket.compareText={},o.bucket.iconsNeedLinear=!1;const t=o.bucket.layers[0].layout,a=o.bucket.layers[0]._unevaluatedLayout._values,p={layoutIconSize:a["icon-size"].possiblyEvaluate(new nr(o.bucket.zoom+1),o.canonical),layoutTextSize:a["text-size"].possiblyEvaluate(new nr(o.bucket.zoom+1),o.canonical),textMaxSize:a["text-size"].possiblyEvaluate(new nr(18))};if("composite"===o.bucket.textSizeData.kind){const{minZoom:L,maxZoom:Z}=o.bucket.textSizeData;p.compositeTextSizes=[a["text-size"].possiblyEvaluate(new nr(L),o.canonical),a["text-size"].possiblyEvaluate(new nr(Z),o.canonical)]}if("composite"===o.bucket.iconSizeData.kind){const{minZoom:L,maxZoom:Z}=o.bucket.iconSizeData;p.compositeIconSizes=[a["icon-size"].possiblyEvaluate(new nr(L),o.canonical),a["icon-size"].possiblyEvaluate(new nr(Z),o.canonical)]}const x=t.get("text-line-height")*Bo,T="viewport"!==t.get("text-rotation-alignment")&&"point"!==t.get("symbol-placement"),I=t.get("text-keep-upright"),O=t.get("text-size");for(const L of o.bucket.features){const Z=t.get("text-font").evaluate(L,{},o.canonical).join(","),K=O.evaluate(L,{},o.canonical),te=p.layoutTextSize.evaluate(L,{},o.canonical),ce=p.layoutIconSize.evaluate(L,{},o.canonical),pe={horizontal:{},vertical:void 0},be=L.text;let Ne,We=[0,0];if(be){const st=be.toString(),St=t.get("text-letter-spacing").evaluate(L,{},o.canonical)*Bo,Rt=Q(st)?St:0,ei=t.get("text-anchor").evaluate(L,{},o.canonical),Ri=t.get("text-variable-anchor");if(!Ri){const Ii=t.get("text-radial-offset").evaluate(L,{},o.canonical);We=Ii?Er(ei,[Ii*Bo,$c]):t.get("text-offset").evaluate(L,{},o.canonical).map(Mi=>Mi*Bo)}let Li=T?"center":t.get("text-justify").evaluate(L,{},o.canonical);const Pi=t.get("symbol-placement"),Ci="point"===Pi?t.get("text-max-width").evaluate(L,{},o.canonical)*Bo:0,xi=()=>{o.bucket.allowVerticalPlacement&&V(st)&&(pe.vertical=gd(be,o.glyphMap,o.glyphPositions,o.imagePositions,Z,Ci,x,ei,"left",Rt,We,v.WritingMode.vertical,!0,Pi,te,K))};if(!T&&Ri){const Ii="auto"===Li?Ri.map(hi=>Gc(hi)):[Li];let Mi=!1;for(let hi=0;hi<Ii.length;hi++){const Xi=Ii[hi];if(!pe.horizontal[Xi])if(Mi)pe.horizontal[Xi]=pe.horizontal[0];else{const Zi=gd(be,o.glyphMap,o.glyphPositions,o.imagePositions,Z,Ci,x,"center",Xi,Rt,We,v.WritingMode.horizontal,!1,Pi,te,K);Zi&&(pe.horizontal[Xi]=Zi,Mi=1===Zi.positionedLines.length)}}xi()}else{"auto"===Li&&(Li=Gc(ei));const Ii=gd(be,o.glyphMap,o.glyphPositions,o.imagePositions,Z,Ci,x,ei,Li,Rt,We,v.WritingMode.horizontal,!1,Pi,te,K);Ii&&(pe.horizontal[Li]=Ii),xi(),V(st)&&T&&I&&(pe.vertical=gd(be,o.glyphMap,o.glyphPositions,o.imagePositions,Z,Ci,x,ei,Li,Rt,We,v.WritingMode.vertical,!1,Pi,te,K))}}let tt=!1;if(L.icon&&L.icon.name){const st=o.imageMap[L.icon.name];st&&(Ne=Mp(o.imagePositions[L.icon.name],t.get("icon-offset").evaluate(L,{},o.canonical),t.get("icon-anchor").evaluate(L,{},o.canonical)),tt=!!st.sdf,void 0===o.bucket.sdfIcons?o.bucket.sdfIcons=tt:o.bucket.sdfIcons!==tt&&Ue("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(st.pixelRatio!==o.bucket.pixelRatio||0!==t.get("icon-rotate").constantOr(1))&&(o.bucket.iconsNeedLinear=!0))}const _t=Cm(pe.horizontal)||pe.vertical;o.bucket.iconsInText=!!_t&&_t.iconsInText,(_t||Ne)&&Np(o.bucket,L,pe,Ne,o.imageMap,p,te,ce,We,tt,o.canonical)}o.showCollisionBoxes&&o.bucket.generateCollisionDebugBuffers()},v.perspective=function(o,t,a,p,x){var T,I=1/Math.tan(t/2);return o[0]=I/a,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=I,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=-1,o[12]=0,o[13]=0,o[15]=0,null!=x&&x!==1/0?(o[10]=(x+p)*(T=1/(p-x)),o[14]=2*x*p*T):(o[10]=-1,o[14]=-2*p),o},v.pick=function(o,t){const a={};for(let p=0;p<t.length;p++){const x=t[p];x in o&&(a[x]=o[x])}return a},v.plugin=ir,v.pointGeometry=ne,v.polygonIntersectsPolygon=Qm,v.potpack=Jd,v.register=Ni,v.registerForPluginStateChange=function(o){return o({pluginStatus:Wn,pluginURL:mn}),Ki.on("pluginStateChange",o),o},v.renderColorRamp=ad,v.rotateX=function(o,t,a){var p=Math.sin(a),x=Math.cos(a),T=t[4],I=t[5],O=t[6],L=t[7],Z=t[8],K=t[9],te=t[10],ce=t[11];return t!==o&&(o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3],o[12]=t[12],o[13]=t[13],o[14]=t[14],o[15]=t[15]),o[4]=T*x+Z*p,o[5]=I*x+K*p,o[6]=O*x+te*p,o[7]=L*x+ce*p,o[8]=Z*x-T*p,o[9]=K*x-I*p,o[10]=te*x-O*p,o[11]=ce*x-L*p,o},v.rotateZ=function(o,t,a){var p=Math.sin(a),x=Math.cos(a),T=t[0],I=t[1],O=t[2],L=t[3],Z=t[4],K=t[5],te=t[6],ce=t[7];return t!==o&&(o[8]=t[8],o[9]=t[9],o[10]=t[10],o[11]=t[11],o[12]=t[12],o[13]=t[13],o[14]=t[14],o[15]=t[15]),o[0]=T*x+Z*p,o[1]=I*x+K*p,o[2]=O*x+te*p,o[3]=L*x+ce*p,o[4]=Z*x-T*p,o[5]=K*x-I*p,o[6]=te*x-O*p,o[7]=ce*x-L*p,o},v.sameOrigin=ni,v.scale=function(o,t,a){var p=a[0],x=a[1],T=a[2];return o[0]=t[0]*p,o[1]=t[1]*p,o[2]=t[2]*p,o[3]=t[3]*p,o[4]=t[4]*x,o[5]=t[5]*x,o[6]=t[6]*x,o[7]=t[7]*x,o[8]=t[8]*T,o[9]=t[9]*T,o[10]=t[10]*T,o[11]=t[11]*T,o[12]=t[12],o[13]=t[13],o[14]=t[14],o[15]=t[15],o},v.setRTLTextPlugin=function(o,t,a=!1){if(Wn===tr||Wn===zn||Wn===Bn)throw new Error("setRTLTextPlugin cannot be called multiple times.");mn=$n.resolveURL(o),Wn=tr,Mn=t,Zs(),a||Cs()},v.sphericalToCartesian=function([o,t,a]){return t+=90,t*=Math.PI/180,a*=Math.PI/180,{x:o*Math.cos(t)*Math.sin(a),y:o*Math.sin(t)*Math.sin(a),z:o*Math.cos(a)}},v.toEvaluationFeature=kc,v.transformMat4=Pu,v.translate=function(o,t,a){var p,x,T,I,O,L,Z,K,te,ce,pe,be,Ne=a[0],We=a[1],tt=a[2];return t===o?(o[12]=t[0]*Ne+t[4]*We+t[8]*tt+t[12],o[13]=t[1]*Ne+t[5]*We+t[9]*tt+t[13],o[14]=t[2]*Ne+t[6]*We+t[10]*tt+t[14],o[15]=t[3]*Ne+t[7]*We+t[11]*tt+t[15]):(x=t[1],T=t[2],I=t[3],O=t[4],L=t[5],Z=t[6],K=t[7],te=t[8],ce=t[9],pe=t[10],be=t[11],o[0]=p=t[0],o[1]=x,o[2]=T,o[3]=I,o[4]=O,o[5]=L,o[6]=Z,o[7]=K,o[8]=te,o[9]=ce,o[10]=pe,o[11]=be,o[12]=p*Ne+O*We+te*tt+t[12],o[13]=x*Ne+L*We+ce*tt+t[13],o[14]=T*Ne+Z*We+pe*tt+t[14],o[15]=I*Ne+K*We+be*tt+t[15]),o},v.triggerPluginCompletionEvent=Wr,v.unicodeBlockLookup=fi,v.uniqueId=function(){return Vt++},v.v8Spec=Ee,v.validateCustomStyleLayer=function(o){const t=[],a=o.id;return void 0===a&&t.push({message:`layers.${a}: missing required property "id"`}),void 0===o.render&&t.push({message:`layers.${a}: missing required method "render"`}),o.renderingMode&&"2d"!==o.renderingMode&&"3d"!==o.renderingMode&&t.push({message:`layers.${a}: property "renderingMode" must be either "2d" or "3d"`}),t},v.validateLight=Cl,v.validateStyle=Zo,v.vectorTile=mc,v.warnOnce=Ue,v.wrap=ct}),l(0,function(v){class je{constructor(B){this.keyCache={},B&&this.replace(B)}replace(B){this._layerConfigs={},this._layers={},this.update(B,[])}update(B,j){for(const _e of B){this._layerConfigs[_e.id]=_e;const ke=this._layers[_e.id]=v.createStyleLayer(_e);ke._featureFilter=v.createFilter(ke.filter),this.keyCache[_e.id]&&delete this.keyCache[_e.id]}for(const _e of j)delete this.keyCache[_e],delete this._layerConfigs[_e],delete this._layers[_e];this.familiesBySource={};const ie=v.groupByLayout(Object.values(this._layerConfigs),this.keyCache);for(const _e of ie){const ke=_e.map(lt=>this._layers[lt.id]),ge=ke[0];if("none"===ge.visibility)continue;const se=ge.source||"";let X=this.familiesBySource[se];X||(X=this.familiesBySource[se]={});const me=ge.sourceLayer||"_geojsonTileLayer";let Je=X[me];Je||(Je=X[me]=[]),Je.push(ke)}}}class ne{constructor(B){const j={},ie=[];for(const se in B){const X=B[se],me=j[se]={};for(const Je in X){const lt=X[+Je];if(!lt||0===lt.bitmap.width||0===lt.bitmap.height)continue;const xe={x:0,y:0,w:lt.bitmap.width+2,h:lt.bitmap.height+2};ie.push(xe),me[Je]={rect:xe,metrics:lt.metrics}}}const{w:_e,h:ke}=v.potpack(ie),ge=new v.AlphaImage({width:_e||1,height:ke||1});for(const se in B){const X=B[se];for(const me in X){const Je=X[+me];if(!Je||0===Je.bitmap.width||0===Je.bitmap.height)continue;const lt=j[se][me].rect;v.AlphaImage.copy(Je.bitmap,ge,{x:0,y:0},{x:lt.x+1,y:lt.y+1},Je.bitmap)}}this.image=ge,this.positions=j}}v.register("GlyphAtlas",ne);class He{constructor(B){this.tileID=new v.OverscaledTileID(B.tileID.overscaledZ,B.tileID.wrap,B.tileID.canonical.z,B.tileID.canonical.x,B.tileID.canonical.y),this.uid=B.uid,this.zoom=B.zoom,this.pixelRatio=B.pixelRatio,this.tileSize=B.tileSize,this.source=B.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=B.showCollisionBoxes,this.collectResourceTiming=!!B.collectResourceTiming,this.returnDependencies=!!B.returnDependencies,this.promoteId=B.promoteId}parse(B,j,ie,_e,ke){this.status="parsing",this.data=B,this.collisionBoxArray=new v.CollisionBoxArray;const ge=new v.DictionaryCoder(Object.keys(B.layers).sort()),se=new v.FeatureIndex(this.tileID,this.promoteId);se.bucketLayerIDs=[];const X={},me={featureIndex:se,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:ie},Je=j.familiesBySource[this.source];for(const Te in Je){const qe=B.layers[Te];if(!qe)continue;1===qe.version&&v.warnOnce(`Vector tile source "${this.source}" layer "${Te}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Ut=ge.encode(Te),$t=[];for(let mi=0;mi<qe.length;mi++){const di=qe.feature(mi),bn=se.getId(di,Te);$t.push({feature:di,id:bn,index:mi,sourceLayerIndex:Ut})}for(const mi of Je[Te]){const di=mi[0];di.source!==this.source&&v.warnOnce(`layer.source = ${di.source} does not equal this.source = ${this.source}`),di.minzoom&&this.zoom<Math.floor(di.minzoom)||di.maxzoom&&this.zoom>=di.maxzoom||"none"!==di.visibility&&(Oe(mi,this.zoom,ie),(X[di.id]=di.createBucket({index:se.bucketLayerIDs.length,layers:mi,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Ut,sourceID:this.source})).populate($t,me,this.tileID.canonical),se.bucketLayerIDs.push(mi.map(bn=>bn.id)))}}let lt,xe,Ie,ue;const De=v.mapObject(me.glyphDependencies,Te=>Object.keys(Te).map(Number));Object.keys(De).length?_e.send("getGlyphs",{uid:this.uid,stacks:De,source:this.source,tileID:this.tileID,type:"glyphs"},(Te,qe)=>{lt||(lt=Te,xe=qe,Ye.call(this))}):xe={};const Qe=Object.keys(me.iconDependencies);Qe.length?_e.send("getImages",{icons:Qe,source:this.source,tileID:this.tileID,type:"icons"},(Te,qe)=>{lt||(lt=Te,Ie=qe,Ye.call(this))}):Ie={};const Tt=Object.keys(me.patternDependencies);function Ye(){if(lt)return ke(lt);if(xe&&Ie&&ue){const Te=new ne(xe),qe=new v.ImageAtlas(Ie,ue);for(const Ut in X){const $t=X[Ut];$t instanceof v.SymbolBucket?(Oe($t.layers,this.zoom,ie),v.performSymbolLayout({bucket:$t,glyphMap:xe,glyphPositions:Te.positions,imageMap:Ie,imagePositions:qe.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):$t.hasPattern&&($t instanceof v.LineBucket||$t instanceof v.FillBucket||$t instanceof v.FillExtrusionBucket)&&(Oe($t.layers,this.zoom,ie),$t.addFeatures(me,this.tileID.canonical,qe.patternPositions))}this.status="done",ke(null,{buckets:Object.values(X).filter(Ut=>!Ut.isEmpty()),featureIndex:se,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Te.image,imageAtlas:qe,glyphMap:this.returnDependencies?xe:null,iconMap:this.returnDependencies?Ie:null,glyphPositions:this.returnDependencies?Te.positions:null})}}Tt.length?_e.send("getImages",{icons:Tt,source:this.source,tileID:this.tileID,type:"patterns"},(Te,qe)=>{lt||(lt=Te,ue=qe,Ye.call(this))}):ue={},Ye.call(this)}}function Oe(q,B,j){const ie=new v.EvaluationParameters(B);for(const _e of q)_e.recalculate(ie,j)}function Ge(q,B){const j=v.getArrayBuffer(q.request,(ie,_e,ke,ge)=>{ie?B(ie):_e&&B(null,{vectorTile:new v.vectorTile.VectorTile(new v.Protobuf(_e)),rawData:_e,cacheControl:ke,expires:ge})});return()=>{j.cancel(),B()}}class Ve{constructor(B,j,ie,_e){this.actor=B,this.layerIndex=j,this.availableImages=ie,this.loadVectorData=_e||Ge,this.loading={},this.loaded={}}loadTile(B,j){const ie=B.uid;this.loading||(this.loading={});const _e=!!(B&&B.request&&B.request.collectResourceTiming)&&new v.RequestPerformance(B.request),ke=this.loading[ie]=new He(B);ke.abort=this.loadVectorData(B,(ge,se)=>{if(delete this.loading[ie],ge||!se)return ke.status="done",this.loaded[ie]=ke,j(ge);const X=se.rawData,me={};se.expires&&(me.expires=se.expires),se.cacheControl&&(me.cacheControl=se.cacheControl);const Je={};if(_e){const lt=_e.finish();lt&&(Je.resourceTiming=JSON.parse(JSON.stringify(lt)))}ke.vectorTile=se.vectorTile,ke.parse(se.vectorTile,this.layerIndex,this.availableImages,this.actor,(lt,xe)=>{if(lt||!xe)return j(lt);j(null,v.extend({rawTileData:X.slice(0)},xe,me,Je))}),this.loaded=this.loaded||{},this.loaded[ie]=ke})}reloadTile(B,j){const ie=this.loaded,_e=B.uid,ke=this;if(ie&&ie[_e]){const ge=ie[_e];ge.showCollisionBoxes=B.showCollisionBoxes;const se=(X,me)=>{const Je=ge.reloadCallback;Je&&(delete ge.reloadCallback,ge.parse(ge.vectorTile,ke.layerIndex,this.availableImages,ke.actor,Je)),j(X,me)};"parsing"===ge.status?ge.reloadCallback=se:"done"===ge.status&&(ge.vectorTile?ge.parse(ge.vectorTile,this.layerIndex,this.availableImages,this.actor,se):se())}}abortTile(B,j){const ie=this.loading,_e=B.uid;ie&&ie[_e]&&ie[_e].abort&&(ie[_e].abort(),delete ie[_e]),j()}removeTile(B,j){const ie=this.loaded,_e=B.uid;ie&&ie[_e]&&delete ie[_e],j()}}class nt{constructor(){this.loaded={}}loadTile(B,j){const{uid:ie,encoding:_e,rawImageData:ke}=B,ge=v.isImageBitmap(ke)?this.getImageData(ke):ke,se=new v.DEMData(ie,ge,_e);this.loaded=this.loaded||{},this.loaded[ie]=se,j(null,se)}getImageData(B){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(B.width,B.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=B.width,this.offscreenCanvas.height=B.height,this.offscreenCanvasContext.drawImage(B,0,0,B.width,B.height);const j=this.offscreenCanvasContext.getImageData(-1,-1,B.width+2,B.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new v.RGBAImage({width:j.width,height:j.height},j.data)}removeTile(B){const j=this.loaded,ie=B.uid;j&&j[ie]&&delete j[ie]}}function Fe(q,B){if(0!==q.length){et(q[0],B);for(var j=1;j<q.length;j++)et(q[j],!B)}}function et(q,B){for(var j=0,ie=0,_e=0,ke=q.length,ge=ke-1;_e<ke;ge=_e++){var se=(q[_e][0]-q[ge][0])*(q[ge][1]+q[_e][1]),X=j+se;ie+=Math.abs(j)>=Math.abs(se)?j-X+se:se-X+j,j=X}j+ie>=0!=!!B&&q.reverse()}var Xe=v.getDefaultExportFromCjs(function q(B,j){var ie,_e=B&&B.type;if("FeatureCollection"===_e)for(ie=0;ie<B.features.length;ie++)q(B.features[ie],j);else if("GeometryCollection"===_e)for(ie=0;ie<B.geometries.length;ie++)q(B.geometries[ie],j);else if("Feature"===_e)q(B.geometry,j);else if("Polygon"===_e)Fe(B.coordinates,j);else if("MultiPolygon"===_e)for(ie=0;ie<B.coordinates.length;ie++)Fe(B.coordinates[ie],j);return B});const ct=v.vectorTile.VectorTileFeature.prototype.toGeoJSON;var bt={exports:{}},Vt=v.pointGeometry,oi=v.vectorTile.VectorTileFeature,Ti=Yt;function Yt(q,B){this.options=B||{},this.features=q,this.length=q.length}function Le(q,B){this.id="number"==typeof q.id?q.id:void 0,this.type=q.type,this.rawGeometry=1===q.type?[q.geometry]:q.geometry,this.properties=q.tags,this.extent=B||4096}Yt.prototype.feature=function(q){return new Le(this.features[q],this.options.extent)},Le.prototype.loadGeometry=function(){var q=this.rawGeometry;this.geometry=[];for(var B=0;B<q.length;B++){for(var j=q[B],ie=[],_e=0;_e<j.length;_e++)ie.push(new Vt(j[_e][0],j[_e][1]));this.geometry.push(ie)}return this.geometry},Le.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var q=this.geometry,B=1/0,j=-1/0,ie=1/0,_e=-1/0,ke=0;ke<q.length;ke++)for(var ge=q[ke],se=0;se<ge.length;se++){var X=ge[se];B=Math.min(B,X.x),j=Math.max(j,X.x),ie=Math.min(ie,X.y),_e=Math.max(_e,X.y)}return[B,ie,j,_e]},Le.prototype.toGeoJSON=oi.prototype.toGeoJSON;var Ue=v.pbf,Ae=Ti;function It(q){var B=new Ue;return function(j,ie){for(var _e in j.layers)ie.writeMessage(3,Pt,j.layers[_e])}(q,B),B.finish()}function Pt(q,B){var j;B.writeVarintField(15,q.version||1),B.writeStringField(1,q.name||""),B.writeVarintField(5,q.extent||4096);var ie={keys:[],values:[],keycache:{},valuecache:{}};for(j=0;j<q.length;j++)ie.feature=q.feature(j),B.writeMessage(2,Ot,ie);var _e=ie.keys;for(j=0;j<_e.length;j++)B.writeStringField(3,_e[j]);var ke=ie.values;for(j=0;j<ke.length;j++)B.writeMessage(4,Tn,ke[j])}function Ot(q,B){var j=q.feature;void 0!==j.id&&B.writeVarintField(1,j.id),B.writeMessage(2,ui,q),B.writeVarintField(3,j.type),B.writeMessage(4,Oi,j)}function ui(q,B){var j=q.feature,ie=q.keys,_e=q.values,ke=q.keycache,ge=q.valuecache;for(var se in j.properties){var X=j.properties[se],me=ke[se];if(null!==X){void 0===me&&(ie.push(se),ke[se]=me=ie.length-1),B.writeVarint(me);var Je=typeof X;"string"!==Je&&"boolean"!==Je&&"number"!==Je&&(X=JSON.stringify(X));var lt=Je+":"+X,xe=ge[lt];void 0===xe&&(_e.push(X),ge[lt]=xe=_e.length-1),B.writeVarint(xe)}}}function ti(q,B){return(B<<3)+(7&q)}function Fi(q){return q<<1^q>>31}function Oi(q,B){for(var j=q.loadGeometry(),ie=q.type,_e=0,ke=0,ge=j.length,se=0;se<ge;se++){var X=j[se],me=1;1===ie&&(me=X.length),B.writeVarint(ti(1,me));for(var Je=3===ie?X.length-1:X.length,lt=0;lt<Je;lt++){1===lt&&1!==ie&&B.writeVarint(ti(2,Je-1));var xe=X[lt].x-_e,Ie=X[lt].y-ke;B.writeVarint(Fi(xe)),B.writeVarint(Fi(Ie)),_e+=xe,ke+=Ie}3===ie&&B.writeVarint(ti(7,1))}}function Tn(q,B){var j=typeof q;"string"===j?B.writeStringField(1,q):"boolean"===j?B.writeBooleanField(7,q):"number"===j&&(q%1!=0?B.writeDoubleField(3,q):q<0?B.writeSVarintField(6,q):B.writeVarintField(5,q))}bt.exports=It,bt.exports.fromVectorTileJs=It,bt.exports.fromGeojsonVt=function(q,B){B=B||{};var j={};for(var ie in q)j[ie]=new Ae(q[ie].features,B),j[ie].name=ie,j[ie].version=B.version,j[ie].extent=B.extent;return It({layers:j})},bt.exports.GeoJSONWrapper=Ae;var $n=v.getDefaultExportFromCjs(bt.exports);const pn={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:q=>q},jn=Math.fround||(In=new Float32Array(1),q=>(In[0]=+q,In[0]));var In;const Et=3,gt=5,Nt=6;class zt{constructor(B){this.options=Object.assign(Object.create(pn),B),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(B){const{log:j,minZoom:ie,maxZoom:_e}=this.options;j&&console.time("total time");const ke=`prepare ${B.length} points`;j&&console.time(ke),this.points=B;const ge=[];for(let X=0;X<B.length;X++){const me=B[X];if(!me.geometry)continue;const[Je,lt]=me.geometry.coordinates,xe=jn(li(Je)),Ie=jn(Be(lt));ge.push(xe,Ie,1/0,X,-1,1),this.options.reduce&&ge.push(0)}let se=this.trees[_e+1]=this._createTree(ge);j&&console.timeEnd(ke);for(let X=_e;X>=ie;X--){const me=+Date.now();se=this.trees[X]=this._createTree(this._cluster(se,X)),j&&console.log("z%d: %d clusters in %dms",X,se.numItems,+Date.now()-me)}return j&&console.timeEnd("total time"),this}getClusters(B,j){let ie=((B[0]+180)%360+360)%360-180;const _e=Math.max(-90,Math.min(90,B[1]));let ke=180===B[2]?180:((B[2]+180)%360+360)%360-180;const ge=Math.max(-90,Math.min(90,B[3]));if(B[2]-B[0]>=360)ie=-180,ke=180;else if(ie>ke){const lt=this.getClusters([ie,_e,180,ge],j),xe=this.getClusters([-180,_e,ke,ge],j);return lt.concat(xe)}const se=this.trees[this._limitZoom(j)],X=se.range(li(ie),Be(ge),li(ke),Be(_e)),me=se.data,Je=[];for(const lt of X){const xe=this.stride*lt;Je.push(me[xe+gt]>1?ni(me,xe,this.clusterProps):this.points[me[xe+Et]])}return Je}getChildren(B){const j=this._getOriginId(B),ie=this._getOriginZoom(B),_e="No cluster with the specified id.",ke=this.trees[ie];if(!ke)throw new Error(_e);const ge=ke.data;if(j*this.stride>=ge.length)throw new Error(_e);const se=this.options.radius/(this.options.extent*Math.pow(2,ie-1)),X=ke.within(ge[j*this.stride],ge[j*this.stride+1],se),me=[];for(const Je of X){const lt=Je*this.stride;ge[lt+4]===B&&me.push(ge[lt+gt]>1?ni(ge,lt,this.clusterProps):this.points[ge[lt+Et]])}if(0===me.length)throw new Error(_e);return me}getLeaves(B,j,ie){const _e=[];return this._appendLeaves(_e,B,j=j||10,ie=ie||0,0),_e}getTile(B,j,ie){const _e=this.trees[this._limitZoom(B)],ke=Math.pow(2,B),{extent:ge,radius:se}=this.options,X=se/ge,me=(ie-X)/ke,Je=(ie+1+X)/ke,lt={features:[]};return this._addTileFeatures(_e.range((j-X)/ke,me,(j+1+X)/ke,Je),_e.data,j,ie,ke,lt),0===j&&this._addTileFeatures(_e.range(1-X/ke,me,1,Je),_e.data,ke,ie,ke,lt),j===ke-1&&this._addTileFeatures(_e.range(0,me,X/ke,Je),_e.data,-1,ie,ke,lt),lt.features.length?lt:null}getClusterExpansionZoom(B){let j=this._getOriginZoom(B)-1;for(;j<=this.options.maxZoom;){const ie=this.getChildren(B);if(j++,1!==ie.length)break;B=ie[0].properties.cluster_id}return j}_appendLeaves(B,j,ie,_e,ke){const ge=this.getChildren(j);for(const se of ge){const X=se.properties;if(X&&X.cluster?ke+X.point_count<=_e?ke+=X.point_count:ke=this._appendLeaves(B,X.cluster_id,ie,_e,ke):ke<_e?ke++:B.push(se),B.length===ie)break}return ke}_createTree(B){const j=new v.KDBush(B.length/this.stride|0,this.options.nodeSize,Float32Array);for(let ie=0;ie<B.length;ie+=this.stride)j.add(B[ie],B[ie+1]);return j.finish(),j.data=B,j}_addTileFeatures(B,j,ie,_e,ke,ge){for(const se of B){const X=se*this.stride,me=j[X+gt]>1;let Je,lt,xe;if(me)Je=Ct(j,X,this.clusterProps),lt=j[X],xe=j[X+1];else{const De=this.points[j[X+Et]];Je=De.properties;const[Qe,Tt]=De.geometry.coordinates;lt=li(Qe),xe=Be(Tt)}const Ie={type:1,geometry:[[Math.round(this.options.extent*(lt*ke-ie)),Math.round(this.options.extent*(xe*ke-_e))]],tags:Je};let ue;ue=me||this.options.generateId?j[X+Et]:this.points[j[X+Et]].id,void 0!==ue&&(Ie.id=ue),ge.features.push(Ie)}}_limitZoom(B){return Math.max(this.options.minZoom,Math.min(Math.floor(+B),this.options.maxZoom+1))}_cluster(B,j){const{radius:ie,extent:_e,reduce:ke,minPoints:ge}=this.options,se=ie/(_e*Math.pow(2,j)),X=B.data,me=[],Je=this.stride;for(let lt=0;lt<X.length;lt+=Je){if(X[lt+2]<=j)continue;X[lt+2]=j;const xe=X[lt],Ie=X[lt+1],ue=B.within(X[lt],X[lt+1],se),De=X[lt+gt];let Qe=De;for(const Tt of ue){const Ye=Tt*Je;X[Ye+2]>j&&(Qe+=X[Ye+gt])}if(Qe>De&&Qe>=ge){let Tt,Ye=xe*De,Te=Ie*De,qe=-1;const Ut=((lt/Je|0)<<5)+(j+1)+this.points.length;for(const $t of ue){const mi=$t*Je;if(X[mi+2]<=j)continue;X[mi+2]=j;const di=X[mi+gt];Ye+=X[mi]*di,Te+=X[mi+1]*di,X[mi+4]=Ut,ke&&(Tt||(Tt=this._map(X,lt,!0),qe=this.clusterProps.length,this.clusterProps.push(Tt)),ke(Tt,this._map(X,mi)))}X[lt+4]=Ut,me.push(Ye/Qe,Te/Qe,1/0,Ut,-1,Qe),ke&&me.push(qe)}else{for(let Tt=0;Tt<Je;Tt++)me.push(X[lt+Tt]);if(Qe>1)for(const Tt of ue){const Ye=Tt*Je;if(!(X[Ye+2]<=j)){X[Ye+2]=j;for(let Te=0;Te<Je;Te++)me.push(X[Ye+Te])}}}}return me}_getOriginId(B){return B-this.points.length>>5}_getOriginZoom(B){return(B-this.points.length)%32}_map(B,j,ie){if(B[j+gt]>1){const ge=this.clusterProps[B[j+Nt]];return ie?Object.assign({},ge):ge}const _e=this.points[B[j+Et]].properties,ke=this.options.map(_e);return ie&&ke===_e?Object.assign({},ke):ke}}function ni(q,B,j){return{type:"Feature",id:q[B+Et],properties:Ct(q,B,j),geometry:{type:"Point",coordinates:[(ie=q[B],360*(ie-.5)),rt(q[B+1])]}};var ie}function Ct(q,B,j){const ie=q[B+gt],_e=ie>=1e4?`${Math.round(ie/1e3)}k`:ie>=1e3?Math.round(ie/100)/10+"k":ie,ke=q[B+Nt],ge=-1===ke?{}:Object.assign({},j[ke]);return Object.assign(ge,{cluster:!0,cluster_id:q[B+Et],point_count:ie,point_count_abbreviated:_e})}function li(q){return q/360+.5}function Be(q){const B=Math.sin(q*Math.PI/180),j=.5-.25*Math.log((1+B)/(1-B))/Math.PI;return j<0?0:j>1?1:j}function rt(q){const B=(180-360*q)*Math.PI/180;return 360*Math.atan(Math.exp(B))/Math.PI-90}function ut(q,B,j,ie){for(var _e,ke=ie,ge=j-B>>1,se=j-B,X=q[B],me=q[B+1],Je=q[j],lt=q[j+1],xe=B+3;xe<j;xe+=3){var Ie=Ee(q[xe],q[xe+1],X,me,Je,lt);if(Ie>ke)_e=xe,ke=Ie;else if(Ie===ke){var ue=Math.abs(xe-ge);ue<se&&(_e=xe,se=ue)}}ke>ie&&(_e-B>3&&ut(q,B,_e,ie),q[_e+2]=ke,j-_e>3&&ut(q,_e,j,ie))}function Ee(q,B,j,ie,_e,ke){var ge=_e-j,se=ke-ie;if(0!==ge||0!==se){var X=((q-j)*ge+(B-ie)*se)/(ge*ge+se*se);X>1?(j=_e,ie=ke):X>0&&(j+=ge*X,ie+=se*X)}return(ge=q-j)*ge+(se=B-ie)*se}function ht(q,B,j,ie){var _e={id:void 0===q?null:q,type:B,geometry:j,tags:ie,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(ke){var ge=ke.geometry,se=ke.type;if("Point"===se||"MultiPoint"===se||"LineString"===se)Kt(ke,ge);else if("Polygon"===se||"MultiLineString"===se)for(var X=0;X<ge.length;X++)Kt(ke,ge[X]);else if("MultiPolygon"===se)for(X=0;X<ge.length;X++)for(var me=0;me<ge[X].length;me++)Kt(ke,ge[X][me])}(_e),_e}function Kt(q,B){for(var j=0;j<B.length;j+=3)q.minX=Math.min(q.minX,B[j]),q.minY=Math.min(q.minY,B[j+1]),q.maxX=Math.max(q.maxX,B[j]),q.maxY=Math.max(q.maxY,B[j+1])}function Bt(q,B,j,ie){if(B.geometry){var _e=B.geometry.coordinates,ke=B.geometry.type,ge=Math.pow(j.tolerance/((1<<j.maxZoom)*j.extent),2),se=[],X=B.id;if(j.promoteId?X=B.properties[j.promoteId]:j.generateId&&(X=ie||0),"Point"===ke)ri(_e,se);else if("MultiPoint"===ke)for(var me=0;me<_e.length;me++)ri(_e[me],se);else if("LineString"===ke)ot(_e,se,ge,!1);else if("MultiLineString"===ke){if(j.lineMetrics){for(me=0;me<_e.length;me++)ot(_e[me],se=[],ge,!1),q.push(ht(X,"LineString",se,B.properties));return}Dt(_e,se,ge,!1)}else if("Polygon"===ke)Dt(_e,se,ge,!0);else{if("MultiPolygon"!==ke){if("GeometryCollection"===ke){for(me=0;me<B.geometry.geometries.length;me++)Bt(q,{id:X,geometry:B.geometry.geometries[me],properties:B.properties},j,ie);return}throw new Error("Input data is not a valid GeoJSON object.")}for(me=0;me<_e.length;me++){var Je=[];Dt(_e[me],Je,ge,!0),se.push(Je)}}q.push(ht(X,ke,se,B.properties))}}function ri(q,B){B.push(wi(q[0])),B.push(vn(q[1])),B.push(0)}function ot(q,B,j,ie){for(var _e,ke,ge=0,se=0;se<q.length;se++){var X=wi(q[se][0]),me=vn(q[se][1]);B.push(X),B.push(me),B.push(0),se>0&&(ge+=ie?(_e*me-X*ke)/2:Math.sqrt(Math.pow(X-_e,2)+Math.pow(me-ke,2))),_e=X,ke=me}var Je=B.length-3;B[2]=1,ut(B,0,Je,j),B[Je+2]=1,B.size=Math.abs(ge),B.start=0,B.end=B.size}function Dt(q,B,j,ie){for(var _e=0;_e<q.length;_e++){var ke=[];ot(q[_e],ke,j,ie),B.push(ke)}}function wi(q){return q/360+.5}function vn(q){var B=Math.sin(q*Math.PI/180),j=.5-.25*Math.log((1+B)/(1-B))/Math.PI;return j<0?0:j>1?1:j}function Wi(q,B,j,ie,_e,ke,ge,se){if(ie/=B,ke>=(j/=B)&&ge<ie)return q;if(ge<j||ke>=ie)return null;for(var X=[],me=0;me<q.length;me++){var Je=q[me],lt=Je.geometry,xe=Je.type,Ie=0===_e?Je.minX:Je.minY,ue=0===_e?Je.maxX:Je.maxY;if(Ie>=j&&ue<ie)X.push(Je);else if(!(ue<j||Ie>=ie)){var De=[];if("Point"===xe||"MultiPoint"===xe)Nn(lt,De,j,ie,_e);else if("LineString"===xe)Cn(lt,De,j,ie,_e,!1,se.lineMetrics);else if("MultiLineString"===xe)at(lt,De,j,ie,_e,!1);else if("Polygon"===xe)at(lt,De,j,ie,_e,!0);else if("MultiPolygon"===xe)for(var Qe=0;Qe<lt.length;Qe++){var Tt=[];at(lt[Qe],Tt,j,ie,_e,!0),Tt.length&&De.push(Tt)}if(De.length){if(se.lineMetrics&&"LineString"===xe){for(Qe=0;Qe<De.length;Qe++)X.push(ht(Je.id,xe,De[Qe],Je.tags));continue}"LineString"!==xe&&"MultiLineString"!==xe||(1===De.length?(xe="LineString",De=De[0]):xe="MultiLineString"),"Point"!==xe&&"MultiPoint"!==xe||(xe=3===De.length?"Point":"MultiPoint"),X.push(ht(Je.id,xe,De,Je.tags))}}}return X.length?X:null}function Nn(q,B,j,ie,_e){for(var ke=0;ke<q.length;ke+=3){var ge=q[ke+_e];ge>=j&&ge<=ie&&(B.push(q[ke]),B.push(q[ke+1]),B.push(q[ke+2]))}}function Cn(q,B,j,ie,_e,ke,ge){for(var se,X,me=ii(q),Je=0===_e?Se:Pe,lt=q.start,xe=0;xe<q.length-3;xe+=3){var Ie=q[xe],ue=q[xe+1],De=q[xe+2],Qe=q[xe+3],Tt=q[xe+4],Ye=0===_e?Ie:ue,Te=0===_e?Qe:Tt,qe=!1;ge&&(se=Math.sqrt(Math.pow(Ie-Qe,2)+Math.pow(ue-Tt,2))),Ye<j?Te>j&&(X=Je(me,Ie,ue,Qe,Tt,j),ge&&(me.start=lt+se*X)):Ye>ie?Te<ie&&(X=Je(me,Ie,ue,Qe,Tt,ie),ge&&(me.start=lt+se*X)):ae(me,Ie,ue,De),Te<j&&Ye>=j&&(X=Je(me,Ie,ue,Qe,Tt,j),qe=!0),Te>ie&&Ye<=ie&&(X=Je(me,Ie,ue,Qe,Tt,ie),qe=!0),!ke&&qe&&(ge&&(me.end=lt+se*X),B.push(me),me=ii(q)),ge&&(lt+=se)}var Ut=q.length-3;Ie=q[Ut],ue=q[Ut+1],De=q[Ut+2],(Ye=0===_e?Ie:ue)>=j&&Ye<=ie&&ae(me,Ie,ue,De),Ut=me.length-3,ke&&Ut>=3&&(me[Ut]!==me[0]||me[Ut+1]!==me[1])&&ae(me,me[0],me[1],me[2]),me.length&&B.push(me)}function ii(q){var B=[];return B.size=q.size,B.start=q.start,B.end=q.end,B}function at(q,B,j,ie,_e,ke){for(var ge=0;ge<q.length;ge++)Cn(q[ge],B,j,ie,_e,ke,!1)}function ae(q,B,j,ie){q.push(B),q.push(j),q.push(ie)}function Se(q,B,j,ie,_e,ke){var ge=(ke-B)/(ie-B);return q.push(ke),q.push(j+(_e-j)*ge),q.push(1),ge}function Pe(q,B,j,ie,_e,ke){var ge=(ke-j)/(_e-j);return q.push(B+(ie-B)*ge),q.push(ke),q.push(1),ge}function he(q,B){for(var j=[],ie=0;ie<q.length;ie++){var _e,ke=q[ie],ge=ke.type;if("Point"===ge||"MultiPoint"===ge||"LineString"===ge)_e=de(ke.geometry,B);else if("MultiLineString"===ge||"Polygon"===ge){_e=[];for(var se=0;se<ke.geometry.length;se++)_e.push(de(ke.geometry[se],B))}else if("MultiPolygon"===ge)for(_e=[],se=0;se<ke.geometry.length;se++){for(var X=[],me=0;me<ke.geometry[se].length;me++)X.push(de(ke.geometry[se][me],B));_e.push(X)}j.push(ht(ke.id,ge,_e,ke.tags))}return j}function de(q,B){var j=[];j.size=q.size,void 0!==q.start&&(j.start=q.start,j.end=q.end);for(var ie=0;ie<q.length;ie+=3)j.push(q[ie]+B,q[ie+1],q[ie+2]);return j}function Re(q,B){if(q.transformed)return q;var j,ie,_e,ke=1<<q.z,ge=q.x,se=q.y;for(j=0;j<q.features.length;j++){var X=q.features[j],me=X.geometry,Je=X.type;if(X.geometry=[],1===Je)for(ie=0;ie<me.length;ie+=2)X.geometry.push(xt(me[ie],me[ie+1],B,ke,ge,se));else for(ie=0;ie<me.length;ie++){var lt=[];for(_e=0;_e<me[ie].length;_e+=2)lt.push(xt(me[ie][_e],me[ie][_e+1],B,ke,ge,se));X.geometry.push(lt)}}return q.transformed=!0,q}function xt(q,B,j,ie,_e,ke){return[Math.round(j*(q*ie-_e)),Math.round(j*(B*ie-ke))]}function Jt(q,B,j,ie,_e){for(var ke=B===_e.maxZoom?0:_e.tolerance/((1<<B)*_e.extent),ge={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:j,y:ie,z:B,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},se=0;se<q.length;se++){ge.numFeatures++,Lt(ge,q[se],ke,_e);var X=q[se].minX,me=q[se].minY,Je=q[se].maxX,lt=q[se].maxY;X<ge.minX&&(ge.minX=X),me<ge.minY&&(ge.minY=me),Je>ge.maxX&&(ge.maxX=Je),lt>ge.maxY&&(ge.maxY=lt)}return ge}function Lt(q,B,j,ie){var _e=B.geometry,ke=B.type,ge=[];if("Point"===ke||"MultiPoint"===ke)for(var se=0;se<_e.length;se+=3)ge.push(_e[se]),ge.push(_e[se+1]),q.numPoints++,q.numSimplified++;else if("LineString"===ke)yi(ge,_e,q,j,!1,!1);else if("MultiLineString"===ke||"Polygon"===ke)for(se=0;se<_e.length;se++)yi(ge,_e[se],q,j,"Polygon"===ke,0===se);else if("MultiPolygon"===ke)for(var X=0;X<_e.length;X++){var me=_e[X];for(se=0;se<me.length;se++)yi(ge,me[se],q,j,!0,0===se)}if(ge.length){var Je=B.tags||null;if("LineString"===ke&&ie.lineMetrics){for(var lt in Je={},B.tags)Je[lt]=B.tags[lt];Je.mapbox_clip_start=_e.start/_e.size,Je.mapbox_clip_end=_e.end/_e.size}var xe={geometry:ge,type:"Polygon"===ke||"MultiPolygon"===ke?3:"LineString"===ke||"MultiLineString"===ke?2:1,tags:Je};null!==B.id&&(xe.id=B.id),q.features.push(xe)}}function yi(q,B,j,ie,_e,ke){var ge=ie*ie;if(ie>0&&B.size<(_e?ge:ie))j.numPoints+=B.length/3;else{for(var se=[],X=0;X<B.length;X+=3)(0===ie||B[X+2]>ge)&&(j.numSimplified++,se.push(B[X]),se.push(B[X+1])),j.numPoints++;_e&&function(me,Je){for(var lt=0,xe=0,Ie=me.length,ue=Ie-2;xe<Ie;ue=xe,xe+=2)lt+=(me[xe]-me[ue])*(me[xe+1]+me[ue+1]);if(lt>0===Je)for(xe=0,Ie=me.length;xe<Ie/2;xe+=2){var De=me[xe],Qe=me[xe+1];me[xe]=me[Ie-2-xe],me[xe+1]=me[Ie-1-xe],me[Ie-2-xe]=De,me[Ie-1-xe]=Qe}}(se,ke),q.push(se)}}function pi(q,B){var j=(B=this.options=function(_e,ke){for(var ge in ke)_e[ge]=ke[ge];return _e}(Object.create(this.options),B)).debug;if(j&&console.time("preprocess data"),B.maxZoom<0||B.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(B.promoteId&&B.generateId)throw new Error("promoteId and generateId cannot be used together.");var _e,ke,ge,se,X,me,ie=function(_e,ke){var ge=[];if("FeatureCollection"===_e.type)for(var se=0;se<_e.features.length;se++)Bt(ge,_e.features[se],ke,se);else Bt(ge,"Feature"===_e.type?_e:{geometry:_e},ke);return ge}(q,B);this.tiles={},this.tileCoords=[],j&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",B.indexMaxZoom,B.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),se=_e=ie,X=Wi(_e,1,-1-(ge=(ke=B).buffer/ke.extent),ge,0,-1,2,ke),me=Wi(_e,1,1-ge,2+ge,0,-1,2,ke),(X||me)&&(se=Wi(_e,1,-ge,1+ge,0,-1,2,ke)||[],X&&(se=he(X,1).concat(se)),me&&(se=se.concat(he(me,-1)))),(ie=se).length&&this.splitTile(ie,0,0,0),j&&(ie.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function en(q,B,j){return 32*((1<<q)*j+B)+q}function nn(q,B){return B?q.properties[B]:q.id}function Qi(q,B){if(null==q)return!0;if("Feature"===q.type)return null!=nn(q,B);if("FeatureCollection"===q.type){const j=new Set;for(const ie of q.features){const _e=nn(ie,B);if(null==_e||j.has(_e))return!1;j.add(_e)}return!0}return!1}function Vi(q,B){const j=new Map;if(null!=q)if("Feature"===q.type)j.set(nn(q,B),q);else for(const ie of q.features)j.set(nn(ie,B),ie);return j}function At(q,B){const j=q.tileID.canonical;if(!this._geoJSONIndex)return B(null,null);const ie=this._geoJSONIndex.getTile(j.z,j.x,j.y);if(!ie)return B(null,null);const _e=new class{constructor(ge){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=v.EXTENT,this.length=ge.length,this._features=ge}feature(ge){return new class{constructor(se){this._feature=se,this.extent=v.EXTENT,this.type=se.type,this.properties=se.tags,"id"in se&&!isNaN(se.id)&&(this.id=parseInt(se.id,10))}loadGeometry(){if(1===this._feature.type){const se=[];for(const X of this._feature.geometry)se.push([new v.Point(X[0],X[1])]);return se}{const se=[];for(const X of this._feature.geometry){const me=[];for(const Je of X)me.push(new v.Point(Je[0],Je[1]));se.push(me)}return se}}toGeoJSON(se,X,me){return ct.call(this,se,X,me)}}(this._features[ge])}}(ie.features);let ke=$n(_e);0===ke.byteOffset&&ke.byteLength===ke.buffer.byteLength||(ke=new Uint8Array(ke)),B(null,{vectorTile:_e,rawData:ke.buffer})}pi.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},pi.prototype.splitTile=function(q,B,j,ie,_e,ke,ge){for(var se=[q,B,j,ie],X=this.options,me=X.debug;se.length;){ie=se.pop(),j=se.pop(),B=se.pop(),q=se.pop();var Je=1<<B,lt=en(B,j,ie),xe=this.tiles[lt];if(!xe&&(me>1&&console.time("creation"),xe=this.tiles[lt]=Jt(q,B,j,ie,X),this.tileCoords.push({z:B,x:j,y:ie}),me)){me>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",B,j,ie,xe.numFeatures,xe.numPoints,xe.numSimplified),console.timeEnd("creation"));var Ie="z"+B;this.stats[Ie]=(this.stats[Ie]||0)+1,this.total++}if(xe.source=q,_e){if(B===X.maxZoom||B===_e)continue;var ue=1<<_e-B;if(j!==Math.floor(ke/ue)||ie!==Math.floor(ge/ue))continue}else if(B===X.indexMaxZoom||xe.numPoints<=X.indexMaxPoints)continue;if(xe.source=null,0!==q.length){me>1&&console.time("clipping");var De,Qe,Tt,Ye,Te,qe,Ut=.5*X.buffer/X.extent,$t=.5-Ut,mi=.5+Ut,di=1+Ut;De=Qe=Tt=Ye=null,Te=Wi(q,Je,j-Ut,j+mi,0,xe.minX,xe.maxX,X),qe=Wi(q,Je,j+$t,j+di,0,xe.minX,xe.maxX,X),q=null,Te&&(De=Wi(Te,Je,ie-Ut,ie+mi,1,xe.minY,xe.maxY,X),Qe=Wi(Te,Je,ie+$t,ie+di,1,xe.minY,xe.maxY,X),Te=null),qe&&(Tt=Wi(qe,Je,ie-Ut,ie+mi,1,xe.minY,xe.maxY,X),Ye=Wi(qe,Je,ie+$t,ie+di,1,xe.minY,xe.maxY,X),qe=null),me>1&&console.timeEnd("clipping"),se.push(De||[],B+1,2*j,2*ie),se.push(Qe||[],B+1,2*j,2*ie+1),se.push(Tt||[],B+1,2*j+1,2*ie),se.push(Ye||[],B+1,2*j+1,2*ie+1)}}},pi.prototype.getTile=function(q,B,j){var ie=this.options,_e=ie.extent,ke=ie.debug;if(q<0||q>24)return null;var ge=1<<q,se=en(q,B=(B%ge+ge)%ge,j);if(this.tiles[se])return Re(this.tiles[se],_e);ke>1&&console.log("drilling down to z%d-%d-%d",q,B,j);for(var X,me=q,Je=B,lt=j;!X&&me>0;)me--,Je=Math.floor(Je/2),lt=Math.floor(lt/2),X=this.tiles[en(me,Je,lt)];return X&&X.source?(ke>1&&console.log("found parent tile z%d-%d-%d",me,Je,lt),ke>1&&console.time("drilling down"),this.splitTile(X.source,me,Je,lt,q,B,j),ke>1&&console.timeEnd("drilling down"),this.tiles[se]?Re(this.tiles[se],_e):null):null};class ci extends Ve{constructor(B,j,ie,_e){super(B,j,ie,At),this._dataUpdateable=new Map,this.loadGeoJSON=(ke,ge)=>{const{promoteId:se}=ke;if(ke.request)return v.getJSON(ke.request,(X,me,Je,lt)=>{this._dataUpdateable=Qi(me,se)?Vi(me,se):void 0,ge(X,me,Je,lt)});if("string"==typeof ke.data)try{const X=JSON.parse(ke.data);this._dataUpdateable=Qi(X,se)?Vi(X,se):void 0,ge(null,X)}catch{ge(new Error(`Input data given to '${ke.source}' is not a valid GeoJSON object.`))}else ke.dataDiff?this._dataUpdateable?(function(X,me,Je){var lt,xe,Ie,ue;if(me.removeAll&&X.clear(),me.remove)for(const De of me.remove)X.delete(De);if(me.add)for(const De of me.add){const Qe=nn(De,Je);null!=Qe&&X.set(Qe,De)}if(me.update)for(const De of me.update){let Qe=X.get(De.id);if(null==Qe)continue;const Tt=!De.removeAllProperties&&((null===(lt=De.removeProperties)||void 0===lt?void 0:lt.length)>0||(null===(xe=De.addOrUpdateProperties)||void 0===xe?void 0:xe.length)>0);if((De.newGeometry||De.removeAllProperties||Tt)&&(Qe={...Qe},X.set(De.id,Qe),Tt&&(Qe.properties={...Qe.properties})),De.newGeometry&&(Qe.geometry=De.newGeometry),De.removeAllProperties)Qe.properties={};else if((null===(Ie=De.removeProperties)||void 0===Ie?void 0:Ie.length)>0)for(const Ye of De.removeProperties)Object.prototype.hasOwnProperty.call(Qe.properties,Ye)&&delete Qe.properties[Ye];if((null===(ue=De.addOrUpdateProperties)||void 0===ue?void 0:ue.length)>0)for(const{key:Ye,value:Te}of De.addOrUpdateProperties)Qe.properties[Ye]=Te}}(this._dataUpdateable,ke.dataDiff,se),ge(null,{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())})):ge(new Error(`Cannot update existing geojson data in ${ke.source}`)):ge(new Error(`Input data given to '${ke.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}},_e&&(this.loadGeoJSON=_e)}loadData(B,j){var ie;null===(ie=this._pendingRequest)||void 0===ie||ie.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const _e=!!(B&&B.request&&B.request.collectResourceTiming)&&new v.RequestPerformance(B.request);this._pendingCallback=j,this._pendingRequest=this.loadGeoJSON(B,(ke,ge)=>{if(delete this._pendingCallback,delete this._pendingRequest,ke||!ge)return j(ke);if("object"!=typeof ge)return j(new Error(`Input data given to '${B.source}' is not a valid GeoJSON object.`));{Xe(ge,!0);try{if(B.filter){const X=v.createExpression(B.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===X.result)throw new Error(X.value.map(Je=>`${Je.key}: ${Je.message}`).join(", "));ge={type:"FeatureCollection",features:ge.features.filter(Je=>X.value.evaluate({zoom:0},Je))}}this._geoJSONIndex=B.cluster?new zt(function({superclusterOptions:X,clusterProperties:me}){if(!me||!X)return X;const Je={},lt={},xe={accumulated:null,zoom:0},Ie={properties:null},ue=Object.keys(me);for(const De of ue){const[Qe,Tt]=me[De],Ye=v.createExpression(Tt),Te=v.createExpression("string"==typeof Qe?[Qe,["accumulated"],["get",De]]:Qe);Je[De]=Ye.value,lt[De]=Te.value}return X.map=De=>{Ie.properties=De;const Qe={};for(const Tt of ue)Qe[Tt]=Je[Tt].evaluate(xe,Ie);return Qe},X.reduce=(De,Qe)=>{Ie.properties=Qe;for(const Tt of ue)xe.accumulated=De[Tt],De[Tt]=lt[Tt].evaluate(xe,Ie)},X}(B)).load(ge.features):new pi(X=ge,B.geojsonVtOptions)}catch(X){return j(X)}this.loaded={};const se={};if(_e){const X=_e.finish();X&&(se.resourceTiming={},se.resourceTiming[B.source]=JSON.parse(JSON.stringify(X)))}j(null,se)}var X})}reloadTile(B,j){const ie=this.loaded;return ie&&ie[B.uid]?super.reloadTile(B,j):this.loadTile(B,j)}removeSource(B,j){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),j()}getClusterExpansionZoom(B,j){try{j(null,this._geoJSONIndex.getClusterExpansionZoom(B.clusterId))}catch(ie){j(ie)}}getClusterChildren(B,j){try{j(null,this._geoJSONIndex.getChildren(B.clusterId))}catch(ie){j(ie)}}getClusterLeaves(B,j){try{j(null,this._geoJSONIndex.getLeaves(B.clusterId,B.limit,B.offset))}catch(ie){j(ie)}}}class vt{constructor(B){this.self=B,this.actor=new v.Actor(B,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:Ve,geojson:ci},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(j,ie)=>{if(this.workerSourceTypes[j])throw new Error(`Worker source with name "${j}" already registered.`);this.workerSourceTypes[j]=ie},this.self.registerRTLTextPlugin=j=>{if(v.plugin.isParsed())throw new Error("RTL text plugin already registered.");v.plugin.applyArabicShaping=j.applyArabicShaping,v.plugin.processBidirectionalText=j.processBidirectionalText,v.plugin.processStyledBidirectionalText=j.processStyledBidirectionalText}}setReferrer(B,j){this.referrer=j}setImages(B,j,ie){this.availableImages[B]=j;for(const _e in this.workerSources[B]){const ke=this.workerSources[B][_e];for(const ge in ke)ke[ge].availableImages=j}ie()}setLayers(B,j,ie){this.getLayerIndex(B).replace(j),ie()}updateLayers(B,j,ie){this.getLayerIndex(B).update(j.layers,j.removedIds),ie()}loadTile(B,j,ie){this.getWorkerSource(B,j.type,j.source).loadTile(j,ie)}loadDEMTile(B,j,ie){this.getDEMWorkerSource(B,j.source).loadTile(j,ie)}reloadTile(B,j,ie){this.getWorkerSource(B,j.type,j.source).reloadTile(j,ie)}abortTile(B,j,ie){this.getWorkerSource(B,j.type,j.source).abortTile(j,ie)}removeTile(B,j,ie){this.getWorkerSource(B,j.type,j.source).removeTile(j,ie)}removeDEMTile(B,j){this.getDEMWorkerSource(B,j.source).removeTile(j)}removeSource(B,j,ie){if(!this.workerSources[B]||!this.workerSources[B][j.type]||!this.workerSources[B][j.type][j.source])return;const _e=this.workerSources[B][j.type][j.source];delete this.workerSources[B][j.type][j.source],void 0!==_e.removeSource?_e.removeSource(j,ie):ie()}loadWorkerSource(B,j,ie){try{this.self.importScripts(j.url),ie()}catch(_e){ie(_e.toString())}}syncRTLPluginState(B,j,ie){try{v.plugin.setState(j);const _e=v.plugin.getPluginURL();if(v.plugin.isLoaded()&&!v.plugin.isParsed()&&null!=_e){this.self.importScripts(_e);const ke=v.plugin.isParsed();ie(ke?void 0:new Error(`RTL Text Plugin failed to import scripts from ${_e}`),ke)}}catch(_e){ie(_e.toString())}}getAvailableImages(B){let j=this.availableImages[B];return j||(j=[]),j}getLayerIndex(B){let j=this.layerIndexes[B];return j||(j=this.layerIndexes[B]=new je),j}getWorkerSource(B,j,ie){return this.workerSources[B]||(this.workerSources[B]={}),this.workerSources[B][j]||(this.workerSources[B][j]={}),this.workerSources[B][j][ie]||(this.workerSources[B][j][ie]=new this.workerSourceTypes[j]({send:(ke,ge,se)=>{this.actor.send(ke,ge,se,B)}},this.getLayerIndex(B),this.getAvailableImages(B))),this.workerSources[B][j][ie]}getDEMWorkerSource(B,j){return this.demWorkerSources[B]||(this.demWorkerSources[B]={}),this.demWorkerSources[B][j]||(this.demWorkerSources[B][j]=new nt),this.demWorkerSources[B][j]}}return v.isWorker()&&(self.worker=new vt(self)),vt}),l(0,function(v){class ne{static testProp(i){if(!ne.docStyle)return i[0];for(let d=0;d<i.length;d++)if(i[d]in ne.docStyle)return i[d];return i[0]}static create(i,d,y){const w=window.document.createElement(i);return void 0!==d&&(w.className=d),y&&y.appendChild(w),w}static createNS(i,d){return window.document.createElementNS(i,d)}static disableDrag(){ne.docStyle&&ne.selectProp&&(ne.userSelect=ne.docStyle[ne.selectProp],ne.docStyle[ne.selectProp]="none")}static enableDrag(){ne.docStyle&&ne.selectProp&&(ne.docStyle[ne.selectProp]=ne.userSelect)}static setTransform(i,d){i.style[ne.transformProp]=d}static addEventListener(i,d,y,w={}){i.addEventListener(d,y,"passive"in w?w:w.capture)}static removeEventListener(i,d,y,w={}){i.removeEventListener(d,y,"passive"in w?w:w.capture)}static suppressClickInternal(i){i.preventDefault(),i.stopPropagation(),window.removeEventListener("click",ne.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",ne.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",ne.suppressClickInternal,!0)},0)}static mousePos(i,d){const y=i.getBoundingClientRect();return new v.Point(d.clientX-y.left-i.clientLeft,d.clientY-y.top-i.clientTop)}static touchPos(i,d){const y=i.getBoundingClientRect(),w=[];for(let S=0;S<d.length;S++)w.push(new v.Point(d[S].clientX-y.left-i.clientLeft,d[S].clientY-y.top-i.clientTop));return w}static mouseButton(i){return i.button}static remove(i){i.parentNode&&i.parentNode.removeChild(i)}}ne.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,ne.selectProp=ne.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),ne.transformProp=ne.testProp(["transform","WebkitTransform"]);const He={supported:!1,testSupport:function(E){!Ve&&Ge&&(nt?Fe(E):Oe=E)}};let Oe,Ge,Ve=!1,nt=!1;function Fe(E){const i=E.createTexture();E.bindTexture(E.TEXTURE_2D,i);try{if(E.texImage2D(E.TEXTURE_2D,0,E.RGBA,E.RGBA,E.UNSIGNED_BYTE,Ge),E.isContextLost())return;He.supported=!0}catch{}E.deleteTexture(i),Ve=!0}var et,Xe,E;typeof document<"u"&&(Ge=document.createElement("img"),Ge.onload=function(){Oe&&Fe(Oe),Oe=null,nt=!0},Ge.onerror=function(){Ve=!0,Oe=null},Ge.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(E){let i,d,y,w;E.resetRequestQueue=()=>{i=[],d=0,y=0,w={}},E.addThrottleControl=D=>{const k=y++;return w[k]=D,k},E.removeThrottleControl=D=>{delete w[D],b()},E.getImage=(D,k,R=!0)=>{He.supported&&(D.headers||(D.headers={}),D.headers.accept="image/webp,*/*");const z={requestParameters:D,supportImageRefresh:R,callback:k,cancelled:!1,completed:!1,cancel:()=>{z.completed||z.cancelled||(z.cancelled=!0,z.innerRequest&&(z.innerRequest.cancel(),d--),b())}};return i.push(z),b(),z};const S=D=>{const{requestParameters:k,supportImageRefresh:R,callback:z}=D;return v.extend(k,{type:"image"}),(!1!==R||v.isWorker()||v.getProtocolAction(k.url)||k.headers&&!Object.keys(k.headers).reduce((ee,oe)=>ee&&"accept"===oe,!0)?v.makeRequest:_)(k,(ee,oe,Me,Ce)=>{f(D,z,ee,oe,Me,Ce)})},f=(D,k,R,z,ee,oe)=>{var Me,Ce;R?k(R):z instanceof HTMLImageElement||z instanceof ImageBitmap?k(null,z):z&&(Me=z,Ce=(Me,Ce)=>{null!=Me?k(Me):null!=Ce&&k(null,Ce,{cacheControl:ee,expires:oe})},"function"==typeof createImageBitmap?v.arrayBufferToImageBitmap(Me,Ce):v.arrayBufferToImage(Me,Ce)),D.cancelled||(D.completed=!0,d--,b())},b=()=>{const D=(()=>{const k=Object.keys(w);let R=!1;if(k.length>0)for(const z of k)if(R=w[z](),R)break;return R})()?v.config.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:v.config.MAX_PARALLEL_IMAGE_REQUESTS;for(let k=d;k<D&&i.length>0;k++){const R=i.shift();if(R.cancelled){k--;continue}const z=S(R);d++,R.innerRequest=z}},_=(D,k)=>{const R=new Image,z=D.url;let ee=!1;const oe=D.credentials;return oe&&"include"===oe?R.crossOrigin="use-credentials":(oe&&"same-origin"===oe||!v.sameOrigin(z))&&(R.crossOrigin="anonymous"),R.fetchPriority="high",R.onload=()=>{k(null,R),R.onerror=R.onload=null},R.onerror=()=>{ee||k(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")),R.onerror=R.onload=null},R.src=z,{cancel:()=>{ee=!0,R.src=""}}}}(et||(et={})),et.resetRequestQueue(),(E=Xe||(Xe={})).Glyphs="Glyphs",E.Image="Image",E.Source="Source",E.SpriteImage="SpriteImage",E.SpriteJSON="SpriteJSON",E.Style="Style",E.Tile="Tile",E.Unknown="Unknown";class ct{constructor(i){this._transformRequestFn=i}transformRequest(i,d){return this._transformRequestFn&&this._transformRequestFn(i,d)||{url:i}}normalizeSpriteURL(i,d,y){const w=function(S){const f=S.match(bt);if(!f)throw new Error(`Unable to parse URL "${S}"`);return{protocol:f[1],authority:f[2],path:f[3]||"/",params:f[4]?f[4].split("&"):[]}}(i);return w.path+=`${d}${y}`,function(S){const f=S.params.length?`?${S.params.join("&")}`:"";return`${S.protocol}://${S.authority}${S.path}${f}`}(w)}setTransformRequest(i){this._transformRequestFn=i}}const bt=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Vt(E){var i=new v.ARRAY_TYPE(3);return i[0]=E[0],i[1]=E[1],i[2]=E[2],i}var oi,Ti=function(E,i,d){return E[0]=i[0]-d[0],E[1]=i[1]-d[1],E[2]=i[2]-d[2],E};oi=new v.ARRAY_TYPE(3),v.ARRAY_TYPE!=Float32Array&&(oi[0]=0,oi[1]=0,oi[2]=0);var Yt=function(E){var i=E[0],d=E[1];return i*i+d*d};function Le(E){const i=[];if("string"==typeof E)i.push({id:"default",url:E});else if(E&&E.length>0){const d=[];for(const{id:y,url:w}of E){const S=`${y}${w}`;-1===d.indexOf(S)&&(d.push(S),i.push({id:y,url:w}))}}return i}function Ue(E,i,d,y,w){if(y)return void E(y);if(w!==Object.values(i).length||w!==Object.values(d).length)return;const S={};for(const f in i){S[f]={};const b=v.browser.getImageCanvasContext(d[f]),_=i[f];for(const D in _){const{width:k,height:R,x:z,y:ee,sdf:oe,pixelRatio:Me,stretchX:Ce,stretchY:it,content:yt}=_[D];S[f][D]={data:null,pixelRatio:Me,sdf:oe,stretchX:Ce,stretchY:it,content:yt,spriteData:{width:k,height:R,x:z,y:ee,context:b}}}}E(null,S)}!function(){var E=new v.ARRAY_TYPE(2);v.ARRAY_TYPE!=Float32Array&&(E[0]=0,E[1]=0)}();class Ae{constructor(i,d,y,w){this.context=i,this.format=y,this.texture=i.gl.createTexture(),this.update(d,w)}update(i,d,y){const{width:w,height:S}=i,f=!(this.size&&this.size[0]===w&&this.size[1]===S||y),{context:b}=this,{gl:_}=b;if(this.useMipmap=!(!d||!d.useMipmap),_.bindTexture(_.TEXTURE_2D,this.texture),b.pixelStoreUnpackFlipY.set(!1),b.pixelStoreUnpack.set(1),b.pixelStoreUnpackPremultiplyAlpha.set(this.format===_.RGBA&&(!d||!1!==d.premultiply)),f)this.size=[w,S],i instanceof HTMLImageElement||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageData||v.isImageBitmap(i)?_.texImage2D(_.TEXTURE_2D,0,this.format,this.format,_.UNSIGNED_BYTE,i):_.texImage2D(_.TEXTURE_2D,0,this.format,w,S,0,this.format,_.UNSIGNED_BYTE,i.data);else{const{x:D,y:k}=y||{x:0,y:0};i instanceof HTMLImageElement||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageData||v.isImageBitmap(i)?_.texSubImage2D(_.TEXTURE_2D,0,D,k,_.RGBA,_.UNSIGNED_BYTE,i):_.texSubImage2D(_.TEXTURE_2D,0,D,k,w,S,_.RGBA,_.UNSIGNED_BYTE,i.data)}this.useMipmap&&this.isSizePowerOfTwo()&&_.generateMipmap(_.TEXTURE_2D)}bind(i,d,y){const{context:w}=this,{gl:S}=w;S.bindTexture(S.TEXTURE_2D,this.texture),y!==S.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(y=S.LINEAR),i!==this.filter&&(S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,i),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,y||i),this.filter=i),d!==this.wrap&&(S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,d),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,d),this.wrap=d)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:i}=this.context;i.deleteTexture(this.texture),this.texture=null}}function It(E){const{userImage:i}=E;return!!(i&&i.render&&i.render())&&(E.data.replace(new Uint8Array(i.data.buffer)),!0)}class Pt extends v.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new v.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(i){if(this.loaded!==i&&(this.loaded=i,i)){for(const{ids:d,callback:y}of this.requestors)this._notify(d,y);this.requestors=[]}}getImage(i){const d=this.images[i];if(d&&!d.data&&d.spriteData){const y=d.spriteData;d.data=new v.RGBAImage({width:y.width,height:y.height},y.context.getImageData(y.x,y.y,y.width,y.height).data),d.spriteData=null}return d}addImage(i,d){if(this.images[i])throw new Error(`Image id ${i} already exist, use updateImage instead`);this._validate(i,d)&&(this.images[i]=d)}_validate(i,d){let y=!0;const w=d.data||d.spriteData;return this._validateStretch(d.stretchX,w&&w.width)||(this.fire(new v.ErrorEvent(new Error(`Image "${i}" has invalid "stretchX" value`))),y=!1),this._validateStretch(d.stretchY,w&&w.height)||(this.fire(new v.ErrorEvent(new Error(`Image "${i}" has invalid "stretchY" value`))),y=!1),this._validateContent(d.content,d)||(this.fire(new v.ErrorEvent(new Error(`Image "${i}" has invalid "content" value`))),y=!1),y}_validateStretch(i,d){if(!i)return!0;let y=0;for(const w of i){if(w[0]<y||w[1]<w[0]||d<w[1])return!1;y=w[1]}return!0}_validateContent(i,d){if(!i)return!0;if(4!==i.length)return!1;const y=d.spriteData,w=y&&y.width||d.data.width,S=y&&y.height||d.data.height;return!(i[0]<0||w<i[0]||i[1]<0||S<i[1]||i[2]<0||w<i[2]||i[3]<0||S<i[3]||i[2]<i[0]||i[3]<i[1])}updateImage(i,d,y=!0){const w=this.getImage(i);if(y&&(w.data.width!==d.data.width||w.data.height!==d.data.height))throw new Error(`size mismatch between old image (${w.data.width}x${w.data.height}) and new image (${d.data.width}x${d.data.height}).`);d.version=w.version+1,this.images[i]=d,this.updatedImages[i]=!0}removeImage(i){const d=this.images[i];delete this.images[i],delete this.patterns[i],d.userImage&&d.userImage.onRemove&&d.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(i,d){let y=!0;if(!this.isLoaded())for(const w of i)this.images[w]||(y=!1);this.isLoaded()||y?this._notify(i,d):this.requestors.push({ids:i,callback:d})}_notify(i,d){const y={};for(const w of i){let S=this.getImage(w);S||(this.fire(new v.Event("styleimagemissing",{id:w})),S=this.getImage(w)),S?y[w]={data:S.data.clone(),pixelRatio:S.pixelRatio,sdf:S.sdf,version:S.version,stretchX:S.stretchX,stretchY:S.stretchY,content:S.content,hasRenderCallback:!(!S.userImage||!S.userImage.render)}:v.warnOnce(`Image "${w}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}d(null,y)}getPixelSize(){const{width:i,height:d}=this.atlasImage;return{width:i,height:d}}getPattern(i){const d=this.patterns[i],y=this.getImage(i);if(!y)return null;if(d&&d.position.version===y.version)return d.position;if(d)d.position.version=y.version;else{const w={w:y.data.width+2,h:y.data.height+2,x:0,y:0},S=new v.ImagePosition(w,y);this.patterns[i]={bin:w,position:S}}return this._updatePatternAtlas(),this.patterns[i].position}bind(i){const d=i.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new Ae(i,this.atlasImage,d.RGBA),this.atlasTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE)}_updatePatternAtlas(){const i=[];for(const S in this.patterns)i.push(this.patterns[S].bin);const{w:d,h:y}=v.potpack(i),w=this.atlasImage;w.resize({width:d||1,height:y||1});for(const S in this.patterns){const{bin:f}=this.patterns[S],b=f.x+1,_=f.y+1,D=this.getImage(S).data,k=D.width,R=D.height;v.RGBAImage.copy(D,w,{x:0,y:0},{x:b,y:_},{width:k,height:R}),v.RGBAImage.copy(D,w,{x:0,y:R-1},{x:b,y:_-1},{width:k,height:1}),v.RGBAImage.copy(D,w,{x:0,y:0},{x:b,y:_+R},{width:k,height:1}),v.RGBAImage.copy(D,w,{x:k-1,y:0},{x:b-1,y:_},{width:1,height:R}),v.RGBAImage.copy(D,w,{x:0,y:0},{x:b+k,y:_},{width:1,height:R})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(i){for(const d of i){if(this.callbackDispatchedThisFrame[d])continue;this.callbackDispatchedThisFrame[d]=!0;const y=this.getImage(d);y||v.warnOnce(`Image with ID: "${d}" was not found`),It(y)&&this.updateImage(d,y)}}}const Ot=1e20;function ui(E,i,d,y,w,S,f,b,_){for(let D=i;D<i+y;D++)ti(E,d*S+D,S,w,f,b,_);for(let D=d;D<d+w;D++)ti(E,D*S+i,1,y,f,b,_)}function ti(E,i,d,y,w,S,f){S[0]=0,f[0]=-Ot,f[1]=Ot,w[0]=E[i];for(let b=1,_=0,D=0;b<y;b++){w[b]=E[i+b*d];const k=b*b;do{const R=S[_];D=(w[b]-w[R]+k-R*R)/(b-R)/2}while(D<=f[_]&&--_>-1);_++,S[_]=b,f[_]=D,f[_+1]=Ot}for(let b=0,_=0;b<y;b++){for(;f[_+1]<b;)_++;const D=S[_],k=b-D;E[i+b*d]=w[D]+k*k}}class Fi{constructor(i,d){this.requestManager=i,this.localIdeographFontFamily=d,this.entries={}}setURL(i){this.url=i}getGlyphs(i,d){const y=[];for(const w in i)for(const S of i[w])y.push({stack:w,id:S});v.asyncAll(y,({stack:w,id:S},f)=>{let b=this.entries[w];b||(b=this.entries[w]={glyphs:{},requests:{},ranges:{}});let _=b.glyphs[S];if(void 0!==_)return void f(null,{stack:w,id:S,glyph:_});if(_=this._tinySDF(b,w,S),_)return b.glyphs[S]=_,void f(null,{stack:w,id:S,glyph:_});const D=Math.floor(S/256);if(256*D>65535)return void f(new Error("glyphs > 65535 not supported"));if(b.ranges[D])return void f(null,{stack:w,id:S,glyph:_});if(!this.url)return void f(new Error("glyphsUrl is not set"));let k=b.requests[D];k||(k=b.requests[D]=[],Fi.loadGlyphRange(w,D,this.url,this.requestManager,(R,z)=>{if(z){for(const ee in z)this._doesCharSupportLocalGlyph(+ee)||(b.glyphs[+ee]=z[+ee]);b.ranges[D]=!0}for(const ee of k)ee(R,z);delete b.requests[D]})),k.push((R,z)=>{R?f(R):z&&f(null,{stack:w,id:S,glyph:z[S]||null})})},(w,S)=>{if(w)d(w);else if(S){const f={};for(const{stack:b,id:_,glyph:D}of S)(f[b]||(f[b]={}))[_]=D&&{id:D.id,bitmap:D.bitmap.clone(),metrics:D.metrics};d(null,f)}})}_doesCharSupportLocalGlyph(i){return!!this.localIdeographFontFamily&&(v.unicodeBlockLookup["CJK Unified Ideographs"](i)||v.unicodeBlockLookup["Hangul Syllables"](i)||v.unicodeBlockLookup.Hiragana(i)||v.unicodeBlockLookup.Katakana(i))}_tinySDF(i,d,y){const w=this.localIdeographFontFamily;if(!w||!this._doesCharSupportLocalGlyph(y))return;let S=i.tinySDF;if(!S){let b="400";/bold/i.test(d)?b="900":/medium/i.test(d)?b="500":/light/i.test(d)&&(b="200"),S=i.tinySDF=new Fi.TinySDF({fontSize:24,buffer:3,radius:8,cutoff:.25,fontFamily:w,fontWeight:b})}const f=S.draw(String.fromCharCode(y));return{id:y,bitmap:new v.AlphaImage({width:f.width||30,height:f.height||30},f.data),metrics:{width:f.glyphWidth||24,height:f.glyphHeight||24,left:f.glyphLeft||0,top:f.glyphTop-27||-8,advance:f.glyphAdvance||24}}}}Fi.loadGlyphRange=function(E,i,d,y,w){const S=256*i,f=S+255,b=y.transformRequest(d.replace("{fontstack}",E).replace("{range}",`${S}-${f}`),Xe.Glyphs);v.getArrayBuffer(b,(_,D)=>{if(_)w(_);else if(D){const k={};for(const R of v.parseGlyphPbf(D))k[R.id]=R;w(null,k)}})},Fi.TinySDF=class{constructor({fontSize:E=24,buffer:i=3,radius:d=8,cutoff:y=.25,fontFamily:w="sans-serif",fontWeight:S="normal",fontStyle:f="normal"}={}){this.buffer=i,this.cutoff=y,this.radius=d;const b=this.size=E+4*i,_=this._createCanvas(b),D=this.ctx=_.getContext("2d",{willReadFrequently:!0});D.font=`${f} ${S} ${E}px ${w}`,D.textBaseline="alphabetic",D.textAlign="left",D.fillStyle="black",this.gridOuter=new Float64Array(b*b),this.gridInner=new Float64Array(b*b),this.f=new Float64Array(b),this.z=new Float64Array(b+1),this.v=new Uint16Array(b)}_createCanvas(E){const i=document.createElement("canvas");return i.width=i.height=E,i}draw(E){const{width:i,actualBoundingBoxAscent:d,actualBoundingBoxDescent:y,actualBoundingBoxLeft:w,actualBoundingBoxRight:S}=this.ctx.measureText(E),f=Math.ceil(d),b=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(S-w))),_=Math.min(this.size-this.buffer,f+Math.ceil(y)),D=b+2*this.buffer,k=_+2*this.buffer,R=Math.max(D*k,0),z=new Uint8ClampedArray(R),ee={data:z,width:D,height:k,glyphWidth:b,glyphHeight:_,glyphTop:f,glyphLeft:0,glyphAdvance:i};if(0===b||0===_)return ee;const{ctx:oe,buffer:Me,gridInner:Ce,gridOuter:it}=this;oe.clearRect(Me,Me,b,_),oe.fillText(E,Me,Me+f);const yt=oe.getImageData(Me,Me,b,_);it.fill(Ot,0,R),Ce.fill(0,0,R);for(let $e=0;$e<_;$e++)for(let ft=0;ft<b;ft++){const Ft=yt.data[4*($e*b+ft)+3]/255;if(0===Ft)continue;const Zt=($e+Me)*D+ft+Me;if(1===Ft)it[Zt]=0,Ce[Zt]=Ot;else{const Gt=.5-Ft;it[Zt]=Gt>0?Gt*Gt:0,Ce[Zt]=Gt<0?Gt*Gt:0}}ui(it,0,0,D,k,D,this.f,this.v,this.z),ui(Ce,Me,Me,b,_,D,this.f,this.v,this.z);for(let $e=0;$e<R;$e++){const ft=Math.sqrt(it[$e])-Math.sqrt(Ce[$e]);z[$e]=Math.round(255-255*(ft/this.radius+this.cutoff))}return ee}};class Oi{constructor(){this.specification=v.v8Spec.light.position}possiblyEvaluate(i,d){return v.sphericalToCartesian(i.expression.evaluate(d))}interpolate(i,d,y){return{x:v.interpolate.number(i.x,d.x,y),y:v.interpolate.number(i.y,d.y,y),z:v.interpolate.number(i.z,d.z,y)}}}let Tn,$n;class pn extends v.Evented{constructor(i){super(),Tn=Tn||new v.Properties({anchor:new v.DataConstantProperty(v.v8Spec.light.anchor),position:new Oi,color:new v.DataConstantProperty(v.v8Spec.light.color),intensity:new v.DataConstantProperty(v.v8Spec.light.intensity)}),this._transitionable=new v.Transitionable(Tn),this.setLight(i),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(i,d={}){if(!this._validate(v.validateLight,i,d))for(const y in i){const w=i[y];y.endsWith("-transition")?this._transitionable.setTransition(y.slice(0,-11),w):this._transitionable.setValue(y,w)}}updateTransitions(i){this._transitioning=this._transitionable.transitioned(i,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(i){this.properties=this._transitioning.possiblyEvaluate(i)}_validate(i,d,y){return(!y||!1!==y.validate)&&v.emitValidationErrors(this,i.call(v.validateStyle,v.extend({value:d,style:{glyphs:!0,sprite:!0},styleSpec:v.v8Spec})))}}class jn{constructor(i,d){this.width=i,this.height=d,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(i,d){const y=i.join(",")+String(d);return this.dashEntry[y]||(this.dashEntry[y]=this.addDash(i,d)),this.dashEntry[y]}getDashRanges(i,d,y){const w=[];let S=i.length%2==1?-i[i.length-1]*y:0,f=i[0]*y,b=!0;w.push({left:S,right:f,isDash:b,zeroLength:0===i[0]});let _=i[0];for(let D=1;D<i.length;D++){b=!b;const k=i[D];S=_*y,_+=k,f=_*y,w.push({left:S,right:f,isDash:b,zeroLength:0===k})}return w}addRoundDash(i,d,y){const w=d/2;for(let S=-y;S<=y;S++){const f=this.width*(this.nextRow+y+S);let b=0,_=i[b];for(let D=0;D<this.width;D++){D/_.right>1&&(_=i[++b]);const k=Math.abs(D-_.left),R=Math.abs(D-_.right),z=Math.min(k,R);let ee;const oe=S/y*(w+1);if(_.isDash){const Me=w-Math.abs(oe);ee=Math.sqrt(z*z+Me*Me)}else ee=w-Math.sqrt(z*z+oe*oe);this.data[f+D]=Math.max(0,Math.min(255,ee+128))}}}addRegularDash(i){for(let b=i.length-1;b>=0;--b){const _=i[b],D=i[b+1];_.zeroLength?i.splice(b,1):D&&D.isDash===_.isDash&&(D.left=_.left,i.splice(b,1))}const d=i[0],y=i[i.length-1];d.isDash===y.isDash&&(d.left=y.left-this.width,y.right=d.right+this.width);const w=this.width*this.nextRow;let S=0,f=i[S];for(let b=0;b<this.width;b++){b/f.right>1&&(f=i[++S]);const _=Math.abs(b-f.left),D=Math.abs(b-f.right),k=Math.min(_,D);this.data[w+b]=Math.max(0,Math.min(255,(f.isDash?k:-k)+128))}}addDash(i,d){const y=d?7:0,w=2*y+1;if(this.nextRow+w>this.height)return v.warnOnce("LineAtlas out of space"),null;let S=0;for(let b=0;b<i.length;b++)S+=i[b];if(0!==S){const b=this.width/S,_=this.getDashRanges(i,this.width,b);d?this.addRoundDash(_,b,y):this.addRegularDash(_)}const f={y:(this.nextRow+y+.5)/this.height,height:2*y/this.height,width:S};return this.nextRow+=w,this.dirty=!0,f}bind(i){const d=i.gl;this.texture?(d.bindTexture(d.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,d.texSubImage2D(d.TEXTURE_2D,0,0,0,this.width,this.height,d.ALPHA,d.UNSIGNED_BYTE,this.data))):(this.texture=d.createTexture(),d.bindTexture(d.TEXTURE_2D,this.texture),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),d.texImage2D(d.TEXTURE_2D,0,d.ALPHA,this.width,this.height,0,d.ALPHA,d.UNSIGNED_BYTE,this.data))}}class In{constructor(i,d,y){this.workerPool=i,this.actors=[],this.currentActor=0,this.id=y;const w=this.workerPool.acquire(y);for(let S=0;S<w.length;S++){const f=new In.Actor(w[S],d,y);f.name=`Worker ${S}`,this.actors.push(f)}if(!this.actors.length)throw new Error("No actors found")}broadcast(i,d,y){v.asyncAll(this.actors,(w,S)=>{w.send(i,d,S)},y=y||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(i=!0){this.actors.forEach(d=>{d.remove()}),this.actors=[],i&&this.workerPool.release(this.id)}}function Et(E,i,d){const y=function(w,S){if(w)return d(w);if(S){const f=v.pick(v.extend(S,E),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);S.vector_layers&&(f.vectorLayers=S.vector_layers,f.vectorLayerIds=f.vectorLayers.map(b=>b.id)),d(null,f)}};return E.url?v.getJSON(i.transformRequest(E.url,Xe.Source),y):v.browser.frame(()=>y(null,E))}In.Actor=v.Actor;class gt{constructor(i,d){i&&(d?this.setSouthWest(i).setNorthEast(d):Array.isArray(i)&&(4===i.length?this.setSouthWest([i[0],i[1]]).setNorthEast([i[2],i[3]]):this.setSouthWest(i[0]).setNorthEast(i[1])))}setNorthEast(i){return this._ne=i instanceof v.LngLat?new v.LngLat(i.lng,i.lat):v.LngLat.convert(i),this}setSouthWest(i){return this._sw=i instanceof v.LngLat?new v.LngLat(i.lng,i.lat):v.LngLat.convert(i),this}extend(i){const d=this._sw,y=this._ne;let w,S;if(i instanceof v.LngLat)w=i,S=i;else{if(!(i instanceof gt))return Array.isArray(i)?4===i.length||i.every(Array.isArray)?this.extend(gt.convert(i)):this.extend(v.LngLat.convert(i)):i&&("lng"in i||"lon"in i)&&"lat"in i?this.extend(v.LngLat.convert(i)):this;if(w=i._sw,S=i._ne,!w||!S)return this}return d||y?(d.lng=Math.min(w.lng,d.lng),d.lat=Math.min(w.lat,d.lat),y.lng=Math.max(S.lng,y.lng),y.lat=Math.max(S.lat,y.lat)):(this._sw=new v.LngLat(w.lng,w.lat),this._ne=new v.LngLat(S.lng,S.lat)),this}getCenter(){return new v.LngLat((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new v.LngLat(this.getWest(),this.getNorth())}getSouthEast(){return new v.LngLat(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(i){const{lng:d,lat:y}=v.LngLat.convert(i);let w=this._sw.lng<=d&&d<=this._ne.lng;return this._sw.lng>this._ne.lng&&(w=this._sw.lng>=d&&d>=this._ne.lng),this._sw.lat<=y&&y<=this._ne.lat&&w}static convert(i){return i instanceof gt?i:i&&new gt(i)}static fromLngLat(i,d=0){const y=360*d/40075017,w=y/Math.cos(Math.PI/180*i.lat);return new gt(new v.LngLat(i.lng-w,i.lat-y),new v.LngLat(i.lng+w,i.lat+y))}}class Nt{constructor(i,d,y){this.bounds=gt.convert(this.validateBounds(i)),this.minzoom=d||0,this.maxzoom=y||24}validateBounds(i){return Array.isArray(i)&&4===i.length?[Math.max(-180,i[0]),Math.max(-90,i[1]),Math.min(180,i[2]),Math.min(90,i[3])]:[-180,-90,180,90]}contains(i){const d=Math.pow(2,i.z),y=Math.floor(v.mercatorXfromLng(this.bounds.getWest())*d),w=Math.floor(v.mercatorYfromLat(this.bounds.getNorth())*d),S=Math.ceil(v.mercatorXfromLng(this.bounds.getEast())*d),f=Math.ceil(v.mercatorYfromLat(this.bounds.getSouth())*d);return i.x>=y&&i.x<S&&i.y>=w&&i.y<f}}class zt extends v.Evented{constructor(i,d,y,w){if(super(),this.load=()=>{this._loaded=!1,this.fire(new v.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Et(this._options,this.map._requestManager,(S,f)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),S?this.fire(new v.ErrorEvent(S)):f&&(v.extend(this,f),f.bounds&&(this.tileBounds=new Nt(f.bounds,this.minzoom,this.maxzoom)),this.fire(new v.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new v.Event("data",{dataType:"source",sourceDataType:"content"})))})},this.serialize=()=>v.extend({},this._options),this.id=i,this.dispatcher=y,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,v.extend(this,v.pick(d,["url","scheme","tileSize","promoteId"])),this._options=v.extend({type:"vector"},d),this._collectResourceTiming=d.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(w)}loaded(){return this._loaded}hasTile(i){return!this.tileBounds||this.tileBounds.contains(i.canonical)}onAdd(i){this.map=i,this.load()}setSourceProperty(i){this._tileJSONRequest&&this._tileJSONRequest.cancel(),i(),this.load()}setTiles(i){return this.setSourceProperty(()=>{this._options.tiles=i}),this}setUrl(i){return this.setSourceProperty(()=>{this.url=i,this._options.url=i}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}loadTile(i,d){const y=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),w={request:this.map._requestManager.transformRequest(y,Xe.Tile),uid:i.uid,tileID:i.tileID,zoom:i.tileID.overscaledZ,tileSize:this.tileSize*i.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function S(f,b){return delete i.request,i.aborted?d(null):f&&404!==f.status?d(f):(b&&b.resourceTiming&&(i.resourceTiming=b.resourceTiming),this.map._refreshExpiredTiles&&b&&i.setExpiryData(b),i.loadVectorData(b,this.map.painter),d(null),void(i.reloadCallback&&(this.loadTile(i,i.reloadCallback),i.reloadCallback=null)))}w.request.collectResourceTiming=this._collectResourceTiming,i.actor&&"expired"!==i.state?"loading"===i.state?i.reloadCallback=d:i.request=i.actor.send("reloadTile",w,S.bind(this)):(i.actor=this.dispatcher.getActor(),i.request=i.actor.send("loadTile",w,S.bind(this)))}abortTile(i){i.request&&(i.request.cancel(),delete i.request),i.actor&&i.actor.send("abortTile",{uid:i.uid,type:this.type,source:this.id},void 0)}unloadTile(i){i.unloadVectorData(),i.actor&&i.actor.send("removeTile",{uid:i.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class ni extends v.Evented{constructor(i,d,y,w){super(),this.id=i,this.dispatcher=y,this.setEventedParent(w),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=v.extend({type:"raster"},d),v.extend(this,v.pick(d,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new v.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Et(this._options,this.map._requestManager,(i,d)=>{this._tileJSONRequest=null,this._loaded=!0,i?this.fire(new v.ErrorEvent(i)):d&&(v.extend(this,d),d.bounds&&(this.tileBounds=new Nt(d.bounds,this.minzoom,this.maxzoom)),this.fire(new v.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new v.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(i){this.map=i,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return v.extend({},this._options)}hasTile(i){return!this.tileBounds||this.tileBounds.contains(i.canonical)}loadTile(i,d){const y=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);i.request=et.getImage(this.map._requestManager.transformRequest(y,Xe.Tile),(w,S,f)=>{if(delete i.request,i.aborted)i.state="unloaded",d(null);else if(w)i.state="errored",d(w);else if(S){this.map._refreshExpiredTiles&&f&&i.setExpiryData(f);const b=this.map.painter.context,_=b.gl;i.texture=this.map.painter.getTileTexture(S.width),i.texture?i.texture.update(S,{useMipmap:!0}):(i.texture=new Ae(b,S,_.RGBA,{useMipmap:!0}),i.texture.bind(_.LINEAR,_.CLAMP_TO_EDGE,_.LINEAR_MIPMAP_NEAREST),b.extTextureFilterAnisotropic&&_.texParameterf(_.TEXTURE_2D,b.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,b.extTextureFilterAnisotropicMax)),i.state="loaded",d(null)}},this.map._refreshExpiredTiles)}abortTile(i,d){i.request&&(i.request.cancel(),delete i.request),d()}unloadTile(i,d){i.texture&&this.map.painter.saveTileTexture(i.texture),d()}hasTransition(){return!1}}class Ct extends ni{constructor(i,d,y,w){super(i,d,y,w),this.type="raster-dem",this.maxzoom=22,this._options=v.extend({type:"raster-dem"},d),this.encoding=d.encoding||"mapbox"}serialize(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}}loadTile(i,d){const y=i.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);function w(S,f){S&&(i.state="errored",d(S)),f&&(i.dem=f,i.needsHillshadePrepare=!0,i.needsTerrainPrepare=!0,i.state="loaded",d(null))}i.request=et.getImage(this.map._requestManager.transformRequest(y,Xe.Tile),function(S,f){if(delete i.request,i.aborted)i.state="unloaded",d(null);else if(S)i.state="errored",d(S);else if(f){this.map._refreshExpiredTiles&&i.setExpiryData(f),delete f.cacheControl,delete f.expires;const b=v.isImageBitmap(f)&&(null==$n&&($n=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof createImageBitmap),$n)?f:v.browser.getImageData(f,1),_={uid:i.uid,coord:i.tileID,source:this.id,rawImageData:b,encoding:this.encoding};i.actor&&"expired"!==i.state||(i.actor=this.dispatcher.getActor(),i.actor.send("loadDEMTile",_,w.bind(this)))}}.bind(this),this.map._refreshExpiredTiles),i.neighboringTiles=this._getNeighboringTiles(i.tileID)}_getNeighboringTiles(i){const d=i.canonical,y=Math.pow(2,d.z),w=(d.x-1+y)%y,S=0===d.x?i.wrap-1:i.wrap,f=(d.x+1+y)%y,b=d.x+1===y?i.wrap+1:i.wrap,_={};return _[new v.OverscaledTileID(i.overscaledZ,S,d.z,w,d.y).key]={backfilled:!1},_[new v.OverscaledTileID(i.overscaledZ,b,d.z,f,d.y).key]={backfilled:!1},d.y>0&&(_[new v.OverscaledTileID(i.overscaledZ,S,d.z,w,d.y-1).key]={backfilled:!1},_[new v.OverscaledTileID(i.overscaledZ,i.wrap,d.z,d.x,d.y-1).key]={backfilled:!1},_[new v.OverscaledTileID(i.overscaledZ,b,d.z,f,d.y-1).key]={backfilled:!1}),d.y+1<y&&(_[new v.OverscaledTileID(i.overscaledZ,S,d.z,w,d.y+1).key]={backfilled:!1},_[new v.OverscaledTileID(i.overscaledZ,i.wrap,d.z,d.x,d.y+1).key]={backfilled:!1},_[new v.OverscaledTileID(i.overscaledZ,b,d.z,f,d.y+1).key]={backfilled:!1}),_}unloadTile(i){i.demTexture&&this.map.painter.saveTileTexture(i.demTexture),i.fbo&&(i.fbo.destroy(),delete i.fbo),i.dem&&delete i.dem,delete i.neighboringTiles,i.state="unloaded",i.actor&&i.actor.send("removeDEMTile",{uid:i.uid,source:this.id})}}class li extends v.Evented{constructor(i,d,y,w){super(),this.load=()=>{this._updateWorkerData()},this.serialize=()=>v.extend({},this._options,{type:this.type,data:this._data}),this.id=i,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=y.getActor(),this.setEventedParent(w),this._data=d.data,this._options=v.extend({},d),this._collectResourceTiming=d.collectResourceTiming,void 0!==d.maxzoom&&(this.maxzoom=d.maxzoom),d.type&&(this.type=d.type),d.attribution&&(this.attribution=d.attribution),this.promoteId=d.promoteId;const S=v.EXTENT/this.tileSize;this.workerOptions=v.extend({source:this.id,cluster:d.cluster||!1,geojsonVtOptions:{buffer:(void 0!==d.buffer?d.buffer:128)*S,tolerance:(void 0!==d.tolerance?d.tolerance:.375)*S,extent:v.EXTENT,maxZoom:this.maxzoom,lineMetrics:d.lineMetrics||!1,generateId:d.generateId||!1},superclusterOptions:{maxZoom:void 0!==d.clusterMaxZoom?d.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,d.clusterMinPoints||2),extent:v.EXTENT,radius:(d.clusterRadius||50)*S,log:!1,generateId:d.generateId||!1},clusterProperties:d.clusterProperties,filter:d.filter},d.workerOptions),"string"==typeof this.promoteId&&(this.workerOptions.promoteId=this.promoteId)}onAdd(i){this.map=i,this.load()}setData(i){return this._data=i,this._updateWorkerData(),this}updateData(i){return this._updateWorkerData(i),this}setClusterOptions(i){return this.workerOptions.cluster=i.cluster,i&&(void 0!==i.clusterRadius&&(this.workerOptions.superclusterOptions.radius=i.clusterRadius),void 0!==i.clusterMaxZoom&&(this.workerOptions.superclusterOptions.maxZoom=i.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(i,d){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:i,source:this.id},d),this}getClusterChildren(i,d){return this.actor.send("geojson.getClusterChildren",{clusterId:i,source:this.id},d),this}getClusterLeaves(i,d,y,w){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:i,limit:d,offset:y},w),this}_updateWorkerData(i){const d=v.extend({},this.workerOptions);i?d.dataDiff=i:"string"==typeof this._data?(d.request=this.map._requestManager.transformRequest(v.browser.resolveURL(this._data),Xe.Source),d.request.collectResourceTiming=this._collectResourceTiming):d.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new v.Event("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,d,(y,w)=>{if(this._pendingLoads--,this._removed||w&&w.abandoned)return void this.fire(new v.Event("dataabort",{dataType:"source"}));let S=null;if(w&&w.resourceTiming&&w.resourceTiming[this.id]&&(S=w.resourceTiming[this.id].slice(0)),y)return void this.fire(new v.ErrorEvent(y));const f={dataType:"source"};this._collectResourceTiming&&S&&S.length>0&&v.extend(f,{resourceTiming:S}),this.fire(new v.Event("data",{...f,sourceDataType:"metadata"})),this.fire(new v.Event("data",{...f,sourceDataType:"content"}))})}loaded(){return 0===this._pendingLoads}loadTile(i,d){const y=i.actor?"reloadTile":"loadTile";i.actor=this.actor;const w={type:this.type,uid:i.uid,tileID:i.tileID,zoom:i.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};i.request=this.actor.send(y,w,(S,f)=>(delete i.request,i.unloadVectorData(),i.aborted?d(null):S?d(S):(i.loadVectorData(f,this.map.painter,"reloadTile"===y),d(null))))}abortTile(i){i.request&&(i.request.cancel(),delete i.request),i.aborted=!0}unloadTile(i){i.unloadVectorData(),this.actor.send("removeTile",{uid:i.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}hasTransition(){return!1}}var Be=v.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class rt extends v.Evented{constructor(i,d,y,w){super(),this.load=(S,f)=>{this._loaded=!1,this.fire(new v.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=et.getImage(this.map._requestManager.transformRequest(this.url,Xe.Image),(b,_)=>{this._request=null,this._loaded=!0,b?this.fire(new v.ErrorEvent(b)):_&&(this.image=_,S&&(this.coordinates=S),f&&f(),this._finishLoading())})},this.prepare=()=>{if(0===Object.keys(this.tiles).length||!this.image)return;const S=this.map.painter.context,f=S.gl;this.boundsBuffer||(this.boundsBuffer=S.createVertexBuffer(this._boundsArray,Be.members)),this.boundsSegments||(this.boundsSegments=v.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new Ae(S,this.image,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE));let b=!1;for(const _ in this.tiles){const D=this.tiles[_];"loaded"!==D.state&&(D.state="loaded",D.texture=this.texture,b=!0)}b&&this.fire(new v.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"image",url:this.options.url,coordinates:this.coordinates}),this.id=i,this.dispatcher=y,this.coordinates=d.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(w),this.options=d}loaded(){return this._loaded}updateImage(i){return i.url?(this._request&&(this._request.cancel(),this._request=null),this.options.url=i.url,this.load(i.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new v.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(i){this.map=i,this.load()}onRemove(){this._request&&(this._request.cancel(),this._request=null)}setCoordinates(i){this.coordinates=i;const d=i.map(v.MercatorCoordinate.fromLngLat);this.tileID=function(w){let S=1/0,f=1/0,b=-1/0,_=-1/0;for(const z of w)S=Math.min(S,z.x),f=Math.min(f,z.y),b=Math.max(b,z.x),_=Math.max(_,z.y);const D=Math.max(b-S,_-f),k=Math.max(0,Math.floor(-Math.log(D)/Math.LN2)),R=Math.pow(2,k);return new v.CanonicalTileID(k,Math.floor((S+b)/2*R),Math.floor((f+_)/2*R))}(d),this.minzoom=this.maxzoom=this.tileID.z;const y=d.map(w=>this.tileID.getTilePoint(w)._round());return this._boundsArray=new v.RasterBoundsArray,this._boundsArray.emplaceBack(y[0].x,y[0].y,0,0),this._boundsArray.emplaceBack(y[1].x,y[1].y,v.EXTENT,0),this._boundsArray.emplaceBack(y[3].x,y[3].y,0,v.EXTENT),this._boundsArray.emplaceBack(y[2].x,y[2].y,v.EXTENT,v.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new v.Event("data",{dataType:"source",sourceDataType:"content"})),this}loadTile(i,d){this.tileID&&this.tileID.equals(i.tileID.canonical)?(this.tiles[String(i.tileID.wrap)]=i,i.buckets={},d(null)):(i.state="errored",d(null))}hasTransition(){return!1}}class ut extends rt{constructor(i,d,y,w){super(i,d,y,w),this.load=()=>{this._loaded=!1;const S=this.options;this.urls=[];for(const f of S.urls)this.urls.push(this.map._requestManager.transformRequest(f,Xe.Source).url);v.getVideo(this.urls,(f,b)=>{this._loaded=!0,f?this.fire(new v.ErrorEvent(f)):b&&(this.video=b,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})},this.prepare=()=>{if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const S=this.map.painter.context,f=S.gl;this.boundsBuffer||(this.boundsBuffer=S.createVertexBuffer(this._boundsArray,Be.members)),this.boundsSegments||(this.boundsSegments=v.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE),f.texSubImage2D(f.TEXTURE_2D,0,0,0,f.RGBA,f.UNSIGNED_BYTE,this.video)):(this.texture=new Ae(S,this.video,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE));let b=!1;for(const _ in this.tiles){const D=this.tiles[_];"loaded"!==D.state&&(D.state="loaded",D.texture=this.texture,b=!0)}b&&this.fire(new v.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"video",urls:this.urls,coordinates:this.coordinates}),this.roundZoom=!0,this.type="video",this.options=d}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(i){if(this.video){const d=this.video.seekable;i<d.start(0)||i>d.end(0)?this.fire(new v.ErrorEvent(new v.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${d.start(0)} and ${d.end(0)}-second mark.`))):this.video.currentTime=i}}getVideo(){return this.video}onAdd(i){this.map||(this.map=i,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}hasTransition(){return this.video&&!this.video.paused}}class Ee extends rt{constructor(i,d,y,w){super(i,d,y,w),this.load=()=>{this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new v.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},this.prepare=()=>{let S=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,S=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,S=!0),this._hasInvalidDimensions()||0===Object.keys(this.tiles).length)return;const f=this.map.painter.context,b=f.gl;this.boundsBuffer||(this.boundsBuffer=f.createVertexBuffer(this._boundsArray,Be.members)),this.boundsSegments||(this.boundsSegments=v.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(S||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new Ae(f,this.canvas,b.RGBA,{premultiply:!0});let _=!1;for(const D in this.tiles){const k=this.tiles[D];"loaded"!==k.state&&(k.state="loaded",k.texture=this.texture,_=!0)}_&&this.fire(new v.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"canvas",coordinates:this.coordinates}),d.coordinates?Array.isArray(d.coordinates)&&4===d.coordinates.length&&!d.coordinates.some(S=>!Array.isArray(S)||2!==S.length||S.some(f=>"number"!=typeof f))||this.fire(new v.ErrorEvent(new v.ValidationError(`sources.${i}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new v.ErrorEvent(new v.ValidationError(`sources.${i}`,null,'missing required property "coordinates"'))),d.animate&&"boolean"!=typeof d.animate&&this.fire(new v.ErrorEvent(new v.ValidationError(`sources.${i}`,null,'optional "animate" property must be a boolean value'))),d.canvas?"string"==typeof d.canvas||d.canvas instanceof HTMLCanvasElement||this.fire(new v.ErrorEvent(new v.ValidationError(`sources.${i}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new v.ErrorEvent(new v.ValidationError(`sources.${i}`,null,'missing required property "canvas"'))),this.options=d,this.animate=void 0===d.animate||d.animate}getCanvas(){return this.canvas}onAdd(i){this.map=i,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const i of[this.canvas.width,this.canvas.height])if(isNaN(i)||i<=0)return!0;return!1}}const ht={},Kt=E=>{switch(E){case"geojson":return li;case"image":return rt;case"raster":return ni;case"raster-dem":return Ct;case"vector":return zt;case"video":return ut;case"canvas":return Ee}return ht[E]};function Bt(E,i){const d=v.create();return v.translate(d,d,[1,1,0]),v.scale(d,d,[.5*E.width,.5*E.height,1]),v.multiply(d,d,E.calculatePosMatrix(i.toUnwrapped()))}function ri(E,i,d,y,w,S){const f=function(R,z,ee){if(R)for(const oe of R){const Me=z[oe];if(Me&&Me.source===ee&&"fill-extrusion"===Me.type)return!0}else for(const oe in z){const Me=z[oe];if(Me.source===ee&&"fill-extrusion"===Me.type)return!0}return!1}(w&&w.layers,i,E.id),b=S.maxPitchScaleFactor(),_=E.tilesIn(y,b,f);_.sort(ot);const D=[];for(const R of _)D.push({wrappedTileID:R.tileID.wrapped().key,queryResults:R.tile.queryRenderedFeatures(i,d,E._state,R.queryGeometry,R.cameraQueryGeometry,R.scale,w,S,b,Bt(E.transform,R.tileID))});const k=function(R){const z={},ee={};for(const oe of R){const Me=oe.queryResults,Ce=oe.wrappedTileID,it=ee[Ce]=ee[Ce]||{};for(const yt in Me){const $e=Me[yt],ft=it[yt]=it[yt]||{},Ft=z[yt]=z[yt]||[];for(const Zt of $e)ft[Zt.featureIndex]||(ft[Zt.featureIndex]=!0,Ft.push(Zt))}}return z}(D);for(const R in k)k[R].forEach(z=>{const ee=z.feature,oe=E.getFeatureState(ee.layer["source-layer"],ee.id);ee.source=ee.layer.source,ee.layer["source-layer"]&&(ee.sourceLayer=ee.layer["source-layer"]),ee.state=oe});return k}function ot(E,i){const d=E.tileID,y=i.tileID;return d.overscaledZ-y.overscaledZ||d.canonical.y-y.canonical.y||d.wrap-y.wrap||d.canonical.x-y.canonical.x}class Dt{constructor(i,d){this.timeAdded=0,this.fadeEndTime=0,this.tileID=i,this.uid=v.uniqueId(),this.uses=0,this.tileSize=d,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(i){const d=i+this.timeAdded;d<this.fadeEndTime||(this.fadeEndTime=d)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}clearTextures(i){this.demTexture&&i.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(i,d,y){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",i){i.featureIndex&&(this.latestFeatureIndex=i.featureIndex,i.rawTileData?(this.latestRawTileData=i.rawTileData,this.latestFeatureIndex.rawTileData=i.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=i.collisionBoxArray,this.buckets=function(w,S){const f={};if(!S)return f;for(const b of w){const _=b.layerIds.map(D=>S.getLayer(D)).filter(Boolean);if(0!==_.length){b.layers=_,b.stateDependentLayerIds&&(b.stateDependentLayers=b.stateDependentLayerIds.map(D=>_.filter(k=>k.id===D)[0]));for(const D of _)f[D.id]=b}}return f}(i.buckets,d.style),this.hasSymbolBuckets=!1;for(const w in this.buckets){const S=this.buckets[w];if(S instanceof v.SymbolBucket){if(this.hasSymbolBuckets=!0,!y)break;S.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const w in this.buckets){const S=this.buckets[w];if(S instanceof v.SymbolBucket&&S.hasRTLText){this.hasRTLText=!0,v.lazyLoadRTLTextPlugin();break}}this.queryPadding=0;for(const w in this.buckets){const S=this.buckets[w];this.queryPadding=Math.max(this.queryPadding,d.style.getLayer(w).queryRadius(S))}i.imageAtlas&&(this.imageAtlas=i.imageAtlas),i.glyphAtlasImage&&(this.glyphAtlasImage=i.glyphAtlasImage)}else this.collisionBoxArray=new v.CollisionBoxArray}unloadVectorData(){for(const i in this.buckets)this.buckets[i].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(i){return this.buckets[i.id]}upload(i){for(const y in this.buckets){const w=this.buckets[y];w.uploadPending()&&w.upload(i)}const d=i.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Ae(i,this.imageAtlas.image,d.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Ae(i,this.glyphAtlasImage,d.ALPHA),this.glyphAtlasImage=null)}prepare(i){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(i,this.imageAtlasTexture)}queryRenderedFeatures(i,d,y,w,S,f,b,_,D,k){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:w,cameraQueryGeometry:S,scale:f,tileSize:this.tileSize,pixelPosMatrix:k,transform:_,params:b,queryPadding:this.queryPadding*D},i,d,y):{}}querySourceFeatures(i,d){const y=this.latestFeatureIndex;if(!y||!y.rawTileData)return;const w=y.loadVTLayers(),S=d&&d.sourceLayer?d.sourceLayer:"",f=w._geojsonTileLayer||w[S];if(!f)return;const b=v.createFilter(d&&d.filter),{z:_,x:D,y:k}=this.tileID.canonical,R={z:_,x:D,y:k};for(let z=0;z<f.length;z++){const ee=f.feature(z);if(b.needGeometry){const Ce=v.toEvaluationFeature(ee,!0);if(!b.filter(new v.EvaluationParameters(this.tileID.overscaledZ),Ce,this.tileID.canonical))continue}else if(!b.filter(new v.EvaluationParameters(this.tileID.overscaledZ),ee))continue;const oe=y.getId(ee,S),Me=new v.GeoJSONFeature(ee,_,D,k,oe);Me.tile=R,i.push(Me)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(i){const d=this.expirationTime;if(i.cacheControl){const y=v.parseCacheControl(i.cacheControl);y["max-age"]&&(this.expirationTime=Date.now()+1e3*y["max-age"])}else i.expires&&(this.expirationTime=new Date(i.expires).getTime());if(this.expirationTime){const y=Date.now();let w=!1;if(this.expirationTime>y)w=!1;else if(d)if(this.expirationTime<d)w=!0;else{const S=this.expirationTime-d;S?this.expirationTime=y+Math.max(S,3e4):w=!0}else w=!0;w?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(i,d){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(i).length)return;const y=this.latestFeatureIndex.loadVTLayers();for(const w in this.buckets){if(!d.style.hasLayer(w))continue;const S=this.buckets[w],f=S.layers[0].sourceLayer||"_geojsonTileLayer",b=y[f],_=i[f];if(!b||!_||0===Object.keys(_).length)continue;S.update(_,b,this.imageAtlas&&this.imageAtlas.patternPositions||{});const D=d&&d.style&&d.style.getLayer(w);D&&(this.queryPadding=Math.max(this.queryPadding,D.queryRadius(S)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<v.browser.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(i){this.symbolFadeHoldUntil=v.browser.now()+i}setDependencies(i,d){const y={};for(const w of d)y[w]=!0;this.dependencies[i]=y}hasDependency(i,d){for(const y of i){const w=this.dependencies[y];if(w)for(const S of d)if(w[S])return!0}return!1}}class wi{constructor(i,d){this.max=i,this.onRemove=d,this.reset()}reset(){for(const i in this.data)for(const d of this.data[i])d.timeout&&clearTimeout(d.timeout),this.onRemove(d.value);return this.data={},this.order=[],this}add(i,d,y){const w=i.wrapped().key;void 0===this.data[w]&&(this.data[w]=[]);const S={value:d,timeout:void 0};if(void 0!==y&&(S.timeout=setTimeout(()=>{this.remove(i,S)},y)),this.data[w].push(S),this.order.push(w),this.order.length>this.max){const f=this._getAndRemoveByKey(this.order[0]);f&&this.onRemove(f)}return this}has(i){return i.wrapped().key in this.data}getAndRemove(i){return this.has(i)?this._getAndRemoveByKey(i.wrapped().key):null}_getAndRemoveByKey(i){const d=this.data[i].shift();return d.timeout&&clearTimeout(d.timeout),0===this.data[i].length&&delete this.data[i],this.order.splice(this.order.indexOf(i),1),d.value}getByKey(i){const d=this.data[i];return d?d[0].value:null}get(i){return this.has(i)?this.data[i.wrapped().key][0].value:null}remove(i,d){if(!this.has(i))return this;const y=i.wrapped().key,w=void 0===d?0:this.data[y].indexOf(d),S=this.data[y][w];return this.data[y].splice(w,1),S.timeout&&clearTimeout(S.timeout),0===this.data[y].length&&delete this.data[y],this.onRemove(S.value),this.order.splice(this.order.indexOf(y),1),this}setMaxSize(i){for(this.max=i;this.order.length>this.max;){const d=this._getAndRemoveByKey(this.order[0]);d&&this.onRemove(d)}return this}filter(i){const d=[];for(const y in this.data)for(const w of this.data[y])i(w.value)||d.push(w);for(const y of d)this.remove(y.value.tileID,y)}}class vn{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(i,d,y){const w=String(d);if(this.stateChanges[i]=this.stateChanges[i]||{},this.stateChanges[i][w]=this.stateChanges[i][w]||{},v.extend(this.stateChanges[i][w],y),null===this.deletedStates[i]){this.deletedStates[i]={};for(const S in this.state[i])S!==w&&(this.deletedStates[i][S]=null)}else if(this.deletedStates[i]&&null===this.deletedStates[i][w]){this.deletedStates[i][w]={};for(const S in this.state[i][w])y[S]||(this.deletedStates[i][w][S]=null)}else for(const S in y)this.deletedStates[i]&&this.deletedStates[i][w]&&null===this.deletedStates[i][w][S]&&delete this.deletedStates[i][w][S]}removeFeatureState(i,d,y){if(null===this.deletedStates[i])return;const w=String(d);if(this.deletedStates[i]=this.deletedStates[i]||{},y&&void 0!==d)null!==this.deletedStates[i][w]&&(this.deletedStates[i][w]=this.deletedStates[i][w]||{},this.deletedStates[i][w][y]=null);else if(void 0!==d)if(this.stateChanges[i]&&this.stateChanges[i][w])for(y in this.deletedStates[i][w]={},this.stateChanges[i][w])this.deletedStates[i][w][y]=null;else this.deletedStates[i][w]=null;else this.deletedStates[i]=null}getState(i,d){const y=String(d),w=v.extend({},(this.state[i]||{})[y],(this.stateChanges[i]||{})[y]);if(null===this.deletedStates[i])return{};if(this.deletedStates[i]){const S=this.deletedStates[i][d];if(null===S)return{};for(const f in S)delete w[f]}return w}initializeTileState(i,d){i.setFeatureState(this.state,d)}coalesceChanges(i,d){const y={};for(const w in this.stateChanges){this.state[w]=this.state[w]||{};const S={};for(const f in this.stateChanges[w])this.state[w][f]||(this.state[w][f]={}),v.extend(this.state[w][f],this.stateChanges[w][f]),S[f]=this.state[w][f];y[w]=S}for(const w in this.deletedStates){this.state[w]=this.state[w]||{};const S={};if(null===this.deletedStates[w])for(const f in this.state[w])S[f]={},this.state[w][f]={};else for(const f in this.deletedStates[w]){if(null===this.deletedStates[w][f])this.state[w][f]={};else for(const b of Object.keys(this.deletedStates[w][f]))delete this.state[w][f][b];S[f]=this.state[w][f]}y[w]=y[w]||{},v.extend(y[w],S)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(y).length)for(const w in i)i[w].setFeatureState(y,d)}}class Wi extends v.Evented{constructor(i,d,y){super(),this.id=i,this.dispatcher=y,this.on("data",w=>{"source"===w.dataType&&"metadata"===w.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===w.dataType&&"content"===w.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((w,S,f,b)=>{const _=new(Kt(S.type))(w,S,f,b);if(_.id!==w)throw new Error(`Expected Source id to be ${w} instead of ${_.id}`);return _})(i,d,y,this),this._tiles={},this._cache=new wi(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new vn,this._didEmitContent=!1,this._updated=!1}onAdd(i){this.map=i,this._maxTileCacheSize=i?i._maxTileCacheSize:null,this._maxTileCacheZoomLevels=i?i._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(i)}onRemove(i){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(i)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(void 0===this.used&&void 0===this.usedForTerrain||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const i in this._tiles){const d=this._tiles[i];if("loaded"!==d.state&&"errored"!==d.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const i=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,i&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(i,d){return this._source.loadTile(i,d)}_unloadTile(i){if(this._source.unloadTile)return this._source.unloadTile(i,()=>{})}_abortTile(i){this._source.abortTile&&this._source.abortTile(i,()=>{}),this._source.fire(new v.Event("dataabort",{tile:i,coord:i.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(i){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const d in this._tiles){const y=this._tiles[d];y.upload(i),y.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(i=>i.tileID).sort(Nn).map(i=>i.key)}getRenderableIds(i){const d=[];for(const y in this._tiles)this._isIdRenderable(y,i)&&d.push(this._tiles[y]);return i?d.sort((y,w)=>{const S=y.tileID,f=w.tileID,b=new v.Point(S.canonical.x,S.canonical.y)._rotate(this.transform.angle),_=new v.Point(f.canonical.x,f.canonical.y)._rotate(this.transform.angle);return S.overscaledZ-f.overscaledZ||_.y-b.y||_.x-b.x}).map(y=>y.tileID.key):d.map(y=>y.tileID).sort(Nn).map(y=>y.key)}hasRenderableParent(i){const d=this.findLoadedParent(i,0);return!!d&&this._isIdRenderable(d.tileID.key)}_isIdRenderable(i,d){return this._tiles[i]&&this._tiles[i].hasData()&&!this._coveredTiles[i]&&(d||!this._tiles[i].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const i in this._tiles)"errored"!==this._tiles[i].state&&this._reloadTile(i,"reloading")}}_reloadTile(i,d){const y=this._tiles[i];y&&("loading"!==y.state&&(y.state=d),this._loadTile(y,this._tileLoaded.bind(this,y,i,d)))}_tileLoaded(i,d,y,w){if(w)return i.state="errored",void(404!==w.status?this._source.fire(new v.ErrorEvent(w,{tile:i})):this.update(this.transform,this.terrain));i.timeAdded=v.browser.now(),"expired"===y&&(i.refreshedUponExpiration=!0),this._setTileReloadTimer(d,i),"raster-dem"===this.getSource().type&&i.dem&&this._backfillDEM(i),this._state.initializeTileState(i,this.map?this.map.painter:null),i.aborted||this._source.fire(new v.Event("data",{dataType:"source",tile:i,coord:i.tileID}))}_backfillDEM(i){const d=this.getRenderableIds();for(let w=0;w<d.length;w++){const S=d[w];if(i.neighboringTiles&&i.neighboringTiles[S]){const f=this.getTileByID(S);y(i,f),y(f,i)}}function y(w,S){w.needsHillshadePrepare=!0,w.needsTerrainPrepare=!0;let f=S.tileID.canonical.x-w.tileID.canonical.x;const b=S.tileID.canonical.y-w.tileID.canonical.y,_=Math.pow(2,w.tileID.canonical.z),D=S.tileID.key;0===f&&0===b||Math.abs(b)>1||(Math.abs(f)>1&&(1===Math.abs(f+_)?f+=_:1===Math.abs(f-_)&&(f-=_)),S.dem&&w.dem&&(w.dem.backfillBorder(S.dem,f,b),w.neighboringTiles&&w.neighboringTiles[D]&&(w.neighboringTiles[D].backfilled=!0)))}}getTile(i){return this.getTileByID(i.key)}getTileByID(i){return this._tiles[i]}_retainLoadedChildren(i,d,y,w){for(const S in this._tiles){let f=this._tiles[S];if(w[S]||!f.hasData()||f.tileID.overscaledZ<=d||f.tileID.overscaledZ>y)continue;let b=f.tileID;for(;f&&f.tileID.overscaledZ>d+1;){const D=f.tileID.scaledTo(f.tileID.overscaledZ-1);f=this._tiles[D.key],f&&f.hasData()&&(b=D)}let _=b;for(;_.overscaledZ>d;)if(_=_.scaledTo(_.overscaledZ-1),i[_.key]){w[b.key]=b;break}}}findLoadedParent(i,d){if(i.key in this._loadedParentTiles){const y=this._loadedParentTiles[i.key];return y&&y.tileID.overscaledZ>=d?y:null}for(let y=i.overscaledZ-1;y>=d;y--){const w=i.scaledTo(y),S=this._getLoadedTile(w);if(S)return S}}_getLoadedTile(i){const d=this._tiles[i.key];return d&&d.hasData()?d:this._cache.getByKey(i.wrapped().key)}updateCacheSize(i){const d=Math.ceil(i.width/this._source.tileSize)+1,y=Math.ceil(i.height/this._source.tileSize)+1,w=Math.floor(d*y*(null===this._maxTileCacheZoomLevels?v.config.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),S="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,w):w;this._cache.setMaxSize(S)}handleWrapJump(i){const d=Math.round((i-(void 0===this._prevLng?i:this._prevLng))/360);if(this._prevLng=i,d){const y={};for(const w in this._tiles){const S=this._tiles[w];S.tileID=S.tileID.unwrapTo(S.tileID.wrap+d),y[S.tileID.key]=S}this._tiles=y;for(const w in this._timers)clearTimeout(this._timers[w]),delete this._timers[w];for(const w in this._tiles)this._setTileReloadTimer(w,this._tiles[w])}}update(i,d){if(this.transform=i,this.terrain=d,!this._sourceLoaded||this._paused)return;let y;this.updateCacheSize(i),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?y=i.getVisibleUnwrappedCoordinates(this._source.tileID).map(k=>new v.OverscaledTileID(k.canonical.z,k.wrap,k.canonical.z,k.canonical.x,k.canonical.y)):(y=i.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:d}),this._source.hasTile&&(y=y.filter(k=>this._source.hasTile(k)))):y=[];const w=i.coveringZoomLevel(this._source),S=Math.max(w-Wi.maxOverzooming,this._source.minzoom),f=Math.max(w+Wi.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const k={};for(const R of y)if(R.canonical.z>this._source.minzoom){const z=R.scaledTo(R.canonical.z-1);k[z.key]=z;const ee=R.scaledTo(Math.max(this._source.minzoom,Math.min(R.canonical.z,5)));k[ee.key]=ee}y=y.concat(Object.values(k))}const b=0===y.length&&!this._updated&&this._didEmitContent;this._updated=!0,b&&this.fire(new v.Event("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const _=this._updateRetainedTiles(y,w);if(Cn(this._source.type)){const k={},R={},z=Object.keys(_),ee=v.browser.now();for(const oe of z){const Me=_[oe],Ce=this._tiles[oe];if(!Ce||0!==Ce.fadeEndTime&&Ce.fadeEndTime<=ee)continue;const it=this.findLoadedParent(Me,S);it&&(this._addTile(it.tileID),k[it.tileID.key]=it.tileID),R[oe]=Me}this._retainLoadedChildren(R,w,f,_);for(const oe in k)_[oe]||(this._coveredTiles[oe]=!0,_[oe]=k[oe]);if(d){const oe={},Me={};for(const Ce of y)this._tiles[Ce.key].hasData()?oe[Ce.key]=Ce:Me[Ce.key]=Ce;for(const Ce in Me){const it=Me[Ce].children(this._source.maxzoom);this._tiles[it[0].key]&&this._tiles[it[1].key]&&this._tiles[it[2].key]&&this._tiles[it[3].key]&&(oe[it[0].key]=_[it[0].key]=it[0],oe[it[1].key]=_[it[1].key]=it[1],oe[it[2].key]=_[it[2].key]=it[2],oe[it[3].key]=_[it[3].key]=it[3],delete Me[Ce])}for(const Ce in Me){const it=this.findLoadedParent(Me[Ce],this._source.minzoom);if(it){oe[it.tileID.key]=_[it.tileID.key]=it.tileID;for(const yt in oe)oe[yt].isChildOf(it.tileID)&&delete oe[yt]}}for(const Ce in this._tiles)oe[Ce]||(this._coveredTiles[Ce]=!0)}}for(const k in _)this._tiles[k].clearFadeHold();const D=v.keysDifference(this._tiles,_);for(const k of D){const R=this._tiles[k];R.hasSymbolBuckets&&!R.holdingForFade()?R.setHoldDuration(this.map._fadeDuration):R.hasSymbolBuckets&&!R.symbolFadeFinished()||this._removeTile(k)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const i in this._tiles)this._tiles[i].holdingForFade()&&this._removeTile(i)}_updateRetainedTiles(i,d){const y={},w={},S=Math.max(d-Wi.maxOverzooming,this._source.minzoom),f=Math.max(d+Wi.maxUnderzooming,this._source.minzoom),b={};for(const _ of i){const D=this._addTile(_);y[_.key]=_,D.hasData()||d<this._source.maxzoom&&(b[_.key]=_)}this._retainLoadedChildren(b,d,f,y);for(const _ of i){let D=this._tiles[_.key];if(D.hasData())continue;if(d+1>this._source.maxzoom){const R=_.children(this._source.maxzoom)[0],z=this.getTile(R);if(z&&z.hasData()){y[R.key]=R;continue}}else{const R=_.children(this._source.maxzoom);if(y[R[0].key]&&y[R[1].key]&&y[R[2].key]&&y[R[3].key])continue}let k=D.wasRequested();for(let R=_.overscaledZ-1;R>=S;--R){const z=_.scaledTo(R);if(w[z.key])break;if(w[z.key]=!0,D=this.getTile(z),!D&&k&&(D=this._addTile(z)),D){const ee=D.hasData();if((k||ee)&&(y[z.key]=z),k=D.wasRequested(),ee)break}}}return y}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const i in this._tiles){const d=[];let y,w=this._tiles[i].tileID;for(;w.overscaledZ>0;){if(w.key in this._loadedParentTiles){y=this._loadedParentTiles[w.key];break}d.push(w.key);const S=w.scaledTo(w.overscaledZ-1);if(y=this._getLoadedTile(S),y)break;w=S}for(const S of d)this._loadedParentTiles[S]=y}}_addTile(i){let d=this._tiles[i.key];if(d)return d;d=this._cache.getAndRemove(i),d&&(this._setTileReloadTimer(i.key,d),d.tileID=i,this._state.initializeTileState(d,this.map?this.map.painter:null),this._cacheTimers[i.key]&&(clearTimeout(this._cacheTimers[i.key]),delete this._cacheTimers[i.key],this._setTileReloadTimer(i.key,d)));const y=d;return d||(d=new Dt(i,this._source.tileSize*i.overscaleFactor()),this._loadTile(d,this._tileLoaded.bind(this,d,i.key,d.state))),d.uses++,this._tiles[i.key]=d,y||this._source.fire(new v.Event("dataloading",{tile:d,coord:d.tileID,dataType:"source"})),d}_setTileReloadTimer(i,d){i in this._timers&&(clearTimeout(this._timers[i]),delete this._timers[i]);const y=d.getExpiryTimeout();y&&(this._timers[i]=setTimeout(()=>{this._reloadTile(i,"expired"),delete this._timers[i]},y))}_removeTile(i){const d=this._tiles[i];d&&(d.uses--,delete this._tiles[i],this._timers[i]&&(clearTimeout(this._timers[i]),delete this._timers[i]),d.uses>0||(d.hasData()&&"reloading"!==d.state?this._cache.add(d.tileID,d,d.getExpiryTimeout()):(d.aborted=!0,this._abortTile(d),this._unloadTile(d))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const i in this._tiles)this._removeTile(i);this._cache.reset()}tilesIn(i,d,y){const w=[],S=this.transform;if(!S)return w;const f=y?S.getCameraQueryGeometry(i):i,b=i.map(oe=>S.pointCoordinate(oe,this.terrain)),_=f.map(oe=>S.pointCoordinate(oe,this.terrain)),D=this.getIds();let k=1/0,R=1/0,z=-1/0,ee=-1/0;for(const oe of _)k=Math.min(k,oe.x),R=Math.min(R,oe.y),z=Math.max(z,oe.x),ee=Math.max(ee,oe.y);for(let oe=0;oe<D.length;oe++){const Me=this._tiles[D[oe]];if(Me.holdingForFade())continue;const Ce=Me.tileID,it=Math.pow(2,S.zoom-Me.tileID.overscaledZ),yt=d*Me.queryPadding*v.EXTENT/Me.tileSize/it,$e=[Ce.getTilePoint(new v.MercatorCoordinate(k,R)),Ce.getTilePoint(new v.MercatorCoordinate(z,ee))];if($e[0].x-yt<v.EXTENT&&$e[0].y-yt<v.EXTENT&&$e[1].x+yt>=0&&$e[1].y+yt>=0){const ft=b.map(Zt=>Ce.getTilePoint(Zt)),Ft=_.map(Zt=>Ce.getTilePoint(Zt));w.push({tile:Me,tileID:Ce,queryGeometry:ft,cameraQueryGeometry:Ft,scale:it})}}return w}getVisibleCoordinates(i){const d=this.getRenderableIds(i).map(y=>this._tiles[y].tileID);for(const y of d)y.posMatrix=this.transform.calculatePosMatrix(y.toUnwrapped());return d}hasTransition(){if(this._source.hasTransition())return!0;if(Cn(this._source.type)){const i=v.browser.now();for(const d in this._tiles)if(this._tiles[d].fadeEndTime>=i)return!0}return!1}setFeatureState(i,d,y){this._state.updateState(i=i||"_geojsonTileLayer",d,y)}removeFeatureState(i,d,y){this._state.removeFeatureState(i=i||"_geojsonTileLayer",d,y)}getFeatureState(i,d){return this._state.getState(i=i||"_geojsonTileLayer",d)}setDependencies(i,d,y){const w=this._tiles[i];w&&w.setDependencies(d,y)}reloadTilesForDependencies(i,d){for(const y in this._tiles)this._tiles[y].hasDependency(i,d)&&this._reloadTile(y,"reloading");this._cache.filter(y=>!y.hasDependency(i,d))}}function Nn(E,i){const d=Math.abs(2*E.wrap)-+(E.wrap<0),y=Math.abs(2*i.wrap)-+(i.wrap<0);return E.overscaledZ-i.overscaledZ||y-d||i.canonical.y-E.canonical.y||i.canonical.x-E.canonical.x}function Cn(E){return"raster"===E||"image"===E||"video"===E}Wi.maxOverzooming=10,Wi.maxUnderzooming=3;const ii="mapboxgl_preloaded_worker_pool";class at{constructor(){this.active={}}acquire(i){if(!this.workers)for(this.workers=[];this.workers.length<at.workerCount;)this.workers.push(new Worker(v.config.WORKER_URL));return this.active[i]=!0,this.workers.slice()}release(i){delete this.active[i],0===this.numActive()&&(this.workers.forEach(d=>{d.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[ii]}numActive(){return Object.keys(this.active).length}}const ae=Math.floor(v.browser.hardwareConcurrency/2);let Se;function Pe(){return Se||(Se=new at),Se}at.workerCount=v.isSafari(globalThis)?Math.max(Math.min(ae,3),1):1;class he{constructor(i,d){this.reset(i,d)}reset(i,d){this.points=i||[],this._distances=[0];for(let y=1;y<this.points.length;y++)this._distances[y]=this._distances[y-1]+this.points[y].dist(this.points[y-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(d||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(i){if(1===this.points.length)return this.points[0];i=v.clamp(i,0,1);let d=1,y=this._distances[d];const w=i*this.paddedLength+this.padding;for(;y<w&&d<this._distances.length;)y=this._distances[++d];const S=d-1,f=this._distances[S],b=y-f,_=b>0?(w-f)/b:0;return this.points[S].mult(1-_).add(this.points[d].mult(_))}}function de(E,i){let d=!0;return"always"===E||"never"!==E&&"never"!==i||(d=!1),d}class Re{constructor(i,d,y){const w=this.boxCells=[],S=this.circleCells=[];this.xCellCount=Math.ceil(i/y),this.yCellCount=Math.ceil(d/y);for(let f=0;f<this.xCellCount*this.yCellCount;f++)w.push([]),S.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=i,this.height=d,this.xScale=this.xCellCount/i,this.yScale=this.yCellCount/d,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(i,d,y,w,S){this._forEachCell(d,y,w,S,this._insertBoxCell,this.boxUid++),this.boxKeys.push(i),this.bboxes.push(d),this.bboxes.push(y),this.bboxes.push(w),this.bboxes.push(S)}insertCircle(i,d,y,w){this._forEachCell(d-w,y-w,d+w,y+w,this._insertCircleCell,this.circleUid++),this.circleKeys.push(i),this.circles.push(d),this.circles.push(y),this.circles.push(w)}_insertBoxCell(i,d,y,w,S,f){this.boxCells[S].push(f)}_insertCircleCell(i,d,y,w,S,f){this.circleCells[S].push(f)}_query(i,d,y,w,S,f,b){if(y<0||i>this.width||w<0||d>this.height)return[];const _=[];if(i<=0&&d<=0&&this.width<=y&&this.height<=w){if(S)return[{key:null,x1:i,y1:d,x2:y,y2:w}];for(let D=0;D<this.boxKeys.length;D++)_.push({key:this.boxKeys[D],x1:this.bboxes[4*D],y1:this.bboxes[4*D+1],x2:this.bboxes[4*D+2],y2:this.bboxes[4*D+3]});for(let D=0;D<this.circleKeys.length;D++){const k=this.circles[3*D],R=this.circles[3*D+1],z=this.circles[3*D+2];_.push({key:this.circleKeys[D],x1:k-z,y1:R-z,x2:k+z,y2:R+z})}}else this._forEachCell(i,d,y,w,this._queryCell,_,{hitTest:S,overlapMode:f,seenUids:{box:{},circle:{}}},b);return _}query(i,d,y,w){return this._query(i,d,y,w,!1,null)}hitTest(i,d,y,w,S,f){return this._query(i,d,y,w,!0,S,f).length>0}hitTestCircle(i,d,y,w,S){const f=i-y,b=i+y,_=d-y,D=d+y;if(b<0||f>this.width||D<0||_>this.height)return!1;const k=[];return this._forEachCell(f,_,b,D,this._queryCellCircle,k,{hitTest:!0,overlapMode:w,circle:{x:i,y:d,radius:y},seenUids:{box:{},circle:{}}},S),k.length>0}_queryCell(i,d,y,w,S,f,b,_){const{seenUids:D,hitTest:k,overlapMode:R}=b,z=this.boxCells[S];if(null!==z){const oe=this.bboxes;for(const Me of z)if(!D.box[Me]){D.box[Me]=!0;const Ce=4*Me,it=this.boxKeys[Me];if(i<=oe[Ce+2]&&d<=oe[Ce+3]&&y>=oe[Ce+0]&&w>=oe[Ce+1]&&(!_||_(it))&&(!k||!de(R,it.overlapMode))&&(f.push({key:it,x1:oe[Ce],y1:oe[Ce+1],x2:oe[Ce+2],y2:oe[Ce+3]}),k))return!0}}const ee=this.circleCells[S];if(null!==ee){const oe=this.circles;for(const Me of ee)if(!D.circle[Me]){D.circle[Me]=!0;const Ce=3*Me,it=this.circleKeys[Me];if(this._circleAndRectCollide(oe[Ce],oe[Ce+1],oe[Ce+2],i,d,y,w)&&(!_||_(it))&&(!k||!de(R,it.overlapMode))){const yt=oe[Ce],$e=oe[Ce+1],ft=oe[Ce+2];if(f.push({key:it,x1:yt-ft,y1:$e-ft,x2:yt+ft,y2:$e+ft}),k)return!0}}}return!1}_queryCellCircle(i,d,y,w,S,f,b,_){const{circle:D,seenUids:k,overlapMode:R}=b,z=this.boxCells[S];if(null!==z){const oe=this.bboxes;for(const Me of z)if(!k.box[Me]){k.box[Me]=!0;const Ce=4*Me,it=this.boxKeys[Me];if(this._circleAndRectCollide(D.x,D.y,D.radius,oe[Ce+0],oe[Ce+1],oe[Ce+2],oe[Ce+3])&&(!_||_(it))&&!de(R,it.overlapMode))return f.push(!0),!0}}const ee=this.circleCells[S];if(null!==ee){const oe=this.circles;for(const Me of ee)if(!k.circle[Me]){k.circle[Me]=!0;const Ce=3*Me,it=this.circleKeys[Me];if(this._circlesCollide(oe[Ce],oe[Ce+1],oe[Ce+2],D.x,D.y,D.radius)&&(!_||_(it))&&!de(R,it.overlapMode))return f.push(!0),!0}}}_forEachCell(i,d,y,w,S,f,b,_){const D=this._convertToXCellCoord(i),k=this._convertToYCellCoord(d),R=this._convertToXCellCoord(y),z=this._convertToYCellCoord(w);for(let ee=D;ee<=R;ee++)for(let oe=k;oe<=z;oe++)if(S.call(this,i,d,y,w,this.xCellCount*oe+ee,f,b,_))return}_convertToXCellCoord(i){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(i*this.xScale)))}_convertToYCellCoord(i){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(i*this.yScale)))}_circlesCollide(i,d,y,w,S,f){const b=w-i,_=S-d,D=y+f;return D*D>b*b+_*_}_circleAndRectCollide(i,d,y,w,S,f,b){const _=(f-w)/2,D=Math.abs(i-(w+_));if(D>_+y)return!1;const k=(b-S)/2,R=Math.abs(d-(S+k));if(R>k+y)return!1;if(D<=_||R<=k)return!0;const z=D-_,ee=R-k;return z*z+ee*ee<=y*y}}function xt(E,i,d,y,w){const S=v.create();return i?(v.scale(S,S,[1/w,1/w,1]),d||v.rotateZ(S,S,y.angle)):v.multiply(S,y.labelPlaneMatrix,E),S}function Jt(E,i,d,y,w){if(i){const S=v.clone(E);return v.scale(S,S,[w,w,1]),d||v.rotateZ(S,S,-y.angle),S}return y.glCoordMatrix}function Lt(E,i,d){let y;d?(y=[E.x,E.y,d(E.x,E.y),1],v.transformMat4(y,y,i)):(y=[E.x,E.y,0,1],_e(y,y,i));const w=y[3];return{point:new v.Point(y[0]/w,y[1]/w),signedDistanceFromCamera:w}}function yi(E,i){return.5+E/i*.5}function pi(E,i){const d=E[0]/E[3],y=E[1]/E[3];return d>=-i[0]&&d<=i[0]&&y>=-i[1]&&y<=i[1]}function en(E,i,d,y,w,S,f,b,_,D){const k=y?E.textSizeData:E.iconSizeData,R=v.evaluateSizeForZoom(k,d.transform.zoom),z=[256/d.width*2+1,256/d.height*2+1],ee=y?E.text.dynamicLayoutVertexArray:E.icon.dynamicLayoutVertexArray;ee.clear();const oe=E.lineVertexArray,Me=y?E.text.placedSymbolArray:E.icon.placedSymbolArray,Ce=d.transform.width/d.transform.height;let it=!1;for(let yt=0;yt<Me.length;yt++){const $e=Me.get(yt);if($e.hidden||$e.writingMode===v.WritingMode.vertical&&!it){ie($e.numGlyphs,ee);continue}let ft;if(it=!1,D?(ft=[$e.anchorX,$e.anchorY,D($e.anchorX,$e.anchorY),1],v.transformMat4(ft,ft,i)):(ft=[$e.anchorX,$e.anchorY,0,1],_e(ft,ft,i)),!pi(ft,z)){ie($e.numGlyphs,ee);continue}const Ft=yi(d.transform.cameraToCenterDistance,ft[3]),Zt=v.evaluateSizeForFeature(k,R,$e),Gt=f?Zt/Ft:Zt*Ft,Qt=new v.Point($e.anchorX,$e.anchorY),Xt=Lt(Qt,w,D).point,Ei={projections:{},offsets:{}},ji=Vi($e,Gt,!1,b,i,w,S,E.glyphOffsetArray,oe,ee,Xt,Qt,Ei,Ce,_,D);it=ji.useVertical,(ji.notEnoughRoom||it||ji.needsFlipping&&Vi($e,Gt,!0,b,i,w,S,E.glyphOffsetArray,oe,ee,Xt,Qt,Ei,Ce,_,D).notEnoughRoom)&&ie($e.numGlyphs,ee)}y?E.text.dynamicLayoutVertexBuffer.updateData(ee):E.icon.dynamicLayoutVertexBuffer.updateData(ee)}function nn(E,i,d,y,w,S,f,b,_,D,k,R,z){const ee=b.glyphStartIndex+b.numGlyphs,oe=b.lineStartIndex,Me=b.lineStartIndex+b.lineLength,Ce=i.getoffsetX(b.glyphStartIndex),it=i.getoffsetX(ee-1),yt=B(E*Ce,d,y,w,S,f,b.segment,oe,Me,_,D,k,R,z);if(!yt)return null;const $e=B(E*it,d,y,w,S,f,b.segment,oe,Me,_,D,k,R,z);return $e?{first:yt,last:$e}:null}function Qi(E,i,d,y){return E===v.WritingMode.horizontal&&Math.abs(d.y-i.y)>Math.abs(d.x-i.x)*y?{useVertical:!0}:(E===v.WritingMode.vertical?i.y<d.y:i.x>d.x)?{needsFlipping:!0}:null}function Vi(E,i,d,y,w,S,f,b,_,D,k,R,z,ee,oe,Me){const Ce=i/24,it=E.lineOffsetX*Ce,yt=E.lineOffsetY*Ce;let $e;if(E.numGlyphs>1){const ft=E.glyphStartIndex+E.numGlyphs,Ft=E.lineStartIndex,Zt=E.lineStartIndex+E.lineLength,Gt=nn(Ce,b,it,yt,d,k,R,E,_,S,z,oe,Me);if(!Gt)return{notEnoughRoom:!0};const Qt=Lt(Gt.first.point,f,Me).point,Xt=Lt(Gt.last.point,f,Me).point;if(y&&!d){const Ei=Qi(E.writingMode,Qt,Xt,ee);if(Ei)return Ei}$e=[Gt.first];for(let Ei=E.glyphStartIndex+1;Ei<ft-1;Ei++)$e.push(B(Ce*b.getoffsetX(Ei),it,yt,d,k,R,E.segment,Ft,Zt,_,S,z,oe,Me));$e.push(Gt.last)}else{if(y&&!d){const Ft=Lt(R,w,Me).point,Zt=E.lineStartIndex+E.segment+1,Gt=new v.Point(_.getx(Zt),_.gety(Zt)),Qt=Lt(Gt,w,Me),Xt=Qt.signedDistanceFromCamera>0?Qt.point:At(R,Gt,Ft,1,w,Me),Ei=Qi(E.writingMode,Ft,Xt,ee);if(Ei)return Ei}const ft=B(Ce*b.getoffsetX(E.glyphStartIndex),it,yt,d,k,R,E.segment,E.lineStartIndex,E.lineStartIndex+E.lineLength,_,S,z,oe,Me);if(!ft)return{notEnoughRoom:!0};$e=[ft]}for(const ft of $e)v.addDynamicAttributes(D,ft.point,ft.angle);return{}}function At(E,i,d,y,w,S){const f=Lt(E.add(E.sub(i)._unit()),w,S).point,b=d.sub(f);return d.add(b._mult(y/b.mag()))}function ci(E,i){const{projectionCache:d,lineVertexArray:y,labelPlaneMatrix:w,tileAnchorPoint:S,distanceFromAnchor:f,getElevation:b,previousVertex:_,direction:D,absOffsetX:k}=i;if(d.projections[E])return d.projections[E];const R=new v.Point(y.getx(E),y.gety(E)),z=Lt(R,w,b);if(z.signedDistanceFromCamera>0)return d.projections[E]=z.point,z.point;const ee=E-D;return At(0===f?S:new v.Point(y.getx(ee),y.gety(ee)),R,_,k-f+1,w,b)}function vt(E,i,d){return E._unit()._perp()._mult(i*d)}function q(E,i,d,y,w,S,f,b){const{projectionCache:_,direction:D}=b;if(_.offsets[E])return _.offsets[E];const k=d.add(i);if(E+D<y||E+D>=w)return _.offsets[E]=k,k;const R=ci(E+D,b),z=vt(R.sub(d),f,D),ee=d.add(z),oe=R.add(z);return _.offsets[E]=v.findLineIntersection(S,k,ee,oe)||k,_.offsets[E]}function B(E,i,d,y,w,S,f,b,_,D,k,R,z,ee){const oe=y?E-i:E+i;let Me=oe>0?1:-1,Ce=0;y&&(Me*=-1,Ce=Math.PI),Me<0&&(Ce+=Math.PI);let it,yt,$e=Me>0?b+f:b+f+1,ft=w,Ft=w,Zt=0,Gt=0;const Qt=Math.abs(oe),Xt=[];let Ei;for(;Zt+Gt<=Qt;){if($e+=Me,$e<b||$e>=_)return null;Zt+=Gt,Ft=ft,yt=it;const bi={projectionCache:R,lineVertexArray:D,labelPlaneMatrix:k,tileAnchorPoint:S,distanceFromAnchor:Zt,getElevation:ee,previousVertex:Ft,direction:Me,absOffsetX:Qt};if(ft=ci($e,bi),0===d)Xt.push(Ft),Ei=ft.sub(Ft);else{let tn;const ki=ft.sub(Ft);tn=0===ki.mag()?vt(ci($e+Me,bi).sub(ft),d,Me):vt(ki,d,Me),yt||(yt=Ft.add(tn)),it=q($e,tn,ft,b,_,yt,d,bi),Xt.push(yt),Ei=it.sub(yt)}Gt=Ei.mag()}const ji=Ei._mult((Qt-Zt)/Gt)._add(yt||Ft),xn=Ce+Math.atan2(ft.y-Ft.y,ft.x-Ft.x);return Xt.push(ji),{point:ji,angle:z?xn:0,path:Xt}}const j=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ie(E,i){for(let d=0;d<E;d++){const y=i.length;i.resize(y+4),i.float32.set(j,3*y)}}function _e(E,i,d){const y=i[0],w=i[1];return E[0]=d[0]*y+d[4]*w+d[12],E[1]=d[1]*y+d[5]*w+d[13],E[3]=d[3]*y+d[7]*w+d[15],E}const ke=100;class ge{constructor(i,d=new Re(i.width+200,i.height+200,25),y=new Re(i.width+200,i.height+200,25)){this.transform=i,this.grid=d,this.ignoredGrid=y,this.pitchfactor=Math.cos(i._pitch)*i.cameraToCenterDistance,this.screenRightBoundary=i.width+ke,this.screenBottomBoundary=i.height+ke,this.gridRightBoundary=i.width+200,this.gridBottomBoundary=i.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(i,d,y,w,S,f){const b=this.projectAndGetPerspectiveRatio(w,i.anchorPointX,i.anchorPointY,f),_=y*b.perspectiveRatio,D=i.x1*_+b.point.x,k=i.y1*_+b.point.y,R=i.x2*_+b.point.x,z=i.y2*_+b.point.y;return!this.isInsideGrid(D,k,R,z)||"always"!==d&&this.grid.hitTest(D,k,R,z,d,S)||b.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[D,k,R,z],offscreen:this.isOffscreen(D,k,R,z)}}placeCollisionCircles(i,d,y,w,S,f,b,_,D,k,R,z,ee,oe){const Me=[],Ce=new v.Point(d.anchorX,d.anchorY),it=Lt(Ce,f,oe),yt=yi(this.transform.cameraToCenterDistance,it.signedDistanceFromCamera),$e=(k?S/yt:S*yt)/v.ONE_EM,ft=Lt(Ce,b,oe).point,Ft=nn($e,w,d.lineOffsetX*$e,d.lineOffsetY*$e,!1,ft,Ce,d,y,b,{projections:{},offsets:{}},!1,oe);let Zt=!1,Gt=!1,Qt=!0;if(Ft){const Xt=.5*z*yt+ee,Ei=new v.Point(-100,-100),ji=new v.Point(this.screenRightBoundary,this.screenBottomBoundary),xn=new he,bi=Ft.first,tn=Ft.last;let ki=[];for(let An=bi.path.length-1;An>=1;An--)ki.push(bi.path[An]);for(let An=1;An<tn.path.length;An++)ki.push(tn.path[An]);const sr=2.5*Xt;if(_){const An=ki.map(dn=>Lt(dn,_,oe));ki=An.some(dn=>dn.signedDistanceFromCamera<=0)?[]:An.map(dn=>dn.point)}let Xn=[];if(ki.length>0){const An=ki[0].clone(),dn=ki[0].clone();for(let Pr=1;Pr<ki.length;Pr++)An.x=Math.min(An.x,ki[Pr].x),An.y=Math.min(An.y,ki[Pr].y),dn.x=Math.max(dn.x,ki[Pr].x),dn.y=Math.max(dn.y,ki[Pr].y);Xn=An.x>=Ei.x&&dn.x<=ji.x&&An.y>=Ei.y&&dn.y<=ji.y?[ki]:dn.x<Ei.x||An.x>ji.x||dn.y<Ei.y||An.y>ji.y?[]:v.clipLine([ki],Ei.x,Ei.y,ji.x,ji.y)}for(const An of Xn){xn.reset(An,.25*Xt);let dn=0;dn=xn.length<=.5*Xt?1:Math.ceil(xn.paddedLength/sr)+1;for(let Pr=0;Pr<dn;Pr++){const zo=Pr/Math.max(dn-1,1),ar=xn.lerp(zo),ns=ar.x+ke,Ys=ar.y+ke;Me.push(ns,Ys,Xt,0);const sa=ns-Xt,va=Ys-Xt,Jr=ns+Xt,Fa=Ys+Xt;if(Qt=Qt&&this.isOffscreen(sa,va,Jr,Fa),Gt=Gt||this.isInsideGrid(sa,va,Jr,Fa),"always"!==i&&this.grid.hitTestCircle(ns,Ys,Xt,i,R)&&(Zt=!0,!D))return{circles:[],offscreen:!1,collisionDetected:Zt}}}}return{circles:!D&&Zt||!Gt||yt<this.perspectiveRatioCutoff?[]:Me,offscreen:Qt,collisionDetected:Zt}}queryRenderedSymbols(i){if(0===i.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const d=[];let y=1/0,w=1/0,S=-1/0,f=-1/0;for(const k of i){const R=new v.Point(k.x+ke,k.y+ke);y=Math.min(y,R.x),w=Math.min(w,R.y),S=Math.max(S,R.x),f=Math.max(f,R.y),d.push(R)}const b=this.grid.query(y,w,S,f).concat(this.ignoredGrid.query(y,w,S,f)),_={},D={};for(const k of b){const R=k.key;if(void 0===_[R.bucketInstanceId]&&(_[R.bucketInstanceId]={}),_[R.bucketInstanceId][R.featureIndex])continue;const z=[new v.Point(k.x1,k.y1),new v.Point(k.x2,k.y1),new v.Point(k.x2,k.y2),new v.Point(k.x1,k.y2)];v.polygonIntersectsPolygon(d,z)&&(_[R.bucketInstanceId][R.featureIndex]=!0,void 0===D[R.bucketInstanceId]&&(D[R.bucketInstanceId]=[]),D[R.bucketInstanceId].push(R.featureIndex))}return D}insertCollisionBox(i,d,y,w,S,f){(y?this.ignoredGrid:this.grid).insert({bucketInstanceId:w,featureIndex:S,collisionGroupID:f,overlapMode:d},i[0],i[1],i[2],i[3])}insertCollisionCircles(i,d,y,w,S,f){const b=y?this.ignoredGrid:this.grid,_={bucketInstanceId:w,featureIndex:S,collisionGroupID:f,overlapMode:d};for(let D=0;D<i.length;D+=4)b.insertCircle(_,i[D],i[D+1],i[D+2])}projectAndGetPerspectiveRatio(i,d,y,w){let S;return w?(S=[d,y,w(d,y),1],v.transformMat4(S,S,i)):(S=[d,y,0,1],_e(S,S,i)),{point:new v.Point((S[0]/S[3]+1)/2*this.transform.width+ke,(-S[1]/S[3]+1)/2*this.transform.height+ke),perspectiveRatio:.5+this.transform.cameraToCenterDistance/S[3]*.5}}isOffscreen(i,d,y,w){return y<ke||i>=this.screenRightBoundary||w<ke||d>this.screenBottomBoundary}isInsideGrid(i,d,y,w){return y>=0&&i<this.gridRightBoundary&&w>=0&&d<this.gridBottomBoundary}getViewportMatrix(){const i=v.identity([]);return v.translate(i,i,[-100,-100,0]),i}}function se(E,i,d){return i*(v.EXTENT/(E.tileSize*Math.pow(2,d-E.tileID.overscaledZ)))}class X{constructor(i,d,y,w){this.opacity=i?Math.max(0,Math.min(1,i.opacity+(i.placed?d:-d))):w&&y?1:0,this.placed=y}isHidden(){return 0===this.opacity&&!this.placed}}class me{constructor(i,d,y,w,S){this.text=new X(i?i.text:null,d,y,S),this.icon=new X(i?i.icon:null,d,w,S)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Je{constructor(i,d,y){this.text=i,this.icon=d,this.skipFade=y}}class lt{constructor(){this.invProjMatrix=v.create(),this.viewportMatrix=v.create(),this.circles=[]}}class xe{constructor(i,d,y,w,S){this.bucketInstanceId=i,this.featureIndex=d,this.sourceLayerIndex=y,this.bucketIndex=w,this.tileID=S}}class Ie{constructor(i){this.crossSourceCollisions=i,this.maxGroupID=0,this.collisionGroups={}}get(i){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[i]){const d=++this.maxGroupID;this.collisionGroups[i]={ID:d,predicate:y=>y.collisionGroupID===d}}return this.collisionGroups[i]}}function ue(E,i,d,y,w){const{horizontalAlign:S,verticalAlign:f}=v.getAnchorAlignment(E),b=-(S-.5)*i,_=-(f-.5)*d,D=v.evaluateVariableOffset(E,y);return new v.Point(b+D[0]*w,_+D[1]*w)}function De(E,i,d,y,w,S){const{x1:f,x2:b,y1:_,y2:D,anchorPointX:k,anchorPointY:R}=E,z=new v.Point(i,d);return y&&z._rotate(w?S:-S),{x1:f+z.x,y1:_+z.y,x2:b+z.x,y2:D+z.y,anchorPointX:k,anchorPointY:R}}class Qe{constructor(i,d,y,w,S){this.transform=i.clone(),this.terrain=d,this.collisionIndex=new ge(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=y,this.retainedQueryData={},this.collisionGroups=new Ie(w),this.collisionCircleArrays={},this.prevPlacement=S,S&&(S.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(i,d,y,w){const S=y.getBucket(d),f=y.latestFeatureIndex;if(!S||!f||d.id!==S.layerIds[0])return;const b=y.collisionBoxArray,_=S.layers[0].layout,D=Math.pow(2,this.transform.zoom-y.tileID.overscaledZ),k=y.tileSize/v.EXTENT,R=this.transform.calculatePosMatrix(y.tileID.toUnwrapped()),z="map"===_.get("text-pitch-alignment"),ee="map"===_.get("text-rotation-alignment"),oe=se(y,1,this.transform.zoom),Me=xt(R,z,ee,this.transform,oe);let Ce=null;if(z){const yt=Jt(R,z,ee,this.transform,oe);Ce=v.multiply([],this.transform.labelPlaneMatrix,yt)}this.retainedQueryData[S.bucketInstanceId]=new xe(S.bucketInstanceId,f,S.sourceLayerIndex,S.index,y.tileID);const it={bucket:S,layout:_,posMatrix:R,textLabelPlaneMatrix:Me,labelToScreenMatrix:Ce,scale:D,textPixelRatio:k,holdingForFade:y.holdingForFade(),collisionBoxArray:b,partiallyEvaluatedTextSize:v.evaluateSizeForZoom(S.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(S.sourceID)};if(w)for(const yt of S.sortKeyRanges){const{sortKey:$e,symbolInstanceStart:ft,symbolInstanceEnd:Ft}=yt;i.push({sortKey:$e,symbolInstanceStart:ft,symbolInstanceEnd:Ft,parameters:it})}else i.push({symbolInstanceStart:0,symbolInstanceEnd:S.symbolInstances.length,parameters:it})}attemptAnchorPlacement(i,d,y,w,S,f,b,_,D,k,R,z,ee,oe,Me,Ce){const it=[z.textOffset0,z.textOffset1],yt=ue(i,y,w,it,S),$e=this.collisionIndex.placeCollisionBox(De(d,yt.x,yt.y,f,b,this.transform.angle),R,_,D,k.predicate,Ce);if((!Me||0!==this.collisionIndex.placeCollisionBox(De(Me,yt.x,yt.y,f,b,this.transform.angle),R,_,D,k.predicate,Ce).box.length)&&$e.box.length>0){let ft;if(this.prevPlacement&&this.prevPlacement.variableOffsets[z.crossTileID]&&this.prevPlacement.placements[z.crossTileID]&&this.prevPlacement.placements[z.crossTileID].text&&(ft=this.prevPlacement.variableOffsets[z.crossTileID].anchor),0===z.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[z.crossTileID]={textOffset:it,width:y,height:w,anchor:i,textBoxScale:S,prevAnchor:ft},this.markUsedJustification(ee,i,z,oe),ee.allowVerticalPlacement&&(this.markUsedOrientation(ee,oe,z),this.placedOrientations[z.crossTileID]=oe),{shift:yt,placedGlyphBoxes:$e}}}placeLayerBucketPart(i,d,y){const{bucket:w,layout:S,posMatrix:f,textLabelPlaneMatrix:b,labelToScreenMatrix:_,textPixelRatio:D,holdingForFade:k,collisionBoxArray:R,partiallyEvaluatedTextSize:z,collisionGroup:ee}=i.parameters,oe=S.get("text-optional"),Me=S.get("icon-optional"),Ce=v.getOverlapMode(S,"text-overlap","text-allow-overlap"),it="always"===Ce,yt=v.getOverlapMode(S,"icon-overlap","icon-allow-overlap"),$e="always"===yt,ft="map"===S.get("text-rotation-alignment"),Ft="map"===S.get("text-pitch-alignment"),Zt="none"!==S.get("icon-text-fit"),Gt="viewport-y"===S.get("symbol-z-order"),Qt=it&&($e||!w.hasIconData()||Me),Xt=$e&&(it||!w.hasTextData()||oe);!w.collisionArrays&&R&&w.deserializeCollisionBoxes(R);const Ei=this.retainedQueryData[w.bucketInstanceId].tileID,ji=this.terrain?(bi,tn)=>this.terrain.getElevation(Ei,bi,tn):null,xn=(bi,tn)=>{if(d[bi.crossTileID])return;if(k)return void(this.placements[bi.crossTileID]=new Je(!1,!1,!1));let ki=!1,sr=!1,Xn=!0,An=null,dn={box:null,offscreen:null},Pr={box:null,offscreen:null},zo=null,ar=null,ns=null,Ys=0,sa=0,va=0;tn.textFeatureIndex?Ys=tn.textFeatureIndex:bi.useRuntimeCollisionCircles&&(Ys=bi.featureIndex),tn.verticalTextFeatureIndex&&(sa=tn.verticalTextFeatureIndex);const Jr=tn.textBox;if(Jr){const Wo=rr=>{let Eo=v.WritingMode.horizontal;if(w.allowVerticalPlacement&&!rr&&this.prevPlacement){const qo=this.prevPlacement.placedOrientations[bi.crossTileID];qo&&(this.placedOrientations[bi.crossTileID]=qo,Eo=qo,this.markUsedOrientation(w,Eo,bi))}return Eo},po=(rr,Eo)=>{if(w.allowVerticalPlacement&&bi.numVerticalGlyphVertices>0&&tn.verticalTextBox){for(const qo of w.writingModes)if(qo===v.WritingMode.vertical?(dn=Eo(),Pr=dn):dn=rr(),dn&&dn.box&&dn.box.length)break}else dn=rr()};if(S.get("text-variable-anchor")){let rr=S.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[bi.crossTileID]){const lr=this.prevPlacement.variableOffsets[bi.crossTileID];rr.indexOf(lr.anchor)>0&&(rr=rr.filter(Po=>Po!==lr.anchor),rr.unshift(lr.anchor))}const Eo=(lr,Po,Ks)=>{const Kl=lr.x2-lr.x1,ul=lr.y2-lr.y1,id=bi.textBoxScale,Ol=Zt&&"never"===yt?Po:null;let Vr={box:[],offscreen:!1};const nd="never"!==Ce?2*rr.length:rr.length;for(let dc=0;dc<nd;++dc){const Xs=this.attemptAnchorPlacement(rr[dc%rr.length],lr,Kl,ul,id,ft,Ft,D,f,ee,dc>=rr.length?Ce:"never",bi,w,Ks,Ol,ji);if(Xs&&(Vr=Xs.placedGlyphBoxes,Vr&&Vr.box&&Vr.box.length)){ki=!0,An=Xs.shift;break}}return Vr};po(()=>Eo(Jr,tn.iconBox,v.WritingMode.horizontal),()=>{const lr=tn.verticalTextBox;return w.allowVerticalPlacement&&!(dn&&dn.box&&dn.box.length)&&bi.numVerticalGlyphVertices>0&&lr?Eo(lr,tn.verticalIconBox,v.WritingMode.vertical):{box:null,offscreen:null}}),dn&&(ki=dn.box,Xn=dn.offscreen);const qo=Wo(dn&&dn.box);if(!ki&&this.prevPlacement){const lr=this.prevPlacement.variableOffsets[bi.crossTileID];lr&&(this.variableOffsets[bi.crossTileID]=lr,this.markUsedJustification(w,lr.anchor,bi,qo))}}else{const rr=(Eo,qo)=>{const lr=this.collisionIndex.placeCollisionBox(Eo,Ce,D,f,ee.predicate,ji);return lr&&lr.box&&lr.box.length&&(this.markUsedOrientation(w,qo,bi),this.placedOrientations[bi.crossTileID]=qo),lr};po(()=>rr(Jr,v.WritingMode.horizontal),()=>{const Eo=tn.verticalTextBox;return w.allowVerticalPlacement&&bi.numVerticalGlyphVertices>0&&Eo?rr(Eo,v.WritingMode.vertical):{box:null,offscreen:null}}),Wo(dn&&dn.box&&dn.box.length)}}if(zo=dn,ki=zo&&zo.box&&zo.box.length>0,Xn=zo&&zo.offscreen,bi.useRuntimeCollisionCircles){const Wo=w.text.placedSymbolArray.get(bi.centerJustifiedTextSymbolIndex),po=v.evaluateSizeForFeature(w.textSizeData,z,Wo),rr=S.get("text-padding");ar=this.collisionIndex.placeCollisionCircles(Ce,Wo,w.lineVertexArray,w.glyphOffsetArray,po,f,b,_,y,Ft,ee.predicate,bi.collisionCircleDiameter,rr,ji),ar.circles.length&&ar.collisionDetected&&!y&&v.warnOnce("Collisions detected, but collision boxes are not shown"),ki=it||ar.circles.length>0&&!ar.collisionDetected,Xn=Xn&&ar.offscreen}if(tn.iconFeatureIndex&&(va=tn.iconFeatureIndex),tn.iconBox){const Wo=po=>{const rr=Zt&&An?De(po,An.x,An.y,ft,Ft,this.transform.angle):po;return this.collisionIndex.placeCollisionBox(rr,yt,D,f,ee.predicate,ji)};Pr&&Pr.box&&Pr.box.length&&tn.verticalIconBox?(ns=Wo(tn.verticalIconBox),sr=ns.box.length>0):(ns=Wo(tn.iconBox),sr=ns.box.length>0),Xn=Xn&&ns.offscreen}const Fa=oe||0===bi.numHorizontalGlyphVertices&&0===bi.numVerticalGlyphVertices,Pl=Me||0===bi.numIconVertices;if(Fa||Pl?Pl?Fa||(sr=sr&&ki):ki=sr&&ki:sr=ki=sr&&ki,ki&&zo&&zo.box&&this.collisionIndex.insertCollisionBox(zo.box,Ce,S.get("text-ignore-placement"),w.bucketInstanceId,Pr&&Pr.box&&sa?sa:Ys,ee.ID),sr&&ns&&this.collisionIndex.insertCollisionBox(ns.box,yt,S.get("icon-ignore-placement"),w.bucketInstanceId,va,ee.ID),ar&&(ki&&this.collisionIndex.insertCollisionCircles(ar.circles,Ce,S.get("text-ignore-placement"),w.bucketInstanceId,Ys,ee.ID),y)){const Wo=w.bucketInstanceId;let po=this.collisionCircleArrays[Wo];void 0===po&&(po=this.collisionCircleArrays[Wo]=new lt);for(let rr=0;rr<ar.circles.length;rr+=4)po.circles.push(ar.circles[rr+0]),po.circles.push(ar.circles[rr+1]),po.circles.push(ar.circles[rr+2]),po.circles.push(ar.collisionDetected?1:0)}if(0===bi.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");if(0===w.bucketInstanceId)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[bi.crossTileID]=new Je(ki||Qt,sr||Xt,Xn||w.justReloaded),d[bi.crossTileID]=!0};if(Gt){if(0!==i.symbolInstanceStart)throw new Error("bucket.bucketInstanceId should be 0");const bi=w.getSortedSymbolIndexes(this.transform.angle);for(let tn=bi.length-1;tn>=0;--tn){const ki=bi[tn];xn(w.symbolInstances.get(ki),w.collisionArrays[ki])}}else for(let bi=i.symbolInstanceStart;bi<i.symbolInstanceEnd;bi++)xn(w.symbolInstances.get(bi),w.collisionArrays[bi]);if(y&&w.bucketInstanceId in this.collisionCircleArrays){const bi=this.collisionCircleArrays[w.bucketInstanceId];v.invert(bi.invProjMatrix,f),bi.viewportMatrix=this.collisionIndex.getViewportMatrix()}w.justReloaded=!1}markUsedJustification(i,d,y,w){let S;S=w===v.WritingMode.vertical?y.verticalPlacedTextSymbolIndex:{left:y.leftJustifiedTextSymbolIndex,center:y.centerJustifiedTextSymbolIndex,right:y.rightJustifiedTextSymbolIndex}[v.getAnchorJustification(d)];const f=[y.leftJustifiedTextSymbolIndex,y.centerJustifiedTextSymbolIndex,y.rightJustifiedTextSymbolIndex,y.verticalPlacedTextSymbolIndex];for(const b of f)b>=0&&(i.text.placedSymbolArray.get(b).crossTileID=S>=0&&b!==S?0:y.crossTileID)}markUsedOrientation(i,d,y){const w=d===v.WritingMode.horizontal||d===v.WritingMode.horizontalOnly?d:0,S=d===v.WritingMode.vertical?d:0,f=[y.leftJustifiedTextSymbolIndex,y.centerJustifiedTextSymbolIndex,y.rightJustifiedTextSymbolIndex];for(const b of f)i.text.placedSymbolArray.get(b).placedOrientation=w;y.verticalPlacedTextSymbolIndex&&(i.text.placedSymbolArray.get(y.verticalPlacedTextSymbolIndex).placedOrientation=S)}commit(i){this.commitTime=i,this.zoomAtLastRecencyCheck=this.transform.zoom;const d=this.prevPlacement;let y=!1;this.prevZoomAdjustment=d?d.zoomAdjustment(this.transform.zoom):0;const w=d?d.symbolFadeChange(i):1,S=d?d.opacities:{},f=d?d.variableOffsets:{},b=d?d.placedOrientations:{};for(const _ in this.placements){const D=this.placements[_],k=S[_];k?(this.opacities[_]=new me(k,w,D.text,D.icon),y=y||D.text!==k.text.placed||D.icon!==k.icon.placed):(this.opacities[_]=new me(null,w,D.text,D.icon,D.skipFade),y=y||D.text||D.icon)}for(const _ in S){const D=S[_];if(!this.opacities[_]){const k=new me(D,w,!1,!1);k.isHidden()||(this.opacities[_]=k,y=y||D.text.placed||D.icon.placed)}}for(const _ in f)this.variableOffsets[_]||!this.opacities[_]||this.opacities[_].isHidden()||(this.variableOffsets[_]=f[_]);for(const _ in b)this.placedOrientations[_]||!this.opacities[_]||this.opacities[_].isHidden()||(this.placedOrientations[_]=b[_]);if(d&&void 0===d.lastPlacementChangeTime)throw new Error("Last placement time for previous placement is not defined");y?this.lastPlacementChangeTime=i:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=d?d.lastPlacementChangeTime:i)}updateLayerOpacities(i,d){const y={};for(const w of d){const S=w.getBucket(i);S&&w.latestFeatureIndex&&i.id===S.layerIds[0]&&this.updateBucketOpacities(S,y,w.collisionBoxArray)}}updateBucketOpacities(i,d,y){i.hasTextData()&&(i.text.opacityVertexArray.clear(),i.text.hasVisibleVertices=!1),i.hasIconData()&&(i.icon.opacityVertexArray.clear(),i.icon.hasVisibleVertices=!1),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexArray.clear(),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexArray.clear();const w=i.layers[0].layout,S=new me(null,0,!1,!1,!0),f=w.get("text-allow-overlap"),b=w.get("icon-allow-overlap"),_=w.get("text-variable-anchor"),D="map"===w.get("text-rotation-alignment"),k="map"===w.get("text-pitch-alignment"),R="none"!==w.get("icon-text-fit"),z=new me(null,0,f&&(b||!i.hasIconData()||w.get("icon-optional")),b&&(f||!i.hasTextData()||w.get("text-optional")),!0);!i.collisionArrays&&y&&(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData())&&i.deserializeCollisionBoxes(y);const ee=(oe,Me,Ce)=>{for(let it=0;it<Me/4;it++)oe.opacityVertexArray.emplaceBack(Ce);oe.hasVisibleVertices=oe.hasVisibleVertices||Ce!==Ui};for(let oe=0;oe<i.symbolInstances.length;oe++){const Me=i.symbolInstances.get(oe),{numHorizontalGlyphVertices:Ce,numVerticalGlyphVertices:it,crossTileID:yt}=Me;let $e=this.opacities[yt];d[yt]?$e=S:$e||($e=z,this.opacities[yt]=$e),d[yt]=!0;const ft=Me.numIconVertices>0,Ft=this.placedOrientations[Me.crossTileID],Zt=Ft===v.WritingMode.vertical,Gt=Ft===v.WritingMode.horizontal||Ft===v.WritingMode.horizontalOnly;if(Ce>0||it>0){const Qt=bn($e.text);ee(i.text,Ce,Zt?Ui:Qt),ee(i.text,it,Gt?Ui:Qt);const Xt=$e.text.isHidden();[Me.rightJustifiedTextSymbolIndex,Me.centerJustifiedTextSymbolIndex,Me.leftJustifiedTextSymbolIndex].forEach(xn=>{xn>=0&&(i.text.placedSymbolArray.get(xn).hidden=Xt||Zt?1:0)}),Me.verticalPlacedTextSymbolIndex>=0&&(i.text.placedSymbolArray.get(Me.verticalPlacedTextSymbolIndex).hidden=Xt||Gt?1:0);const Ei=this.variableOffsets[Me.crossTileID];Ei&&this.markUsedJustification(i,Ei.anchor,Me,Ft);const ji=this.placedOrientations[Me.crossTileID];ji&&(this.markUsedJustification(i,"left",Me,ji),this.markUsedOrientation(i,ji,Me))}if(ft){const Qt=bn($e.icon),Xt=!(R&&Me.verticalPlacedIconSymbolIndex&&Zt);Me.placedIconSymbolIndex>=0&&(ee(i.icon,Me.numIconVertices,Xt?Qt:Ui),i.icon.placedSymbolArray.get(Me.placedIconSymbolIndex).hidden=$e.icon.isHidden()),Me.verticalPlacedIconSymbolIndex>=0&&(ee(i.icon,Me.numVerticalIconVertices,Xt?Ui:Qt),i.icon.placedSymbolArray.get(Me.verticalPlacedIconSymbolIndex).hidden=$e.icon.isHidden())}if(i.hasIconCollisionBoxData()||i.hasTextCollisionBoxData()){const Qt=i.collisionArrays[oe];if(Qt){let Xt=new v.Point(0,0);if(Qt.textBox||Qt.verticalTextBox){let ji=!0;if(_){const xn=this.variableOffsets[yt];xn?(Xt=ue(xn.anchor,xn.width,xn.height,xn.textOffset,xn.textBoxScale),D&&Xt._rotate(k?this.transform.angle:-this.transform.angle)):ji=!1}Qt.textBox&&Tt(i.textCollisionBox.collisionVertexArray,$e.text.placed,!ji||Zt,Xt.x,Xt.y),Qt.verticalTextBox&&Tt(i.textCollisionBox.collisionVertexArray,$e.text.placed,!ji||Gt,Xt.x,Xt.y)}const Ei=!(Gt||!Qt.verticalIconBox);Qt.iconBox&&Tt(i.iconCollisionBox.collisionVertexArray,$e.icon.placed,Ei,R?Xt.x:0,R?Xt.y:0),Qt.verticalIconBox&&Tt(i.iconCollisionBox.collisionVertexArray,$e.icon.placed,!Ei,R?Xt.x:0,R?Xt.y:0)}}}if(i.sortFeatures(this.transform.angle),this.retainedQueryData[i.bucketInstanceId]&&(this.retainedQueryData[i.bucketInstanceId].featureSortOrder=i.featureSortOrder),i.hasTextData()&&i.text.opacityVertexBuffer&&i.text.opacityVertexBuffer.updateData(i.text.opacityVertexArray),i.hasIconData()&&i.icon.opacityVertexBuffer&&i.icon.opacityVertexBuffer.updateData(i.icon.opacityVertexArray),i.hasIconCollisionBoxData()&&i.iconCollisionBox.collisionVertexBuffer&&i.iconCollisionBox.collisionVertexBuffer.updateData(i.iconCollisionBox.collisionVertexArray),i.hasTextCollisionBoxData()&&i.textCollisionBox.collisionVertexBuffer&&i.textCollisionBox.collisionVertexBuffer.updateData(i.textCollisionBox.collisionVertexArray),i.text.opacityVertexArray.length!==i.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${i.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${i.text.layoutVertexArray.length}) / 4`);if(i.icon.opacityVertexArray.length!==i.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${i.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${i.icon.layoutVertexArray.length}) / 4`);if(i.bucketInstanceId in this.collisionCircleArrays){const oe=this.collisionCircleArrays[i.bucketInstanceId];i.placementInvProjMatrix=oe.invProjMatrix,i.placementViewportMatrix=oe.viewportMatrix,i.collisionCircleArray=oe.circles,delete this.collisionCircleArrays[i.bucketInstanceId]}}symbolFadeChange(i){return 0===this.fadeDuration?1:(i-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(i){return Math.max(0,(this.transform.zoom-i)/1.5)}hasTransitions(i){return this.stale||i-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(i,d){const y=this.zoomAtLastRecencyCheck===d?1-this.zoomAdjustment(d):1;return this.zoomAtLastRecencyCheck=d,this.commitTime+this.fadeDuration*y>i}setStale(){this.stale=!0}}function Tt(E,i,d,y,w){E.emplaceBack(i?1:0,d?1:0,y||0,w||0),E.emplaceBack(i?1:0,d?1:0,y||0,w||0),E.emplaceBack(i?1:0,d?1:0,y||0,w||0),E.emplaceBack(i?1:0,d?1:0,y||0,w||0)}const Ye=Math.pow(2,25),Te=Math.pow(2,24),qe=Math.pow(2,17),Ut=Math.pow(2,16),$t=Math.pow(2,9),mi=Math.pow(2,8),di=Math.pow(2,1);function bn(E){if(0===E.opacity&&!E.placed)return 0;if(1===E.opacity&&E.placed)return 4294967295;const i=E.placed?1:0,d=Math.floor(127*E.opacity);return d*Ye+i*Te+d*qe+i*Ut+d*$t+i*mi+d*di+i}const Ui=0;class Gn{constructor(i){this._sortAcrossTiles="viewport-y"!==i.layout.get("symbol-z-order")&&!i.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(i,d,y,w,S){const f=this._bucketParts;for(;this._currentTileIndex<i.length;)if(d.getBucketParts(f,w,i[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,S())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,f.sort((b,_)=>b.sortKey-_.sortKey));this._currentPartIndex<f.length;)if(d.placeLayerBucketPart(f[this._currentPartIndex],this._seenCrossTileIDs,y),this._currentPartIndex++,S())return!0;return!1}}class To{constructor(i,d,y,w,S,f,b,_){this.placement=new Qe(i,d,f,b,_),this._currentPlacementIndex=y.length-1,this._forceFullPlacement=w,this._showCollisionBoxes=S,this._done=!1}isDone(){return this._done}continuePlacement(i,d,y){const w=v.browser.now(),S=()=>!this._forceFullPlacement&&v.browser.now()-w>2;for(;this._currentPlacementIndex>=0;){const f=d[i[this._currentPlacementIndex]],b=this.placement.collisionIndex.transform.zoom;if("symbol"===f.type&&(!f.minzoom||f.minzoom<=b)&&(!f.maxzoom||f.maxzoom>b)){if(this._inProgressLayer||(this._inProgressLayer=new Gn(f)),this._inProgressLayer.continuePlacement(y[f.source],this.placement,this._showCollisionBoxes,f,S))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(i){return this.placement.commit(i),this.placement}}const kr=512/v.EXTENT/2;class kn{constructor(i,d,y){this.tileID=i,this.bucketInstanceId=y,this._symbolsByKey={};const w=new Map;for(let S=0;S<d.length;S++){const f=d.get(S),b=f.key,_=w.get(b);_?_.push(f):w.set(b,[f])}for(const[S,f]of w){const b={positions:f.map(_=>({x:Math.floor(_.anchorX*kr),y:Math.floor(_.anchorY*kr)})),crossTileIDs:f.map(_=>_.crossTileID)};if(b.positions.length>128){const _=new v.KDBush(b.positions.length,16,Uint16Array);for(const{x:D,y:k}of b.positions)_.add(D,k);_.finish(),delete b.positions,b.index=_}this._symbolsByKey[S]=b}}getScaledCoordinates(i,d){const{x:y,y:w,z:S}=this.tileID.canonical,{x:f,y:b,z:_}=d.canonical,D=kr/Math.pow(2,_-S),k=(b*v.EXTENT+i.anchorY)*D,R=w*v.EXTENT*kr;return{x:Math.floor((f*v.EXTENT+i.anchorX)*D-y*v.EXTENT*kr),y:Math.floor(k-R)}}findMatches(i,d,y){const w=this.tileID.canonical.z<d.canonical.z?1:Math.pow(2,this.tileID.canonical.z-d.canonical.z);for(let S=0;S<i.length;S++){const f=i.get(S);if(f.crossTileID)continue;const b=this._symbolsByKey[f.key];if(!b)continue;const _=this.getScaledCoordinates(f,d);if(b.index){const D=b.index.range(_.x-w,_.y-w,_.x+w,_.y+w).sort();for(const k of D){const R=b.crossTileIDs[k];if(!y[R]){y[R]=!0,f.crossTileID=R;break}}}else if(b.positions)for(let D=0;D<b.positions.length;D++){const k=b.positions[D],R=b.crossTileIDs[D];if(Math.abs(k.x-_.x)<=w&&Math.abs(k.y-_.y)<=w&&!y[R]){y[R]=!0,f.crossTileID=R;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:i})=>i)}}class Nr{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class io{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(i){const d=Math.round((i-this.lng)/360);if(0!==d)for(const y in this.indexes){const w=this.indexes[y],S={};for(const f in w){const b=w[f];b.tileID=b.tileID.unwrapTo(b.tileID.wrap+d),S[b.tileID.key]=b}this.indexes[y]=S}this.lng=i}addBucket(i,d,y){if(this.indexes[i.overscaledZ]&&this.indexes[i.overscaledZ][i.key]){if(this.indexes[i.overscaledZ][i.key].bucketInstanceId===d.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(i.overscaledZ,this.indexes[i.overscaledZ][i.key])}for(let S=0;S<d.symbolInstances.length;S++)d.symbolInstances.get(S).crossTileID=0;this.usedCrossTileIDs[i.overscaledZ]||(this.usedCrossTileIDs[i.overscaledZ]={});const w=this.usedCrossTileIDs[i.overscaledZ];for(const S in this.indexes){const f=this.indexes[S];if(Number(S)>i.overscaledZ)for(const b in f){const _=f[b];_.tileID.isChildOf(i)&&_.findMatches(d.symbolInstances,i,w)}else{const b=f[i.scaledTo(Number(S)).key];b&&b.findMatches(d.symbolInstances,i,w)}}for(let S=0;S<d.symbolInstances.length;S++){const f=d.symbolInstances.get(S);f.crossTileID||(f.crossTileID=y.generate(),w[f.crossTileID]=!0)}return void 0===this.indexes[i.overscaledZ]&&(this.indexes[i.overscaledZ]={}),this.indexes[i.overscaledZ][i.key]=new kn(i,d.symbolInstances,d.bucketInstanceId),!0}removeBucketCrossTileIDs(i,d){for(const y of d.getCrossTileIDsLists())for(const w of y)delete this.usedCrossTileIDs[i][w]}removeStaleBuckets(i){let d=!1;for(const y in this.indexes){const w=this.indexes[y];for(const S in w)i[w[S].bucketInstanceId]||(this.removeBucketCrossTileIDs(y,w[S]),delete w[S],d=!0)}return d}}class sn{constructor(){this.layerIndexes={},this.crossTileIDs=new Nr,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(i,d,y){let w=this.layerIndexes[i.id];void 0===w&&(w=this.layerIndexes[i.id]=new io);let S=!1;const f={};w.handleWrapJump(y);for(const b of d){const _=b.getBucket(i);_&&i.id===_.layerIds[0]&&(_.bucketInstanceId||(_.bucketInstanceId=++this.maxBucketInstanceId),w.addBucket(b.tileID,_,this.crossTileIDs)&&(S=!0),f[_.bucketInstanceId]=!0)}return w.removeStaleBuckets(f)&&(S=!0),S}pruneUnusedLayers(i){const d={};i.forEach(y=>{d[y]=!0});for(const y in this.layerIndexes)d[y]||delete this.layerIndexes[y]}}const fn=(E,i)=>v.emitValidationErrors(E,i&&i.filter(d=>"source.canvas"!==d.identifier)),Dr=v.pick(v.operations,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),ls=v.pick(v.operations,["setCenter","setZoom","setBearing","setPitch"]),er=v.emptyStyle();class ur extends v.Evented{constructor(i,d={}){super(),this.map=i,this.dispatcher=new In(Pe(),this,i._getMapId()),this.imageManager=new Pt,this.imageManager.setEventedParent(this),this.glyphManager=new Fi(i._requestManager,d.localIdeographFontFamily),this.lineAtlas=new jn(256,512),this.crossTileSymbolIndex=new sn,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new v.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",v.getReferrer());const y=this;this._rtlTextPluginCallback=ur.registerForPluginStateChange(w=>{y.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:w.pluginStatus,pluginURL:w.pluginURL},(S,f)=>{if(v.triggerPluginCompletionEvent(S),f&&f.every(b=>b))for(const b in y.sourceCaches){const _=y.sourceCaches[b].getSource().type;"vector"!==_&&"geojson"!==_||y.sourceCaches[b].reload()}})}),this.on("data",w=>{if("source"!==w.dataType||"metadata"!==w.sourceDataType)return;const S=this.sourceCaches[w.sourceId];if(!S)return;const f=S.getSource();if(f&&f.vectorLayerIds)for(const b in this._layers){const _=this._layers[b];_.source===f.id&&this._validateLayer(_)}})}loadURL(i,d={},y){this.fire(new v.Event("dataloading",{dataType:"style"})),d.validate="boolean"!=typeof d.validate||d.validate;const w=this.map._requestManager.transformRequest(i,Xe.Style);this._request=v.getJSON(w,(S,f)=>{this._request=null,S?this.fire(new v.ErrorEvent(S)):f&&this._load(f,d,y)})}loadJSON(i,d={},y){this.fire(new v.Event("dataloading",{dataType:"style"})),this._request=v.browser.frame(()=>{this._request=null,d.validate=!1!==d.validate,this._load(i,d,y)})}loadEmpty(){this.fire(new v.Event("dataloading",{dataType:"style"})),this._load(er,{validate:!1})}_load(i,d,y){const w=d.transformStyle?d.transformStyle(y,i):i;if(!d.validate||!fn(this,v.validateStyle(w))){this._loaded=!0,this.stylesheet=w;for(const S in w.sources)this.addSource(S,w.sources[S],{validate:!1});w.sprite?this._loadSprite(w.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(w.glyphs),this._createLayers(),this.light=new pn(this.stylesheet.light),this.map.setTerrain(this.stylesheet.terrain),this.fire(new v.Event("data",{dataType:"style"})),this.fire(new v.Event("style.load"))}}_createLayers(){const i=v.derefLayers(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",i),this._order=i.map(d=>d.id),this._layers={},this._serializedLayers=null;for(const d of i){const y=v.createStyleLayer(d);y.setEventedParent(this,{layer:{id:d.id}}),this._layers[d.id]=y}}_loadSprite(i,d=!1,y=void 0){this.imageManager.setLoaded(!1),this._spriteRequest=function(w,S,f,b){const _=Le(w),D=_.length,k=f>1?"@2x":"",R={},z={},ee={};for(const{id:oe,url:Me}of _){const Ce=S.transformRequest(S.normalizeSpriteURL(Me,k,".json"),Xe.SpriteJSON),it=`${oe}_${Ce.url}`;R[it]=v.getJSON(Ce,(ft,Ft)=>{delete R[it],z[oe]=Ft,Ue(b,z,ee,ft,D)});const yt=S.transformRequest(S.normalizeSpriteURL(Me,k,".png"),Xe.SpriteImage),$e=`${oe}_${yt.url}`;R[$e]=et.getImage(yt,(ft,Ft)=>{delete R[$e],ee[oe]=Ft,Ue(b,z,ee,ft,D)})}return{cancel(){for(const oe of Object.values(R))oe.cancel()}}}(i,this.map._requestManager,this.map.getPixelRatio(),(w,S)=>{if(this._spriteRequest=null,w)this.fire(new v.ErrorEvent(w));else if(S)for(const f in S){this._spritesImagesIds[f]=[];const b=this._spritesImagesIds[f]?this._spritesImagesIds[f].filter(_=>!(_ in S)):[];for(const _ of b)this.imageManager.removeImage(_),this._changedImages[_]=!0;for(const _ in S[f]){const D="default"===f?_:`${f}:${_}`;this._spritesImagesIds[f].push(D),D in this.imageManager.images?this.imageManager.updateImage(D,S[f][_],!1):this.imageManager.addImage(D,S[f][_]),d&&(this._changedImages[D]=!0)}}this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),d&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new v.Event("data",{dataType:"style"})),y&&y(w)})}_unloadSprite(){for(const i of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(i),this._changedImages[i]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new v.Event("data",{dataType:"style"}))}_validateLayer(i){const d=this.sourceCaches[i.source];if(!d)return;const y=i.sourceLayer;if(!y)return;const w=d.getSource();("geojson"===w.type||w.vectorLayerIds&&-1===w.vectorLayerIds.indexOf(y))&&this.fire(new v.ErrorEvent(new Error(`Source layer "${y}" does not exist on source "${w.id}" as specified by style layer "${i.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const i in this.sourceCaches)if(!this.sourceCaches[i].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(i){const d=this._serializedAllLayers();if(!i||0===i.length)return Object.values(d);const y=[];for(const w of i)d[w]&&y.push(d[w]);return y}_serializedAllLayers(){let i=this._serializedLayers;if(i)return i;i=this._serializedLayers={};const d=Object.keys(this._layers);for(const y of d){const w=this._layers[y];"custom"!==w.type&&(i[y]=w.serialize())}return i}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const i in this.sourceCaches)if(this.sourceCaches[i].hasTransition())return!0;for(const i in this._layers)if(this._layers[i].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(i){if(!this._loaded)return;const d=this._changed;if(this._changed){const w=Object.keys(this._updatedLayers),S=Object.keys(this._removedLayers);(w.length||S.length)&&this._updateWorkerLayers(w,S);for(const f in this._updatedSources){const b=this._updatedSources[f];if("reload"===b)this._reloadSource(f);else{if("clear"!==b)throw new Error(`Invalid action ${b}`);this._clearSource(f)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const f in this._updatedPaintProps)this._layers[f].updateTransitions(i);this.light.updateTransitions(i),this._resetUpdates()}const y={};for(const w in this.sourceCaches){const S=this.sourceCaches[w];y[w]=S.used,S.used=!1}for(const w of this._order){const S=this._layers[w];S.recalculate(i,this._availableImages),!S.isHidden(i.zoom)&&S.source&&(this.sourceCaches[S.source].used=!0)}for(const w in y){const S=this.sourceCaches[w];y[w]!==S.used&&S.fire(new v.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:w}))}this.light.recalculate(i),this.z=i.zoom,d&&this.fire(new v.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const i=Object.keys(this._changedImages);if(i.length){for(const d in this.sourceCaches)this.sourceCaches[d].reloadTilesForDependencies(["icons","patterns"],i);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const i in this.sourceCaches)this.sourceCaches[i].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(i,d){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(i),removedIds:d})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(i,d={}){this._checkLoaded();const y=this.serialize();if(i=d.transformStyle?d.transformStyle(y,i):i,fn(this,v.validateStyle(i)))return!1;(i=v.clone$1(i)).layers=v.derefLayers(i.layers);const w=v.diffStyles(y,i).filter(f=>!(f.command in ls));if(0===w.length)return!1;const S=w.filter(f=>!(f.command in Dr));if(S.length>0)throw new Error(`Unimplemented: ${S.map(f=>f.command).join(", ")}.`);for(const f of w)"setTransition"!==f.command&&this[f.command].apply(this,f.args);return this.stylesheet=i,!0}addImage(i,d){if(this.getImage(i))return this.fire(new v.ErrorEvent(new Error(`An image named "${i}" already exists.`)));this.imageManager.addImage(i,d),this._afterImageUpdated(i)}updateImage(i,d){this.imageManager.updateImage(i,d)}getImage(i){return this.imageManager.getImage(i)}removeImage(i){if(!this.getImage(i))return this.fire(new v.ErrorEvent(new Error(`An image named "${i}" does not exist.`)));this.imageManager.removeImage(i),this._afterImageUpdated(i)}_afterImageUpdated(i){this._availableImages=this.imageManager.listImages(),this._changedImages[i]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new v.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(i,d,y={}){if(this._checkLoaded(),void 0!==this.sourceCaches[i])throw new Error(`Source "${i}" already exists.`);if(!d.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(d).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(d.type)>=0&&this._validate(v.validateStyle.source,`sources.${i}`,d,null,y))return;this.map&&this.map._collectResourceTiming&&(d.collectResourceTiming=!0);const w=this.sourceCaches[i]=new Wi(i,d,this.dispatcher);w.style=this,w.setEventedParent(this,()=>({isSourceLoaded:w.loaded(),source:w.serialize(),sourceId:i})),w.onAdd(this.map),this._changed=!0}removeSource(i){if(this._checkLoaded(),void 0===this.sourceCaches[i])throw new Error("There is no source with this ID");for(const y in this._layers)if(this._layers[y].source===i)return this.fire(new v.ErrorEvent(new Error(`Source "${i}" cannot be removed while layer "${y}" is using it.`)));const d=this.sourceCaches[i];delete this.sourceCaches[i],delete this._updatedSources[i],d.fire(new v.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:i})),d.setEventedParent(null),d.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(i,d){if(this._checkLoaded(),void 0===this.sourceCaches[i])throw new Error(`There is no source with this ID=${i}`);const y=this.sourceCaches[i].getSource();if("geojson"!==y.type)throw new Error(`geojsonSource.type is ${y.type}, which is !== 'geojson`);y.setData(d),this._changed=!0}getSource(i){return this.sourceCaches[i]&&this.sourceCaches[i].getSource()}addLayer(i,d,y={}){this._checkLoaded();const w=i.id;if(this.getLayer(w))return void this.fire(new v.ErrorEvent(new Error(`Layer "${w}" already exists on this map.`)));let S;if("custom"===i.type){if(fn(this,v.validateCustomStyleLayer(i)))return;S=v.createStyleLayer(i)}else{if("object"==typeof i.source&&(this.addSource(w,i.source),i=v.clone$1(i),i=v.extend(i,{source:w})),this._validate(v.validateStyle.layer,`layers.${w}`,i,{arrayIndex:-1},y))return;S=v.createStyleLayer(i),this._validateLayer(S),S.setEventedParent(this,{layer:{id:w}})}const f=d?this._order.indexOf(d):this._order.length;if(d&&-1===f)this.fire(new v.ErrorEvent(new Error(`Cannot add layer "${w}" before non-existing layer "${d}".`)));else{if(this._order.splice(f,0,w),this._layerOrderChanged=!0,this._layers[w]=S,this._removedLayers[w]&&S.source&&"custom"!==S.type){const b=this._removedLayers[w];delete this._removedLayers[w],b.type!==S.type?this._updatedSources[S.source]="clear":(this._updatedSources[S.source]="reload",this.sourceCaches[S.source].pause())}this._updateLayer(S),S.onAdd&&S.onAdd(this.map)}}moveLayer(i,d){if(this._checkLoaded(),this._changed=!0,!this._layers[i])return void this.fire(new v.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style and cannot be moved.`)));if(i===d)return;const y=this._order.indexOf(i);this._order.splice(y,1);const w=d?this._order.indexOf(d):this._order.length;d&&-1===w?this.fire(new v.ErrorEvent(new Error(`Cannot move layer "${i}" before non-existing layer "${d}".`))):(this._order.splice(w,0,i),this._layerOrderChanged=!0)}removeLayer(i){this._checkLoaded();const d=this._layers[i];if(!d)return void this.fire(new v.ErrorEvent(new Error(`Cannot remove non-existing layer "${i}".`)));d.setEventedParent(null);const y=this._order.indexOf(i);this._order.splice(y,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[i]=d,delete this._layers[i],this._serializedLayers&&delete this._serializedLayers[i],delete this._updatedLayers[i],delete this._updatedPaintProps[i],d.onRemove&&d.onRemove(this.map)}getLayer(i){return this._layers[i]}hasLayer(i){return i in this._layers}setLayerZoomRange(i,d,y){this._checkLoaded();const w=this.getLayer(i);w?w.minzoom===d&&w.maxzoom===y||(null!=d&&(w.minzoom=d),null!=y&&(w.maxzoom=y),this._updateLayer(w)):this.fire(new v.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${i}".`)))}setFilter(i,d,y={}){this._checkLoaded();const w=this.getLayer(i);if(w){if(!v.deepEqual(w.filter,d))return null==d?(w.filter=void 0,void this._updateLayer(w)):void(this._validate(v.validateStyle.filter,`layers.${w.id}.filter`,d,null,y)||(w.filter=v.clone$1(d),this._updateLayer(w)))}else this.fire(new v.ErrorEvent(new Error(`Cannot filter non-existing layer "${i}".`)))}getFilter(i){return v.clone$1(this.getLayer(i).filter)}setLayoutProperty(i,d,y,w={}){this._checkLoaded();const S=this.getLayer(i);S?v.deepEqual(S.getLayoutProperty(d),y)||(S.setLayoutProperty(d,y,w),this._updateLayer(S)):this.fire(new v.ErrorEvent(new Error(`Cannot style non-existing layer "${i}".`)))}getLayoutProperty(i,d){const y=this.getLayer(i);if(y)return y.getLayoutProperty(d);this.fire(new v.ErrorEvent(new Error(`Cannot get style of non-existing layer "${i}".`)))}setPaintProperty(i,d,y,w={}){this._checkLoaded();const S=this.getLayer(i);S?v.deepEqual(S.getPaintProperty(d),y)||(S.setPaintProperty(d,y,w)&&this._updateLayer(S),this._changed=!0,this._updatedPaintProps[i]=!0):this.fire(new v.ErrorEvent(new Error(`Cannot style non-existing layer "${i}".`)))}getPaintProperty(i,d){return this.getLayer(i).getPaintProperty(d)}setFeatureState(i,d){this._checkLoaded();const y=i.source,w=i.sourceLayer,S=this.sourceCaches[y];if(void 0===S)return void this.fire(new v.ErrorEvent(new Error(`The source '${y}' does not exist in the map's style.`)));const f=S.getSource().type;"geojson"===f&&w?this.fire(new v.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==f||w?(void 0===i.id&&this.fire(new v.ErrorEvent(new Error("The feature id parameter must be provided."))),S.setFeatureState(w,i.id,d)):this.fire(new v.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(i,d){this._checkLoaded();const y=i.source,w=this.sourceCaches[y];if(void 0===w)return void this.fire(new v.ErrorEvent(new Error(`The source '${y}' does not exist in the map's style.`)));const S=w.getSource().type,f="vector"===S?i.sourceLayer:void 0;"vector"!==S||f?d&&"string"!=typeof i.id&&"number"!=typeof i.id?this.fire(new v.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):w.removeFeatureState(f,i.id,d):this.fire(new v.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(i){this._checkLoaded();const d=i.source,y=i.sourceLayer,w=this.sourceCaches[d];if(void 0!==w)return"vector"!==w.getSource().type||y?(void 0===i.id&&this.fire(new v.ErrorEvent(new Error("The feature id parameter must be provided."))),w.getFeatureState(y,i.id)):void this.fire(new v.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new v.ErrorEvent(new Error(`The source '${d}' does not exist in the map's style.`)))}getTransition(){return v.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const i=v.mapObject(this.sourceCaches,w=>w.serialize()),d=this._serializeByIds(this._order),y=this.stylesheet;return v.filterObject({version:y.version,name:y.name,metadata:y.metadata,light:y.light,center:y.center,zoom:y.zoom,bearing:y.bearing,pitch:y.pitch,sprite:y.sprite,glyphs:y.glyphs,transition:y.transition,sources:i,layers:d},w=>void 0!==w)}_updateLayer(i){this._updatedLayers[i.id]=!0,i.source&&!this._updatedSources[i.source]&&"raster"!==this.sourceCaches[i.source].getSource().type&&(this._updatedSources[i.source]="reload",this.sourceCaches[i.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(i){const d=f=>"fill-extrusion"===this._layers[f].type,y={},w=[];for(let f=this._order.length-1;f>=0;f--){const b=this._order[f];if(d(b)){y[b]=f;for(const _ of i){const D=_[b];if(D)for(const k of D)w.push(k)}}}w.sort((f,b)=>b.intersectionZ-f.intersectionZ);const S=[];for(let f=this._order.length-1;f>=0;f--){const b=this._order[f];if(d(b))for(let _=w.length-1;_>=0;_--){const D=w[_].feature;if(y[D.layer.id]<f)break;S.push(D),w.pop()}else for(const _ of i){const D=_[b];if(D)for(const k of D)S.push(k.feature)}}return S}queryRenderedFeatures(i,d,y){d&&d.filter&&this._validate(v.validateStyle.filter,"queryRenderedFeatures.filter",d.filter,null,d);const w={};if(d&&d.layers){if(!Array.isArray(d.layers))return this.fire(new v.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const b of d.layers){const _=this._layers[b];if(!_)return this.fire(new v.ErrorEvent(new Error(`The layer '${b}' does not exist in the map's style and cannot be queried for features.`))),[];w[_.source]=!0}}const S=[];d.availableImages=this._availableImages;const f=this._serializedAllLayers();for(const b in this.sourceCaches)d.layers&&!w[b]||S.push(ri(this.sourceCaches[b],this._layers,f,i,d,y));return this.placement&&S.push(function(b,_,D,k,R,z,ee){const oe={},Me=z.queryRenderedSymbols(k),Ce=[];for(const it of Object.keys(Me).map(Number))Ce.push(ee[it]);Ce.sort(ot);for(const it of Ce){const yt=it.featureIndex.lookupSymbolFeatures(Me[it.bucketInstanceId],_,it.bucketIndex,it.sourceLayerIndex,R.filter,R.layers,R.availableImages,b);for(const $e in yt){const ft=oe[$e]=oe[$e]||[],Ft=yt[$e];Ft.sort((Zt,Gt)=>{const Qt=it.featureSortOrder;if(Qt){const Xt=Qt.indexOf(Zt.featureIndex);return Qt.indexOf(Gt.featureIndex)-Xt}return Gt.featureIndex-Zt.featureIndex});for(const Zt of Ft)ft.push(Zt)}}for(const it in oe)oe[it].forEach(yt=>{const $e=yt.feature,ft=D[b[it].source].getFeatureState($e.layer["source-layer"],$e.id);$e.source=$e.layer.source,$e.layer["source-layer"]&&($e.sourceLayer=$e.layer["source-layer"]),$e.state=ft});return oe}(this._layers,f,this.sourceCaches,i,d,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(S)}querySourceFeatures(i,d){d&&d.filter&&this._validate(v.validateStyle.filter,"querySourceFeatures.filter",d.filter,null,d);const y=this.sourceCaches[i];return y?function(w,S){const f=w.getRenderableIds().map(D=>w.getTileByID(D)),b=[],_={};for(let D=0;D<f.length;D++){const k=f[D],R=k.tileID.canonical.key;_[R]||(_[R]=!0,k.querySourceFeatures(b,S))}return b}(y,d):[]}addSourceType(i,d,y){return Kt(i)?y(new Error(`A source type called "${i}" already exists.`)):(ht[i]=d,d.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:i,url:d.workerSourceURL},y):y(null,null))}getLight(){return this.light.getLight()}setLight(i,d={}){this._checkLoaded();const y=this.light.getLight();let w=!1;for(const f in i)if(!v.deepEqual(i[f],y[f])){w=!0;break}if(!w)return;const S={now:v.browser.now(),transition:v.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(i,d),this.light.updateTransitions(S)}_validate(i,d,y,w,S={}){return(!S||!1!==S.validate)&&fn(this,i.call(v.validateStyle,v.extend({key:d,style:this.serialize(),value:y,styleSpec:v.v8Spec},w)))}_remove(i=!0){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),v.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const d in this._layers)this._layers[d].setEventedParent(null);for(const d in this.sourceCaches){const y=this.sourceCaches[d];y.setEventedParent(null),y.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(i)}_clearSource(i){this.sourceCaches[i].clearTiles()}_reloadSource(i){this.sourceCaches[i].resume(),this.sourceCaches[i].reload()}_updateSources(i){for(const d in this.sourceCaches)this.sourceCaches[d].update(i,this.map.terrain)}_generateCollisionBoxes(){for(const i in this.sourceCaches)this._reloadSource(i)}_updatePlacement(i,d,y,w,S=!1){let f=!1,b=!1;const _={};for(const D of this._order){const k=this._layers[D];if("symbol"!==k.type)continue;if(!_[k.source]){const z=this.sourceCaches[k.source];_[k.source]=z.getRenderableIds(!0).map(ee=>z.getTileByID(ee)).sort((ee,oe)=>oe.tileID.overscaledZ-ee.tileID.overscaledZ||(ee.tileID.isLessThan(oe.tileID)?-1:1))}const R=this.crossTileSymbolIndex.addLayer(k,_[k.source],i.center.lng);f=f||R}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((S=S||this._layerOrderChanged||0===y)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(v.browser.now(),i.zoom))&&(this.pauseablePlacement=new To(i,this.map.terrain,this._order,S,d,y,w,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,_),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(v.browser.now()),b=!0),f&&this.pauseablePlacement.placement.setStale()),b||f)for(const D of this._order){const k=this._layers[D];"symbol"===k.type&&this.placement.updateLayerOpacities(k,_[k.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(v.browser.now())}_releaseSymbolFadeTiles(){for(const i in this.sourceCaches)this.sourceCaches[i].releaseSymbolFadeTiles()}getImages(i,d,y){this.imageManager.getImages(d.icons,y),this._updateTilesForChangedImages();const w=this.sourceCaches[d.source];w&&w.setDependencies(d.tileID.key,d.type,d.icons)}getGlyphs(i,d,y){this.glyphManager.getGlyphs(d.stacks,y);const w=this.sourceCaches[d.source];w&&w.setDependencies(d.tileID.key,d.type,[""])}getResource(i,d,y){return v.makeRequest(d,y)}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(i,d={}){this._checkLoaded(),i&&this._validate(v.validateStyle.glyphs,"glyphs",i,null,d)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=i,this.glyphManager.entries={},this.glyphManager.setURL(i))}addSprite(i,d,y={},w){this._checkLoaded();const S=[{id:i,url:d}],f=[...Le(this.stylesheet.sprite),...S];this._validate(v.validateStyle.sprite,"sprite",f,null,y)||(this.stylesheet.sprite=f,this._loadSprite(S,!0,w))}removeSprite(i){this._checkLoaded();const d=Le(this.stylesheet.sprite);if(d.find(y=>y.id===i)){if(this._spritesImagesIds[i])for(const y of this._spritesImagesIds[i])this.imageManager.removeImage(y),this._changedImages[y]=!0;d.splice(d.findIndex(y=>y.id===i),1),this.stylesheet.sprite=d.length>0?d:void 0,delete this._spritesImagesIds[i],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new v.Event("data",{dataType:"style"}))}else this.fire(new v.ErrorEvent(new Error(`Sprite "${i}" doesn't exists on this map.`)))}getSprite(){return Le(this.stylesheet.sprite)}setSprite(i,d={},y){this._checkLoaded(),i&&this._validate(v.validateStyle.sprite,"sprite",i,null,d)||(this.stylesheet.sprite=i,i?this._loadSprite(i,!0,y):(this._unloadSprite(),y&&y(null)))}}ur.registerForPluginStateChange=v.registerForPluginStateChange;var _o=v.createLayout([{name:"a_pos",type:"Int16",components:2}]),lo="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const co={prelude:gn("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\n","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}\n#ifdef TERRAIN3D\nuniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;\n#endif\nconst highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {\n#ifdef TERRAIN3D\nhighp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));\n#else\nreturn 1.0;\n#endif\n}float calculate_visibility(vec4 pos) {\n#ifdef TERRAIN3D\nvec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;\n#else\nreturn 1.0;\n#endif\n}float ele(vec2 pos) {\n#ifdef TERRAIN3D\nvec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;\n#else\nreturn 0.0;\n#endif\n}float get_elevation(vec2 pos) {\n#ifdef TERRAIN3D\nvec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;\n#else\nreturn 0.0;\n#endif\n}"),background:gn("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:gn("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:gn("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),clippingMask:gn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:gn("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),heatmapTexture:gn("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:gn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:gn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:gn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:gn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),fillOutline:gn("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillOutlinePattern:gn("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillPattern:gn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),fillExtrusion:gn("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),fillExtrusionPattern:gn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),hillshadePrepare:gn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:gn("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:gn("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),lineGradient:gn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),linePattern:gn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),lineSDF:gn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),raster:gn("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:gn("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}"),symbolSDF:gn("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),symbolTextAndIcon:gn("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}"),terrain:gn("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",lo),terrainDepth:gn("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",lo),terrainCoords:gn("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",lo)};function gn(E,i){const d=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,y=i.match(/attribute ([\w]+) ([\w]+)/g),w=E.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),S=i.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),f=S?S.concat(w):w,b={};return{fragmentSource:E=E.replace(d,(_,D,k,R,z)=>(b[z]=!0,"define"===D?`\n#ifndef HAS_UNIFORM_u_${z}\nvarying ${k} ${R} ${z};\n#else\nuniform ${k} ${R} u_${z};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${z}\n    ${k} ${R} ${z} = u_${z};\n#endif\n`)),vertexSource:i=i.replace(d,(_,D,k,R,z)=>{const ee="float"===R?"vec2":"vec4",oe=z.match(/color/)?"color":ee;return b[z]?"define"===D?`\n#ifndef HAS_UNIFORM_u_${z}\nuniform lowp float u_${z}_t;\nattribute ${k} ${ee} a_${z};\nvarying ${k} ${R} ${z};\n#else\nuniform ${k} ${R} u_${z};\n#endif\n`:"vec4"===oe?`\n#ifndef HAS_UNIFORM_u_${z}\n    ${z} = a_${z};\n#else\n    ${k} ${R} ${z} = u_${z};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${z}\n    ${z} = unpack_mix_${oe}(a_${z}, u_${z}_t);\n#else\n    ${k} ${R} ${z} = u_${z};\n#endif\n`:"define"===D?`\n#ifndef HAS_UNIFORM_u_${z}\nuniform lowp float u_${z}_t;\nattribute ${k} ${ee} a_${z};\n#else\nuniform ${k} ${R} u_${z};\n#endif\n`:"vec4"===oe?`\n#ifndef HAS_UNIFORM_u_${z}\n    ${k} ${R} ${z} = a_${z};\n#else\n    ${k} ${R} ${z} = u_${z};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${z}\n    ${k} ${R} ${z} = unpack_mix_${oe}(a_${z}, u_${z}_t);\n#else\n    ${k} ${R} ${z} = u_${z};\n#endif\n`}),staticAttributes:y,staticUniforms:f}}class no{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(i,d,y,w,S,f,b,_,D){this.context=i;let k=this.boundPaintVertexBuffers.length!==w.length;for(let R=0;!k&&R<w.length;R++)this.boundPaintVertexBuffers[R]!==w[R]&&(k=!0);!this.vao||this.boundProgram!==d||this.boundLayoutVertexBuffer!==y||k||this.boundIndexBuffer!==S||this.boundVertexOffset!==f||this.boundDynamicVertexBuffer!==b||this.boundDynamicVertexBuffer2!==_||this.boundDynamicVertexBuffer3!==D?this.freshBind(d,y,w,S,f,b,_,D):(i.bindVertexArray.set(this.vao),b&&b.bind(),S&&S.dynamicDraw&&S.bind(),_&&_.bind(),D&&D.bind())}freshBind(i,d,y,w,S,f,b,_){const D=i.numAttributes,k=this.context,R=k.gl;this.vao&&this.destroy(),this.vao=k.createVertexArray(),k.bindVertexArray.set(this.vao),this.boundProgram=i,this.boundLayoutVertexBuffer=d,this.boundPaintVertexBuffers=y,this.boundIndexBuffer=w,this.boundVertexOffset=S,this.boundDynamicVertexBuffer=f,this.boundDynamicVertexBuffer2=b,this.boundDynamicVertexBuffer3=_,d.enableAttributes(R,i);for(const z of y)z.enableAttributes(R,i);f&&f.enableAttributes(R,i),b&&b.enableAttributes(R,i),_&&_.enableAttributes(R,i),d.bind(),d.setVertexAttribPointers(R,i,S);for(const z of y)z.bind(),z.setVertexAttribPointers(R,i,S);f&&(f.bind(),f.setVertexAttribPointers(R,i,S)),w&&w.bind(),b&&(b.bind(),b.setVertexAttribPointers(R,i,S)),_&&(_.bind(),_.setVertexAttribPointers(R,i,S)),k.currentNumAttributes=D}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function Ro(E){const i=[];for(let d=0;d<E.length;d++){if(null===E[d])continue;const y=E[d].split(" ");i.push(y.pop())}return i}class cs{constructor(i,d,y,w,S,f,b){const _=i.gl;this.program=_.createProgram();const D=Ro(y.staticAttributes),k=w?w.getBinderAttributes():[],R=D.concat(k),z=co.prelude.staticUniforms?Ro(co.prelude.staticUniforms):[],ee=y.staticUniforms?Ro(y.staticUniforms):[],oe=w?w.getBinderUniforms():[],Me=z.concat(ee).concat(oe),Ce=[];for(const Gt of Me)Ce.indexOf(Gt)<0&&Ce.push(Gt);const it=w?w.defines():[];f&&it.push("#define OVERDRAW_INSPECTOR;"),b&&it.push("#define TERRAIN3D;");const yt=it.concat(co.prelude.fragmentSource,y.fragmentSource).join("\n"),$e=it.concat(co.prelude.vertexSource,y.vertexSource).join("\n"),ft=_.createShader(_.FRAGMENT_SHADER);if(_.isContextLost())return void(this.failedToCreate=!0);_.shaderSource(ft,yt),_.compileShader(ft),_.attachShader(this.program,ft);const Ft=_.createShader(_.VERTEX_SHADER);if(_.isContextLost())return void(this.failedToCreate=!0);_.shaderSource(Ft,$e),_.compileShader(Ft),_.attachShader(this.program,Ft),this.attributes={};const Zt={};this.numAttributes=R.length;for(let Gt=0;Gt<this.numAttributes;Gt++)R[Gt]&&(_.bindAttribLocation(this.program,Gt,R[Gt]),this.attributes[R[Gt]]=Gt);_.linkProgram(this.program),_.deleteShader(Ft),_.deleteShader(ft);for(let Gt=0;Gt<Ce.length;Gt++){const Qt=Ce[Gt];if(Qt&&!Zt[Qt]){const Xt=_.getUniformLocation(this.program,Qt);Xt&&(Zt[Qt]=Xt)}}var Gt,Qt;this.fixedUniforms=S(i,Zt),this.terrainUniforms={u_depth:new v.Uniform1i(Gt=i,(Qt=Zt).u_depth),u_terrain:new v.Uniform1i(Gt,Qt.u_terrain),u_terrain_dim:new v.Uniform1f(Gt,Qt.u_terrain_dim),u_terrain_matrix:new v.UniformMatrix4f(Gt,Qt.u_terrain_matrix),u_terrain_unpack:new v.Uniform4f(Gt,Qt.u_terrain_unpack),u_terrain_exaggeration:new v.Uniform1f(Gt,Qt.u_terrain_exaggeration)},this.binderUniforms=w?w.getUniforms(i,Zt):[]}draw(i,d,y,w,S,f,b,_,D,k,R,z,ee,oe,Me,Ce,it,yt){const $e=i.gl;if(this.failedToCreate)return;if(i.program.set(this.program),i.setDepthMode(y),i.setStencilMode(w),i.setColorMode(S),i.setCullFace(f),_){i.activeTexture.set($e.TEXTURE2),$e.bindTexture($e.TEXTURE_2D,_.depthTexture),i.activeTexture.set($e.TEXTURE3),$e.bindTexture($e.TEXTURE_2D,_.texture);for(const Ft in this.terrainUniforms)this.terrainUniforms[Ft].set(_[Ft])}for(const Ft in this.fixedUniforms)this.fixedUniforms[Ft].set(b[Ft]);Me&&Me.setUniforms(i,this.binderUniforms,ee,{zoom:oe});let ft=0;switch(d){case $e.LINES:ft=2;break;case $e.TRIANGLES:ft=3;break;case $e.LINE_STRIP:ft=1}for(const Ft of z.get()){const Zt=Ft.vaos||(Ft.vaos={});(Zt[D]||(Zt[D]=new no)).bind(i,this,k,Me?Me.getPaintVertexBuffers():[],R,Ft.vertexOffset,Ce,it,yt),$e.drawElements(d,Ft.primitiveLength*ft,$e.UNSIGNED_SHORT,Ft.primitiveOffset*ft*2)}}}function Ma(E,i,d){const y=1/se(d,1,i.transform.tileZoom),w=Math.pow(2,d.tileID.overscaledZ),S=d.tileSize*Math.pow(2,i.transform.tileZoom)/w,f=S*(d.tileID.canonical.x+d.tileID.wrap*w),b=S*d.tileID.canonical.y;return{u_image:0,u_texsize:d.imageAtlasTexture.size,u_scale:[y,E.fromScale,E.toScale],u_fade:E.t,u_pixel_coord_upper:[f>>16,b>>16],u_pixel_coord_lower:[65535&f,65535&b]}}const Va=(E,i,d,y)=>{const w=i.style.light,S=w.properties.get("position"),f=[S.x,S.y,S.z],b=(D=new v.ARRAY_TYPE(9),v.ARRAY_TYPE!=Float32Array&&(D[1]=0,D[2]=0,D[3]=0,D[5]=0,D[6]=0,D[7]=0),D[0]=1,D[4]=1,D[8]=1,D);var D;"viewport"===w.properties.get("anchor")&&function(D,k){var R=Math.sin(k),z=Math.cos(k);D[0]=z,D[1]=R,D[2]=0,D[3]=-R,D[4]=z,D[5]=0,D[6]=0,D[7]=0,D[8]=1}(b,-i.transform.angle),function(D,k,R){var z=k[0],ee=k[1],oe=k[2];D[0]=z*R[0]+ee*R[3]+oe*R[6],D[1]=z*R[1]+ee*R[4]+oe*R[7],D[2]=z*R[2]+ee*R[5]+oe*R[8]}(f,f,b);const _=w.properties.get("color");return{u_matrix:E,u_lightpos:f,u_lightintensity:w.properties.get("intensity"),u_lightcolor:[_.r,_.g,_.b],u_vertical_gradient:+d,u_opacity:y}},Ic=(E,i,d,y,w,S,f)=>v.extend(Va(E,i,d,y),Ma(S,i,f),{u_height_factor:-Math.pow(2,w.overscaledZ)/f.tileSize/8}),Da=E=>({u_matrix:E}),vl=(E,i,d,y)=>v.extend(Da(E),Ma(d,i,y)),Sa=(E,i)=>({u_matrix:E,u_world:i}),Ta=(E,i,d,y,w)=>v.extend(vl(E,i,d,y),{u_world:w}),Ua=(E,i,d,y)=>{const w=E.transform;let S,f;if("map"===y.paint.get("circle-pitch-alignment")){const b=se(d,1,w.zoom);S=!0,f=[b,b]}else S=!1,f=w.pixelsToGLUnits;return{u_camera_to_center_distance:w.cameraToCenterDistance,u_scale_with_map:+("map"===y.paint.get("circle-pitch-scale")),u_matrix:E.translatePosMatrix(i.posMatrix,d,y.paint.get("circle-translate"),y.paint.get("circle-translate-anchor")),u_pitch_with_map:+S,u_device_pixel_ratio:E.pixelRatio,u_extrude_scale:f}},cn=(E,i,d)=>{const y=se(d,1,i.zoom),w=Math.pow(2,i.zoom-d.tileID.overscaledZ),S=d.tileID.overscaleFactor();return{u_matrix:E,u_camera_to_center_distance:i.cameraToCenterDistance,u_pixels_to_tile_units:y,u_extrude_scale:[i.pixelsToGLUnits[0]/(y*w),i.pixelsToGLUnits[1]/(y*w)],u_overscale_factor:S}},Or=(E,i,d=1)=>({u_matrix:E,u_color:i,u_overlay:0,u_overlay_scale:d}),Yr=E=>({u_matrix:E}),Rs=(E,i,d,y)=>({u_matrix:E,u_extrude_scale:se(i,1,d),u_intensity:y});function vr(E,i){const d=Math.pow(2,i.canonical.z),y=i.canonical.y;return[new v.MercatorCoordinate(0,y/d).toLngLat().lat,new v.MercatorCoordinate(0,(y+1)/d).toLngLat().lat]}const Fs=(E,i,d,y)=>{const w=E.transform;return{u_matrix:fr(E,i,d,y),u_ratio:1/se(i,1,w.zoom),u_device_pixel_ratio:E.pixelRatio,u_units_to_pixels:[1/w.pixelsToGLUnits[0],1/w.pixelsToGLUnits[1]]}},yo=(E,i,d,y,w)=>v.extend(Fs(E,i,d,w),{u_image:0,u_image_height:y}),Jo=(E,i,d,y,w)=>{const S=E.transform,f=Qo(i,S);return{u_matrix:fr(E,i,d,w),u_texsize:i.imageAtlasTexture.size,u_ratio:1/se(i,1,S.zoom),u_device_pixel_ratio:E.pixelRatio,u_image:0,u_scale:[f,y.fromScale,y.toScale],u_fade:y.t,u_units_to_pixels:[1/S.pixelsToGLUnits[0],1/S.pixelsToGLUnits[1]]}},Ho=(E,i,d,y,w,S)=>{const f=E.lineAtlas,b=Qo(i,E.transform),_="round"===d.layout.get("line-cap"),D=f.getDash(y.from,_),k=f.getDash(y.to,_),R=D.width*w.fromScale,z=k.width*w.toScale;return v.extend(Fs(E,i,d,S),{u_patternscale_a:[b/R,-D.height/2],u_patternscale_b:[b/z,-k.height/2],u_sdfgamma:f.width/(256*Math.min(R,z)*E.pixelRatio)/2,u_image:0,u_tex_y_a:D.y,u_tex_y_b:k.y,u_mix:w.t})};function Qo(E,i){return 1/se(E,1,i.tileZoom)}function fr(E,i,d,y){return E.translatePosMatrix(y?y.posMatrix:i.tileID.posMatrix,i,d.paint.get("line-translate"),d.paint.get("line-translate-anchor"))}const Ai=(E,i,d,y,w)=>{return{u_matrix:E,u_tl_parent:i,u_scale_parent:d,u_buffer_scale:1,u_fade_t:y.mix,u_opacity:y.opacity*w.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:w.paint.get("raster-brightness-min"),u_brightness_high:w.paint.get("raster-brightness-max"),u_saturation_factor:(f=w.paint.get("raster-saturation"),f>0?1-1/(1.001-f):-f),u_contrast_factor:(S=w.paint.get("raster-contrast"),S>0?1/(1-S):1+S),u_spin_weights:rn(w.paint.get("raster-hue-rotate"))};var S,f};function rn(E){E*=Math.PI/180;const i=Math.sin(E),d=Math.cos(E);return[(2*d+1)/3,(-Math.sqrt(3)*i-d+1)/3,(Math.sqrt(3)*i-d+1)/3]}const Pn=(E,i,d,y,w,S,f,b,_,D)=>{const k=w.transform;return{u_is_size_zoom_constant:+("constant"===E||"source"===E),u_is_size_feature_constant:+("constant"===E||"camera"===E),u_size_t:i?i.uSizeT:0,u_size:i?i.uSize:0,u_camera_to_center_distance:k.cameraToCenterDistance,u_pitch:k.pitch/360*2*Math.PI,u_rotate_symbol:+d,u_aspect_ratio:k.width/k.height,u_fade_change:w.options.fadeDuration?w.symbolFadeChange:1,u_matrix:S,u_label_plane_matrix:f,u_coord_matrix:b,u_is_text:+_,u_pitch_with_map:+y,u_texsize:D,u_texture:0}},vo=(E,i,d,y,w,S,f,b,_,D,k)=>{const R=w.transform;return v.extend(Pn(E,i,d,y,w,S,f,b,_,D),{u_gamma_scale:y?Math.cos(R._pitch)*R.cameraToCenterDistance:1,u_device_pixel_ratio:w.pixelRatio,u_is_halo:+k})},zr=(E,i,d,y,w,S,f,b,_,D)=>v.extend(vo(E,i,d,y,w,S,f,b,!0,_,!0),{u_texsize_icon:D,u_texture_icon:1}),Kn=(E,i,d)=>({u_matrix:E,u_opacity:i,u_color:d}),es=(E,i,d,y,w,S)=>v.extend(function(f,b,_,D){const k=_.imageManager.getPattern(f.from.toString()),R=_.imageManager.getPattern(f.to.toString()),{width:z,height:ee}=_.imageManager.getPixelSize(),oe=Math.pow(2,D.tileID.overscaledZ),Me=D.tileSize*Math.pow(2,_.transform.tileZoom)/oe,Ce=Me*(D.tileID.canonical.x+D.tileID.wrap*oe),it=Me*D.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:k.tl,u_pattern_br_a:k.br,u_pattern_tl_b:R.tl,u_pattern_br_b:R.br,u_texsize:[z,ee],u_mix:b.t,u_pattern_size_a:k.displaySize,u_pattern_size_b:R.displaySize,u_scale_a:b.fromScale,u_scale_b:b.toScale,u_tile_units_to_pixels:1/se(D,1,_.transform.tileZoom),u_pixel_coord_upper:[Ce>>16,it>>16],u_pixel_coord_lower:[65535&Ce,65535&it]}}(y,S,d,w),{u_matrix:E,u_opacity:i}),gr={fillExtrusion:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_lightpos:new v.Uniform3f(E,i.u_lightpos),u_lightintensity:new v.Uniform1f(E,i.u_lightintensity),u_lightcolor:new v.Uniform3f(E,i.u_lightcolor),u_vertical_gradient:new v.Uniform1f(E,i.u_vertical_gradient),u_opacity:new v.Uniform1f(E,i.u_opacity)}),fillExtrusionPattern:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_lightpos:new v.Uniform3f(E,i.u_lightpos),u_lightintensity:new v.Uniform1f(E,i.u_lightintensity),u_lightcolor:new v.Uniform3f(E,i.u_lightcolor),u_vertical_gradient:new v.Uniform1f(E,i.u_vertical_gradient),u_height_factor:new v.Uniform1f(E,i.u_height_factor),u_image:new v.Uniform1i(E,i.u_image),u_texsize:new v.Uniform2f(E,i.u_texsize),u_pixel_coord_upper:new v.Uniform2f(E,i.u_pixel_coord_upper),u_pixel_coord_lower:new v.Uniform2f(E,i.u_pixel_coord_lower),u_scale:new v.Uniform3f(E,i.u_scale),u_fade:new v.Uniform1f(E,i.u_fade),u_opacity:new v.Uniform1f(E,i.u_opacity)}),fill:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix)}),fillPattern:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_image:new v.Uniform1i(E,i.u_image),u_texsize:new v.Uniform2f(E,i.u_texsize),u_pixel_coord_upper:new v.Uniform2f(E,i.u_pixel_coord_upper),u_pixel_coord_lower:new v.Uniform2f(E,i.u_pixel_coord_lower),u_scale:new v.Uniform3f(E,i.u_scale),u_fade:new v.Uniform1f(E,i.u_fade)}),fillOutline:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_world:new v.Uniform2f(E,i.u_world)}),fillOutlinePattern:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_world:new v.Uniform2f(E,i.u_world),u_image:new v.Uniform1i(E,i.u_image),u_texsize:new v.Uniform2f(E,i.u_texsize),u_pixel_coord_upper:new v.Uniform2f(E,i.u_pixel_coord_upper),u_pixel_coord_lower:new v.Uniform2f(E,i.u_pixel_coord_lower),u_scale:new v.Uniform3f(E,i.u_scale),u_fade:new v.Uniform1f(E,i.u_fade)}),circle:(E,i)=>({u_camera_to_center_distance:new v.Uniform1f(E,i.u_camera_to_center_distance),u_scale_with_map:new v.Uniform1i(E,i.u_scale_with_map),u_pitch_with_map:new v.Uniform1i(E,i.u_pitch_with_map),u_extrude_scale:new v.Uniform2f(E,i.u_extrude_scale),u_device_pixel_ratio:new v.Uniform1f(E,i.u_device_pixel_ratio),u_matrix:new v.UniformMatrix4f(E,i.u_matrix)}),collisionBox:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_camera_to_center_distance:new v.Uniform1f(E,i.u_camera_to_center_distance),u_pixels_to_tile_units:new v.Uniform1f(E,i.u_pixels_to_tile_units),u_extrude_scale:new v.Uniform2f(E,i.u_extrude_scale),u_overscale_factor:new v.Uniform1f(E,i.u_overscale_factor)}),collisionCircle:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_inv_matrix:new v.UniformMatrix4f(E,i.u_inv_matrix),u_camera_to_center_distance:new v.Uniform1f(E,i.u_camera_to_center_distance),u_viewport_size:new v.Uniform2f(E,i.u_viewport_size)}),debug:(E,i)=>({u_color:new v.UniformColor(E,i.u_color),u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_overlay:new v.Uniform1i(E,i.u_overlay),u_overlay_scale:new v.Uniform1f(E,i.u_overlay_scale)}),clippingMask:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix)}),heatmap:(E,i)=>({u_extrude_scale:new v.Uniform1f(E,i.u_extrude_scale),u_intensity:new v.Uniform1f(E,i.u_intensity),u_matrix:new v.UniformMatrix4f(E,i.u_matrix)}),heatmapTexture:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_world:new v.Uniform2f(E,i.u_world),u_image:new v.Uniform1i(E,i.u_image),u_color_ramp:new v.Uniform1i(E,i.u_color_ramp),u_opacity:new v.Uniform1f(E,i.u_opacity)}),hillshade:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_image:new v.Uniform1i(E,i.u_image),u_latrange:new v.Uniform2f(E,i.u_latrange),u_light:new v.Uniform2f(E,i.u_light),u_shadow:new v.UniformColor(E,i.u_shadow),u_highlight:new v.UniformColor(E,i.u_highlight),u_accent:new v.UniformColor(E,i.u_accent)}),hillshadePrepare:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_image:new v.Uniform1i(E,i.u_image),u_dimension:new v.Uniform2f(E,i.u_dimension),u_zoom:new v.Uniform1f(E,i.u_zoom),u_unpack:new v.Uniform4f(E,i.u_unpack)}),line:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_ratio:new v.Uniform1f(E,i.u_ratio),u_device_pixel_ratio:new v.Uniform1f(E,i.u_device_pixel_ratio),u_units_to_pixels:new v.Uniform2f(E,i.u_units_to_pixels)}),lineGradient:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_ratio:new v.Uniform1f(E,i.u_ratio),u_device_pixel_ratio:new v.Uniform1f(E,i.u_device_pixel_ratio),u_units_to_pixels:new v.Uniform2f(E,i.u_units_to_pixels),u_image:new v.Uniform1i(E,i.u_image),u_image_height:new v.Uniform1f(E,i.u_image_height)}),linePattern:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_texsize:new v.Uniform2f(E,i.u_texsize),u_ratio:new v.Uniform1f(E,i.u_ratio),u_device_pixel_ratio:new v.Uniform1f(E,i.u_device_pixel_ratio),u_image:new v.Uniform1i(E,i.u_image),u_units_to_pixels:new v.Uniform2f(E,i.u_units_to_pixels),u_scale:new v.Uniform3f(E,i.u_scale),u_fade:new v.Uniform1f(E,i.u_fade)}),lineSDF:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_ratio:new v.Uniform1f(E,i.u_ratio),u_device_pixel_ratio:new v.Uniform1f(E,i.u_device_pixel_ratio),u_units_to_pixels:new v.Uniform2f(E,i.u_units_to_pixels),u_patternscale_a:new v.Uniform2f(E,i.u_patternscale_a),u_patternscale_b:new v.Uniform2f(E,i.u_patternscale_b),u_sdfgamma:new v.Uniform1f(E,i.u_sdfgamma),u_image:new v.Uniform1i(E,i.u_image),u_tex_y_a:new v.Uniform1f(E,i.u_tex_y_a),u_tex_y_b:new v.Uniform1f(E,i.u_tex_y_b),u_mix:new v.Uniform1f(E,i.u_mix)}),raster:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_tl_parent:new v.Uniform2f(E,i.u_tl_parent),u_scale_parent:new v.Uniform1f(E,i.u_scale_parent),u_buffer_scale:new v.Uniform1f(E,i.u_buffer_scale),u_fade_t:new v.Uniform1f(E,i.u_fade_t),u_opacity:new v.Uniform1f(E,i.u_opacity),u_image0:new v.Uniform1i(E,i.u_image0),u_image1:new v.Uniform1i(E,i.u_image1),u_brightness_low:new v.Uniform1f(E,i.u_brightness_low),u_brightness_high:new v.Uniform1f(E,i.u_brightness_high),u_saturation_factor:new v.Uniform1f(E,i.u_saturation_factor),u_contrast_factor:new v.Uniform1f(E,i.u_contrast_factor),u_spin_weights:new v.Uniform3f(E,i.u_spin_weights)}),symbolIcon:(E,i)=>({u_is_size_zoom_constant:new v.Uniform1i(E,i.u_is_size_zoom_constant),u_is_size_feature_constant:new v.Uniform1i(E,i.u_is_size_feature_constant),u_size_t:new v.Uniform1f(E,i.u_size_t),u_size:new v.Uniform1f(E,i.u_size),u_camera_to_center_distance:new v.Uniform1f(E,i.u_camera_to_center_distance),u_pitch:new v.Uniform1f(E,i.u_pitch),u_rotate_symbol:new v.Uniform1i(E,i.u_rotate_symbol),u_aspect_ratio:new v.Uniform1f(E,i.u_aspect_ratio),u_fade_change:new v.Uniform1f(E,i.u_fade_change),u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_label_plane_matrix:new v.UniformMatrix4f(E,i.u_label_plane_matrix),u_coord_matrix:new v.UniformMatrix4f(E,i.u_coord_matrix),u_is_text:new v.Uniform1i(E,i.u_is_text),u_pitch_with_map:new v.Uniform1i(E,i.u_pitch_with_map),u_texsize:new v.Uniform2f(E,i.u_texsize),u_texture:new v.Uniform1i(E,i.u_texture)}),symbolSDF:(E,i)=>({u_is_size_zoom_constant:new v.Uniform1i(E,i.u_is_size_zoom_constant),u_is_size_feature_constant:new v.Uniform1i(E,i.u_is_size_feature_constant),u_size_t:new v.Uniform1f(E,i.u_size_t),u_size:new v.Uniform1f(E,i.u_size),u_camera_to_center_distance:new v.Uniform1f(E,i.u_camera_to_center_distance),u_pitch:new v.Uniform1f(E,i.u_pitch),u_rotate_symbol:new v.Uniform1i(E,i.u_rotate_symbol),u_aspect_ratio:new v.Uniform1f(E,i.u_aspect_ratio),u_fade_change:new v.Uniform1f(E,i.u_fade_change),u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_label_plane_matrix:new v.UniformMatrix4f(E,i.u_label_plane_matrix),u_coord_matrix:new v.UniformMatrix4f(E,i.u_coord_matrix),u_is_text:new v.Uniform1i(E,i.u_is_text),u_pitch_with_map:new v.Uniform1i(E,i.u_pitch_with_map),u_texsize:new v.Uniform2f(E,i.u_texsize),u_texture:new v.Uniform1i(E,i.u_texture),u_gamma_scale:new v.Uniform1f(E,i.u_gamma_scale),u_device_pixel_ratio:new v.Uniform1f(E,i.u_device_pixel_ratio),u_is_halo:new v.Uniform1i(E,i.u_is_halo)}),symbolTextAndIcon:(E,i)=>({u_is_size_zoom_constant:new v.Uniform1i(E,i.u_is_size_zoom_constant),u_is_size_feature_constant:new v.Uniform1i(E,i.u_is_size_feature_constant),u_size_t:new v.Uniform1f(E,i.u_size_t),u_size:new v.Uniform1f(E,i.u_size),u_camera_to_center_distance:new v.Uniform1f(E,i.u_camera_to_center_distance),u_pitch:new v.Uniform1f(E,i.u_pitch),u_rotate_symbol:new v.Uniform1i(E,i.u_rotate_symbol),u_aspect_ratio:new v.Uniform1f(E,i.u_aspect_ratio),u_fade_change:new v.Uniform1f(E,i.u_fade_change),u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_label_plane_matrix:new v.UniformMatrix4f(E,i.u_label_plane_matrix),u_coord_matrix:new v.UniformMatrix4f(E,i.u_coord_matrix),u_is_text:new v.Uniform1i(E,i.u_is_text),u_pitch_with_map:new v.Uniform1i(E,i.u_pitch_with_map),u_texsize:new v.Uniform2f(E,i.u_texsize),u_texsize_icon:new v.Uniform2f(E,i.u_texsize_icon),u_texture:new v.Uniform1i(E,i.u_texture),u_texture_icon:new v.Uniform1i(E,i.u_texture_icon),u_gamma_scale:new v.Uniform1f(E,i.u_gamma_scale),u_device_pixel_ratio:new v.Uniform1f(E,i.u_device_pixel_ratio),u_is_halo:new v.Uniform1i(E,i.u_is_halo)}),background:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_opacity:new v.Uniform1f(E,i.u_opacity),u_color:new v.UniformColor(E,i.u_color)}),backgroundPattern:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_opacity:new v.Uniform1f(E,i.u_opacity),u_image:new v.Uniform1i(E,i.u_image),u_pattern_tl_a:new v.Uniform2f(E,i.u_pattern_tl_a),u_pattern_br_a:new v.Uniform2f(E,i.u_pattern_br_a),u_pattern_tl_b:new v.Uniform2f(E,i.u_pattern_tl_b),u_pattern_br_b:new v.Uniform2f(E,i.u_pattern_br_b),u_texsize:new v.Uniform2f(E,i.u_texsize),u_mix:new v.Uniform1f(E,i.u_mix),u_pattern_size_a:new v.Uniform2f(E,i.u_pattern_size_a),u_pattern_size_b:new v.Uniform2f(E,i.u_pattern_size_b),u_scale_a:new v.Uniform1f(E,i.u_scale_a),u_scale_b:new v.Uniform1f(E,i.u_scale_b),u_pixel_coord_upper:new v.Uniform2f(E,i.u_pixel_coord_upper),u_pixel_coord_lower:new v.Uniform2f(E,i.u_pixel_coord_lower),u_tile_units_to_pixels:new v.Uniform1f(E,i.u_tile_units_to_pixels)}),terrain:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_texture:new v.Uniform1i(E,i.u_texture),u_ele_delta:new v.Uniform1f(E,i.u_ele_delta)}),terrainDepth:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_ele_delta:new v.Uniform1f(E,i.u_ele_delta)}),terrainCoords:(E,i)=>({u_matrix:new v.UniformMatrix4f(E,i.u_matrix),u_texture:new v.Uniform1i(E,i.u_texture),u_terrain_coords_id:new v.Uniform1f(E,i.u_terrain_coords_id),u_ele_delta:new v.Uniform1f(E,i.u_ele_delta)})};class $o{constructor(i,d,y){this.context=i;const w=i.gl;this.buffer=w.createBuffer(),this.dynamicDraw=!!y,this.context.unbindVAO(),i.bindElementBuffer.set(this.buffer),w.bufferData(w.ELEMENT_ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?w.DYNAMIC_DRAW:w.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(i){const d=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,0,i.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Fo={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class an{constructor(i,d,y,w){this.length=d.length,this.attributes=y,this.itemSize=d.bytesPerElement,this.dynamicDraw=w,this.context=i;const S=i.gl;this.buffer=S.createBuffer(),i.bindVertexBuffer.set(this.buffer),S.bufferData(S.ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?S.DYNAMIC_DRAW:S.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(i){if(i.length!==this.length)throw new Error(`Length of new data is ${i.length}, which doesn't match current length of ${this.length}`);const d=this.context.gl;this.bind(),d.bufferSubData(d.ARRAY_BUFFER,0,i.arrayBuffer)}enableAttributes(i,d){for(let y=0;y<this.attributes.length;y++){const w=d.attributes[this.attributes[y].name];void 0!==w&&i.enableVertexAttribArray(w)}}setVertexAttribPointers(i,d,y){for(let w=0;w<this.attributes.length;w++){const S=this.attributes[w],f=d.attributes[S.name];void 0!==f&&i.vertexAttribPointer(f,S.components,i[Fo[S.type]],!1,this.itemSize,S.offset+this.itemSize*(y||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Lo=new WeakMap;function ia(E){if(Lo.has(E))return Lo.get(E);{const i=E.getParameter(E.VERSION).startsWith("WebGL 2.0");return Lo.set(E,i),i}}class un{constructor(i){this.gl=i.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(i){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class hr extends un{getDefault(){return v.Color.transparent}set(i){const d=this.current;(i.r!==d.r||i.g!==d.g||i.b!==d.b||i.a!==d.a||this.dirty)&&(this.gl.clearColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class vs extends un{getDefault(){return 1}set(i){(i!==this.current||this.dirty)&&(this.gl.clearDepth(i),this.current=i,this.dirty=!1)}}class ds extends un{getDefault(){return 0}set(i){(i!==this.current||this.dirty)&&(this.gl.clearStencil(i),this.current=i,this.dirty=!1)}}class bo extends un{getDefault(){return[!0,!0,!0,!0]}set(i){const d=this.current;(i[0]!==d[0]||i[1]!==d[1]||i[2]!==d[2]||i[3]!==d[3]||this.dirty)&&(this.gl.colorMask(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class na extends un{getDefault(){return!0}set(i){(i!==this.current||this.dirty)&&(this.gl.depthMask(i),this.current=i,this.dirty=!1)}}class ja extends un{getDefault(){return 255}set(i){(i!==this.current||this.dirty)&&(this.gl.stencilMask(i),this.current=i,this.dirty=!1)}}class bs extends un{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(i){const d=this.current;(i.func!==d.func||i.ref!==d.ref||i.mask!==d.mask||this.dirty)&&(this.gl.stencilFunc(i.func,i.ref,i.mask),this.current=i,this.dirty=!1)}}class Go extends un{getDefault(){const i=this.gl;return[i.KEEP,i.KEEP,i.KEEP]}set(i){const d=this.current;(i[0]!==d[0]||i[1]!==d[1]||i[2]!==d[2]||this.dirty)&&(this.gl.stencilOp(i[0],i[1],i[2]),this.current=i,this.dirty=!1)}}class uo extends un{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;i?d.enable(d.STENCIL_TEST):d.disable(d.STENCIL_TEST),this.current=i,this.dirty=!1}}class Ls extends un{getDefault(){return[0,1]}set(i){const d=this.current;(i[0]!==d[0]||i[1]!==d[1]||this.dirty)&&(this.gl.depthRange(i[0],i[1]),this.current=i,this.dirty=!1)}}class _n extends un{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;i?d.enable(d.DEPTH_TEST):d.disable(d.DEPTH_TEST),this.current=i,this.dirty=!1}}class us extends un{getDefault(){return this.gl.LESS}set(i){(i!==this.current||this.dirty)&&(this.gl.depthFunc(i),this.current=i,this.dirty=!1)}}class nl extends un{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;i?d.enable(d.BLEND):d.disable(d.BLEND),this.current=i,this.dirty=!1}}class Ha extends un{getDefault(){const i=this.gl;return[i.ONE,i.ZERO]}set(i){const d=this.current;(i[0]!==d[0]||i[1]!==d[1]||this.dirty)&&(this.gl.blendFunc(i[0],i[1]),this.current=i,this.dirty=!1)}}class ho extends un{getDefault(){return v.Color.transparent}set(i){const d=this.current;(i.r!==d.r||i.g!==d.g||i.b!==d.b||i.a!==d.a||this.dirty)&&(this.gl.blendColor(i.r,i.g,i.b,i.a),this.current=i,this.dirty=!1)}}class pa extends un{getDefault(){return this.gl.FUNC_ADD}set(i){(i!==this.current||this.dirty)&&(this.gl.blendEquation(i),this.current=i,this.dirty=!1)}}class ra extends un{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;i?d.enable(d.CULL_FACE):d.disable(d.CULL_FACE),this.current=i,this.dirty=!1}}class Ns extends un{getDefault(){return this.gl.BACK}set(i){(i!==this.current||this.dirty)&&(this.gl.cullFace(i),this.current=i,this.dirty=!1)}}class br extends un{getDefault(){return this.gl.CCW}set(i){(i!==this.current||this.dirty)&&(this.gl.frontFace(i),this.current=i,this.dirty=!1)}}class rl extends un{getDefault(){return null}set(i){(i!==this.current||this.dirty)&&(this.gl.useProgram(i),this.current=i,this.dirty=!1)}}class Sr extends un{getDefault(){return this.gl.TEXTURE0}set(i){(i!==this.current||this.dirty)&&(this.gl.activeTexture(i),this.current=i,this.dirty=!1)}}class Jn extends un{getDefault(){const i=this.gl;return[0,0,i.drawingBufferWidth,i.drawingBufferHeight]}set(i){const d=this.current;(i[0]!==d[0]||i[1]!==d[1]||i[2]!==d[2]||i[3]!==d[3]||this.dirty)&&(this.gl.viewport(i[0],i[1],i[2],i[3]),this.current=i,this.dirty=!1)}}class xo extends un{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.bindFramebuffer(d.FRAMEBUFFER,i),this.current=i,this.dirty=!1}}class jr extends un{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.bindRenderbuffer(d.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class Zn extends un{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.bindTexture(d.TEXTURE_2D,i),this.current=i,this.dirty=!1}}class Kr extends un{getDefault(){return null}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.bindBuffer(d.ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class $a extends un{getDefault(){return null}set(i){const d=this.gl;d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,i),this.current=i,this.dirty=!1}}class ol extends un{getDefault(){return null}set(i){var d;if(i===this.current&&!this.dirty)return;const y=this.gl;ia(y)?y.bindVertexArray(i):null===(d=y.getExtension("OES_vertex_array_object"))||void 0===d||d.bindVertexArrayOES(i),this.current=i,this.dirty=!1}}class zs extends un{getDefault(){return 4}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_ALIGNMENT,i),this.current=i,this.dirty=!1}}class bl extends un{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i),this.current=i,this.dirty=!1}}class Ac extends un{getDefault(){return!1}set(i){if(i===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,i),this.current=i,this.dirty=!1}}class Bs extends un{constructor(i,d){super(i),this.context=i,this.parent=d}getDefault(){return null}}class fa extends Bs{setDirty(){this.dirty=!0}set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,i,0),this.current=i,this.dirty=!1}}class Ul extends Bs{set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_ATTACHMENT,d.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class sl extends Bs{set(i){if(i===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_STENCIL_ATTACHMENT,d.RENDERBUFFER,i),this.current=i,this.dirty=!1}}class Ia{constructor(i,d,y,w,S){this.context=i,this.width=d,this.height=y;const f=i.gl,b=this.framebuffer=f.createFramebuffer();if(this.colorAttachment=new fa(i,b),w)this.depthAttachment=S?new sl(i,b):new Ul(i,b);else if(S)throw new Error("Stencil cannot be setted without depth");if(f.checkFramebufferStatus(f.FRAMEBUFFER)!==f.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const i=this.context.gl,d=this.colorAttachment.get();if(d&&i.deleteTexture(d),this.depthAttachment){const y=this.depthAttachment.get();y&&i.deleteRenderbuffer(y)}i.deleteFramebuffer(this.framebuffer)}}class Bi{constructor(i,d,y){this.blendFunction=i,this.blendColor=d,this.mask=y}}Bi.Replace=[1,0],Bi.disabled=new Bi(Bi.Replace,v.Color.transparent,[!1,!1,!1,!1]),Bi.unblended=new Bi(Bi.Replace,v.Color.transparent,[!0,!0,!0,!0]),Bi.alphaBlended=new Bi([1,771],v.Color.transparent,[!0,!0,!0,!0]);class jl{constructor(i){var d,y;if(this.gl=i,this.clearColor=new hr(this),this.clearDepth=new vs(this),this.clearStencil=new ds(this),this.colorMask=new bo(this),this.depthMask=new na(this),this.stencilMask=new ja(this),this.stencilFunc=new bs(this),this.stencilOp=new Go(this),this.stencilTest=new uo(this),this.depthRange=new Ls(this),this.depthTest=new _n(this),this.depthFunc=new us(this),this.blend=new nl(this),this.blendFunc=new Ha(this),this.blendColor=new ho(this),this.blendEquation=new pa(this),this.cullFace=new ra(this),this.cullFaceSide=new Ns(this),this.frontFace=new br(this),this.program=new rl(this),this.activeTexture=new Sr(this),this.viewport=new Jn(this),this.bindFramebuffer=new xo(this),this.bindRenderbuffer=new jr(this),this.bindTexture=new Zn(this),this.bindVertexBuffer=new Kr(this),this.bindElementBuffer=new $a(this),this.bindVertexArray=new ol(this),this.pixelStoreUnpack=new zs(this),this.pixelStoreUnpackPremultiplyAlpha=new bl(this),this.pixelStoreUnpackFlipY=new Ac(this),this.extTextureFilterAnisotropic=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=i.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),ia(i)){this.HALF_FLOAT=i.HALF_FLOAT;const w=i.getExtension("EXT_color_buffer_half_float");this.RGBA16F=null!==(d=i.RGBA16F)&&void 0!==d?d:w?.RGBA16F_EXT,this.RGB16F=null!==(y=i.RGB16F)&&void 0!==y?y:w?.RGB16F_EXT,i.getExtension("EXT_color_buffer_float")}else{i.getExtension("EXT_color_buffer_half_float"),i.getExtension("OES_texture_half_float_linear");const w=i.getExtension("OES_texture_half_float");this.HALF_FLOAT=w?.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(i,d){return new $o(this,i,d)}createVertexBuffer(i,d,y){return new an(this,i,d,y)}createRenderbuffer(i,d,y){const w=this.gl,S=w.createRenderbuffer();return this.bindRenderbuffer.set(S),w.renderbufferStorage(w.RENDERBUFFER,i,d,y),this.bindRenderbuffer.set(null),S}createFramebuffer(i,d,y,w){return new Ia(this,i,d,y,w)}clear({color:i,depth:d,stencil:y}){const w=this.gl;let S=0;i&&(S|=w.COLOR_BUFFER_BIT,this.clearColor.set(i),this.colorMask.set([!0,!0,!0,!0])),void 0!==d&&(S|=w.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(d),this.depthMask.set(!0)),void 0!==y&&(S|=w.STENCIL_BUFFER_BIT,this.clearStencil.set(y),this.stencilMask.set(255)),w.clear(S)}setCullFace(i){!1===i.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(i.mode),this.frontFace.set(i.frontFace))}setDepthMode(i){i.func!==this.gl.ALWAYS||i.mask?(this.depthTest.set(!0),this.depthFunc.set(i.func),this.depthMask.set(i.mask),this.depthRange.set(i.range)):this.depthTest.set(!1)}setStencilMode(i){i.test.func!==this.gl.ALWAYS||i.mask?(this.stencilTest.set(!0),this.stencilMask.set(i.mask),this.stencilOp.set([i.fail,i.depthFail,i.pass]),this.stencilFunc.set({func:i.test.func,ref:i.ref,mask:i.test.mask})):this.stencilTest.set(!1)}setColorMode(i){v.deepEqual(i.blendFunction,Bi.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(i.blendFunction),this.blendColor.set(i.blendColor)),this.colorMask.set(i.mask)}createVertexArray(){var i;return ia(this.gl)?this.gl.createVertexArray():null===(i=this.gl.getExtension("OES_vertex_array_object"))||void 0===i?void 0:i.createVertexArrayOES()}deleteVertexArray(i){var d;return ia(this.gl)?this.gl.deleteVertexArray(i):null===(d=this.gl.getExtension("OES_vertex_array_object"))||void 0===d?void 0:d.deleteVertexArrayOES(i)}unbindVAO(){this.bindVertexArray.set(null)}}class On{constructor(i,d,y){this.func=i,this.mask=d,this.range=y}}On.ReadOnly=!1,On.ReadWrite=!0,On.disabled=new On(519,On.ReadOnly,[0,1]);class mr{constructor(i,d,y,w,S,f){this.test=i,this.ref=d,this.mask=y,this.fail=w,this.depthFail=S,this.pass=f}}mr.disabled=new mr({func:519,mask:0},0,0,7680,7680,7680);class dr{constructor(i,d,y){this.enable=i,this.mode=d,this.frontFace=y}}let Y;function W(E,i,d,y,w,S,f){const b=E.context,_=b.gl,D=E.useProgram("collisionBox"),k=[];let R=0,z=0;for(let $e=0;$e<y.length;$e++){const ft=y[$e],Ft=i.getTile(ft),Zt=Ft.getBucket(d);if(!Zt)continue;let Gt=ft.posMatrix;0===w[0]&&0===w[1]||(Gt=E.translatePosMatrix(ft.posMatrix,Ft,w,S));const Qt=f?Zt.textCollisionBox:Zt.iconCollisionBox,Xt=Zt.collisionCircleArray;if(Xt.length>0){const Ei=v.create(),ji=Gt;v.mul(Ei,Zt.placementInvProjMatrix,E.transform.glCoordMatrix),v.mul(Ei,Ei,Zt.placementViewportMatrix),k.push({circleArray:Xt,circleOffset:z,transform:ji,invTransform:Ei,coord:ft}),R+=Xt.length/4,z=R}Qt&&D.draw(b,_.LINES,On.disabled,mr.disabled,E.colorModeForRenderPass(),dr.disabled,cn(Gt,E.transform,Ft),E.style.map.terrain&&E.style.map.terrain.getTerrainData(ft),d.id,Qt.layoutVertexBuffer,Qt.indexBuffer,Qt.segments,null,E.transform.zoom,null,null,Qt.collisionVertexBuffer)}if(!f||!k.length)return;const ee=E.useProgram("collisionCircle"),oe=new v.CollisionCircleLayoutArray;oe.resize(4*R),oe._trim();let Me=0;for(const $e of k)for(let ft=0;ft<$e.circleArray.length/4;ft++){const Ft=4*ft,Zt=$e.circleArray[Ft+0],Gt=$e.circleArray[Ft+1],Qt=$e.circleArray[Ft+2],Xt=$e.circleArray[Ft+3];oe.emplace(Me++,Zt,Gt,Qt,Xt,0),oe.emplace(Me++,Zt,Gt,Qt,Xt,1),oe.emplace(Me++,Zt,Gt,Qt,Xt,2),oe.emplace(Me++,Zt,Gt,Qt,Xt,3)}(!Y||Y.length<2*R)&&(Y=function($e){const ft=2*$e,Ft=new v.QuadTriangleArray;Ft.resize(ft),Ft._trim();for(let Zt=0;Zt<ft;Zt++){const Gt=6*Zt;Ft.uint16[Gt+0]=4*Zt+0,Ft.uint16[Gt+1]=4*Zt+1,Ft.uint16[Gt+2]=4*Zt+2,Ft.uint16[Gt+3]=4*Zt+2,Ft.uint16[Gt+4]=4*Zt+3,Ft.uint16[Gt+5]=4*Zt+0}return Ft}(R));const Ce=b.createIndexBuffer(Y,!0),it=b.createVertexBuffer(oe,v.collisionCircleLayout.members,!0);for(const $e of k){const ft={u_matrix:$e.transform,u_inv_matrix:$e.invTransform,u_camera_to_center_distance:(yt=E.transform).cameraToCenterDistance,u_viewport_size:[yt.width,yt.height]};ee.draw(b,_.TRIANGLES,On.disabled,mr.disabled,E.colorModeForRenderPass(),dr.disabled,ft,E.style.map.terrain&&E.style.map.terrain.getTerrainData($e.coord),d.id,it,Ce,v.SegmentVector.simpleSegment(0,2*$e.circleOffset,$e.circleArray.length,$e.circleArray.length/2),null,E.transform.zoom,null,null,null)}var yt;it.destroy(),Ce.destroy()}dr.disabled=new dr(!1,1029,2305),dr.backCCW=new dr(!0,1029,2305);const G=v.identity(new Float32Array(16));function we(E,i,d,y,w,S){const{horizontalAlign:f,verticalAlign:b}=v.getAnchorAlignment(E),_=-(f-.5)*i,D=-(b-.5)*d,k=v.evaluateVariableOffset(E,y);return new v.Point((_/w+k[0])*S,(D/w+k[1])*S)}function Ht(E,i,d,y,w,S,f,b,_,D,k){const R=E.text.placedSymbolArray,z=E.text.dynamicLayoutVertexArray,ee=E.icon.dynamicLayoutVertexArray,oe={};z.clear();for(let Me=0;Me<R.length;Me++){const Ce=R.get(Me),it=Ce.hidden||!Ce.crossTileID||E.allowVerticalPlacement&&!Ce.placedOrientation?null:y[Ce.crossTileID];if(it){const yt=new v.Point(Ce.anchorX,Ce.anchorY),$e=Lt(yt,d?f:S,k),ft=yi(w.cameraToCenterDistance,$e.signedDistanceFromCamera);let Ft=v.evaluateSizeForFeature(E.textSizeData,_,Ce)*ft/v.ONE_EM;d&&(Ft*=E.tilePixelRatio/b);const{width:Zt,height:Gt,anchor:Qt,textOffset:Xt,textBoxScale:Ei}=it,ji=we(Qt,Zt,Gt,Xt,Ei,Ft),xn=d?Lt(yt.add(ji),S,k).point:$e.point.add(i?ji.rotate(-w.angle):ji),bi=E.allowVerticalPlacement&&Ce.placedOrientation===v.WritingMode.vertical?Math.PI/2:0;for(let tn=0;tn<Ce.numGlyphs;tn++)v.addDynamicAttributes(z,xn,bi);D&&Ce.associatedIconIndex>=0&&(oe[Ce.associatedIconIndex]={shiftedAnchor:xn,angle:bi})}else ie(Ce.numGlyphs,z)}if(D){ee.clear();const Me=E.icon.placedSymbolArray;for(let Ce=0;Ce<Me.length;Ce++){const it=Me.get(Ce);if(it.hidden)ie(it.numGlyphs,ee);else{const yt=oe[Ce];if(yt)for(let $e=0;$e<it.numGlyphs;$e++)v.addDynamicAttributes(ee,yt.shiftedAnchor,yt.angle);else ie(it.numGlyphs,ee)}}E.icon.dynamicLayoutVertexBuffer.updateData(ee)}E.text.dynamicLayoutVertexBuffer.updateData(z)}function Di(E,i,d){return d.iconsInText&&i?"symbolTextAndIcon":E?"symbolSDF":"symbolIcon"}function Xr(E,i,d,y,w,S,f,b,_,D,k,R){const z=E.context,ee=z.gl,oe=E.transform,Me="map"===b,Ce="map"===_,it="viewport"!==b&&"point"!==d.layout.get("symbol-placement"),yt=Me&&!Ce&&!it,$e=!d.layout.get("symbol-sort-key").isConstant();let ft=!1;const Ft=E.depthModeForSublayer(0,On.ReadOnly),Zt=d.layout.get("text-variable-anchor"),Gt=[];for(const Qt of y){const Xt=i.getTile(Qt),Ei=Xt.getBucket(d);if(!Ei)continue;const ji=w?Ei.text:Ei.icon;if(!ji||!ji.segments.get().length||!ji.hasVisibleVertices)continue;const xn=ji.programConfigurations.get(d.id),bi=w||Ei.sdfIcons,tn=w?Ei.textSizeData:Ei.iconSizeData,ki=Ce||0!==oe.pitch,sr=E.useProgram(Di(bi,w,Ei),xn),Xn=v.evaluateSizeForZoom(tn,oe.zoom),An=E.style.map.terrain&&E.style.map.terrain.getTerrainData(Qt);let dn,Pr,zo,ar,ns=[0,0],Ys=null;if(w)Pr=Xt.glyphAtlasTexture,zo=ee.LINEAR,dn=Xt.glyphAtlasTexture.size,Ei.iconsInText&&(ns=Xt.imageAtlasTexture.size,Ys=Xt.imageAtlasTexture,ar=ki||E.options.rotating||E.options.zooming||"composite"===tn.kind||"camera"===tn.kind?ee.LINEAR:ee.NEAREST);else{const Po=1!==d.layout.get("icon-size").constantOr(0)||Ei.iconsNeedLinear;Pr=Xt.imageAtlasTexture,zo=bi||E.options.rotating||E.options.zooming||Po||ki?ee.LINEAR:ee.NEAREST,dn=Xt.imageAtlasTexture.size}const sa=se(Xt,1,E.transform.zoom),va=xt(Qt.posMatrix,Ce,Me,E.transform,sa),Jr=Jt(Qt.posMatrix,Ce,Me,E.transform,sa),Fa=Zt&&Ei.hasTextData(),Pl="none"!==d.layout.get("icon-text-fit")&&Fa&&Ei.hasIconData();if(it){const Po=E.style.map.terrain?(Kl,ul)=>E.style.map.terrain.getElevation(Qt,Kl,ul):null,Ks="map"===d.layout.get("text-rotation-alignment");en(Ei,Qt.posMatrix,E,w,va,Jr,Ce,D,Ks,Po)}const Wo=E.translatePosMatrix(Qt.posMatrix,Xt,S,f),po=it||w&&Zt||Pl?G:va,rr=E.translatePosMatrix(Jr,Xt,S,f,!0),Eo=bi&&0!==d.paint.get(w?"text-halo-width":"icon-halo-width").constantOr(1);let qo;qo=bi?Ei.iconsInText?zr(tn.kind,Xn,yt,Ce,E,Wo,po,rr,dn,ns):vo(tn.kind,Xn,yt,Ce,E,Wo,po,rr,w,dn,!0):Pn(tn.kind,Xn,yt,Ce,E,Wo,po,rr,w,dn);const lr={program:sr,buffers:ji,uniformValues:qo,atlasTexture:Pr,atlasTextureIcon:Ys,atlasInterpolation:zo,atlasInterpolationIcon:ar,isSDF:bi,hasHalo:Eo};if($e&&Ei.canOverlap){ft=!0;const Po=ji.segments.get();for(const Ks of Po)Gt.push({segments:new v.SegmentVector([Ks]),sortKey:Ks.sortKey,state:lr,terrainData:An})}else Gt.push({segments:ji.segments,sortKey:0,state:lr,terrainData:An})}ft&&Gt.sort((Qt,Xt)=>Qt.sortKey-Xt.sortKey);for(const Qt of Gt){const Xt=Qt.state;if(z.activeTexture.set(ee.TEXTURE0),Xt.atlasTexture.bind(Xt.atlasInterpolation,ee.CLAMP_TO_EDGE),Xt.atlasTextureIcon&&(z.activeTexture.set(ee.TEXTURE1),Xt.atlasTextureIcon&&Xt.atlasTextureIcon.bind(Xt.atlasInterpolationIcon,ee.CLAMP_TO_EDGE)),Xt.isSDF){const Ei=Xt.uniformValues;Xt.hasHalo&&(Ei.u_is_halo=1,mo(Xt.buffers,Qt.segments,d,E,Xt.program,Ft,k,R,Ei,Qt.terrainData)),Ei.u_is_halo=0}mo(Xt.buffers,Qt.segments,d,E,Xt.program,Ft,k,R,Xt.uniformValues,Qt.terrainData)}}function mo(E,i,d,y,w,S,f,b,_,D){const k=y.context;w.draw(k,k.gl.TRIANGLES,S,f,b,dr.disabled,_,D,d.id,E.layoutVertexBuffer,E.indexBuffer,i,d.paint,y.transform.zoom,E.programConfigurations.get(d.id),E.dynamicLayoutVertexBuffer,E.opacityVertexBuffer)}function Vs(E,i,d,y,w){if(!d||!y||!y.imageAtlas)return;const S=y.imageAtlas.patternPositions;let f=S[d.to.toString()],b=S[d.from.toString()];if(!f||!b){const _=w.getPaintProperty(i);f=S[_],b=S[_]}f&&b&&E.setConstantPatternPositions(f,b)}function Aa(E,i,d,y,w,S,f){const b=E.context.gl,_="fill-pattern",D=d.paint.get(_),k=D&&D.constantOr(1),R=d.getCrossfadeParameters();let z,ee,oe,Me,Ce;f?(ee=k&&!d.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",z=b.LINES):(ee=k?"fillPattern":"fill",z=b.TRIANGLES);const it=D.constantOr(null);for(const yt of y){const $e=i.getTile(yt);if(k&&!$e.patternsLoaded())continue;const ft=$e.getBucket(d);if(!ft)continue;const Ft=ft.programConfigurations.get(d.id),Zt=E.useProgram(ee,Ft),Gt=E.style.map.terrain&&E.style.map.terrain.getTerrainData(yt);k&&(E.context.activeTexture.set(b.TEXTURE0),$e.imageAtlasTexture.bind(b.LINEAR,b.CLAMP_TO_EDGE),Ft.updatePaintBuffers(R)),Vs(Ft,_,it,$e,d);const Qt=Gt?yt:null,Xt=E.translatePosMatrix(Qt?Qt.posMatrix:yt.posMatrix,$e,d.paint.get("fill-translate"),d.paint.get("fill-translate-anchor"));if(f){Me=ft.indexBuffer2,Ce=ft.segments2;const Ei=[b.drawingBufferWidth,b.drawingBufferHeight];oe="fillOutlinePattern"===ee&&k?Ta(Xt,E,R,$e,Ei):Sa(Xt,Ei)}else Me=ft.indexBuffer,Ce=ft.segments,oe=k?vl(Xt,E,R,$e):Da(Xt);Zt.draw(E.context,z,w,E.stencilModeForClipping(yt),S,dr.disabled,oe,Gt,d.id,ft.layoutVertexBuffer,Me,Ce,d.paint,E.transform.zoom,Ft)}}function Za(E,i,d,y,w,S,f){const b=E.context,_=b.gl,D="fill-extrusion-pattern",k=d.paint.get(D),R=k.constantOr(1),z=d.getCrossfadeParameters(),ee=d.paint.get("fill-extrusion-opacity"),oe=k.constantOr(null);for(const Me of y){const Ce=i.getTile(Me),it=Ce.getBucket(d);if(!it)continue;const yt=E.style.map.terrain&&E.style.map.terrain.getTerrainData(Me),$e=it.programConfigurations.get(d.id),ft=E.useProgram(R?"fillExtrusionPattern":"fillExtrusion",$e);R&&(E.context.activeTexture.set(_.TEXTURE0),Ce.imageAtlasTexture.bind(_.LINEAR,_.CLAMP_TO_EDGE),$e.updatePaintBuffers(z)),Vs($e,D,oe,Ce,d);const Ft=E.translatePosMatrix(Me.posMatrix,Ce,d.paint.get("fill-extrusion-translate"),d.paint.get("fill-extrusion-translate-anchor")),Zt=d.paint.get("fill-extrusion-vertical-gradient"),Gt=R?Ic(Ft,E,Zt,ee,Me,z,Ce):Va(Ft,E,Zt,ee);ft.draw(b,b.gl.TRIANGLES,w,S,f,dr.backCCW,Gt,yt,d.id,it.layoutVertexBuffer,it.indexBuffer,it.segments,d.paint,E.transform.zoom,$e,E.style.map.terrain&&it.centroidVertexBuffer)}}function Hl(E,i,d,y,w,S,f){const b=E.context,_=b.gl,D=d.fbo;if(!D)return;const k=E.useProgram("hillshade"),R=E.style.map.terrain&&E.style.map.terrain.getTerrainData(i);b.activeTexture.set(_.TEXTURE0),_.bindTexture(_.TEXTURE_2D,D.colorAttachment.get()),k.draw(b,_.TRIANGLES,w,S,f,dr.disabled,((z,ee,oe,Me)=>{const Ce=oe.paint.get("hillshade-shadow-color"),it=oe.paint.get("hillshade-highlight-color"),yt=oe.paint.get("hillshade-accent-color");let $e=oe.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===oe.paint.get("hillshade-illumination-anchor")&&($e-=z.transform.angle);const ft=!z.options.moving;return{u_matrix:Me?Me.posMatrix:z.transform.calculatePosMatrix(ee.tileID.toUnwrapped(),ft),u_image:0,u_latrange:vr(0,ee.tileID),u_light:[oe.paint.get("hillshade-exaggeration"),$e],u_shadow:Ce,u_highlight:it,u_accent:yt}})(E,d,y,R?i:null),R,y.id,E.rasterBoundsBuffer,E.quadTriangleIndexBuffer,E.rasterBoundsSegments)}function Hr(E,i,d,y,w,S){const f=E.context,b=f.gl,_=i.dem;if(_&&_.data){const D=_.dim,k=_.stride,R=_.getPixels();if(f.activeTexture.set(b.TEXTURE1),f.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||E.getTileTexture(k),i.demTexture){const ee=i.demTexture;ee.update(R,{premultiply:!1}),ee.bind(b.NEAREST,b.CLAMP_TO_EDGE)}else i.demTexture=new Ae(f,R,b.RGBA,{premultiply:!1}),i.demTexture.bind(b.NEAREST,b.CLAMP_TO_EDGE);f.activeTexture.set(b.TEXTURE0);let z=i.fbo;if(!z){const ee=new Ae(f,{width:D,height:D,data:null},b.RGBA);ee.bind(b.LINEAR,b.CLAMP_TO_EDGE),z=i.fbo=f.createFramebuffer(D,D,!0,!1),z.colorAttachment.set(ee.texture)}f.bindFramebuffer.set(z.framebuffer),f.viewport.set([0,0,D,D]),E.useProgram("hillshadePrepare").draw(f,b.TRIANGLES,y,w,S,dr.disabled,((ee,oe)=>{const Me=oe.stride,Ce=v.create();return v.ortho(Ce,0,v.EXTENT,-v.EXTENT,0,0,1),v.translate(Ce,Ce,[0,-v.EXTENT,0]),{u_matrix:Ce,u_image:1,u_dimension:[Me,Me],u_zoom:ee.overscaledZ,u_unpack:oe.getUnpackVector()}})(i.tileID,_),null,d.id,E.rasterBoundsBuffer,E.quadTriangleIndexBuffer,E.rasterBoundsSegments),i.needsHillshadePrepare=!1}}function al(E,i,d,y,w,S){const f=y.paint.get("raster-fade-duration");if(!S&&f>0){const b=v.browser.now(),_=(b-E.timeAdded)/f,D=i?(b-i.timeAdded)/f:-1,k=d.getSource(),R=w.coveringZoomLevel({tileSize:k.tileSize,roundZoom:k.roundZoom}),z=!i||Math.abs(i.tileID.overscaledZ-R)>Math.abs(E.tileID.overscaledZ-R),ee=z&&E.refreshedUponExpiration?1:v.clamp(z?_:1-D,0,1);return E.refreshedUponExpiration&&_>=1&&(E.refreshedUponExpiration=!1),i?{opacity:1,mix:1-ee}:{opacity:ee,mix:0}}return{opacity:1,mix:0}}const Us=new v.Color(1,0,0,1),Jc=new v.Color(0,1,0,1),Wa=new v.Color(0,0,1,1),No=new v.Color(1,0,1,1),xr=new v.Color(0,1,1,1);function Rn(E,i,d,y){xl(E,0,i+d/2,E.transform.width,d,y)}function wr(E,i,d,y){xl(E,i-d/2,0,d,E.transform.height,y)}function xl(E,i,d,y,w,S){const f=E.context,b=f.gl;b.enable(b.SCISSOR_TEST),b.scissor(i*E.pixelRatio,d*E.pixelRatio,y*E.pixelRatio,w*E.pixelRatio),f.clear({color:S}),b.disable(b.SCISSOR_TEST)}function js(E,i,d){const y=E.context,w=y.gl,S=d.posMatrix,f=E.useProgram("debug"),b=On.disabled,_=mr.disabled,D=E.colorModeForRenderPass(),k="$debug",R=E.style.map.terrain&&E.style.map.terrain.getTerrainData(d);y.activeTexture.set(w.TEXTURE0);const z=i.getTileByID(d.key).latestRawTileData,ee=Math.floor((z&&z.byteLength||0)/1024),oe=i.getTile(d).tileSize,Me=512/Math.min(oe,512)*(d.overscaledZ/E.transform.zoom)*.5;let Ce=d.canonical.toString();d.overscaledZ!==d.canonical.z&&(Ce+=` => ${d.overscaledZ}`),function(it,yt){it.initDebugOverlayCanvas();const $e=it.debugOverlayCanvas,ft=it.context.gl,Ft=it.debugOverlayCanvas.getContext("2d");Ft.clearRect(0,0,$e.width,$e.height),Ft.shadowColor="white",Ft.shadowBlur=2,Ft.lineWidth=1.5,Ft.strokeStyle="white",Ft.textBaseline="top",Ft.font="bold 36px Open Sans, sans-serif",Ft.fillText(yt,5,5),Ft.strokeText(yt,5,5),it.debugOverlayTexture.update($e),it.debugOverlayTexture.bind(ft.LINEAR,ft.CLAMP_TO_EDGE)}(E,`${Ce} ${ee}kB`),f.draw(y,w.TRIANGLES,b,_,Bi.alphaBlended,dr.disabled,Or(S,v.Color.transparent,Me),null,k,E.debugBuffer,E.quadTriangleIndexBuffer,E.debugSegments),f.draw(y,w.LINE_STRIP,b,_,D,dr.disabled,Or(S,v.Color.red),R,k,E.debugBuffer,E.tileBorderIndexBuffer,E.debugSegments)}function ka(E,i,d){const y=E.context,w=y.gl,S=E.colorModeForRenderPass(),f=new On(w.LEQUAL,On.ReadWrite,E.depthRangeFor3D),b=E.useProgram("terrain"),_=i.getTerrainMesh();y.bindFramebuffer.set(null),y.viewport.set([0,0,E.width,E.height]);for(const D of d){const k=E.renderToTexture.getTexture(D),R=i.getTerrainData(D.tileID);y.activeTexture.set(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,k.texture);const z={u_matrix:E.transform.calculatePosMatrix(D.tileID.toUnwrapped()),u_texture:0,u_ele_delta:i.getMeshFrameDelta(E.transform.zoom)};b.draw(y,w.TRIANGLES,f,mr.disabled,S,dr.backCCW,z,R,"terrain",_.vertexBuffer,_.indexBuffer,_.segments)}}class Cr{constructor(i,d){this.context=new jl(i),this.transform=d,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:v.create(),renderTime:0},this.setup(),this.numSublayers=Wi.maxUnderzooming+Wi.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new sn}resize(i,d,y){if(this.width=Math.floor(i*y),this.height=Math.floor(d*y),this.pixelRatio=y,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const w of this.style._order)this.style._layers[w].resize()}setup(){const i=this.context,d=new v.PosArray;d.emplaceBack(0,0),d.emplaceBack(v.EXTENT,0),d.emplaceBack(0,v.EXTENT),d.emplaceBack(v.EXTENT,v.EXTENT),this.tileExtentBuffer=i.createVertexBuffer(d,_o.members),this.tileExtentSegments=v.SegmentVector.simpleSegment(0,0,4,2);const y=new v.PosArray;y.emplaceBack(0,0),y.emplaceBack(v.EXTENT,0),y.emplaceBack(0,v.EXTENT),y.emplaceBack(v.EXTENT,v.EXTENT),this.debugBuffer=i.createVertexBuffer(y,_o.members),this.debugSegments=v.SegmentVector.simpleSegment(0,0,4,5);const w=new v.RasterBoundsArray;w.emplaceBack(0,0,0,0),w.emplaceBack(v.EXTENT,0,v.EXTENT,0),w.emplaceBack(0,v.EXTENT,0,v.EXTENT),w.emplaceBack(v.EXTENT,v.EXTENT,v.EXTENT,v.EXTENT),this.rasterBoundsBuffer=i.createVertexBuffer(w,Be.members),this.rasterBoundsSegments=v.SegmentVector.simpleSegment(0,0,4,2);const S=new v.PosArray;S.emplaceBack(0,0),S.emplaceBack(1,0),S.emplaceBack(0,1),S.emplaceBack(1,1),this.viewportBuffer=i.createVertexBuffer(S,_o.members),this.viewportSegments=v.SegmentVector.simpleSegment(0,0,4,2);const f=new v.LineStripIndexArray;f.emplaceBack(0),f.emplaceBack(1),f.emplaceBack(3),f.emplaceBack(2),f.emplaceBack(0),this.tileBorderIndexBuffer=i.createIndexBuffer(f);const b=new v.TriangleIndexArray;b.emplaceBack(0,1,2),b.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=i.createIndexBuffer(b);const _=this.context.gl;this.stencilClearMode=new mr({func:_.ALWAYS,mask:0},0,255,_.ZERO,_.ZERO,_.ZERO)}clearStencil(){const i=this.context,d=i.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const y=v.create();v.ortho(y,0,this.width,this.height,0,0,1),v.scale(y,y,[d.drawingBufferWidth,d.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(i,d.TRIANGLES,On.disabled,this.stencilClearMode,Bi.disabled,dr.disabled,Yr(y),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(i,d){if(this.currentStencilSource===i.source||!i.isTileClipped()||!d||!d.length)return;this.currentStencilSource=i.source;const y=this.context,w=y.gl;this.nextStencilID+d.length>256&&this.clearStencil(),y.setColorMode(Bi.disabled),y.setDepthMode(On.disabled);const S=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const f of d){const b=this._tileClippingMaskIDs[f.key]=this.nextStencilID++,_=this.style.map.terrain&&this.style.map.terrain.getTerrainData(f);S.draw(y,w.TRIANGLES,On.disabled,new mr({func:w.ALWAYS,mask:0},b,255,w.KEEP,w.KEEP,w.REPLACE),Bi.disabled,dr.disabled,Yr(f.posMatrix),_,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const i=this.nextStencilID++,d=this.context.gl;return new mr({func:d.NOTEQUAL,mask:255},i,255,d.KEEP,d.KEEP,d.REPLACE)}stencilModeForClipping(i){const d=this.context.gl;return new mr({func:d.EQUAL,mask:255},this._tileClippingMaskIDs[i.key],0,d.KEEP,d.KEEP,d.REPLACE)}stencilConfigForOverlap(i){const d=this.context.gl,y=i.sort((f,b)=>b.overscaledZ-f.overscaledZ),w=y[y.length-1].overscaledZ,S=y[0].overscaledZ-w+1;if(S>1){this.currentStencilSource=void 0,this.nextStencilID+S>256&&this.clearStencil();const f={};for(let b=0;b<S;b++)f[b+w]=new mr({func:d.GEQUAL,mask:255},b+this.nextStencilID,255,d.KEEP,d.KEEP,d.REPLACE);return this.nextStencilID+=S,[f,y]}return[{[w]:mr.disabled},y]}colorModeForRenderPass(){const i=this.context.gl;return this._showOverdrawInspector?new Bi([i.CONSTANT_COLOR,i.ONE],new v.Color(.125,.125,.125,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?Bi.unblended:Bi.alphaBlended}depthModeForSublayer(i,d,y){if(!this.opaquePassEnabledForLayer())return On.disabled;const w=1-((1+this.currentLayer)*this.numSublayers+i)*this.depthEpsilon;return new On(y||this.context.gl.LEQUAL,d,[w,w])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(i,d){this.style=i,this.options=d,this.lineAtlas=i.lineAtlas,this.imageManager=i.imageManager,this.glyphManager=i.glyphManager,this.symbolFadeChange=i.placement.symbolFadeChange(v.browser.now()),this.imageManager.beginFrame();const y=this.style._order,w=this.style.sourceCaches,S={},f={},b={};for(const _ in w){const D=w[_];D.used&&D.prepare(this.context),S[_]=D.getVisibleCoordinates(),f[_]=S[_].slice().reverse(),b[_]=D.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let _=0;_<y.length;_++)if(this.style._layers[y[_]].is3D()){this.opaquePassCutoff=_;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const _=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!v.equals(this.terrainFacilitator.matrix,this.transform.projMatrix)||_.length)&&(v.copy(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(D,k){const R=D.context,z=R.gl,ee=Bi.unblended,oe=new On(z.LEQUAL,On.ReadWrite,[0,1]),Me=k.getTerrainMesh(),Ce=k.sourceCache.getRenderableTiles(),it=D.useProgram("terrainDepth");R.bindFramebuffer.set(k.getFramebuffer("depth").framebuffer),R.viewport.set([0,0,D.width/devicePixelRatio,D.height/devicePixelRatio]),R.clear({color:v.Color.transparent,depth:1});for(const yt of Ce){const $e=k.getTerrainData(yt.tileID),ft={u_matrix:D.transform.calculatePosMatrix(yt.tileID.toUnwrapped()),u_ele_delta:k.getMeshFrameDelta(D.transform.zoom)};it.draw(R,z.TRIANGLES,oe,mr.disabled,ee,dr.backCCW,ft,$e,"terrain",Me.vertexBuffer,Me.indexBuffer,Me.segments)}R.bindFramebuffer.set(null),R.viewport.set([0,0,D.width,D.height])}(this,this.style.map.terrain),function(D,k){const R=D.context,z=R.gl,ee=Bi.unblended,oe=new On(z.LEQUAL,On.ReadWrite,[0,1]),Me=k.getTerrainMesh(),Ce=k.getCoordsTexture(),it=k.sourceCache.getRenderableTiles(),yt=D.useProgram("terrainCoords");R.bindFramebuffer.set(k.getFramebuffer("coords").framebuffer),R.viewport.set([0,0,D.width/devicePixelRatio,D.height/devicePixelRatio]),R.clear({color:v.Color.transparent,depth:1}),k.coordsIndex=[];for(const $e of it){const ft=k.getTerrainData($e.tileID);R.activeTexture.set(z.TEXTURE0),z.bindTexture(z.TEXTURE_2D,Ce.texture);const Ft={u_matrix:D.transform.calculatePosMatrix($e.tileID.toUnwrapped()),u_terrain_coords_id:(255-k.coordsIndex.length)/255,u_texture:0,u_ele_delta:k.getMeshFrameDelta(D.transform.zoom)};yt.draw(R,z.TRIANGLES,oe,mr.disabled,ee,dr.backCCW,Ft,ft,"terrain",Me.vertexBuffer,Me.indexBuffer,Me.segments),k.coordsIndex.push($e.tileID.key)}R.bindFramebuffer.set(null),R.viewport.set([0,0,D.width,D.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const _ of y){const D=this.style._layers[_];if(!D.hasOffscreenPass()||D.isHidden(this.transform.zoom))continue;const k=f[D.source];("custom"===D.type||k.length)&&this.renderLayer(this,w[D.source],D,k)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:d.showOverdrawInspector?v.Color.black:v.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=d.showOverdrawInspector,this.depthRangeFor3D=[0,1-(i._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=y.length-1;this.currentLayer>=0;this.currentLayer--){const _=this.style._layers[y[this.currentLayer]],D=w[_.source],k=S[_.source];this._renderTileClippingMasks(_,k),this.renderLayer(this,D,_,k)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<y.length;this.currentLayer++){const _=this.style._layers[y[this.currentLayer]],D=w[_.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(_))continue;const k=("symbol"===_.type?b:f)[_.source];this._renderTileClippingMasks(_,S[_.source]),this.renderLayer(this,D,_,k)}if(this.options.showTileBoundaries){const _=function(D,k){let R=null;const z=Object.values(D._layers).flatMap(Ce=>Ce.source&&!Ce.isHidden(k)?[D.sourceCaches[Ce.source]]:[]),ee=z.filter(Ce=>"vector"===Ce.getSource().type),oe=z.filter(Ce=>"vector"!==Ce.getSource().type),Me=Ce=>{(!R||R.getSource().maxzoom<Ce.getSource().maxzoom)&&(R=Ce)};return ee.forEach(Ce=>Me(Ce)),R||oe.forEach(Ce=>Me(Ce)),R}(this.style,this.transform.zoom);_&&function(D,k,R){for(let z=0;z<R.length;z++)js(D,k,R[z])}(this,_,_.getVisibleCoordinates())}this.options.showPadding&&function(_){const D=_.transform.padding;Rn(_,_.transform.height-(D.top||0),3,Us),Rn(_,D.bottom||0,3,Jc),wr(_,D.left||0,3,Wa),wr(_,_.transform.width-(D.right||0),3,No);const k=_.transform.centerPoint;var R,z,ee,oe;xl(R=_,(z=k.x)-1,(ee=_.transform.height-k.y)-10,2,20,oe=xr),xl(R,z-10,ee-1,20,2,oe)}(this),this.context.setDefault()}renderLayer(i,d,y,w){if(!y.isHidden(this.transform.zoom)&&("background"===y.type||"custom"===y.type||(w||[]).length))switch(this.id=y.id,y.type){case"symbol":!function(S,f,b,_,D){if("translucent"!==S.renderPass)return;const k=mr.disabled,R=S.colorModeForRenderPass();b.layout.get("text-variable-anchor")&&function(z,ee,oe,Me,Ce,it,yt){const $e=ee.transform,ft="map"===Ce,Ft="map"===it;for(const Zt of z){const Gt=Me.getTile(Zt),Qt=Gt.getBucket(oe);if(!Qt||!Qt.text||!Qt.text.segments.get().length)continue;const Xt=v.evaluateSizeForZoom(Qt.textSizeData,$e.zoom),Ei=se(Gt,1,ee.transform.zoom),ji=xt(Zt.posMatrix,Ft,ft,ee.transform,Ei),xn="none"!==oe.layout.get("icon-text-fit")&&Qt.hasIconData();if(Xt){const bi=Math.pow(2,$e.zoom-Gt.tileID.overscaledZ);Ht(Qt,ft,Ft,yt,$e,ji,Zt.posMatrix,bi,Xt,xn,ee.style.map.terrain?(tn,ki)=>ee.style.map.terrain.getElevation(Zt,tn,ki):null)}}}(_,S,b,f,b.layout.get("text-rotation-alignment"),b.layout.get("text-pitch-alignment"),D),0!==b.paint.get("icon-opacity").constantOr(1)&&Xr(S,f,b,_,!1,b.paint.get("icon-translate"),b.paint.get("icon-translate-anchor"),b.layout.get("icon-rotation-alignment"),b.layout.get("icon-pitch-alignment"),b.layout.get("icon-keep-upright"),k,R),0!==b.paint.get("text-opacity").constantOr(1)&&Xr(S,f,b,_,!0,b.paint.get("text-translate"),b.paint.get("text-translate-anchor"),b.layout.get("text-rotation-alignment"),b.layout.get("text-pitch-alignment"),b.layout.get("text-keep-upright"),k,R),f.map.showCollisionBoxes&&(W(S,f,b,_,b.paint.get("text-translate"),b.paint.get("text-translate-anchor"),!0),W(S,f,b,_,b.paint.get("icon-translate"),b.paint.get("icon-translate-anchor"),!1))}(i,d,y,w,this.style.placement.variableOffsets);break;case"circle":!function(S,f,b,_){if("translucent"!==S.renderPass)return;const D=b.paint.get("circle-opacity"),k=b.paint.get("circle-stroke-width"),R=b.paint.get("circle-stroke-opacity"),z=!b.layout.get("circle-sort-key").isConstant();if(0===D.constantOr(1)&&(0===k.constantOr(1)||0===R.constantOr(1)))return;const ee=S.context,oe=ee.gl,Me=S.depthModeForSublayer(0,On.ReadOnly),Ce=mr.disabled,it=S.colorModeForRenderPass(),yt=[];for(let $e=0;$e<_.length;$e++){const ft=_[$e],Ft=f.getTile(ft),Zt=Ft.getBucket(b);if(!Zt)continue;const Gt=Zt.programConfigurations.get(b.id),Qt=S.useProgram("circle",Gt),Xt=Zt.layoutVertexBuffer,Ei=Zt.indexBuffer,ji=S.style.map.terrain&&S.style.map.terrain.getTerrainData(ft),xn={programConfiguration:Gt,program:Qt,layoutVertexBuffer:Xt,indexBuffer:Ei,uniformValues:Ua(S,ft,Ft,b),terrainData:ji};if(z){const bi=Zt.segments.get();for(const tn of bi)yt.push({segments:new v.SegmentVector([tn]),sortKey:tn.sortKey,state:xn})}else yt.push({segments:Zt.segments,sortKey:0,state:xn})}z&&yt.sort(($e,ft)=>$e.sortKey-ft.sortKey);for(const $e of yt){const{programConfiguration:ft,program:Ft,layoutVertexBuffer:Zt,indexBuffer:Gt,uniformValues:Qt,terrainData:Xt}=$e.state;Ft.draw(ee,oe.TRIANGLES,Me,Ce,it,dr.disabled,Qt,Xt,b.id,Zt,Gt,$e.segments,b.paint,S.transform.zoom,ft)}}(i,d,y,w);break;case"heatmap":!function(S,f,b,_){if(0!==b.paint.get("heatmap-opacity"))if("offscreen"===S.renderPass){const D=S.context,k=D.gl,R=mr.disabled,z=new Bi([k.ONE,k.ONE],v.Color.transparent,[!0,!0,!0,!0]);(function(ee,oe,Me){const Ce=ee.gl;ee.activeTexture.set(Ce.TEXTURE1),ee.viewport.set([0,0,oe.width/4,oe.height/4]);let it=Me.heatmapFbo;if(it)Ce.bindTexture(Ce.TEXTURE_2D,it.colorAttachment.get()),ee.bindFramebuffer.set(it.framebuffer);else{const yt=Ce.createTexture();Ce.bindTexture(Ce.TEXTURE_2D,yt),Ce.texParameteri(Ce.TEXTURE_2D,Ce.TEXTURE_WRAP_S,Ce.CLAMP_TO_EDGE),Ce.texParameteri(Ce.TEXTURE_2D,Ce.TEXTURE_WRAP_T,Ce.CLAMP_TO_EDGE),Ce.texParameteri(Ce.TEXTURE_2D,Ce.TEXTURE_MIN_FILTER,Ce.LINEAR),Ce.texParameteri(Ce.TEXTURE_2D,Ce.TEXTURE_MAG_FILTER,Ce.LINEAR),it=Me.heatmapFbo=ee.createFramebuffer(oe.width/4,oe.height/4,!1,!1),function($e,ft,Ft,Zt){var Gt,Qt;const Xt=$e.gl,Ei=null!==(Gt=$e.HALF_FLOAT)&&void 0!==Gt?Gt:Xt.UNSIGNED_BYTE,ji=null!==(Qt=$e.RGBA16F)&&void 0!==Qt?Qt:Xt.RGBA;Xt.texImage2D(Xt.TEXTURE_2D,0,ji,ft.width/4,ft.height/4,0,Xt.RGBA,Ei,null),Zt.colorAttachment.set(Ft)}(ee,oe,yt,it)}})(D,S,b),D.clear({color:v.Color.transparent});for(let ee=0;ee<_.length;ee++){const oe=_[ee];if(f.hasRenderableParent(oe))continue;const Me=f.getTile(oe),Ce=Me.getBucket(b);if(!Ce)continue;const it=Ce.programConfigurations.get(b.id),yt=S.useProgram("heatmap",it),{zoom:$e}=S.transform;yt.draw(D,k.TRIANGLES,On.disabled,R,z,dr.disabled,Rs(oe.posMatrix,Me,$e,b.paint.get("heatmap-intensity")),null,b.id,Ce.layoutVertexBuffer,Ce.indexBuffer,Ce.segments,b.paint,S.transform.zoom,it)}D.viewport.set([0,0,S.width,S.height])}else"translucent"===S.renderPass&&(S.context.setColorMode(S.colorModeForRenderPass()),function(D,k){const R=D.context,z=R.gl,ee=k.heatmapFbo;if(!ee)return;R.activeTexture.set(z.TEXTURE0),z.bindTexture(z.TEXTURE_2D,ee.colorAttachment.get()),R.activeTexture.set(z.TEXTURE1);let oe=k.colorRampTexture;oe||(oe=k.colorRampTexture=new Ae(R,k.colorRamp,z.RGBA)),oe.bind(z.LINEAR,z.CLAMP_TO_EDGE),D.useProgram("heatmapTexture").draw(R,z.TRIANGLES,On.disabled,mr.disabled,D.colorModeForRenderPass(),dr.disabled,((Me,Ce,it,yt)=>{const $e=v.create();v.ortho($e,0,Me.width,Me.height,0,0,1);const ft=Me.context.gl;return{u_matrix:$e,u_world:[ft.drawingBufferWidth,ft.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:Ce.paint.get("heatmap-opacity")}})(D,k),null,k.id,D.viewportBuffer,D.quadTriangleIndexBuffer,D.viewportSegments,k.paint,D.transform.zoom)}(S,b))}(i,d,y,w);break;case"line":!function(S,f,b,_){if("translucent"!==S.renderPass)return;const D=b.paint.get("line-opacity"),k=b.paint.get("line-width");if(0===D.constantOr(1)||0===k.constantOr(1))return;const R=S.depthModeForSublayer(0,On.ReadOnly),z=S.colorModeForRenderPass(),ee=b.paint.get("line-dasharray"),oe=b.paint.get("line-pattern"),Me=oe.constantOr(1),Ce=b.paint.get("line-gradient"),it=b.getCrossfadeParameters(),yt=Me?"linePattern":ee?"lineSDF":Ce?"lineGradient":"line",$e=S.context,ft=$e.gl;let Ft=!0;for(const Zt of _){const Gt=f.getTile(Zt);if(Me&&!Gt.patternsLoaded())continue;const Qt=Gt.getBucket(b);if(!Qt)continue;const Xt=Qt.programConfigurations.get(b.id),Ei=S.context.program.get(),ji=S.useProgram(yt,Xt),xn=Ft||ji.program!==Ei,bi=S.style.map.terrain&&S.style.map.terrain.getTerrainData(Zt),tn=oe.constantOr(null);if(tn&&Gt.imageAtlas){const Xn=Gt.imageAtlas,An=Xn.patternPositions[tn.to.toString()],dn=Xn.patternPositions[tn.from.toString()];An&&dn&&Xt.setConstantPatternPositions(An,dn)}const ki=bi?Zt:null,sr=Me?Jo(S,Gt,b,it,ki):ee?Ho(S,Gt,b,ee,it,ki):Ce?yo(S,Gt,b,Qt.lineClipsArray.length,ki):Fs(S,Gt,b,ki);if(Me)$e.activeTexture.set(ft.TEXTURE0),Gt.imageAtlasTexture.bind(ft.LINEAR,ft.CLAMP_TO_EDGE),Xt.updatePaintBuffers(it);else if(ee&&(xn||S.lineAtlas.dirty))$e.activeTexture.set(ft.TEXTURE0),S.lineAtlas.bind($e);else if(Ce){const Xn=Qt.gradients[b.id];let An=Xn.texture;if(b.gradientVersion!==Xn.version){let dn=256;if(b.stepInterpolant){const Pr=f.getSource().maxzoom,zo=Zt.canonical.z===Pr?Math.ceil(1<<S.transform.maxZoom-Zt.canonical.z):1;dn=v.clamp(v.nextPowerOfTwo(Qt.maxLineLength/v.EXTENT*1024*zo),256,$e.maxTextureSize)}Xn.gradient=v.renderColorRamp({expression:b.gradientExpression(),evaluationKey:"lineProgress",resolution:dn,image:Xn.gradient||void 0,clips:Qt.lineClipsArray}),Xn.texture?Xn.texture.update(Xn.gradient):Xn.texture=new Ae($e,Xn.gradient,ft.RGBA),Xn.version=b.gradientVersion,An=Xn.texture}$e.activeTexture.set(ft.TEXTURE0),An.bind(b.stepInterpolant?ft.NEAREST:ft.LINEAR,ft.CLAMP_TO_EDGE)}ji.draw($e,ft.TRIANGLES,R,S.stencilModeForClipping(Zt),z,dr.disabled,sr,bi,b.id,Qt.layoutVertexBuffer,Qt.indexBuffer,Qt.segments,b.paint,S.transform.zoom,Xt,Qt.layoutVertexBuffer2),Ft=!1}}(i,d,y,w);break;case"fill":!function(S,f,b,_){const D=b.paint.get("fill-color"),k=b.paint.get("fill-opacity");if(0===k.constantOr(1))return;const R=S.colorModeForRenderPass(),z=b.paint.get("fill-pattern"),ee=S.opaquePassEnabledForLayer()&&!z.constantOr(1)&&1===D.constantOr(v.Color.transparent).a&&1===k.constantOr(0)?"opaque":"translucent";if(S.renderPass===ee){const oe=S.depthModeForSublayer(1,"opaque"===S.renderPass?On.ReadWrite:On.ReadOnly);Aa(S,f,b,_,oe,R,!1)}if("translucent"===S.renderPass&&b.paint.get("fill-antialias")){const oe=S.depthModeForSublayer(b.getPaintProperty("fill-outline-color")?2:0,On.ReadOnly);Aa(S,f,b,_,oe,R,!0)}}(i,d,y,w);break;case"fill-extrusion":!function(S,f,b,_){const D=b.paint.get("fill-extrusion-opacity");if(0!==D&&"translucent"===S.renderPass){const k=new On(S.context.gl.LEQUAL,On.ReadWrite,S.depthRangeFor3D);if(1!==D||b.paint.get("fill-extrusion-pattern").constantOr(1))Za(S,f,b,_,k,mr.disabled,Bi.disabled),Za(S,f,b,_,k,S.stencilModeFor3D(),S.colorModeForRenderPass());else{const R=S.colorModeForRenderPass();Za(S,f,b,_,k,mr.disabled,R)}}}(i,d,y,w);break;case"hillshade":!function(S,f,b,_){if("offscreen"!==S.renderPass&&"translucent"!==S.renderPass)return;const D=S.context,k=S.depthModeForSublayer(0,On.ReadOnly),R=S.colorModeForRenderPass(),[z,ee]="translucent"===S.renderPass?S.stencilConfigForOverlap(_):[{},_];for(const oe of ee){const Me=f.getTile(oe);void 0!==Me.needsHillshadePrepare&&Me.needsHillshadePrepare&&"offscreen"===S.renderPass?Hr(S,Me,b,k,mr.disabled,R):"translucent"===S.renderPass&&Hl(S,oe,Me,b,k,z[oe.overscaledZ],R)}D.viewport.set([0,0,S.width,S.height])}(i,d,y,w);break;case"raster":!function(S,f,b,_){if("translucent"!==S.renderPass||0===b.paint.get("raster-opacity")||!_.length)return;const D=S.context,k=D.gl,R=f.getSource(),z=S.useProgram("raster"),ee=S.colorModeForRenderPass(),[oe,Me]=R instanceof rt?[{},_]:S.stencilConfigForOverlap(_),Ce=Me[Me.length-1].overscaledZ,it=!S.options.moving;for(const yt of Me){const $e=S.depthModeForSublayer(yt.overscaledZ-Ce,1===b.paint.get("raster-opacity")?On.ReadWrite:On.ReadOnly,k.LESS),ft=f.getTile(yt);ft.registerFadeDuration(b.paint.get("raster-fade-duration"));const Ft=f.findLoadedParent(yt,0),Zt=al(ft,Ft,f,b,S.transform,S.style.map.terrain);let Gt,Qt;const Xt="nearest"===b.paint.get("raster-resampling")?k.NEAREST:k.LINEAR;D.activeTexture.set(k.TEXTURE0),ft.texture.bind(Xt,k.CLAMP_TO_EDGE,k.LINEAR_MIPMAP_NEAREST),D.activeTexture.set(k.TEXTURE1),Ft?(Ft.texture.bind(Xt,k.CLAMP_TO_EDGE,k.LINEAR_MIPMAP_NEAREST),Gt=Math.pow(2,Ft.tileID.overscaledZ-ft.tileID.overscaledZ),Qt=[ft.tileID.canonical.x*Gt%1,ft.tileID.canonical.y*Gt%1]):ft.texture.bind(Xt,k.CLAMP_TO_EDGE,k.LINEAR_MIPMAP_NEAREST);const Ei=S.style.map.terrain&&S.style.map.terrain.getTerrainData(yt),ji=Ei?yt:null,xn=ji?ji.posMatrix:S.transform.calculatePosMatrix(yt.toUnwrapped(),it),bi=Ai(xn,Qt||[0,0],Gt||1,Zt,b);R instanceof rt?z.draw(D,k.TRIANGLES,$e,mr.disabled,ee,dr.disabled,bi,Ei,b.id,R.boundsBuffer,S.quadTriangleIndexBuffer,R.boundsSegments):z.draw(D,k.TRIANGLES,$e,oe[yt.overscaledZ],ee,dr.disabled,bi,Ei,b.id,S.rasterBoundsBuffer,S.quadTriangleIndexBuffer,S.rasterBoundsSegments)}}(i,d,y,w);break;case"background":!function(S,f,b,_){const D=b.paint.get("background-color"),k=b.paint.get("background-opacity");if(0===k)return;const R=S.context,z=R.gl,ee=S.transform,oe=ee.tileSize,Me=b.paint.get("background-pattern");if(S.isPatternMissing(Me))return;const Ce=!Me&&1===D.a&&1===k&&S.opaquePassEnabledForLayer()?"opaque":"translucent";if(S.renderPass!==Ce)return;const it=mr.disabled,yt=S.depthModeForSublayer(0,"opaque"===Ce?On.ReadWrite:On.ReadOnly),$e=S.colorModeForRenderPass(),ft=S.useProgram(Me?"backgroundPattern":"background"),Ft=_||ee.coveringTiles({tileSize:oe,terrain:S.style.map.terrain});Me&&(R.activeTexture.set(z.TEXTURE0),S.imageManager.bind(S.context));const Zt=b.getCrossfadeParameters();for(const Gt of Ft){const Qt=_?Gt.posMatrix:S.transform.calculatePosMatrix(Gt.toUnwrapped()),Xt=Me?es(Qt,k,S,Me,{tileID:Gt,tileSize:oe},Zt):Kn(Qt,k,D),Ei=S.style.map.terrain&&S.style.map.terrain.getTerrainData(Gt);ft.draw(R,z.TRIANGLES,yt,it,$e,dr.disabled,Xt,Ei,b.id,S.tileExtentBuffer,S.quadTriangleIndexBuffer,S.tileExtentSegments)}}(i,0,y,w);break;case"custom":!function(S,f,b){const _=S.context,D=b.implementation;if("offscreen"===S.renderPass){const k=D.prerender;k&&(S.setCustomLayerDefaults(),_.setColorMode(S.colorModeForRenderPass()),k.call(D,_.gl,S.transform.customLayerMatrix()),_.setDirty(),S.setBaseState())}else if("translucent"===S.renderPass){S.setCustomLayerDefaults(),_.setColorMode(S.colorModeForRenderPass()),_.setStencilMode(mr.disabled);const k="3d"===D.renderingMode?new On(S.context.gl.LEQUAL,On.ReadWrite,S.depthRangeFor3D):S.depthModeForSublayer(0,On.ReadOnly);_.setDepthMode(k),D.render(_.gl,S.transform.customLayerMatrix()),_.setDirty(),S.setBaseState(),_.bindFramebuffer.set(null)}}(i,0,y)}}translatePosMatrix(i,d,y,w,S){if(!y[0]&&!y[1])return i;const f=S?"map"===w?this.transform.angle:0:"viewport"===w?-this.transform.angle:0;if(f){const D=Math.sin(f),k=Math.cos(f);y=[y[0]*k-y[1]*D,y[0]*D+y[1]*k]}const b=[S?y[0]:se(d,y[0],this.transform.zoom),S?y[1]:se(d,y[1],this.transform.zoom),0],_=new Float32Array(16);return v.translate(_,i,b),_}saveTileTexture(i){const d=this._tileTextures[i.size[0]];d?d.push(i):this._tileTextures[i.size[0]]=[i]}getTileTexture(i){const d=this._tileTextures[i];return d&&d.length>0?d.pop():null}isPatternMissing(i){if(!i)return!1;if(!i.from||!i.to)return!0;const d=this.imageManager.getPattern(i.from.toString()),y=this.imageManager.getPattern(i.to.toString());return!d||!y}useProgram(i,d){this.cache=this.cache||{};const y=i+(d?d.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[y]||(this.cache[y]=new cs(this.context,i,co[i],d,gr[i],this._showOverdrawInspector,this.style.map.terrain)),this.cache[y]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const i=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(i.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new Ae(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:i,drawingBufferHeight:d}=this.context.gl;return this.width!==i||this.height!==d}}class $l{constructor(i,d){this.points=i,this.planes=d}static fromInvProjectionMatrix(i,d,y){const w=Math.pow(2,y),S=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(b=>{const _=1/(b=v.transformMat4([],b,i))[3]/d*w;return v.mul$1(b,b,[_,_,1/b[3],_])}),f=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(b=>{const _=function(z,ee){var oe=ee[0],Me=ee[1],Ce=ee[2],it=oe*oe+Me*Me+Ce*Ce;return it>0&&(it=1/Math.sqrt(it)),z[0]=ee[0]*it,z[1]=ee[1]*it,z[2]=ee[2]*it,z}([],(z=[],ee=Ti([],S[b[0]],S[b[1]]),oe=Ti([],S[b[2]],S[b[1]]),Me=ee[0],yt=oe[0],z[0]=(Ce=ee[1])*(ft=oe[2])-(it=ee[2])*($e=oe[1]),z[1]=it*yt-Me*ft,z[2]=Me*$e-Ce*yt,z)),D=-((k=_)[0]*(R=S[b[1]])[0]+k[1]*R[1]+k[2]*R[2]);var z,ee,oe,Me,Ce,it,yt,$e,ft,k,R;return _.concat(D)});return new $l(S,f)}}class Hs{constructor(i,d){var y,w,S;this.min=i,this.max=d,this.center=function(y,w,S){return y[0]=.5*w[0],y[1]=.5*w[1],y[2]=.5*w[2],y}([],((y=[])[0]=(w=this.min)[0]+(S=this.max)[0],y[1]=w[1]+S[1],y[2]=w[2]+S[2],y))}quadrant(i){const d=[i%2==0,i<2],y=Vt(this.min),w=Vt(this.max);for(let S=0;S<d.length;S++)y[S]=d[S]?this.min[S]:this.center[S],w[S]=d[S]?this.center[S]:this.max[S];return w[2]=this.max[2],new Hs(y,w)}distanceX(i){return Math.max(Math.min(this.max[0],i[0]),this.min[0])-i[0]}distanceY(i){return Math.max(Math.min(this.max[1],i[1]),this.min[1])-i[1]}intersects(i){const d=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let y=!0;for(let w=0;w<i.planes.length;w++){const S=i.planes[w];let f=0;for(let b=0;b<d.length;b++)v.dot(S,d[b])>=0&&f++;if(0===f)return 0;f!==d.length&&(y=!1)}if(y)return 2;for(let w=0;w<3;w++){let S=Number.MAX_VALUE,f=-Number.MAX_VALUE;for(let b=0;b<i.points.length;b++){const _=i.points[b][w]-this.min[w];S=Math.min(S,_),f=Math.max(f,_)}if(f<0||S>this.max[w]-this.min[w])return 0}return 1}}class qa{constructor(i=0,d=0,y=0,w=0){if(isNaN(i)||i<0||isNaN(d)||d<0||isNaN(y)||y<0||isNaN(w)||w<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=i,this.bottom=d,this.left=y,this.right=w}interpolate(i,d,y){return null!=d.top&&null!=i.top&&(this.top=v.interpolate.number(i.top,d.top,y)),null!=d.bottom&&null!=i.bottom&&(this.bottom=v.interpolate.number(i.bottom,d.bottom,y)),null!=d.left&&null!=i.left&&(this.left=v.interpolate.number(i.left,d.left,y)),null!=d.right&&null!=i.right&&(this.right=v.interpolate.number(i.right,d.right,y)),this}getCenter(i,d){const y=v.clamp((this.left+i-this.right)/2,0,i),w=v.clamp((this.top+d-this.bottom)/2,0,d);return new v.Point(y,w)}equals(i){return this.top===i.top&&this.bottom===i.bottom&&this.left===i.left&&this.right===i.right}clone(){return new qa(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class Tr{constructor(i,d,y,w,S){this.tileSize=512,this.maxValidLatitude=85.051129,this.freezeElevation=!1,this._renderWorldCopies=void 0===S||!!S,this._minZoom=i||0,this._maxZoom=d||22,this._minPitch=y??0,this._maxPitch=w??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new v.LngLat(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new qa,this._posMatrixCache={},this._alignedPosMatrixCache={}}clone(){const i=new Tr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return i.apply(this),i}apply(i){this.tileSize=i.tileSize,this.latRange=i.latRange,this.width=i.width,this.height=i.height,this._center=i._center,this._elevation=i._elevation,this.zoom=i.zoom,this.angle=i.angle,this._fov=i._fov,this._pitch=i._pitch,this._unmodified=i._unmodified,this._edgeInsets=i._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(i){this._minZoom!==i&&(this._minZoom=i,this.zoom=Math.max(this.zoom,i))}get maxZoom(){return this._maxZoom}set maxZoom(i){this._maxZoom!==i&&(this._maxZoom=i,this.zoom=Math.min(this.zoom,i))}get minPitch(){return this._minPitch}set minPitch(i){this._minPitch!==i&&(this._minPitch=i,this.pitch=Math.max(this.pitch,i))}get maxPitch(){return this._maxPitch}set maxPitch(i){this._maxPitch!==i&&(this._maxPitch=i,this.pitch=Math.min(this.pitch,i))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(i){void 0===i?i=!0:null===i&&(i=!1),this._renderWorldCopies=i}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new v.Point(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(i){const d=-v.wrap(i,-180,180)*Math.PI/180;var y;this.angle!==d&&(this._unmodified=!1,this.angle=d,this._calcMatrices(),this.rotationMatrix=(y=new v.ARRAY_TYPE(4),v.ARRAY_TYPE!=Float32Array&&(y[1]=0,y[2]=0),y[0]=1,y[3]=1,y),function(y,w,S){var f=w[0],b=w[1],_=w[2],D=w[3],k=Math.sin(S),R=Math.cos(S);y[0]=f*R+_*k,y[1]=b*R+D*k,y[2]=f*-k+_*R,y[3]=b*-k+D*R}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(i){const d=v.clamp(i,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==d&&(this._unmodified=!1,this._pitch=d,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(i){i=Math.max(.01,Math.min(60,i)),this._fov!==i&&(this._unmodified=!1,this._fov=i/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(i){const d=Math.min(Math.max(i,this.minZoom),this.maxZoom);this._zoom!==d&&(this._unmodified=!1,this._zoom=d,this.tileZoom=Math.max(0,Math.floor(d)),this.scale=this.zoomScale(d),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(i){i.lat===this._center.lat&&i.lng===this._center.lng||(this._unmodified=!1,this._center=i,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(i){i!==this._elevation&&(this._elevation=i,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(i){this._edgeInsets.equals(i)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,i,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(i){return this._edgeInsets.equals(i)}interpolatePadding(i,d,y){this._unmodified=!1,this._edgeInsets.interpolate(i,d,y),this._constrain(),this._calcMatrices()}coveringZoomLevel(i){const d=(i.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/i.tileSize));return Math.max(0,d)}getVisibleUnwrappedCoordinates(i){const d=[new v.UnwrappedTileID(0,i)];if(this._renderWorldCopies){const y=this.pointCoordinate(new v.Point(0,0)),w=this.pointCoordinate(new v.Point(this.width,0)),S=this.pointCoordinate(new v.Point(this.width,this.height)),f=this.pointCoordinate(new v.Point(0,this.height)),b=Math.floor(Math.min(y.x,w.x,S.x,f.x)),_=Math.floor(Math.max(y.x,w.x,S.x,f.x)),D=1;for(let k=b-D;k<=_+D;k++)0!==k&&d.push(new v.UnwrappedTileID(k,i))}return d}coveringTiles(i){var d,y;let w=this.coveringZoomLevel(i);const S=w;if(void 0!==i.minzoom&&w<i.minzoom)return[];void 0!==i.maxzoom&&w>i.maxzoom&&(w=i.maxzoom);const f=this.pointCoordinate(this.getCameraPoint()),b=v.MercatorCoordinate.fromLngLat(this.center),_=Math.pow(2,w),D=[_*f.x,_*f.y,0],k=[_*b.x,_*b.y,0],R=$l.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,w);let z=i.minzoom||0;!i.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(z=w);const ee=i.terrain?2/Math.min(this.tileSize,i.tileSize)*this.tileSize:3,oe=$e=>({aabb:new Hs([$e*_,0,0],[($e+1)*_,_,0]),zoom:0,x:0,y:0,wrap:$e,fullyVisible:!1}),Me=[],Ce=[],it=w,yt=i.reparseOverscaled?S:w;if(this._renderWorldCopies)for(let $e=1;$e<=3;$e++)Me.push(oe(-$e)),Me.push(oe($e));for(Me.push(oe(0));Me.length>0;){const $e=Me.pop(),ft=$e.x,Ft=$e.y;let Zt=$e.fullyVisible;if(!Zt){const ji=$e.aabb.intersects(R);if(0===ji)continue;Zt=2===ji}const Gt=i.terrain?D:k,Qt=$e.aabb.distanceX(Gt),Xt=$e.aabb.distanceY(Gt),Ei=Math.max(Math.abs(Qt),Math.abs(Xt));if($e.zoom===it||Ei>ee+(1<<it-$e.zoom)-2&&$e.zoom>=z){const ji=it-$e.zoom,xn=D[0]-.5-(ft<<ji),bi=D[1]-.5-(Ft<<ji);Ce.push({tileID:new v.OverscaledTileID($e.zoom===it?yt:$e.zoom,$e.wrap,$e.zoom,ft,Ft),distanceSq:Yt([k[0]-.5-ft,k[1]-.5-Ft]),tileDistanceToCamera:Math.sqrt(xn*xn+bi*bi)})}else for(let ji=0;ji<4;ji++){const xn=(ft<<1)+ji%2,bi=(Ft<<1)+(ji>>1),tn=$e.zoom+1;let ki=$e.aabb.quadrant(ji);if(i.terrain){const sr=new v.OverscaledTileID(tn,$e.wrap,tn,xn,bi),Xn=i.terrain.getMinMaxElevation(sr),An=null!==(d=Xn.minElevation)&&void 0!==d?d:this.elevation,dn=null!==(y=Xn.maxElevation)&&void 0!==y?y:this.elevation;ki=new Hs([ki.min[0],ki.min[1],An],[ki.max[0],ki.max[1],dn])}Me.push({aabb:ki,zoom:tn,x:xn,y:bi,wrap:$e.wrap,fullyVisible:Zt})}}return Ce.sort(($e,ft)=>$e.distanceSq-ft.distanceSq).map($e=>$e.tileID)}resize(i,d){this.width=i,this.height=d,this.pixelsToGLUnits=[2/i,-2/d],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(i){return Math.pow(2,i)}scaleZoom(i){return Math.log(i)/Math.LN2}project(i){const d=v.clamp(i.lat,-this.maxValidLatitude,this.maxValidLatitude);return new v.Point(v.mercatorXfromLng(i.lng)*this.worldSize,v.mercatorYfromLat(d)*this.worldSize)}unproject(i){return new v.MercatorCoordinate(i.x/this.worldSize,i.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}updateElevation(i){this.freezeElevation||(this.elevation=i?this.getElevation(this._center,i):0)}getElevation(i,d){const y=v.MercatorCoordinate.fromLngLat(i.wrap()),w=(1<<this.tileZoom)*v.EXTENT,S=y.x*w,f=y.y*w,b=Math.floor(S/v.EXTENT),_=Math.floor(f/v.EXTENT),D=new v.OverscaledTileID(this.tileZoom,0,this.tileZoom,b,_);return d.getElevation(D,S%v.EXTENT,f%v.EXTENT,v.EXTENT)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(i){const d=this.pointLocation(this.centerPoint,i),y=this.getElevation(d,i);if(!(this.elevation-y))return;const w=this.getCameraPosition(),S=v.MercatorCoordinate.fromLngLat(w.lngLat,w.altitude),f=v.MercatorCoordinate.fromLngLat(d,y),b=S.x-f.x,_=S.y-f.y,D=S.z-f.z,k=Math.sqrt(b*b+_*_+D*D),R=this.scaleZoom(this.cameraToCenterDistance/k/this.tileSize);this._elevation=y,this._center=d,this.zoom=R}setLocationAtPoint(i,d){const y=this.pointCoordinate(d),w=this.pointCoordinate(this.centerPoint),S=this.locationCoordinate(i),f=new v.MercatorCoordinate(S.x-(y.x-w.x),S.y-(y.y-w.y));this.center=this.coordinateLocation(f),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(i,d){return d?this.coordinatePoint(this.locationCoordinate(i),this.getElevation(i,d),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(i))}pointLocation(i,d){return this.coordinateLocation(this.pointCoordinate(i,d))}locationCoordinate(i){return v.MercatorCoordinate.fromLngLat(i)}coordinateLocation(i){return i&&i.toLngLat()}pointCoordinate(i,d){if(d){const z=d.pointCoordinate(i);if(null!=z)return z}const y=[i.x,i.y,0,1],w=[i.x,i.y,1,1];v.transformMat4(y,y,this.pixelMatrixInverse),v.transformMat4(w,w,this.pixelMatrixInverse);const S=y[3],f=w[3],b=y[1]/S,_=w[1]/f,D=y[2]/S,k=w[2]/f,R=D===k?0:(0-D)/(k-D);return new v.MercatorCoordinate(v.interpolate.number(y[0]/S,w[0]/f,R)/this.worldSize,v.interpolate.number(b,_,R)/this.worldSize)}coordinatePoint(i,d=0,y=this.pixelMatrix){const w=[i.x*this.worldSize,i.y*this.worldSize,d,1];return v.transformMat4(w,w,y),new v.Point(w[0]/w[3],w[1]/w[3])}getBounds(){const i=Math.max(0,this.height/2-this.getHorizon());return(new gt).extend(this.pointLocation(new v.Point(0,i))).extend(this.pointLocation(new v.Point(this.width,i))).extend(this.pointLocation(new v.Point(this.width,this.height))).extend(this.pointLocation(new v.Point(0,this.height)))}getMaxBounds(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new gt([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(i){i?(this.lngRange=[i.getWest(),i.getEast()],this.latRange=[i.getSouth(),i.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(i,d=!1){const y=i.key,w=d?this._alignedPosMatrixCache:this._posMatrixCache;if(w[y])return w[y];const S=i.canonical,f=this.worldSize/this.zoomScale(S.z),b=S.x+Math.pow(2,S.z)*i.wrap,_=v.identity(new Float64Array(16));return v.translate(_,_,[b*f,S.y*f,0]),v.scale(_,_,[f/v.EXTENT,f/v.EXTENT,1]),v.multiply(_,d?this.alignedProjMatrix:this.projMatrix,_),w[y]=new Float32Array(_),w[y]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let i,d,y,w,S=-90,f=90,b=-180,_=180;const D=this.size,k=this._unmodified;if(this.latRange){const ee=this.latRange;S=v.mercatorYfromLat(ee[1])*this.worldSize,f=v.mercatorYfromLat(ee[0])*this.worldSize,i=f-S<D.y?D.y/(f-S):0}if(this.lngRange){const ee=this.lngRange;b=v.wrap(v.mercatorXfromLng(ee[0])*this.worldSize,0,this.worldSize),_=v.wrap(v.mercatorXfromLng(ee[1])*this.worldSize,0,this.worldSize),_<b&&(_+=this.worldSize),d=_-b<D.x?D.x/(_-b):0}const R=this.point,z=Math.max(d||0,i||0);if(z)return this.center=this.unproject(new v.Point(d?(_+b)/2:R.x,i?(f+S)/2:R.y)),this.zoom+=this.scaleZoom(z),this._unmodified=k,void(this._constraining=!1);if(this.latRange){const ee=R.y,oe=D.y/2;ee-oe<S&&(w=S+oe),ee+oe>f&&(w=f-oe)}if(this.lngRange){const ee=(b+_)/2,oe=v.wrap(R.x,ee-this.worldSize/2,ee+this.worldSize/2),Me=D.x/2;oe-Me<b&&(y=b+Me),oe+Me>_&&(y=_-Me)}void 0===y&&void 0===w||(this.center=this.unproject(new v.Point(void 0!==y?y:R.x,void 0!==w?w:R.y)).wrap()),this._unmodified=k,this._constraining=!1}_calcMatrices(){if(!this.height)return;const i=this.centerOffset,d=this.point.x,y=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=v.mercatorZfromAltitude(1,this.center.lat)*this.worldSize;let w=v.identity(new Float64Array(16));v.scale(w,w,[this.width/2,-this.height/2,1]),v.translate(w,w,[1,-1,0]),this.labelPlaneMatrix=w,w=v.identity(new Float64Array(16)),v.scale(w,w,[1,-1,1]),v.translate(w,w,[-1,-1,0]),v.scale(w,w,[2/this.width,2/this.height,1]),this.glCoordMatrix=w,this.cameraToSeaLevelDistance=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch);const S=this._elevation<0?this.cameraToCenterDistance:this.cameraToSeaLevelDistance,f=Math.PI/2+this._pitch,b=this._fov*(.5+i.y/this.height),_=Math.sin(b)*S/Math.sin(v.clamp(Math.PI-f-b,.01,Math.PI-.01)),D=this.getHorizon(),k=2*Math.atan(D/this.cameraToCenterDistance)*(.5+i.y/(2*D)),R=Math.sin(k)*S/Math.sin(v.clamp(Math.PI-f-k,.01,Math.PI-.01)),z=Math.min(_,R),ee=1.01*(Math.cos(Math.PI/2-this._pitch)*z+S),oe=this.height/50;w=new Float64Array(16),v.perspective(w,this._fov,this.width/this.height,oe,ee),w[8]=2*-i.x/this.width,w[9]=2*i.y/this.height,v.scale(w,w,[1,-1,1]),v.translate(w,w,[0,0,-this.cameraToCenterDistance]),v.rotateX(w,w,this._pitch),v.rotateZ(w,w,this.angle),v.translate(w,w,[-d,-y,0]),this.mercatorMatrix=v.scale([],w,[this.worldSize,this.worldSize,this.worldSize]),v.scale(w,w,[1,1,this._pixelPerMeter]),this.pixelMatrix=v.multiply(new Float64Array(16),this.labelPlaneMatrix,w),v.translate(w,w,[0,0,-this.elevation]),this.projMatrix=w,this.invProjMatrix=v.invert([],w),this.pixelMatrix3D=v.multiply(new Float64Array(16),this.labelPlaneMatrix,w);const Me=this.width%2/2,Ce=this.height%2/2,it=Math.cos(this.angle),yt=Math.sin(this.angle),$e=d-Math.round(d)+it*Me+yt*Ce,ft=y-Math.round(y)+it*Ce+yt*Me,Ft=new Float64Array(w);if(v.translate(Ft,Ft,[$e>.5?$e-1:$e,ft>.5?ft-1:ft,0]),this.alignedProjMatrix=Ft,w=v.invert(new Float64Array(16),this.pixelMatrix),!w)throw new Error("failed to invert matrix");this.pixelMatrixInverse=w,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const i=this.pointCoordinate(new v.Point(0,0)),d=[i.x*this.worldSize,i.y*this.worldSize,0,1];return v.transformMat4(d,d,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const i=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new v.Point(0,i))}getCameraQueryGeometry(i){const d=this.getCameraPoint();if(1===i.length)return[i[0],d];{let y=d.x,w=d.y,S=d.x,f=d.y;for(const b of i)y=Math.min(y,b.x),w=Math.min(w,b.y),S=Math.max(S,b.x),f=Math.max(f,b.y);return[new v.Point(y,w),new v.Point(S,w),new v.Point(S,f),new v.Point(y,f),new v.Point(y,w)]}}}class hs{constructor(i){this._getCurrentHash=()=>{const d=window.location.hash.replace("#","");if(this._hashName){let y;return d.split("&").map(w=>w.split("=")).forEach(w=>{w[0]===this._hashName&&(y=w)}),(y&&y[1]||"").split("/")}return d.split("/")},this._onHashChange=()=>{const d=this._getCurrentHash();if(d.length>=3&&!d.some(y=>isNaN(y))){const y=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(d[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+d[2],+d[1]],zoom:+d[0],bearing:y,pitch:+(d[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const d=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,d)}catch{}},this._updateHash=function(d,y){let w=!1,S=null;const f=()=>{S=null,w&&(d(),S=setTimeout(f,300),w=!1)};return()=>(w=!0,S||f(),S)}(this._updateHashUnthrottled),this._hashName=i&&encodeURIComponent(i)}addTo(i){return this._map=i,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(i){const d=this._map.getCenter(),y=Math.round(100*this._map.getZoom())/100,w=Math.ceil((y*Math.LN2+Math.log(512/360/.5))/Math.LN10),S=Math.pow(10,w),f=Math.round(d.lng*S)/S,b=Math.round(d.lat*S)/S,_=this._map.getBearing(),D=this._map.getPitch();let k="";if(k+=i?`/${f}/${b}/${y}`:`${y}/${b}/${f}`,(_||D)&&(k+="/"+Math.round(10*_)/10),D&&(k+=`/${Math.round(D)}`),this._hashName){const R=this._hashName;let z=!1;const ee=window.location.hash.slice(1).split("&").map(oe=>{const Me=oe.split("=")[0];return Me===R?(z=!0,`${Me}=${k}`):oe}).filter(oe=>oe);return z||ee.push(`${R}=${k}`),`#${ee.join("&")}`}return`#${k}`}}const $r={linearity:.3,easing:v.bezier(0,0,.3,1)},Gl=v.extend({deceleration:2500,maxSpeed:1400},$r),ms=v.extend({deceleration:20,maxSpeed:1400},$r),Rr=v.extend({deceleration:1e3,maxSpeed:360},$r),wl=v.extend({deceleration:1e3,maxSpeed:90},$r);class xs{constructor(i){this._map=i,this.clear()}clear(){this._inertiaBuffer=[]}record(i){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:v.browser.now(),settings:i})}_drainInertiaBuffer(){const i=this._inertiaBuffer,d=v.browser.now();for(;i.length>0&&d-i[0].time>160;)i.shift()}_onMoveEnd(i){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const d={zoom:0,bearing:0,pitch:0,pan:new v.Point(0,0),pinchAround:void 0,around:void 0};for(const{settings:S}of this._inertiaBuffer)d.zoom+=S.zoomDelta||0,d.bearing+=S.bearingDelta||0,d.pitch+=S.pitchDelta||0,S.panDelta&&d.pan._add(S.panDelta),S.around&&(d.around=S.around),S.pinchAround&&(d.pinchAround=S.pinchAround);const y=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,w={};if(d.pan.mag()){const S=ga(d.pan.mag(),y,v.extend({},Gl,i||{}));w.offset=d.pan.mult(S.amount/d.pan.mag()),w.center=this._map.transform.center,Gr(w,S)}if(d.zoom){const S=ga(d.zoom,y,ms);w.zoom=this._map.transform.zoom+S.amount,Gr(w,S)}if(d.bearing){const S=ga(d.bearing,y,Rr);w.bearing=this._map.transform.bearing+v.clamp(S.amount,-179,179),Gr(w,S)}if(d.pitch){const S=ga(d.pitch,y,wl);w.pitch=this._map.transform.pitch+S.amount,Gr(w,S)}if(w.zoom||w.bearing){const S=void 0===d.pinchAround?d.around:d.pinchAround;w.around=S?this._map.unproject(S):this._map.getCenter()}return this.clear(),v.extend(w,{noMoveStart:!0})}}function Gr(E,i){(!E.duration||E.duration<i.duration)&&(E.duration=i.duration,E.easing=i.easing)}function ga(E,i,d){const{maxSpeed:y,linearity:w,deceleration:S}=d,f=v.clamp(E*w/(i/1e3),-y,y),b=Math.abs(f)/(S*w);return{easing:d.easing,duration:1e3*b,amount:f*(b/2)}}class Zr extends v.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,d,y,w={}){const S=ne.mousePos(d.getCanvasContainer(),y),f=d.unproject(S);super(i,v.extend({point:S,lngLat:f,originalEvent:y},w)),this._defaultPrevented=!1,this.target=d}}class Zo extends v.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,d,y){const w="touchend"===i?y.changedTouches:y.touches,S=ne.touchPos(d.getCanvasContainer(),w),f=S.map(_=>d.unproject(_)),b=S.reduce((_,D,k,R)=>_.add(D.div(R.length)),new v.Point(0,0));super(i,{points:S,point:b,lngLats:f,lngLat:d.unproject(b),originalEvent:y}),this._defaultPrevented=!1}}class Cl extends v.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(i,d,y){super(i,{originalEvent:y}),this._defaultPrevented=!1}}class ro{constructor(i,d){this._map=i,this._clickTolerance=d.clickTolerance}reset(){delete this._mousedownPos}wheel(i){return this._firePreventable(new Cl(i.type,this._map,i))}mousedown(i,d){return this._mousedownPos=d,this._firePreventable(new Zr(i.type,this._map,i))}mouseup(i){this._map.fire(new Zr(i.type,this._map,i))}click(i,d){this._mousedownPos&&this._mousedownPos.dist(d)>=this._clickTolerance||this._map.fire(new Zr(i.type,this._map,i))}dblclick(i){return this._firePreventable(new Zr(i.type,this._map,i))}mouseover(i){this._map.fire(new Zr(i.type,this._map,i))}mouseout(i){this._map.fire(new Zr(i.type,this._map,i))}touchstart(i){return this._firePreventable(new Zo(i.type,this._map,i))}touchmove(i){this._map.fire(new Zo(i.type,this._map,i))}touchend(i){this._map.fire(new Zo(i.type,this._map,i))}touchcancel(i){this._map.fire(new Zo(i.type,this._map,i))}_firePreventable(i){if(this._map.fire(i),i.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class El{constructor(i){this._map=i}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(i){this._map.fire(new Zr(i.type,this._map,i))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Zr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(i){this._delayContextMenu?this._contextMenuEvent=i:this._ignoreContextMenu||this._map.fire(new Zr(i.type,this._map,i)),this._map.listens("contextmenu")&&i.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Ya{constructor(i){this._map=i}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(i){return this.transform.pointLocation(v.Point.convert(i),this._map.terrain)}}class Zl{constructor(i,d){this._map=i,this._tr=new Ya(i),this._el=i.getCanvasContainer(),this._container=i.getContainer(),this._clickTolerance=d.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(i,d){this.isEnabled()&&i.shiftKey&&0===i.button&&(ne.disableDrag(),this._startPos=this._lastPos=d,this._active=!0)}mousemoveWindow(i,d){if(!this._active)return;const y=d;if(this._lastPos.equals(y)||!this._box&&y.dist(this._startPos)<this._clickTolerance)return;const w=this._startPos;this._lastPos=y,this._box||(this._box=ne.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",i));const S=Math.min(w.x,y.x),f=Math.max(w.x,y.x),b=Math.min(w.y,y.y),_=Math.max(w.y,y.y);ne.setTransform(this._box,`translate(${S}px,${b}px)`),this._box.style.width=f-S+"px",this._box.style.height=_-b+"px"}mouseupWindow(i,d){if(!this._active||0!==i.button)return;const y=this._startPos,w=d;if(this.reset(),ne.suppressClick(),y.x!==w.x||y.y!==w.y)return this._map.fire(new v.Event("boxzoomend",{originalEvent:i})),{cameraAnimation:S=>S.fitScreenCoordinates(y,w,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",i)}keydown(i){this._active&&27===i.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",i))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(ne.remove(this._box),this._box=null),ne.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(i,d){return this._map.fire(new v.Event(i,{originalEvent:d}))}}function $s(E,i){if(E.length!==i.length)throw new Error(`The number of touches and points are not equal - touches ${E.length}, points ${i.length}`);const d={};for(let y=0;y<E.length;y++)d[E[y].identifier]=i[y];return d}class Ni{constructor(i){this.reset(),this.numTouches=i.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(i,d,y){(this.centroid||y.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=i.timeStamp),y.length===this.numTouches&&(this.centroid=function(w){const S=new v.Point(0,0);for(const f of w)S._add(f);return S.div(w.length)}(d),this.touches=$s(y,d)))}touchmove(i,d,y){if(this.aborted||!this.centroid)return;const w=$s(y,d);for(const S in this.touches){const f=w[S];(!f||f.dist(this.touches[S])>30)&&(this.aborted=!0)}}touchend(i,d,y){if((!this.centroid||i.timeStamp-this.startTime>500)&&(this.aborted=!0),0===y.length){const w=!this.aborted&&this.centroid;if(this.reset(),w)return w}}}class ts{constructor(i){this.singleTap=new Ni(i),this.numTaps=i.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(i,d,y){this.singleTap.touchstart(i,d,y)}touchmove(i,d,y){this.singleTap.touchmove(i,d,y)}touchend(i,d,y){const w=this.singleTap.touchend(i,d,y);if(w){const S=i.timeStamp-this.lastTime<500,f=!this.lastTap||this.lastTap.dist(w)<30;if(S&&f||this.reset(),this.count++,this.lastTime=i.timeStamp,this.lastTap=w,this.count===this.numTaps)return this.reset(),w}}}class Ml{constructor(i){this._tr=new Ya(i),this._zoomIn=new ts({numTouches:1,numTaps:2}),this._zoomOut=new ts({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(i,d,y){this._zoomIn.touchstart(i,d,y),this._zoomOut.touchstart(i,d,y)}touchmove(i,d,y){this._zoomIn.touchmove(i,d,y),this._zoomOut.touchmove(i,d,y)}touchend(i,d,y){const w=this._zoomIn.touchend(i,d,y),S=this._zoomOut.touchend(i,d,y),f=this._tr;return w?(this._active=!0,i.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:b=>b.easeTo({duration:300,zoom:f.zoom+1,around:f.unproject(w)},{originalEvent:i})}):S?(this._active=!0,i.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:b=>b.easeTo({duration:300,zoom:f.zoom-1,around:f.unproject(S)},{originalEvent:i})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Gs{constructor(i){this._enabled=!!i.enable,this._moveStateManager=i.moveStateManager,this._clickTolerance=i.clickTolerance||1,this._moveFunction=i.move,this._activateOnStart=!!i.activateOnStart,i.assignEvents(this),this.reset()}reset(i){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(i)}_move(...i){const d=this._moveFunction(...i);if(d.bearingDelta||d.pitchDelta||d.around||d.panDelta)return this._active=!0,d}dragStart(i,d){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(i)&&(this._moveStateManager.startMove(i),this._lastPoint=d.length?d[0]:d,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(i,d){if(!this.isEnabled())return;const y=this._lastPoint;if(!y)return;if(i.preventDefault(),!this._moveStateManager.isValidMoveEvent(i))return void this.reset(i);const w=d.length?d[0]:d;return!this._moved&&w.dist(y)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=w,this._move(y,w))}dragEnd(i){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(i)&&(this._moved&&ne.suppressClick(),this.reset(i))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const _r={0:1,2:2};class fi{constructor(i){this._correctEvent=i.checkCorrectEvent}startMove(i){const d=ne.mouseButton(i);this._eventButton=d}endMove(i){delete this._eventButton}isValidStartEvent(i){return this._correctEvent(i)}isValidMoveEvent(i){return!function(d,y){const w=_r[y];return void 0===d.buttons||(d.buttons&w)!==w}(i,this._eventButton)}isValidEndEvent(i){return ne.mouseButton(i)===this._eventButton}}class V{constructor(){this._firstTouch=void 0}_isOneFingerTouch(i){return 1===i.targetTouches.length}_isSameTouchEvent(i){return i.targetTouches[0].identifier===this._firstTouch}startMove(i){this._firstTouch=i.targetTouches[0].identifier}endMove(i){delete this._firstTouch}isValidStartEvent(i){return this._isOneFingerTouch(i)}isValidMoveEvent(i){return this._isOneFingerTouch(i)&&this._isSameTouchEvent(i)}isValidEndEvent(i){return this._isOneFingerTouch(i)&&this._isSameTouchEvent(i)}}const Q=E=>{E.mousedown=E.dragStart,E.mousemoveWindow=E.dragMove,E.mouseup=E.dragEnd,E.contextmenu=function(i){i.preventDefault()}},$=({enable:E,clickTolerance:i,bearingDegreesPerPixelMoved:d=.8})=>{const y=new fi({checkCorrectEvent:w=>0===ne.mouseButton(w)&&w.ctrlKey||2===ne.mouseButton(w)});return new Gs({clickTolerance:i,move:(w,S)=>({bearingDelta:(S.x-w.x)*d}),moveStateManager:y,enable:E,assignEvents:Q})},fe=({enable:E,clickTolerance:i,pitchDegreesPerPixelMoved:d=-.5})=>{const y=new fi({checkCorrectEvent:w=>0===ne.mouseButton(w)&&w.ctrlKey||2===ne.mouseButton(w)});return new Gs({clickTolerance:i,move:(w,S)=>({pitchDelta:(S.y-w.y)*d}),moveStateManager:y,enable:E,assignEvents:Q})};class Ze{constructor(i,d){this._minTouches=i.cooperativeGestures?2:1,this._clickTolerance=i.clickTolerance||1,this._map=d,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new v.Point(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(i,d,y){return this._calculateTransform(i,d,y)}touchmove(i,d,y){if(this._map._cooperativeGestures&&(2===this._minTouches&&y.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(i,!1,y.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(y.length<this._minTouches))return i.preventDefault(),this._calculateTransform(i,d,y)}touchend(i,d,y){this._calculateTransform(i,d,y),this._active&&y.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(i,d,y){y.length>0&&(this._active=!0);const w=$s(y,d),S=new v.Point(0,0),f=new v.Point(0,0);let b=0;for(const D in w){const k=w[D],R=this._touches[D];R&&(S._add(k),f._add(k.sub(R)),b++,w[D]=k)}if(this._touches=w,b<this._minTouches||!f.mag())return;const _=f.div(b);return this._sum._add(_),this._sum.mag()<this._clickTolerance?void 0:{around:S.div(b),panDelta:_}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class kt{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(i,d,y){this._firstTwoTouches||y.length<2||(this._firstTwoTouches=[y[0].identifier,y[1].identifier],this._start([d[0],d[1]]))}touchmove(i,d,y){if(!this._firstTwoTouches)return;i.preventDefault();const[w,S]=this._firstTwoTouches,f=Wt(y,d,w),b=Wt(y,d,S);if(!f||!b)return;const _=this._aroundCenter?null:f.add(b).div(2);return this._move([f,b],_,i)}touchend(i,d,y){if(!this._firstTwoTouches)return;const[w,S]=this._firstTwoTouches,f=Wt(y,d,w),b=Wt(y,d,S);f&&b||(this._active&&ne.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(i){this._enabled=!0,this._aroundCenter=!!i&&"center"===i.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Wt(E,i,d){for(let y=0;y<E.length;y++)if(E[y].identifier===d)return i[y]}function qi(E,i){return Math.log(E/i)/Math.LN2}class tr extends kt{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(i){this._startDistance=this._distance=i[0].dist(i[1])}_move(i,d){const y=this._distance;if(this._distance=i[0].dist(i[1]),this._active||!(Math.abs(qi(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:qi(this._distance,y),pinchAround:d}}}function zn(E,i){return 180*E.angleWith(i)/Math.PI}class Bn extends kt{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(i){this._startVector=this._vector=i[0].sub(i[1]),this._minDiameter=i[0].dist(i[1])}_move(i,d){const y=this._vector;if(this._vector=i[0].sub(i[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:zn(this._vector,y),pinchAround:d}}_isBelowThreshold(i){this._minDiameter=Math.min(this._minDiameter,i.mag());const d=25/(Math.PI*this._minDiameter)*360,y=zn(i,this._startVector);return Math.abs(y)<d}}function Mn(E){return Math.abs(E.y)>Math.abs(E.x)}class Wn extends kt{constructor(i){super(),this._map=i}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(i,d,y){super.touchstart(i,d,y),this._currentTouchCount=y.length}_start(i){this._lastPoints=i,Mn(i[0].sub(i[1]))&&(this._valid=!1)}_move(i,d,y){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const w=i[0].sub(this._lastPoints[0]),S=i[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(w,S,y.timeStamp),this._valid?(this._lastPoints=i,this._active=!0,{pitchDelta:(w.y+S.y)/2*-.5}):void 0}gestureBeginsVertically(i,d,y){if(void 0!==this._valid)return this._valid;const w=i.mag()>=2,S=d.mag()>=2;if(!w&&!S)return;if(!w||!S)return void 0===this._firstMove&&(this._firstMove=y),y-this._firstMove<100&&void 0;const f=i.y>0==d.y>0;return Mn(i)&&Mn(d)&&f}}const mn={panStep:100,bearingStep:15,pitchStep:10};class Wr{constructor(i){this._tr=new Ya(i);const d=mn;this._panStep=d.panStep,this._bearingStep=d.bearingStep,this._pitchStep=d.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(i){if(i.altKey||i.ctrlKey||i.metaKey)return;let d=0,y=0,w=0,S=0,f=0;switch(i.keyCode){case 61:case 107:case 171:case 187:d=1;break;case 189:case 109:case 173:d=-1;break;case 37:i.shiftKey?y=-1:(i.preventDefault(),S=-1);break;case 39:i.shiftKey?y=1:(i.preventDefault(),S=1);break;case 38:i.shiftKey?w=1:(i.preventDefault(),f=-1);break;case 40:i.shiftKey?w=-1:(i.preventDefault(),f=1);break;default:return}return this._rotationDisabled&&(y=0,w=0),{cameraAnimation:b=>{const _=this._tr;b.easeTo({duration:300,easeId:"keyboardHandler",easing:Zs,zoom:d?Math.round(_.zoom)+d*(i.shiftKey?2:1):_.zoom,bearing:_.bearing+y*this._bearingStep,pitch:_.pitch+w*this._pitchStep,offset:[-S*this._panStep,-f*this._panStep],center:_.center},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Zs(E){return E*(2-E)}const Ki=4.000244140625;class ws{constructor(i,d){this._onTimeout=y=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(y)},this._map=i,this._tr=new Ya(i),this._el=i.getCanvasContainer(),this._triggerRenderFrame=d,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(i){this._defaultZoomRate=i}setWheelZoomRate(i){this._wheelZoomRate=i}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(i){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!i&&"center"===i.around)}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(i){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!i[this._map._metaKey])return;i.preventDefault()}let d=i.deltaMode===WheelEvent.DOM_DELTA_LINE?40*i.deltaY:i.deltaY;const y=v.browser.now(),w=y-(this._lastWheelEventTime||0);this._lastWheelEventTime=y,0!==d&&d%Ki==0?this._type="wheel":0!==d&&Math.abs(d)<4?this._type="trackpad":w>400?(this._type=null,this._lastValue=d,this._timeout=setTimeout(this._onTimeout,40,i)):this._type||(this._type=Math.abs(w*d)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,d+=this._lastValue)),i.shiftKey&&d&&(d/=4),this._type&&(this._lastWheelEvent=i,this._delta-=d,this._active||this._start(i)),i.preventDefault()}_start(i){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const d=ne.mousePos(this._el,i),y=this._tr;this._around=v.LngLat.convert(this._aroundCenter?y.center:y.unproject(d)),this._aroundPoint=y.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const i=this._tr.transform;if(0!==this._delta){const b="wheel"===this._type&&Math.abs(this._delta)>Ki?this._wheelZoomRate:this._defaultZoomRate;let _=2/(1+Math.exp(-Math.abs(this._delta*b)));this._delta<0&&0!==_&&(_=1/_);const D="number"==typeof this._targetZoom?i.zoomScale(this._targetZoom):i.scale;this._targetZoom=Math.min(i.maxZoom,Math.max(i.minZoom,i.scaleZoom(D*_))),"wheel"===this._type&&(this._startZoom=i.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const d="number"==typeof this._targetZoom?this._targetZoom:i.zoom,y=this._startZoom,w=this._easing;let S,f=!1;if("wheel"===this._type&&y&&w){const b=Math.min((v.browser.now()-this._lastWheelEventTime)/200,1),_=w(b);S=v.interpolate.number(y,d,_),b<1?this._frameId||(this._frameId=!0):f=!0}else S=d,f=!0;return this._active=!0,f&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!f,zoomDelta:S-i.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(i){let d=v.defaultEasing;if(this._prevEase){const y=this._prevEase,w=(v.browser.now()-y.start)/y.duration,S=y.easing(w+.01)-y.easing(w),f=.27/Math.sqrt(S*S+1e-4)*.01,b=Math.sqrt(.0729-f*f);d=v.bezier(f,b,.25,1)}return this._prevEase={start:v.browser.now(),duration:i,easing:d},d}reset(){this._active=!1}}class Cs{constructor(i,d){this._clickZoom=i,this._tapZoom=d}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class ir{constructor(i){this._tr=new Ya(i),this.reset()}reset(){this._active=!1}dblclick(i,d){return i.preventDefault(),{cameraAnimation:y=>{y.easeTo({duration:300,zoom:this._tr.zoom+(i.shiftKey?-1:1),around:this._tr.unproject(d)},{originalEvent:i})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class nr{constructor(){this._tap=new ts({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(i,d,y){if(!this._swipePoint)if(this._tapTime){const w=d[0],S=i.timeStamp-this._tapTime<500,f=this._tapPoint.dist(w)<30;S&&f?y.length>0&&(this._swipePoint=w,this._swipeTouch=y[0].identifier):this.reset()}else this._tap.touchstart(i,d,y)}touchmove(i,d,y){if(this._tapTime){if(this._swipePoint){if(y[0].identifier!==this._swipeTouch)return;const w=d[0],S=w.y-this._swipePoint.y;return this._swipePoint=w,i.preventDefault(),this._active=!0,{zoomDelta:S/128}}}else this._tap.touchmove(i,d,y)}touchend(i,d,y){if(this._tapTime)this._swipePoint&&0===y.length&&this.reset();else{const w=this._tap.touchend(i,d,y);w&&(this._tapTime=i.timeStamp,this._tapPoint=w)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ps{constructor(i,d,y){this._el=i,this._mousePan=d,this._touchPan=y}enable(i){this._inertiaOptions=i||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class hn{constructor(i,d,y){this._pitchWithRotate=i.pitchWithRotate,this._mouseRotate=d,this._mousePitch=y}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Ka{constructor(i,d,y,w){this._el=i,this._touchZoom=d,this._touchRotate=y,this._tapDragZoom=w,this._rotationDisabled=!1,this._enabled=!0}enable(i){this._touchZoom.enable(i),this._rotationDisabled||this._touchRotate.enable(i),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Dl=E=>E.zoom||E.drag||E.pitch||E.rotate;class Qc extends v.Event{}function ed(E){return E.panDelta&&E.panDelta.mag()||E.zoomDelta||E.bearingDelta||E.pitchDelta}class _a{constructor(i,d){this.handleWindowEvent=w=>{this.handleEvent(w,`${w.type}Window`)},this.handleEvent=(w,S)=>{if("blur"===w.type)return void this.stop(!0);this._updatingCamera=!0;const f="renderFrame"===w.type?void 0:w,b={needsRenderFrame:!1},_={},D={},k=w.touches,R=k?this._getMapTouches(k):void 0,z=R?ne.touchPos(this._el,R):ne.mousePos(this._el,w);for(const{handlerName:Me,handler:Ce,allowed:it}of this._handlers){if(!Ce.isEnabled())continue;let yt;this._blockedByActive(D,it,Me)?Ce.reset():Ce[S||w.type]&&(yt=Ce[S||w.type](w,z,R),this.mergeHandlerResult(b,_,yt,Me,f),yt&&yt.needsRenderFrame&&this._triggerRenderFrame()),(yt||Ce.isActive())&&(D[Me]=Ce)}const ee={};for(const Me in this._previousActiveHandlers)D[Me]||(ee[Me]=f);this._previousActiveHandlers=D,(Object.keys(ee).length||ed(b))&&(this._changes.push([b,_,ee]),this._triggerRenderFrame()),(Object.keys(D).length||ed(b))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:oe}=b;oe&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],oe(this._map))},this._map=i,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new xs(i),this._bearingSnap=d.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(d);const y=this._el;this._listeners=[[y,"touchstart",{passive:!0}],[y,"touchmove",{passive:!1}],[y,"touchend",void 0],[y,"touchcancel",void 0],[y,"mousedown",void 0],[y,"mousemove",void 0],[y,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[y,"mouseover",void 0],[y,"mouseout",void 0],[y,"dblclick",void 0],[y,"click",void 0],[y,"keydown",{capture:!1}],[y,"keyup",void 0],[y,"wheel",{passive:!1}],[y,"contextmenu",void 0],[window,"blur",void 0]];for(const[w,S,f]of this._listeners)ne.addEventListener(w,S,w===document?this.handleWindowEvent:this.handleEvent,f)}destroy(){for(const[i,d,y]of this._listeners)ne.removeEventListener(i,d,i===document?this.handleWindowEvent:this.handleEvent,y)}_addDefaultHandlers(i){const d=this._map,y=d.getCanvasContainer();this._add("mapEvent",new ro(d,i));const w=d.boxZoom=new Zl(d,i);this._add("boxZoom",w),i.interactive&&i.boxZoom&&w.enable();const S=new Ml(d),f=new ir(d);d.doubleClickZoom=new Cs(f,S),this._add("tapZoom",S),this._add("clickZoom",f),i.interactive&&i.doubleClickZoom&&d.doubleClickZoom.enable();const b=new nr;this._add("tapDragZoom",b);const _=d.touchPitch=new Wn(d);this._add("touchPitch",_),i.interactive&&i.touchPitch&&d.touchPitch.enable(i.touchPitch);const D=$(i),k=fe(i);d.dragRotate=new hn(i,D,k),this._add("mouseRotate",D,["mousePitch"]),this._add("mousePitch",k,["mouseRotate"]),i.interactive&&i.dragRotate&&d.dragRotate.enable();const R=(({enable:it,clickTolerance:yt})=>{const $e=new fi({checkCorrectEvent:ft=>0===ne.mouseButton(ft)&&!ft.ctrlKey});return new Gs({clickTolerance:yt,move:(ft,Ft)=>({around:Ft,panDelta:Ft.sub(ft)}),activateOnStart:!0,moveStateManager:$e,enable:it,assignEvents:Q})})(i),z=new Ze(i,d);d.dragPan=new ps(y,R,z),this._add("mousePan",R),this._add("touchPan",z,["touchZoom","touchRotate"]),i.interactive&&i.dragPan&&d.dragPan.enable(i.dragPan);const ee=new Bn,oe=new tr;d.touchZoomRotate=new Ka(y,oe,ee,b),this._add("touchRotate",ee,["touchPan","touchZoom"]),this._add("touchZoom",oe,["touchPan","touchRotate"]),i.interactive&&i.touchZoomRotate&&d.touchZoomRotate.enable(i.touchZoomRotate);const Me=d.scrollZoom=new ws(d,()=>this._triggerRenderFrame());this._add("scrollZoom",Me,["mousePan"]),i.interactive&&i.scrollZoom&&d.scrollZoom.enable(i.scrollZoom);const Ce=d.keyboard=new Wr(d);this._add("keyboard",Ce),i.interactive&&i.keyboard&&d.keyboard.enable(),this._add("blockableMapEvent",new El(d))}_add(i,d,y){this._handlers.push({handlerName:i,handler:d,allowed:y}),this._handlersById[i]=d}stop(i){if(!this._updatingCamera){for(const{handler:d}of this._handlers)d.reset();this._inertia.clear(),this._fireEvents({},{},i),this._changes=[]}}isActive(){for(const{handler:i}of this._handlers)if(i.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Dl(this._eventsInProgress)||this.isZooming()}_blockedByActive(i,d,y){for(const w in i)if(w!==y&&(!d||d.indexOf(w)<0))return!0;return!1}_getMapTouches(i){const d=[];for(const y of i)this._el.contains(y.target)&&d.push(y);return d}mergeHandlerResult(i,d,y,w,S){if(!y)return;v.extend(i,y);const f={handlerName:w,originalEvent:y.originalEvent||S};void 0!==y.zoomDelta&&(d.zoom=f),void 0!==y.panDelta&&(d.drag=f),void 0!==y.pitchDelta&&(d.pitch=f),void 0!==y.bearingDelta&&(d.rotate=f)}_applyChanges(){const i={},d={},y={};for(const[w,S,f]of this._changes)w.panDelta&&(i.panDelta=(i.panDelta||new v.Point(0,0))._add(w.panDelta)),w.zoomDelta&&(i.zoomDelta=(i.zoomDelta||0)+w.zoomDelta),w.bearingDelta&&(i.bearingDelta=(i.bearingDelta||0)+w.bearingDelta),w.pitchDelta&&(i.pitchDelta=(i.pitchDelta||0)+w.pitchDelta),void 0!==w.around&&(i.around=w.around),void 0!==w.pinchAround&&(i.pinchAround=w.pinchAround),w.noInertia&&(i.noInertia=w.noInertia),v.extend(d,S),v.extend(y,f);this._updateMapTransform(i,d,y),this._changes=[]}_updateMapTransform(i,d,y){const w=this._map,S=w._getTransformForUpdate(),f=w.terrain;if(!(ed(i)||f&&this._terrainMovement))return this._fireEvents(d,y,!0);let{panDelta:b,zoomDelta:_,bearingDelta:D,pitchDelta:k,around:R,pinchAround:z}=i;void 0!==z&&(R=z),w._stop(!0),R=R||w.transform.centerPoint;const ee=S.pointLocation(b?R.sub(b):R);D&&(S.bearing+=D),k&&(S.pitch+=k),_&&(S.zoom+=_),f?this._terrainMovement||!d.drag&&!d.zoom?d.drag&&this._terrainMovement?S.center=S.pointLocation(S.centerPoint.sub(b)):S.setLocationAtPoint(ee,R):(this._terrainMovement=!0,S.freezeElevation=!0,S.setLocationAtPoint(ee,R),this._map.once("moveend",()=>{S.freezeElevation=!1,this._terrainMovement=!1,S.recalculateZoom(w.terrain)})):S.setLocationAtPoint(ee,R),w._applyUpdatedTransform(S),this._map._update(),i.noInertia||this._inertia.record(i),this._fireEvents(d,y,!0)}_fireEvents(i,d,y){const w=Dl(this._eventsInProgress),S=Dl(i),f={};for(const k in i){const{originalEvent:R}=i[k];this._eventsInProgress[k]||(f[`${k}start`]=R),this._eventsInProgress[k]=i[k]}!w&&S&&this._fireEvent("movestart",S.originalEvent);for(const k in f)this._fireEvent(k,f[k]);S&&this._fireEvent("move",S.originalEvent);for(const k in i){const{originalEvent:R}=i[k];this._fireEvent(k,R)}const b={};let _;for(const k in this._eventsInProgress){const{handlerName:R,originalEvent:z}=this._eventsInProgress[k];this._handlersById[R].isActive()||(delete this._eventsInProgress[k],_=d[R]||z,b[`${k}end`]=_)}for(const k in b)this._fireEvent(k,b[k]);const D=Dl(this._eventsInProgress);if(y&&(w||S)&&!D){this._updatingCamera=!0;const k=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),R=z=>0!==z&&-this._bearingSnap<z&&z<this._bearingSnap;k?(R(k.bearing||this._map.getBearing())&&(k.bearing=0),k.freezeElevation=!0,this._map.easeTo(k,{originalEvent:_})):(this._map.fire(new v.Event("moveend",{originalEvent:_})),R(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(i,d){this._map.fire(new v.Event(i,d?{originalEvent:d}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(i=>{delete this._frameId,this.handleEvent(new Qc("renderFrame",{timeStamp:i})),this._applyChanges()})}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}class is extends v.Evented{constructor(i,d){super(),this._renderFrameCallback=()=>{const y=Math.min((v.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(y)),y<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=i,this._bearingSnap=d.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new v.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(i,d){return this.jumpTo({center:i},d)}panBy(i,d,y){return i=v.Point.convert(i).mult(-1),this.panTo(this.transform.center,v.extend({offset:i},d),y)}panTo(i,d,y){return this.easeTo(v.extend({center:i},d),y)}getZoom(){return this.transform.zoom}setZoom(i,d){return this.jumpTo({zoom:i},d),this}zoomTo(i,d,y){return this.easeTo(v.extend({zoom:i},d),y)}zoomIn(i,d){return this.zoomTo(this.getZoom()+1,i,d),this}zoomOut(i,d){return this.zoomTo(this.getZoom()-1,i,d),this}getBearing(){return this.transform.bearing}setBearing(i,d){return this.jumpTo({bearing:i},d),this}getPadding(){return this.transform.padding}setPadding(i,d){return this.jumpTo({padding:i},d),this}rotateTo(i,d,y){return this.easeTo(v.extend({bearing:i},d),y)}resetNorth(i,d){return this.rotateTo(0,v.extend({duration:1e3},i),d),this}resetNorthPitch(i,d){return this.easeTo(v.extend({bearing:0,pitch:0,duration:1e3},i),d),this}snapToNorth(i,d){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(i,d):this}getPitch(){return this.transform.pitch}setPitch(i,d){return this.jumpTo({pitch:i},d),this}cameraForBounds(i,d){i=gt.convert(i);const y=d&&d.bearing||0;return this._cameraForBoxAndBearing(i.getNorthWest(),i.getSouthEast(),y,d)}_cameraForBoxAndBearing(i,d,y,w){const S={top:0,bottom:0,right:0,left:0};if("number"==typeof(w=v.extend({padding:S,offset:[0,0],maxZoom:this.transform.maxZoom},w)).padding){const Ft=w.padding;w.padding={top:Ft,bottom:Ft,right:Ft,left:Ft}}w.padding=v.extend(S,w.padding);const f=this.transform,b=f.padding,_=f.project(v.LngLat.convert(i)),D=f.project(v.LngLat.convert(d)),k=_.rotate(-y*Math.PI/180),R=D.rotate(-y*Math.PI/180),z=new v.Point(Math.max(k.x,R.x),Math.max(k.y,R.y)),ee=new v.Point(Math.min(k.x,R.x),Math.min(k.y,R.y)),oe=z.sub(ee),Me=(f.width-(b.left+b.right+w.padding.left+w.padding.right))/oe.x,Ce=(f.height-(b.top+b.bottom+w.padding.top+w.padding.bottom))/oe.y;if(Ce<0||Me<0)return void v.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const it=Math.min(f.scaleZoom(f.scale*Math.min(Me,Ce)),w.maxZoom),yt=v.Point.convert(w.offset),$e=new v.Point((w.padding.left-w.padding.right)/2,(w.padding.top-w.padding.bottom)/2).rotate(y*Math.PI/180),ft=yt.add($e).mult(f.scale/f.zoomScale(it));return{center:f.unproject(_.add(D).div(2).sub(ft)),zoom:it,bearing:y}}fitBounds(i,d,y){return this._fitInternal(this.cameraForBounds(i,d),d,y)}fitScreenCoordinates(i,d,y,w,S){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(v.Point.convert(i)),this.transform.pointLocation(v.Point.convert(d)),y,w),w,S)}_fitInternal(i,d,y){return i?(delete(d=v.extend(i,d)).padding,d.linear?this.easeTo(d,y):this.flyTo(d,y)):this}jumpTo(i,d){this.stop();const y=this._getTransformForUpdate();let w=!1,S=!1,f=!1;return"zoom"in i&&y.zoom!==+i.zoom&&(w=!0,y.zoom=+i.zoom),void 0!==i.center&&(y.center=v.LngLat.convert(i.center)),"bearing"in i&&y.bearing!==+i.bearing&&(S=!0,y.bearing=+i.bearing),"pitch"in i&&y.pitch!==+i.pitch&&(f=!0,y.pitch=+i.pitch),null==i.padding||y.isPaddingEqual(i.padding)||(y.padding=i.padding),this._applyUpdatedTransform(y),this.fire(new v.Event("movestart",d)).fire(new v.Event("move",d)),w&&this.fire(new v.Event("zoomstart",d)).fire(new v.Event("zoom",d)).fire(new v.Event("zoomend",d)),S&&this.fire(new v.Event("rotatestart",d)).fire(new v.Event("rotate",d)).fire(new v.Event("rotateend",d)),f&&this.fire(new v.Event("pitchstart",d)).fire(new v.Event("pitch",d)).fire(new v.Event("pitchend",d)),this.fire(new v.Event("moveend",d))}calculateCameraOptionsFromTo(i,d,y,w=0){const S=v.MercatorCoordinate.fromLngLat(i,d),f=v.MercatorCoordinate.fromLngLat(y,w),b=f.x-S.x,_=f.y-S.y,D=f.z-S.z,k=Math.hypot(b,_,D);if(0===k)throw new Error("Can't calculate camera options with same From and To");const R=Math.hypot(b,_),z=this.transform.scaleZoom(this.transform.cameraToCenterDistance/k/this.transform.tileSize),ee=180*Math.atan2(b,-_)/Math.PI;let oe=180*Math.acos(R/k)/Math.PI;return oe=D<0?90-oe:90+oe,{center:f.toLngLat(),zoom:z,pitch:oe,bearing:ee}}easeTo(i,d){this._stop(!1,i.easeId),(!1===(i=v.extend({offset:[0,0],duration:500,easing:v.defaultEasing},i)).animate||!i.essential&&v.browser.prefersReducedMotion)&&(i.duration=0);const y=this._getTransformForUpdate(),w=this.getZoom(),S=this.getBearing(),f=this.getPitch(),b=this.getPadding(),_="zoom"in i?+i.zoom:w,D="bearing"in i?this._normalizeBearing(i.bearing,S):S,k="pitch"in i?+i.pitch:f,R="padding"in i?i.padding:y.padding,z=v.Point.convert(i.offset);let ee=y.centerPoint.add(z);const oe=y.pointLocation(ee),Me=v.LngLat.convert(i.center||oe);this._normalizeCenter(Me);const Ce=y.project(oe),it=y.project(Me).sub(Ce),yt=y.zoomScale(_-w);let $e,ft;i.around&&($e=v.LngLat.convert(i.around),ft=y.locationPoint($e));const Ft={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||_!==w,this._rotating=this._rotating||S!==D,this._pitching=this._pitching||k!==f,this._padding=!y.isPaddingEqual(R),this._easeId=i.easeId,this._prepareEase(d,i.noMoveStart,Ft),this.terrain&&this._prepareElevation(Me),this._ease(Zt=>{if(this._zooming&&(y.zoom=v.interpolate.number(w,_,Zt)),this._rotating&&(y.bearing=v.interpolate.number(S,D,Zt)),this._pitching&&(y.pitch=v.interpolate.number(f,k,Zt)),this._padding&&(y.interpolatePadding(b,R,Zt),ee=y.centerPoint.add(z)),this.terrain&&!i.freezeElevation&&this._updateElevation(Zt),$e)y.setLocationAtPoint($e,ft);else{const Gt=y.zoomScale(y.zoom-w),Qt=_>w?Math.min(2,yt):Math.max(.5,yt),Xt=Math.pow(Qt,1-Zt),Ei=y.unproject(Ce.add(it.mult(Zt*Xt)).mult(Gt));y.setLocationAtPoint(y.renderWorldCopies?Ei.wrap():Ei,ee)}this._applyUpdatedTransform(y),this._fireMoveEvents(d)},Zt=>{this.terrain&&this._finalizeElevation(),this._afterEase(d,Zt)},i),this}_prepareEase(i,d,y={}){this._moving=!0,d||y.moving||this.fire(new v.Event("movestart",i)),this._zooming&&!y.zooming&&this.fire(new v.Event("zoomstart",i)),this._rotating&&!y.rotating&&this.fire(new v.Event("rotatestart",i)),this._pitching&&!y.pitching&&this.fire(new v.Event("pitchstart",i))}_prepareElevation(i){this._elevationCenter=i,this._elevationStart=this.transform.elevation,this._elevationTarget=this.transform.getElevation(i,this.terrain),this.transform.freezeElevation=!0}_updateElevation(i){const d=this.transform.getElevation(this._elevationCenter,this.terrain);if(i<1&&d!==this._elevationTarget){const y=this._elevationTarget-this._elevationStart;this._elevationStart+=i*(y-(d-(y*i+this._elevationStart))/(1-i)),this._elevationTarget=d}this.transform.elevation=v.interpolate.number(this._elevationStart,this._elevationTarget,i)}_finalizeElevation(){this.transform.freezeElevation=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(i){if(!this.transformCameraUpdate)return;const d=i.clone(),{center:y,zoom:w,pitch:S,bearing:f,elevation:b}=this.transformCameraUpdate(d);y&&(d.center=y),void 0!==w&&(d.zoom=w),void 0!==S&&(d.pitch=S),void 0!==f&&(d.bearing=f),void 0!==b&&(d.elevation=b),this.transform.apply(d)}_fireMoveEvents(i){this.fire(new v.Event("move",i)),this._zooming&&this.fire(new v.Event("zoom",i)),this._rotating&&this.fire(new v.Event("rotate",i)),this._pitching&&this.fire(new v.Event("pitch",i))}_afterEase(i,d){if(this._easeId&&d&&this._easeId===d)return;delete this._easeId;const y=this._zooming,w=this._rotating,S=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,y&&this.fire(new v.Event("zoomend",i)),w&&this.fire(new v.Event("rotateend",i)),S&&this.fire(new v.Event("pitchend",i)),this.fire(new v.Event("moveend",i))}flyTo(i,d){if(!i.essential&&v.browser.prefersReducedMotion){const ki=v.pick(i,["center","zoom","bearing","pitch","around"]);return this.jumpTo(ki,d)}this.stop(),i=v.extend({offset:[0,0],speed:1.2,curve:1.42,easing:v.defaultEasing},i);const y=this._getTransformForUpdate(),w=this.getZoom(),S=this.getBearing(),f=this.getPitch(),b=this.getPadding(),_="zoom"in i?v.clamp(+i.zoom,y.minZoom,y.maxZoom):w,D="bearing"in i?this._normalizeBearing(i.bearing,S):S,k="pitch"in i?+i.pitch:f,R="padding"in i?i.padding:y.padding,z=y.zoomScale(_-w),ee=v.Point.convert(i.offset);let oe=y.centerPoint.add(ee);const Me=y.pointLocation(oe),Ce=v.LngLat.convert(i.center||Me);this._normalizeCenter(Ce);const it=y.project(Me),yt=y.project(Ce).sub(it);let $e=i.curve;const ft=Math.max(y.width,y.height),Ft=ft/z,Zt=yt.mag();if("minZoom"in i){const ki=v.clamp(Math.min(i.minZoom,w,_),y.minZoom,y.maxZoom),sr=ft/y.zoomScale(ki-w);$e=Math.sqrt(sr/Zt*2)}const Gt=$e*$e;function Qt(ki){const sr=(Ft*Ft-ft*ft+(ki?-1:1)*Gt*Gt*Zt*Zt)/(2*(ki?Ft:ft)*Gt*Zt);return Math.log(Math.sqrt(sr*sr+1)-sr)}function Xt(ki){return(Math.exp(ki)-Math.exp(-ki))/2}function Ei(ki){return(Math.exp(ki)+Math.exp(-ki))/2}const ji=Qt(!1);let xn=function(ki){return Ei(ji)/Ei(ji+$e*ki)},bi=function(ki){return ft*((Ei(ji)*(Xt(sr=ji+$e*ki)/Ei(sr))-Xt(ji))/Gt)/Zt;var sr},tn=(Qt(!0)-ji)/$e;if(Math.abs(Zt)<1e-6||!isFinite(tn)){if(Math.abs(ft-Ft)<1e-6)return this.easeTo(i,d);const ki=Ft<ft?-1:1;tn=Math.abs(Math.log(Ft/ft))/$e,bi=function(){return 0},xn=function(sr){return Math.exp(ki*$e*sr)}}return i.duration="duration"in i?+i.duration:1e3*tn/("screenSpeed"in i?+i.screenSpeed/$e:+i.speed),i.maxDuration&&i.duration>i.maxDuration&&(i.duration=0),this._zooming=!0,this._rotating=S!==D,this._pitching=k!==f,this._padding=!y.isPaddingEqual(R),this._prepareEase(d,!1),this.terrain&&this._prepareElevation(Ce),this._ease(ki=>{const sr=ki*tn,Xn=1/xn(sr);y.zoom=1===ki?_:w+y.scaleZoom(Xn),this._rotating&&(y.bearing=v.interpolate.number(S,D,ki)),this._pitching&&(y.pitch=v.interpolate.number(f,k,ki)),this._padding&&(y.interpolatePadding(b,R,ki),oe=y.centerPoint.add(ee)),this.terrain&&!i.freezeElevation&&this._updateElevation(ki);const An=1===ki?Ce:y.unproject(it.add(yt.mult(bi(sr))).mult(Xn));y.setLocationAtPoint(y.renderWorldCopies?An.wrap():An,oe),this._applyUpdatedTransform(y),this._fireMoveEvents(d)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(d)},i),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(i,d){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const y=this._onEaseEnd;delete this._onEaseEnd,y.call(this,d)}if(!i){const y=this.handlers;y&&y.stop(!1)}return this}_ease(i,d,y){!1===y.animate||0===y.duration?(i(1),d()):(this._easeStart=v.browser.now(),this._easeOptions=y,this._onEaseFrame=i,this._onEaseEnd=d,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(i,d){i=v.wrap(i,-180,180);const y=Math.abs(i-d);return Math.abs(i-360-d)<y&&(i-=360),Math.abs(i+360-d)<y&&(i+=360),i}_normalizeCenter(i){const d=this.transform;if(!d.renderWorldCopies||d.lngRange)return;const y=i.lng-d.center.lng;i.lng+=y>180?-360:y<-180?360:0}queryTerrainElevation(i){return this.terrain?this.transform.getElevation(v.LngLat.convert(i),this.terrain)-this.transform.elevation:null}}class wt{constructor(i={}){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=d=>{!d||"metadata"!==d.sourceDataType&&"visibility"!==d.sourceDataType&&"style"!==d.dataType&&"terrain"!==d.type||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1===this._compact?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=i}getDefaultPosition(){return"bottom-right"}onAdd(i){return this._map=i,this._compact=this.options&&this.options.compact,this._container=ne.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=ne.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=ne.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){ne.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(i,d){const y=this._map._getUIString(`AttributionControl.${d}`);i.title=y,i.setAttribute("aria-label",y)}_updateAttributions(){if(!this._map.style)return;let i=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?i=i.concat(this.options.customAttribution.map(w=>"string"!=typeof w?"":w)):"string"==typeof this.options.customAttribution&&i.push(this.options.customAttribution)),this._map.style.stylesheet){const w=this._map.style.stylesheet;this.styleOwner=w.owner,this.styleId=w.id}const d=this._map.style.sourceCaches;for(const w in d){const S=d[w];if(S.used||S.usedForTerrain){const f=S.getSource();f.attribution&&i.indexOf(f.attribution)<0&&i.push(f.attribution)}}i=i.filter(w=>String(w).trim()),i.sort((w,S)=>w.length-S.length),i=i.filter((w,S)=>{for(let f=S+1;f<i.length;f++)if(i[f].indexOf(w)>=0)return!1;return!0});const y=i.join(" | ");y!==this._attribHTML&&(this._attribHTML=y,i.length?(this._innerContainer.innerHTML=y,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class gi{constructor(i={}){this._updateCompact=()=>{const d=this._container.children;if(d.length){const y=d[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1!==this._compact&&y.classList.add("maplibregl-compact"):y.classList.remove("maplibregl-compact")}},this.options=i}getDefaultPosition(){return"bottom-left"}onAdd(i){this._map=i,this._compact=this.options&&this.options.compact,this._container=ne.create("div","maplibregl-ctrl");const d=ne.create("a","maplibregl-ctrl-logo");return d.target="_blank",d.rel="noopener nofollow",d.href="https://maplibre.org/",d.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),d.setAttribute("rel","noopener nofollow"),this._container.appendChild(d),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){ne.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class ll{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(i){const d=++this._id;return this._queue.push({callback:i,id:d,cancelled:!1}),d}remove(i){const d=this._currentlyRunning,y=d?this._queue.concat(d):this._queue;for(const w of y)if(w.id===i)return void(w.cancelled=!0)}run(i=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const d=this._currentlyRunning=this._queue;this._queue=[];for(const y of d)if(!y.cancelled&&(y.callback(i),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const Ws={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"};var wo=v.createLayout([{name:"a_pos3d",type:"Int16",components:3}]);class Io extends v.Evented{constructor(i){super(),this.sourceCache=i,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,i.usedForTerrain=!0,i.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(i,d){this.sourceCache.update(i,d),this._renderableTilesKeys=[];const y={};for(const w of i.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:d}))y[w.key]=!0,this._renderableTilesKeys.push(w.key),this._tiles[w.key]||(w.posMatrix=new Float64Array(16),v.ortho(w.posMatrix,0,v.EXTENT,0,v.EXTENT,0,1),this._tiles[w.key]=new Dt(w,this.tileSize));for(const w in this._tiles)y[w]||delete this._tiles[w]}freeRtt(i){for(const d in this._tiles){const y=this._tiles[d];(!i||y.tileID.equals(i)||y.tileID.isChildOf(i)||i.isChildOf(y.tileID))&&(y.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(i=>this.getTileByID(i))}getTileByID(i){return this._tiles[i]}getTerrainCoords(i){const d={};for(const y of this._renderableTilesKeys){const w=this._tiles[y].tileID;if(w.canonical.equals(i.canonical)){const S=i.clone();S.posMatrix=new Float64Array(16),v.ortho(S.posMatrix,0,v.EXTENT,0,v.EXTENT,0,1),d[y]=S}else if(w.canonical.isChildOf(i.canonical)){const S=i.clone();S.posMatrix=new Float64Array(16);const f=w.canonical.z-i.canonical.z,b=w.canonical.x-(w.canonical.x>>f<<f),_=w.canonical.y-(w.canonical.y>>f<<f),D=v.EXTENT>>f;v.ortho(S.posMatrix,0,D,0,D,0,1),v.translate(S.posMatrix,S.posMatrix,[-b*D,-_*D,0]),d[y]=S}else if(i.canonical.isChildOf(w.canonical)){const S=i.clone();S.posMatrix=new Float64Array(16);const f=i.canonical.z-w.canonical.z,b=i.canonical.x-(i.canonical.x>>f<<f),_=i.canonical.y-(i.canonical.y>>f<<f),D=v.EXTENT>>f;v.ortho(S.posMatrix,0,v.EXTENT,0,v.EXTENT,0,1),v.translate(S.posMatrix,S.posMatrix,[b*D,_*D,0]),v.scale(S.posMatrix,S.posMatrix,[1/2**f,1/2**f,0]),d[y]=S}}return d}getSourceTile(i,d){const y=this.sourceCache._source;let w=i.overscaledZ-this.deltaZoom;if(w>y.maxzoom&&(w=y.maxzoom),w<y.minzoom)return null;this._sourceTileCache[i.key]||(this._sourceTileCache[i.key]=i.scaledTo(w).key);let S=this.sourceCache.getTileByID(this._sourceTileCache[i.key]);if((!S||!S.dem)&&d)for(;w>=y.minzoom&&(!S||!S.dem);)S=this.sourceCache.getTileByID(i.scaledTo(w--).key);return S}tilesAfterTime(i=Date.now()){return Object.values(this._tiles).filter(d=>d.timeAdded>=i)}}class Wl{constructor(i,d,y){this.painter=i,this.sourceCache=new Io(d),this.options=y,this.exaggeration="number"==typeof y.exaggeration?y.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(i,d,y,w=v.EXTENT){var S;if(!(d>=0&&d<w&&y>=0&&y<w))return 0;const f=this.getTerrainData(i),b=null===(S=f.tile)||void 0===S?void 0:S.dem;if(!b)return 0;const _=((oe=[])[0]=(Ce=f.u_terrain_matrix)[0]*(it=(Me=[d/w*v.EXTENT,y/w*v.EXTENT])[0])+Ce[4]*(yt=Me[1])+Ce[12],oe[1]=Ce[1]*it+Ce[5]*yt+Ce[13],oe),D=[_[0]*b.dim,_[1]*b.dim],k=Math.floor(D[0]),R=Math.floor(D[1]),z=D[0]-k,ee=D[1]-R;var oe,Me,Ce,it,yt;return b.get(k,R)*(1-z)*(1-ee)+b.get(k+1,R)*z*(1-ee)+b.get(k,R+1)*(1-z)*ee+b.get(k+1,R+1)*z*ee}getElevation(i,d,y,w=v.EXTENT){return this.getDEMElevation(i,d,y,w)*this.exaggeration}getTerrainData(i){if(!this._emptyDemTexture){const w=this.painter.context,S=new v.RGBAImage({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new Ae(w,S,w.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new Ae(w,new v.RGBAImage({width:1,height:1}),w.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(w.gl.NEAREST,w.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=v.identity([])}const d=this.sourceCache.getSourceTile(i,!0);if(d&&d.dem&&(!d.demTexture||d.needsTerrainPrepare)){const w=this.painter.context;d.demTexture=this.painter.getTileTexture(d.dem.stride),d.demTexture?d.demTexture.update(d.dem.getPixels(),{premultiply:!1}):d.demTexture=new Ae(w,d.dem.getPixels(),w.gl.RGBA,{premultiply:!1}),d.demTexture.bind(w.gl.NEAREST,w.gl.CLAMP_TO_EDGE),d.needsTerrainPrepare=!1}const y=d&&d+d.tileID.key+i.key;if(y&&!this._demMatrixCache[y]){const w=this.sourceCache.sourceCache._source.maxzoom;let S=i.canonical.z-d.tileID.canonical.z;i.overscaledZ>i.canonical.z&&(i.canonical.z>=w?S=i.canonical.z-w:v.warnOnce("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const f=i.canonical.x-(i.canonical.x>>S<<S),b=i.canonical.y-(i.canonical.y>>S<<S),_=v.fromScaling(new Float64Array(16),[1/(v.EXTENT<<S),1/(v.EXTENT<<S),0]);v.translate(_,_,[f*v.EXTENT,b*v.EXTENT,0]),this._demMatrixCache[i.key]={matrix:_,coord:i}}return{u_depth:2,u_terrain:3,u_terrain_dim:d&&d.dem&&d.dem.dim||1,u_terrain_matrix:y?this._demMatrixCache[i.key].matrix:this._emptyDemMatrix,u_terrain_unpack:d&&d.dem&&d.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(d&&d.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:d}}getFramebuffer(i){const d=this.painter,y=d.width/devicePixelRatio,w=d.height/devicePixelRatio;return!this._fbo||this._fbo.width===y&&this._fbo.height===w||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new Ae(d.context,{width:y,height:w,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new Ae(d.context,{width:y,height:w,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=d.context.createFramebuffer(y,w,!0,!1),this._fbo.depthAttachment.set(d.context.createRenderbuffer(d.context.gl.DEPTH_COMPONENT16,y,w))),this._fbo.colorAttachment.set("coords"===i?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const i=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const d=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let S=0,f=0;S<this._coordsTextureSize;S++)for(let b=0;b<this._coordsTextureSize;b++,f+=4)d[f+0]=255&b,d[f+1]=255&S,d[f+2]=b>>8<<4|S>>8,d[f+3]=0;const y=new v.RGBAImage({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(d.buffer)),w=new Ae(i,y,i.gl.RGBA,{premultiply:!1});return w.bind(i.gl.NEAREST,i.gl.CLAMP_TO_EDGE),this._coordsTexture=w,w}pointCoordinate(i){const d=new Uint8Array(4),y=this.painter.context,w=y.gl;y.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),w.readPixels(i.x,this.painter.height/devicePixelRatio-i.y-1,1,1,w.RGBA,w.UNSIGNED_BYTE,d),y.bindFramebuffer.set(null);const S=d[0]+(d[2]>>4<<8),f=d[1]+((15&d[2])<<8),b=this.coordsIndex[255-d[3]],_=b&&this.sourceCache.getTileByID(b);if(!_)return null;const D=this._coordsTextureSize,k=(1<<_.tileID.canonical.z)*D;return new v.MercatorCoordinate((_.tileID.canonical.x*D+S)/k,(_.tileID.canonical.y*D+f)/k,this.getElevation(_.tileID,S,f,D))}getTerrainMesh(){if(this._mesh)return this._mesh;const i=this.painter.context,d=new v.Pos3dArray,y=new v.TriangleIndexArray,w=this.meshSize,S=v.EXTENT/w,f=w*w;for(let R=0;R<=w;R++)for(let z=0;z<=w;z++)d.emplaceBack(z*S,R*S,0);for(let R=0;R<f;R+=w+1)for(let z=0;z<w;z++)y.emplaceBack(z+R,w+z+R+1,w+z+R+2),y.emplaceBack(z+R,w+z+R+2,z+R+1);const b=d.length,_=b+2*(w+1);for(const R of[0,1])for(let z=0;z<=w;z++)for(const ee of[0,1])d.emplaceBack(z*S,R*v.EXTENT,ee);for(let R=0;R<2*w;R+=2)y.emplaceBack(_+R,_+R+1,_+R+3),y.emplaceBack(_+R,_+R+3,_+R+2),y.emplaceBack(b+R,b+R+3,b+R+1),y.emplaceBack(b+R,b+R+2,b+R+3);const D=d.length,k=D+2*(w+1);for(const R of[0,1])for(let z=0;z<=w;z++)for(const ee of[0,1])d.emplaceBack(R*v.EXTENT,z*S,ee);for(let R=0;R<2*w;R+=2)y.emplaceBack(D+R,D+R+1,D+R+3),y.emplaceBack(D+R,D+R+3,D+R+2),y.emplaceBack(k+R,k+R+3,k+R+1),y.emplaceBack(k+R,k+R+2,k+R+3);return this._mesh={indexBuffer:i.createIndexBuffer(y),vertexBuffer:i.createVertexBuffer(d,wo.members),segments:v.SegmentVector.simpleSegment(0,0,d.length,y.length)},this._mesh}getMeshFrameDelta(i){return 2*Math.PI*v.earthRadius/Math.pow(2,i)/5}getMinMaxElevation(i){const d=this.getTerrainData(i).tile,y={minElevation:null,maxElevation:null};return d&&d.dem&&(y.minElevation=d.dem.min*this.exaggeration,y.maxElevation=d.dem.max*this.exaggeration),y}}class Ao{constructor(i,d,y){this._context=i,this._size=d,this._tileSize=y,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const i of this._objects)i.texture.destroy(),i.fbo.destroy()}_createObject(i){const d=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),y=new Ae(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return y.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),d.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),d.colorAttachment.set(y.texture),{id:i,fbo:d,texture:y,stamp:-1,inUse:!1}}getObjectForId(i){return this._objects[i]}useObject(i){i.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(d=>i.id!==d),this._recentlyUsed.push(i.id)}stampObject(i){i.stamp=++this._stamp}getOrCreateFreeObject(){for(const d of this._recentlyUsed)if(!this._objects[d].inUse)return this._objects[d];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const i=this._createObject(this._objects.length);return this._objects.push(i),i}freeObject(i){i.inUse=!1}freeAllObjects(){for(const i of this._objects)this.freeObject(i)}isFull(){return!(this._objects.length<this._size)&&!1===this._objects.some(i=>!i.inUse)}}const Pa={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class cl{constructor(i,d){this.painter=i,this.terrain=d,this.pool=new Ao(i.context,30,d.sourceCache.tileSize*d.qualityFactor)}destruct(){this.pool.destruct()}getTexture(i){return this.pool.getObjectForId(i.rtt[this._stacks.length-1].id).texture}prepareForRender(i,d){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=i._order.filter(y=>!i._layers[y].isHidden(d)),this._coordsDescendingInv={};for(const y in i.sourceCaches){this._coordsDescendingInv[y]={};const w=i.sourceCaches[y].getVisibleCoordinates();for(const S of w){const f=this.terrain.sourceCache.getTerrainCoords(S);for(const b in f)this._coordsDescendingInv[y][b]||(this._coordsDescendingInv[y][b]=[]),this._coordsDescendingInv[y][b].push(f[b])}}this._coordsDescendingInvStr={};for(const y of i._order){const w=i._layers[y],S=w.source;if(Pa[w.type]&&!this._coordsDescendingInvStr[S]){this._coordsDescendingInvStr[S]={};for(const f in this._coordsDescendingInv[S])this._coordsDescendingInvStr[S][f]=this._coordsDescendingInv[S][f].map(b=>b.key).sort().join()}}for(const y of this._renderableTiles)for(const w in this._coordsDescendingInvStr){const S=this._coordsDescendingInvStr[w][y.tileID.key];S&&S!==y.rttCoords[w]&&(y.rtt=[])}}renderLayer(i){if(i.isHidden(this.painter.transform.zoom))return!1;const d=i.type,y=this.painter,w=this._renderableLayerIds[this._renderableLayerIds.length-1]===i.id;if(Pa[d]&&(this._prevType&&Pa[this._prevType]||this._stacks.push([]),this._prevType=d,this._stacks[this._stacks.length-1].push(i.id),!w))return!0;if(Pa[this._prevType]||Pa[d]&&w){this._prevType=d;const S=this._stacks.length-1,f=this._stacks[S]||[];for(const b of this._renderableTiles){if(this.pool.isFull()&&(ka(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(b),b.rtt[S]){const D=this.pool.getObjectForId(b.rtt[S].id);if(D.stamp===b.rtt[S].stamp){this.pool.useObject(D);continue}}const _=this.pool.getOrCreateFreeObject();this.pool.useObject(_),this.pool.stampObject(_),b.rtt[S]={id:_.id,stamp:_.stamp},y.context.bindFramebuffer.set(_.fbo.framebuffer),y.context.clear({color:v.Color.transparent,stencil:0}),y.currentStencilSource=void 0;for(let D=0;D<f.length;D++){const k=y.style._layers[f[D]],R=k.source?this._coordsDescendingInv[k.source][b.tileID.key]:[b.tileID];y.context.viewport.set([0,0,_.fbo.width,_.fbo.height]),y._renderTileClippingMasks(k,R),y.renderLayer(y,y.style.sourceCaches[k.source],k,R),k.source&&(b.rttCoords[k.source]=this._coordsDescendingInvStr[k.source][b.tileID.key])}}return ka(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),Pa[d]}return!1}}const Co={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:v.config.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},lc=E=>{E.touchstart=E.dragStart,E.touchmoveWindow=E.dragMove,E.touchend=E.dragEnd},ko={showCompass:!0,showZoom:!0,visualizePitch:!1};class fs{constructor(i,d,y=!1){this.mousedown=f=>{this.startMouse(v.extend({},f,{ctrlKey:!0,preventDefault:()=>f.preventDefault()}),ne.mousePos(this.element,f)),ne.addEventListener(window,"mousemove",this.mousemove),ne.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=f=>{this.moveMouse(f,ne.mousePos(this.element,f))},this.mouseup=f=>{this.mouseRotate.dragEnd(f),this.mousePitch&&this.mousePitch.dragEnd(f),this.offTemp()},this.touchstart=f=>{1!==f.targetTouches.length?this.reset():(this._startPos=this._lastPos=ne.touchPos(this.element,f.targetTouches)[0],this.startTouch(f,this._startPos),ne.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),ne.addEventListener(window,"touchend",this.touchend))},this.touchmove=f=>{1!==f.targetTouches.length?this.reset():(this._lastPos=ne.touchPos(this.element,f.targetTouches)[0],this.moveTouch(f,this._lastPos))},this.touchend=f=>{0===f.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const w=i.dragRotate._mouseRotate.getClickTolerance(),S=i.dragRotate._mousePitch.getClickTolerance();this.element=d,this.mouseRotate=$({clickTolerance:w,enable:!0}),this.touchRotate=(({enable:f,clickTolerance:b,bearingDegreesPerPixelMoved:_=.8})=>{const D=new V;return new Gs({clickTolerance:b,move:(k,R)=>({bearingDelta:(R.x-k.x)*_}),moveStateManager:D,enable:f,assignEvents:lc})})({clickTolerance:w,enable:!0}),this.map=i,y&&(this.mousePitch=fe({clickTolerance:S,enable:!0}),this.touchPitch=(({enable:f,clickTolerance:b,pitchDegreesPerPixelMoved:_=-.5})=>{const D=new V;return new Gs({clickTolerance:b,move:(k,R)=>({pitchDelta:(R.y-k.y)*_}),moveStateManager:D,enable:f,assignEvents:lc})})({clickTolerance:S,enable:!0})),ne.addEventListener(d,"mousedown",this.mousedown),ne.addEventListener(d,"touchstart",this.touchstart,{passive:!1}),ne.addEventListener(d,"touchcancel",this.reset)}startMouse(i,d){this.mouseRotate.dragStart(i,d),this.mousePitch&&this.mousePitch.dragStart(i,d),ne.disableDrag()}startTouch(i,d){this.touchRotate.dragStart(i,d),this.touchPitch&&this.touchPitch.dragStart(i,d),ne.disableDrag()}moveMouse(i,d){const y=this.map,{bearingDelta:w}=this.mouseRotate.dragMove(i,d)||{};if(w&&y.setBearing(y.getBearing()+w),this.mousePitch){const{pitchDelta:S}=this.mousePitch.dragMove(i,d)||{};S&&y.setPitch(y.getPitch()+S)}}moveTouch(i,d){const y=this.map,{bearingDelta:w}=this.touchRotate.dragMove(i,d)||{};if(w&&y.setBearing(y.getBearing()+w),this.touchPitch){const{pitchDelta:S}=this.touchPitch.dragMove(i,d)||{};S&&y.setPitch(y.getPitch()+S)}}off(){const i=this.element;ne.removeEventListener(i,"mousedown",this.mousedown),ne.removeEventListener(i,"touchstart",this.touchstart,{passive:!1}),ne.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),ne.removeEventListener(window,"touchend",this.touchend),ne.removeEventListener(i,"touchcancel",this.reset),this.offTemp()}offTemp(){ne.enableDrag(),ne.removeEventListener(window,"mousemove",this.mousemove),ne.removeEventListener(window,"mouseup",this.mouseup),ne.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),ne.removeEventListener(window,"touchend",this.touchend)}}let oa;function Es(E,i,d){if(E=new v.LngLat(E.lng,E.lat),i){const y=new v.LngLat(E.lng-360,E.lat),w=new v.LngLat(E.lng+360,E.lat),S=d.locationPoint(E).distSqr(i);d.locationPoint(y).distSqr(i)<S?E=y:d.locationPoint(w).distSqr(i)<S&&(E=w)}for(;Math.abs(E.lng-d.center.lng)>180;){const y=d.locationPoint(E);if(y.x>=0&&y.y>=0&&y.x<=d.width&&y.y<=d.height)break;E.lng>d.center.lng?E.lng-=360:E.lng+=360}return E}const qs={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function ya(E,i,d){const y=E.classList;for(const w in qs)y.remove(`maplibregl-${d}-anchor-${w}`);y.add(`maplibregl-${d}-anchor-${i}`)}class Sl extends v.Evented{constructor(i){if(super(),this._onKeyPress=d=>{const y=d.code,w=d.charCode||d.keyCode;"Space"!==y&&"Enter"!==y&&32!==w&&13!==w||this.togglePopup()},this._onMapClick=d=>{const y=d.originalEvent.target,w=this._element;this._popup&&(y===w||w.contains(y))&&this.togglePopup()},this._update=d=>{if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=Es(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let y="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?y=`rotateZ(${this._rotation}deg)`:"map"===this._rotationAlignment&&(y=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let w="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?w="rotateX(0deg)":"map"===this._pitchAlignment&&(w=`rotateX(${this._map.getPitch()}deg)`),d&&"moveend"!==d.type||(this._pos=this._pos.round()),ne.setTransform(this._element,`${qs[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${w} ${y}`),this._map.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const S=this._map.unproject(this._pos),f=40075016.686*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=S.distanceTo(this._lngLat)>20*f?"0.2":"1.0",this._opacityTimeout=null},100))},this._onMove=d=>{if(!this._isDragging){const y=this._clickTolerance||this._map._clickTolerance;this._isDragging=d.point.dist(this._pointerdownPos)>=y}this._isDragging&&(this._pos=d.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new v.Event("dragstart"))),this.fire(new v.Event("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new v.Event("dragend")),this._state="inactive"},this._addDragHandler=d=>{this._element.contains(d.originalEvent.target)&&(d.preventDefault(),this._positionDelta=d.point.sub(this._pos).add(this._offset),this._pointerdownPos=d.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=i&&i.anchor||"center",this._color=i&&i.color||"#3FB1CE",this._scale=i&&i.scale||1,this._draggable=i&&i.draggable||!1,this._clickTolerance=i&&i.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=i&&i.rotation||0,this._rotationAlignment=i&&i.rotationAlignment||"auto",this._pitchAlignment=i&&i.pitchAlignment&&"auto"!==i.pitchAlignment?i.pitchAlignment:this._rotationAlignment,i&&i.element)this._element=i.element,this._offset=v.Point.convert(i&&i.offset||[0,0]);else{this._defaultMarker=!0,this._element=ne.create("div"),this._element.setAttribute("aria-label","Map marker");const d=ne.createNS("http://www.w3.org/2000/svg","svg"),y=41,w=27;d.setAttributeNS(null,"display","block"),d.setAttributeNS(null,"height",`${y}px`),d.setAttributeNS(null,"width",`${w}px`),d.setAttributeNS(null,"viewBox",`0 0 ${w} ${y}`);const S=ne.createNS("http://www.w3.org/2000/svg","g");S.setAttributeNS(null,"stroke","none"),S.setAttributeNS(null,"stroke-width","1"),S.setAttributeNS(null,"fill","none"),S.setAttributeNS(null,"fill-rule","evenodd");const f=ne.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"fill-rule","nonzero");const b=ne.createNS("http://www.w3.org/2000/svg","g");b.setAttributeNS(null,"transform","translate(3.0, 29.0)"),b.setAttributeNS(null,"fill","#000000");const _=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const it of _){const yt=ne.createNS("http://www.w3.org/2000/svg","ellipse");yt.setAttributeNS(null,"opacity","0.04"),yt.setAttributeNS(null,"cx","10.5"),yt.setAttributeNS(null,"cy","5.80029008"),yt.setAttributeNS(null,"rx",it.rx),yt.setAttributeNS(null,"ry",it.ry),b.appendChild(yt)}const D=ne.createNS("http://www.w3.org/2000/svg","g");D.setAttributeNS(null,"fill",this._color);const k=ne.createNS("http://www.w3.org/2000/svg","path");k.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),D.appendChild(k);const R=ne.createNS("http://www.w3.org/2000/svg","g");R.setAttributeNS(null,"opacity","0.25"),R.setAttributeNS(null,"fill","#000000");const z=ne.createNS("http://www.w3.org/2000/svg","path");z.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),R.appendChild(z);const ee=ne.createNS("http://www.w3.org/2000/svg","g");ee.setAttributeNS(null,"transform","translate(6.0, 7.0)"),ee.setAttributeNS(null,"fill","#FFFFFF");const oe=ne.createNS("http://www.w3.org/2000/svg","g");oe.setAttributeNS(null,"transform","translate(8.0, 8.0)");const Me=ne.createNS("http://www.w3.org/2000/svg","circle");Me.setAttributeNS(null,"fill","#000000"),Me.setAttributeNS(null,"opacity","0.25"),Me.setAttributeNS(null,"cx","5.5"),Me.setAttributeNS(null,"cy","5.5"),Me.setAttributeNS(null,"r","5.4999962");const Ce=ne.createNS("http://www.w3.org/2000/svg","circle");Ce.setAttributeNS(null,"fill","#FFFFFF"),Ce.setAttributeNS(null,"cx","5.5"),Ce.setAttributeNS(null,"cy","5.5"),Ce.setAttributeNS(null,"r","5.4999962"),oe.appendChild(Me),oe.appendChild(Ce),f.appendChild(b),f.appendChild(D),f.appendChild(R),f.appendChild(ee),f.appendChild(oe),d.appendChild(f),d.setAttributeNS(null,"height",y*this._scale+"px"),d.setAttributeNS(null,"width",w*this._scale+"px"),this._element.appendChild(d),this._offset=v.Point.convert(i&&i.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",d=>{d.preventDefault()}),this._element.addEventListener("mousedown",d=>{d.preventDefault()}),ya(this._element,this._anchor,"marker"),i&&i.className)for(const d of i.className.split(" "))this._element.classList.add(d);this._popup=null}addTo(i){return this.remove(),this._map=i,i.getCanvasContainer().appendChild(this._element),i.on("move",this._update),i.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),ne.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(i){return this._lngLat=v.LngLat.convert(i),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(i){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),i){if(!("offset"in i.options)){const w=Math.sqrt(Math.pow(13.5,2)/2);i.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[w,-1*(24.6+w)],"bottom-right":[-w,-1*(24.6+w)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=i,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const i=this._popup;return i?(i.isOpen()?i.remove():i.addTo(this._map),this):this}getOffset(){return this._offset}setOffset(i){return this._offset=v.Point.convert(i),this._update(),this}addClassName(i){this._element.classList.add(i)}removeClassName(i){this._element.classList.remove(i)}toggleClassName(i){return this._element.classList.toggle(i)}setDraggable(i){return this._draggable=!!i,this._map&&(i?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(i){return this._rotation=i||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(i){return this._rotationAlignment=i||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(i){return this._pitchAlignment=i&&"auto"!==i?i:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const td={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let dl=0,Oa=!1;const ql={maxWidth:100,unit:"metric"};function Tl(E,i,d){const y=d&&d.maxWidth||100,w=E._container.clientHeight/2,S=E.unproject([0,w]),f=E.unproject([y,w]),b=S.distanceTo(f);if(d&&"imperial"===d.unit){const _=3.2808*b;_>5280?Ra(i,y,_/5280,E._getUIString("ScaleControl.Miles")):Ra(i,y,_,E._getUIString("ScaleControl.Feet"))}else d&&"nautical"===d.unit?Ra(i,y,b/1852,E._getUIString("ScaleControl.NauticalMiles")):b>=1e3?Ra(i,y,b/1e3,E._getUIString("ScaleControl.Kilometers")):Ra(i,y,b,E._getUIString("ScaleControl.Meters"))}function Ra(E,i,d,y){const w=function(S){const f=Math.pow(10,`${Math.floor(S)}`.length-1);let b=S/f;return b=b>=10?10:b>=5?5:b>=3?3:b>=2?2:b>=1?1:function(_){const D=Math.pow(10,Math.ceil(-Math.log(_)/Math.LN10));return Math.round(_*D)/D}(b),f*b}(d);E.style.width=i*(w/d)+"px",E.innerHTML=`${w}&nbsp;${y}`}const Yl={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Il=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Al(E){if(E){if("number"==typeof E){const i=Math.round(Math.sqrt(.5*Math.pow(E,2)));return{center:new v.Point(0,0),top:new v.Point(0,E),"top-left":new v.Point(i,i),"top-right":new v.Point(-i,i),bottom:new v.Point(0,-E),"bottom-left":new v.Point(i,-i),"bottom-right":new v.Point(-i,-i),left:new v.Point(E,0),right:new v.Point(-E,0)}}if(E instanceof v.Point||Array.isArray(E)){const i=v.Point.convert(E);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:v.Point.convert(E.center||[0,0]),top:v.Point.convert(E.top||[0,0]),"top-left":v.Point.convert(E["top-left"]||[0,0]),"top-right":v.Point.convert(E["top-right"]||[0,0]),bottom:v.Point.convert(E.bottom||[0,0]),"bottom-left":v.Point.convert(E["bottom-left"]||[0,0]),"bottom-right":v.Point.convert(E["bottom-right"]||[0,0]),left:v.Point.convert(E.left||[0,0]),right:v.Point.convert(E.right||[0,0])}}return Al(new v.Point(0,0))}const cc={extend:(E,...i)=>v.extend(E,...i),run(E){E()},logToElement(E,i=!1,d="log"){const y=window.document.getElementById(d);y&&(i&&(y.innerHTML=""),y.innerHTML+=`<br>${E}`)}};class Qn{static get version(){return"3.2.0"}static get workerCount(){return at.workerCount}static set workerCount(i){at.workerCount=i}static get maxParallelImageRequests(){return v.config.MAX_PARALLEL_IMAGE_REQUESTS}static set maxParallelImageRequests(i){v.config.MAX_PARALLEL_IMAGE_REQUESTS=i}static get workerUrl(){return v.config.WORKER_URL}static set workerUrl(i){v.config.WORKER_URL=i}static addProtocol(i,d){v.config.REGISTERED_PROTOCOLS[i]=d}static removeProtocol(i){delete v.config.REGISTERED_PROTOCOLS[i]}}return Qn.Map=class extends is{constructor(E){if(v.PerformanceUtils.mark(v.PerformanceMarkers.create),null!=(E=v.extend({},Co,E)).minZoom&&null!=E.maxZoom&&E.minZoom>E.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=E.minPitch&&null!=E.maxPitch&&E.minPitch>E.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=E.minPitch&&E.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=E.maxPitch&&E.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new Tr(E.minZoom,E.maxZoom,E.minPitch,E.maxPitch,E.renderWorldCopies),{bearingSnap:E.bearingSnap}),this._cooperativeGesturesOnWheel=i=>{this._onCooperativeGesture(i,i[this._metaKey],1)},this._contextLost=i=>{i.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new v.Event("webglcontextlost",{originalEvent:i}))},this._contextRestored=i=>{this._setupPainter(),this.resize(),this._update(),this.fire(new v.Event("webglcontextrestored",{originalEvent:i}))},this._onMapScroll=i=>{if(i.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=E.interactive,this._cooperativeGestures=E.cooperativeGestures,this._metaKey=0===navigator.platform.indexOf("Mac")?"metaKey":"ctrlKey",this._maxTileCacheSize=E.maxTileCacheSize,this._maxTileCacheZoomLevels=E.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=E.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=E.preserveDrawingBuffer,this._antialias=E.antialias,this._trackResize=E.trackResize,this._bearingSnap=E.bearingSnap,this._refreshExpiredTiles=E.refreshExpiredTiles,this._fadeDuration=E.fadeDuration,this._crossSourceCollisions=E.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=E.collectResourceTiming,this._renderTaskQueue=new ll,this._controls=[],this._mapId=v.uniqueId(),this._locale=v.extend({},Ws,E.locale),this._clickTolerance=E.clickTolerance,this._overridePixelRatio=E.pixelRatio,this._maxCanvasSize=E.maxCanvasSize,this.transformCameraUpdate=E.transformCameraUpdate,this._imageQueueHandle=et.addThrottleControl(()=>this.isMoving()),this._requestManager=new ct(E.transformRequest),"string"==typeof E.container){if(this._container=document.getElementById(E.container),!this._container)throw new Error(`Container '${E.container}' not found.`)}else{if(!(E.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=E.container}if(E.maxBounds&&this.setMaxBounds(E.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let i=!1;this._resizeObserver=new ResizeObserver(d=>{i?this._trackResize&&this.resize(d)._update():i=!0}),this._resizeObserver.observe(this._container)}this.handlers=new _a(this,E),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=E.hash&&new hs("string"==typeof E.hash&&E.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:E.center,zoom:E.zoom,bearing:E.bearing,pitch:E.pitch}),E.bounds&&(this.resize(),this.fitBounds(E.bounds,v.extend({},E.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=E.localIdeographFontFamily,this._validateStyle=E.validateStyle,E.style&&this.setStyle(E.style,{localIdeographFontFamily:E.localIdeographFontFamily}),E.attributionControl&&this.addControl(new wt({customAttribution:E.customAttribution})),E.maplibreLogo&&this.addControl(new gi,E.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",i=>{this._update("style"===i.dataType),this.fire(new v.Event(`${i.dataType}data`,i))}),this.on("dataloading",i=>{this.fire(new v.Event(`${i.dataType}dataloading`,i))}),this.on("dataabort",i=>{this.fire(new v.Event("sourcedataabort",i))})}_getMapId(){return this._mapId}addControl(E,i){if(void 0===i&&(i=E.getDefaultPosition?E.getDefaultPosition():"top-right"),!E||!E.onAdd)return this.fire(new v.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const d=E.onAdd(this);this._controls.push(E);const y=this._controlPositions[i];return-1!==i.indexOf("bottom")?y.insertBefore(d,y.firstChild):y.appendChild(d),this}removeControl(E){if(!E||!E.onRemove)return this.fire(new v.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const i=this._controls.indexOf(E);return i>-1&&this._controls.splice(i,1),E.onRemove(this),this}hasControl(E){return this._controls.indexOf(E)>-1}calculateCameraOptionsFromTo(E,i,d,y){return null==y&&this.terrain&&(y=this.transform.getElevation(d,this.terrain)),super.calculateCameraOptionsFromTo(E,i,d,y)}resize(E){var i;const d=this._containerDimensions(),y=d[0],w=d[1],S=this._getClampedPixelRatio(y,w);if(this._resizeCanvas(y,w,S),this.painter.resize(y,w,S),this.painter.overLimit()){const b=this.painter.context.gl;this._maxCanvasSize=[b.drawingBufferWidth,b.drawingBufferHeight];const _=this._getClampedPixelRatio(y,w);this._resizeCanvas(y,w,_),this.painter.resize(y,w,_)}this.transform.resize(y,w),null===(i=this._requestedCameraState)||void 0===i||i.resize(y,w);const f=!this._moving;return f&&(this.stop(),this.fire(new v.Event("movestart",E)).fire(new v.Event("move",E))),this.fire(new v.Event("resize",E)),f&&this.fire(new v.Event("moveend",E)),this}_getClampedPixelRatio(E,i){const{0:d,1:y}=this._maxCanvasSize,w=this.getPixelRatio(),S=E*w,f=i*w;return Math.min(S>d?d/S:1,f>y?y/f:1)*w}getPixelRatio(){var E;return null!==(E=this._overridePixelRatio)&&void 0!==E?E:devicePixelRatio}setPixelRatio(E){this._overridePixelRatio=E,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(E){return this.transform.setMaxBounds(gt.convert(E)),this._update()}setMinZoom(E){if((E=E??-2)>=-2&&E<=this.transform.maxZoom)return this.transform.minZoom=E,this._update(),this.getZoom()<E&&this.setZoom(E),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(E){if((E=E??22)>=this.transform.minZoom)return this.transform.maxZoom=E,this._update(),this.getZoom()>E&&this.setZoom(E),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(E){if((E=E??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(E>=0&&E<=this.transform.maxPitch)return this.transform.minPitch=E,this._update(),this.getPitch()<E&&this.setPitch(E),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(E){if((E=E??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(E>=this.transform.minPitch)return this.transform.maxPitch=E,this._update(),this.getPitch()>E&&this.setPitch(E),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(E){return this.transform.renderWorldCopies=E,this._update()}getCooperativeGestures(){return this._cooperativeGestures}setCooperativeGestures(E){return this._cooperativeGestures=E,this._cooperativeGestures?this._setupCooperativeGestures():this._destroyCooperativeGestures(),this}project(E){return this.transform.locationPoint(v.LngLat.convert(E),this.style&&this.terrain)}unproject(E){return this.transform.pointLocation(v.Point.convert(E),this.terrain)}isMoving(){var E;return this._moving||(null===(E=this.handlers)||void 0===E?void 0:E.isMoving())}isZooming(){var E;return this._zooming||(null===(E=this.handlers)||void 0===E?void 0:E.isZooming())}isRotating(){var E;return this._rotating||(null===(E=this.handlers)||void 0===E?void 0:E.isRotating())}_createDelegatedListener(E,i,d){if("mouseenter"===E||"mouseover"===E){let y=!1;return{layer:i,listener:d,delegates:{mousemove:S=>{const f=this.getLayer(i)?this.queryRenderedFeatures(S.point,{layers:[i]}):[];f.length?y||(y=!0,d.call(this,new Zr(E,this,S.originalEvent,{features:f}))):y=!1},mouseout:()=>{y=!1}}}}if("mouseleave"===E||"mouseout"===E){let y=!1;return{layer:i,listener:d,delegates:{mousemove:f=>{(this.getLayer(i)?this.queryRenderedFeatures(f.point,{layers:[i]}):[]).length?y=!0:y&&(y=!1,d.call(this,new Zr(E,this,f.originalEvent)))},mouseout:f=>{y&&(y=!1,d.call(this,new Zr(E,this,f.originalEvent)))}}}}{const y=w=>{const S=this.getLayer(i)?this.queryRenderedFeatures(w.point,{layers:[i]}):[];S.length&&(w.features=S,d.call(this,w),delete w.features)};return{layer:i,listener:d,delegates:{[E]:y}}}}on(E,i,d){if(void 0===d)return super.on(E,i);const y=this._createDelegatedListener(E,i,d);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[E]=this._delegatedListeners[E]||[],this._delegatedListeners[E].push(y);for(const w in y.delegates)this.on(w,y.delegates[w]);return this}once(E,i,d){if(void 0===d)return super.once(E,i);const y=this._createDelegatedListener(E,i,d);for(const w in y.delegates)this.once(w,y.delegates[w]);return this}off(E,i,d){return void 0===d?super.off(E,i):(this._delegatedListeners&&this._delegatedListeners[E]&&(y=>{const w=this._delegatedListeners[E];for(let S=0;S<w.length;S++){const f=w[S];if(f.layer===i&&f.listener===d){for(const b in f.delegates)this.off(b,f.delegates[b]);return w.splice(S,1),this}}})(),this)}queryRenderedFeatures(E,i){if(!this.style)return[];let d;const y=E instanceof v.Point||Array.isArray(E),w=y?E:[[0,0],[this.transform.width,this.transform.height]];if(i=i||(y?{}:E)||{},w instanceof v.Point||"number"==typeof w[0])d=[v.Point.convert(w)];else{const S=v.Point.convert(w[0]),f=v.Point.convert(w[1]);d=[S,new v.Point(f.x,S.y),f,new v.Point(S.x,f.y),S]}return this.style.queryRenderedFeatures(d,i,this.transform)}querySourceFeatures(E,i){return this.style.querySourceFeatures(E,i)}setStyle(E,i){return!1!==(i=v.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},i)).diff&&i.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&E?(this._diffStyle(E,i),this):(this._localIdeographFontFamily=i.localIdeographFontFamily,this._updateStyle(E,i))}setTransformRequest(E){return this._requestManager.setTransformRequest(E),this}_getUIString(E){const i=this._locale[E];if(null==i)throw new Error(`Missing UI string '${E}'`);return i}_updateStyle(E,i){if(i.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(E,i));const d=this.style&&i.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!E)),E?(this.style=new ur(this,i||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof E?this.style.loadURL(E,i,d):this.style.loadJSON(E,i,d),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new ur(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(E,i){if("string"==typeof E){const d=this._requestManager.transformRequest(E,Xe.Style);v.getJSON(d,(y,w)=>{y?this.fire(new v.ErrorEvent(y)):w&&this._updateDiff(w,i)})}else"object"==typeof E&&this._updateDiff(E,i)}_updateDiff(E,i){try{this.style.setState(E,i)&&this._update(!0)}catch(d){v.warnOnce(`Unable to perform style diff: ${d.message||d.error||d}.  Rebuilding the style from scratch.`),this._updateStyle(E,i)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():v.warnOnce("There is no style added to the map.")}addSource(E,i){return this._lazyInitEmptyStyle(),this.style.addSource(E,i),this._update(!0)}isSourceLoaded(E){const i=this.style&&this.style.sourceCaches[E];if(void 0!==i)return i.loaded();this.fire(new v.ErrorEvent(new Error(`There is no source with ID '${E}'`)))}setTerrain(E){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),E){const i=this.style.sourceCaches[E.source];if(!i)throw new Error(`cannot load terrain, because there exists no source with ID: ${E.source}`);for(const d in this.style._layers){const y=this.style._layers[d];"hillshade"===y.type&&y.source===E.source&&v.warnOnce("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Wl(this.painter,i,E),this.painter.renderToTexture=new cl(this.painter,this.terrain),this.transform.updateElevation(this.terrain),this._terrainDataCallback=d=>{"style"===d.dataType?this.terrain.sourceCache.freeRtt():"source"===d.dataType&&d.tile&&(d.sourceId===E.source&&this.transform.updateElevation(this.terrain),this.terrain.sourceCache.freeRtt(d.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.updateElevation(this.terrain);return this.fire(new v.Event("terrain",{terrain:E})),this}getTerrain(){return this.terrain&&this.terrain.options}areTilesLoaded(){const E=this.style&&this.style.sourceCaches;for(const i in E){const d=E[i]._tiles;for(const y in d){const w=d[y];if("loaded"!==w.state&&"errored"!==w.state)return!1}}return!0}addSourceType(E,i,d){return this._lazyInitEmptyStyle(),this.style.addSourceType(E,i,d)}removeSource(E){return this.style.removeSource(E),this._update(!0)}getSource(E){return this.style.getSource(E)}addImage(E,i,d={}){const{pixelRatio:y=1,sdf:w=!1,stretchX:S,stretchY:f,content:b}=d;if(this._lazyInitEmptyStyle(),!(i instanceof HTMLImageElement||v.isImageBitmap(i))){if(void 0===i.width||void 0===i.height)return this.fire(new v.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:_,height:D,data:k}=i,R=i;return this.style.addImage(E,{data:new v.RGBAImage({width:_,height:D},new Uint8Array(k)),pixelRatio:y,stretchX:S,stretchY:f,content:b,sdf:w,version:0,userImage:R}),R.onAdd&&R.onAdd(this,E),this}}{const{width:_,height:D,data:k}=v.browser.getImageData(i);this.style.addImage(E,{data:new v.RGBAImage({width:_,height:D},k),pixelRatio:y,stretchX:S,stretchY:f,content:b,sdf:w,version:0})}}updateImage(E,i){const d=this.style.getImage(E);if(!d)return this.fire(new v.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const y=i instanceof HTMLImageElement||v.isImageBitmap(i)?v.browser.getImageData(i):i,{width:w,height:S,data:f}=y;if(void 0===w||void 0===S)return this.fire(new v.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(w!==d.data.width||S!==d.data.height)return this.fire(new v.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));const b=!(i instanceof HTMLImageElement||v.isImageBitmap(i));return d.data.replace(f,b),this.style.updateImage(E,d),this}getImage(E){return this.style.getImage(E)}hasImage(E){return E?!!this.style.getImage(E):(this.fire(new v.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(E){this.style.removeImage(E)}loadImage(E,i){et.getImage(this._requestManager.transformRequest(E,Xe.Image),i)}listImages(){return this.style.listImages()}addLayer(E,i){return this._lazyInitEmptyStyle(),this.style.addLayer(E,i),this._update(!0)}moveLayer(E,i){return this.style.moveLayer(E,i),this._update(!0)}removeLayer(E){return this.style.removeLayer(E),this._update(!0)}getLayer(E){return this.style.getLayer(E)}setLayerZoomRange(E,i,d){return this.style.setLayerZoomRange(E,i,d),this._update(!0)}setFilter(E,i,d={}){return this.style.setFilter(E,i,d),this._update(!0)}getFilter(E){return this.style.getFilter(E)}setPaintProperty(E,i,d,y={}){return this.style.setPaintProperty(E,i,d,y),this._update(!0)}getPaintProperty(E,i){return this.style.getPaintProperty(E,i)}setLayoutProperty(E,i,d,y={}){return this.style.setLayoutProperty(E,i,d,y),this._update(!0)}getLayoutProperty(E,i){return this.style.getLayoutProperty(E,i)}setGlyphs(E,i={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(E,i),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(E,i,d={}){return this._lazyInitEmptyStyle(),this.style.addSprite(E,i,d,y=>{y||this._update(!0)}),this}removeSprite(E){return this._lazyInitEmptyStyle(),this.style.removeSprite(E),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(E,i={}){return this._lazyInitEmptyStyle(),this.style.setSprite(E,i,d=>{d||this._update(!0)}),this}setLight(E,i={}){return this._lazyInitEmptyStyle(),this.style.setLight(E,i),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(E,i){return this.style.setFeatureState(E,i),this._update()}removeFeatureState(E,i){return this.style.removeFeatureState(E,i),this._update()}getFeatureState(E){return this.style.getFeatureState(E)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let E=0,i=0;return this._container&&(E=this._container.clientWidth||400,i=this._container.clientHeight||300),[E,i]}_setupContainer(){const E=this._container;E.classList.add("maplibregl-map");const i=this._canvasContainer=ne.create("div","maplibregl-canvas-container",E);this._interactive&&i.classList.add("maplibregl-interactive"),this._canvas=ne.create("canvas","maplibregl-canvas",i),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const d=this._containerDimensions(),y=this._getClampedPixelRatio(d[0],d[1]);this._resizeCanvas(d[0],d[1],y);const w=this._controlContainer=ne.create("div","maplibregl-control-container",E),S=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(f=>{S[f]=ne.create("div",`maplibregl-ctrl-${f} `,w)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){this._cooperativeGesturesScreen=ne.create("div","maplibregl-cooperative-gesture-screen",this._container);let E="boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";0===navigator.platform.indexOf("Mac")&&(E="boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use \u2318 + scroll to zoom the map"),this._cooperativeGesturesScreen.innerHTML=`\n            <div class="maplibregl-desktop-message">${E}</div>\n            <div class="maplibregl-mobile-message">${"boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>\n        `,this._canvasContainer.addEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.add("maplibregl-cooperative-gestures")}_destroyCooperativeGestures(){ne.remove(this._cooperativeGesturesScreen),this._canvasContainer.removeEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.remove("maplibregl-cooperative-gestures")}_resizeCanvas(E,i,d){this._canvas.width=Math.floor(d*E),this._canvas.height=Math.floor(d*i),this._canvas.style.width=`${E}px`,this._canvas.style.height=`${i}px`}_setupPainter(){const E={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let i=null;this._canvas.addEventListener("webglcontextcreationerror",y=>{i={requestedAttributes:E},y&&(i.statusMessage=y.statusMessage,i.type=y.type)},{once:!0});const d=this._canvas.getContext("webgl2",E)||this._canvas.getContext("webgl",E);if(!d){const y="Failed to initialize WebGL";throw i?(i.message=y,new Error(JSON.stringify(i))):new Error(y)}this.painter=new Cr(d,this.transform),He.testSupport(d)}_onCooperativeGesture(E,i,d){return!i&&d<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(E){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||E,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(E){return this._update(),this._renderTaskQueue.add(E)}_cancelRenderFrame(E){this._renderTaskQueue.remove(E)}_render(E){const i=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(E),this._removed)return;let d=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const w=this.transform.zoom,S=v.browser.now();this.style.zoomHistory.update(w,S);const f=new v.EvaluationParameters(w,{now:S,fadeDuration:i,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),b=f.crossFadingFactor();1===b&&b===this._crossFadingFactor||(d=!0,this._crossFadingFactor=b),this.style.update(f)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain&&this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.updateElevation(this.terrain),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,i,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:i,showPadding:this.showPadding}),this.fire(new v.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,v.PerformanceUtils.mark(v.PerformanceMarkers.load),this.fire(new v.Event("load"))),this.style&&(this.style.hasTransitions()||d)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const y=this._sourcesDirty||this._styleDirty||this._placementDirty;return y||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new v.Event("idle")),!this._loaded||this._fullyLoaded||y||(this._fullyLoaded=!0,v.PerformanceUtils.mark(v.PerformanceMarkers.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){var E;this._hash&&this._hash.remove();for(const d of this._controls)d.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),et.removeThrottleControl(this._imageQueueHandle),null===(E=this._resizeObserver)||void 0===E||E.disconnect();const i=this.painter.context.gl.getExtension("WEBGL_lose_context");i&&i.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),ne.remove(this._canvasContainer),ne.remove(this._controlContainer),this._cooperativeGestures&&this._destroyCooperativeGestures(),this._container.classList.remove("maplibregl-map"),v.PerformanceUtils.clearMetrics(),this._removed=!0,this.fire(new v.Event("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=v.browser.frame(E=>{v.PerformanceUtils.frame(E),this._frame=null,this._render(E)}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(E){this._showTileBoundaries!==E&&(this._showTileBoundaries=E,this._update())}get showPadding(){return!!this._showPadding}set showPadding(E){this._showPadding!==E&&(this._showPadding=E,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(E){this._showCollisionBoxes!==E&&(this._showCollisionBoxes=E,E?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(E){this._showOverdrawInspector!==E&&(this._showOverdrawInspector=E,this._update())}get repaint(){return!!this._repaint}set repaint(E){this._repaint!==E&&(this._repaint=E,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(E){this._vertices=E,this._update()}get version(){return"3.2.0"}getCameraTargetElevation(){return this.transform.elevation}},Qn.NavigationControl=class{constructor(E){this._updateZoomButtons=()=>{const i=this._map.getZoom(),d=i===this._map.getMaxZoom(),y=i===this._map.getMinZoom();this._zoomInButton.disabled=d,this._zoomOutButton.disabled=y,this._zoomInButton.setAttribute("aria-disabled",d.toString()),this._zoomOutButton.setAttribute("aria-disabled",y.toString())},this._rotateCompassArrow=()=>{const i=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=i},this._setButtonTitle=(i,d)=>{const y=this._map._getUIString(`NavigationControl.${d}`);i.title=y,i.setAttribute("aria-label",y)},this.options=v.extend({},ko,E),this._container=ne.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",i=>i.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",i=>this._map.zoomIn({},{originalEvent:i})),ne.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",i=>this._map.zoomOut({},{originalEvent:i})),ne.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",i=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:i}):this._map.resetNorth({},{originalEvent:i})}),this._compassIcon=ne.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(E){return this._map=E,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new fs(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){ne.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(E,i){const d=ne.create("button",E,this._container);return d.type="button",d.addEventListener("click",i),d}},Qn.GeolocateControl=class extends v.Evented{constructor(E){super(),this._onSuccess=i=>{if(this._map){if(this._isOutOfMapMaxBounds(i))return this._setErrorState(),this.fire(new v.Event("outofmaxbounds",i)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=i,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(i),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(i),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new v.Event("geolocate",i)),this._finish()}},this._updateCamera=i=>{const d=new v.LngLat(i.coords.longitude,i.coords.latitude),y=i.coords.accuracy,w=this._map.getBearing(),S=v.extend({bearing:w},this.options.fitBoundsOptions),f=gt.fromLngLat(d,y);this._map.fitBounds(f,S,{geolocateSource:!0})},this._updateMarker=i=>{if(i){const d=new v.LngLat(i.coords.longitude,i.coords.latitude);this._accuracyCircleMarker.setLngLat(d).addTo(this._map),this._userLocationDotMarker.setLngLat(d).addTo(this._map),this._accuracy=i.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=i=>{if(this._map){if(this.options.trackUserLocation)if(1===i.code){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===i.code&&Oa)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new v.Event("error",i)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=i=>{if(this._map){if(this._container.addEventListener("contextmenu",d=>d.preventDefault()),this._geolocateButton=ne.create("button","maplibregl-ctrl-geolocate",this._container),ne.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===i){v.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}else{const d=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=ne.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Sl({element:this._dotElement}),this._circleElement=ne.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Sl({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",d=>{d.geolocateSource||"ACTIVE_LOCK"!==this._watchState||d.originalEvent&&"resize"===d.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new v.Event("trackuserlocationend")))})}},this.options=v.extend({},td,E)}onAdd(E){return this._map=E,this._container=ne.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(i,d=!1){void 0===oa||d?void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then(y=>{oa="denied"!==y.state,i(oa)}).catch(()=>{oa=!!window.navigator.geolocation,i(oa)}):(oa=!!window.navigator.geolocation,i(oa)):i(oa)}(this._setupUI),this._container}onRemove(){void 0!==this._geolocationWatchID&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),ne.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,dl=0,Oa=!1}_isOutOfMapMaxBounds(E){const i=this._map.getMaxBounds(),d=E.coords;return i&&(d.longitude<i.getWest()||d.longitude>i.getEast()||d.latitude<i.getSouth()||d.latitude>i.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const E=this._map.getBounds(),i=E.getSouthEast(),d=E.getNorthEast(),y=i.distanceTo(d),w=Math.ceil(this._accuracy/(y/this._map._container.clientHeight)*2);this._circleElement.style.width=`${w}px`,this._circleElement.style.height=`${w}px`}trigger(){if(!this._setup)return v.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new v.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":dl--,Oa=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new v.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new v.Event("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let E;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),dl++,dl>1?(E={maximumAge:6e5,timeout:0},Oa=!0):(E=this.options.positionOptions,Oa=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,E)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},Qn.AttributionControl=wt,Qn.LogoControl=gi,Qn.ScaleControl=class{constructor(E){this._onMove=()=>{Tl(this._map,this._container,this.options)},this.setUnit=i=>{this.options.unit=i,Tl(this._map,this._container,this.options)},this.options=v.extend({},ql,E)}getDefaultPosition(){return"bottom-left"}onAdd(E){return this._map=E,this._container=ne.create("div","maplibregl-ctrl maplibregl-ctrl-scale",E.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){ne.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},Qn.FullscreenControl=class extends v.Evented{constructor(E={}){super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,E&&E.container&&(E.container instanceof HTMLElement?this._container=E.container:v.warnOnce("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(E){return this._map=E,this._container||(this._container=this._map.getContainer()),this._controlContainer=ne.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){ne.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const E=this._fullscreenButton=ne.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);ne.create("span","maplibregl-ctrl-icon",E).setAttribute("aria-hidden","true"),E.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const E=this._getTitle();this._fullscreenButton.setAttribute("aria-label",E),this._fullscreenButton.title=E}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new v.Event("fullscreenstart")),this._map._cooperativeGestures&&(this._prevCooperativeGestures=this._map._cooperativeGestures,this._map.setCooperativeGestures())):(this.fire(new v.Event("fullscreenend")),this._prevCooperativeGestures&&(this._map.setCooperativeGestures(this._prevCooperativeGestures),delete this._prevCooperativeGestures))}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},Qn.TerrainControl=class{constructor(E){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))},this.options=E}onAdd(E){return this._map=E,this._container=ne.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=ne.create("button","maplibregl-ctrl-terrain",this._container),ne.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){ne.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},Qn.Popup=class extends v.Evented{constructor(E){super(),this.remove=()=>(this._content&&ne.remove(this._content),this._container&&(ne.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new v.Event("close")),this),this._onMouseUp=i=>{this._update(i.point)},this._onMouseMove=i=>{this._update(i.point)},this._onDrag=i=>{this._update(i.point)},this._update=i=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=ne.create("div","maplibregl-popup",this._map.getContainer()),this._tip=ne.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const f of this.options.className.split(" "))this._container.classList.add(f);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Es(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!i)return;const d=this._pos=this._trackPointer&&i?i:this._map.project(this._lngLat);let y=this.options.anchor;const w=Al(this.options.offset);if(!y){const f=this._container.offsetWidth,b=this._container.offsetHeight;let _;_=d.y+w.bottom.y<b?["top"]:d.y>this._map.transform.height-b?["bottom"]:[],d.x<f/2?_.push("left"):d.x>this._map.transform.width-f/2&&_.push("right"),y=0===_.length?"bottom":_.join("-")}const S=d.add(w[y]).round();ne.setTransform(this._container,`${qs[y]} translate(${S.x}px,${S.y}px)`),ya(this._container,y,"popup")},this._onClose=()=>{this.remove()},this.options=v.extend(Object.create(Yl),E)}addTo(E){return this._map&&this.remove(),this._map=E,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new v.Event("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(E){return this._lngLat=v.LngLat.convert(E),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(E){return this.setDOMContent(document.createTextNode(E))}setHTML(E){const i=document.createDocumentFragment(),d=document.createElement("body");let y;for(d.innerHTML=E;y=d.firstChild,y;)i.appendChild(y);return this.setDOMContent(i)}getMaxWidth(){var E;return null===(E=this._container)||void 0===E?void 0:E.style.maxWidth}setMaxWidth(E){return this.options.maxWidth=E,this._update(),this}setDOMContent(E){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=ne.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(E),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(E){this._container&&this._container.classList.add(E)}removeClassName(E){this._container&&this._container.classList.remove(E)}setOffset(E){return this.options.offset=E,this._update(),this}toggleClassName(E){if(this._container)return this._container.classList.toggle(E)}_createCloseButton(){this.options.closeButton&&(this._closeButton=ne.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const E=this._container.querySelector(Il);E&&E.focus()}},Qn.Marker=Sl,Qn.Style=ur,Qn.LngLat=v.LngLat,Qn.LngLatBounds=gt,Qn.Point=v.Point,Qn.MercatorCoordinate=v.MercatorCoordinate,Qn.Evented=v.Evented,Qn.AJAXError=v.AJAXError,Qn.config=v.config,Qn.CanvasSource=Ee,Qn.GeoJSONSource=li,Qn.ImageSource=rt,Qn.RasterDEMTileSource=Ct,Qn.RasterTileSource=ni,Qn.VectorTileSource=zt,Qn.VideoSource=ut,Qn.setRTLTextPlugin=v.setRTLTextPlugin,Qn.getRTLTextPluginStatus=v.getRTLTextPluginStatus,Qn.prewarm=function(){Pe().acquire(ii)},Qn.clearPrewarmedResources=function(){const E=Se;E&&(E.isPreloaded()&&1===E.numActive()?(E.release(ii),Se=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},cc.extend(Qn,{isSafari:v.isSafari,getPerformanceMetrics:v.PerformanceUtils.getPerformanceMetrics}),Qn}),C}()},6825:(_i,pt,H)=>{"use strict";H.d(pt,{IO:()=>ct,LC:()=>l,SB:()=>Ge,X$:()=>v,ZE:()=>oi,ZN:()=>Vt,_j:()=>C,eR:()=>nt,jt:()=>je,k1:()=>Ti,l3:()=>le,oB:()=>Oe,pV:()=>et,vP:()=>He});class C{}class l{}const le="*";function v(Yt,Le){return{type:7,name:Yt,definitions:Le,options:{}}}function je(Yt,Le=null){return{type:4,styles:Le,timings:Yt}}function He(Yt,Le=null){return{type:2,steps:Yt,options:Le}}function Oe(Yt){return{type:6,styles:Yt,offset:null}}function Ge(Yt,Le,Ue){return{type:0,name:Yt,styles:Le,options:Ue}}function nt(Yt,Le,Ue=null){return{type:1,expr:Yt,animation:Le,options:Ue}}function et(Yt=null){return{type:9,options:Yt}}function ct(Yt,Le,Ue=null){return{type:11,selector:Yt,animation:Le,options:Ue}}class Vt{constructor(Le=0,Ue=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Le+Ue}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Le=>Le()),this._onDoneFns=[])}onStart(Le){this._originalOnStartFns.push(Le),this._onStartFns.push(Le)}onDone(Le){this._originalOnDoneFns.push(Le),this._onDoneFns.push(Le)}onDestroy(Le){this._onDestroyFns.push(Le)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Le=>Le()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Le=>Le()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Le){this._position=this.totalTime?Le*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Le){const Ue="start"==Le?this._onStartFns:this._onDoneFns;Ue.forEach(Ae=>Ae()),Ue.length=0}}class oi{constructor(Le){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Le;let Ue=0,Ae=0,It=0;const Pt=this.players.length;0==Pt?queueMicrotask(()=>this._onFinish()):this.players.forEach(Ot=>{Ot.onDone(()=>{++Ue==Pt&&this._onFinish()}),Ot.onDestroy(()=>{++Ae==Pt&&this._onDestroy()}),Ot.onStart(()=>{++It==Pt&&this._onStart()})}),this.totalTime=this.players.reduce((Ot,ui)=>Math.max(Ot,ui.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Le=>Le()),this._onDoneFns=[])}init(){this.players.forEach(Le=>Le.init())}onStart(Le){this._onStartFns.push(Le)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Le=>Le()),this._onStartFns=[])}onDone(Le){this._onDoneFns.push(Le)}onDestroy(Le){this._onDestroyFns.push(Le)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Le=>Le.play())}pause(){this.players.forEach(Le=>Le.pause())}restart(){this.players.forEach(Le=>Le.restart())}finish(){this._onFinish(),this.players.forEach(Le=>Le.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Le=>Le.destroy()),this._onDestroyFns.forEach(Le=>Le()),this._onDestroyFns=[])}reset(){this.players.forEach(Le=>Le.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Le){const Ue=Le*this.totalTime;this.players.forEach(Ae=>{const It=Ae.totalTime?Math.min(1,Ue/Ae.totalTime):1;Ae.setPosition(It)})}getPosition(){const Le=this.players.reduce((Ue,Ae)=>null===Ue||Ae.totalTime>Ue.totalTime?Ae:Ue,null);return null!=Le?Le.getPosition():0}beforeDestroy(){this.players.forEach(Le=>{Le.beforeDestroy&&Le.beforeDestroy()})}triggerCallback(Le){const Ue="start"==Le?this._onStartFns:this._onDoneFns;Ue.forEach(Ae=>Ae()),Ue.length=0}}const Ti="!"},7849:(_i,pt,H)=>{"use strict";H.d(pt,{rt:()=>lt,s1:()=>rt,$s:()=>ni,Em:()=>ut,tE:()=>ke,qV:()=>Se,qm:()=>Je,ic:()=>ht,Kd:()=>B,Zf:()=>pn,X6:()=>Lt,yG:()=>yi,iD:()=>jn});var C=H(6814),l=H(5879),le=H(2831),v=H(8645),je=H(7394),ne=H(5619),He=H(2096),Oe=H(6028),Ge=H(9397),Ve=H(3620),nt=H(2181),Fe=H(7398),et=H(8180);function Xe(xe){return(0,nt.h)((Ie,ue)=>xe<=ue)}var ct=H(3997),bt=H(9773),Vt=H(2495),oi=H(7131),Ti=H(2572),Yt=H(5211),Le=H(5592),Ue=H(7921);const It=new Set;let Pt,Ot=(()=>{class xe{constructor(ue,De){this._platform=ue,this._nonce=De,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ti}matchMedia(ue){return(this._platform.WEBKIT||this._platform.BLINK)&&function ui(xe,Ie){if(!It.has(xe))try{Pt||(Pt=document.createElement("style"),Ie&&(Pt.nonce=Ie),Pt.setAttribute("type","text/css"),document.head.appendChild(Pt)),Pt.sheet&&(Pt.sheet.insertRule(`@media ${xe} {body{ }}`,0),It.add(xe))}catch(ue){console.error(ue)}}(ue,this._nonce),this._matchMedia(ue)}}return xe.\u0275fac=function(ue){return new(ue||xe)(l.LFG(le.t4),l.LFG(l.Ojb,8))},xe.\u0275prov=l.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"}),xe})();function ti(xe){return{matches:"all"===xe||""===xe,media:xe,addListener:()=>{},removeListener:()=>{}}}let Fi=(()=>{class xe{constructor(ue,De){this._mediaMatcher=ue,this._zone=De,this._queries=new Map,this._destroySubject=new v.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(ue){return Oi((0,Vt.Eq)(ue)).some(Qe=>this._registerQuery(Qe).mql.matches)}observe(ue){const Qe=Oi((0,Vt.Eq)(ue)).map(Ye=>this._registerQuery(Ye).observable);let Tt=(0,Ti.a)(Qe);return Tt=(0,Yt.z)(Tt.pipe((0,et.q)(1)),Tt.pipe(Xe(1),(0,Ve.b)(0))),Tt.pipe((0,Fe.U)(Ye=>{const Te={matches:!1,breakpoints:{}};return Ye.forEach(({matches:qe,query:Ut})=>{Te.matches=Te.matches||qe,Te.breakpoints[Ut]=qe}),Te}))}_registerQuery(ue){if(this._queries.has(ue))return this._queries.get(ue);const De=this._mediaMatcher.matchMedia(ue),Tt={observable:new Le.y(Ye=>{const Te=qe=>this._zone.run(()=>Ye.next(qe));return De.addListener(Te),()=>{De.removeListener(Te)}}).pipe((0,Ue.O)(De),(0,Fe.U)(({matches:Ye})=>({query:ue,matches:Ye})),(0,bt.R)(this._destroySubject)),mql:De};return this._queries.set(ue,Tt),Tt}}return xe.\u0275fac=function(ue){return new(ue||xe)(l.LFG(Ot),l.LFG(l.R0b))},xe.\u0275prov=l.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"}),xe})();function Oi(xe){return xe.map(Ie=>Ie.split(",")).reduce((Ie,ue)=>Ie.concat(ue)).map(Ie=>Ie.trim())}const $n=" ";function pn(xe,Ie,ue){const De=In(xe,Ie);De.some(Qe=>Qe.trim()==ue.trim())||(De.push(ue.trim()),xe.setAttribute(Ie,De.join($n)))}function jn(xe,Ie,ue){const Qe=In(xe,Ie).filter(Tt=>Tt!=ue.trim());Qe.length?xe.setAttribute(Ie,Qe.join($n)):xe.removeAttribute(Ie)}function In(xe,Ie){return(xe.getAttribute(Ie)||"").match(/\S+/g)||[]}const gt="cdk-describedby-message",Nt="cdk-describedby-host";let zt=0,ni=(()=>{class xe{constructor(ue,De){this._platform=De,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+zt++,this._document=ue,this._id=(0,l.f3M)(l.AFp)+"-"+zt++}describe(ue,De,Qe){if(!this._canBeDescribed(ue,De))return;const Tt=Ct(De,Qe);"string"!=typeof De?(li(De,this._id),this._messageRegistry.set(Tt,{messageElement:De,referenceCount:0})):this._messageRegistry.has(Tt)||this._createMessageElement(De,Qe),this._isElementDescribedByMessage(ue,Tt)||this._addMessageReference(ue,Tt)}removeDescription(ue,De,Qe){if(!De||!this._isElementNode(ue))return;const Tt=Ct(De,Qe);if(this._isElementDescribedByMessage(ue,Tt)&&this._removeMessageReference(ue,Tt),"string"==typeof De){const Ye=this._messageRegistry.get(Tt);Ye&&0===Ye.referenceCount&&this._deleteMessageElement(Tt)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const ue=this._document.querySelectorAll(`[${Nt}="${this._id}"]`);for(let De=0;De<ue.length;De++)this._removeCdkDescribedByReferenceIds(ue[De]),ue[De].removeAttribute(Nt);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(ue,De){const Qe=this._document.createElement("div");li(Qe,this._id),Qe.textContent=ue,De&&Qe.setAttribute("role",De),this._createMessagesContainer(),this._messagesContainer.appendChild(Qe),this._messageRegistry.set(Ct(ue,De),{messageElement:Qe,referenceCount:0})}_deleteMessageElement(ue){this._messageRegistry.get(ue)?.messageElement?.remove(),this._messageRegistry.delete(ue)}_createMessagesContainer(){if(this._messagesContainer)return;const ue="cdk-describedby-message-container",De=this._document.querySelectorAll(`.${ue}[platform="server"]`);for(let Tt=0;Tt<De.length;Tt++)De[Tt].remove();const Qe=this._document.createElement("div");Qe.style.visibility="hidden",Qe.classList.add(ue),Qe.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&Qe.setAttribute("platform","server"),this._document.body.appendChild(Qe),this._messagesContainer=Qe}_removeCdkDescribedByReferenceIds(ue){const De=In(ue,"aria-describedby").filter(Qe=>0!=Qe.indexOf(gt));ue.setAttribute("aria-describedby",De.join(" "))}_addMessageReference(ue,De){const Qe=this._messageRegistry.get(De);pn(ue,"aria-describedby",Qe.messageElement.id),ue.setAttribute(Nt,this._id),Qe.referenceCount++}_removeMessageReference(ue,De){const Qe=this._messageRegistry.get(De);Qe.referenceCount--,jn(ue,"aria-describedby",Qe.messageElement.id),ue.removeAttribute(Nt)}_isElementDescribedByMessage(ue,De){const Qe=In(ue,"aria-describedby"),Tt=this._messageRegistry.get(De),Ye=Tt&&Tt.messageElement.id;return!!Ye&&-1!=Qe.indexOf(Ye)}_canBeDescribed(ue,De){if(!this._isElementNode(ue))return!1;if(De&&"object"==typeof De)return!0;const Qe=null==De?"":`${De}`.trim(),Tt=ue.getAttribute("aria-label");return!(!Qe||Tt&&Tt.trim()===Qe)}_isElementNode(ue){return ue.nodeType===this._document.ELEMENT_NODE}}return xe.\u0275fac=function(ue){return new(ue||xe)(l.LFG(C.K0),l.LFG(le.t4))},xe.\u0275prov=l.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"}),xe})();function Ct(xe,Ie){return"string"==typeof xe?`${Ie||""}/${xe}`:xe}function li(xe,Ie){xe.id||(xe.id=`${gt}-${Ie}-${zt++}`)}class Be{constructor(Ie){this._items=Ie,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new v.x,this._typeaheadSubscription=je.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=ue=>ue.disabled,this._pressedLetters=[],this.tabOut=new v.x,this.change=new v.x,Ie instanceof l.n_E&&(this._itemChangesSubscription=Ie.changes.subscribe(ue=>{if(this._activeItem){const Qe=ue.toArray().indexOf(this._activeItem);Qe>-1&&Qe!==this._activeItemIndex&&(this._activeItemIndex=Qe)}}))}skipPredicate(Ie){return this._skipPredicateFn=Ie,this}withWrap(Ie=!0){return this._wrap=Ie,this}withVerticalOrientation(Ie=!0){return this._vertical=Ie,this}withHorizontalOrientation(Ie){return this._horizontal=Ie,this}withAllowedModifierKeys(Ie){return this._allowedModifierKeys=Ie,this}withTypeAhead(Ie=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Ge.b)(ue=>this._pressedLetters.push(ue)),(0,Ve.b)(Ie),(0,nt.h)(()=>this._pressedLetters.length>0),(0,Fe.U)(()=>this._pressedLetters.join(""))).subscribe(ue=>{const De=this._getItemsArray();for(let Qe=1;Qe<De.length+1;Qe++){const Tt=(this._activeItemIndex+Qe)%De.length,Ye=De[Tt];if(!this._skipPredicateFn(Ye)&&0===Ye.getLabel().toUpperCase().trim().indexOf(ue)){this.setActiveItem(Tt);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(Ie=!0){return this._homeAndEnd=Ie,this}withPageUpDown(Ie=!0,ue=10){return this._pageUpAndDown={enabled:Ie,delta:ue},this}setActiveItem(Ie){const ue=this._activeItem;this.updateActiveItem(Ie),this._activeItem!==ue&&this.change.next(this._activeItemIndex)}onKeydown(Ie){const ue=Ie.keyCode,Qe=["altKey","ctrlKey","metaKey","shiftKey"].every(Tt=>!Ie[Tt]||this._allowedModifierKeys.indexOf(Tt)>-1);switch(ue){case Oe.Mf:return void this.tabOut.next();case Oe.JH:if(this._vertical&&Qe){this.setNextItemActive();break}return;case Oe.LH:if(this._vertical&&Qe){this.setPreviousItemActive();break}return;case Oe.SV:if(this._horizontal&&Qe){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case Oe.oh:if(this._horizontal&&Qe){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case Oe.Sd:if(this._homeAndEnd&&Qe){this.setFirstItemActive();break}return;case Oe.uR:if(this._homeAndEnd&&Qe){this.setLastItemActive();break}return;case Oe.Ku:if(this._pageUpAndDown.enabled&&Qe){const Tt=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Tt>0?Tt:0,1);break}return;case Oe.VM:if(this._pageUpAndDown.enabled&&Qe){const Tt=this._activeItemIndex+this._pageUpAndDown.delta,Ye=this._getItemsArray().length;this._setActiveItemByIndex(Tt<Ye?Tt:Ye-1,-1);break}return;default:return void((Qe||(0,Oe.Vb)(Ie,"shiftKey"))&&(Ie.key&&1===Ie.key.length?this._letterKeyStream.next(Ie.key.toLocaleUpperCase()):(ue>=Oe.A&&ue<=Oe.Z||ue>=Oe.xE&&ue<=Oe.aO)&&this._letterKeyStream.next(String.fromCharCode(ue))))}this._pressedLetters=[],Ie.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Ie){const ue=this._getItemsArray(),De="number"==typeof Ie?Ie:ue.indexOf(Ie);this._activeItem=ue[De]??null,this._activeItemIndex=De}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(Ie){this._wrap?this._setActiveInWrapMode(Ie):this._setActiveInDefaultMode(Ie)}_setActiveInWrapMode(Ie){const ue=this._getItemsArray();for(let De=1;De<=ue.length;De++){const Qe=(this._activeItemIndex+Ie*De+ue.length)%ue.length;if(!this._skipPredicateFn(ue[Qe]))return void this.setActiveItem(Qe)}}_setActiveInDefaultMode(Ie){this._setActiveItemByIndex(this._activeItemIndex+Ie,Ie)}_setActiveItemByIndex(Ie,ue){const De=this._getItemsArray();if(De[Ie]){for(;this._skipPredicateFn(De[Ie]);)if(!De[Ie+=ue])return;this.setActiveItem(Ie)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}class rt extends Be{setActiveItem(Ie){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(Ie),this.activeItem&&this.activeItem.setActiveStyles()}}class ut extends Be{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Ie){return this._origin=Ie,this}setActiveItem(Ie){super.setActiveItem(Ie),this.activeItem&&this.activeItem.focus(this._origin)}}let ht=(()=>{class xe{constructor(ue){this._platform=ue}isDisabled(ue){return ue.hasAttribute("disabled")}isVisible(ue){return function Bt(xe){return!!(xe.offsetWidth||xe.offsetHeight||"function"==typeof xe.getClientRects&&xe.getClientRects().length)}(ue)&&"visible"===getComputedStyle(ue).visibility}isTabbable(ue){if(!this._platform.isBrowser)return!1;const De=function Kt(xe){try{return xe.frameElement}catch{return null}}(function at(xe){return xe.ownerDocument&&xe.ownerDocument.defaultView||window}(ue));if(De&&(-1===Nn(De)||!this.isVisible(De)))return!1;let Qe=ue.nodeName.toLowerCase(),Tt=Nn(ue);return ue.hasAttribute("contenteditable")?-1!==Tt:!("iframe"===Qe||"object"===Qe||this._platform.WEBKIT&&this._platform.IOS&&!function Cn(xe){let Ie=xe.nodeName.toLowerCase(),ue="input"===Ie&&xe.type;return"text"===ue||"password"===ue||"select"===Ie||"textarea"===Ie}(ue))&&("audio"===Qe?!!ue.hasAttribute("controls")&&-1!==Tt:"video"===Qe?-1!==Tt&&(null!==Tt||this._platform.FIREFOX||ue.hasAttribute("controls")):ue.tabIndex>=0)}isFocusable(ue,De){return function ii(xe){return!function ot(xe){return function wi(xe){return"input"==xe.nodeName.toLowerCase()}(xe)&&"hidden"==xe.type}(xe)&&(function ri(xe){let Ie=xe.nodeName.toLowerCase();return"input"===Ie||"select"===Ie||"button"===Ie||"textarea"===Ie}(xe)||function Dt(xe){return function vn(xe){return"a"==xe.nodeName.toLowerCase()}(xe)&&xe.hasAttribute("href")}(xe)||xe.hasAttribute("contenteditable")||Wi(xe))}(ue)&&!this.isDisabled(ue)&&(De?.ignoreVisibility||this.isVisible(ue))}}return xe.\u0275fac=function(ue){return new(ue||xe)(l.LFG(le.t4))},xe.\u0275prov=l.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"}),xe})();function Wi(xe){if(!xe.hasAttribute("tabindex")||void 0===xe.tabIndex)return!1;let Ie=xe.getAttribute("tabindex");return!(!Ie||isNaN(parseInt(Ie,10)))}function Nn(xe){if(!Wi(xe))return null;const Ie=parseInt(xe.getAttribute("tabindex")||"",10);return isNaN(Ie)?-1:Ie}class ae{get enabled(){return this._enabled}set enabled(Ie){this._enabled=Ie,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Ie,this._startAnchor),this._toggleAnchorTabIndex(Ie,this._endAnchor))}constructor(Ie,ue,De,Qe,Tt=!1){this._element=Ie,this._checker=ue,this._ngZone=De,this._document=Qe,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Tt||this.attachAnchors()}destroy(){const Ie=this._startAnchor,ue=this._endAnchor;Ie&&(Ie.removeEventListener("focus",this.startAnchorListener),Ie.remove()),ue&&(ue.removeEventListener("focus",this.endAnchorListener),ue.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(Ie){return new Promise(ue=>{this._executeOnStable(()=>ue(this.focusInitialElement(Ie)))})}focusFirstTabbableElementWhenReady(Ie){return new Promise(ue=>{this._executeOnStable(()=>ue(this.focusFirstTabbableElement(Ie)))})}focusLastTabbableElementWhenReady(Ie){return new Promise(ue=>{this._executeOnStable(()=>ue(this.focusLastTabbableElement(Ie)))})}_getRegionBoundary(Ie){const ue=this._element.querySelectorAll(`[cdk-focus-region-${Ie}], [cdkFocusRegion${Ie}], [cdk-focus-${Ie}]`);return"start"==Ie?ue.length?ue[0]:this._getFirstTabbableElement(this._element):ue.length?ue[ue.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(Ie){const ue=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(ue){if(!this._checker.isFocusable(ue)){const De=this._getFirstTabbableElement(ue);return De?.focus(Ie),!!De}return ue.focus(Ie),!0}return this.focusFirstTabbableElement(Ie)}focusFirstTabbableElement(Ie){const ue=this._getRegionBoundary("start");return ue&&ue.focus(Ie),!!ue}focusLastTabbableElement(Ie){const ue=this._getRegionBoundary("end");return ue&&ue.focus(Ie),!!ue}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Ie){if(this._checker.isFocusable(Ie)&&this._checker.isTabbable(Ie))return Ie;const ue=Ie.children;for(let De=0;De<ue.length;De++){const Qe=ue[De].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(ue[De]):null;if(Qe)return Qe}return null}_getLastTabbableElement(Ie){if(this._checker.isFocusable(Ie)&&this._checker.isTabbable(Ie))return Ie;const ue=Ie.children;for(let De=ue.length-1;De>=0;De--){const Qe=ue[De].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(ue[De]):null;if(Qe)return Qe}return null}_createAnchor(){const Ie=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Ie),Ie.classList.add("cdk-visually-hidden"),Ie.classList.add("cdk-focus-trap-anchor"),Ie.setAttribute("aria-hidden","true"),Ie}_toggleAnchorTabIndex(Ie,ue){Ie?ue.setAttribute("tabindex","0"):ue.removeAttribute("tabindex")}toggleAnchors(Ie){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Ie,this._startAnchor),this._toggleAnchorTabIndex(Ie,this._endAnchor))}_executeOnStable(Ie){this._ngZone.isStable?Ie():this._ngZone.onStable.pipe((0,et.q)(1)).subscribe(Ie)}}let Se=(()=>{class xe{constructor(ue,De,Qe){this._checker=ue,this._ngZone=De,this._document=Qe}create(ue,De=!1){return new ae(ue,this._checker,this._ngZone,this._document,De)}}return xe.\u0275fac=function(ue){return new(ue||xe)(l.LFG(ht),l.LFG(l.R0b),l.LFG(C.K0))},xe.\u0275prov=l.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"}),xe})();function Lt(xe){return 0===xe.buttons||0===xe.offsetX&&0===xe.offsetY}function yi(xe){const Ie=xe.touches&&xe.touches[0]||xe.changedTouches&&xe.changedTouches[0];return!(!Ie||-1!==Ie.identifier||null!=Ie.radiusX&&1!==Ie.radiusX||null!=Ie.radiusY&&1!==Ie.radiusY)}const pi=new l.OlP("cdk-input-modality-detector-options"),en={ignoreKeys:[Oe.zL,Oe.jx,Oe.b2,Oe.MW,Oe.JU]},Qi=(0,le.i$)({passive:!0,capture:!0});let Vi=(()=>{class xe{get mostRecentModality(){return this._modality.value}constructor(ue,De,Qe,Tt){this._platform=ue,this._mostRecentTarget=null,this._modality=new ne.X(null),this._lastTouchMs=0,this._onKeydown=Ye=>{this._options?.ignoreKeys?.some(Te=>Te===Ye.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,le.sA)(Ye))},this._onMousedown=Ye=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Lt(Ye)?"keyboard":"mouse"),this._mostRecentTarget=(0,le.sA)(Ye))},this._onTouchstart=Ye=>{yi(Ye)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,le.sA)(Ye))},this._options={...en,...Tt},this.modalityDetected=this._modality.pipe(Xe(1)),this.modalityChanged=this.modalityDetected.pipe((0,ct.x)()),ue.isBrowser&&De.runOutsideAngular(()=>{Qe.addEventListener("keydown",this._onKeydown,Qi),Qe.addEventListener("mousedown",this._onMousedown,Qi),Qe.addEventListener("touchstart",this._onTouchstart,Qi)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Qi),document.removeEventListener("mousedown",this._onMousedown,Qi),document.removeEventListener("touchstart",this._onTouchstart,Qi))}}return xe.\u0275fac=function(ue){return new(ue||xe)(l.LFG(le.t4),l.LFG(l.R0b),l.LFG(C.K0),l.LFG(pi,8))},xe.\u0275prov=l.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"}),xe})();const At=new l.OlP("liveAnnouncerElement",{providedIn:"root",factory:function ci(){return null}}),vt=new l.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let q=0,B=(()=>{class xe{constructor(ue,De,Qe,Tt){this._ngZone=De,this._defaultOptions=Tt,this._document=Qe,this._liveElement=ue||this._createLiveElement()}announce(ue,...De){const Qe=this._defaultOptions;let Tt,Ye;return 1===De.length&&"number"==typeof De[0]?Ye=De[0]:[Tt,Ye]=De,this.clear(),clearTimeout(this._previousTimeout),Tt||(Tt=Qe&&Qe.politeness?Qe.politeness:"polite"),null==Ye&&Qe&&(Ye=Qe.duration),this._liveElement.setAttribute("aria-live",Tt),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Te=>this._currentResolve=Te)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=ue,"number"==typeof Ye&&(this._previousTimeout=setTimeout(()=>this.clear(),Ye)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const ue="cdk-live-announcer-element",De=this._document.getElementsByClassName(ue),Qe=this._document.createElement("div");for(let Tt=0;Tt<De.length;Tt++)De[Tt].remove();return Qe.classList.add(ue),Qe.classList.add("cdk-visually-hidden"),Qe.setAttribute("aria-atomic","true"),Qe.setAttribute("aria-live","polite"),Qe.id="cdk-live-announcer-"+q++,this._document.body.appendChild(Qe),Qe}_exposeAnnouncerToModals(ue){const De=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Qe=0;Qe<De.length;Qe++){const Tt=De[Qe],Ye=Tt.getAttribute("aria-owns");Ye?-1===Ye.indexOf(ue)&&Tt.setAttribute("aria-owns",Ye+" "+ue):Tt.setAttribute("aria-owns",ue)}}}return xe.\u0275fac=function(ue){return new(ue||xe)(l.LFG(At,8),l.LFG(l.R0b),l.LFG(C.K0),l.LFG(vt,8))},xe.\u0275prov=l.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"}),xe})();const ie=new l.OlP("cdk-focus-monitor-default-options"),_e=(0,le.i$)({passive:!0,capture:!0});let ke=(()=>{class xe{constructor(ue,De,Qe,Tt,Ye){this._ngZone=ue,this._platform=De,this._inputModalityDetector=Qe,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new v.x,this._rootNodeFocusAndBlurListener=Te=>{for(let Ut=(0,le.sA)(Te);Ut;Ut=Ut.parentElement)"focus"===Te.type?this._onFocus(Te,Ut):this._onBlur(Te,Ut)},this._document=Tt,this._detectionMode=Ye?.detectionMode||0}monitor(ue,De=!1){const Qe=(0,Vt.fI)(ue);if(!this._platform.isBrowser||1!==Qe.nodeType)return(0,He.of)();const Tt=(0,le.kV)(Qe)||this._getDocument(),Ye=this._elementInfo.get(Qe);if(Ye)return De&&(Ye.checkChildren=!0),Ye.subject;const Te={checkChildren:De,subject:new v.x,rootNode:Tt};return this._elementInfo.set(Qe,Te),this._registerGlobalListeners(Te),Te.subject}stopMonitoring(ue){const De=(0,Vt.fI)(ue),Qe=this._elementInfo.get(De);Qe&&(Qe.subject.complete(),this._setClasses(De),this._elementInfo.delete(De),this._removeGlobalListeners(Qe))}focusVia(ue,De,Qe){const Tt=(0,Vt.fI)(ue);Tt===this._getDocument().activeElement?this._getClosestElementsInfo(Tt).forEach(([Te,qe])=>this._originChanged(Te,De,qe)):(this._setOrigin(De),"function"==typeof Tt.focus&&Tt.focus(Qe))}ngOnDestroy(){this._elementInfo.forEach((ue,De)=>this.stopMonitoring(De))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(ue){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(ue)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:ue&&this._isLastInteractionFromInputLabel(ue)?"mouse":"program"}_shouldBeAttributedToTouch(ue){return 1===this._detectionMode||!!ue?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(ue,De){ue.classList.toggle("cdk-focused",!!De),ue.classList.toggle("cdk-touch-focused","touch"===De),ue.classList.toggle("cdk-keyboard-focused","keyboard"===De),ue.classList.toggle("cdk-mouse-focused","mouse"===De),ue.classList.toggle("cdk-program-focused","program"===De)}_setOrigin(ue,De=!1){this._ngZone.runOutsideAngular(()=>{this._origin=ue,this._originFromTouchInteraction="touch"===ue&&De,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(ue,De){const Qe=this._elementInfo.get(De),Tt=(0,le.sA)(ue);!Qe||!Qe.checkChildren&&De!==Tt||this._originChanged(De,this._getFocusOrigin(Tt),Qe)}_onBlur(ue,De){const Qe=this._elementInfo.get(De);!Qe||Qe.checkChildren&&ue.relatedTarget instanceof Node&&De.contains(ue.relatedTarget)||(this._setClasses(De),this._emitOrigin(Qe,null))}_emitOrigin(ue,De){ue.subject.observers.length&&this._ngZone.run(()=>ue.subject.next(De))}_registerGlobalListeners(ue){if(!this._platform.isBrowser)return;const De=ue.rootNode,Qe=this._rootNodeFocusListenerCount.get(De)||0;Qe||this._ngZone.runOutsideAngular(()=>{De.addEventListener("focus",this._rootNodeFocusAndBlurListener,_e),De.addEventListener("blur",this._rootNodeFocusAndBlurListener,_e)}),this._rootNodeFocusListenerCount.set(De,Qe+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,bt.R)(this._stopInputModalityDetector)).subscribe(Tt=>{this._setOrigin(Tt,!0)}))}_removeGlobalListeners(ue){const De=ue.rootNode;if(this._rootNodeFocusListenerCount.has(De)){const Qe=this._rootNodeFocusListenerCount.get(De);Qe>1?this._rootNodeFocusListenerCount.set(De,Qe-1):(De.removeEventListener("focus",this._rootNodeFocusAndBlurListener,_e),De.removeEventListener("blur",this._rootNodeFocusAndBlurListener,_e),this._rootNodeFocusListenerCount.delete(De))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(ue,De,Qe){this._setClasses(ue,De),this._emitOrigin(Qe,De),this._lastFocusOrigin=De}_getClosestElementsInfo(ue){const De=[];return this._elementInfo.forEach((Qe,Tt)=>{(Tt===ue||Qe.checkChildren&&Tt.contains(ue))&&De.push([Tt,Qe])}),De}_isLastInteractionFromInputLabel(ue){const{_mostRecentTarget:De,mostRecentModality:Qe}=this._inputModalityDetector;if("mouse"!==Qe||!De||De===ue||"INPUT"!==ue.nodeName&&"TEXTAREA"!==ue.nodeName||ue.disabled)return!1;const Tt=ue.labels;if(Tt)for(let Ye=0;Ye<Tt.length;Ye++)if(Tt[Ye].contains(De))return!0;return!1}}return xe.\u0275fac=function(ue){return new(ue||xe)(l.LFG(l.R0b),l.LFG(le.t4),l.LFG(Vi),l.LFG(C.K0,8),l.LFG(ie,8))},xe.\u0275prov=l.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"}),xe})();const se="cdk-high-contrast-black-on-white",X="cdk-high-contrast-white-on-black",me="cdk-high-contrast-active";let Je=(()=>{class xe{constructor(ue,De){this._platform=ue,this._document=De,this._breakpointSubscription=(0,l.f3M)(Fi).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const ue=this._document.createElement("div");ue.style.backgroundColor="rgb(1,2,3)",ue.style.position="absolute",this._document.body.appendChild(ue);const De=this._document.defaultView||window,Qe=De&&De.getComputedStyle?De.getComputedStyle(ue):null,Tt=(Qe&&Qe.backgroundColor||"").replace(/ /g,"");switch(ue.remove(),Tt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const ue=this._document.body.classList;ue.remove(me,se,X),this._hasCheckedHighContrastMode=!0;const De=this.getHighContrastMode();1===De?ue.add(me,se):2===De&&ue.add(me,X)}}}return xe.\u0275fac=function(ue){return new(ue||xe)(l.LFG(le.t4),l.LFG(C.K0))},xe.\u0275prov=l.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"}),xe})(),lt=(()=>{class xe{constructor(ue){ue._applyBodyHighContrastModeCssClasses()}}return xe.\u0275fac=function(ue){return new(ue||xe)(l.LFG(Je))},xe.\u0275mod=l.oAB({type:xe}),xe.\u0275inj=l.cJS({imports:[oi.Q8]}),xe})()},9388:(_i,pt,H)=>{"use strict";H.d(pt,{Is:()=>He,vT:()=>Ge});var C=H(5879),l=H(6814);const le=new C.OlP("cdk-dir-doc",{providedIn:"root",factory:function v(){return(0,C.f3M)(l.K0)}}),je=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let He=(()=>{class Ve{constructor(Fe){this.value="ltr",this.change=new C.vpe,Fe&&(this.value=function ne(Ve){const nt=Ve?.toLowerCase()||"";return"auto"===nt&&typeof navigator<"u"&&navigator?.language?je.test(navigator.language)?"rtl":"ltr":"rtl"===nt?"rtl":"ltr"}((Fe.body?Fe.body.dir:null)||(Fe.documentElement?Fe.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return Ve.\u0275fac=function(Fe){return new(Fe||Ve)(C.LFG(le,8))},Ve.\u0275prov=C.Yz7({token:Ve,factory:Ve.\u0275fac,providedIn:"root"}),Ve})(),Ge=(()=>{class Ve{}return Ve.\u0275fac=function(Fe){return new(Fe||Ve)},Ve.\u0275mod=C.oAB({type:Ve}),Ve.\u0275inj=C.cJS({}),Ve})()},2495:(_i,pt,H)=>{"use strict";H.d(pt,{Eq:()=>je,HM:()=>ne,Ig:()=>l,fI:()=>He,su:()=>le});var C=H(5879);function l(Ge){return null!=Ge&&"false"!=`${Ge}`}function le(Ge,Ve=0){return function v(Ge){return!isNaN(parseFloat(Ge))&&!isNaN(Number(Ge))}(Ge)?Number(Ge):Ve}function je(Ge){return Array.isArray(Ge)?Ge:[Ge]}function ne(Ge){return null==Ge?"":"string"==typeof Ge?Ge:`${Ge}px`}function He(Ge){return Ge instanceof C.SBq?Ge.nativeElement:Ge}},8337:(_i,pt,H)=>{"use strict";H.d(pt,{A8:()=>Ve,Ov:()=>Oe});var C=H(8645),l=H(5879);class Oe{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(et=!1,Xe,ct=!0,bt){this._multiple=et,this._emitChanges=ct,this.compareWith=bt,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new C.x,Xe&&Xe.length&&(et?Xe.forEach(Vt=>this._markSelected(Vt)):this._markSelected(Xe[0]),this._selectedToEmit.length=0)}select(...et){this._verifyValueAssignment(et),et.forEach(ct=>this._markSelected(ct));const Xe=this._hasQueuedChanges();return this._emitChangeEvent(),Xe}deselect(...et){this._verifyValueAssignment(et),et.forEach(ct=>this._unmarkSelected(ct));const Xe=this._hasQueuedChanges();return this._emitChangeEvent(),Xe}setSelection(...et){this._verifyValueAssignment(et);const Xe=this.selected,ct=new Set(et);et.forEach(Vt=>this._markSelected(Vt)),Xe.filter(Vt=>!ct.has(Vt)).forEach(Vt=>this._unmarkSelected(Vt));const bt=this._hasQueuedChanges();return this._emitChangeEvent(),bt}toggle(et){return this.isSelected(et)?this.deselect(et):this.select(et)}clear(et=!0){this._unmarkAll();const Xe=this._hasQueuedChanges();return et&&this._emitChangeEvent(),Xe}isSelected(et){return this._selection.has(this._getConcreteValue(et))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(et){this._multiple&&this.selected&&this._selected.sort(et)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(et){et=this._getConcreteValue(et),this.isSelected(et)||(this._multiple||this._unmarkAll(),this.isSelected(et)||this._selection.add(et),this._emitChanges&&this._selectedToEmit.push(et))}_unmarkSelected(et){et=this._getConcreteValue(et),this.isSelected(et)&&(this._selection.delete(et),this._emitChanges&&this._deselectedToEmit.push(et))}_unmarkAll(){this.isEmpty()||this._selection.forEach(et=>this._unmarkSelected(et))}_verifyValueAssignment(et){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(et){if(this.compareWith){for(let Xe of this._selection)if(this.compareWith(et,Xe))return Xe;return et}return et}}let Ve=(()=>{class Fe{constructor(){this._listeners=[]}notify(Xe,ct){for(let bt of this._listeners)bt(Xe,ct)}listen(Xe){return this._listeners.push(Xe),()=>{this._listeners=this._listeners.filter(ct=>Xe!==ct)}}ngOnDestroy(){this._listeners=[]}}return Fe.\u0275fac=function(Xe){return new(Xe||Fe)},Fe.\u0275prov=l.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),Fe})()},6028:(_i,pt,H)=>{"use strict";H.d(pt,{A:()=>zt,JH:()=>Yt,JU:()=>ne,K5:()=>je,Ku:()=>et,LH:()=>oi,L_:()=>Fe,MW:()=>Re,Mf:()=>le,SV:()=>Ti,Sd:()=>bt,VM:()=>Xe,Vb:()=>gn,Z:()=>de,aO:()=>jn,b2:()=>co,hY:()=>nt,jx:()=>He,oh:()=>Vt,uR:()=>ct,xE:()=>Pt,zL:()=>Oe});const le=9,je=13,ne=16,He=17,Oe=18,nt=27,Fe=32,et=33,Xe=34,ct=35,bt=36,Vt=37,oi=38,Ti=39,Yt=40,Pt=48,jn=57,zt=65,de=90,Re=91,co=224;function gn(no,...Ro){return Ro.length?Ro.some(cs=>no[cs]):no.altKey||no.shiftKey||no.ctrlKey||no.metaKey}},7131:(_i,pt,H)=>{"use strict";H.d(pt,{Q8:()=>Ge,wD:()=>Oe});var C=H(2495),l=H(5879),le=H(5592),v=H(8645),je=H(3620);let ne=(()=>{class Ve{create(Fe){return typeof MutationObserver>"u"?null:new MutationObserver(Fe)}}return Ve.\u0275fac=function(Fe){return new(Fe||Ve)},Ve.\u0275prov=l.Yz7({token:Ve,factory:Ve.\u0275fac,providedIn:"root"}),Ve})(),He=(()=>{class Ve{constructor(Fe){this._mutationObserverFactory=Fe,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((Fe,et)=>this._cleanupObserver(et))}observe(Fe){const et=(0,C.fI)(Fe);return new le.y(Xe=>{const bt=this._observeElement(et).subscribe(Xe);return()=>{bt.unsubscribe(),this._unobserveElement(et)}})}_observeElement(Fe){if(this._observedElements.has(Fe))this._observedElements.get(Fe).count++;else{const et=new v.x,Xe=this._mutationObserverFactory.create(ct=>et.next(ct));Xe&&Xe.observe(Fe,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(Fe,{observer:Xe,stream:et,count:1})}return this._observedElements.get(Fe).stream}_unobserveElement(Fe){this._observedElements.has(Fe)&&(this._observedElements.get(Fe).count--,this._observedElements.get(Fe).count||this._cleanupObserver(Fe))}_cleanupObserver(Fe){if(this._observedElements.has(Fe)){const{observer:et,stream:Xe}=this._observedElements.get(Fe);et&&et.disconnect(),Xe.complete(),this._observedElements.delete(Fe)}}}return Ve.\u0275fac=function(Fe){return new(Fe||Ve)(l.LFG(ne))},Ve.\u0275prov=l.Yz7({token:Ve,factory:Ve.\u0275fac,providedIn:"root"}),Ve})(),Oe=(()=>{class Ve{get disabled(){return this._disabled}set disabled(Fe){this._disabled=(0,C.Ig)(Fe),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(Fe){this._debounce=(0,C.su)(Fe),this._subscribe()}constructor(Fe,et,Xe){this._contentObserver=Fe,this._elementRef=et,this._ngZone=Xe,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const Fe=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?Fe.pipe((0,je.b)(this.debounce)):Fe).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return Ve.\u0275fac=function(Fe){return new(Fe||Ve)(l.Y36(He),l.Y36(l.SBq),l.Y36(l.R0b))},Ve.\u0275dir=l.lG2({type:Ve,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),Ve})(),Ge=(()=>{class Ve{}return Ve.\u0275fac=function(Fe){return new(Fe||Ve)},Ve.\u0275mod=l.oAB({type:Ve}),Ve.\u0275inj=l.cJS({providers:[ne]}),Ve})()},3651:(_i,pt,H)=>{"use strict";H.d(pt,{pI:()=>vn,xu:()=>wi,aV:()=>ri,U8:()=>Cn});var C=H(799),l=H(6814),le=H(5879),v=H(2495),je=H(2831),ne=H(2181),He=H(8180),Oe=H(9773),Ge=H(9360),Ve=H(8251),Fe=H(9388),et=H(8484),Xe=H(8645),ct=H(7394),bt=H(3019),Vt=H(6028);const oi=(0,je.Mq)();class Ti{constructor(ae,Se){this._viewportRuler=ae,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Se}attach(){}enable(){if(this._canBeEnabled()){const ae=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=ae.style.left||"",this._previousHTMLStyles.top=ae.style.top||"",ae.style.left=(0,v.HM)(-this._previousScrollPosition.left),ae.style.top=(0,v.HM)(-this._previousScrollPosition.top),ae.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const ae=this._document.documentElement,Pe=ae.style,he=this._document.body.style,de=Pe.scrollBehavior||"",Re=he.scrollBehavior||"";this._isEnabled=!1,Pe.left=this._previousHTMLStyles.left,Pe.top=this._previousHTMLStyles.top,ae.classList.remove("cdk-global-scrollblock"),oi&&(Pe.scrollBehavior=he.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),oi&&(Pe.scrollBehavior=de,he.scrollBehavior=Re)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Se=this._document.body,Pe=this._viewportRuler.getViewportSize();return Se.scrollHeight>Pe.height||Se.scrollWidth>Pe.width}}class Le{constructor(ae,Se,Pe,he){this._scrollDispatcher=ae,this._ngZone=Se,this._viewportRuler=Pe,this._config=he,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(ae){this._overlayRef=ae}enable(){if(this._scrollSubscription)return;const ae=this._scrollDispatcher.scrolled(0).pipe((0,ne.h)(Se=>!Se||!this._overlayRef.overlayElement.contains(Se.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=ae.subscribe(()=>{const Se=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Se-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=ae.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Ue{enable(){}disable(){}attach(){}}function Ae(at,ae){return ae.some(Se=>at.bottom<Se.top||at.top>Se.bottom||at.right<Se.left||at.left>Se.right)}function It(at,ae){return ae.some(Se=>at.top<Se.top||at.bottom>Se.bottom||at.left<Se.left||at.right>Se.right)}class Pt{constructor(ae,Se,Pe,he){this._scrollDispatcher=ae,this._viewportRuler=Se,this._ngZone=Pe,this._config=he,this._scrollSubscription=null}attach(ae){this._overlayRef=ae}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Se=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Pe,height:he}=this._viewportRuler.getViewportSize();Ae(Se,[{width:Pe,height:he,bottom:he,right:Pe,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ot=(()=>{class at{constructor(Se,Pe,he,de){this._scrollDispatcher=Se,this._viewportRuler=Pe,this._ngZone=he,this.noop=()=>new Ue,this.close=Re=>new Le(this._scrollDispatcher,this._ngZone,this._viewportRuler,Re),this.block=()=>new Ti(this._viewportRuler,this._document),this.reposition=Re=>new Pt(this._scrollDispatcher,this._viewportRuler,this._ngZone,Re),this._document=de}}return at.\u0275fac=function(Se){return new(Se||at)(le.LFG(C.mF),le.LFG(C.rL),le.LFG(le.R0b),le.LFG(l.K0))},at.\u0275prov=le.Yz7({token:at,factory:at.\u0275fac,providedIn:"root"}),at})();class ui{constructor(ae){if(this.scrollStrategy=new Ue,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,ae){const Se=Object.keys(ae);for(const Pe of Se)void 0!==ae[Pe]&&(this[Pe]=ae[Pe])}}}class Oi{constructor(ae,Se){this.connectionPair=ae,this.scrollableViewProperties=Se}}let pn=(()=>{class at{constructor(Se){this._attachedOverlays=[],this._document=Se}ngOnDestroy(){this.detach()}add(Se){this.remove(Se),this._attachedOverlays.push(Se)}remove(Se){const Pe=this._attachedOverlays.indexOf(Se);Pe>-1&&this._attachedOverlays.splice(Pe,1),0===this._attachedOverlays.length&&this.detach()}}return at.\u0275fac=function(Se){return new(Se||at)(le.LFG(l.K0))},at.\u0275prov=le.Yz7({token:at,factory:at.\u0275fac,providedIn:"root"}),at})(),jn=(()=>{class at extends pn{constructor(Se,Pe){super(Se),this._ngZone=Pe,this._keydownListener=he=>{const de=this._attachedOverlays;for(let Re=de.length-1;Re>-1;Re--)if(de[Re]._keydownEvents.observers.length>0){const xt=de[Re]._keydownEvents;this._ngZone?this._ngZone.run(()=>xt.next(he)):xt.next(he);break}}}add(Se){super.add(Se),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return at.\u0275fac=function(Se){return new(Se||at)(le.LFG(l.K0),le.LFG(le.R0b,8))},at.\u0275prov=le.Yz7({token:at,factory:at.\u0275fac,providedIn:"root"}),at})(),In=(()=>{class at extends pn{constructor(Se,Pe,he){super(Se),this._platform=Pe,this._ngZone=he,this._cursorStyleIsSet=!1,this._pointerDownListener=de=>{this._pointerDownEventTarget=(0,je.sA)(de)},this._clickListener=de=>{const Re=(0,je.sA)(de),xt="click"===de.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Re;this._pointerDownEventTarget=null;const Jt=this._attachedOverlays.slice();for(let Lt=Jt.length-1;Lt>-1;Lt--){const yi=Jt[Lt];if(yi._outsidePointerEvents.observers.length<1||!yi.hasAttached())continue;if(yi.overlayElement.contains(Re)||yi.overlayElement.contains(xt))break;const pi=yi._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>pi.next(de)):pi.next(de)}}}add(Se){if(super.add(Se),!this._isAttached){const Pe=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Pe)):this._addEventListeners(Pe),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Pe.style.cursor,Pe.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Se=this._document.body;Se.removeEventListener("pointerdown",this._pointerDownListener,!0),Se.removeEventListener("click",this._clickListener,!0),Se.removeEventListener("auxclick",this._clickListener,!0),Se.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Se.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Se){Se.addEventListener("pointerdown",this._pointerDownListener,!0),Se.addEventListener("click",this._clickListener,!0),Se.addEventListener("auxclick",this._clickListener,!0),Se.addEventListener("contextmenu",this._clickListener,!0)}}return at.\u0275fac=function(Se){return new(Se||at)(le.LFG(l.K0),le.LFG(je.t4),le.LFG(le.R0b,8))},at.\u0275prov=le.Yz7({token:at,factory:at.\u0275fac,providedIn:"root"}),at})(),Et=(()=>{class at{constructor(Se,Pe){this._platform=Pe,this._document=Se}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Se="cdk-overlay-container";if(this._platform.isBrowser||(0,je.Oy)()){const he=this._document.querySelectorAll(`.${Se}[platform="server"], .${Se}[platform="test"]`);for(let de=0;de<he.length;de++)he[de].remove()}const Pe=this._document.createElement("div");Pe.classList.add(Se),(0,je.Oy)()?Pe.setAttribute("platform","test"):this._platform.isBrowser||Pe.setAttribute("platform","server"),this._document.body.appendChild(Pe),this._containerElement=Pe}}return at.\u0275fac=function(Se){return new(Se||at)(le.LFG(l.K0),le.LFG(je.t4))},at.\u0275prov=le.Yz7({token:at,factory:at.\u0275fac,providedIn:"root"}),at})();class gt{constructor(ae,Se,Pe,he,de,Re,xt,Jt,Lt,yi=!1){this._portalOutlet=ae,this._host=Se,this._pane=Pe,this._config=he,this._ngZone=de,this._keyboardDispatcher=Re,this._document=xt,this._location=Jt,this._outsideClickDispatcher=Lt,this._animationsDisabled=yi,this._backdropElement=null,this._backdropClick=new Xe.x,this._attachments=new Xe.x,this._detachments=new Xe.x,this._locationChanges=ct.w0.EMPTY,this._backdropClickHandler=pi=>this._backdropClick.next(pi),this._backdropTransitionendHandler=pi=>{this._disposeBackdrop(pi.target)},this._keydownEvents=new Xe.x,this._outsidePointerEvents=new Xe.x,he.scrollStrategy&&(this._scrollStrategy=he.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=he.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(ae){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Se=this._portalOutlet.attach(ae);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,He.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Se?.onDestroy&&Se.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Se}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const ae=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),ae}dispose(){const ae=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,ae&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(ae){ae!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=ae,this.hasAttached()&&(ae.attach(this),this.updatePosition()))}updateSize(ae){this._config={...this._config,...ae},this._updateElementSize()}setDirection(ae){this._config={...this._config,direction:ae},this._updateElementDirection()}addPanelClass(ae){this._pane&&this._toggleClasses(this._pane,ae,!0)}removePanelClass(ae){this._pane&&this._toggleClasses(this._pane,ae,!1)}getDirection(){const ae=this._config.direction;return ae?"string"==typeof ae?ae:ae.value:"ltr"}updateScrollStrategy(ae){ae!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=ae,this.hasAttached()&&(ae.attach(this),ae.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const ae=this._pane.style;ae.width=(0,v.HM)(this._config.width),ae.height=(0,v.HM)(this._config.height),ae.minWidth=(0,v.HM)(this._config.minWidth),ae.minHeight=(0,v.HM)(this._config.minHeight),ae.maxWidth=(0,v.HM)(this._config.maxWidth),ae.maxHeight=(0,v.HM)(this._config.maxHeight)}_togglePointerEvents(ae){this._pane.style.pointerEvents=ae?"":"none"}_attachBackdrop(){const ae="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(ae)})}):this._backdropElement.classList.add(ae)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const ae=this._backdropElement;if(ae){if(this._animationsDisabled)return void this._disposeBackdrop(ae);ae.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{ae.addEventListener("transitionend",this._backdropTransitionendHandler)}),ae.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(ae)},500))}}_toggleClasses(ae,Se,Pe){const he=(0,v.Eq)(Se||[]).filter(de=>!!de);he.length&&(Pe?ae.classList.add(...he):ae.classList.remove(...he))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const ae=this._ngZone.onStable.pipe((0,Oe.R)((0,bt.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),ae.unsubscribe())})})}_disposeScrollStrategy(){const ae=this._scrollStrategy;ae&&(ae.disable(),ae.detach&&ae.detach())}_disposeBackdrop(ae){ae&&(ae.removeEventListener("click",this._backdropClickHandler),ae.removeEventListener("transitionend",this._backdropTransitionendHandler),ae.remove(),this._backdropElement===ae&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Nt="cdk-overlay-connected-position-bounding-box",zt=/([A-Za-z%]+)$/;class ni{get positions(){return this._preferredPositions}constructor(ae,Se,Pe,he,de){this._viewportRuler=Se,this._document=Pe,this._platform=he,this._overlayContainer=de,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Xe.x,this._resizeSubscription=ct.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(ae)}attach(ae){this._validatePositions(),ae.hostElement.classList.add(Nt),this._overlayRef=ae,this._boundingBox=ae.hostElement,this._pane=ae.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ae=this._originRect,Se=this._overlayRect,Pe=this._viewportRect,he=this._containerRect,de=[];let Re;for(let xt of this._preferredPositions){let Jt=this._getOriginPoint(ae,he,xt),Lt=this._getOverlayPoint(Jt,Se,xt),yi=this._getOverlayFit(Lt,Se,Pe,xt);if(yi.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(xt,Jt);this._canFitWithFlexibleDimensions(yi,Lt,Pe)?de.push({position:xt,origin:Jt,overlayRect:Se,boundingBoxRect:this._calculateBoundingBoxRect(Jt,xt)}):(!Re||Re.overlayFit.visibleArea<yi.visibleArea)&&(Re={overlayFit:yi,overlayPoint:Lt,originPoint:Jt,position:xt,overlayRect:Se})}if(de.length){let xt=null,Jt=-1;for(const Lt of de){const yi=Lt.boundingBoxRect.width*Lt.boundingBoxRect.height*(Lt.position.weight||1);yi>Jt&&(Jt=yi,xt=Lt)}return this._isPushed=!1,void this._applyPosition(xt.position,xt.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Re.position,Re.originPoint);this._applyPosition(Re.position,Re.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ct(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Nt),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const ae=this._lastPosition;if(ae){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Se=this._getOriginPoint(this._originRect,this._containerRect,ae);this._applyPosition(ae,Se)}else this.apply()}withScrollableContainers(ae){return this._scrollables=ae,this}withPositions(ae){return this._preferredPositions=ae,-1===ae.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(ae){return this._viewportMargin=ae,this}withFlexibleDimensions(ae=!0){return this._hasFlexibleDimensions=ae,this}withGrowAfterOpen(ae=!0){return this._growAfterOpen=ae,this}withPush(ae=!0){return this._canPush=ae,this}withLockedPosition(ae=!0){return this._positionLocked=ae,this}setOrigin(ae){return this._origin=ae,this}withDefaultOffsetX(ae){return this._offsetX=ae,this}withDefaultOffsetY(ae){return this._offsetY=ae,this}withTransformOriginOn(ae){return this._transformOriginSelector=ae,this}_getOriginPoint(ae,Se,Pe){let he,de;if("center"==Pe.originX)he=ae.left+ae.width/2;else{const Re=this._isRtl()?ae.right:ae.left,xt=this._isRtl()?ae.left:ae.right;he="start"==Pe.originX?Re:xt}return Se.left<0&&(he-=Se.left),de="center"==Pe.originY?ae.top+ae.height/2:"top"==Pe.originY?ae.top:ae.bottom,Se.top<0&&(de-=Se.top),{x:he,y:de}}_getOverlayPoint(ae,Se,Pe){let he,de;return he="center"==Pe.overlayX?-Se.width/2:"start"===Pe.overlayX?this._isRtl()?-Se.width:0:this._isRtl()?0:-Se.width,de="center"==Pe.overlayY?-Se.height/2:"top"==Pe.overlayY?0:-Se.height,{x:ae.x+he,y:ae.y+de}}_getOverlayFit(ae,Se,Pe,he){const de=Be(Se);let{x:Re,y:xt}=ae,Jt=this._getOffset(he,"x"),Lt=this._getOffset(he,"y");Jt&&(Re+=Jt),Lt&&(xt+=Lt);let en=0-xt,nn=xt+de.height-Pe.height,Qi=this._subtractOverflows(de.width,0-Re,Re+de.width-Pe.width),Vi=this._subtractOverflows(de.height,en,nn),At=Qi*Vi;return{visibleArea:At,isCompletelyWithinViewport:de.width*de.height===At,fitsInViewportVertically:Vi===de.height,fitsInViewportHorizontally:Qi==de.width}}_canFitWithFlexibleDimensions(ae,Se,Pe){if(this._hasFlexibleDimensions){const he=Pe.bottom-Se.y,de=Pe.right-Se.x,Re=li(this._overlayRef.getConfig().minHeight),xt=li(this._overlayRef.getConfig().minWidth);return(ae.fitsInViewportVertically||null!=Re&&Re<=he)&&(ae.fitsInViewportHorizontally||null!=xt&&xt<=de)}return!1}_pushOverlayOnScreen(ae,Se,Pe){if(this._previousPushAmount&&this._positionLocked)return{x:ae.x+this._previousPushAmount.x,y:ae.y+this._previousPushAmount.y};const he=Be(Se),de=this._viewportRect,Re=Math.max(ae.x+he.width-de.width,0),xt=Math.max(ae.y+he.height-de.height,0),Jt=Math.max(de.top-Pe.top-ae.y,0),Lt=Math.max(de.left-Pe.left-ae.x,0);let yi=0,pi=0;return yi=he.width<=de.width?Lt||-Re:ae.x<this._viewportMargin?de.left-Pe.left-ae.x:0,pi=he.height<=de.height?Jt||-xt:ae.y<this._viewportMargin?de.top-Pe.top-ae.y:0,this._previousPushAmount={x:yi,y:pi},{x:ae.x+yi,y:ae.y+pi}}_applyPosition(ae,Se){if(this._setTransformOrigin(ae),this._setOverlayElementStyles(Se,ae),this._setBoundingBoxStyles(Se,ae),ae.panelClass&&this._addPanelClasses(ae.panelClass),this._lastPosition=ae,this._positionChanges.observers.length){const Pe=this._getScrollVisibility(),he=new Oi(ae,Pe);this._positionChanges.next(he)}this._isInitialRender=!1}_setTransformOrigin(ae){if(!this._transformOriginSelector)return;const Se=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Pe,he=ae.overlayY;Pe="center"===ae.overlayX?"center":this._isRtl()?"start"===ae.overlayX?"right":"left":"start"===ae.overlayX?"left":"right";for(let de=0;de<Se.length;de++)Se[de].style.transformOrigin=`${Pe} ${he}`}_calculateBoundingBoxRect(ae,Se){const Pe=this._viewportRect,he=this._isRtl();let de,Re,xt,yi,pi,en;if("top"===Se.overlayY)Re=ae.y,de=Pe.height-Re+this._viewportMargin;else if("bottom"===Se.overlayY)xt=Pe.height-ae.y+2*this._viewportMargin,de=Pe.height-xt+this._viewportMargin;else{const nn=Math.min(Pe.bottom-ae.y+Pe.top,ae.y),Qi=this._lastBoundingBoxSize.height;de=2*nn,Re=ae.y-nn,de>Qi&&!this._isInitialRender&&!this._growAfterOpen&&(Re=ae.y-Qi/2)}if("end"===Se.overlayX&&!he||"start"===Se.overlayX&&he)en=Pe.width-ae.x+this._viewportMargin,yi=ae.x-this._viewportMargin;else if("start"===Se.overlayX&&!he||"end"===Se.overlayX&&he)pi=ae.x,yi=Pe.right-ae.x;else{const nn=Math.min(Pe.right-ae.x+Pe.left,ae.x),Qi=this._lastBoundingBoxSize.width;yi=2*nn,pi=ae.x-nn,yi>Qi&&!this._isInitialRender&&!this._growAfterOpen&&(pi=ae.x-Qi/2)}return{top:Re,left:pi,bottom:xt,right:en,width:yi,height:de}}_setBoundingBoxStyles(ae,Se){const Pe=this._calculateBoundingBoxRect(ae,Se);!this._isInitialRender&&!this._growAfterOpen&&(Pe.height=Math.min(Pe.height,this._lastBoundingBoxSize.height),Pe.width=Math.min(Pe.width,this._lastBoundingBoxSize.width));const he={};if(this._hasExactPosition())he.top=he.left="0",he.bottom=he.right=he.maxHeight=he.maxWidth="",he.width=he.height="100%";else{const de=this._overlayRef.getConfig().maxHeight,Re=this._overlayRef.getConfig().maxWidth;he.height=(0,v.HM)(Pe.height),he.top=(0,v.HM)(Pe.top),he.bottom=(0,v.HM)(Pe.bottom),he.width=(0,v.HM)(Pe.width),he.left=(0,v.HM)(Pe.left),he.right=(0,v.HM)(Pe.right),he.alignItems="center"===Se.overlayX?"center":"end"===Se.overlayX?"flex-end":"flex-start",he.justifyContent="center"===Se.overlayY?"center":"bottom"===Se.overlayY?"flex-end":"flex-start",de&&(he.maxHeight=(0,v.HM)(de)),Re&&(he.maxWidth=(0,v.HM)(Re))}this._lastBoundingBoxSize=Pe,Ct(this._boundingBox.style,he)}_resetBoundingBoxStyles(){Ct(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ct(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(ae,Se){const Pe={},he=this._hasExactPosition(),de=this._hasFlexibleDimensions,Re=this._overlayRef.getConfig();if(he){const yi=this._viewportRuler.getViewportScrollPosition();Ct(Pe,this._getExactOverlayY(Se,ae,yi)),Ct(Pe,this._getExactOverlayX(Se,ae,yi))}else Pe.position="static";let xt="",Jt=this._getOffset(Se,"x"),Lt=this._getOffset(Se,"y");Jt&&(xt+=`translateX(${Jt}px) `),Lt&&(xt+=`translateY(${Lt}px)`),Pe.transform=xt.trim(),Re.maxHeight&&(he?Pe.maxHeight=(0,v.HM)(Re.maxHeight):de&&(Pe.maxHeight="")),Re.maxWidth&&(he?Pe.maxWidth=(0,v.HM)(Re.maxWidth):de&&(Pe.maxWidth="")),Ct(this._pane.style,Pe)}_getExactOverlayY(ae,Se,Pe){let he={top:"",bottom:""},de=this._getOverlayPoint(Se,this._overlayRect,ae);return this._isPushed&&(de=this._pushOverlayOnScreen(de,this._overlayRect,Pe)),"bottom"===ae.overlayY?he.bottom=this._document.documentElement.clientHeight-(de.y+this._overlayRect.height)+"px":he.top=(0,v.HM)(de.y),he}_getExactOverlayX(ae,Se,Pe){let Re,he={left:"",right:""},de=this._getOverlayPoint(Se,this._overlayRect,ae);return this._isPushed&&(de=this._pushOverlayOnScreen(de,this._overlayRect,Pe)),Re=this._isRtl()?"end"===ae.overlayX?"left":"right":"end"===ae.overlayX?"right":"left","right"===Re?he.right=this._document.documentElement.clientWidth-(de.x+this._overlayRect.width)+"px":he.left=(0,v.HM)(de.x),he}_getScrollVisibility(){const ae=this._getOriginRect(),Se=this._pane.getBoundingClientRect(),Pe=this._scrollables.map(he=>he.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:It(ae,Pe),isOriginOutsideView:Ae(ae,Pe),isOverlayClipped:It(Se,Pe),isOverlayOutsideView:Ae(Se,Pe)}}_subtractOverflows(ae,...Se){return Se.reduce((Pe,he)=>Pe-Math.max(he,0),ae)}_getNarrowedViewportRect(){const ae=this._document.documentElement.clientWidth,Se=this._document.documentElement.clientHeight,Pe=this._viewportRuler.getViewportScrollPosition();return{top:Pe.top+this._viewportMargin,left:Pe.left+this._viewportMargin,right:Pe.left+ae-this._viewportMargin,bottom:Pe.top+Se-this._viewportMargin,width:ae-2*this._viewportMargin,height:Se-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(ae,Se){return"x"===Se?null==ae.offsetX?this._offsetX:ae.offsetX:null==ae.offsetY?this._offsetY:ae.offsetY}_validatePositions(){}_addPanelClasses(ae){this._pane&&(0,v.Eq)(ae).forEach(Se=>{""!==Se&&-1===this._appliedPanelClasses.indexOf(Se)&&(this._appliedPanelClasses.push(Se),this._pane.classList.add(Se))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(ae=>{this._pane.classList.remove(ae)}),this._appliedPanelClasses=[])}_getOriginRect(){const ae=this._origin;if(ae instanceof le.SBq)return ae.nativeElement.getBoundingClientRect();if(ae instanceof Element)return ae.getBoundingClientRect();const Se=ae.width||0,Pe=ae.height||0;return{top:ae.y,bottom:ae.y+Pe,left:ae.x,right:ae.x+Se,height:Pe,width:Se}}}function Ct(at,ae){for(let Se in ae)ae.hasOwnProperty(Se)&&(at[Se]=ae[Se]);return at}function li(at){if("number"!=typeof at&&null!=at){const[ae,Se]=at.split(zt);return Se&&"px"!==Se?null:parseFloat(ae)}return at||null}function Be(at){return{top:Math.floor(at.top),right:Math.floor(at.right),bottom:Math.floor(at.bottom),left:Math.floor(at.left),width:Math.floor(at.width),height:Math.floor(at.height)}}const Ee="cdk-global-overlay-wrapper";class ht{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(ae){const Se=ae.getConfig();this._overlayRef=ae,this._width&&!Se.width&&ae.updateSize({width:this._width}),this._height&&!Se.height&&ae.updateSize({height:this._height}),ae.hostElement.classList.add(Ee),this._isDisposed=!1}top(ae=""){return this._bottomOffset="",this._topOffset=ae,this._alignItems="flex-start",this}left(ae=""){return this._xOffset=ae,this._xPosition="left",this}bottom(ae=""){return this._topOffset="",this._bottomOffset=ae,this._alignItems="flex-end",this}right(ae=""){return this._xOffset=ae,this._xPosition="right",this}start(ae=""){return this._xOffset=ae,this._xPosition="start",this}end(ae=""){return this._xOffset=ae,this._xPosition="end",this}width(ae=""){return this._overlayRef?this._overlayRef.updateSize({width:ae}):this._width=ae,this}height(ae=""){return this._overlayRef?this._overlayRef.updateSize({height:ae}):this._height=ae,this}centerHorizontally(ae=""){return this.left(ae),this._xPosition="center",this}centerVertically(ae=""){return this.top(ae),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const ae=this._overlayRef.overlayElement.style,Se=this._overlayRef.hostElement.style,Pe=this._overlayRef.getConfig(),{width:he,height:de,maxWidth:Re,maxHeight:xt}=Pe,Jt=!("100%"!==he&&"100vw"!==he||Re&&"100%"!==Re&&"100vw"!==Re),Lt=!("100%"!==de&&"100vh"!==de||xt&&"100%"!==xt&&"100vh"!==xt),yi=this._xPosition,pi=this._xOffset,en="rtl"===this._overlayRef.getConfig().direction;let nn="",Qi="",Vi="";Jt?Vi="flex-start":"center"===yi?(Vi="center",en?Qi=pi:nn=pi):en?"left"===yi||"end"===yi?(Vi="flex-end",nn=pi):("right"===yi||"start"===yi)&&(Vi="flex-start",Qi=pi):"left"===yi||"start"===yi?(Vi="flex-start",nn=pi):("right"===yi||"end"===yi)&&(Vi="flex-end",Qi=pi),ae.position=this._cssPosition,ae.marginLeft=Jt?"0":nn,ae.marginTop=Lt?"0":this._topOffset,ae.marginBottom=this._bottomOffset,ae.marginRight=Jt?"0":Qi,Se.justifyContent=Vi,Se.alignItems=Lt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const ae=this._overlayRef.overlayElement.style,Se=this._overlayRef.hostElement,Pe=Se.style;Se.classList.remove(Ee),Pe.justifyContent=Pe.alignItems=ae.marginTop=ae.marginBottom=ae.marginLeft=ae.marginRight=ae.position="",this._overlayRef=null,this._isDisposed=!0}}let Kt=(()=>{class at{constructor(Se,Pe,he,de){this._viewportRuler=Se,this._document=Pe,this._platform=he,this._overlayContainer=de}global(){return new ht}flexibleConnectedTo(Se){return new ni(Se,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return at.\u0275fac=function(Se){return new(Se||at)(le.LFG(C.rL),le.LFG(l.K0),le.LFG(je.t4),le.LFG(Et))},at.\u0275prov=le.Yz7({token:at,factory:at.\u0275fac,providedIn:"root"}),at})(),Bt=0,ri=(()=>{class at{constructor(Se,Pe,he,de,Re,xt,Jt,Lt,yi,pi,en,nn){this.scrollStrategies=Se,this._overlayContainer=Pe,this._componentFactoryResolver=he,this._positionBuilder=de,this._keyboardDispatcher=Re,this._injector=xt,this._ngZone=Jt,this._document=Lt,this._directionality=yi,this._location=pi,this._outsideClickDispatcher=en,this._animationsModuleType=nn}create(Se){const Pe=this._createHostElement(),he=this._createPaneElement(Pe),de=this._createPortalOutlet(he),Re=new ui(Se);return Re.direction=Re.direction||this._directionality.value,new gt(de,Pe,he,Re,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(Se){const Pe=this._document.createElement("div");return Pe.id="cdk-overlay-"+Bt++,Pe.classList.add("cdk-overlay-pane"),Se.appendChild(Pe),Pe}_createHostElement(){const Se=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Se),Se}_createPortalOutlet(Se){return this._appRef||(this._appRef=this._injector.get(le.z2F)),new et.u0(Se,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return at.\u0275fac=function(Se){return new(Se||at)(le.LFG(Ot),le.LFG(Et),le.LFG(le._Vd),le.LFG(Kt),le.LFG(jn),le.LFG(le.zs3),le.LFG(le.R0b),le.LFG(l.K0),le.LFG(Fe.Is),le.LFG(l.Ye),le.LFG(In),le.LFG(le.QbO,8))},at.\u0275prov=le.Yz7({token:at,factory:at.\u0275fac,providedIn:"root"}),at})();const ot=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Dt=new le.OlP("cdk-connected-overlay-scroll-strategy");let wi=(()=>{class at{constructor(Se){this.elementRef=Se}}return at.\u0275fac=function(Se){return new(Se||at)(le.Y36(le.SBq))},at.\u0275dir=le.lG2({type:at,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0}),at})(),vn=(()=>{class at{get offsetX(){return this._offsetX}set offsetX(Se){this._offsetX=Se,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(Se){this._offsetY=Se,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(Se){this._hasBackdrop=(0,v.Ig)(Se)}get lockPosition(){return this._lockPosition}set lockPosition(Se){this._lockPosition=(0,v.Ig)(Se)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(Se){this._flexibleDimensions=(0,v.Ig)(Se)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(Se){this._growAfterOpen=(0,v.Ig)(Se)}get push(){return this._push}set push(Se){this._push=(0,v.Ig)(Se)}constructor(Se,Pe,he,de,Re){this._overlay=Se,this._dir=Re,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=ct.w0.EMPTY,this._attachSubscription=ct.w0.EMPTY,this._detachSubscription=ct.w0.EMPTY,this._positionSubscription=ct.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new le.vpe,this.positionChange=new le.vpe,this.attach=new le.vpe,this.detach=new le.vpe,this.overlayKeydown=new le.vpe,this.overlayOutsideClick=new le.vpe,this._templatePortal=new et.UE(Pe,he),this._scrollStrategyFactory=de,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(Se){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),Se.origin&&this.open&&this._position.apply()),Se.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=ot);const Se=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=Se.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=Se.detachments().subscribe(()=>this.detach.emit()),Se.keydownEvents().subscribe(Pe=>{this.overlayKeydown.next(Pe),Pe.keyCode===Vt.hY&&!this.disableClose&&!(0,Vt.Vb)(Pe)&&(Pe.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(Pe=>{this.overlayOutsideClick.next(Pe)})}_buildConfig(){const Se=this._position=this.positionStrategy||this._createPositionStrategy(),Pe=new ui({direction:this._dir,positionStrategy:Se,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(Pe.width=this.width),(this.height||0===this.height)&&(Pe.height=this.height),(this.minWidth||0===this.minWidth)&&(Pe.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(Pe.minHeight=this.minHeight),this.backdropClass&&(Pe.backdropClass=this.backdropClass),this.panelClass&&(Pe.panelClass=this.panelClass),Pe}_updatePositionStrategy(Se){const Pe=this.positions.map(he=>({originX:he.originX,originY:he.originY,overlayX:he.overlayX,overlayY:he.overlayY,offsetX:he.offsetX||this.offsetX,offsetY:he.offsetY||this.offsetY,panelClass:he.panelClass||void 0}));return Se.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(Pe).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const Se=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(Se),Se}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof wi?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(Se=>{this.backdropClick.emit(Se)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function nt(at,ae=!1){return(0,Ge.e)((Se,Pe)=>{let he=0;Se.subscribe((0,Ve.x)(Pe,de=>{const Re=at(de,he++);(Re||ae)&&Pe.next(de),!Re&&Pe.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(Se=>{this.positionChange.emit(Se),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return at.\u0275fac=function(Se){return new(Se||at)(le.Y36(ri),le.Y36(le.Rgc),le.Y36(le.s_b),le.Y36(Dt),le.Y36(Fe.Is,8))},at.\u0275dir=le.lG2({type:at,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[le.TTD]}),at})();const Nn={provide:Dt,deps:[ri],useFactory:function Wi(at){return()=>at.scrollStrategies.reposition()}};let Cn=(()=>{class at{}return at.\u0275fac=function(Se){return new(Se||at)},at.\u0275mod=le.oAB({type:at}),at.\u0275inj=le.cJS({providers:[ri,Nn],imports:[Fe.vT,et.eL,C.Cl,C.Cl]}),at})()},2831:(_i,pt,H)=>{"use strict";H.d(pt,{Mq:()=>Xe,Oy:()=>Le,_i:()=>ct,ht:()=>Ti,i$:()=>nt,kV:()=>oi,qK:()=>Oe,sA:()=>Yt,t4:()=>v});var C=H(5879),l=H(6814);let le;try{le=typeof Intl<"u"&&Intl.v8BreakIterator}catch{le=!1}let ne,v=(()=>{class Ue{constructor(It){this._platformId=It,this.isBrowser=this._platformId?(0,l.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!le)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return Ue.\u0275fac=function(It){return new(It||Ue)(C.LFG(C.Lbi))},Ue.\u0275prov=C.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"}),Ue})();const He=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Oe(){if(ne)return ne;if("object"!=typeof document||!document)return ne=new Set(He),ne;let Ue=document.createElement("input");return ne=new Set(He.filter(Ae=>(Ue.setAttribute("type",Ae),Ue.type===Ae))),ne}let Ge,Fe,et,bt;function nt(Ue){return function Ve(){if(null==Ge&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ge=!0}))}finally{Ge=Ge||!1}return Ge}()?Ue:!!Ue.capture}function Xe(){if(null==et){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return et=!1,et;if("scrollBehavior"in document.documentElement.style)et=!0;else{const Ue=Element.prototype.scrollTo;et=!!Ue&&!/\{\s*\[native code\]\s*\}/.test(Ue.toString())}}return et}function ct(){if("object"!=typeof document||!document)return 0;if(null==Fe){const Ue=document.createElement("div"),Ae=Ue.style;Ue.dir="rtl",Ae.width="1px",Ae.overflow="auto",Ae.visibility="hidden",Ae.pointerEvents="none",Ae.position="absolute";const It=document.createElement("div"),Pt=It.style;Pt.width="2px",Pt.height="1px",Ue.appendChild(It),document.body.appendChild(Ue),Fe=0,0===Ue.scrollLeft&&(Ue.scrollLeft=1,Fe=0===Ue.scrollLeft?1:2),Ue.remove()}return Fe}function oi(Ue){if(function Vt(){if(null==bt){const Ue=typeof document<"u"?document.head:null;bt=!(!Ue||!Ue.createShadowRoot&&!Ue.attachShadow)}return bt}()){const Ae=Ue.getRootNode?Ue.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&Ae instanceof ShadowRoot)return Ae}return null}function Ti(){let Ue=typeof document<"u"&&document?document.activeElement:null;for(;Ue&&Ue.shadowRoot;){const Ae=Ue.shadowRoot.activeElement;if(Ae===Ue)break;Ue=Ae}return Ue}function Yt(Ue){return Ue.composedPath?Ue.composedPath()[0]:Ue.target}function Le(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8484:(_i,pt,H)=>{"use strict";H.d(pt,{C5:()=>Ge,UE:()=>Ve,bH:()=>Vt,eL:()=>Yt,ig:()=>bt,u0:()=>Xe});var C=H(5879);class Oe{attach(Ae){return this._attachedHost=Ae,Ae.attach(this)}detach(){let Ae=this._attachedHost;null!=Ae&&(this._attachedHost=null,Ae.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Ae){this._attachedHost=Ae}}class Ge extends Oe{constructor(Ae,It,Pt,Ot,ui){super(),this.component=Ae,this.viewContainerRef=It,this.injector=Pt,this.componentFactoryResolver=Ot,this.projectableNodes=ui}}class Ve extends Oe{constructor(Ae,It,Pt,Ot){super(),this.templateRef=Ae,this.viewContainerRef=It,this.context=Pt,this.injector=Ot}get origin(){return this.templateRef.elementRef}attach(Ae,It=this.context){return this.context=It,super.attach(Ae)}detach(){return this.context=void 0,super.detach()}}class nt extends Oe{constructor(Ae){super(),this.element=Ae instanceof C.SBq?Ae.nativeElement:Ae}}class Fe{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Ae){return Ae instanceof Ge?(this._attachedPortal=Ae,this.attachComponentPortal(Ae)):Ae instanceof Ve?(this._attachedPortal=Ae,this.attachTemplatePortal(Ae)):this.attachDomPortal&&Ae instanceof nt?(this._attachedPortal=Ae,this.attachDomPortal(Ae)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Ae){this._disposeFn=Ae}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Xe extends Fe{constructor(Ae,It,Pt,Ot,ui){super(),this.outletElement=Ae,this._componentFactoryResolver=It,this._appRef=Pt,this._defaultInjector=Ot,this.attachDomPortal=ti=>{const Fi=ti.element,Oi=this._document.createComment("dom-portal");Fi.parentNode.insertBefore(Oi,Fi),this.outletElement.appendChild(Fi),this._attachedPortal=ti,super.setDisposeFn(()=>{Oi.parentNode&&Oi.parentNode.replaceChild(Fi,Oi)})},this._document=ui}attachComponentPortal(Ae){const Pt=(Ae.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Ae.component);let Ot;return Ae.viewContainerRef?(Ot=Ae.viewContainerRef.createComponent(Pt,Ae.viewContainerRef.length,Ae.injector||Ae.viewContainerRef.injector,Ae.projectableNodes||void 0),this.setDisposeFn(()=>Ot.destroy())):(Ot=Pt.create(Ae.injector||this._defaultInjector||C.zs3.NULL),this._appRef.attachView(Ot.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Ot.hostView),Ot.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Ot)),this._attachedPortal=Ae,Ot}attachTemplatePortal(Ae){let It=Ae.viewContainerRef,Pt=It.createEmbeddedView(Ae.templateRef,Ae.context,{injector:Ae.injector});return Pt.rootNodes.forEach(Ot=>this.outletElement.appendChild(Ot)),Pt.detectChanges(),this.setDisposeFn(()=>{let Ot=It.indexOf(Pt);-1!==Ot&&It.remove(Ot)}),this._attachedPortal=Ae,Pt}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Ae){return Ae.hostView.rootNodes[0]}}let bt=(()=>{class Ue extends Ve{constructor(It,Pt){super(It,Pt)}}return Ue.\u0275fac=function(It){return new(It||Ue)(C.Y36(C.Rgc),C.Y36(C.s_b))},Ue.\u0275dir=C.lG2({type:Ue,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[C.qOj]}),Ue})(),Vt=(()=>{class Ue extends bt{}return Ue.\u0275fac=function(){let Ae;return function(Pt){return(Ae||(Ae=C.n5z(Ue)))(Pt||Ue)}}(),Ue.\u0275dir=C.lG2({type:Ue,selectors:[["","cdk-portal",""],["","portal",""]],exportAs:["cdkPortal"],features:[C._Bn([{provide:bt,useExisting:Ue}]),C.qOj]}),Ue})(),Yt=(()=>{class Ue{}return Ue.\u0275fac=function(It){return new(It||Ue)},Ue.\u0275mod=C.oAB({type:Ue}),Ue.\u0275inj=C.cJS({}),Ue})()},799:(_i,pt,H)=>{"use strict";H.d(pt,{PQ:()=>Kt,ZD:()=>ae,mF:()=>ht,Cl:()=>Se,rL:()=>ri});var C=H(2495),l=H(5879),le=H(8645),v=H(2096),je=H(5592),ne=H(2438),He=H(1954),Oe=H(7394);const Ge={schedule(Pe){let he=requestAnimationFrame,de=cancelAnimationFrame;const{delegate:Re}=Ge;Re&&(he=Re.requestAnimationFrame,de=Re.cancelAnimationFrame);const xt=he(Jt=>{de=void 0,Pe(Jt)});return new Oe.w0(()=>de?.(xt))},requestAnimationFrame(...Pe){const{delegate:he}=Ge;return(he?.requestAnimationFrame||requestAnimationFrame)(...Pe)},cancelAnimationFrame(...Pe){const{delegate:he}=Ge;return(he?.cancelAnimationFrame||cancelAnimationFrame)(...Pe)},delegate:void 0};var nt=H(2631);new class Fe extends nt.v{flush(he){this._active=!0;const de=this._scheduled;this._scheduled=void 0;const{actions:Re}=this;let xt;he=he||Re.shift();do{if(xt=he.execute(he.state,he.delay))break}while((he=Re[0])&&he.id===de&&Re.shift());if(this._active=!1,xt){for(;(he=Re[0])&&he.id===de&&Re.shift();)he.unsubscribe();throw xt}}}(class Ve extends He.o{constructor(he,de){super(he,de),this.scheduler=he,this.work=de}requestAsyncId(he,de,Re=0){return null!==Re&&Re>0?super.requestAsyncId(he,de,Re):(he.actions.push(this),he._scheduled||(he._scheduled=Ge.requestAnimationFrame(()=>he.flush(void 0))))}recycleAsyncId(he,de,Re=0){var xt;if(null!=Re?Re>0:this.delay>0)return super.recycleAsyncId(he,de,Re);const{actions:Jt}=he;null!=de&&(null===(xt=Jt[Jt.length-1])||void 0===xt?void 0:xt.id)!==de&&(Ge.cancelAnimationFrame(de),he._scheduled=void 0)}});let bt,ct=1;const Vt={};function oi(Pe){return Pe in Vt&&(delete Vt[Pe],!0)}const Ti={setImmediate(Pe){const he=ct++;return Vt[he]=!0,bt||(bt=Promise.resolve()),bt.then(()=>oi(he)&&Pe()),he},clearImmediate(Pe){oi(Pe)}},{setImmediate:Le,clearImmediate:Ue}=Ti,Ae={setImmediate(...Pe){const{delegate:he}=Ae;return(he?.setImmediate||Le)(...Pe)},clearImmediate(Pe){const{delegate:he}=Ae;return(he?.clearImmediate||Ue)(Pe)},delegate:void 0};new class Pt extends nt.v{flush(he){this._active=!0;const de=this._scheduled;this._scheduled=void 0;const{actions:Re}=this;let xt;he=he||Re.shift();do{if(xt=he.execute(he.state,he.delay))break}while((he=Re[0])&&he.id===de&&Re.shift());if(this._active=!1,xt){for(;(he=Re[0])&&he.id===de&&Re.shift();)he.unsubscribe();throw xt}}}(class It extends He.o{constructor(he,de){super(he,de),this.scheduler=he,this.work=de}requestAsyncId(he,de,Re=0){return null!==Re&&Re>0?super.requestAsyncId(he,de,Re):(he.actions.push(this),he._scheduled||(he._scheduled=Ae.setImmediate(he.flush.bind(he,void 0))))}recycleAsyncId(he,de,Re=0){var xt;if(null!=Re?Re>0:this.delay>0)return super.recycleAsyncId(he,de,Re);const{actions:Jt}=he;null!=de&&(null===(xt=Jt[Jt.length-1])||void 0===xt?void 0:xt.id)!==de&&(Ae.clearImmediate(de),he._scheduled=void 0)}});var ti=H(6321),Fi=H(9360),Oi=H(4829),Tn=H(8251),pn=H(4825);function jn(Pe,he=ti.z){return function $n(Pe){return(0,Fi.e)((he,de)=>{let Re=!1,xt=null,Jt=null,Lt=!1;const yi=()=>{if(Jt?.unsubscribe(),Jt=null,Re){Re=!1;const en=xt;xt=null,de.next(en)}Lt&&de.complete()},pi=()=>{Jt=null,Lt&&de.complete()};he.subscribe((0,Tn.x)(de,en=>{Re=!0,xt=en,Jt||(0,Oi.Xf)(Pe(en)).subscribe(Jt=(0,Tn.x)(de,yi,pi))},()=>{Lt=!0,(!Re||!Jt||Jt.closed)&&de.complete()}))})}(()=>(0,pn.H)(Pe,he))}var In=H(2181),Et=H(9773),gt=H(2831),Nt=H(6814),zt=H(9388);let ht=(()=>{class Pe{constructor(de,Re,xt){this._ngZone=de,this._platform=Re,this._scrolled=new le.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=xt}register(de){this.scrollContainers.has(de)||this.scrollContainers.set(de,de.elementScrolled().subscribe(()=>this._scrolled.next(de)))}deregister(de){const Re=this.scrollContainers.get(de);Re&&(Re.unsubscribe(),this.scrollContainers.delete(de))}scrolled(de=20){return this._platform.isBrowser?new je.y(Re=>{this._globalSubscription||this._addGlobalListener();const xt=de>0?this._scrolled.pipe(jn(de)).subscribe(Re):this._scrolled.subscribe(Re);return this._scrolledCount++,()=>{xt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,v.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((de,Re)=>this.deregister(Re)),this._scrolled.complete()}ancestorScrolled(de,Re){const xt=this.getAncestorScrollContainers(de);return this.scrolled(Re).pipe((0,In.h)(Jt=>!Jt||xt.indexOf(Jt)>-1))}getAncestorScrollContainers(de){const Re=[];return this.scrollContainers.forEach((xt,Jt)=>{this._scrollableContainsElement(Jt,de)&&Re.push(Jt)}),Re}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(de,Re){let xt=(0,C.fI)(Re),Jt=de.getElementRef().nativeElement;do{if(xt==Jt)return!0}while(xt=xt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const de=this._getWindow();return(0,ne.R)(de.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return Pe.\u0275fac=function(de){return new(de||Pe)(l.LFG(l.R0b),l.LFG(gt.t4),l.LFG(Nt.K0,8))},Pe.\u0275prov=l.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})(),Kt=(()=>{class Pe{constructor(de,Re,xt,Jt){this.elementRef=de,this.scrollDispatcher=Re,this.ngZone=xt,this.dir=Jt,this._destroyed=new le.x,this._elementScrolled=new je.y(Lt=>this.ngZone.runOutsideAngular(()=>(0,ne.R)(this.elementRef.nativeElement,"scroll").pipe((0,Et.R)(this._destroyed)).subscribe(Lt)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(de){const Re=this.elementRef.nativeElement,xt=this.dir&&"rtl"==this.dir.value;null==de.left&&(de.left=xt?de.end:de.start),null==de.right&&(de.right=xt?de.start:de.end),null!=de.bottom&&(de.top=Re.scrollHeight-Re.clientHeight-de.bottom),xt&&0!=(0,gt._i)()?(null!=de.left&&(de.right=Re.scrollWidth-Re.clientWidth-de.left),2==(0,gt._i)()?de.left=de.right:1==(0,gt._i)()&&(de.left=de.right?-de.right:de.right)):null!=de.right&&(de.left=Re.scrollWidth-Re.clientWidth-de.right),this._applyScrollToOptions(de)}_applyScrollToOptions(de){const Re=this.elementRef.nativeElement;(0,gt.Mq)()?Re.scrollTo(de):(null!=de.top&&(Re.scrollTop=de.top),null!=de.left&&(Re.scrollLeft=de.left))}measureScrollOffset(de){const Re="left",Jt=this.elementRef.nativeElement;if("top"==de)return Jt.scrollTop;if("bottom"==de)return Jt.scrollHeight-Jt.clientHeight-Jt.scrollTop;const Lt=this.dir&&"rtl"==this.dir.value;return"start"==de?de=Lt?"right":Re:"end"==de&&(de=Lt?Re:"right"),Lt&&2==(0,gt._i)()?de==Re?Jt.scrollWidth-Jt.clientWidth-Jt.scrollLeft:Jt.scrollLeft:Lt&&1==(0,gt._i)()?de==Re?Jt.scrollLeft+Jt.scrollWidth-Jt.clientWidth:-Jt.scrollLeft:de==Re?Jt.scrollLeft:Jt.scrollWidth-Jt.clientWidth-Jt.scrollLeft}}return Pe.\u0275fac=function(de){return new(de||Pe)(l.Y36(l.SBq),l.Y36(ht),l.Y36(l.R0b),l.Y36(zt.Is,8))},Pe.\u0275dir=l.lG2({type:Pe,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),Pe})(),ri=(()=>{class Pe{constructor(de,Re,xt){this._platform=de,this._change=new le.x,this._changeListener=Jt=>{this._change.next(Jt)},this._document=xt,Re.runOutsideAngular(()=>{if(de.isBrowser){const Jt=this._getWindow();Jt.addEventListener("resize",this._changeListener),Jt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const de=this._getWindow();de.removeEventListener("resize",this._changeListener),de.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const de={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),de}getViewportRect(){const de=this.getViewportScrollPosition(),{width:Re,height:xt}=this.getViewportSize();return{top:de.top,left:de.left,bottom:de.top+xt,right:de.left+Re,height:xt,width:Re}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const de=this._document,Re=this._getWindow(),xt=de.documentElement,Jt=xt.getBoundingClientRect();return{top:-Jt.top||de.body.scrollTop||Re.scrollY||xt.scrollTop||0,left:-Jt.left||de.body.scrollLeft||Re.scrollX||xt.scrollLeft||0}}change(de=20){return de>0?this._change.pipe(jn(de)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const de=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:de.innerWidth,height:de.innerHeight}:{width:0,height:0}}}return Pe.\u0275fac=function(de){return new(de||Pe)(l.LFG(gt.t4),l.LFG(l.R0b),l.LFG(Nt.K0,8))},Pe.\u0275prov=l.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})(),ae=(()=>{class Pe{}return Pe.\u0275fac=function(de){return new(de||Pe)},Pe.\u0275mod=l.oAB({type:Pe}),Pe.\u0275inj=l.cJS({}),Pe})(),Se=(()=>{class Pe{}return Pe.\u0275fac=function(de){return new(de||Pe)},Pe.\u0275mod=l.oAB({type:Pe}),Pe.\u0275inj=l.cJS({imports:[zt.vT,ae,zt.vT,ae]}),Pe})()},6814:(_i,pt,H)=>{"use strict";H.d(pt,{Do:()=>bt,ED:()=>Va,EM:()=>Ha,HT:()=>v,JF:()=>br,K0:()=>ne,Mx:()=>Nr,NF:()=>uo,O5:()=>co,Ov:()=>Fs,PC:()=>Sa,PM:()=>Ls,RF:()=>cs,S$:()=>et,V_:()=>Oe,Ye:()=>Vt,b0:()=>ct,bD:()=>na,ez:()=>bo,mk:()=>fn,n9:()=>Ma,q:()=>le,sg:()=>ur,tP:()=>Ta,w_:()=>je});var C=H(5879);let l=null;function le(){return l}function v(V){l||(l=V)}class je{}const ne=new C.OlP("DocumentToken");let He=(()=>{class V{historyGo($){throw new Error("Not implemented")}}return V.\u0275fac=function($){return new($||V)},V.\u0275prov=C.Yz7({token:V,factory:function(){return(0,C.f3M)(Ge)},providedIn:"platform"}),V})();const Oe=new C.OlP("Location Initialized");let Ge=(()=>{class V extends He{constructor(){super(),this._doc=(0,C.f3M)(ne),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return le().getBaseHref(this._doc)}onPopState($){const fe=le().getGlobalEventTarget(this._doc,"window");return fe.addEventListener("popstate",$,!1),()=>fe.removeEventListener("popstate",$)}onHashChange($){const fe=le().getGlobalEventTarget(this._doc,"window");return fe.addEventListener("hashchange",$,!1),()=>fe.removeEventListener("hashchange",$)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname($){this._location.pathname=$}pushState($,fe,Ze){this._history.pushState($,fe,Ze)}replaceState($,fe,Ze){this._history.replaceState($,fe,Ze)}forward(){this._history.forward()}back(){this._history.back()}historyGo($=0){this._history.go($)}getState(){return this._history.state}}return V.\u0275fac=function($){return new($||V)},V.\u0275prov=C.Yz7({token:V,factory:function(){return new V},providedIn:"platform"}),V})();function Ve(V,Q){if(0==V.length)return Q;if(0==Q.length)return V;let $=0;return V.endsWith("/")&&$++,Q.startsWith("/")&&$++,2==$?V+Q.substring(1):1==$?V+Q:V+"/"+Q}function nt(V){const Q=V.match(/#|\?|$/),$=Q&&Q.index||V.length;return V.slice(0,$-("/"===V[$-1]?1:0))+V.slice($)}function Fe(V){return V&&"?"!==V[0]?"?"+V:V}let et=(()=>{class V{historyGo($){throw new Error("Not implemented")}}return V.\u0275fac=function($){return new($||V)},V.\u0275prov=C.Yz7({token:V,factory:function(){return(0,C.f3M)(ct)},providedIn:"root"}),V})();const Xe=new C.OlP("appBaseHref");let ct=(()=>{class V extends et{constructor($,fe){super(),this._platformLocation=$,this._removeListenerFns=[],this._baseHref=fe??this._platformLocation.getBaseHrefFromDOM()??(0,C.f3M)(ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}prepareExternalUrl($){return Ve(this._baseHref,$)}path($=!1){const fe=this._platformLocation.pathname+Fe(this._platformLocation.search),Ze=this._platformLocation.hash;return Ze&&$?`${fe}${Ze}`:fe}pushState($,fe,Ze,kt){const Wt=this.prepareExternalUrl(Ze+Fe(kt));this._platformLocation.pushState($,fe,Wt)}replaceState($,fe,Ze,kt){const Wt=this.prepareExternalUrl(Ze+Fe(kt));this._platformLocation.replaceState($,fe,Wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){this._platformLocation.historyGo?.($)}}return V.\u0275fac=function($){return new($||V)(C.LFG(He),C.LFG(Xe,8))},V.\u0275prov=C.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})(),bt=(()=>{class V extends et{constructor($,fe){super(),this._platformLocation=$,this._baseHref="",this._removeListenerFns=[],null!=fe&&(this._baseHref=fe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}path($=!1){let fe=this._platformLocation.hash;return null==fe&&(fe="#"),fe.length>0?fe.substring(1):fe}prepareExternalUrl($){const fe=Ve(this._baseHref,$);return fe.length>0?"#"+fe:fe}pushState($,fe,Ze,kt){let Wt=this.prepareExternalUrl(Ze+Fe(kt));0==Wt.length&&(Wt=this._platformLocation.pathname),this._platformLocation.pushState($,fe,Wt)}replaceState($,fe,Ze,kt){let Wt=this.prepareExternalUrl(Ze+Fe(kt));0==Wt.length&&(Wt=this._platformLocation.pathname),this._platformLocation.replaceState($,fe,Wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){this._platformLocation.historyGo?.($)}}return V.\u0275fac=function($){return new($||V)(C.LFG(He),C.LFG(Xe,8))},V.\u0275prov=C.Yz7({token:V,factory:V.\u0275fac}),V})(),Vt=(()=>{class V{constructor($){this._subject=new C.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=$;const fe=this._locationStrategy.getBaseHref();this._basePath=function Le(V){if(new RegExp("^(https?:)?//").test(V)){const[,$]=V.split(/\/\/[^\/]+/);return $}return V}(nt(Yt(fe))),this._locationStrategy.onPopState(Ze=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ze.state,type:Ze.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path($=!1){return this.normalize(this._locationStrategy.path($))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo($,fe=""){return this.path()==this.normalize($+Fe(fe))}normalize($){return V.stripTrailingSlash(function Ti(V,Q){if(!V||!Q.startsWith(V))return Q;const $=Q.substring(V.length);return""===$||["/",";","?","#"].includes($[0])?$:Q}(this._basePath,Yt($)))}prepareExternalUrl($){return $&&"/"!==$[0]&&($="/"+$),this._locationStrategy.prepareExternalUrl($)}go($,fe="",Ze=null){this._locationStrategy.pushState(Ze,"",$,fe),this._notifyUrlChangeListeners(this.prepareExternalUrl($+Fe(fe)),Ze)}replaceState($,fe="",Ze=null){this._locationStrategy.replaceState(Ze,"",$,fe),this._notifyUrlChangeListeners(this.prepareExternalUrl($+Fe(fe)),Ze)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo($=0){this._locationStrategy.historyGo?.($)}onUrlChange($){return this._urlChangeListeners.push($),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(fe=>{this._notifyUrlChangeListeners(fe.url,fe.state)})),()=>{const fe=this._urlChangeListeners.indexOf($);this._urlChangeListeners.splice(fe,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners($="",fe){this._urlChangeListeners.forEach(Ze=>Ze($,fe))}subscribe($,fe,Ze){return this._subject.subscribe({next:$,error:fe,complete:Ze})}}return V.normalizeQueryParams=Fe,V.joinWithSlash=Ve,V.stripTrailingSlash=nt,V.\u0275fac=function($){return new($||V)(C.LFG(et))},V.\u0275prov=C.Yz7({token:V,factory:function(){return function oi(){return new Vt((0,C.LFG)(et))}()},providedIn:"root"}),V})();function Yt(V){return V.replace(/\/index.html$/,"")}function Nr(V,Q){Q=encodeURIComponent(Q);for(const $ of V.split(";")){const fe=$.indexOf("="),[Ze,kt]=-1==fe?[$,""]:[$.slice(0,fe),$.slice(fe+1)];if(Ze.trim()===Q)return decodeURIComponent(kt)}return null}const io=/\s+/,sn=[];let fn=(()=>{class V{constructor($,fe,Ze,kt){this._iterableDiffers=$,this._keyValueDiffers=fe,this._ngEl=Ze,this._renderer=kt,this.initialClasses=sn,this.stateMap=new Map}set klass($){this.initialClasses=null!=$?$.trim().split(io):sn}set ngClass($){this.rawClass="string"==typeof $?$.trim().split(io):$}ngDoCheck(){for(const fe of this.initialClasses)this._updateState(fe,!0);const $=this.rawClass;if(Array.isArray($)||$ instanceof Set)for(const fe of $)this._updateState(fe,!0);else if(null!=$)for(const fe of Object.keys($))this._updateState(fe,!!$[fe]);this._applyStateDiff()}_updateState($,fe){const Ze=this.stateMap.get($);void 0!==Ze?(Ze.enabled!==fe&&(Ze.changed=!0,Ze.enabled=fe),Ze.touched=!0):this.stateMap.set($,{enabled:fe,changed:!0,touched:!0})}_applyStateDiff(){for(const $ of this.stateMap){const fe=$[0],Ze=$[1];Ze.changed?(this._toggleClass(fe,Ze.enabled),Ze.changed=!1):Ze.touched||(Ze.enabled&&this._toggleClass(fe,!1),this.stateMap.delete(fe)),Ze.touched=!1}}_toggleClass($,fe){($=$.trim()).length>0&&$.split(io).forEach(Ze=>{fe?this._renderer.addClass(this._ngEl.nativeElement,Ze):this._renderer.removeClass(this._ngEl.nativeElement,Ze)})}}return V.\u0275fac=function($){return new($||V)(C.Y36(C.ZZ4),C.Y36(C.aQg),C.Y36(C.SBq),C.Y36(C.Qsj))},V.\u0275dir=C.lG2({type:V,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),V})();class er{constructor(Q,$,fe,Ze){this.$implicit=Q,this.ngForOf=$,this.index=fe,this.count=Ze}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ur=(()=>{class V{set ngForOf($){this._ngForOf=$,this._ngForOfDirty=!0}set ngForTrackBy($){this._trackByFn=$}get ngForTrackBy(){return this._trackByFn}constructor($,fe,Ze){this._viewContainer=$,this._template=fe,this._differs=Ze,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate($){$&&(this._template=$)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const $=this._ngForOf;!this._differ&&$&&(this._differ=this._differs.find($).create(this.ngForTrackBy))}if(this._differ){const $=this._differ.diff(this._ngForOf);$&&this._applyChanges($)}}_applyChanges($){const fe=this._viewContainer;$.forEachOperation((Ze,kt,Wt)=>{if(null==Ze.previousIndex)fe.createEmbeddedView(this._template,new er(Ze.item,this._ngForOf,-1,-1),null===Wt?void 0:Wt);else if(null==Wt)fe.remove(null===kt?void 0:kt);else if(null!==kt){const qi=fe.get(kt);fe.move(qi,Wt),_o(qi,Ze)}});for(let Ze=0,kt=fe.length;Ze<kt;Ze++){const qi=fe.get(Ze).context;qi.index=Ze,qi.count=kt,qi.ngForOf=this._ngForOf}$.forEachIdentityChange(Ze=>{_o(fe.get(Ze.currentIndex),Ze)})}static ngTemplateContextGuard($,fe){return!0}}return V.\u0275fac=function($){return new($||V)(C.Y36(C.s_b),C.Y36(C.Rgc),C.Y36(C.ZZ4))},V.\u0275dir=C.lG2({type:V,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),V})();function _o(V,Q){V.context.$implicit=Q.item}let co=(()=>{class V{constructor($,fe){this._viewContainer=$,this._context=new gn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=fe}set ngIf($){this._context.$implicit=this._context.ngIf=$,this._updateView()}set ngIfThen($){no("ngIfThen",$),this._thenTemplateRef=$,this._thenViewRef=null,this._updateView()}set ngIfElse($){no("ngIfElse",$),this._elseTemplateRef=$,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard($,fe){return!0}}return V.\u0275fac=function($){return new($||V)(C.Y36(C.s_b),C.Y36(C.Rgc))},V.\u0275dir=C.lG2({type:V,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),V})();class gn{constructor(){this.$implicit=null,this.ngIf=null}}function no(V,Q){if(Q&&!Q.createEmbeddedView)throw new Error(`${V} must be a TemplateRef, but received '${(0,C.AaK)(Q)}'.`)}class Ro{constructor(Q,$){this._viewContainerRef=Q,this._templateRef=$,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Q){Q&&!this._created?this.create():!Q&&this._created&&this.destroy()}}let cs=(()=>{class V{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch($){this._ngSwitch=$,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault($){this._defaultViews.push($)}_matchCase($){const fe=$==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||fe,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),fe}_updateDefaultCases($){if(this._defaultViews.length>0&&$!==this._defaultUsed){this._defaultUsed=$;for(const fe of this._defaultViews)fe.enforceState($)}}}return V.\u0275fac=function($){return new($||V)},V.\u0275dir=C.lG2({type:V,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),V})(),Ma=(()=>{class V{constructor($,fe,Ze){this.ngSwitch=Ze,Ze._addCase(),this._view=new Ro($,fe)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return V.\u0275fac=function($){return new($||V)(C.Y36(C.s_b),C.Y36(C.Rgc),C.Y36(cs,9))},V.\u0275dir=C.lG2({type:V,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),V})(),Va=(()=>{class V{constructor($,fe,Ze){Ze._addDefault(new Ro($,fe))}}return V.\u0275fac=function($){return new($||V)(C.Y36(C.s_b),C.Y36(C.Rgc),C.Y36(cs,9))},V.\u0275dir=C.lG2({type:V,selectors:[["","ngSwitchDefault",""]],standalone:!0}),V})(),Sa=(()=>{class V{constructor($,fe,Ze){this._ngEl=$,this._differs=fe,this._renderer=Ze,this._ngStyle=null,this._differ=null}set ngStyle($){this._ngStyle=$,!this._differ&&$&&(this._differ=this._differs.find($).create())}ngDoCheck(){if(this._differ){const $=this._differ.diff(this._ngStyle);$&&this._applyChanges($)}}_setStyle($,fe){const[Ze,kt]=$.split("."),Wt=-1===Ze.indexOf("-")?void 0:C.JOm.DashCase;null!=fe?this._renderer.setStyle(this._ngEl.nativeElement,Ze,kt?`${fe}${kt}`:fe,Wt):this._renderer.removeStyle(this._ngEl.nativeElement,Ze,Wt)}_applyChanges($){$.forEachRemovedItem(fe=>this._setStyle(fe.key,null)),$.forEachAddedItem(fe=>this._setStyle(fe.key,fe.currentValue)),$.forEachChangedItem(fe=>this._setStyle(fe.key,fe.currentValue))}}return V.\u0275fac=function($){return new($||V)(C.Y36(C.SBq),C.Y36(C.aQg),C.Y36(C.Qsj))},V.\u0275dir=C.lG2({type:V,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),V})(),Ta=(()=>{class V{constructor($){this._viewContainerRef=$,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges($){if($.ngTemplateOutlet||$.ngTemplateOutletInjector){const fe=this._viewContainerRef;if(this._viewRef&&fe.remove(fe.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Ze,ngTemplateOutletContext:kt,ngTemplateOutletInjector:Wt}=this;this._viewRef=fe.createEmbeddedView(Ze,kt,Wt?{injector:Wt}:void 0)}else this._viewRef=null}else this._viewRef&&$.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return V.\u0275fac=function($){return new($||V)(C.Y36(C.s_b))},V.\u0275dir=C.lG2({type:V,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[C.TTD]}),V})();class Or{createSubscription(Q,$){return(0,C.rg0)(()=>Q.subscribe({next:$,error:fe=>{throw fe}}))}dispose(Q){(0,C.rg0)(()=>Q.unsubscribe())}}class Yr{createSubscription(Q,$){return Q.then($,fe=>{throw fe})}dispose(Q){}}const Rs=new Yr,vr=new Or;let Fs=(()=>{class V{constructor($){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=$}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform($){return this._obj?$!==this._obj?(this._dispose(),this.transform($)):this._latestValue:($&&this._subscribe($),this._latestValue)}_subscribe($){this._obj=$,this._strategy=this._selectStrategy($),this._subscription=this._strategy.createSubscription($,fe=>this._updateLatestValue($,fe))}_selectStrategy($){if((0,C.QGY)($))return Rs;if((0,C.F4k)($))return vr;throw function cn(V,Q){return new C.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue($,fe){$===this._obj&&(this._latestValue=fe,this._ref.markForCheck())}}return V.\u0275fac=function($){return new($||V)(C.Y36(C.sBO,16))},V.\u0275pipe=C.Yjl({name:"async",type:V,pure:!1,standalone:!0}),V})(),bo=(()=>{class V{}return V.\u0275fac=function($){return new($||V)},V.\u0275mod=C.oAB({type:V}),V.\u0275inj=C.cJS({}),V})();const na="browser",ja="server";function uo(V){return V===na}function Ls(V){return V===ja}let Ha=(()=>{class V{}return V.\u0275prov=(0,C.Yz7)({token:V,providedIn:"root",factory:()=>new ho((0,C.LFG)(ne),window)}),V})();class ho{constructor(Q,$){this.document=Q,this.window=$,this.offset=()=>[0,0]}setOffset(Q){this.offset=Array.isArray(Q)?()=>Q:Q}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Q){this.supportsScrolling()&&this.window.scrollTo(Q[0],Q[1])}scrollToAnchor(Q){if(!this.supportsScrolling())return;const $=function ra(V,Q){const $=V.getElementById(Q)||V.getElementsByName(Q)[0];if($)return $;if("function"==typeof V.createTreeWalker&&V.body&&"function"==typeof V.body.attachShadow){const fe=V.createTreeWalker(V.body,NodeFilter.SHOW_ELEMENT);let Ze=fe.currentNode;for(;Ze;){const kt=Ze.shadowRoot;if(kt){const Wt=kt.getElementById(Q)||kt.querySelector(`[name="${Q}"]`);if(Wt)return Wt}Ze=fe.nextNode()}}return null}(this.document,Q);$&&(this.scrollToElement($),$.focus())}setHistoryScrollRestoration(Q){if(this.supportScrollRestoration()){const $=this.window.history;$&&$.scrollRestoration&&($.scrollRestoration=Q)}}scrollToElement(Q){const $=Q.getBoundingClientRect(),fe=$.left+this.window.pageXOffset,Ze=$.top+this.window.pageYOffset,kt=this.offset();this.window.scrollTo(fe-kt[0],Ze-kt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Q=pa(this.window.history)||pa(Object.getPrototypeOf(this.window.history));return!(!Q||!Q.writable&&!Q.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function pa(V){return Object.getOwnPropertyDescriptor(V,"scrollRestoration")}class br{}},9862:(_i,pt,H)=>{"use strict";H.d(pt,{JF:()=>me,eN:()=>Et});var C=H(5879),l=H(2096),le=H(7715),v=H(5592),je=H(6328),ne=H(2181),He=H(7398),Oe=H(4716),Ge=H(4664),Ve=H(6814);class nt{}class Fe{}class et{constructor(Te){this.normalizedNames=new Map,this.lazyUpdate=null,Te?"string"==typeof Te?this.lazyInit=()=>{this.headers=new Map,Te.split("\n").forEach(qe=>{const Ut=qe.indexOf(":");if(Ut>0){const $t=qe.slice(0,Ut),mi=$t.toLowerCase(),di=qe.slice(Ut+1).trim();this.maybeSetNormalizedName($t,mi),this.headers.has(mi)?this.headers.get(mi).push(di):this.headers.set(mi,[di])}})}:typeof Headers<"u"&&Te instanceof Headers?(this.headers=new Map,Te.forEach((qe,Ut)=>{this.setHeaderEntries(Ut,qe)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Te).forEach(([qe,Ut])=>{this.setHeaderEntries(qe,Ut)})}:this.headers=new Map}has(Te){return this.init(),this.headers.has(Te.toLowerCase())}get(Te){this.init();const qe=this.headers.get(Te.toLowerCase());return qe&&qe.length>0?qe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Te){return this.init(),this.headers.get(Te.toLowerCase())||null}append(Te,qe){return this.clone({name:Te,value:qe,op:"a"})}set(Te,qe){return this.clone({name:Te,value:qe,op:"s"})}delete(Te,qe){return this.clone({name:Te,value:qe,op:"d"})}maybeSetNormalizedName(Te,qe){this.normalizedNames.has(qe)||this.normalizedNames.set(qe,Te)}init(){this.lazyInit&&(this.lazyInit instanceof et?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Te=>this.applyUpdate(Te)),this.lazyUpdate=null))}copyFrom(Te){Te.init(),Array.from(Te.headers.keys()).forEach(qe=>{this.headers.set(qe,Te.headers.get(qe)),this.normalizedNames.set(qe,Te.normalizedNames.get(qe))})}clone(Te){const qe=new et;return qe.lazyInit=this.lazyInit&&this.lazyInit instanceof et?this.lazyInit:this,qe.lazyUpdate=(this.lazyUpdate||[]).concat([Te]),qe}applyUpdate(Te){const qe=Te.name.toLowerCase();switch(Te.op){case"a":case"s":let Ut=Te.value;if("string"==typeof Ut&&(Ut=[Ut]),0===Ut.length)return;this.maybeSetNormalizedName(Te.name,qe);const $t=("a"===Te.op?this.headers.get(qe):void 0)||[];$t.push(...Ut),this.headers.set(qe,$t);break;case"d":const mi=Te.value;if(mi){let di=this.headers.get(qe);if(!di)return;di=di.filter(bn=>-1===mi.indexOf(bn)),0===di.length?(this.headers.delete(qe),this.normalizedNames.delete(qe)):this.headers.set(qe,di)}else this.headers.delete(qe),this.normalizedNames.delete(qe)}}setHeaderEntries(Te,qe){const Ut=(Array.isArray(qe)?qe:[qe]).map(mi=>mi.toString()),$t=Te.toLowerCase();this.headers.set($t,Ut),this.maybeSetNormalizedName(Te,$t)}forEach(Te){this.init(),Array.from(this.normalizedNames.keys()).forEach(qe=>Te(this.normalizedNames.get(qe),this.headers.get(qe)))}}class ct{encodeKey(Te){return Ti(Te)}encodeValue(Te){return Ti(Te)}decodeKey(Te){return decodeURIComponent(Te)}decodeValue(Te){return decodeURIComponent(Te)}}const Vt=/%(\d[a-f0-9])/gi,oi={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ti(Ye){return encodeURIComponent(Ye).replace(Vt,(Te,qe)=>oi[qe]??Te)}function Yt(Ye){return`${Ye}`}class Le{constructor(Te={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Te.encoder||new ct,Te.fromString){if(Te.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function bt(Ye,Te){const qe=new Map;return Ye.length>0&&Ye.replace(/^\?/,"").split("&").forEach($t=>{const mi=$t.indexOf("="),[di,bn]=-1==mi?[Te.decodeKey($t),""]:[Te.decodeKey($t.slice(0,mi)),Te.decodeValue($t.slice(mi+1))],Ui=qe.get(di)||[];Ui.push(bn),qe.set(di,Ui)}),qe}(Te.fromString,this.encoder)}else Te.fromObject?(this.map=new Map,Object.keys(Te.fromObject).forEach(qe=>{const Ut=Te.fromObject[qe],$t=Array.isArray(Ut)?Ut.map(Yt):[Yt(Ut)];this.map.set(qe,$t)})):this.map=null}has(Te){return this.init(),this.map.has(Te)}get(Te){this.init();const qe=this.map.get(Te);return qe?qe[0]:null}getAll(Te){return this.init(),this.map.get(Te)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Te,qe){return this.clone({param:Te,value:qe,op:"a"})}appendAll(Te){const qe=[];return Object.keys(Te).forEach(Ut=>{const $t=Te[Ut];Array.isArray($t)?$t.forEach(mi=>{qe.push({param:Ut,value:mi,op:"a"})}):qe.push({param:Ut,value:$t,op:"a"})}),this.clone(qe)}set(Te,qe){return this.clone({param:Te,value:qe,op:"s"})}delete(Te,qe){return this.clone({param:Te,value:qe,op:"d"})}toString(){return this.init(),this.keys().map(Te=>{const qe=this.encoder.encodeKey(Te);return this.map.get(Te).map(Ut=>qe+"="+this.encoder.encodeValue(Ut)).join("&")}).filter(Te=>""!==Te).join("&")}clone(Te){const qe=new Le({encoder:this.encoder});return qe.cloneFrom=this.cloneFrom||this,qe.updates=(this.updates||[]).concat(Te),qe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Te=>this.map.set(Te,this.cloneFrom.map.get(Te))),this.updates.forEach(Te=>{switch(Te.op){case"a":case"s":const qe=("a"===Te.op?this.map.get(Te.param):void 0)||[];qe.push(Yt(Te.value)),this.map.set(Te.param,qe);break;case"d":if(void 0===Te.value){this.map.delete(Te.param);break}{let Ut=this.map.get(Te.param)||[];const $t=Ut.indexOf(Yt(Te.value));-1!==$t&&Ut.splice($t,1),Ut.length>0?this.map.set(Te.param,Ut):this.map.delete(Te.param)}}}),this.cloneFrom=this.updates=null)}}class Ae{constructor(){this.map=new Map}set(Te,qe){return this.map.set(Te,qe),this}get(Te){return this.map.has(Te)||this.map.set(Te,Te.defaultValue()),this.map.get(Te)}delete(Te){return this.map.delete(Te),this}has(Te){return this.map.has(Te)}keys(){return this.map.keys()}}function Pt(Ye){return typeof ArrayBuffer<"u"&&Ye instanceof ArrayBuffer}function Ot(Ye){return typeof Blob<"u"&&Ye instanceof Blob}function ui(Ye){return typeof FormData<"u"&&Ye instanceof FormData}class Fi{constructor(Te,qe,Ut,$t){let mi;if(this.url=qe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Te.toUpperCase(),function It(Ye){switch(Ye){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||$t?(this.body=void 0!==Ut?Ut:null,mi=$t):mi=Ut,mi&&(this.reportProgress=!!mi.reportProgress,this.withCredentials=!!mi.withCredentials,mi.responseType&&(this.responseType=mi.responseType),mi.headers&&(this.headers=mi.headers),mi.context&&(this.context=mi.context),mi.params&&(this.params=mi.params)),this.headers||(this.headers=new et),this.context||(this.context=new Ae),this.params){const di=this.params.toString();if(0===di.length)this.urlWithParams=qe;else{const bn=qe.indexOf("?");this.urlWithParams=qe+(-1===bn?"?":bn<qe.length-1?"&":"")+di}}else this.params=new Le,this.urlWithParams=qe}serializeBody(){return null===this.body?null:Pt(this.body)||Ot(this.body)||ui(this.body)||function ti(Ye){return typeof URLSearchParams<"u"&&Ye instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Le?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ui(this.body)?null:Ot(this.body)?this.body.type||null:Pt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Le?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Te={}){const qe=Te.method||this.method,Ut=Te.url||this.url,$t=Te.responseType||this.responseType,mi=void 0!==Te.body?Te.body:this.body,di=void 0!==Te.withCredentials?Te.withCredentials:this.withCredentials,bn=void 0!==Te.reportProgress?Te.reportProgress:this.reportProgress;let Ui=Te.headers||this.headers,Gn=Te.params||this.params;const To=Te.context??this.context;return void 0!==Te.setHeaders&&(Ui=Object.keys(Te.setHeaders).reduce((kr,kn)=>kr.set(kn,Te.setHeaders[kn]),Ui)),Te.setParams&&(Gn=Object.keys(Te.setParams).reduce((kr,kn)=>kr.set(kn,Te.setParams[kn]),Gn)),new Fi(qe,Ut,mi,{params:Gn,headers:Ui,context:To,reportProgress:bn,responseType:$t,withCredentials:di})}}var Oi=(()=>((Oi=Oi||{})[Oi.Sent=0]="Sent",Oi[Oi.UploadProgress=1]="UploadProgress",Oi[Oi.ResponseHeader=2]="ResponseHeader",Oi[Oi.DownloadProgress=3]="DownloadProgress",Oi[Oi.Response=4]="Response",Oi[Oi.User=5]="User",Oi))();class Tn{constructor(Te,qe=200,Ut="OK"){this.headers=Te.headers||new et,this.status=void 0!==Te.status?Te.status:qe,this.statusText=Te.statusText||Ut,this.url=Te.url||null,this.ok=this.status>=200&&this.status<300}}class $n extends Tn{constructor(Te={}){super(Te),this.type=Oi.ResponseHeader}clone(Te={}){return new $n({headers:Te.headers||this.headers,status:void 0!==Te.status?Te.status:this.status,statusText:Te.statusText||this.statusText,url:Te.url||this.url||void 0})}}class pn extends Tn{constructor(Te={}){super(Te),this.type=Oi.Response,this.body=void 0!==Te.body?Te.body:null}clone(Te={}){return new pn({body:void 0!==Te.body?Te.body:this.body,headers:Te.headers||this.headers,status:void 0!==Te.status?Te.status:this.status,statusText:Te.statusText||this.statusText,url:Te.url||this.url||void 0})}}class jn extends Tn{constructor(Te){super(Te,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Te.url||"(unknown url)"}`:`Http failure response for ${Te.url||"(unknown url)"}: ${Te.status} ${Te.statusText}`,this.error=Te.error||null}}function In(Ye,Te){return{body:Te,headers:Ye.headers,context:Ye.context,observe:Ye.observe,params:Ye.params,reportProgress:Ye.reportProgress,responseType:Ye.responseType,withCredentials:Ye.withCredentials}}let Et=(()=>{class Ye{constructor(qe){this.handler=qe}request(qe,Ut,$t={}){let mi;if(qe instanceof Fi)mi=qe;else{let Ui,Gn;Ui=$t.headers instanceof et?$t.headers:new et($t.headers),$t.params&&(Gn=$t.params instanceof Le?$t.params:new Le({fromObject:$t.params})),mi=new Fi(qe,Ut,void 0!==$t.body?$t.body:null,{headers:Ui,context:$t.context,params:Gn,reportProgress:$t.reportProgress,responseType:$t.responseType||"json",withCredentials:$t.withCredentials})}const di=(0,l.of)(mi).pipe((0,je.b)(Ui=>this.handler.handle(Ui)));if(qe instanceof Fi||"events"===$t.observe)return di;const bn=di.pipe((0,ne.h)(Ui=>Ui instanceof pn));switch($t.observe||"body"){case"body":switch(mi.responseType){case"arraybuffer":return bn.pipe((0,He.U)(Ui=>{if(null!==Ui.body&&!(Ui.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Ui.body}));case"blob":return bn.pipe((0,He.U)(Ui=>{if(null!==Ui.body&&!(Ui.body instanceof Blob))throw new Error("Response is not a Blob.");return Ui.body}));case"text":return bn.pipe((0,He.U)(Ui=>{if(null!==Ui.body&&"string"!=typeof Ui.body)throw new Error("Response is not a string.");return Ui.body}));default:return bn.pipe((0,He.U)(Ui=>Ui.body))}case"response":return bn;default:throw new Error(`Unreachable: unhandled observe type ${$t.observe}}`)}}delete(qe,Ut={}){return this.request("DELETE",qe,Ut)}get(qe,Ut={}){return this.request("GET",qe,Ut)}head(qe,Ut={}){return this.request("HEAD",qe,Ut)}jsonp(qe,Ut){return this.request("JSONP",qe,{params:(new Le).append(Ut,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(qe,Ut={}){return this.request("OPTIONS",qe,Ut)}patch(qe,Ut,$t={}){return this.request("PATCH",qe,In($t,Ut))}post(qe,Ut,$t={}){return this.request("POST",qe,In($t,Ut))}put(qe,Ut,$t={}){return this.request("PUT",qe,In($t,Ut))}}return Ye.\u0275fac=function(qe){return new(qe||Ye)(C.LFG(nt))},Ye.\u0275prov=C.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();function rt(Ye,Te){return Te(Ye)}function ut(Ye,Te){return(qe,Ut)=>Te.intercept(qe,{handle:$t=>Ye($t,Ut)})}const ht=new C.OlP(""),Kt=new C.OlP(""),Bt=new C.OlP("");function ri(){let Ye=null;return(Te,qe)=>{null===Ye&&(Ye=((0,C.f3M)(ht,{optional:!0})??[]).reduceRight(ut,rt));const Ut=(0,C.f3M)(C.HDt),$t=Ut.add();return Ye(Te,qe).pipe((0,Oe.x)(()=>Ut.remove($t)))}}let ot=(()=>{class Ye extends nt{constructor(qe,Ut){super(),this.backend=qe,this.injector=Ut,this.chain=null,this.pendingTasks=(0,C.f3M)(C.HDt)}handle(qe){if(null===this.chain){const $t=Array.from(new Set([...this.injector.get(Kt),...this.injector.get(Bt,[])]));this.chain=$t.reduceRight((mi,di)=>function Ee(Ye,Te,qe){return(Ut,$t)=>qe.runInContext(()=>Te(Ut,mi=>Ye(mi,$t)))}(mi,di,this.injector),rt)}const Ut=this.pendingTasks.add();return this.chain(qe,$t=>this.backend.handle($t)).pipe((0,Oe.x)(()=>this.pendingTasks.remove(Ut)))}}return Ye.\u0275fac=function(qe){return new(qe||Ye)(C.LFG(Fe),C.LFG(C.lqb))},Ye.\u0275prov=C.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const he=/^\)\]\}',?\n/;let Re=(()=>{class Ye{constructor(qe){this.xhrFactory=qe}handle(qe){if("JSONP"===qe.method)throw new C.vHH(-2800,!1);const Ut=this.xhrFactory;return(Ut.\u0275loadImpl?(0,le.D)(Ut.\u0275loadImpl()):(0,l.of)(null)).pipe((0,Ge.w)(()=>new v.y(mi=>{const di=Ut.build();if(di.open(qe.method,qe.urlWithParams),qe.withCredentials&&(di.withCredentials=!0),qe.headers.forEach((sn,fn)=>di.setRequestHeader(sn,fn.join(","))),qe.headers.has("Accept")||di.setRequestHeader("Accept","application/json, text/plain, */*"),!qe.headers.has("Content-Type")){const sn=qe.detectContentTypeHeader();null!==sn&&di.setRequestHeader("Content-Type",sn)}if(qe.responseType){const sn=qe.responseType.toLowerCase();di.responseType="json"!==sn?sn:"text"}const bn=qe.serializeBody();let Ui=null;const Gn=()=>{if(null!==Ui)return Ui;const sn=di.statusText||"OK",fn=new et(di.getAllResponseHeaders()),Dr=function de(Ye){return"responseURL"in Ye&&Ye.responseURL?Ye.responseURL:/^X-Request-URL:/m.test(Ye.getAllResponseHeaders())?Ye.getResponseHeader("X-Request-URL"):null}(di)||qe.url;return Ui=new $n({headers:fn,status:di.status,statusText:sn,url:Dr}),Ui},To=()=>{let{headers:sn,status:fn,statusText:Dr,url:ls}=Gn(),er=null;204!==fn&&(er=typeof di.response>"u"?di.responseText:di.response),0===fn&&(fn=er?200:0);let ur=fn>=200&&fn<300;if("json"===qe.responseType&&"string"==typeof er){const _o=er;er=er.replace(he,"");try{er=""!==er?JSON.parse(er):null}catch(lo){er=_o,ur&&(ur=!1,er={error:lo,text:er})}}ur?(mi.next(new pn({body:er,headers:sn,status:fn,statusText:Dr,url:ls||void 0})),mi.complete()):mi.error(new jn({error:er,headers:sn,status:fn,statusText:Dr,url:ls||void 0}))},kr=sn=>{const{url:fn}=Gn(),Dr=new jn({error:sn,status:di.status||0,statusText:di.statusText||"Unknown Error",url:fn||void 0});mi.error(Dr)};let kn=!1;const Nr=sn=>{kn||(mi.next(Gn()),kn=!0);let fn={type:Oi.DownloadProgress,loaded:sn.loaded};sn.lengthComputable&&(fn.total=sn.total),"text"===qe.responseType&&di.responseText&&(fn.partialText=di.responseText),mi.next(fn)},io=sn=>{let fn={type:Oi.UploadProgress,loaded:sn.loaded};sn.lengthComputable&&(fn.total=sn.total),mi.next(fn)};return di.addEventListener("load",To),di.addEventListener("error",kr),di.addEventListener("timeout",kr),di.addEventListener("abort",kr),qe.reportProgress&&(di.addEventListener("progress",Nr),null!==bn&&di.upload&&di.upload.addEventListener("progress",io)),di.send(bn),mi.next({type:Oi.Sent}),()=>{di.removeEventListener("error",kr),di.removeEventListener("abort",kr),di.removeEventListener("load",To),di.removeEventListener("timeout",kr),qe.reportProgress&&(di.removeEventListener("progress",Nr),null!==bn&&di.upload&&di.upload.removeEventListener("progress",io)),di.readyState!==di.DONE&&di.abort()}})))}}return Ye.\u0275fac=function(qe){return new(qe||Ye)(C.LFG(Ve.JF))},Ye.\u0275prov=C.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const xt=new C.OlP("XSRF_ENABLED"),Lt=new C.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),pi=new C.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class en{}let nn=(()=>{class Ye{constructor(qe,Ut,$t){this.doc=qe,this.platform=Ut,this.cookieName=$t,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const qe=this.doc.cookie||"";return qe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Ve.Mx)(qe,this.cookieName),this.lastCookieString=qe),this.lastToken}}return Ye.\u0275fac=function(qe){return new(qe||Ye)(C.LFG(Ve.K0),C.LFG(C.Lbi),C.LFG(Lt))},Ye.\u0275prov=C.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();function Qi(Ye,Te){const qe=Ye.url.toLowerCase();if(!(0,C.f3M)(xt)||"GET"===Ye.method||"HEAD"===Ye.method||qe.startsWith("http://")||qe.startsWith("https://"))return Te(Ye);const Ut=(0,C.f3M)(en).getToken(),$t=(0,C.f3M)(pi);return null!=Ut&&!Ye.headers.has($t)&&(Ye=Ye.clone({headers:Ye.headers.set($t,Ut)})),Te(Ye)}var At=(()=>((At=At||{})[At.Interceptors=0]="Interceptors",At[At.LegacyInterceptors=1]="LegacyInterceptors",At[At.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",At[At.NoXsrfProtection=3]="NoXsrfProtection",At[At.JsonpSupport=4]="JsonpSupport",At[At.RequestsMadeViaParent=5]="RequestsMadeViaParent",At[At.Fetch=6]="Fetch",At))();function ci(Ye,Te){return{\u0275kind:Ye,\u0275providers:Te}}function vt(...Ye){const Te=[Et,Re,ot,{provide:nt,useExisting:ot},{provide:Fe,useExisting:Re},{provide:Kt,useValue:Qi,multi:!0},{provide:xt,useValue:!0},{provide:en,useClass:nn}];for(const qe of Ye)Te.push(...qe.\u0275providers);return(0,C.MR2)(Te)}const B=new C.OlP("LEGACY_INTERCEPTOR_FN");let me=(()=>{class Ye{}return Ye.\u0275fac=function(qe){return new(qe||Ye)},Ye.\u0275mod=C.oAB({type:Ye}),Ye.\u0275inj=C.cJS({providers:[vt(ci(At.LegacyInterceptors,[{provide:B,useFactory:ri},{provide:Kt,useExisting:B,multi:!0}]))]}),Ye})()},5879:(_i,pt,H)=>{"use strict";H.d(pt,{$8M:()=>Tu,$WT:()=>Rs,$Z:()=>X_,AFp:()=>be,ALo:()=>Ib,AaK:()=>Fe,Akn:()=>oc,BQk:()=>uf,CHM:()=>ll,CRH:()=>Tf,DdM:()=>_b,EJc:()=>Sn,EiD:()=>mh,EpF:()=>Uy,F$t:()=>Wy,F4k:()=>jy,FYo:()=>wh,FiY:()=>Lu,G48:()=>zE,Gf:()=>x_,GfV:()=>Ch,GkF:()=>zg,Gpc:()=>ct,Gre:()=>wv,HDt:()=>Lr,Hsn:()=>jg,Ikx:()=>Qg,JOm:()=>Fl,JVY:()=>ng,JZr:()=>Yt,Jf7:()=>fl,KtG:()=>Ws,L6k:()=>Ip,LAX:()=>xd,LFG:()=>j,Lbi:()=>tt,Lck:()=>e1,MAs:()=>zy,MMx:()=>sb,MR2:()=>Em,NdJ:()=>Vg,O4$:()=>b,Ojb:()=>St,OlP:()=>Er,Oqu:()=>Jg,P3R:()=>wm,PXZ:()=>AE,Q6J:()=>Fg,QGY:()=>Bg,QbO:()=>st,Qsj:()=>Dm,R0b:()=>Yi,RDi:()=>yd,Rgc:()=>zh,SBq:()=>tc,Sil:()=>el,Suo:()=>Sf,TTD:()=>Zr,TgZ:()=>lf,Tol:()=>av,Udp:()=>Yg,VKq:()=>yb,VuI:()=>dM,W1O:()=>Wb,WFA:()=>Ug,WLB:()=>vb,XFs:()=>at,Xpm:()=>cs,Xq5:()=>Cy,Xts:()=>Gc,Y36:()=>pu,YKP:()=>rb,YNc:()=>Ly,Yjl:()=>Ua,Yz7:()=>ht,Z0I:()=>ot,ZZ4:()=>X1,_Bn:()=>nb,_UZ:()=>Ng,_Vd:()=>As,_c5:()=>eM,_uU:()=>uv,aQg:()=>J1,c2e:()=>Hi,cJS:()=>Bt,cg1:()=>t_,d8E:()=>e_,dDg:()=>Du,dqk:()=>Re,eBb:()=>Ap,eFA:()=>nE,eJc:()=>C_,ekj:()=>Kg,eoX:()=>Su,f3M:()=>_e,g9A:()=>We,h0i:()=>Nh,hGG:()=>tM,hij:()=>pf,iGM:()=>Df,ifc:()=>Ie,ip1:()=>qt,jDz:()=>ab,kEZ:()=>bb,kL8:()=>Pv,kcU:()=>D,lG2:()=>Ta,lcZ:()=>Ab,lqb:()=>p,lri:()=>yl,mCW:()=>wd,n5z:()=>Od,n_E:()=>Wm,oAB:()=>Da,oJD:()=>bm,oxw:()=>Zy,pB0:()=>xc,q3G:()=>Qr,qFp:()=>hM,qLn:()=>Dd,qOj:()=>Mg,qZA:()=>cf,qzn:()=>La,rFY:()=>Cb,rWj:()=>ta,rg0:()=>wl,s9C:()=>Hg,sBO:()=>BE,s_b:()=>Cf,soG:()=>$i,tb:()=>G1,tp0:()=>Nu,uIk:()=>Dg,vHH:()=>Le,vpe:()=>Dc,wAp:()=>wn,xp6:()=>j_,ynx:()=>df,z2F:()=>Rf,z3N:()=>Ql,zSh:()=>uu,zs3:()=>Td});var C=H(8645),l=H(7394),le=H(5619),v=H(5592),je=H(3019),ne=H(2096),He=H(3020),Oe=H(4664),Ge=H(3997);function Ve(e){for(let n in e)if(e[n]===Ve)return n;throw Error("Could not find renamed property on target object.")}function nt(e,n){for(const s in n)n.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(e[s]=n[s])}function Fe(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Fe).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function et(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const Xe=Ve({__forward_ref__:Ve});function ct(e){return e.__forward_ref__=ct,e.toString=function(){return Fe(this())},e}function bt(e){return Vt(e)?e():e}function Vt(e){return"function"==typeof e&&e.hasOwnProperty(Xe)&&e.__forward_ref__===ct}function oi(e){return e&&!!e.\u0275providers}const Yt="https://g.co/ng/security#xss";class Le extends Error{constructor(n,s){super(function Ue(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,s)),this.code=n}}function Ae(e){return"string"==typeof e?e:null==e?"":String(e)}function ti(e,n){throw new Le(-201,!1)}function li(e,n){null==e&&function Be(e,n,s,u){throw new Error(`ASSERTION ERROR: ${e}`+(null==u?"":` [Expected=> ${s} ${u} ${n} <=Actual]`))}(n,e,null,"!=")}function ht(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Bt(e){return{providers:e.providers||[],imports:e.imports||[]}}function ri(e){return Dt(e,Wi)||Dt(e,Cn)}function ot(e){return null!==ri(e)}function Dt(e,n){return e.hasOwnProperty(n)?e[n]:null}function vn(e){return e&&(e.hasOwnProperty(Nn)||e.hasOwnProperty(ii))?e[Nn]:null}const Wi=Ve({\u0275prov:Ve}),Nn=Ve({\u0275inj:Ve}),Cn=Ve({ngInjectableDef:Ve}),ii=Ve({ngInjectorDef:Ve});var at=(()=>((at=at||{})[at.Default=0]="Default",at[at.Host=1]="Host",at[at.Self=2]="Self",at[at.SkipSelf=4]="SkipSelf",at[at.Optional=8]="Optional",at))();let ae;function Pe(e){const n=ae;return ae=e,n}function he(e,n,s){const u=ri(e);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:s&at.Optional?null:void 0!==n?n:void ti(Fe(e))}const Re=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),yi={},pi="__NG_DI_FLAG__",en="ngTempTokenPath",Qi=/\n/gm,At="__source";let ci;function q(e){const n=ci;return ci=e,n}function B(e,n=at.Default){if(void 0===ci)throw new Le(-203,!1);return null===ci?he(e,void 0,n):ci.get(e,n&at.Optional?null:void 0,n)}function j(e,n=at.Default){return(function Se(){return ae}()||B)(bt(e),n)}function _e(e,n=at.Default){return j(e,ke(n))}function ke(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ge(e){const n=[];for(let s=0;s<e.length;s++){const u=bt(e[s]);if(Array.isArray(u)){if(0===u.length)throw new Le(900,!1);let g,M=at.Default;for(let P=0;P<u.length;P++){const F=u[P],U=X(F);"number"==typeof U?-1===U?g=F.token:M|=U:g=F}n.push(j(g,M))}else n.push(j(u))}return n}function se(e,n){return e[pi]=n,e.prototype[pi]=n,e}function X(e){return e[pi]}function lt(e){return{toString:e}.toString()}var xe=(()=>((xe=xe||{})[xe.OnPush=0]="OnPush",xe[xe.Default=1]="Default",xe))(),Ie=(()=>{return(e=Ie||(Ie={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Ie;var e})();const ue={},De=[],Qe=Ve({\u0275cmp:Ve}),Tt=Ve({\u0275dir:Ve}),Ye=Ve({\u0275pipe:Ve}),Te=Ve({\u0275mod:Ve}),qe=Ve({\u0275fac:Ve}),Ut=Ve({__NG_ELEMENT_ID__:Ve}),$t=Ve({__NG_ENV_ID__:Ve});function mi(e,n,s){let u=e.length;for(;;){const g=e.indexOf(n,s);if(-1===g)return g;if(0===g||e.charCodeAt(g-1)<=32){const M=n.length;if(g+M===u||e.charCodeAt(g+M)<=32)return g}s=g+1}}function di(e,n,s){let u=0;for(;u<s.length;){const g=s[u];if("number"==typeof g){if(0!==g)break;u++;const M=s[u++],P=s[u++],F=s[u++];e.setAttribute(n,P,F,M)}else{const M=g,P=s[++u];Ui(M)?e.setProperty(n,M,P):e.setAttribute(n,M,P),u++}}return u}function bn(e){return 3===e||4===e||6===e}function Ui(e){return 64===e.charCodeAt(0)}function Gn(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let s=-1;for(let u=0;u<n.length;u++){const g=n[u];"number"==typeof g?s=g:0===s||To(e,s,g,null,-1===s||2===s?n[++u]:null)}}return e}function To(e,n,s,u,g){let M=0,P=e.length;if(-1===n)P=-1;else for(;M<e.length;){const F=e[M++];if("number"==typeof F){if(F===n){P=-1;break}if(F>n){P=M-1;break}}}for(;M<e.length;){const F=e[M];if("number"==typeof F)break;if(F===s){if(null===u)return void(null!==g&&(e[M+1]=g));if(u===e[M+1])return void(e[M+2]=g)}M++,null!==u&&M++,null!==g&&M++}-1!==P&&(e.splice(P,0,n),M=P+1),e.splice(M++,0,s),null!==u&&e.splice(M++,0,u),null!==g&&e.splice(M++,0,g)}const kr="ng-template";function kn(e,n,s){let u=0,g=!0;for(;u<e.length;){let M=e[u++];if("string"==typeof M&&g){const P=e[u++];if(s&&"class"===M&&-1!==mi(P.toLowerCase(),n,0))return!0}else{if(1===M){for(;u<e.length&&"string"==typeof(M=e[u++]);)if(M.toLowerCase()===n)return!0;return!1}"number"==typeof M&&(g=!1)}}return!1}function Nr(e){return 4===e.type&&e.value!==kr}function io(e,n,s){return n===(4!==e.type||s?e.value:kr)}function sn(e,n,s){let u=4;const g=e.attrs||[],M=function ur(e){for(let n=0;n<e.length;n++)if(bn(e[n]))return n;return e.length}(g);let P=!1;for(let F=0;F<n.length;F++){const U=n[F];if("number"!=typeof U){if(!P)if(4&u){if(u=2|1&u,""!==U&&!io(e,U,s)||""===U&&1===n.length){if(fn(u))return!1;P=!0}}else{const J=8&u?U:n[++F];if(8&u&&null!==e.attrs){if(!kn(e.attrs,J,s)){if(fn(u))return!1;P=!0}continue}const ze=Dr(8&u?"class":U,g,Nr(e),s);if(-1===ze){if(fn(u))return!1;P=!0;continue}if(""!==J){let mt;mt=ze>M?"":g[ze+1].toLowerCase();const Mt=8&u?mt:null;if(Mt&&-1!==mi(Mt,J,0)||2&u&&J!==mt){if(fn(u))return!1;P=!0}}}}else{if(!P&&!fn(u)&&!fn(U))return!1;if(P&&fn(U))continue;P=!1,u=U|1&u}}return fn(u)||P}function fn(e){return 0==(1&e)}function Dr(e,n,s,u){if(null===n)return-1;let g=0;if(u||!s){let M=!1;for(;g<n.length;){const P=n[g];if(P===e)return g;if(3===P||6===P)M=!0;else{if(1===P||2===P){let F=n[++g];for(;"string"==typeof F;)F=n[++g];continue}if(4===P)break;if(0===P){g+=4;continue}}g+=M?1:2}return-1}return function _o(e,n){let s=e.indexOf(4);if(s>-1)for(s++;s<e.length;){const u=e[s];if("number"==typeof u)return-1;if(u===n)return s;s++}return-1}(n,e)}function ls(e,n,s=!1){for(let u=0;u<n.length;u++)if(sn(e,n[u],s))return!0;return!1}function lo(e,n){e:for(let s=0;s<n.length;s++){const u=n[s];if(e.length===u.length){for(let g=0;g<e.length;g++)if(e[g]!==u[g])continue e;return!0}}return!1}function co(e,n){return e?":not("+n.trim()+")":n}function gn(e){let n=e[0],s=1,u=2,g="",M=!1;for(;s<e.length;){let P=e[s];if("string"==typeof P)if(2&u){const F=e[++s];g+="["+P+(F.length>0?'="'+F+'"':"")+"]"}else 8&u?g+="."+P:4&u&&(g+=" "+P);else""!==g&&!fn(P)&&(n+=co(M,g),g=""),u=P,M=M||!fn(u);s++}return""!==g&&(n+=co(M,g)),n}function cs(e){return lt(()=>{const n=Fs(e),s={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===xe.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ie.Emulated,styles:e.styles||De,_:null,schemas:e.schemas||null,tView:null,id:""};yo(s);const u=e.dependencies;return s.directiveDefs=Jo(u,!1),s.pipeDefs=Jo(u,!0),s.id=function Qo(e){let n=0;const s=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const g of s)n=Math.imul(31,n)+g.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(s),s})}function Va(e){return cn(e)||Or(e)}function Ic(e){return null!==e}function Da(e){return lt(()=>({type:e.type,bootstrap:e.bootstrap||De,declarations:e.declarations||De,imports:e.imports||De,exports:e.exports||De,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Sa(e,n){if(null==e)return ue;const s={};for(const u in e)if(e.hasOwnProperty(u)){let g=e[u],M=g;Array.isArray(g)&&(M=g[1],g=g[0]),s[g]=u,n&&(n[g]=M)}return s}function Ta(e){return lt(()=>{const n=Fs(e);return yo(n),n})}function Ua(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function cn(e){return e[Qe]||null}function Or(e){return e[Tt]||null}function Yr(e){return e[Ye]||null}function Rs(e){const n=cn(e)||Or(e)||Yr(e);return null!==n&&n.standalone}function vr(e,n){const s=e[Te]||null;if(!s&&!0===n)throw new Error(`Type ${Fe(e)} does not have '\u0275mod' property.`);return s}function Fs(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||ue,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||De,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Sa(e.inputs,n),outputs:Sa(e.outputs)}}function yo(e){e.features?.forEach(n=>n(e))}function Jo(e,n){if(!e)return null;const s=n?Yr:Va;return()=>("function"==typeof e?e():e).map(u=>s(u)).filter(Ic)}const fr=0,Ai=1,rn=2,Pn=3,vo=4,zr=5,Kn=6,es=7,gr=8,$o=9,Fo=10,an=11,Lo=12,ia=13,un=14,hr=15,vs=16,ds=17,bo=18,na=19,ja=20,bs=21,Go=22,uo=23,Ls=24,_n=25,nl=1,Ha=2,ho=7,ra=9,br=11;function Sr(e){return Array.isArray(e)&&"object"==typeof e[nl]}function Jn(e){return Array.isArray(e)&&!0===e[nl]}function xo(e){return 0!=(4&e.flags)}function jr(e){return e.componentOffset>-1}function Zn(e){return 1==(1&e.flags)}function Kr(e){return!!e.template}function $a(e){return 0!=(512&e[rn])}function mo(e,n){return e.hasOwnProperty(qe)?e[qe]:null}let al=Re.WeakRef??class Hr{constructor(n){this.ref=n}deref(){return this.ref}},Wa=0,No=null,xr=!1;function Rn(e){const n=No;return No=e,n}class wr{constructor(){this.id=Wa++,this.ref=function Us(e){return new al(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[n,s]of this.producers){const u=s.producerNode.deref();if(void 0!==u&&s.atTrackingVersion===this.trackingVersion){if(u.producerPollStatus(s.seenValueVersion))return!0}else this.producers.delete(n),u?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const n=xr;xr=!0;try{for(const[s,u]of this.consumers){const g=u.consumerNode.deref();void 0!==g&&g.trackingVersion===u.atTrackingVersion?g.onConsumerDependencyMayHaveChanged():(this.consumers.delete(s),g?.producers.delete(this.id))}}finally{xr=n}}producerAccessed(){if(xr)throw new Error("");if(null===No)return;let n=No.producers.get(this.id);void 0===n?(n={consumerNode:No.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:No.trackingVersion},No.producers.set(this.id,n),this.consumers.set(No.id,n)):(n.seenValueVersion=this.valueVersion,n.atTrackingVersion=No.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==No?.consumerAllowSignalWrites}producerPollStatus(n){return this.valueVersion!==n||(this.onProducerUpdateValueVersion(),this.valueVersion!==n)}}let qa=null;function wl(e){const n=Rn(null);try{return e()}finally{Rn(n)}}const xs=()=>{};class Gr extends wr{constructor(n,s,u){super(),this.watch=n,this.schedule=s,this.dirty=!1,this.cleanupFn=xs,this.registerOnCleanup=g=>{this.cleanupFn=g},this.consumerAllowSignalWrites=u}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const n=Rn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=xs,this.watch(this.registerOnCleanup)}finally{Rn(n)}}cleanup(){this.cleanupFn()}}class ga{constructor(n,s,u){this.previousValue=n,this.currentValue=s,this.firstChange=u}isFirstChange(){return this.firstChange}}function Zr(){return Zo}function Zo(e){return e.type.prototype.ngOnChanges&&(e.setInput=ro),Cl}function Cl(){const e=Ya(this),n=e?.current;if(n){const s=e.previous;if(s===ue)e.previous=n;else for(let u in n)s[u]=n[u];e.current=null,this.ngOnChanges(n)}}function ro(e,n,s,u){const g=this.declaredInputs[s],M=Ya(e)||function Zl(e,n){return e[El]=n}(e,{previous:ue,current:null}),P=M.current||(M.current={}),F=M.previous,U=F[g];P[g]=new ga(U&&U.currentValue,n,F===ue),e[u]=n}Zr.ngInherit=!0;const El="__ngSimpleChanges__";function Ya(e){return e[El]||null}const ts=function(e,n,s){},Ml="svg";function _r(e){for(;Array.isArray(e);)e=e[fr];return e}function V(e,n){return _r(n[e])}function Q(e,n){return _r(n[e.index])}function fe(e,n){return e.data[n]}function Ze(e,n){return e[n]}function kt(e,n){const s=n[e];return Sr(s)?s:s[fr]}function zn(e,n){return null==n?null:e[n]}function Bn(e){e[ds]=0}function Mn(e){1024&e[rn]||(e[rn]|=1024,mn(e,1))}function Wn(e){1024&e[rn]&&(e[rn]&=-1025,mn(e,-1))}function mn(e,n){let s=e[Pn];if(null===s)return;s[zr]+=n;let u=s;for(s=s[Pn];null!==s&&(1===n&&1===u[zr]||-1===n&&0===u[zr]);)s[zr]+=n,u=s,s=s[Pn]}const Ki={lFrame:kl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function hn(){return Ki.bindingsEnabled}function Ka(){return null!==Ki.skipHydrationRootTNode}function wt(){return Ki.lFrame.lView}function gi(){return Ki.lFrame.tView}function ll(e){return Ki.lFrame.contextLView=e,e[gr]}function Ws(e){return Ki.lFrame.contextLView=null,e}function wo(){let e=Io();for(;null!==e&&64===e.type;)e=e.parent;return e}function Io(){return Ki.lFrame.currentTNode}function Ao(e,n){const s=Ki.lFrame;s.currentTNode=e,s.isParent=n}function Pa(){return Ki.lFrame.isParent}function cl(){Ki.lFrame.isParent=!1}function ko(){const e=Ki.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Es(){return Ki.lFrame.bindingIndex++}function qs(e){const n=Ki.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,s}function td(e,n){const s=Ki.lFrame;s.bindingIndex=s.bindingRootIndex=e,Oa(n)}function Oa(e){Ki.lFrame.currentDirectiveIndex=e}function ql(e){const n=Ki.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}function Tl(){return Ki.lFrame.currentQueryIndex}function Ra(e){Ki.lFrame.currentQueryIndex=e}function Yl(e){const n=e[Ai];return 2===n.type?n.declTNode:1===n.type?e[Kn]:null}function Il(e,n,s){if(s&at.SkipSelf){let g=n,M=e;for(;!(g=g.parent,null!==g||s&at.Host||(g=Yl(M),null===g||(M=M[un],10&g.type))););if(null===g)return!1;n=g,e=M}const u=Ki.lFrame=cc();return u.currentTNode=n,u.lView=e,!0}function Al(e){const n=cc(),s=e[Ai];Ki.lFrame=n,n.currentTNode=s.firstChild,n.lView=e,n.tView=s,n.contextLView=e,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function cc(){const e=Ki.lFrame,n=null===e?null:e.child;return null===n?kl(e):n}function kl(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Qn(){const e=Ki.lFrame;return Ki.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const E=Qn;function i(){const e=Qn();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function w(){return Ki.lFrame.selectedIndex}function S(e){Ki.lFrame.selectedIndex=e}function f(){const e=Ki.lFrame;return fe(e.tView,e.selectedIndex)}function b(){Ki.lFrame.currentNamespace=Ml}function D(){!function k(){Ki.lFrame.currentNamespace=null}()}let z=!0;function ee(){return z}function oe(e){z=e}function Ce(e,n){for(let s=n.directiveStart,u=n.directiveEnd;s<u;s++){const M=e.data[s].type.prototype,{ngAfterContentInit:P,ngAfterContentChecked:F,ngAfterViewInit:U,ngAfterViewChecked:J,ngOnDestroy:ye}=M;P&&(e.contentHooks??=[]).push(-s,P),F&&((e.contentHooks??=[]).push(s,F),(e.contentCheckHooks??=[]).push(s,F)),U&&(e.viewHooks??=[]).push(-s,U),J&&((e.viewHooks??=[]).push(s,J),(e.viewCheckHooks??=[]).push(s,J)),null!=ye&&(e.destroyHooks??=[]).push(s,ye)}}function it(e,n,s){ft(e,n,3,s)}function yt(e,n,s,u){(3&e[rn])===s&&ft(e,n,s,u)}function $e(e,n){let s=e[rn];(3&s)===n&&(s&=8191,s+=1,e[rn]=s)}function ft(e,n,s,u){const M=u??-1,P=n.length-1;let F=0;for(let U=void 0!==u?65535&e[ds]:0;U<P;U++)if("number"==typeof n[U+1]){if(F=n[U],null!=u&&F>=u)break}else n[U]<0&&(e[ds]+=65536),(F<M||-1==M)&&(Zt(e,s,n,U),e[ds]=(4294901760&e[ds])+U+2),U++}function Ft(e,n){ts(4,e,n);const s=Rn(null);try{n.call(e)}finally{Rn(s),ts(5,e,n)}}function Zt(e,n,s,u){const g=s[u]<0,M=s[u+1],F=e[g?-s[u]:s[u]];g?e[rn]>>13<e[ds]>>16&&(3&e[rn])===n&&(e[rn]+=8192,Ft(F,M)):Ft(F,M)}const Gt=-1;class Qt{constructor(n,s,u){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=u}}function Xn(e){return e!==Gt}function An(e){return 32767&e}function Pr(e,n){let s=function dn(e){return e>>16}(e),u=n;for(;s>0;)u=u[un],s--;return u}let zo=!0;function ar(e){const n=zo;return zo=e,n}const Ys=255,sa=5;let va=0;const Jr={};function Pl(e,n){const s=po(e,n);if(-1!==s)return s;const u=n[Ai];u.firstCreatePass&&(e.injectorIndex=n.length,Wo(u.data,e),Wo(n,null),Wo(u.blueprint,null));const g=rr(e,n),M=e.injectorIndex;if(Xn(g)){const P=An(g),F=Pr(g,n),U=F[Ai].data;for(let J=0;J<8;J++)n[M+J]=F[P+J]|U[P+J]}return n[M+8]=g,M}function Wo(e,n){e.push(0,0,0,0,0,0,0,0,n)}function po(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function rr(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let s=0,u=null,g=n;for(;null!==g;){if(u=ep(g),null===u)return Gt;if(s++,g=g[un],-1!==u.injectorIndex)return u.injectorIndex|s<<16}return Gt}function Eo(e,n,s){!function Fa(e,n,s){let u;"string"==typeof s?u=s.charCodeAt(0)||0:s.hasOwnProperty(Ut)&&(u=s[Ut]),null==u&&(u=s[Ut]=va++);const g=u&Ys;n.data[e+(g>>sa)]|=1<<g}(e,n,s)}function lr(e,n,s){if(s&at.Optional||void 0!==e)return e;ti()}function Po(e,n,s,u){if(s&at.Optional&&void 0===u&&(u=null),!(s&(at.Self|at.Host))){const g=e[$o],M=Pe(void 0);try{return g?g.get(n,u,s&at.Optional):he(n,u,s&at.Optional)}finally{Pe(M)}}return lr(u,0,s)}function Ks(e,n,s,u=at.Default,g){if(null!==e){if(2048&n[rn]&&!(u&at.Self)){const P=function Qm(e,n,s,u,g){let M=e,P=n;for(;null!==M&&null!==P&&2048&P[rn]&&!(512&P[rn]);){const F=Kl(M,P,s,u|at.Self,Jr);if(F!==Jr)return F;let U=M.parent;if(!U){const J=P[ja];if(J){const ye=J.get(s,Jr,u);if(ye!==Jr)return ye}U=ep(P),P=P[un]}M=U}return g}(e,n,s,u,Jr);if(P!==Jr)return P}const M=Kl(e,n,s,u,Jr);if(M!==Jr)return M}return Po(n,s,u,g)}function Kl(e,n,s,u,g){const M=function Vr(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Ut)?e[Ut]:void 0;return"number"==typeof n?n>=0?n&Ys:kc:n}(s);if("function"==typeof M){if(!Il(n,e,u))return u&at.Host?lr(g,0,u):Po(n,s,u,g);try{const P=M(u);if(null!=P||u&at.Optional)return P;ti()}finally{E()}}else if("number"==typeof M){let P=null,F=po(e,n),U=Gt,J=u&at.Host?n[hr][Kn]:null;for((-1===F||u&at.SkipSelf)&&(U=-1===F?rr(e,n):n[F+8],U!==Gt&&dc(u,!1)?(P=n[Ai],F=An(U),n=Pr(U,n)):F=-1);-1!==F;){const ye=n[Ai];if(nd(M,F,ye.data)){const ze=ul(F,n,s,P,u,J);if(ze!==Jr)return ze}U=n[F+8],U!==Gt&&dc(u,n[Ai].data[F+8]===J)&&nd(M,F,n)?(P=ye,F=An(U),n=Pr(U,n)):F=-1}}return g}function ul(e,n,s,u,g,M){const P=n[Ai],F=P.data[e+8],ye=id(F,P,s,null==u?jr(F)&&zo:u!=P&&0!=(3&F.type),g&at.Host&&M===F);return null!==ye?Ol(n,P,ye,F):Jr}function id(e,n,s,u,g){const M=e.providerIndexes,P=n.data,F=1048575&M,U=e.directiveStart,ye=M>>20,mt=g?F+ye:e.directiveEnd;for(let Mt=u?F:F+ye;Mt<mt;Mt++){const si=P[Mt];if(Mt<U&&s===si||Mt>=U&&si.type===s)return Mt}if(g){const Mt=P[U];if(Mt&&Kr(Mt)&&Mt.type===s)return U}return null}function Ol(e,n,s,u){let g=e[s];const M=n.data;if(function Xt(e){return e instanceof Qt}(g)){const P=g;P.resolving&&function Pt(e,n){const s=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new Le(-200,`Circular dependency in DI detected for ${e}${s}`)}(function It(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ae(e)}(M[s]));const F=ar(P.canSeeViewProviders);P.resolving=!0;const U=P.injectImpl?Pe(P.injectImpl):null;Il(e,u,at.Default);try{g=e[s]=P.factory(void 0,M,e,u),n.firstCreatePass&&s>=u.directiveStart&&function Me(e,n,s){const{ngOnChanges:u,ngOnInit:g,ngDoCheck:M}=n.type.prototype;if(u){const P=Zo(n);(s.preOrderHooks??=[]).push(e,P),(s.preOrderCheckHooks??=[]).push(e,P)}g&&(s.preOrderHooks??=[]).push(0-e,g),M&&((s.preOrderHooks??=[]).push(e,M),(s.preOrderCheckHooks??=[]).push(e,M))}(s,M[s],n)}finally{null!==U&&Pe(U),ar(F),P.resolving=!1,E()}}return g}function nd(e,n,s){return!!(s[n+(e>>sa)]&1<<e)}function dc(e,n){return!(e&at.Self||e&at.Host&&n)}class Xs{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,u){return Ks(this._tNode,this._lView,n,ke(u),s)}}function kc(){return new Xs(wo(),wt())}function Od(e){return lt(()=>{const n=e.prototype.constructor,s=n[qe]||Rd(n),u=Object.prototype;let g=Object.getPrototypeOf(e.prototype).constructor;for(;g&&g!==u;){const M=g[qe]||Rd(g);if(M&&M!==s)return M;g=Object.getPrototypeOf(g)}return M=>new M})}function Rd(e){return Vt(e)?()=>{const n=Rd(bt(e));return n&&n()}:mo(e)}function ep(e){const n=e[Ai],s=n.type;return 2===s?n.declTNode:1===s?e[Kn]:null}function Tu(e){return function qo(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const s=e.attrs;if(s){const u=s.length;let g=0;for(;g<u;){const M=s[g];if(bn(M))break;if(0===M)g+=2;else if("number"==typeof M)for(g++;g<u&&"string"==typeof s[g];)g++;else{if(M===n)return s[g+1];g+=2}}}return null}(wo(),e)}const uc="__parameters__";function Pc(e,n,s){return lt(()=>{const u=function Au(e){return function(...s){if(e){const u=e(...s);for(const g in u)this[g]=u[g]}}}(n);function g(...M){if(this instanceof g)return u.apply(this,M),this;const P=new g(...M);return F.annotation=P,F;function F(U,J,ye){const ze=U.hasOwnProperty(uc)?U[uc]:Object.defineProperty(U,uc,{value:[]})[uc];for(;ze.length<=ye;)ze.push(null);return(ze[ye]=ze[ye]||[]).push(P),U}}return s&&(g.prototype=Object.create(s.prototype)),g.prototype.ngMetadataName=e,g.annotationCls=g,g})}function Fc(e,n){e.forEach(s=>Array.isArray(s)?Fc(s,n):n(s))}function $h(e,n,s){n>=e.length?e.push(s):e.splice(n,0,s)}function sd(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Nd(e,n){const s=[];for(let u=0;u<e;u++)s.push(n);return s}function so(e,n,s){let u=ld(e,n);return u>=0?e[1|u]=s:(u=~u,function Ou(e,n,s,u){let g=e.length;if(g==n)e.push(s,u);else if(1===g)e.push(u,e[0]),e[0]=s;else{for(g--,e.push(e[g-1],e[g]);g>n;)e[g]=e[g-2],g--;e[n]=s,e[n+1]=u}}(e,u,n,s)),u}function ad(e,n){const s=ld(e,n);if(s>=0)return e[1|s]}function ld(e,n){return function ip(e,n,s){let u=0,g=e.length>>s;for(;g!==u;){const M=u+(g-u>>1),P=e[M<<s];if(n===P)return M<<s;P>n?g=M:u=M+1}return~(g<<s)}(e,n,1)}const Lu=se(Pc("Optional"),8),Nu=se(Pc("SkipSelf"),4);function Hu(e){return 128==(128&e.flags)}var Fl=(()=>((Fl=Fl||{})[Fl.Important=1]="Important",Fl[Fl.DashCase=2]="DashCase",Fl))();const Wf=/^>|^->|<!--|-->|--!>|<!-$/g,em=/(<|>)/,$d="\u200b$1\u200b";const pc=new Map;let hp=0;const im="__ngContext__";function Js(e,n){Sr(n)?(e[im]=n[na],function qf(e){pc.set(e[na],e)}(n)):e[im]=n}let rm;function om(e,n){return rm(e,n)}function Yd(e){const n=e[Pn];return Jn(n)?n[Pn]:n}function Bo(e){return am(e[Lo])}function sm(e){return am(e[vo])}function am(e){for(;null!==e&&!Jn(e);)e=e[vo];return e}function zc(e,n,s,u,g){if(null!=u){let M,P=!1;Jn(u)?M=u:Sr(u)&&(P=!0,u=u[fr]);const F=_r(u);0===e&&null!==s?null==g?Ku(n,s,F):_c(n,s,F,g||null,!0):1===e&&null!==s?_c(n,s,F,g||null,!0):2===e?function Uc(e,n,s){const u=Ju(e,n);u&&function tg(e,n,s,u){e.removeChild(n,s,u)}(e,u,n,s)}(n,F,P):3===e&&n.destroyNode(F),null!=M&&function ih(e,n,s,u,g){const M=s[ho];M!==_r(s)&&zc(n,e,u,M,g);for(let F=br;F<s.length;F++){const U=s[F];_d(U[Ai],U,e,n,u,M)}}(n,e,M,s,g)}}function Yu(e,n){return e.createComment(function Gu(e){return e.replace(Wf,n=>n.replace(em,$d))}(n))}function Kd(e,n,s){return e.createElement(n,s)}function xp(e,n){const s=e[ra],u=s.indexOf(n);Wn(n),s.splice(u,1)}function lm(e,n){if(e.length<=br)return;const s=br+n,u=e[s];if(u){const g=u[vs];null!==g&&g!==e&&xp(g,u),n>0&&(e[s-1][vo]=u[vo]);const M=sd(e,br+n);!function Ll(e,n){_d(e,n,n[an],2,null,null),n[fr]=null,n[Kn]=null}(u[Ai],u);const P=M[bo];null!==P&&P.detachView(M[Ai]),u[Pn]=null,u[vo]=null,u[rn]&=-129}return u}function wp(e,n){if(!(256&n[rn])){const s=n[an];n[uo]?.destroy(),n[Ls]?.destroy(),s.destroyNode&&_d(e,n,s,3,null,null),function Kf(e){let n=e[Lo];if(!n)return cm(e[Ai],e);for(;n;){let s=null;if(Sr(n))s=n[Lo];else{const u=n[br];u&&(s=u)}if(!s){for(;n&&!n[vo]&&n!==e;)Sr(n)&&cm(n[Ai],n),n=n[Pn];null===n&&(n=e),Sr(n)&&cm(n[Ai],n),s=n&&n[vo]}n=s}}(n)}}function cm(e,n){if(!(256&n[rn])){n[rn]&=-129,n[rn]|=256,function eg(e,n){let s;if(null!=e&&null!=(s=e.destroyHooks))for(let u=0;u<s.length;u+=2){const g=n[s[u]];if(!(g instanceof Qt)){const M=s[u+1];if(Array.isArray(M))for(let P=0;P<M.length;P+=2){const F=g[M[P]],U=M[P+1];ts(4,F,U);try{U.call(F)}finally{ts(5,F,U)}}else{ts(4,g,M);try{M.call(g)}finally{ts(5,g,M)}}}}}(e,n),function Qf(e,n){const s=e.cleanup,u=n[es];if(null!==s)for(let M=0;M<s.length-1;M+=2)if("string"==typeof s[M]){const P=s[M+3];P>=0?u[P]():u[-P].unsubscribe(),M+=2}else s[M].call(u[s[M+1]]);null!==u&&(n[es]=null);const g=n[bs];if(null!==g){n[bs]=null;for(let M=0;M<g.length;M++)(0,g[M])()}}(e,n),1===n[Ai].type&&n[an].destroy();const s=n[vs];if(null!==s&&Jn(n[Pn])){s!==n[Pn]&&xp(s,n);const u=n[bo];null!==u&&u.detachView(e)}!function Gd(e){pc.delete(e[na])}(n)}}function fd(e,n,s){return function Bc(e,n,s){let u=n;for(;null!==u&&40&u.type;)u=(n=u).parent;if(null===u)return s[fr];{const{componentOffset:g}=u;if(g>-1){const{encapsulation:M}=e.data[u.directiveStart+g];if(M===Ie.None||M===Ie.Emulated)return null}return Q(u,s)}}(e,n.parent,s)}function _c(e,n,s,u,g){e.insertBefore(n,s,u,g)}function Ku(e,n,s){e.appendChild(n,s)}function Xu(e,n,s,u,g){null!==u?_c(e,n,s,u,g):Ku(e,n,s)}function Ju(e,n){return e.parentNode(n)}function Jd(e,n,s){return Qu(e,n,s)}let eh,eu,fm,vd,Qu=function Qs(e,n,s){return 40&e.type?Q(e,s):null};function yc(e,n,s,u){const g=fd(e,u,n),M=n[an],F=Jd(u.parent||n[Kn],u,n);if(null!=g)if(Array.isArray(s))for(let U=0;U<s.length;U++)Xu(M,g,s[U],F,!1);else Xu(M,g,s,F,!1);void 0!==eh&&eh(M,u,n,s,g)}function zl(e,n){if(null!==n){const s=n.type;if(3&s)return Q(n,e);if(4&s)return gd(-1,e[n.index]);if(8&s){const u=n.child;if(null!==u)return zl(e,u);{const g=e[n.index];return Jn(g)?gd(-1,g):_r(g)}}if(32&s)return om(n,e)()||_r(e[n.index]);{const u=Vc(e,n);return null!==u?Array.isArray(u)?u[0]:zl(Yd(e[hr]),u):zl(e,n.next)}}return null}function Vc(e,n){return null!==n?e[hr][Kn].projection[n.projection]:null}function gd(e,n){const s=br+e+1;if(s<n.length){const u=n[s],g=u[Ai].firstChild;if(null!==g)return zl(u,g)}return n[ho]}function th(e,n,s,u,g,M,P){for(;null!=s;){const F=u[s.index],U=s.type;if(P&&0===n&&(F&&Js(_r(F),u),s.flags|=2),32!=(32&s.flags))if(8&U)th(e,n,s.child,u,g,M,!1),zc(n,e,g,F,M);else if(32&U){const J=om(s,u);let ye;for(;ye=J();)zc(n,e,g,ye,M);zc(n,e,g,F,M)}else 16&U?hm(e,n,u,s,g,M):zc(n,e,g,F,M);s=P?s.projectionNext:s.next}}function _d(e,n,s,u,g,M){th(s,u,e.firstChild,n,g,M,!1)}function hm(e,n,s,u,g,M){const P=s[hr],U=P[Kn].projection[u.projection];if(Array.isArray(U))for(let J=0;J<U.length;J++)zc(n,e,g,U[J],M);else{let J=U;const ye=P[Pn];Hu(u)&&(J.flags|=128),th(e,n,J,ye,g,M,!0)}}function Ep(e,n,s){""===s?e.removeAttribute(n,"class"):e.setAttribute(n,"class",s)}function Mp(e,n,s){const{mergedAttrs:u,classes:g,styles:M}=s;null!==u&&di(e,n,u),null!==g&&Ep(e,n,g),null!==M&&function Qd(e,n,s){e.setAttribute(n,"style",s)}(e,n,M)}function aa(e){return function jc(){if(void 0===eu&&(eu=null,Re.trustedTypes))try{eu=Re.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return eu}()?.createHTML(e)||e}function yd(e){fm=e}function Hc(){if(void 0!==fm)return fm;if(typeof document<"u")return document;throw new Le(210,!1)}function bd(){if(void 0===vd&&(vd=null,Re.trustedTypes))try{vd=Re.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return vd}function rh(e){return bd()?.createHTML(e)||e}function oh(e){return bd()?.createScriptURL(e)||e}class Jl{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Yt})`}}class sh extends Jl{getTypeName(){return"HTML"}}class Sp extends Jl{getTypeName(){return"Style"}}class ah extends Jl{getTypeName(){return"Script"}}class Tp extends Jl{getTypeName(){return"URL"}}class ig extends Jl{getTypeName(){return"ResourceURL"}}function Ql(e){return e instanceof Jl?e.changingThisBreaksApplicationSecurity:e}function La(e,n){const s=function tu(e){return e instanceof Jl&&e.getTypeName()||null}(e);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see ${Yt})`)}return s===n}function ng(e){return new sh(e)}function Ip(e){return new Sp(e)}function Ap(e){return new ah(e)}function xd(e){return new Tp(e)}function xc(e){return new ig(e)}class kp{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const s=(new window.DOMParser).parseFromString(aa(n),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(n):(s.removeChild(s.firstChild),s)}catch{return null}}}class Pp{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const s=this.inertDocument.createElement("template");return s.innerHTML=aa(n),s}}const _m=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function wd(e){return(e=String(e)).match(_m)?e:"unsafe:"+e}function Xa(e){const n={};for(const s of e.split(","))n[s]=!0;return n}function Cd(...e){const n={};for(const s of e)for(const u in s)s.hasOwnProperty(u)&&(n[u]=!0);return n}const ch=Xa("area,br,col,hr,img,wbr"),ym=Xa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),la=Xa("rp,rt"),iu=Cd(ch,Cd(ym,Xa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Cd(la,Xa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Cd(la,ym)),uh=Xa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Op=Cd(uh,Xa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hh=Xa("script,style,template");class wc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let s=n.firstChild,u=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?u=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,u&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let g=this.checkClobberedElement(s,s.nextSibling);if(g){s=g;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(n){const s=n.nodeName.toLowerCase();if(!iu.hasOwnProperty(s))return this.sanitizedSomething=!0,!hh.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const u=n.attributes;for(let g=0;g<u.length;g++){const M=u.item(g),P=M.name,F=P.toLowerCase();if(!Op.hasOwnProperty(F)){this.sanitizedSomething=!0;continue}let U=M.value;uh[F]&&(U=wd(U)),this.buf.push(" ",P,'="',nu(U),'"')}return this.buf.push(">"),!0}endElement(n){const s=n.nodeName.toLowerCase();iu.hasOwnProperty(s)&&!ch.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(n){this.buf.push(nu(n))}checkClobberedElement(n,s){if(s&&(n.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return s}}const Rp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fp=/([^\#-~ |!])/g;function nu(e){return e.replace(/&/g,"&amp;").replace(Rp,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Fp,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ru;function mh(e,n){let s=null;try{ru=ru||function lh(e){const n=new Pp(e);return function gm(){try{return!!(new window.DOMParser).parseFromString(aa(""),"text/html")}catch{return!1}}()?new kp(n):n}(e);let u=n?String(n):"";s=ru.getInertBodyElement(u);let g=5,M=u;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,u=M,M=s.innerHTML,s=ru.getInertBodyElement(u)}while(u!==M);return aa((new wc).sanitizeChildren(vm(s)||s))}finally{if(s){const u=vm(s)||s;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function vm(e){return"content"in e&&function Lp(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Qr=(()=>((Qr=Qr||{})[Qr.NONE=0]="NONE",Qr[Qr.HTML=1]="HTML",Qr[Qr.STYLE=2]="STYLE",Qr[Qr.SCRIPT=3]="SCRIPT",Qr[Qr.URL=4]="URL",Qr[Qr.RESOURCE_URL=5]="RESOURCE_URL",Qr))();function bm(e){const n=$c();return n?rh(n.sanitize(Qr.HTML,e)||""):La(e,"HTML")?rh(Ql(e)):mh(Hc(),Ae(e))}function xm(e){const n=$c();return n?n.sanitize(Qr.URL,e)||"":La(e,"URL")?Ql(e):wd(Ae(e))}function ou(e){const n=$c();if(n)return oh(n.sanitize(Qr.RESOURCE_URL,e)||"");if(La(e,"ResourceURL"))return oh(Ql(e));throw new Le(904,!1)}function wm(e,n,s){return function cg(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?ou:xm}(n,s)(e)}function $c(){const e=wt();return e&&e[Fo].sanitizer}class Er{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=ht({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Gc=new Er("ENVIRONMENT_INITIALIZER"),Np=new Er("INJECTOR",-1),_h=new Er("INJECTOR_DEF_TYPES");class Cm{get(n,s=yi){if(s===yi){const u=new Error(`NullInjectorError: No provider for ${Fe(n)}!`);throw u.name="NullInjectorError",u}return s}}function Em(e){return{\u0275providers:e}}function su(...e){return{\u0275providers:yh(0,e),\u0275fromNgModule:!0}}function yh(e,...n){const s=[],u=new Set;let g;return Fc(n,M=>{const P=M;vh(P,s,[],u)&&(g||=[],g.push(P))}),void 0!==g&&au(g,s),s}function au(e,n){for(let s=0;s<e.length;s++){const{providers:g}=e[s];lu(g,M=>{n.push(M)})}}function vh(e,n,s,u){if(!(e=bt(e)))return!1;let g=null,M=vn(e);const P=!M&&cn(e);if(M||P){if(P&&!P.standalone)return!1;g=e}else{const U=e.ngModule;if(M=vn(U),!M)return!1;g=U}const F=u.has(g);if(P){if(F)return!1;if(u.add(g),P.dependencies){const U="function"==typeof P.dependencies?P.dependencies():P.dependencies;for(const J of U)vh(J,n,s,u)}}else{if(!M)return!1;{if(null!=M.imports&&!F){let J;u.add(g);try{Fc(M.imports,ye=>{vh(ye,n,s,u)&&(J||=[],J.push(ye))})}finally{}void 0!==J&&au(J,n)}if(!F){const J=mo(g)||(()=>new g);n.push({provide:g,useFactory:J,deps:De},{provide:_h,useValue:g,multi:!0},{provide:Gc,useValue:()=>j(g),multi:!0})}const U=M.providers;null==U||F||lu(U,ye=>{n.push(ye)})}}return g!==e&&void 0!==e.providers}function lu(e,n){for(let s of e)oi(s)&&(s=s.\u0275providers),Array.isArray(s)?lu(s,n):n(s)}const zp=Ve({provide:String,useValue:Ve});function cu(e){return null!==e&&"object"==typeof e&&zp in e}function ec(e){return"function"==typeof e}const uu=new Er("Set Injector scope."),xh={},o={};let t;function a(){return void 0===t&&(t=new Cm),t}class p{}class x extends p{get destroyed(){return this._destroyed}constructor(n,s,u,g){super(),this.parent=s,this.source=u,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,pe(n,P=>this.processProvider(P)),this.records.set(Np,Z(void 0,this)),g.has("environment")&&this.records.set(p,Z(void 0,this));const M=this.records.get(uu);null!=M&&"string"==typeof M.value&&this.scopes.add(M.value),this.injectorDefTypes=new Set(this.get(_h.multi,De,at.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of n)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const s=q(this),u=Pe(void 0);try{return n()}finally{q(s),Pe(u)}}get(n,s=yi,u=at.Default){if(this.assertNotDestroyed(),n.hasOwnProperty($t))return n[$t](this);u=ke(u);const g=q(this),M=Pe(void 0);try{if(!(u&at.SkipSelf)){let F=this.records.get(n);if(void 0===F){const U=function ce(e){return"function"==typeof e||"object"==typeof e&&e instanceof Er}(n)&&ri(n);F=U&&this.injectableDefInScope(U)?Z(T(n),xh):null,this.records.set(n,F)}if(null!=F)return this.hydrate(n,F)}return(u&at.Self?a():this.parent).get(n,s=u&at.Optional&&s===yi?null:s)}catch(P){if("NullInjectorError"===P.name){if((P[en]=P[en]||[]).unshift(Fe(n)),g)throw P;return function me(e,n,s,u){const g=e[en];throw n[At]&&g.unshift(n[At]),e.message=function Je(e,n,s,u=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let g=Fe(n);if(Array.isArray(n))g=n.map(Fe).join(" -> ");else if("object"==typeof n){let M=[];for(let P in n)if(n.hasOwnProperty(P)){let F=n[P];M.push(P+":"+("string"==typeof F?JSON.stringify(F):Fe(F)))}g=`{${M.join(", ")}}`}return`${s}${u?"("+u+")":""}[${g}]: ${e.replace(Qi,"\n  ")}`}("\n"+e.message,g,s,u),e.ngTokenPath=g,e[en]=null,e}(P,n,"R3InjectorError",this.source)}throw P}finally{Pe(M),q(g)}}resolveInjectorInitializers(){const n=q(this),s=Pe(void 0);try{const u=this.get(Gc.multi,De,at.Self);for(const g of u)g()}finally{q(n),Pe(s)}}toString(){const n=[],s=this.records;for(const u of s.keys())n.push(Fe(u));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processProvider(n){let s=ec(n=bt(n))?n:bt(n&&n.provide);const u=function O(e){return cu(e)?Z(void 0,e.useValue):Z(L(e),xh)}(n);if(ec(n)||!0!==n.multi)this.records.get(s);else{let g=this.records.get(s);g||(g=Z(void 0,xh,!0),g.factory=()=>ge(g.multi),this.records.set(s,g)),s=n,g.multi.push(n)}this.records.set(s,u)}hydrate(n,s){return s.value===xh&&(s.value=o,s.value=s.factory()),"object"==typeof s.value&&s.value&&function te(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(n){if(!n.providedIn)return!1;const s=bt(n.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(n){const s=this._onDestroyHooks.indexOf(n);-1!==s&&this._onDestroyHooks.splice(s,1)}}function T(e){const n=ri(e),s=null!==n?n.factory:mo(e);if(null!==s)return s;if(e instanceof Er)throw new Le(204,!1);if(e instanceof Function)return function I(e){const n=e.length;if(n>0)throw Nd(n,"?"),new Le(204,!1);const s=function wi(e){return e&&(e[Wi]||e[Cn])||null}(e);return null!==s?()=>s.factory(e):()=>new e}(e);throw new Le(204,!1)}function L(e,n,s){let u;if(ec(e)){const g=bt(e);return mo(g)||T(g)}if(cu(e))u=()=>bt(e.useValue);else if(function Md(e){return!(!e||!e.useFactory)}(e))u=()=>e.useFactory(...ge(e.deps||[]));else if(function du(e){return!(!e||!e.useExisting)}(e))u=()=>j(bt(e.useExisting));else{const g=bt(e&&(e.useClass||e.provide));if(!function K(e){return!!e.deps}(e))return mo(g)||T(g);u=()=>new g(...ge(e.deps))}return u}function Z(e,n,s=!1){return{factory:e,value:n,multi:s?[]:void 0}}function pe(e,n){for(const s of e)Array.isArray(s)?pe(s,n):s&&oi(s)?pe(s.\u0275providers,n):n(s)}const be=new Er("AppId",{providedIn:"root",factory:()=>Ne}),Ne="ng",We=new Er("Platform Initializer"),tt=new Er("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),st=new Er("AnimationModuleType"),St=new Er("CSP nonce",{providedIn:"root",factory:()=>Hc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Oo=(e,n)=>null;function Ss(e,n){return Oo(e,n)}class Is{}class Na{}class Qa{resolveComponentFactory(n){throw function ml(e){const n=Error(`No component factory found for ${Fe(e)}.`);return n.ngComponent=e,n}(n)}}let As=(()=>{class e{}return e.NULL=new Qa,e})();function ks(){return xa(wo(),wt())}function xa(e,n){return new tc(Q(e,n))}let tc=(()=>{class e{constructor(s){this.nativeElement=s}}return e.__NG_ELEMENT_ID__=ks,e})();function Bp(e){return e instanceof tc?e.nativeElement:e}class wh{}let Dm=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function Bl(){const e=wt(),s=kt(wo().index,e);return(Sr(s)?s:e)[an]}(),e})(),Sm=(()=>{class e{}return e.\u0275prov=ht({token:e,providedIn:"root",factory:()=>null}),e})();class Ch{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Tm=new Ch("16.1.3"),Eh={};function hu(e){for(;e;){e[rn]|=64;const n=Yd(e);if($a(e)&&!n)return e;e=n}return null}function Im(e){return e.ngOriginalError}class Dd{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n);this._console.error("ERROR",n),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(n){let s=n&&Im(n);for(;s&&Im(s);)s=Im(s);return s||null}}const jp=new Er("",{providedIn:"root",factory:()=>!1});function fl(e){return e.ownerDocument.defaultView}function ma(e){return e instanceof Function?e():e}class z_ extends wr{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(n){this._lView=n}onConsumerDependencyMayHaveChanged(){hu(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(n,s,u){const g=Rn(this);this.trackingVersion++;try{n(s,u)}finally{Rn(g)}}destroy(){this.trackingVersion++}}let $p=null;function B_(){return $p??=new z_,$p}function V_(e,n){return e[n]??B_()}function U_(e,n){const s=B_();s.hasReadASignal&&(e[n]=$p,s.lView=e,$p=new z_)}const Vn={};function j_(e){H_(gi(),wt(),w()+e,!1)}function H_(e,n,s,u){if(!u)if(3==(3&n[rn])){const M=e.preOrderCheckHooks;null!==M&&it(n,M,s)}else{const M=e.preOrderHooks;null!==M&&yt(n,M,0,s)}S(s)}function Y_(e,n=null,s=null,u){const g=K_(e,n,s,u);return g.resolveInjectorInitializers(),g}function K_(e,n=null,s=null,u,g=new Set){const M=[s||De,su(e)];return u=u||("object"==typeof e?void 0:Fe(e)),new x(M,n||a(),u||null,g)}let Td=(()=>{class e{static create(s,u){if(Array.isArray(s))return Y_({name:""},u,s,"");{const g=s.name??"";return Y_({name:g},s.parent,s.providers,g)}}}return e.THROW_IF_NOT_FOUND=yi,e.NULL=new Cm,e.\u0275prov=ht({token:e,providedIn:"any",factory:()=>j(Np)}),e.__NG_ELEMENT_ID__=-1,e})();function pu(e,n=at.Default){const s=wt();return null===s?j(e,n):Ks(wo(),s,bt(e),n)}function X_(){throw new Error("invalid")}function Gp(e,n,s,u,g,M,P,F,U,J,ye){const ze=n.blueprint.slice();return ze[fr]=g,ze[rn]=140|u,(null!==J||e&&2048&e[rn])&&(ze[rn]|=2048),Bn(ze),ze[Pn]=ze[un]=e,ze[gr]=s,ze[Fo]=P||e&&e[Fo],ze[an]=F||e&&e[an],ze[$o]=U||e&&e[$o]||null,ze[Kn]=M,ze[na]=function mp(){return hp++}(),ze[Go]=ye,ze[ja]=J,ze[hr]=2==n.type?e[hr]:ze,ze}function fu(e,n,s,u,g){let M=e.data[n];if(null===M)M=function hg(e,n,s,u,g){const M=Io(),P=Pa(),U=e.data[n]=function S0(e,n,s,u,g,M){let P=n?n.injectorIndex:-1,F=0;return Ka()&&(F|=128),{type:s,index:u,insertBeforeIndex:null,injectorIndex:P,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:F,providerIndexes:0,value:g,attrs:M,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,P?M:M&&M.parent,s,n,u,g);return null===e.firstChild&&(e.firstChild=U),null!==M&&(P?null==M.child&&null!==U.parent&&(M.child=U):null===M.next&&(M.next=U,U.prev=M)),U}(e,n,s,u,g),function ya(){return Ki.lFrame.inI18n}()&&(M.flags|=32);else if(64&M.type){M.type=s,M.value=u,M.attrs=g;const P=function Wl(){const e=Ki.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();M.injectorIndex=null===P?-1:P.injectorIndex}return Ao(M,!0),M}function Am(e,n,s,u){if(0===s)return-1;const g=n.length;for(let M=0;M<s;M++)n.push(u),e.blueprint.push(u),e.data.push(null);return g}function J_(e,n,s,u,g){const M=V_(n,uo),P=w(),F=2&u;try{if(S(-1),F&&n.length>_n&&H_(e,n,_n,!1),ts(F?2:0,g),F)M.runInContext(s,u,g);else{const J=Rn(null);try{s(u,g)}finally{Rn(J)}}}finally{F&&null===n[uo]&&U_(n,uo),S(P),ts(F?3:1,g)}}function mg(e,n,s){if(xo(n)){const u=Rn(null);try{const M=n.directiveEnd;for(let P=n.directiveStart;P<M;P++){const F=e.data[P];F.contentQueries&&F.contentQueries(1,s[P],P)}}finally{Rn(u)}}}function pg(e,n,s){hn()&&(function iy(e,n,s,u){const g=s.directiveStart,M=s.directiveEnd;jr(s)&&function En(e,n,s){const u=Q(n,e),g=Q_(s);let P=16;s.signals?P=4096:s.onPush&&(P=64);const F=nc(e,Gp(e,g,null,P,u,n,null,e[Fo].rendererFactory.createRenderer(u,s),null,null,null));e[n.index]=F}(n,s,e.data[g+s.componentOffset]),e.firstCreatePass||Pl(s,n),Js(u,n);const P=s.initialInputs;for(let F=g;F<M;F++){const U=e.data[F],J=Ol(n,e,F,s);Js(J,n),null!==P&&yg(0,F-g,J,U,0,P),Kr(U)&&(kt(s.index,n)[gr]=Ol(n,e,F,s))}}(e,n,s,Q(s,n)),64==(64&s.flags)&&ny(e,n,s))}function fg(e,n,s=Q){const u=n.localNames;if(null!==u){let g=n.index+1;for(let M=0;M<u.length;M+=2){const P=u[M+1],F=-1===P?s(n,e):e[P];e[g++]=F}}}function Q_(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=gg(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function gg(e,n,s,u,g,M,P,F,U,J,ye){const ze=_n+u,mt=ze+g,Mt=function x0(e,n){const s=[];for(let u=0;u<n;u++)s.push(u<e?null:Vn);return s}(ze,mt),si="function"==typeof J?J():J;return Mt[Ai]={type:e,blueprint:Mt,template:s,queries:null,viewQuery:F,declTNode:n,data:Mt.slice().fill(null,ze),bindingStartIndex:ze,expandoStartIndex:mt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof M?M():M,pipeRegistry:"function"==typeof P?P():P,firstChild:null,schemas:U,consts:si,incompleteFirstPass:!1,ssrId:ye}}let ey=e=>null;function ao(e,n,s,u){for(let g in e)if(e.hasOwnProperty(g)){s=null===s?{}:s;const M=e[g];null===u?km(s,n,g,M):u.hasOwnProperty(g)&&km(s,n,u[g],M)}return s}function km(e,n,s,u){e.hasOwnProperty(s)?e[s].push(n,u):e[s]=[n,u]}function gl(e,n,s,u,g,M,P,F){const U=Q(n,s);let ye,J=n.inputs;!F&&null!=J&&(ye=J[u])?(bg(e,s,ye,u,g),jr(n)&&function A0(e,n){const s=kt(n,e);16&s[rn]||(s[rn]|=64)}(s,n.index)):3&n.type&&(u=function I0(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(u),g=null!=P?P(g,n.value||"",u):g,M.setProperty(U,u,g))}function Zp(e,n,s,u){if(hn()){const g=null===u?null:{"":-1},M=function R0(e,n){const s=e.directiveRegistry;let u=null,g=null;if(s)for(let M=0;M<s.length;M++){const P=s[M];if(ls(n,P.selectors,!1))if(u||(u=[]),Kr(P))if(null!==P.findHostDirectiveDefs){const F=[];g=g||new Map,P.findHostDirectiveDefs(P,F,g),u.unshift(...F,P),_g(e,n,F.length)}else u.unshift(P),_g(e,n,0);else g=g||new Map,P.findHostDirectiveDefs?.(P,u,g),u.push(P)}return null===u?null:[u,g]}(e,s);let P,F;null===M?P=F=null:[P,F]=M,null!==P&&Wp(e,n,s,P,g,F),g&&function ry(e,n,s){if(n){const u=e.localNames=[];for(let g=0;g<n.length;g+=2){const M=s[n[g+1]];if(null==M)throw new Le(-301,!1);u.push(n[g],M)}}}(s,u,g)}s.mergedAttrs=Gn(s.mergedAttrs,s.attrs)}function Wp(e,n,s,u,g,M){for(let J=0;J<u.length;J++)Eo(Pl(s,n),e,u[J].type);!function F0(e,n,s){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+s,e.providerIndexes=n}(s,e.data.length,u.length);for(let J=0;J<u.length;J++){const ye=u[J];ye.providersResolver&&ye.providersResolver(ye)}let P=!1,F=!1,U=Am(e,n,u.length,null);for(let J=0;J<u.length;J++){const ye=u[J];s.mergedAttrs=Gn(s.mergedAttrs,ye.hostAttrs),Wc(e,s,n,U,ye),wa(U,ye,g),null!==ye.contentQueries&&(s.flags|=4),(null!==ye.hostBindings||null!==ye.hostAttrs||0!==ye.hostVars)&&(s.flags|=64);const ze=ye.type.prototype;!P&&(ze.ngOnChanges||ze.ngOnInit||ze.ngDoCheck)&&((e.preOrderHooks??=[]).push(s.index),P=!0),!F&&(ze.ngOnChanges||ze.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(s.index),F=!0),U++}!function T0(e,n,s){const g=n.directiveEnd,M=e.data,P=n.attrs,F=[];let U=null,J=null;for(let ye=n.directiveStart;ye<g;ye++){const ze=M[ye],mt=s?s.get(ze):null,si=mt?mt.outputs:null;U=ao(ze.inputs,ye,U,mt?mt.inputs:null),J=ao(ze.outputs,ye,J,si);const vi=null===U||null===P||Nr(n)?null:L0(U,ye,P);F.push(vi)}null!==U&&(U.hasOwnProperty("class")&&(n.flags|=8),U.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=F,n.inputs=U,n.outputs=J}(e,s,M)}function ny(e,n,s){const u=s.directiveStart,g=s.directiveEnd,M=s.index,P=function dl(){return Ki.lFrame.currentDirectiveIndex}();try{S(M);for(let F=u;F<g;F++){const U=e.data[F],J=n[F];Oa(F),(null!==U.hostBindings||0!==U.hostVars||null!==U.hostAttrs)&&O0(U,J)}}finally{S(-1),Oa(P)}}function O0(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function _g(e,n,s){n.componentOffset=s,(e.components??=[]).push(n.index)}function wa(e,n,s){if(s){if(n.exportAs)for(let u=0;u<n.exportAs.length;u++)s[n.exportAs[u]]=e;Kr(n)&&(s[""]=e)}}function Wc(e,n,s,u,g){e.data[u]=g;const M=g.factory||(g.factory=mo(g.type)),P=new Qt(M,Kr(g),pu);e.blueprint[u]=P,s[u]=P,function qp(e,n,s,u,g){const M=g.hostBindings;if(M){let P=e.hostBindingOpCodes;null===P&&(P=e.hostBindingOpCodes=[]);const F=~n.index;(function ty(e){let n=e.length;for(;n>0;){const s=e[--n];if("number"==typeof s&&s<0)return s}return 0})(P)!=F&&P.push(F),P.push(s,u,M)}}(e,n,u,Am(e,s,g.hostVars,Vn),g)}function ss(e,n,s,u,g,M){const P=Q(e,n);!function Un(e,n,s,u,g,M,P){if(null==M)e.removeAttribute(n,g,s);else{const F=null==P?Ae(M):P(M,u||"",g);e.setAttribute(n,g,F,s)}}(n[an],P,M,e.value,s,u,g)}function yg(e,n,s,u,g,M){const P=M[n];if(null!==P)for(let F=0;F<P.length;)oy(u,s,P[F++],P[F++],P[F++])}function oy(e,n,s,u,g){const M=Rn(null);try{const P=e.inputTransforms;null!==P&&P.hasOwnProperty(u)&&(g=P[u].call(n,g)),null!==e.setInput?e.setInput(n,g,s,u):n[u]=g}finally{Rn(M)}}function L0(e,n,s){let u=null,g=0;for(;g<s.length;){const M=s[g];if(0!==M)if(5!==M){if("number"==typeof M)break;if(e.hasOwnProperty(M)){null===u&&(u=[]);const P=e[M];for(let F=0;F<P.length;F+=2)if(P[F]===n){u.push(M,P[F+1],s[g+1]);break}}g+=2}else g+=2;else g+=4}return u}function ic(e,n,s,u){return[e,!0,!1,n,null,0,u,s,null,null,null]}function Pm(e,n){const s=e.contentQueries;if(null!==s)for(let u=0;u<s.length;u+=2){const M=s[u+1];if(-1!==M){const P=e.data[M];Ra(s[u]),P.contentQueries(2,n[M],M)}}}function nc(e,n){return e[Lo]?e[ia][vo]=n:e[Lo]=n,e[ia]=n,n}function Om(e,n,s){Ra(0);const u=Rn(null);try{n(e,s)}finally{Rn(u)}}function vg(e){return e[es]||(e[es]=[])}function ay(e){return e.cleanup||(e.cleanup=[])}function ly(e,n,s){return(null===e||Kr(e))&&(s=function fi(e){for(;Array.isArray(e);){if("object"==typeof e[nl])return e;e=e[fr]}return null}(s[n.index])),s[an]}function cy(e,n){const s=e[$o],u=s?s.get(Dd,null):null;u&&u.handleError(n)}function bg(e,n,s,u,g){for(let M=0;M<s.length;){const P=s[M++],F=s[M++];oy(e.data[P],n[P],u,F,g)}}function N0(e,n){const s=kt(n,e),u=s[Ai];!function z0(e,n){for(let s=n.length;s<e.blueprint.length;s++)n.push(e.blueprint[s])}(u,s);const g=s[fr];null!==g&&null===s[Go]&&(s[Go]=Ss(g,s[$o])),xg(u,s,s[gr])}function xg(e,n,s){Al(n);try{const u=e.viewQuery;null!==u&&Om(1,u,s);const g=e.template;null!==g&&J_(e,n,g,1,s),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Pm(e,n),e.staticViewQueries&&Om(2,e.viewQuery,s);const M=e.components;null!==M&&function B0(e,n){for(let s=0;s<n.length;s++)N0(e,n[s])}(n,M)}catch(u){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),u}finally{n[rn]&=-5,i()}}let dy=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(s,u,g){const M=typeof Zone>"u"?null:Zone.current,P=new Gr(s,J=>{this.all.has(J)&&this.queue.set(J,M)},g);let F;this.all.add(P),P.notify();const U=()=>{P.cleanup(),F?.(),this.all.delete(P),this.queue.delete(P)};return F=u?.onDestroy(U),{destroy:U}}flush(){if(0!==this.queue.size)for(const[s,u]of this.queue)this.queue.delete(s),u?u.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}}return e.\u0275prov=ht({token:e,providedIn:"root",factory:()=>new e}),e})();function Yp(e,n,s){let u=s?e.styles:null,g=s?e.classes:null,M=0;if(null!==n)for(let P=0;P<n.length;P++){const F=n[P];"number"==typeof F?M=F:1==M?g=et(g,F):2==M&&(u=et(u,F+": "+n[++P]+";"))}s?e.styles=u:e.stylesWithoutHost=u,s?e.classes=g:e.classesWithoutHost=g}function Rm(e,n,s,u,g=!1){for(;null!==s;){const M=n[s.index];if(null!==M&&u.push(_r(M)),Jn(M)){for(let F=br;F<M.length;F++){const U=M[F],J=U[Ai].firstChild;null!==J&&Rm(U[Ai],U,J,u)}M[ho]!==M[fr]&&u.push(M[ho])}const P=s.type;if(8&P)Rm(e,n,s.child,u);else if(32&P){const F=om(s,n);let U;for(;U=F();)u.push(U)}else if(16&P){const F=Vc(n,s);if(Array.isArray(F))u.push(...F);else{const U=Yd(n[hr]);Rm(U[Ai],U,F,u,!0)}}s=g?s.projectionNext:s.next}return u}function Kp(e,n,s,u=!0){const g=n[Fo].rendererFactory;g.begin&&g.begin();try{uy(e,n,e.template,s)}catch(P){throw u&&cy(n,P),P}finally{g.end&&g.end(),n[Fo].effectManager?.flush()}}function uy(e,n,s,u){const g=n[rn];if(256!=(256&g)){n[Fo].effectManager?.flush(),Al(n);try{Bn(n),function oa(e){return Ki.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==s&&J_(e,n,s,2,u);const P=3==(3&g);if(P){const J=e.preOrderCheckHooks;null!==J&&it(n,J,null)}else{const J=e.preOrderHooks;null!==J&&yt(n,J,0,null),$e(n,0)}if(function hy(e){for(let n=Bo(e);null!==n;n=sm(n)){if(!n[Ha])continue;const s=n[ra];for(let u=0;u<s.length;u++){Mn(s[u])}}}(n),wg(n,2),null!==e.contentQueries&&Pm(e,n),P){const J=e.contentCheckHooks;null!==J&&it(n,J)}else{const J=e.contentHooks;null!==J&&yt(n,J,1),$e(n,1)}!function b0(e,n){const s=e.hostBindingOpCodes;if(null===s)return;const u=V_(n,Ls);try{for(let g=0;g<s.length;g++){const M=s[g];if(M<0)S(~M);else{const P=M,F=s[++g],U=s[++g];td(F,P),u.runInContext(U,2,n[P])}}}finally{null===n[Ls]&&U_(n,Ls),S(-1)}}(e,n);const F=e.components;null!==F&&Cg(n,F,0);const U=e.viewQuery;if(null!==U&&Om(2,U,u),P){const J=e.viewCheckHooks;null!==J&&it(n,J)}else{const J=e.viewHooks;null!==J&&yt(n,J,2),$e(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[rn]&=-73,Wn(n)}finally{i()}}}function wg(e,n){for(let s=Bo(e);null!==s;s=sm(s))for(let u=br;u<s.length;u++)py(s[u],n)}function my(e,n,s){py(kt(n,e),s)}function py(e,n){if(!function qi(e){return 128==(128&e[rn])}(e))return;const s=e[Ai];if(80&e[rn]&&0===n||1024&e[rn]||2===n)uy(s,e,s.template,e[gr]);else if(e[zr]>0){wg(e,1);const g=e[Ai].components;null!==g&&Cg(e,g,1)}}function Cg(e,n,s){for(let u=0;u<n.length;u++)my(e,n[u],s)}class Fm{get rootNodes(){const n=this._lView,s=n[Ai];return Rm(s,n,s.firstChild,[])}constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[gr]}set context(n){this._lView[gr]=n}get destroyed(){return 256==(256&this._lView[rn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Pn];if(Jn(n)){const s=n[8],u=s?s.indexOf(this):-1;u>-1&&(lm(n,u),sd(s,u))}this._attachedToViewContainer=!1}wp(this._lView[Ai],this._lView)}onDestroy(n){!function Wr(e,n){if(256==(256&e[rn]))throw new Le(911,!1);null===e[bs]&&(e[bs]=[]),e[bs].push(n)}(this._lView,n)}markForCheck(){hu(this._cdRefInjectingView||this._lView)}detach(){this._lView[rn]&=-129}reattach(){this._lView[rn]|=128}detectChanges(){Kp(this._lView[Ai],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Xd(e,n){_d(e,n,n[an],2,null,null)}(this._lView[Ai],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Le(902,!1);this._appRef=n}}class $0 extends Fm{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Kp(n[Ai],n,n[gr],!1)}checkNoChanges(){}get context(){return null}}class fy extends As{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=cn(n);return new Xp(s,this.ngModule)}}function Yc(e){const n=[];for(let s in e)e.hasOwnProperty(s)&&n.push({propName:e[s],templateName:s});return n}class cC{constructor(n,s){this.injector=n,this.parentInjector=s}get(n,s,u){u=ke(u);const g=this.injector.get(n,Eh,u);return g!==Eh||s===Eh?g:this.parentInjector.get(n,s,u)}}class Xp extends Na{get inputs(){const n=this.componentDef,s=n.inputTransforms,u=Yc(n.inputs);if(null!==s)for(const g of u)s.hasOwnProperty(g.propName)&&(g.transform=s[g.propName]);return u}get outputs(){return Yc(this.componentDef.outputs)}constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=function no(e){return e.map(gn).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}create(n,s,u,g){let M=(g=g||this.ngModule)instanceof p?g:g?.injector;M&&null!==this.componentDef.getStandaloneInjector&&(M=this.componentDef.getStandaloneInjector(M)||M);const P=M?new cC(n,M):n,F=P.get(wh,null);if(null===F)throw new Le(407,!1);const ye={rendererFactory:F,sanitizer:P.get(Sm,null),effectManager:P.get(dy,null)},ze=F.createRenderer(null,this.componentDef),mt=this.componentDef.selectors[0][0]||"div",Mt=u?function w0(e,n,s,u){const M=u.get(jp,!1)||s===Ie.ShadowDom,P=e.selectRootElement(n,M);return function C0(e){ey(e)}(P),P}(ze,u,this.componentDef.encapsulation,P):Kd(ze,mt,function Eg(e){const n=e.toLowerCase();return"svg"===n?Ml:"math"===n?"math":null}(mt)),Gi=this.componentDef.signals?4608:this.componentDef.onPush?576:528,ln=gg(0,null,null,1,0,null,null,null,null,null,null),ai=Gp(null,ln,null,Gi,null,null,ye,ze,P,null,null);let Hn,yr;Al(ai);try{const Ar=this.componentDef;let il,p0=null;Ar.findHostDirectiveDefs?(il=[],p0=new Map,Ar.findHostDirectiveDefs(Ar,il,p0),il.push(Ar)):il=[Ar];const mM=function gy(e,n){const s=e[Ai],u=_n;return e[u]=n,fu(s,u,2,"#host",null)}(ai,Mt),pM=function _y(e,n,s,u,g,M,P){const F=g[Ai];!function G0(e,n,s,u){for(const g of e)n.mergedAttrs=Gn(n.mergedAttrs,g.hostAttrs);null!==n.mergedAttrs&&(Yp(n,n.mergedAttrs,!0),null!==s&&Mp(u,s,n))}(u,e,n,P);let U=null;null!==n&&(U=Ss(n,g[$o]));const J=M.rendererFactory.createRenderer(n,s);let ye=16;s.signals?ye=4096:s.onPush&&(ye=64);const ze=Gp(g,Q_(s),null,ye,g[e.index],e,M,J,null,null,U);return F.firstCreatePass&&_g(F,e,u.length-1),nc(g,ze),g[e.index]=ze}(mM,Mt,Ar,il,ai,ye,ze);yr=fe(ln,_n),Mt&&function hC(e,n,s,u){if(u)di(e,s,["ng-version",Tm.full]);else{const{attrs:g,classes:M}=function Ro(e){const n=[],s=[];let u=1,g=2;for(;u<e.length;){let M=e[u];if("string"==typeof M)2===g?""!==M&&n.push(M,e[++u]):8===g&&s.push(M);else{if(!fn(g))break;g=M}u++}return{attrs:n,classes:s}}(n.selectors[0]);g&&di(e,s,g),M&&M.length>0&&Ep(e,s,M.join(" "))}}(ze,Ar,Mt,u),void 0!==s&&function W0(e,n,s){const u=e.projection=[];for(let g=0;g<n.length;g++){const M=s[g];u.push(null!=M?Array.from(M):null)}}(yr,this.ngContentSelectors,s),Hn=function Z0(e,n,s,u,g,M){const P=wo(),F=g[Ai],U=Q(P,g);Wp(F,g,P,s,null,u);for(let ye=0;ye<s.length;ye++)Js(Ol(g,F,P.directiveStart+ye,P),g);ny(F,g,P),U&&Js(U,g);const J=Ol(g,F,P.directiveStart+P.componentOffset,P);if(e[gr]=g[gr]=J,null!==M)for(const ye of M)ye(J,n);return mg(F,P,e),J}(pM,Ar,il,p0,ai,[q0]),xg(ln,ai,null)}finally{i()}return new dC(this.componentType,Hn,xa(yr,ai),ai,yr)}}class dC extends Is{constructor(n,s,u,g,M){super(),this.location=u,this._rootLView=g,this._tNode=M,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new $0(g),this.componentType=n}setInput(n,s){const u=this._tNode.inputs;let g;if(null!==u&&(g=u[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),s))return;const M=this._rootLView;bg(M[Ai],M,g,n,s),this.previousInputValues.set(n,s),hu(kt(this._tNode.index,M))}}get injector(){return new Xs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function q0(){const e=wo();Ce(wt()[Ai],e)}function Mg(e){let n=function yy(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),s=!0;const u=[e];for(;n;){let g;if(Kr(e))g=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Le(903,!1);g=n.\u0275dir}if(g){if(s){u.push(g);const P=e;P.inputs=Jp(e.inputs),P.inputTransforms=Jp(e.inputTransforms),P.declaredInputs=Jp(e.declaredInputs),P.outputs=Jp(e.outputs);const F=g.hostBindings;F&&mC(e,F);const U=g.viewQuery,J=g.contentQueries;if(U&&vy(e,U),J&&K0(e,J),nt(e.inputs,g.inputs),nt(e.declaredInputs,g.declaredInputs),nt(e.outputs,g.outputs),null!==g.inputTransforms&&(null===P.inputTransforms&&(P.inputTransforms={}),nt(P.inputTransforms,g.inputTransforms)),Kr(g)&&g.data.animation){const ye=e.data;ye.animation=(ye.animation||[]).concat(g.data.animation)}}const M=g.features;if(M)for(let P=0;P<M.length;P++){const F=M[P];F&&F.ngInherit&&F(e),F===Mg&&(s=!1)}}n=Object.getPrototypeOf(n)}!function Y0(e){let n=0,s=null;for(let u=e.length-1;u>=0;u--){const g=e[u];g.hostVars=n+=g.hostVars,g.hostAttrs=Gn(g.hostAttrs,s=Gn(s,g.hostAttrs))}}(u)}function Jp(e){return e===ue?{}:e===De?[]:e}function vy(e,n){const s=e.viewQuery;e.viewQuery=s?(u,g)=>{n(u,g),s(u,g)}:n}function K0(e,n){const s=e.contentQueries;e.contentQueries=s?(u,g,M)=>{n(u,g,M),s(u,g,M)}:n}function mC(e,n){const s=e.hostBindings;e.hostBindings=s?(u,g)=>{n(u,g),s(u,g)}:n}function Cy(e){const n=e.inputConfig,s={};for(const u in n)if(n.hasOwnProperty(u)){const g=n[u];Array.isArray(g)&&g[2]&&(s[u]=g[2])}e.inputTransforms=s}function Lm(e){return!!Sh(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Sh(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ec(e,n,s){return e[n]=s}function Ca(e,n,s){return!Object.is(e[n],s)&&(e[n]=s,!0)}function _u(e,n,s,u){const g=Ca(e,n,s);return Ca(e,n+1,u)||g}function Dg(e,n,s,u){const g=wt();return Ca(g,Es(),n)&&(gi(),ss(f(),g,e,n,s,u)),Dg}function Ih(e,n,s,u){return Ca(e,Es(),s)?n+Ae(s)+u:Vn}function Ly(e,n,s,u,g,M,P,F){const U=wt(),J=gi(),ye=e+_n,ze=J.firstCreatePass?function mx(e,n,s,u,g,M,P,F,U){const J=n.consts,ye=fu(n,e,4,P||null,zn(J,F));Zp(n,s,ye,zn(J,U)),Ce(n,ye);const ze=ye.tView=gg(2,ye,u,g,M,n.directiveRegistry,n.pipeRegistry,null,n.schemas,J,null);return null!==n.queries&&(n.queries.template(n,ye),ze.queries=n.queries.embeddedTView(ye)),ye}(ye,J,U,n,s,u,g,M,P):J.data[ye];Ao(ze,!1);const mt=Ny(J,U,ze,e);ee()&&yc(J,U,mt,ze),Js(mt,U),nc(U,U[ye]=ic(mt,U,mt,ze)),Zn(ze)&&pg(J,U,ze),null!=P&&fg(U,ze,F)}let Ny=function af(e,n,s,u){return oe(!0),n[an].createComment("")};function zy(e){return Ze(function Br(){return Ki.lFrame.contextLView}(),_n+e)}function Fg(e,n,s){const u=wt();return Ca(u,Es(),n)&&gl(gi(),f(),u,e,n,u[an],s,!1),Fg}function Lg(e,n,s,u,g){const P=g?"class":"style";bg(e,s,n.inputs[P],P,u)}function lf(e,n,s,u){const g=wt(),M=gi(),P=_n+e,F=g[an],U=M.firstCreatePass?function gx(e,n,s,u,g,M){const P=n.consts,U=fu(n,e,2,u,zn(P,g));return Zp(n,s,U,zn(P,M)),null!==U.attrs&&Yp(U,U.attrs,!1),null!==U.mergedAttrs&&Yp(U,U.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,U),U}(P,M,g,n,s,u):M.data[P],J=By(M,g,U,F,n,e);g[P]=J;const ye=Zn(U);return Ao(U,!0),Mp(F,J,U),32!=(32&U.flags)&&ee()&&yc(M,g,J,U),0===function ir(){return Ki.lFrame.elementDepthCount}()&&Js(J,g),function nr(){Ki.lFrame.elementDepthCount++}(),ye&&(pg(M,g,U),mg(M,U,g)),null!==u&&fg(g,U),lf}function cf(){let e=wo();Pa()?cl():(e=e.parent,Ao(e,!1));const n=e;(function Dl(e){return Ki.skipHydrationRootTNode===e})(n)&&function is(){Ki.skipHydrationRootTNode=null}(),function ps(){Ki.lFrame.elementDepthCount--}();const s=gi();return s.firstCreatePass&&(Ce(s,e),xo(e)&&s.queries.elementEnd(e)),null!=n.classesWithoutHost&&function bi(e){return 0!=(8&e.flags)}(n)&&Lg(s,n,wt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function tn(e){return 0!=(16&e.flags)}(n)&&Lg(s,n,wt(),n.stylesWithoutHost,!1),cf}function Ng(e,n,s,u){return lf(e,n,s,u),cf(),Ng}let By=(e,n,s,u,g,M)=>(oe(!0),Kd(u,g,function R(){return Ki.lFrame.currentNamespace}()));function df(e,n,s){const u=wt(),g=gi(),M=e+_n,P=g.firstCreatePass?function vx(e,n,s,u,g){const M=n.consts,P=zn(M,u),F=fu(n,e,8,"ng-container",P);return null!==P&&Yp(F,P,!0),Zp(n,s,F,zn(M,g)),null!==n.queries&&n.queries.elementStart(n,F),F}(M,g,u,n,s):g.data[M];Ao(P,!0);const F=Vy(g,u,P,e);return u[M]=F,ee()&&yc(g,u,F,P),Js(F,u),Zn(P)&&(pg(g,u,P),mg(g,P,u)),null!=s&&fg(u,P),df}function uf(){let e=wo();const n=gi();return Pa()?cl():(e=e.parent,Ao(e,!1)),n.firstCreatePass&&(Ce(n,e),xo(e)&&n.queries.elementEnd(e)),uf}function zg(e,n,s){return df(e,n,s),uf(),zg}let Vy=(e,n,s,u)=>(oe(!0),Yu(n[an],""));function Uy(){return wt()}function Bg(e){return!!e&&"function"==typeof e.then}function jy(e){return!!e&&"function"==typeof e.subscribe}function Vg(e,n,s,u){const g=wt(),M=gi(),P=wo();return Hy(M,g,g[an],P,e,n,u),Vg}function Ug(e,n){const s=wo(),u=wt(),g=gi();return Hy(g,u,ly(ql(g.data),s,u),s,e,n),Ug}function Hy(e,n,s,u,g,M,P){const F=Zn(u),J=e.firstCreatePass&&ay(e),ye=n[gr],ze=vg(n);let mt=!0;if(3&u.type||P){const vi=Q(u,n),Gi=P?P(vi):vi,ln=ze.length,ai=P?yr=>P(_r(yr[u.index])):u.index;let Hn=null;if(!P&&F&&(Hn=function wx(e,n,s,u){const g=e.cleanup;if(null!=g)for(let M=0;M<g.length-1;M+=2){const P=g[M];if(P===s&&g[M+1]===u){const F=n[es],U=g[M+2];return F.length>U?F[U]:null}"string"==typeof P&&(M+=2)}return null}(e,n,g,u.index)),null!==Hn)(Hn.__ngLastListenerFn__||Hn).__ngNextListenerFn__=M,Hn.__ngLastListenerFn__=M,mt=!1;else{M=Gy(u,n,ye,M,!1);const yr=s.listen(Gi,g,M);ze.push(M,yr),J&&J.push(g,ai,ln,ln+1)}}else M=Gy(u,n,ye,M,!1);const Mt=u.outputs;let si;if(mt&&null!==Mt&&(si=Mt[g])){const vi=si.length;if(vi)for(let Gi=0;Gi<vi;Gi+=2){const Ar=n[si[Gi]][si[Gi+1]].subscribe(M),il=ze.length;ze.push(M,Ar),J&&J.push(g,u.index,il,-(il+1))}}}function $y(e,n,s,u){try{return ts(6,n,s),!1!==s(u)}catch(g){return cy(e,g),!1}finally{ts(7,n,s)}}function Gy(e,n,s,u,g){return function M(P){if(P===Function)return u;hu(e.componentOffset>-1?kt(e.index,n):n);let U=$y(n,s,u,P),J=M.__ngNextListenerFn__;for(;J;)U=$y(n,s,J,P)&&U,J=J.__ngNextListenerFn__;return g&&!1===U&&P.preventDefault(),U}}function Zy(e=1){return function d(e){return(Ki.lFrame.contextLView=function y(e,n){for(;e>0;)n=n[un],e--;return n}(e,Ki.lFrame.contextLView))[gr]}(e)}function Cx(e,n){let s=null;const u=function er(e){const n=e.attrs;if(null!=n){const s=n.indexOf(5);if(!(1&s))return n[s+1]}return null}(e);for(let g=0;g<n.length;g++){const M=n[g];if("*"!==M){if(null===u?ls(e,M,!0):lo(u,M))return g}else s=g}return s}function Wy(e){const n=wt()[hr][Kn];if(!n.projection){const u=n.projection=Nd(e?e.length:1,null),g=u.slice();let M=n.child;for(;null!==M;){const P=e?Cx(M,e):0;null!==P&&(g[P]?g[P].projectionNext=M:u[P]=M,g[P]=M),M=M.next}}}function jg(e,n=0,s){const u=wt(),g=gi(),M=fu(g,_n+e,16,null,s||null);null===M.projection&&(M.projection=n),cl(),(!u[Go]||Ka())&&32!=(32&M.flags)&&function Cp(e,n,s){hm(n[an],0,n,s,fd(e,s,n),Jd(s.parent||n[Kn],s,n))}(g,u,M)}function Hg(e,n,s){return $g(e,"",n,"",s),Hg}function $g(e,n,s,u,g){const M=wt(),P=Ih(M,n,s,u);return P!==Vn&&gl(gi(),f(),M,e,P,M[an],g,!1),$g}function Vm(e,n){return e<<17|n<<2}function Xc(e){return e>>17&32767}function Zg(e){return 2|e}function xu(e){return(131068&e)>>2}function Wg(e,n){return-131069&e|n<<2}function qg(e){return 1|e}function ev(e,n,s,u,g){const M=e[s+1],P=null===n;let F=u?Xc(M):xu(M),U=!1;for(;0!==F&&(!1===U||P);){const ye=e[F+1];Ix(e[F],n)&&(U=!0,e[F+1]=u?qg(ye):Zg(ye)),F=u?Xc(ye):xu(ye)}U&&(e[s+1]=u?Zg(M):qg(M))}function Ix(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&ld(e,n)>=0}const Ps={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function tv(e){return e.substring(Ps.key,Ps.keyEnd)}function Ax(e){return e.substring(Ps.value,Ps.valueEnd)}function iv(e,n){const s=Ps.textEnd;return s===n?-1:(n=Ps.keyEnd=function Ox(e,n,s){for(;n<s&&e.charCodeAt(n)>32;)n++;return n}(e,Ps.key=n,s),Oh(e,n,s))}function nv(e,n){const s=Ps.textEnd;let u=Ps.key=Oh(e,n,s);return s===u?-1:(u=Ps.keyEnd=function Rx(e,n,s){let u;for(;n<s&&(45===(u=e.charCodeAt(n))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)n++;return n}(e,u,s),u=ov(e,u,s),u=Ps.value=Oh(e,u,s),u=Ps.valueEnd=function Fx(e,n,s){let u=-1,g=-1,M=-1,P=n,F=P;for(;P<s;){const U=e.charCodeAt(P++);if(59===U)return F;34===U||39===U?F=P=sv(e,U,P,s):n===P-4&&85===M&&82===g&&76===u&&40===U?F=P=sv(e,41,P,s):U>32&&(F=P),M=g,g=u,u=-33&U}return F}(e,u,s),ov(e,u,s))}function rv(e){Ps.key=0,Ps.keyEnd=0,Ps.value=0,Ps.valueEnd=0,Ps.textEnd=e.length}function Oh(e,n,s){for(;n<s&&e.charCodeAt(n)<=32;)n++;return n}function ov(e,n,s,u){return(n=Oh(e,n,s))<s&&n++,n}function sv(e,n,s,u){let g=-1,M=s;for(;M<u;){const P=e.charCodeAt(M++);if(P==n&&92!==g)return M;g=92==P&&92===g?0:P}throw new Error}function Yg(e,n,s){return sc(e,n,s,!1),Yg}function Kg(e,n){return sc(e,n,null,!0),Kg}function oc(e){ac(Nx,Lx,e,!1)}function Lx(e,n){for(let s=function Px(e){return rv(e),nv(e,Oh(e,0,Ps.textEnd))}(n);s>=0;s=nv(n,s))Nx(e,tv(n),Ax(n))}function av(e){ac(AC,Mc,e,!0)}function Mc(e,n){for(let s=function kx(e){return rv(e),iv(e,Oh(e,0,Ps.textEnd))}(n);s>=0;s=iv(n,s))so(e,tv(n),!0)}function sc(e,n,s,u){const g=wt(),M=gi(),P=qs(2);M.firstUpdatePass&&hf(M,e,P,u),n!==Vn&&Ca(g,P,n)&&zx(M,M.data[w()],g,g[an],e,g[P+1]=function PC(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Fe(Ql(e)))),e}(n,s),u,P)}function ac(e,n,s,u){const g=gi(),M=qs(2);g.firstUpdatePass&&hf(g,null,M,u);const P=wt();if(s!==Vn&&Ca(P,M,s)){const F=g.data[w()];if(dv(F,u)&&!lv(g,M)){let U=u?F.classesWithoutHost:F.stylesWithoutHost;null!==U&&(s=et(U,s||"")),Lg(g,F,P,s,u)}else!function kC(e,n,s,u,g,M,P,F){g===Vn&&(g=De);let U=0,J=0,ye=0<g.length?g[0]:null,ze=0<M.length?M[0]:null;for(;null!==ye||null!==ze;){const mt=U<g.length?g[U+1]:void 0,Mt=J<M.length?M[J+1]:void 0;let vi,si=null;ye===ze?(U+=2,J+=2,mt!==Mt&&(si=ze,vi=Mt)):null===ze||null!==ye&&ye<ze?(U+=2,si=ye):(J+=2,si=ze,vi=Mt),null!==si&&zx(e,n,s,u,si,vi,P,F),ye=U<g.length?g[U]:null,ze=J<M.length?M[J]:null}}(g,F,P,P[an],P[M+1],P[M+1]=function IC(e,n,s){if(null==s||""===s)return De;const u=[],g=Ql(s);if(Array.isArray(g))for(let M=0;M<g.length;M++)e(u,g[M],!0);else if("object"==typeof g)for(const M in g)g.hasOwnProperty(M)&&e(u,M,g[M]);else"string"==typeof g&&n(u,g);return u}(e,n,s),u,M)}}function lv(e,n){return n>=e.expandoStartIndex}function hf(e,n,s,u){const g=e.data;if(null===g[s+1]){const M=g[w()],P=lv(e,s);dv(M,u)&&null===n&&!P&&(n=!1),n=function MC(e,n,s,u){const g=ql(e);let M=u?n.residualClasses:n.residualStyles;if(null===g)0===(u?n.classBindings:n.styleBindings)&&(s=mf(s=cv(null,e,n,s,u),n.attrs,u),M=null);else{const P=n.directiveStylingLast;if(-1===P||e[P]!==g)if(s=cv(g,e,n,s,u),null===M){let U=function DC(e,n,s){const u=s?n.classBindings:n.styleBindings;if(0!==xu(u))return e[Xc(u)]}(e,n,u);void 0!==U&&Array.isArray(U)&&(U=cv(null,e,n,U[1],u),U=mf(U,n.attrs,u),function SC(e,n,s,u){e[Xc(s?n.classBindings:n.styleBindings)]=u}(e,n,u,U))}else M=function TC(e,n,s){let u;const g=n.directiveEnd;for(let M=1+n.directiveStylingLast;M<g;M++)u=mf(u,e[M].hostAttrs,s);return mf(u,n.attrs,s)}(e,n,u)}return void 0!==M&&(u?n.residualClasses=M:n.residualStyles=M),s}(g,M,n,u),function Sx(e,n,s,u,g,M){let P=M?n.classBindings:n.styleBindings,F=Xc(P),U=xu(P);e[u]=s;let ye,J=!1;if(Array.isArray(s)?(ye=s[1],(null===ye||ld(s,ye)>0)&&(J=!0)):ye=s,g)if(0!==U){const mt=Xc(e[F+1]);e[u+1]=Vm(mt,F),0!==mt&&(e[mt+1]=Wg(e[mt+1],u)),e[F+1]=function Mx(e,n){return 131071&e|n<<17}(e[F+1],u)}else e[u+1]=Vm(F,0),0!==F&&(e[F+1]=Wg(e[F+1],u)),F=u;else e[u+1]=Vm(U,0),0===F?F=u:e[U+1]=Wg(e[U+1],u),U=u;J&&(e[u+1]=Zg(e[u+1])),ev(e,ye,u,!0),ev(e,ye,u,!1),function Tx(e,n,s,u,g){const M=g?e.residualClasses:e.residualStyles;null!=M&&"string"==typeof n&&ld(M,n)>=0&&(s[u+1]=qg(s[u+1]))}(n,ye,e,u,M),P=Vm(F,U),M?n.classBindings=P:n.styleBindings=P}(g,M,n,s,P,u)}}function cv(e,n,s,u,g){let M=null;const P=s.directiveEnd;let F=s.directiveStylingLast;for(-1===F?F=s.directiveStart:F++;F<P&&(M=n[F],u=mf(u,M.hostAttrs,g),M!==e);)F++;return null!==e&&(s.directiveStylingLast=F),u}function mf(e,n,s){const u=s?1:2;let g=-1;if(null!==n)for(let M=0;M<n.length;M++){const P=n[M];"number"==typeof P?g=P:g===u&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),so(e,P,!!s||n[++M]))}return void 0===e?null:e}function Nx(e,n,s){so(e,n,Ql(s))}function AC(e,n,s){const u=String(n);""!==u&&!u.includes(" ")&&so(e,u,s)}function zx(e,n,s,u,g,M,P,F){if(!(3&n.type))return;const U=e.data,J=U[F+1],ye=function Dx(e){return 1==(1&e)}(J)?Bx(U,n,s,g,xu(J),P):void 0;Xg(ye)||(Xg(M)||function Ex(e){return 2==(2&e)}(J)&&(M=Bx(U,null,s,g,F,P)),function mm(e,n,s,u,g){if(n)g?e.addClass(s,u):e.removeClass(s,u);else{let M=-1===u.indexOf("-")?void 0:Fl.DashCase;null==g?e.removeStyle(s,u,M):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),M|=Fl.Important),e.setStyle(s,u,g,M))}}(u,P,V(w(),s),g,M))}function Bx(e,n,s,u,g,M){const P=null===n;let F;for(;g>0;){const U=e[g],J=Array.isArray(U),ye=J?U[1]:U,ze=null===ye;let mt=s[g+1];mt===Vn&&(mt=ze?De:void 0);let Mt=ze?ad(mt,u):ye===u?mt:void 0;if(J&&!Xg(Mt)&&(Mt=ad(U,u)),Xg(Mt)&&(F=Mt,P))return F;const si=e[g+1];g=P?Xc(si):xu(si)}if(null!==n){let U=M?n.residualClasses:n.residualStyles;null!=U&&(F=ad(U,u))}return F}function Xg(e){return void 0!==e}function dv(e,n){return 0!=(e.flags&(n?8:16))}function uv(e,n=""){const s=wt(),u=gi(),g=e+_n,M=u.firstCreatePass?fu(u,g,1,n,null):u.data[g],P=hv(u,s,M,n,e);s[g]=P,ee()&&yc(u,s,P,M),Ao(M,!1)}let hv=(e,n,s,u,g)=>(oe(!0),function pr(e,n){return e.createText(n)}(n[an],u));function Jg(e){return pf("",e,""),Jg}function pf(e,n,s){const u=wt(),g=Ih(u,e,n,s);return g!==Vn&&function qc(e,n,s){const u=V(n,e);!function qu(e,n,s){e.setValue(n,s)}(e[an],u,s)}(u,w(),g),pf}function wv(e,n,s){ac(so,Mc,Ih(wt(),e,n,s),!0)}function Qg(e,n,s){const u=wt();return Ca(u,Es(),n)&&gl(gi(),f(),u,e,n,u[an],s,!0),Qg}function e_(e,n,s){const u=wt();if(Ca(u,Es(),n)){const M=gi(),P=f();gl(M,P,u,e,n,ly(ql(M.data),P,u),s,!0)}return e_}const wu=void 0;var ow=["en",[["a","p"],["AM","PM"],wu],[["AM","PM"],wu,wu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wu,"{1} 'at' {0}",wu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function rw(e){const s=Math.floor(Math.abs(e)),u=e.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let Rh={};function t_(e){const n=function sw(e){return e.toLowerCase().replace(/_/g,"-")}(e);let s=Ov(n);if(s)return s;const u=n.split("-")[0];if(s=Ov(u),s)return s;if("en"===u)return ow;throw new Le(701,!1)}function Pv(e){return t_(e)[wn.PluralCase]}function Ov(e){return e in Rh||(Rh[e]=Re.ng&&Re.ng.common&&Re.ng.common.locales&&Re.ng.common.locales[e]),Rh[e]}var wn=(()=>((wn=wn||{})[wn.LocaleId=0]="LocaleId",wn[wn.DayPeriodsFormat=1]="DayPeriodsFormat",wn[wn.DayPeriodsStandalone=2]="DayPeriodsStandalone",wn[wn.DaysFormat=3]="DaysFormat",wn[wn.DaysStandalone=4]="DaysStandalone",wn[wn.MonthsFormat=5]="MonthsFormat",wn[wn.MonthsStandalone=6]="MonthsStandalone",wn[wn.Eras=7]="Eras",wn[wn.FirstDayOfWeek=8]="FirstDayOfWeek",wn[wn.WeekendRange=9]="WeekendRange",wn[wn.DateFormat=10]="DateFormat",wn[wn.TimeFormat=11]="TimeFormat",wn[wn.DateTimeFormat=12]="DateTimeFormat",wn[wn.NumberSymbols=13]="NumberSymbols",wn[wn.NumberFormats=14]="NumberFormats",wn[wn.CurrencyCode=15]="CurrencyCode",wn[wn.CurrencySymbol=16]="CurrencySymbol",wn[wn.CurrencyName=17]="CurrencyName",wn[wn.Currencies=18]="Currencies",wn[wn.Directionality=19]="Directionality",wn[wn.PluralCase=20]="PluralCase",wn[wn.ExtraData=21]="ExtraData",wn))();const Fh="en-US";let Rv=Fh;function l_(e,n,s,u,g){if(e=bt(e),Array.isArray(e))for(let M=0;M<e.length;M++)l_(e[M],n,s,u,g);else{const M=gi(),P=wt();let F=ec(e)?e:bt(e.provide),U=L(e);const J=wo(),ye=1048575&J.providerIndexes,ze=J.directiveStart,mt=J.providerIndexes>>20;if(ec(e)||!e.multi){const Mt=new Qt(U,g,pu),si=d_(F,n,g?ye:ye+mt,ze);-1===si?(Eo(Pl(J,P),M,F),c_(M,e,n.length),n.push(F),J.directiveStart++,J.directiveEnd++,g&&(J.providerIndexes+=1048576),s.push(Mt),P.push(Mt)):(s[si]=Mt,P[si]=Mt)}else{const Mt=d_(F,n,ye+mt,ze),si=d_(F,n,ye,ye+mt),Gi=si>=0&&s[si];if(g&&!Gi||!g&&!(Mt>=0&&s[Mt])){Eo(Pl(J,P),M,F);const ln=function Qw(e,n,s,u,g){const M=new Qt(e,s,pu);return M.multi=[],M.index=n,M.componentProviders=0,ib(M,g,u&&!s),M}(g?Jw:Xw,s.length,g,u,U);!g&&Gi&&(s[si].providerFactory=ln),c_(M,e,n.length,0),n.push(F),J.directiveStart++,J.directiveEnd++,g&&(J.providerIndexes+=1048576),s.push(ln),P.push(ln)}else c_(M,e,Mt>-1?Mt:si,ib(s[g?si:Mt],U,!g&&u));!g&&u&&Gi&&s[si].componentProviders++}}}function c_(e,n,s,u){const g=ec(n),M=function Mm(e){return!!e.useClass}(n);if(g||M){const U=(M?bt(n.useClass):n).prototype.ngOnDestroy;if(U){const J=e.destroyHooks||(e.destroyHooks=[]);if(!g&&n.multi){const ye=J.indexOf(s);-1===ye?J.push(s,[u,U]):J[ye+1].push(u,U)}else J.push(s,U)}}}function ib(e,n,s){return s&&e.componentProviders++,e.multi.push(n)-1}function d_(e,n,s,u){for(let g=s;g<u;g++)if(n[g]===e)return g;return-1}function Xw(e,n,s,u){return u_(this.multi,[])}function Jw(e,n,s,u){const g=this.multi;let M;if(this.providerFactory){const P=this.providerFactory.componentProviders,F=Ol(s,s[Ai],this.providerFactory.index,u);M=F.slice(0,P),u_(g,M);for(let U=P;U<F.length;U++)M.push(F[U])}else M=[],u_(g,M);return M}function u_(e,n){for(let s=0;s<e.length;s++)n.push((0,e[s])());return n}function nb(e,n=[]){return s=>{s.providersResolver=(u,g)=>function Kw(e,n,s){const u=gi();if(u.firstCreatePass){const g=Kr(e);l_(s,u.data,u.blueprint,g,!0),l_(n,u.data,u.blueprint,g,!1)}}(u,g?g(e):e,n)}}class Nh{}class rb{}function e1(e,n){return new xf(e,n??null,[])}class xf extends Nh{constructor(n,s,u){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new fy(this);const g=vr(n);this._bootstrapComponents=ma(g.bootstrap),this._r3Injector=K_(n,s,[{provide:Nh,useValue:this},{provide:As,useValue:this.componentFactoryResolver},...u],Fe(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class h_ extends rb{constructor(n){super(),this.moduleType=n}create(n){return new xf(this.moduleType,n,[])}}class ob extends Nh{constructor(n){super(),this.componentFactoryResolver=new fy(this),this.instance=null;const s=new x([...n.providers,{provide:Nh,useValue:this},{provide:As,useValue:this.componentFactoryResolver}],n.parent||a(),n.debugName,new Set(["environment"]));this.injector=s,n.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function sb(e,n,s=null){return new ob({providers:e,parent:n,debugName:s,runEnvironmentInitializers:!0}).injector}let n1=(()=>{class e{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const u=yh(0,s.type),g=u.length>0?sb([u],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,g)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=ht({token:e,providedIn:"environment",factory:()=>new e(j(p))}),e})();function ab(e){e.getStandaloneInjector=n=>n.get(n1).getOrCreateStandaloneInjector(e)}function _b(e,n,s){const u=ko()+e,g=wt();return g[u]===Vn?Ec(g,u,s?n.call(s):n()):function Nm(e,n){return e[n]}(g,u)}function yb(e,n,s,u){return Eb(wt(),ko(),e,n,s,u)}function vb(e,n,s,u,g){return function Mb(e,n,s,u,g,M,P){const F=n+s;return _u(e,F,g,M)?Ec(e,F+2,P?u.call(P,g,M):u(g,M)):Gm(e,F+2)}(wt(),ko(),e,n,s,u,g)}function bb(e,n,s,u,g,M){return function Db(e,n,s,u,g,M,P,F){const U=n+s;return function Qp(e,n,s,u,g){const M=_u(e,n,s,u);return Ca(e,n+2,g)||M}(e,U,g,M,P)?Ec(e,U+3,F?u.call(F,g,M,P):u(g,M,P)):Gm(e,U+3)}(wt(),ko(),e,n,s,u,g,M)}function Cb(e,n,s,u){return function Tb(e,n,s,u,g,M){let P=n+s,F=!1;for(let U=0;U<g.length;U++)Ca(e,P++,g[U])&&(F=!0);return F?Ec(e,P,u.apply(M,g)):Gm(e,P)}(wt(),ko(),e,n,s,u)}function Gm(e,n){const s=e[n];return s===Vn?void 0:s}function Eb(e,n,s,u,g,M){const P=n+s;return Ca(e,P,g)?Ec(e,P+1,M?u.call(M,g):u(g)):Gm(e,P+1)}function Ib(e,n){const s=gi();let u;const g=e+_n;s.firstCreatePass?(u=function m1(e,n){if(n)for(let s=n.length-1;s>=0;s--){const u=n[s];if(e===u.name)return u}}(n,s.pipeRegistry),s.data[g]=u,u.onDestroy&&(s.destroyHooks??=[]).push(g,u.onDestroy)):u=s.data[g];const M=u.factory||(u.factory=mo(u.type)),P=Pe(pu);try{const F=ar(!1),U=M();return ar(F),function fx(e,n,s,u){s>=e.data.length&&(e.data[s]=null,e.blueprint[s]=null),n[s]=u}(s,wt(),g,U),U}finally{Pe(P)}}function Ab(e,n,s){const u=e+_n,g=wt(),M=Ze(g,u);return function Zm(e,n){return e[Ai].data[n].pure}(g,u)?Eb(g,ko(),n,M.transform,s,M):M.transform(s)}function p_(e){return n=>{setTimeout(e,void 0,n)}}const Dc=class y1 extends C.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,u){let g=n,M=s||(()=>null),P=u;if(n&&"object"==typeof n){const U=n;g=U.next?.bind(U),M=U.error?.bind(U),P=U.complete?.bind(U)}this.__isAsync&&(M=p_(M),g&&(g=p_(g)),P&&(P=p_(P)));const F=super.subscribe({next:g,error:M,complete:P});return n instanceof l.w0&&n.add(F),F}};function v1(){return this._results[Symbol.iterator]()}class Wm{get changes(){return this._changes||(this._changes=new Dc)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Wm.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=v1)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const u=this;u.dirty=!1;const g=function Ms(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Pu(e,n,s){if(e.length!==n.length)return!1;for(let u=0;u<e.length;u++){let g=e[u],M=n[u];if(s&&(g=s(g),M=s(M)),M!==g)return!1}return!0}(u._results,g,s))&&(u._results=g,u.length=g.length,u.last=g[this.length-1],u.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let zh=(()=>{class e{}return e.__NG_ELEMENT_ID__=Pb,e})();const b1=zh,kb=class extends b1{constructor(n,s,u){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,s){return this.createEmbeddedViewImpl(n,s,null)}createEmbeddedViewImpl(n,s,u){const P=this._declarationTContainer.tView,F=Gp(this._declarationLView,P,n,4096&this._declarationLView[rn]?4096:16,null,P.declTNode,null,null,null,s||null,u||null);F[vs]=this._declarationLView[this._declarationTContainer.index];const J=this._declarationLView[bo];return null!==J&&(F[bo]=J.createEmbeddedView(P)),xg(P,F,n),new Fm(F)}};function Pb(){return wf(wo(),wt())}function wf(e,n){return 4&e.type?new kb(n,e,xa(e,n)):null}let Cf=(()=>{class e{}return e.__NG_ELEMENT_ID__=D1,e})();function D1(){return Bb(wo(),wt())}const S1=Cf,Nb=class extends S1{constructor(n,s,u){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=u}get element(){return xa(this._hostTNode,this._hostLView)}get injector(){return new Xs(this._hostTNode,this._hostLView)}get parentInjector(){const n=rr(this._hostTNode,this._hostLView);if(Xn(n)){const s=Pr(n,this._hostLView),u=An(n);return new Xs(s[Ai].data[u+8],s)}return new Xs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=zb(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-br}createEmbeddedView(n,s,u){let g,M;"number"==typeof u?g=u:null!=u&&(g=u.index,M=u.injector);const F=n.createEmbeddedViewImpl(s||{},M,null);return this.insertImpl(F,g,false),F}createComponent(n,s,u,g,M){const P=n&&!function Rc(e){return"function"==typeof e}(n);let F;if(P)F=s;else{const vi=s||{};F=vi.index,u=vi.injector,g=vi.projectableNodes,M=vi.environmentInjector||vi.ngModuleRef}const U=P?n:new Xp(cn(n)),J=u||this.parentInjector;if(!M&&null==U.ngModule){const Gi=(P?J:this.parentInjector).get(p,null);Gi&&(M=Gi)}cn(U.componentType??{});const Mt=U.create(J,g,null,M);return this.insertImpl(Mt.hostView,F,false),Mt}insert(n,s){return this.insertImpl(n,s,!1)}insertImpl(n,s,u){const g=n._lView,M=g[Ai];if(function tr(e){return Jn(e[Pn])}(g)){const U=this.indexOf(n);if(-1!==U)this.detach(U);else{const J=g[Pn],ye=new Nb(J,J[Kn],J[Pn]);ye.detach(ye.indexOf(n))}}const P=this._adjustIndex(s),F=this._lContainer;if(function Xf(e,n,s,u){const g=br+u,M=s.length;u>0&&(s[g-1][vo]=n),u<M-br?(n[vo]=s[g],$h(s,br+u,n)):(s.push(n),n[vo]=null),n[Pn]=s;const P=n[vs];null!==P&&s!==P&&function Jf(e,n){const s=e[ra];n[hr]!==n[Pn][Pn][hr]&&(e[Ha]=!0),null===s?e[ra]=[n]:s.push(n)}(P,n);const F=n[bo];null!==F&&F.insertView(e),n[rn]|=128}(M,g,F,P),!u){const U=gd(P,F),J=g[an],ye=Ju(J,F[ho]);null!==ye&&function pd(e,n,s,u,g,M){u[fr]=g,u[Kn]=n,_d(e,u,s,1,g,M)}(M,F[Kn],J,g,ye,U)}return n.attachToViewContainerRef(),$h(Ef(F),P,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=zb(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),u=lm(this._lContainer,s);u&&(sd(Ef(this._lContainer),s),wp(u[Ai],u))}detach(n){const s=this._adjustIndex(n,-1),u=lm(this._lContainer,s);return u&&null!=sd(Ef(this._lContainer),s)?new Fm(u):null}_adjustIndex(n,s=0){return n??this.length+s}};function zb(e){return e[8]}function Ef(e){return e[8]||(e[8]=[])}function Bb(e,n){let s;const u=n[e.index];return Jn(u)?s=u:(s=ic(u,n,null,e),n[e.index]=s,nc(n,s)),Vb(s,n,e,u),new Nb(s,e,n)}let Vb=function Ub(e,n,s,u){if(e[ho])return;let g;g=8&s.type?_r(u):function T1(e,n){const s=e[an],u=s.createComment(""),g=Q(n,e);return _c(s,Ju(s,g),u,function dm(e,n){return e.nextSibling(n)}(s,g),!1),u}(n,s),e[ho]=g};class g_{constructor(n){this.queryList=n,this.matches=null}clone(){return new g_(this.queryList)}setDirty(){this.queryList.setDirty()}}class __{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const u=null!==n.contentQueries?n.contentQueries[0]:s.length,g=[];for(let M=0;M<u;M++){const P=s.getByIndex(M);g.push(this.queries[P.indexInDeclarationView].clone())}return new __(g)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==Ym(n,s).matches&&this.queries[s].setDirty()}}class y_{constructor(n,s,u=null){this.predicate=n,this.flags=s,this.read=u}}class Mf{constructor(n=[]){this.queries=n}elementStart(n,s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let u=0;u<this.length;u++){const g=null!==s?s.length:0,M=this.getByIndex(u).embeddedTView(n,g);M&&(M.indexInDeclarationView=u,null!==s?s.push(M):s=[M])}return null!==s?new Mf(s):null}template(n,s){for(let u=0;u<this.queries.length;u++)this.queries[u].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Ad{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new Ad(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let u=n.parent;for(;null!==u&&8&u.type&&u.index!==s;)u=u.parent;return s===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const u=this.metadata.predicate;if(Array.isArray(u))for(let g=0;g<u.length;g++){const M=u[g];this.matchTNodeWithReadOption(n,s,A1(s,M)),this.matchTNodeWithReadOption(n,s,id(s,n,M,!1,!1))}else u===zh?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,id(s,n,u,!1,!1))}matchTNodeWithReadOption(n,s,u){if(null!==u){const g=this.metadata.read;if(null!==g)if(g===tc||g===Cf||g===zh&&4&s.type)this.addMatch(s.index,-2);else{const M=id(s,n,g,!1,!1);null!==M&&this.addMatch(s.index,M)}else this.addMatch(s.index,u)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function A1(e,n){const s=e.localNames;if(null!==s)for(let u=0;u<s.length;u+=2)if(s[u]===n)return s[u+1];return null}function v_(e,n,s,u){return-1===s?function Hb(e,n){return 11&e.type?xa(e,n):4&e.type?wf(e,n):null}(n,e):-2===s?function $b(e,n,s){return s===tc?xa(n,e):s===zh?wf(n,e):s===Cf?Bb(n,e):void 0}(e,n,u):Ol(e,e[Ai],s,n)}function b_(e,n,s,u){const g=n[bo].queries[u];if(null===g.matches){const M=e.data,P=s.matches,F=[];for(let U=0;U<P.length;U+=2){const J=P[U];F.push(J<0?null:v_(n,M[J],P[U+1],s.metadata.read))}g.matches=F}return g.matches}function qm(e,n,s,u){const g=e.queries.getByIndex(s),M=g.matches;if(null!==M){const P=b_(e,n,g,s);for(let F=0;F<M.length;F+=2){const U=M[F];if(U>0)u.push(P[F/2]);else{const J=M[F+1],ye=n[-U];for(let ze=br;ze<ye.length;ze++){const mt=ye[ze];mt[vs]===mt[Pn]&&qm(mt[Ai],mt,J,u)}if(null!==ye[ra]){const ze=ye[ra];for(let mt=0;mt<ze.length;mt++){const Mt=ze[mt];qm(Mt[Ai],Mt,J,u)}}}}}return u}function Df(e){const n=wt(),s=gi(),u=Tl();Ra(u+1);const g=Ym(s,u);if(e.dirty&&function Wt(e){return 4==(4&e[rn])}(n)===(2==(2&g.metadata.flags))){if(null===g.matches)e.reset([]);else{const M=g.crossesNgTemplate?qm(s,n,u,[]):b_(s,n,g,u);e.reset(M,Bp),e.notifyOnChanges()}return!0}return!1}function x_(e,n,s){const u=gi();u.firstCreatePass&&(Zb(u,new y_(e,n,s),-1),2==(2&n)&&(u.staticViewQueries=!0)),Gb(u,wt(),n)}function Sf(e,n,s,u){const g=gi();if(g.firstCreatePass){const M=wo();Zb(g,new y_(n,s,u),M.index),function k1(e,n){const s=e.contentQueries||(e.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(e.queries.length-1,n)}(g,e),2==(2&s)&&(g.staticContentQueries=!0)}Gb(g,wt(),s)}function Tf(){return function w_(e,n){return e[bo].queries[n].queryList}(wt(),Tl())}function Gb(e,n,s){const u=new Wm(4==(4&s));(function D0(e,n,s,u){const g=vg(n);g.push(s),e.firstCreatePass&&ay(e).push(u,g.length-1)})(e,n,u,u.destroy),null===n[bo]&&(n[bo]=new __),n[bo].queries.push(new g_(u))}function Zb(e,n,s){null===e.queries&&(e.queries=new Mf),e.queries.track(new Ad(n,s))}function Ym(e,n){return e.queries.getByIndex(n)}function Wb(e,n){return wf(e,n)}function C_(e){return!!vr(e)}const qt=new Er("Application Initializer");let Si=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,u)=>{this.resolve=s,this.reject=u}),this.appInits=_e(qt,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const g of this.appInits){const M=g();if(Bg(M))s.push(M);else if(jy(M)){const P=new Promise((F,U)=>{M.subscribe({complete:F,error:U})});s.push(P)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{u()}).catch(g=>{this.reject(g)}),0===s.length&&u(),this.initialized=!0}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=ht({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Hi=(()=>{class e{log(s){console.log(s)}warn(s){console.warn(s)}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=ht({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const $i=new Er("LocaleId",{providedIn:"root",factory:()=>_e($i,at.Optional|at.SkipSelf)||function zi(){return typeof $localize<"u"&&$localize.locale||Fh}()}),Sn=new Er("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Lr=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new le.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=ht({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class Ea{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}let el=(()=>{class e{compileModuleSync(s){return new h_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const u=this.compileModuleSync(s),M=ma(vr(s).declarations).reduce((P,F)=>{const U=cn(F);return U&&P.push(new Xp(U)),P},[]);return new Ea(u,M)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=ht({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Sc(...e){}class Yi{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Dc(!1),this.onMicrotaskEmpty=new Dc(!1),this.onStable=new Dc(!1),this.onError=new Dc(!1),typeof Zone>"u")throw new Le(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!u&&s,g.shouldCoalesceRunChangeDetection=u,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function Eu(){let e=Re.requestAnimationFrame,n=Re.cancelAnimationFrame;if(typeof Zone<"u"&&e&&n){const s=e[Zone.__symbol__("OriginalDelegate")];s&&(e=s);const u=n[Zone.__symbol__("OriginalDelegate")];u&&(n=u)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function Ba(e){const n=()=>{!function jo(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Re,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,ys(e),e.isCheckStableRunning=!0,or(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),ys(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,u,g,M,P,F)=>{try{return tl(e),s.invokeTask(g,M,P,F)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===M.type||e.shouldCoalesceRunChangeDetection)&&n(),qr(e)}},onInvoke:(s,u,g,M,P,F,U)=>{try{return tl(e),s.invoke(g,M,P,F,U)}finally{e.shouldCoalesceRunChangeDetection&&n(),qr(e)}},onHasTask:(s,u,g,M)=>{s.hasTask(g,M),u===g&&("microTask"==M.change?(e._hasPendingMicrotasks=M.microTask,ys(e),or(e)):"macroTask"==M.change&&(e.hasPendingMacrotasks=M.macroTask))},onHandleError:(s,u,g,M)=>(s.handleError(g,M),e.runOutsideAngular(()=>e.onError.emit(M)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Yi.isInAngularZone())throw new Le(909,!1)}static assertNotInAngularZone(){if(Yi.isInAngularZone())throw new Le(909,!1)}run(n,s,u){return this._inner.run(n,s,u)}runTask(n,s,u,g){const M=this._inner,P=M.scheduleEventTask("NgZoneEvent: "+g,n,yn,Sc,Sc);try{return M.runTask(P,s,u)}finally{M.cancelTask(P)}}runGuarded(n,s,u){return this._inner.runGuarded(n,s,u)}runOutsideAngular(n){return this._outer.run(n)}}const yn={};function or(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ys(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function tl(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function qr(e){e._nesting--,or(e)}class Mu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Dc,this.onMicrotaskEmpty=new Dc,this.onStable=new Dc,this.onError=new Dc}run(n,s,u){return n.apply(s,u)}runGuarded(n,s,u){return n.apply(s,u)}runOutsideAngular(n){return n()}runTask(n,s,u,g){return n.apply(s,u)}}const Tc=new Er("",{providedIn:"root",factory:So});function So(){const e=_e(Yi);let n=!0;const s=new v.y(g=>{n=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{g.next(n),g.complete()})}),u=new v.y(g=>{let M;e.runOutsideAngular(()=>{M=e.onStable.subscribe(()=>{Yi.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(n=!0,g.next(!0))})})});const P=e.onUnstable.subscribe(()=>{Yi.assertInAngularZone(),n&&(n=!1,e.runOutsideAngular(()=>{g.next(!1)}))});return()=>{M.unsubscribe(),P.unsubscribe()}});return(0,je.T)(s,u.pipe((0,He.B)()))}const yl=new Er(""),ta=new Er("");let Of,Du=(()=>{class e{constructor(s,u,g){this._ngZone=s,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Of||(function c0(e){Of=e}(g),g.addToWindow(u)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Yi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(s)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,u,g){let M=-1;u&&u>0&&(M=setTimeout(()=>{this._callbacks=this._callbacks.filter(P=>P.timeoutId!==M),s(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:s,timeoutId:M,updateCb:g})}whenStable(s,u,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,u,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,u,g){return[]}}return e.\u0275fac=function(s){return new(s||e)(j(Yi),j(Su),j(ta))},e.\u0275prov=ht({token:e,factory:e.\u0275fac}),e})(),Su=(()=>{class e{constructor(){this._applications=new Map}registerApplication(s,u){this._applications.set(s,u)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,u=!0){return Of?.findTestabilityInTree(this,s,u)??null}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=ht({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Pd=null;const eE=new Er("AllowMultipleToken"),$1=new Er("PlatformDestroyListeners"),G1=new Er("appBootstrapListener");class AE{constructor(n,s){this.name=n,this.token=s}}function nE(e,n,s=[]){const u=`Platform: ${n}`,g=new Er(u);return(M=[])=>{let P=Z1();if(!P||P.injector.get(eE,!1)){const F=[...s,...M,{provide:g,useValue:!0}];e?e(F):function kE(e){if(Pd&&!Pd.get(eE,!1))throw new Le(400,!1);(function tE(){!function hs(e){qa=e}(()=>{throw new Le(600,!1)})})(),Pd=e;const n=e.get(oE);(function iE(e){e.get(We,null)?.forEach(s=>s())})(e)}(function rE(e=[],n){return Td.create({name:n,providers:[{provide:uu,useValue:"platform"},{provide:$1,useValue:new Set([()=>Pd=null])},...e]})}(F,u))}return function OE(e){const n=Z1();if(!n)throw new Le(401,!1);return n}()}}function Z1(){return Pd?.get(oE)??null}let oE=(()=>{class e{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,u){const g=function RE(e="zone.js",n){return"noop"===e?new Mu:"zone.js"===e?new Yi(n):e}(u?.ngZone,function sE(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return g.run(()=>{const M=function t1(e,n,s){return new xf(e,n,s)}(s.moduleType,this.injector,function uE(e){return[{provide:Yi,useFactory:e},{provide:Gc,multi:!0,useFactory:()=>{const n=_e(LE,{optional:!0});return()=>n.initialize()}},{provide:dE,useFactory:FE},{provide:Tc,useFactory:So}]}(()=>g)),P=M.injector.get(Dd,null);return g.runOutsideAngular(()=>{const F=g.onError.subscribe({next:U=>{P.handleError(U)}});M.onDestroy(()=>{d0(this._modules,M),F.unsubscribe()})}),function aE(e,n,s){try{const u=s();return Bg(u)?u.catch(g=>{throw n.runOutsideAngular(()=>e.handleError(g)),g}):u}catch(u){throw n.runOutsideAngular(()=>e.handleError(u)),u}}(P,g,()=>{const F=M.injector.get(Si);return F.runInitializers(),F.donePromise.then(()=>(function Fv(e){li(e,"Expected localeId to be defined"),"string"==typeof e&&(Rv=e.toLowerCase().replace(/_/g,"-"))}(M.injector.get($i,Fh)||Fh),this._moduleDoBootstrap(M),M))})})}bootstrapModule(s,u=[]){const g=lE({},u);return function TE(e,n,s){const u=new h_(s);return Promise.resolve(u)}(0,0,s).then(M=>this.bootstrapModuleFactory(M,g))}_moduleDoBootstrap(s){const u=s.injector.get(Rf);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(g=>u.bootstrap(g));else{if(!s.instance.ngDoBootstrap)throw new Le(-403,!1);s.instance.ngDoBootstrap(u)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const s=this._injector.get($1,null);s&&(s.forEach(u=>u()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(s){return new(s||e)(j(Td))},e.\u0275prov=ht({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function lE(e,n){return Array.isArray(n)?n.reduce(lE,e):{...e,...n}}let Rf=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=_e(dE),this.zoneIsStable=_e(Tc),this.componentTypes=[],this.components=[],this.isStable=_e(Lr).hasPendingTasks.pipe((0,Oe.w)(s=>s?(0,ne.of)(!1):this.zoneIsStable),(0,Ge.x)(),(0,He.B)()),this._injector=_e(p)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,u){const g=s instanceof Na;if(!this._injector.get(Si).done)throw!g&&Rs(s),new Le(405,!1);let P;P=g?s:this._injector.get(As).resolveComponentFactory(s),this.componentTypes.push(P.componentType);const F=function IE(e){return e.isBoundToModule}(P)?void 0:this._injector.get(Nh),J=P.create(Td.NULL,[],u||P.selector,F),ye=J.location.nativeElement,ze=J.injector.get(yl,null);return ze?.registerApplication(ye),J.onDestroy(()=>{this.detachView(J.hostView),d0(this.components,J),ze?.unregisterApplication(ye)}),this._loadComponent(J),J}tick(){if(this._runningTick)throw new Le(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const u=s;this._views.push(u),u.attachToAppRef(this)}detachView(s){const u=s;d0(this._views,u),u.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const u=this._injector.get(G1,[]);u.push(...this._bootstrapListeners),u.forEach(g=>g(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>d0(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Le(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=ht({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function d0(e,n){const s=e.indexOf(n);s>-1&&e.splice(s,1)}const dE=new Er("",{providedIn:"root",factory:()=>_e(Dd).handleError.bind(void 0)});function FE(){const e=_e(Yi),n=_e(Dd);return s=>e.runOutsideAngular(()=>n.handleError(s))}let LE=(()=>{class e{constructor(){this.zone=_e(Yi),this.applicationRef=_e(Rf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=ht({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function zE(){}let BE=(()=>{class e{}return e.__NG_ELEMENT_ID__=VE,e})();function VE(e){return function UE(e,n,s){if(jr(e)&&!s){const u=kt(e.index,n);return new Fm(u,u)}return 47&e.type?new Fm(n[hr],n):null}(wo(),wt(),16==(16&e))}class fE{constructor(){}supports(n){return Lm(n)}create(n){return new WE(n)}}const ZE=(e,n)=>n;class WE{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||ZE}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,u=this._removalsHead,g=0,M=null;for(;s||u;){const P=!u||s&&s.currentIndex<_E(u,g,M)?s:u,F=_E(P,g,M),U=P.currentIndex;if(P===u)g--,u=u._nextRemoved;else if(s=s._next,null==P.previousIndex)g++;else{M||(M=[]);const J=F-g,ye=U-g;if(J!=ye){for(let mt=0;mt<J;mt++){const Mt=mt<M.length?M[mt]:M[mt]=0,si=Mt+mt;ye<=si&&si<J&&(M[mt]=Mt+1)}M[P.previousIndex]=ye-J}}F!==U&&n(P,F,U)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!Lm(n))throw new Le(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let g,M,P,s=this._itHead,u=!1;if(Array.isArray(n)){this.length=n.length;for(let F=0;F<this.length;F++)M=n[F],P=this._trackByFn(F,M),null!==s&&Object.is(s.trackById,P)?(u&&(s=this._verifyReinsertion(s,M,P,F)),Object.is(s.item,M)||this._addIdentityChange(s,M)):(s=this._mismatch(s,M,P,F),u=!0),s=s._next}else g=0,function Q0(e,n){if(Array.isArray(e))for(let s=0;s<e.length;s++)n(e[s]);else{const s=e[Symbol.iterator]();let u;for(;!(u=s.next()).done;)n(u.value)}}(n,F=>{P=this._trackByFn(g,F),null!==s&&Object.is(s.trackById,P)?(u&&(s=this._verifyReinsertion(s,F,P,g)),Object.is(s.item,F)||this._addIdentityChange(s,F)):(s=this._mismatch(s,F,P,g),u=!0),s=s._next,g++}),this.length=g;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,u,g){let M;return null===n?M=this._itTail:(M=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,M,g)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(u,g))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,M,g)):n=this._addAfter(new qE(s,u),M,g),n}_verifyReinsertion(n,s,u,g){let M=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==M?n=this._reinsertAfter(M,n._prev,g):n.currentIndex!=g&&(n.currentIndex=g,this._addToMoves(n,g)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const g=n._prevRemoved,M=n._nextRemoved;return null===g?this._removalsHead=M:g._nextRemoved=M,null===M?this._removalsTail=g:M._prevRemoved=g,this._insertAfter(n,s,u),this._addToMoves(n,u),n}_moveAfter(n,s,u){return this._unlink(n),this._insertAfter(n,s,u),this._addToMoves(n,u),n}_addAfter(n,s,u){return this._insertAfter(n,s,u),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,u){const g=null===s?this._itHead:s._next;return n._next=g,n._prev=s,null===g?this._itTail=n:g._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new gE),this._linkedRecords.put(n),n.currentIndex=u,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,u=n._next;return null===s?this._itHead=u:s._next=u,null===u?this._itTail=s:u._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gE),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class qE{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class YE{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===s||s<=u.currentIndex)&&Object.is(u.trackById,n))return u;return null}remove(n){const s=n._prevDup,u=n._nextDup;return null===s?this._head=u:s._nextDup=u,null===u?this._tail=s:u._prevDup=s,null===this._head}}class gE{constructor(){this.map=new Map}put(n){const s=n.trackById;let u=this.map.get(s);u||(u=new YE,this.map.set(s,u)),u.add(n)}get(n,s){const g=this.map.get(n);return g?g.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _E(e,n,s){const u=e.previousIndex;if(null===u)return u;let g=0;return s&&u<s.length&&(g=s[u]),u+n+g}class yE{constructor(){}supports(n){return n instanceof Map||Sh(n)}create(){return new KE}}class KE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||Sh(n)))throw new Le(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(u,g)=>{if(s&&s.key===g)this._maybeAddToChanges(s,u),this._appendAfter=s,s=s._next;else{const M=this._getOrCreateRecordForKey(g,u);s=this._insertBeforeOrAppend(s,M)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let u=s;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const u=n._prev;return s._next=n,s._prev=u,n._prev=s,u&&(u._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const g=this._records.get(n);this._maybeAddToChanges(g,s);const M=g._prev,P=g._next;return M&&(M._next=P),P&&(P._prev=M),g._next=null,g._prev=null,g}const u=new XE(n);return this._records.set(n,u),u.currentValue=s,this._addToAdditions(u),u}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(u=>s(n[u],u))}}class XE{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vE(){return new X1([new fE])}let X1=(()=>{class e{constructor(s){this.factories=s}static create(s,u){if(null!=u){const g=u.factories.slice();s=s.concat(g)}return new e(s)}static extend(s){return{provide:e,useFactory:u=>e.create(s,u||vE()),deps:[[e,new Nu,new Lu]]}}find(s){const u=this.factories.find(g=>g.supports(s));if(null!=u)return u;throw new Le(901,!1)}}return e.\u0275prov=ht({token:e,providedIn:"root",factory:vE}),e})();function bE(){return new J1([new yE])}let J1=(()=>{class e{constructor(s){this.factories=s}static create(s,u){if(u){const g=u.factories.slice();s=s.concat(g)}return new e(s)}static extend(s){return{provide:e,useFactory:u=>e.create(s,u||bE()),deps:[[e,new Nu,new Lu]]}}find(s){const u=this.factories.find(g=>g.supports(s));if(u)return u;throw new Le(901,!1)}}return e.\u0275prov=ht({token:e,providedIn:"root",factory:bE}),e})();const eM=nE(null,"core",[]);let tM=(()=>{class e{constructor(s){}}return e.\u0275fac=function(s){return new(s||e)(j(Rf))},e.\u0275mod=Da({type:e}),e.\u0275inj=Bt({}),e})();function dM(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function hM(e){const n=cn(e);if(!n)return null;const s=new Xp(n);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},6223:(_i,pt,H)=>{"use strict";H.d(pt,{Cf:()=>Vt,F:()=>_o,Fj:()=>Xe,JJ:()=>wi,JU:()=>Oe,On:()=>cn,Zs:()=>rl,a5:()=>Bt,kI:()=>Yt,sg:()=>zr,u5:()=>mr});var C=H(5879),l=H(6814),le=H(7715),v=H(9315),je=H(7398);let ne=(()=>{class Y{constructor(G,we){this._renderer=G,this._elementRef=we,this.onChange=Ht=>{},this.onTouched=()=>{}}setProperty(G,we){this._renderer.setProperty(this._elementRef.nativeElement,G,we)}registerOnTouched(G){this.onTouched=G}registerOnChange(G){this.onChange=G}setDisabledState(G){this.setProperty("disabled",G)}}return Y.\u0275fac=function(G){return new(G||Y)(C.Y36(C.Qsj),C.Y36(C.SBq))},Y.\u0275dir=C.lG2({type:Y}),Y})(),He=(()=>{class Y extends ne{}return Y.\u0275fac=function(){let W;return function(we){return(W||(W=C.n5z(Y)))(we||Y)}}(),Y.\u0275dir=C.lG2({type:Y,features:[C.qOj]}),Y})();const Oe=new C.OlP("NgValueAccessor"),nt={provide:Oe,useExisting:(0,C.Gpc)(()=>Xe),multi:!0},et=new C.OlP("CompositionEventMode");let Xe=(()=>{class Y extends ne{constructor(G,we,Ht){super(G,we),this._compositionMode=Ht,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Fe(){const Y=(0,l.q)()?(0,l.q)().getUserAgent():"";return/android (\d+)/.test(Y.toLowerCase())}())}writeValue(G){this.setProperty("value",G??"")}_handleInput(G){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(G)}_compositionStart(){this._composing=!0}_compositionEnd(G){this._composing=!1,this._compositionMode&&this.onChange(G)}}return Y.\u0275fac=function(G){return new(G||Y)(C.Y36(C.Qsj),C.Y36(C.SBq),C.Y36(et,8))},Y.\u0275dir=C.lG2({type:Y,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(G,we){1&G&&C.NdJ("input",function(Di){return we._handleInput(Di.target.value)})("blur",function(){return we.onTouched()})("compositionstart",function(){return we._compositionStart()})("compositionend",function(Di){return we._compositionEnd(Di.target.value)})},features:[C._Bn([nt]),C.qOj]}),Y})();function ct(Y){return null==Y||("string"==typeof Y||Array.isArray(Y))&&0===Y.length}function bt(Y){return null!=Y&&"number"==typeof Y.length}const Vt=new C.OlP("NgValidators"),oi=new C.OlP("NgAsyncValidators"),Ti=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Yt{static min(W){return function Le(Y){return W=>{if(ct(W.value)||ct(Y))return null;const G=parseFloat(W.value);return!isNaN(G)&&G<Y?{min:{min:Y,actual:W.value}}:null}}(W)}static max(W){return function Ue(Y){return W=>{if(ct(W.value)||ct(Y))return null;const G=parseFloat(W.value);return!isNaN(G)&&G>Y?{max:{max:Y,actual:W.value}}:null}}(W)}static required(W){return Ae(W)}static requiredTrue(W){return It(W)}static email(W){return function Pt(Y){return ct(Y.value)||Ti.test(Y.value)?null:{email:!0}}(W)}static minLength(W){return function Ot(Y){return W=>ct(W.value)||!bt(W.value)?null:W.value.length<Y?{minlength:{requiredLength:Y,actualLength:W.value.length}}:null}(W)}static maxLength(W){return function ui(Y){return W=>bt(W.value)&&W.value.length>Y?{maxlength:{requiredLength:Y,actualLength:W.value.length}}:null}(W)}static pattern(W){return function ti(Y){if(!Y)return Fi;let W,G;return"string"==typeof Y?(G="","^"!==Y.charAt(0)&&(G+="^"),G+=Y,"$"!==Y.charAt(Y.length-1)&&(G+="$"),W=new RegExp(G)):(G=Y.toString(),W=Y),we=>{if(ct(we.value))return null;const Ht=we.value;return W.test(Ht)?null:{pattern:{requiredPattern:G,actualValue:Ht}}}}(W)}static nullValidator(W){return null}static compose(W){return Et(W)}static composeAsync(W){return Nt(W)}}function Ae(Y){return ct(Y.value)?{required:!0}:null}function It(Y){return!0===Y.value?null:{required:!0}}function Fi(Y){return null}function Oi(Y){return null!=Y}function Tn(Y){return(0,C.QGY)(Y)?(0,le.D)(Y):Y}function $n(Y){let W={};return Y.forEach(G=>{W=null!=G?{...W,...G}:W}),0===Object.keys(W).length?null:W}function pn(Y,W){return W.map(G=>G(Y))}function In(Y){return Y.map(W=>function jn(Y){return!Y.validate}(W)?W:G=>W.validate(G))}function Et(Y){if(!Y)return null;const W=Y.filter(Oi);return 0==W.length?null:function(G){return $n(pn(G,W))}}function gt(Y){return null!=Y?Et(In(Y)):null}function Nt(Y){if(!Y)return null;const W=Y.filter(Oi);return 0==W.length?null:function(G){const we=pn(G,W).map(Tn);return(0,v.D)(we).pipe((0,je.U)($n))}}function zt(Y){return null!=Y?Nt(In(Y)):null}function ni(Y,W){return null===Y?[W]:Array.isArray(Y)?[...Y,W]:[Y,W]}function Ct(Y){return Y._rawValidators}function li(Y){return Y._rawAsyncValidators}function Be(Y){return Y?Array.isArray(Y)?Y:[Y]:[]}function rt(Y,W){return Array.isArray(Y)?Y.includes(W):Y===W}function ut(Y,W){const G=Be(W);return Be(Y).forEach(Ht=>{rt(G,Ht)||G.push(Ht)}),G}function Ee(Y,W){return Be(W).filter(G=>!rt(Y,G))}class ht{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(W){this._rawValidators=W||[],this._composedValidatorFn=gt(this._rawValidators)}_setAsyncValidators(W){this._rawAsyncValidators=W||[],this._composedAsyncValidatorFn=zt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(W){this._onDestroyCallbacks.push(W)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(W=>W()),this._onDestroyCallbacks=[]}reset(W=void 0){this.control&&this.control.reset(W)}hasError(W,G){return!!this.control&&this.control.hasError(W,G)}getError(W,G){return this.control?this.control.getError(W,G):null}}class Kt extends ht{get formDirective(){return null}get path(){return null}}class Bt extends ht{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ri{constructor(W){this._cd=W}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let wi=(()=>{class Y extends ri{constructor(G){super(G)}}return Y.\u0275fac=function(G){return new(G||Y)(C.Y36(Bt,2))},Y.\u0275dir=C.lG2({type:Y,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(G,we){2&G&&C.ekj("ng-untouched",we.isUntouched)("ng-touched",we.isTouched)("ng-pristine",we.isPristine)("ng-dirty",we.isDirty)("ng-valid",we.isValid)("ng-invalid",we.isInvalid)("ng-pending",we.isPending)},features:[C.qOj]}),Y})();const nn="VALID",Qi="INVALID",Vi="PENDING",At="DISABLED";function ci(Y){return(j(Y)?Y.validators:Y)||null}function q(Y,W){return(j(W)?W.asyncValidators:Y)||null}function j(Y){return null!=Y&&!Array.isArray(Y)&&"object"==typeof Y}class ke{constructor(W,G){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(W),this._assignAsyncValidators(G)}get validator(){return this._composedValidatorFn}set validator(W){this._rawValidators=this._composedValidatorFn=W}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(W){this._rawAsyncValidators=this._composedAsyncValidatorFn=W}get parent(){return this._parent}get valid(){return this.status===nn}get invalid(){return this.status===Qi}get pending(){return this.status==Vi}get disabled(){return this.status===At}get enabled(){return this.status!==At}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(W){this._assignValidators(W)}setAsyncValidators(W){this._assignAsyncValidators(W)}addValidators(W){this.setValidators(ut(W,this._rawValidators))}addAsyncValidators(W){this.setAsyncValidators(ut(W,this._rawAsyncValidators))}removeValidators(W){this.setValidators(Ee(W,this._rawValidators))}removeAsyncValidators(W){this.setAsyncValidators(Ee(W,this._rawAsyncValidators))}hasValidator(W){return rt(this._rawValidators,W)}hasAsyncValidator(W){return rt(this._rawAsyncValidators,W)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(W={}){this.touched=!0,this._parent&&!W.onlySelf&&this._parent.markAsTouched(W)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(W=>W.markAllAsTouched())}markAsUntouched(W={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(G=>{G.markAsUntouched({onlySelf:!0})}),this._parent&&!W.onlySelf&&this._parent._updateTouched(W)}markAsDirty(W={}){this.pristine=!1,this._parent&&!W.onlySelf&&this._parent.markAsDirty(W)}markAsPristine(W={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(G=>{G.markAsPristine({onlySelf:!0})}),this._parent&&!W.onlySelf&&this._parent._updatePristine(W)}markAsPending(W={}){this.status=Vi,!1!==W.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!W.onlySelf&&this._parent.markAsPending(W)}disable(W={}){const G=this._parentMarkedDirty(W.onlySelf);this.status=At,this.errors=null,this._forEachChild(we=>{we.disable({...W,onlySelf:!0})}),this._updateValue(),!1!==W.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...W,skipPristineCheck:G}),this._onDisabledChange.forEach(we=>we(!0))}enable(W={}){const G=this._parentMarkedDirty(W.onlySelf);this.status=nn,this._forEachChild(we=>{we.enable({...W,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:W.emitEvent}),this._updateAncestors({...W,skipPristineCheck:G}),this._onDisabledChange.forEach(we=>we(!1))}_updateAncestors(W){this._parent&&!W.onlySelf&&(this._parent.updateValueAndValidity(W),W.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(W){this._parent=W}getRawValue(){return this.value}updateValueAndValidity(W={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nn||this.status===Vi)&&this._runAsyncValidator(W.emitEvent)),!1!==W.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!W.onlySelf&&this._parent.updateValueAndValidity(W)}_updateTreeValidity(W={emitEvent:!0}){this._forEachChild(G=>G._updateTreeValidity(W)),this.updateValueAndValidity({onlySelf:!0,emitEvent:W.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?At:nn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(W){if(this.asyncValidator){this.status=Vi,this._hasOwnPendingAsyncValidator=!0;const G=Tn(this.asyncValidator(this));this._asyncValidationSubscription=G.subscribe(we=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(we,{emitEvent:W})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(W,G={}){this.errors=W,this._updateControlsErrors(!1!==G.emitEvent)}get(W){let G=W;return null==G||(Array.isArray(G)||(G=G.split(".")),0===G.length)?null:G.reduce((we,Ht)=>we&&we._find(Ht),this)}getError(W,G){const we=G?this.get(G):this;return we&&we.errors?we.errors[W]:null}hasError(W,G){return!!this.getError(W,G)}get root(){let W=this;for(;W._parent;)W=W._parent;return W}_updateControlsErrors(W){this.status=this._calculateStatus(),W&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(W)}_initObservables(){this.valueChanges=new C.vpe,this.statusChanges=new C.vpe}_calculateStatus(){return this._allControlsDisabled()?At:this.errors?Qi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vi)?Vi:this._anyControlsHaveStatus(Qi)?Qi:nn}_anyControlsHaveStatus(W){return this._anyControls(G=>G.status===W)}_anyControlsDirty(){return this._anyControls(W=>W.dirty)}_anyControlsTouched(){return this._anyControls(W=>W.touched)}_updatePristine(W={}){this.pristine=!this._anyControlsDirty(),this._parent&&!W.onlySelf&&this._parent._updatePristine(W)}_updateTouched(W={}){this.touched=this._anyControlsTouched(),this._parent&&!W.onlySelf&&this._parent._updateTouched(W)}_registerOnCollectionChange(W){this._onCollectionChange=W}_setUpdateStrategy(W){j(W)&&null!=W.updateOn&&(this._updateOn=W.updateOn)}_parentMarkedDirty(W){return!W&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(W){return null}_assignValidators(W){this._rawValidators=Array.isArray(W)?W.slice():W,this._composedValidatorFn=function vt(Y){return Array.isArray(Y)?gt(Y):Y||null}(this._rawValidators)}_assignAsyncValidators(W){this._rawAsyncValidators=Array.isArray(W)?W.slice():W,this._composedAsyncValidatorFn=function B(Y){return Array.isArray(Y)?zt(Y):Y||null}(this._rawAsyncValidators)}}class ge extends ke{constructor(W,G,we){super(ci(G),q(we,G)),this.controls=W,this._initObservables(),this._setUpdateStrategy(G),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(W,G){return this.controls[W]?this.controls[W]:(this.controls[W]=G,G.setParent(this),G._registerOnCollectionChange(this._onCollectionChange),G)}addControl(W,G,we={}){this.registerControl(W,G),this.updateValueAndValidity({emitEvent:we.emitEvent}),this._onCollectionChange()}removeControl(W,G={}){this.controls[W]&&this.controls[W]._registerOnCollectionChange(()=>{}),delete this.controls[W],this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}setControl(W,G,we={}){this.controls[W]&&this.controls[W]._registerOnCollectionChange(()=>{}),delete this.controls[W],G&&this.registerControl(W,G),this.updateValueAndValidity({emitEvent:we.emitEvent}),this._onCollectionChange()}contains(W){return this.controls.hasOwnProperty(W)&&this.controls[W].enabled}setValue(W,G={}){(function _e(Y,W,G){Y._forEachChild((we,Ht)=>{if(void 0===G[Ht])throw new C.vHH(1002,"")})})(this,0,W),Object.keys(W).forEach(we=>{(function ie(Y,W,G){const we=Y.controls;if(!(W?Object.keys(we):we).length)throw new C.vHH(1e3,"");if(!we[G])throw new C.vHH(1001,"")})(this,!0,we),this.controls[we].setValue(W[we],{onlySelf:!0,emitEvent:G.emitEvent})}),this.updateValueAndValidity(G)}patchValue(W,G={}){null!=W&&(Object.keys(W).forEach(we=>{const Ht=this.controls[we];Ht&&Ht.patchValue(W[we],{onlySelf:!0,emitEvent:G.emitEvent})}),this.updateValueAndValidity(G))}reset(W={},G={}){this._forEachChild((we,Ht)=>{we.reset(W[Ht],{onlySelf:!0,emitEvent:G.emitEvent})}),this._updatePristine(G),this._updateTouched(G),this.updateValueAndValidity(G)}getRawValue(){return this._reduceChildren({},(W,G,we)=>(W[we]=G.getRawValue(),W))}_syncPendingControls(){let W=this._reduceChildren(!1,(G,we)=>!!we._syncPendingControls()||G);return W&&this.updateValueAndValidity({onlySelf:!0}),W}_forEachChild(W){Object.keys(this.controls).forEach(G=>{const we=this.controls[G];we&&W(we,G)})}_setUpControls(){this._forEachChild(W=>{W.setParent(this),W._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(W){for(const[G,we]of Object.entries(this.controls))if(this.contains(G)&&W(we))return!0;return!1}_reduceValue(){return this._reduceChildren({},(G,we,Ht)=>((we.enabled||this.disabled)&&(G[Ht]=we.value),G))}_reduceChildren(W,G){let we=W;return this._forEachChild((Ht,Di)=>{we=G(we,Ht,Di)}),we}_allControlsDisabled(){for(const W of Object.keys(this.controls))if(this.controls[W].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(W){return this.controls.hasOwnProperty(W)?this.controls[W]:null}}const lt=new C.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>xe}),xe="always";function ue(Y,W,G=xe){Ye(Y,W),W.valueAccessor.writeValue(Y.value),(Y.disabled||"always"===G)&&W.valueAccessor.setDisabledState?.(Y.disabled),function qe(Y,W){W.valueAccessor.registerOnChange(G=>{Y._pendingValue=G,Y._pendingChange=!0,Y._pendingDirty=!0,"change"===Y.updateOn&&$t(Y,W)})}(Y,W),function mi(Y,W){const G=(we,Ht)=>{W.valueAccessor.writeValue(we),Ht&&W.viewToModelUpdate(we)};Y.registerOnChange(G),W._registerOnDestroy(()=>{Y._unregisterOnChange(G)})}(Y,W),function Ut(Y,W){W.valueAccessor.registerOnTouched(()=>{Y._pendingTouched=!0,"blur"===Y.updateOn&&Y._pendingChange&&$t(Y,W),"submit"!==Y.updateOn&&Y.markAsTouched()})}(Y,W),function Tt(Y,W){if(W.valueAccessor.setDisabledState){const G=we=>{W.valueAccessor.setDisabledState(we)};Y.registerOnDisabledChange(G),W._registerOnDestroy(()=>{Y._unregisterOnDisabledChange(G)})}}(Y,W)}function De(Y,W,G=!0){const we=()=>{};W.valueAccessor&&(W.valueAccessor.registerOnChange(we),W.valueAccessor.registerOnTouched(we)),Te(Y,W),Y&&(W._invokeOnDestroyCallbacks(),Y._registerOnCollectionChange(()=>{}))}function Qe(Y,W){Y.forEach(G=>{G.registerOnValidatorChange&&G.registerOnValidatorChange(W)})}function Ye(Y,W){const G=Ct(Y);null!==W.validator?Y.setValidators(ni(G,W.validator)):"function"==typeof G&&Y.setValidators([G]);const we=li(Y);null!==W.asyncValidator?Y.setAsyncValidators(ni(we,W.asyncValidator)):"function"==typeof we&&Y.setAsyncValidators([we]);const Ht=()=>Y.updateValueAndValidity();Qe(W._rawValidators,Ht),Qe(W._rawAsyncValidators,Ht)}function Te(Y,W){let G=!1;if(null!==Y){if(null!==W.validator){const Ht=Ct(Y);if(Array.isArray(Ht)&&Ht.length>0){const Di=Ht.filter(Xr=>Xr!==W.validator);Di.length!==Ht.length&&(G=!0,Y.setValidators(Di))}}if(null!==W.asyncValidator){const Ht=li(Y);if(Array.isArray(Ht)&&Ht.length>0){const Di=Ht.filter(Xr=>Xr!==W.asyncValidator);Di.length!==Ht.length&&(G=!0,Y.setAsyncValidators(Di))}}}const we=()=>{};return Qe(W._rawValidators,we),Qe(W._rawAsyncValidators,we),G}function $t(Y,W){Y._pendingDirty&&Y.markAsDirty(),Y.setValue(Y._pendingValue,{emitModelToViewChange:!1}),W.viewToModelUpdate(Y._pendingValue),Y._pendingChange=!1}function di(Y,W){Ye(Y,W)}function sn(Y,W){Y._syncPendingControls(),W.forEach(G=>{const we=G.control;"submit"===we.updateOn&&we._pendingChange&&(G.viewToModelUpdate(we._pendingValue),we._pendingChange=!1)})}const er={provide:Kt,useExisting:(0,C.Gpc)(()=>_o)},ur=(()=>Promise.resolve())();let _o=(()=>{class Y extends Kt{constructor(G,we,Ht){super(),this.callSetDisabledState=Ht,this.submitted=!1,this._directives=new Set,this.ngSubmit=new C.vpe,this.form=new ge({},gt(G),zt(we))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(G){ur.then(()=>{const we=this._findContainer(G.path);G.control=we.registerControl(G.name,G.control),ue(G.control,G,this.callSetDisabledState),G.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(G)})}getControl(G){return this.form.get(G.path)}removeControl(G){ur.then(()=>{const we=this._findContainer(G.path);we&&we.removeControl(G.name),this._directives.delete(G)})}addFormGroup(G){ur.then(()=>{const we=this._findContainer(G.path),Ht=new ge({});di(Ht,G),we.registerControl(G.name,Ht),Ht.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(G){ur.then(()=>{const we=this._findContainer(G.path);we&&we.removeControl(G.name)})}getFormGroup(G){return this.form.get(G.path)}updateModel(G,we){ur.then(()=>{this.form.get(G.path).setValue(we)})}setValue(G){this.control.setValue(G)}onSubmit(G){return this.submitted=!0,sn(this.form,this._directives),this.ngSubmit.emit(G),"dialog"===G?.target?.method}onReset(){this.resetForm()}resetForm(G=void 0){this.form.reset(G),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(G){return G.pop(),G.length?this.form.get(G):this.form}}return Y.\u0275fac=function(G){return new(G||Y)(C.Y36(Vt,10),C.Y36(oi,10),C.Y36(lt,8))},Y.\u0275dir=C.lG2({type:Y,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(G,we){1&G&&C.NdJ("submit",function(Di){return we.onSubmit(Di)})("reset",function(){return we.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[C._Bn([er]),C.qOj]}),Y})();function lo(Y,W){const G=Y.indexOf(W);G>-1&&Y.splice(G,1)}function co(Y){return"object"==typeof Y&&null!==Y&&2===Object.keys(Y).length&&"value"in Y&&"disabled"in Y}const gn=class extends ke{constructor(W=null,G,we){super(ci(G),q(we,G)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(W),this._setUpdateStrategy(G),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),j(G)&&(G.nonNullable||G.initialValueIsDefault)&&(this.defaultValue=co(W)?W.value:W)}setValue(W,G={}){this.value=this._pendingValue=W,this._onChange.length&&!1!==G.emitModelToViewChange&&this._onChange.forEach(we=>we(this.value,!1!==G.emitViewToModelChange)),this.updateValueAndValidity(G)}patchValue(W,G={}){this.setValue(W,G)}reset(W=this.defaultValue,G={}){this._applyFormState(W),this.markAsPristine(G),this.markAsUntouched(G),this.setValue(this.value,G),this._pendingChange=!1}_updateValue(){}_anyControls(W){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(W){this._onChange.push(W)}_unregisterOnChange(W){lo(this._onChange,W)}registerOnDisabledChange(W){this._onDisabledChange.push(W)}_unregisterOnDisabledChange(W){lo(this._onDisabledChange,W)}_forEachChild(W){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(W){co(W)?(this.value=this._pendingValue=W.value,W.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=W}},Ta={provide:Bt,useExisting:(0,C.Gpc)(()=>cn)},Ua=(()=>Promise.resolve())();let cn=(()=>{class Y extends Bt{constructor(G,we,Ht,Di,Xr,mo){super(),this._changeDetectorRef=Xr,this.callSetDisabledState=mo,this.control=new gn,this._registered=!1,this.name="",this.update=new C.vpe,this._parent=G,this._setValidators(we),this._setAsyncValidators(Ht),this.valueAccessor=function fn(Y,W){if(!W)return null;let G,we,Ht;return Array.isArray(W),W.forEach(Di=>{Di.constructor===Xe?G=Di:function io(Y){return Object.getPrototypeOf(Y.constructor)===He}(Di)?we=Di:Ht=Di}),Ht||we||G||null}(0,Di)}ngOnChanges(G){if(this._checkForErrors(),!this._registered||"name"in G){if(this._registered&&(this._checkName(),this.formDirective)){const we=G.name.previousValue;this.formDirective.removeControl({name:we,path:this._getPath(we)})}this._setUpControl()}"isDisabled"in G&&this._updateDisabled(G),function Nr(Y,W){if(!Y.hasOwnProperty("model"))return!1;const G=Y.model;return!!G.isFirstChange()||!Object.is(W,G.currentValue)}(G,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(G){this.viewModel=G,this.update.emit(G)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ue(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(G){Ua.then(()=>{this.control.setValue(G,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(G){const we=G.isDisabled.currentValue,Ht=0!==we&&(0,C.VuI)(we);Ua.then(()=>{Ht&&!this.control.disabled?this.control.disable():!Ht&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(G){return this._parent?function Ie(Y,W){return[...W.path,Y]}(G,this._parent):[G]}}return Y.\u0275fac=function(G){return new(G||Y)(C.Y36(Kt,9),C.Y36(Vt,10),C.Y36(oi,10),C.Y36(Oe,10),C.Y36(C.sBO,8),C.Y36(lt,8))},Y.\u0275dir=C.lG2({type:Y,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[C._Bn([Ta]),C.qOj,C.TTD]}),Y})(),yo=(()=>{class Y{}return Y.\u0275fac=function(G){return new(G||Y)},Y.\u0275mod=C.oAB({type:Y}),Y.\u0275inj=C.cJS({}),Y})();const vo={provide:Kt,useExisting:(0,C.Gpc)(()=>zr)};let zr=(()=>{class Y extends Kt{constructor(G,we,Ht){super(),this.callSetDisabledState=Ht,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new C.vpe,this._setValidators(G),this._setAsyncValidators(we)}ngOnChanges(G){this._checkFormPresent(),G.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Te(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(G){const we=this.form.get(G.path);return ue(we,G,this.callSetDisabledState),we.updateValueAndValidity({emitEvent:!1}),this.directives.push(G),we}getControl(G){return this.form.get(G.path)}removeControl(G){De(G.control||null,G,!1),function Dr(Y,W){const G=Y.indexOf(W);G>-1&&Y.splice(G,1)}(this.directives,G)}addFormGroup(G){this._setUpFormContainer(G)}removeFormGroup(G){this._cleanUpFormContainer(G)}getFormGroup(G){return this.form.get(G.path)}addFormArray(G){this._setUpFormContainer(G)}removeFormArray(G){this._cleanUpFormContainer(G)}getFormArray(G){return this.form.get(G.path)}updateModel(G,we){this.form.get(G.path).setValue(we)}onSubmit(G){return this.submitted=!0,sn(this.form,this.directives),this.ngSubmit.emit(G),"dialog"===G?.target?.method}onReset(){this.resetForm()}resetForm(G=void 0){this.form.reset(G),this.submitted=!1}_updateDomValue(){this.directives.forEach(G=>{const we=G.control,Ht=this.form.get(G.path);we!==Ht&&(De(we||null,G),(Y=>Y instanceof gn)(Ht)&&(ue(Ht,G,this.callSetDisabledState),G.control=Ht))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(G){const we=this.form.get(G.path);di(we,G),we.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(G){if(this.form){const we=this.form.get(G.path);we&&function bn(Y,W){return Te(Y,W)}(we,G)&&we.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ye(this.form,this),this._oldForm&&Te(this._oldForm,this)}_checkFormPresent(){}}return Y.\u0275fac=function(G){return new(G||Y)(C.Y36(Vt,10),C.Y36(oi,10),C.Y36(lt,8))},Y.\u0275dir=C.lG2({type:Y,selectors:[["","formGroup",""]],hostBindings:function(G,we){1&G&&C.NdJ("submit",function(Di){return we.onSubmit(Di)})("reset",function(){return we.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[C._Bn([vo]),C.qOj,C.TTD]}),Y})(),us=(()=>{class Y{constructor(){this._validator=Fi}ngOnChanges(G){if(this.inputName in G){const we=this.normalizeInput(G[this.inputName].currentValue);this._enabled=this.enabled(we),this._validator=this._enabled?this.createValidator(we):Fi,this._onChange&&this._onChange()}}validate(G){return this._validator(G)}registerOnValidatorChange(G){this._onChange=G}enabled(G){return null!=G}}return Y.\u0275fac=function(G){return new(G||Y)},Y.\u0275dir=C.lG2({type:Y,features:[C.TTD]}),Y})();const ra={provide:Vt,useExisting:(0,C.Gpc)(()=>br),multi:!0},Ns={provide:Vt,useExisting:(0,C.Gpc)(()=>rl),multi:!0};let br=(()=>{class Y extends us{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=C.VuI,this.createValidator=G=>Ae}enabled(G){return G}}return Y.\u0275fac=function(){let W;return function(we){return(W||(W=C.n5z(Y)))(we||Y)}}(),Y.\u0275dir=C.lG2({type:Y,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(G,we){2&G&&C.uIk("required",we._enabled?"":null)},inputs:{required:"required"},features:[C._Bn([ra]),C.qOj]}),Y})(),rl=(()=>{class Y extends br{constructor(){super(...arguments),this.createValidator=G=>It}}return Y.\u0275fac=function(){let W;return function(we){return(W||(W=C.n5z(Y)))(we||Y)}}(),Y.\u0275dir=C.lG2({type:Y,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(G,we){2&G&&C.uIk("required",we._enabled?"":null)},features:[C._Bn([Ns]),C.qOj]}),Y})(),Bs=(()=>{class Y{}return Y.\u0275fac=function(G){return new(G||Y)},Y.\u0275mod=C.oAB({type:Y}),Y.\u0275inj=C.cJS({imports:[yo]}),Y})(),mr=(()=>{class Y{static withConfig(G){return{ngModule:Y,providers:[{provide:lt,useValue:G.callSetDisabledState??xe}]}}}return Y.\u0275fac=function(G){return new(G||Y)},Y.\u0275mod=C.oAB({type:Y}),Y.\u0275inj=C.cJS({imports:[Bs]}),Y})()},2296:(_i,pt,H)=>{"use strict";H.d(pt,{RK:()=>Ct,cs:()=>gt,lW:()=>Tn,o6:()=>li,ot:()=>Be,zs:()=>$n});var C=H(2831),l=H(5879),le=H(7849),v=H(3680),je=H(6814),ne=H(2495);const He=["mat-button",""],Oe=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Ge=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],nt=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",Fe=["mat-fab",""],ct=["mat-icon-button",""],bt=["*"],oi={capture:!0},Ti=["focus","click","mouseenter","touchstart"],Yt="mat-button-ripple-uninitialized";let Le=(()=>{class rt{constructor(){this._document=(0,l.f3M)(je.K0,{optional:!0}),this._animationMode=(0,l.f3M)(l.QbO,{optional:!0}),this._globalRippleOptions=(0,l.f3M)(v.Y2,{optional:!0}),this._platform=(0,l.f3M)(C.t4),this._ngZone=(0,l.f3M)(l.R0b),this._onInteraction=Ee=>{if(Ee.target===this._document)return;const Kt=Ee.target.closest(`[${Yt}]`);Kt&&(Kt.removeAttribute(Yt),this._appendRipple(Kt))},this._ngZone.runOutsideAngular(()=>{for(const Ee of Ti)this._document?.addEventListener(Ee,this._onInteraction,oi)})}ngOnDestroy(){for(const Ee of Ti)this._document?.removeEventListener(Ee,this._onInteraction,oi)}_appendRipple(Ee){if(!this._document)return;const ht=this._document.createElement("span");ht.classList.add("mat-mdc-button-ripple");const Kt=new Ue(Ee,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);Kt.rippleConfig.centered=Ee.hasAttribute("mat-icon-button"),new v.IR(Kt,this._ngZone,ht,this._platform).setupTriggerEvents(Ee),Ee.append(ht)}_createMatRipple(Ee){if(!this._document)return;Ee.querySelector(".mat-mdc-button-ripple")?.remove(),Ee.removeAttribute(Yt);const ht=this._document.createElement("span");ht.classList.add("mat-mdc-button-ripple");const Kt=new v.wG(new l.SBq(ht),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return Kt._isInitialized=!0,Kt.trigger=Ee,Ee.append(ht),Kt}}return rt.\u0275fac=function(Ee){return new(Ee||rt)},rt.\u0275prov=l.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"}),rt})();class Ue{constructor(ut,Ee,ht){this._button=ut,this._globalRippleOptions=Ee,this._setRippleConfig(Ee,ht)}_setRippleConfig(ut,Ee){this.rippleConfig=ut||{},"NoopAnimations"===Ee&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const Pt=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Ot=(0,v.pj)((0,v.Id)((0,v.Kr)(class{constructor(rt){this._elementRef=rt}})));let ui=(()=>{class rt extends Ot{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(Ee){this._ripple=Ee}constructor(Ee,ht,Kt,Bt){super(Ee),this._platform=ht,this._ngZone=Kt,this._animationMode=Bt,this._focusMonitor=(0,l.f3M)(le.tE),this._rippleLoader=(0,l.f3M)(Le),this._isFab=!1;const ri=Ee.nativeElement.classList;for(const ot of Pt)this._hasHostAttributes(ot.selector)&&ot.mdcClasses.forEach(Dt=>{ri.add(Dt)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(Ee="program",ht){Ee?this._focusMonitor.focusVia(this._elementRef.nativeElement,Ee,ht):this._elementRef.nativeElement.focus(ht)}_hasHostAttributes(...Ee){return Ee.some(ht=>this._elementRef.nativeElement.hasAttribute(ht))}}return rt.\u0275fac=function(Ee){l.$Z()},rt.\u0275dir=l.lG2({type:rt,features:[l.qOj,l.TTD]}),rt})(),Oi=(()=>{class rt extends ui{constructor(Ee,ht,Kt,Bt){super(Ee,ht,Kt,Bt),this._haltDisabledEvents=ri=>{this.disabled&&(ri.preventDefault(),ri.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return rt.\u0275fac=function(Ee){l.$Z()},rt.\u0275dir=l.lG2({type:rt,features:[l.qOj]}),rt})(),Tn=(()=>{class rt extends ui{constructor(Ee,ht,Kt,Bt){super(Ee,ht,Kt,Bt)}}return rt.\u0275fac=function(Ee){return new(Ee||rt)(l.Y36(l.SBq),l.Y36(C.t4),l.Y36(l.R0b),l.Y36(l.QbO,8))},rt.\u0275cmp=l.Xpm({type:rt,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(Ee,ht){2&Ee&&(l.uIk("disabled",ht.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===ht._animationMode)("mat-unthemed",!ht.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:He,ngContentSelectors:Ge,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Ee,ht){1&Ee&&(l.F$t(Oe),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)),2&Ee&&l.ekj("mdc-button__ripple",!ht._isFab)("mdc-fab__ripple",ht._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),rt})(),$n=(()=>{class rt extends Oi{constructor(Ee,ht,Kt,Bt){super(Ee,ht,Kt,Bt)}}return rt.\u0275fac=function(Ee){return new(Ee||rt)(l.Y36(l.SBq),l.Y36(C.t4),l.Y36(l.R0b),l.Y36(l.QbO,8))},rt.\u0275cmp=l.Xpm({type:rt,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:9,hostBindings:function(Ee,ht){2&Ee&&(l.uIk("disabled",ht.disabled||null)("tabindex",ht.disabled?-1:ht.tabIndex)("aria-disabled",ht.disabled.toString()),l.ekj("_mat-animation-noopable","NoopAnimations"===ht._animationMode)("mat-unthemed",!ht.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[l.qOj],attrs:He,ngContentSelectors:Ge,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Ee,ht){1&Ee&&(l.F$t(Oe),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)),2&Ee&&l.ekj("mdc-button__ripple",!ht._isFab)("mdc-fab__ripple",ht._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',nt],encapsulation:2,changeDetection:0}),rt})();const pn=new l.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:jn});function jn(){return{color:"accent"}}const In=jn();let gt=(()=>{class rt extends ui{get extended(){return this._extended}set extended(Ee){this._extended=(0,ne.Ig)(Ee)}constructor(Ee,ht,Kt,Bt,ri){super(Ee,ht,Kt,Bt),this._options=ri,this._isFab=!0,this._options=this._options||In,this.color=this.defaultColor=this._options.color||In.color}}return rt.\u0275fac=function(Ee){return new(Ee||rt)(l.Y36(l.SBq),l.Y36(C.t4),l.Y36(l.R0b),l.Y36(l.QbO,8),l.Y36(pn,8))},rt.\u0275cmp=l.Xpm({type:rt,selectors:[["button","mat-fab",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:11,hostBindings:function(Ee,ht){2&Ee&&(l.uIk("disabled",ht.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===ht._animationMode)("mat-unthemed",!ht.color)("mat-mdc-button-base",!0)("mdc-fab--extended",ht.extended)("mat-mdc-extended-fab",ht.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[l.qOj],attrs:Fe,ngContentSelectors:Ge,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Ee,ht){1&Ee&&(l.F$t(Oe),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)),2&Ee&&l.ekj("mdc-button__ripple",!ht._isFab)("mdc-fab__ripple",ht._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),rt})(),Ct=(()=>{class rt extends ui{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(Ee,ht,Kt,Bt){super(Ee,ht,Kt,Bt)}}return rt.\u0275fac=function(Ee){return new(Ee||rt)(l.Y36(l.SBq),l.Y36(C.t4),l.Y36(l.R0b),l.Y36(l.QbO,8))},rt.\u0275cmp=l.Xpm({type:rt,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(Ee,ht){2&Ee&&(l.uIk("disabled",ht.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===ht._animationMode)("mat-unthemed",!ht.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:ct,ngContentSelectors:bt,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Ee,ht){1&Ee&&(l.F$t(),l._UZ(0,"span",0),l.Hsn(1),l._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',nt],encapsulation:2,changeDetection:0}),rt})(),li=(()=>{class rt extends Oi{constructor(Ee,ht,Kt,Bt){super(Ee,ht,Kt,Bt)}}return rt.\u0275fac=function(Ee){return new(Ee||rt)(l.Y36(l.SBq),l.Y36(C.t4),l.Y36(l.R0b),l.Y36(l.QbO,8))},rt.\u0275cmp=l.Xpm({type:rt,selectors:[["a","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:9,hostBindings:function(Ee,ht){2&Ee&&(l.uIk("disabled",ht.disabled||null)("tabindex",ht.disabled?-1:ht.tabIndex)("aria-disabled",ht.disabled.toString()),l.ekj("_mat-animation-noopable","NoopAnimations"===ht._animationMode)("mat-unthemed",!ht.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[l.qOj],attrs:ct,ngContentSelectors:Ge,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(Ee,ht){1&Ee&&(l.F$t(Oe),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)),2&Ee&&l.ekj("mdc-button__ripple",!ht._isFab)("mdc-fab__ripple",ht._isFab)},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',nt],encapsulation:2,changeDetection:0}),rt})(),Be=(()=>{class rt{}return rt.\u0275fac=function(Ee){return new(Ee||rt)},rt.\u0275mod=l.oAB({type:rt}),rt.\u0275inj=l.cJS({imports:[v.BQ,v.si,v.BQ]}),rt})()},3680:(_i,pt,H)=>{"use strict";H.d(pt,{rD:()=>ut,K7:()=>yi,HF:()=>Re,Y2:()=>ae,BQ:()=>It,ey:()=>Vi,Ng:()=>vt,us:()=>de,wG:()=>Se,si:()=>Pe,IR:()=>ii,CB:()=>At,jH:()=>ci,pj:()=>Fi,Kr:()=>Oi,Id:()=>ti,FD:()=>$n,dB:()=>pn,sb:()=>Tn});var C=H(5879),l=H(7849),le=H(9388),je=H(6814),ne=H(2831),He=H(2495),Oe=H(5592),Ge=H(8645),Ve=H(6028);const et=["text"];function Xe(q,B){if(1&q&&C._UZ(0,"mat-pseudo-checkbox",6),2&q){const j=C.oxw();C.Q6J("disabled",j.disabled)("state",j.selected?"checked":"unchecked")}}function ct(q,B){if(1&q&&C._UZ(0,"mat-pseudo-checkbox",7),2&q){const j=C.oxw();C.Q6J("disabled",j.disabled)}}function bt(q,B){if(1&q&&(C.TgZ(0,"span",8),C._uU(1),C.qZA()),2&q){const j=C.oxw();C.xp6(1),C.hij("(",j.group.label,")")}}const Vt=[[["mat-icon"]],"*"],oi=["mat-icon","*"],Ae=new C.OlP("mat-sanity-checks",{providedIn:"root",factory:function Ue(){return!0}});let It=(()=>{class q{constructor(j,ie,_e){this._sanityChecks=ie,this._document=_e,this._hasDoneGlobalChecks=!1,j._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(j){return!(0,ne.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[j])}}return q.\u0275fac=function(j){return new(j||q)(C.LFG(l.qm),C.LFG(Ae,8),C.LFG(je.K0))},q.\u0275mod=C.oAB({type:q}),q.\u0275inj=C.cJS({imports:[le.vT,le.vT]}),q})();function ti(q){return class extends q{get disabled(){return this._disabled}set disabled(B){this._disabled=(0,He.Ig)(B)}constructor(...B){super(...B),this._disabled=!1}}}function Fi(q,B){return class extends q{get color(){return this._color}set color(j){const ie=j||this.defaultColor;ie!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),ie&&this._elementRef.nativeElement.classList.add(`mat-${ie}`),this._color=ie)}constructor(...j){super(...j),this.defaultColor=B,this.color=B}}}function Oi(q){return class extends q{get disableRipple(){return this._disableRipple}set disableRipple(B){this._disableRipple=(0,He.Ig)(B)}constructor(...B){super(...B),this._disableRipple=!1}}}function Tn(q,B=0){return class extends q{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(j){this._tabIndex=null!=j?(0,He.su)(j):this.defaultTabIndex}constructor(...j){super(...j),this._tabIndex=B,this.defaultTabIndex=B}}}function $n(q){return class extends q{updateErrorState(){const B=this.errorState,ke=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);ke!==B&&(this.errorState=ke,this.stateChanges.next())}constructor(...B){super(...B),this.errorState=!1}}}function pn(q){return class extends q{constructor(...B){super(...B),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new Oe.y(j=>{this._isInitialized?this._notifySubscriber(j):this._pendingSubscribers.push(j)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(B){B.next(),B.complete()}}}let ut=(()=>{class q{isErrorState(j,ie){return!!(j&&j.invalid&&(j.touched||ie&&ie.submitted))}}return q.\u0275fac=function(j){return new(j||q)},q.\u0275prov=C.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})();class ri{constructor(B,j,ie,_e=!1){this._renderer=B,this.element=j,this.config=ie,this._animationForciblyDisabledThroughCss=_e,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ot=(0,ne.i$)({passive:!0,capture:!0});class Dt{constructor(){this._events=new Map,this._delegateEventHandler=B=>{const j=(0,ne.sA)(B);j&&this._events.get(B.type)?.forEach((ie,_e)=>{(_e===j||_e.contains(j))&&ie.forEach(ke=>ke.handleEvent(B))})}}addHandler(B,j,ie,_e){const ke=this._events.get(j);if(ke){const ge=ke.get(ie);ge?ge.add(_e):ke.set(ie,new Set([_e]))}else this._events.set(j,new Map([[ie,new Set([_e])]])),B.runOutsideAngular(()=>{document.addEventListener(j,this._delegateEventHandler,ot)})}removeHandler(B,j,ie){const _e=this._events.get(B);if(!_e)return;const ke=_e.get(j);ke&&(ke.delete(ie),0===ke.size&&_e.delete(j),0===_e.size&&(this._events.delete(B),document.removeEventListener(B,this._delegateEventHandler,ot)))}}const wi={enterDuration:225,exitDuration:150},Wi=(0,ne.i$)({passive:!0,capture:!0}),Nn=["mousedown","touchstart"],Cn=["mouseup","mouseleave","touchend","touchcancel"];class ii{constructor(B,j,ie,_e){this._target=B,this._ngZone=j,this._platform=_e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,_e.isBrowser&&(this._containerElement=(0,He.fI)(ie))}fadeInRipple(B,j,ie={}){const _e=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),ke={...wi,...ie.animation};ie.centered&&(B=_e.left+_e.width/2,j=_e.top+_e.height/2);const ge=ie.radius||function at(q,B,j){const ie=Math.max(Math.abs(q-j.left),Math.abs(q-j.right)),_e=Math.max(Math.abs(B-j.top),Math.abs(B-j.bottom));return Math.sqrt(ie*ie+_e*_e)}(B,j,_e),se=B-_e.left,X=j-_e.top,me=ke.enterDuration,Je=document.createElement("div");Je.classList.add("mat-ripple-element"),Je.style.left=se-ge+"px",Je.style.top=X-ge+"px",Je.style.height=2*ge+"px",Je.style.width=2*ge+"px",null!=ie.color&&(Je.style.backgroundColor=ie.color),Je.style.transitionDuration=`${me}ms`,this._containerElement.appendChild(Je);const lt=window.getComputedStyle(Je),Ie=lt.transitionDuration,ue="none"===lt.transitionProperty||"0s"===Ie||"0s, 0s"===Ie||0===_e.width&&0===_e.height,De=new ri(this,Je,ie,ue);Je.style.transform="scale3d(1, 1, 1)",De.state=0,ie.persistent||(this._mostRecentTransientRipple=De);let Qe=null;return!ue&&(me||ke.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Tt=()=>this._finishRippleTransition(De),Ye=()=>this._destroyRipple(De);Je.addEventListener("transitionend",Tt),Je.addEventListener("transitioncancel",Ye),Qe={onTransitionEnd:Tt,onTransitionCancel:Ye}}),this._activeRipples.set(De,Qe),(ue||!me)&&this._finishRippleTransition(De),De}fadeOutRipple(B){if(2===B.state||3===B.state)return;const j=B.element,ie={...wi,...B.config.animation};j.style.transitionDuration=`${ie.exitDuration}ms`,j.style.opacity="0",B.state=2,(B._animationForciblyDisabledThroughCss||!ie.exitDuration)&&this._finishRippleTransition(B)}fadeOutAll(){this._getActiveRipples().forEach(B=>B.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(B=>{B.config.persistent||B.fadeOut()})}setupTriggerEvents(B){const j=(0,He.fI)(B);!this._platform.isBrowser||!j||j===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=j,Nn.forEach(ie=>{ii._eventManager.addHandler(this._ngZone,ie,j,this)}))}handleEvent(B){"mousedown"===B.type?this._onMousedown(B):"touchstart"===B.type?this._onTouchStart(B):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Cn.forEach(j=>{this._triggerElement.addEventListener(j,this,Wi)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(B){0===B.state?this._startFadeOutTransition(B):2===B.state&&this._destroyRipple(B)}_startFadeOutTransition(B){const j=B===this._mostRecentTransientRipple,{persistent:ie}=B.config;B.state=1,!ie&&(!j||!this._isPointerDown)&&B.fadeOut()}_destroyRipple(B){const j=this._activeRipples.get(B)??null;this._activeRipples.delete(B),this._activeRipples.size||(this._containerRect=null),B===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),B.state=3,null!==j&&(B.element.removeEventListener("transitionend",j.onTransitionEnd),B.element.removeEventListener("transitioncancel",j.onTransitionCancel)),B.element.remove()}_onMousedown(B){const j=(0,l.X6)(B),ie=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!j&&!ie&&(this._isPointerDown=!0,this.fadeInRipple(B.clientX,B.clientY,this._target.rippleConfig))}_onTouchStart(B){if(!this._target.rippleDisabled&&!(0,l.yG)(B)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const j=B.changedTouches;if(j)for(let ie=0;ie<j.length;ie++)this.fadeInRipple(j[ie].clientX,j[ie].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(B=>{!B.config.persistent&&(1===B.state||B.config.terminateOnPointerUp&&0===B.state)&&B.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const B=this._triggerElement;B&&(Nn.forEach(j=>ii._eventManager.removeHandler(j,B,this)),this._pointerUpEventsRegistered&&Cn.forEach(j=>B.removeEventListener(j,this,Wi)))}}ii._eventManager=new Dt;const ae=new C.OlP("mat-ripple-global-options");let Se=(()=>{class q{get disabled(){return this._disabled}set disabled(j){j&&this.fadeOutAllNonPersistent(),this._disabled=j,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(j){this._trigger=j,this._setupTriggerEventsIfEnabled()}constructor(j,ie,_e,ke,ge){this._elementRef=j,this._animationMode=ge,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=ke||{},this._rippleRenderer=new ii(this,ie,j,_e)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(j,ie=0,_e){return"number"==typeof j?this._rippleRenderer.fadeInRipple(j,ie,{...this.rippleConfig,..._e}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...j})}}return q.\u0275fac=function(j){return new(j||q)(C.Y36(C.SBq),C.Y36(C.R0b),C.Y36(ne.t4),C.Y36(ae,8),C.Y36(C.QbO,8))},q.\u0275dir=C.lG2({type:q,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(j,ie){2&j&&C.ekj("mat-ripple-unbounded",ie.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),q})(),Pe=(()=>{class q{}return q.\u0275fac=function(j){return new(j||q)},q.\u0275mod=C.oAB({type:q}),q.\u0275inj=C.cJS({imports:[It,It]}),q})(),he=(()=>{class q{constructor(j){this._animationMode=j,this.state="unchecked",this.disabled=!1,this.appearance="full"}}return q.\u0275fac=function(j){return new(j||q)(C.Y36(C.QbO,8))},q.\u0275cmp=C.Xpm({type:q,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(j,ie){2&j&&C.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===ie.state)("mat-pseudo-checkbox-checked","checked"===ie.state)("mat-pseudo-checkbox-disabled",ie.disabled)("mat-pseudo-checkbox-minimal","minimal"===ie.appearance)("mat-pseudo-checkbox-full","full"===ie.appearance)("_mat-animation-noopable","NoopAnimations"===ie._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(j,ie){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0}),q})(),de=(()=>{class q{}return q.\u0275fac=function(j){return new(j||q)},q.\u0275mod=C.oAB({type:q}),q.\u0275inj=C.cJS({imports:[It]}),q})();const Re=new C.OlP("MAT_OPTION_PARENT_COMPONENT"),yi=new C.OlP("MatOptgroup");let en=0;class nn{constructor(B,j=!1){this.source=B,this.isUserInput=j}}let Qi=(()=>{class q{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(j){this._disabled=(0,He.Ig)(j)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(j,ie,_e,ke){this._element=j,this._changeDetectorRef=ie,this._parent=_e,this.group=ke,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+en++,this.onSelectionChange=new C.vpe,this._stateChanges=new Ge.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(j,ie){const _e=this._getHostElement();"function"==typeof _e.focus&&_e.focus(ie)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(j){(j.keyCode===Ve.K5||j.keyCode===Ve.L_)&&!(0,Ve.Vb)(j)&&(this._selectViaInteraction(),j.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const j=this.viewValue;j!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=j)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(j=!1){this.onSelectionChange.emit(new nn(this,j))}}return q.\u0275fac=function(j){C.$Z()},q.\u0275dir=C.lG2({type:q,viewQuery:function(j,ie){if(1&j&&C.Gf(et,7),2&j){let _e;C.iGM(_e=C.CRH())&&(ie._text=_e.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),q})(),Vi=(()=>{class q extends Qi{constructor(j,ie,_e,ke){super(j,ie,_e,ke)}}return q.\u0275fac=function(j){return new(j||q)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(Re,8),C.Y36(yi,8))},q.\u0275cmp=C.Xpm({type:q,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(j,ie){1&j&&C.NdJ("click",function(){return ie._selectViaInteraction()})("keydown",function(ke){return ie._handleKeydown(ke)}),2&j&&(C.Ikx("id",ie.id),C.uIk("aria-selected",ie.selected)("aria-disabled",ie.disabled.toString()),C.ekj("mdc-list-item--selected",ie.selected)("mat-mdc-option-multiple",ie.multiple)("mat-mdc-option-active",ie.active)("mdc-list-item--disabled",ie.disabled))},exportAs:["matOption"],features:[C.qOj],ngContentSelectors:oi,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(j,ie){1&j&&(C.F$t(Vt),C.YNc(0,Xe,1,2,"mat-pseudo-checkbox",0),C.Hsn(1),C.TgZ(2,"span",1,2),C.Hsn(4,1),C.qZA(),C.YNc(5,ct,1,1,"mat-pseudo-checkbox",3),C.YNc(6,bt,2,1,"span",4),C._UZ(7,"div",5)),2&j&&(C.Q6J("ngIf",ie.multiple),C.xp6(5),C.Q6J("ngIf",!ie.multiple&&ie.selected&&!ie.hideSingleSelectionIndicator),C.xp6(1),C.Q6J("ngIf",ie.group&&ie.group._inert),C.xp6(1),C.Q6J("matRippleTrigger",ie._getHostElement())("matRippleDisabled",ie.disabled||ie.disableRipple))},dependencies:[Se,je.O5,he],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),q})();function At(q,B,j){if(j.length){let ie=B.toArray(),_e=j.toArray(),ke=0;for(let ge=0;ge<q+1;ge++)ie[ge].group&&ie[ge].group===_e[ke]&&ke++;return ke}return 0}function ci(q,B,j,ie){return q<j?q:q+B>j+ie?Math.max(0,q-ie+B):j}let vt=(()=>{class q{}return q.\u0275fac=function(j){return new(j||q)},q.\u0275mod=C.oAB({type:q}),q.\u0275inj=C.cJS({imports:[Pe,je.ez,It,de]}),q})()},4170:(_i,pt,H)=>{"use strict";H.d(pt,{G_:()=>xt,KE:()=>Qi,Eo:()=>Pe,lN:()=>Vi,R9:()=>wi});var C=H(5879),l=H(9388),le=H(2831),v=H(7394),je=H(8645),ne=H(3019),He=H(9773),Oe=H(5592),Ge=H(2181),Ve=H(940);class Fe{constructor(ci){this._box=ci,this._destroyed=new je.x,this._resizeSubject=new je.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(vt=>this._resizeSubject.next(vt)))}observe(ci){return this._elementObservables.has(ci)||this._elementObservables.set(ci,new Oe.y(vt=>{const q=this._resizeSubject.subscribe(vt);return this._resizeObserver?.observe(ci,{box:this._box}),()=>{this._resizeObserver?.unobserve(ci),q.unsubscribe(),this._elementObservables.delete(ci)}}).pipe((0,Ge.h)(vt=>vt.some(q=>q.target===ci)),(0,Ve.d)({bufferSize:1,refCount:!0}),(0,He.R)(this._destroyed))),this._elementObservables.get(ci)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let et=(()=>{class At{constructor(){this._observers=new Map,this._ngZone=(0,C.f3M)(C.R0b)}ngOnDestroy(){for(const[,vt]of this._observers)vt.destroy();this._observers.clear()}observe(vt,q){const B=q?.box||"content-box";return this._observers.has(B)||this._observers.set(B,new Fe(B)),this._observers.get(B).observe(vt)}}return At.\u0275fac=function(vt){return new(vt||At)},At.\u0275prov=C.Yz7({token:At,factory:At.\u0275fac,providedIn:"root"}),At})();var Xe=H(2495),ct=H(6825),bt=H(6814),Vt=H(7131),oi=H(3680);const Ti=["notch"],Yt=["matFormFieldNotchedOutline",""],Le=["*"],Ue=["textField"],Ae=["iconPrefixContainer"],It=["textPrefixContainer"];function Pt(At,ci){1&At&&C._UZ(0,"span",19)}function Ot(At,ci){if(1&At&&(C.TgZ(0,"label",17),C.Hsn(1,1),C.YNc(2,Pt,1,0,"span",18),C.qZA()),2&At){const vt=C.oxw(2);C.Q6J("floating",vt._shouldLabelFloat())("monitorResize",vt._hasOutline())("id",vt._labelId),C.uIk("for",vt._control.id)("aria-owns",vt._control.id),C.xp6(2),C.Q6J("ngIf",!vt.hideRequiredMarker&&vt._control.required)}}function ui(At,ci){if(1&At&&C.YNc(0,Ot,3,6,"label",16),2&At){const vt=C.oxw();C.Q6J("ngIf",vt._hasFloatingLabel())}}function ti(At,ci){1&At&&C._UZ(0,"div",20)}function Fi(At,ci){}function Oi(At,ci){if(1&At&&C.YNc(0,Fi,0,0,"ng-template",22),2&At){C.oxw(2);const vt=C.MAs(1);C.Q6J("ngTemplateOutlet",vt)}}function Tn(At,ci){if(1&At&&(C.TgZ(0,"div",21),C.YNc(1,Oi,1,1,"ng-template",9),C.qZA()),2&At){const vt=C.oxw();C.Q6J("matFormFieldNotchedOutlineOpen",vt._shouldLabelFloat()),C.xp6(1),C.Q6J("ngIf",!vt._forceDisplayInfixLabel())}}function $n(At,ci){1&At&&(C.TgZ(0,"div",23,24),C.Hsn(2,2),C.qZA())}function pn(At,ci){1&At&&(C.TgZ(0,"div",25,26),C.Hsn(2,3),C.qZA())}function jn(At,ci){}function In(At,ci){if(1&At&&C.YNc(0,jn,0,0,"ng-template",22),2&At){C.oxw();const vt=C.MAs(1);C.Q6J("ngTemplateOutlet",vt)}}function Et(At,ci){1&At&&(C.TgZ(0,"div",27),C.Hsn(1,4),C.qZA())}function gt(At,ci){1&At&&(C.TgZ(0,"div",28),C.Hsn(1,5),C.qZA())}function Nt(At,ci){1&At&&C._UZ(0,"div",29)}function zt(At,ci){if(1&At&&(C.TgZ(0,"div",30),C.Hsn(1,6),C.qZA()),2&At){const vt=C.oxw();C.Q6J("@transitionMessages",vt._subscriptAnimationState)}}function ni(At,ci){if(1&At&&(C.TgZ(0,"mat-hint",34),C._uU(1),C.qZA()),2&At){const vt=C.oxw(2);C.Q6J("id",vt._hintLabelId),C.xp6(1),C.Oqu(vt.hintLabel)}}function Ct(At,ci){if(1&At&&(C.TgZ(0,"div",31),C.YNc(1,ni,2,2,"mat-hint",32),C.Hsn(2,7),C._UZ(3,"div",33),C.Hsn(4,8),C.qZA()),2&At){const vt=C.oxw();C.Q6J("@transitionMessages",vt._subscriptAnimationState),C.xp6(1),C.Q6J("ngIf",vt.hintLabel)}}const li=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Be=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let rt=(()=>{class At{}return At.\u0275fac=function(vt){return new(vt||At)},At.\u0275dir=C.lG2({type:At,selectors:[["mat-label"]]}),At})();const Ee=new C.OlP("MatError");let Kt=0,Bt=(()=>{class At{constructor(){this.align="start",this.id="mat-mdc-hint-"+Kt++}}return At.\u0275fac=function(vt){return new(vt||At)},At.\u0275dir=C.lG2({type:At,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(vt,q){2&vt&&(C.Ikx("id",q.id),C.uIk("align",null),C.ekj("mat-mdc-form-field-hint-end","end"===q.align))},inputs:{align:"align",id:"id"}}),At})();const ri=new C.OlP("MatPrefix"),Dt=new C.OlP("MatSuffix");let wi=(()=>{class At{constructor(){this._isText=!1}set _isTextSelector(vt){this._isText=!0}}return At.\u0275fac=function(vt){return new(vt||At)},At.\u0275dir=C.lG2({type:At,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[C._Bn([{provide:Dt,useExisting:At}])]}),At})();const vn=new C.OlP("FloatingLabelParent");let Wi=(()=>{class At{get floating(){return this._floating}set floating(vt){this._floating=vt,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(vt){this._monitorResize=vt,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(vt){this._elementRef=vt,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,C.f3M)(et),this._ngZone=(0,C.f3M)(C.R0b),this._parent=(0,C.f3M)(vn),this._resizeSubscription=new v.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function Nn(At){if(null!==At.offsetParent)return At.scrollWidth;const vt=At.cloneNode(!0);vt.style.setProperty("position","absolute"),vt.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(vt);const q=vt.scrollWidth;return vt.remove(),q}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}}return At.\u0275fac=function(vt){return new(vt||At)(C.Y36(C.SBq))},At.\u0275dir=C.lG2({type:At,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(vt,q){2&vt&&C.ekj("mdc-floating-label--float-above",q.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}}),At})();const Cn="mdc-line-ripple--active",ii="mdc-line-ripple--deactivating";let at=(()=>{class At{constructor(vt,q){this._elementRef=vt,this._handleTransitionEnd=B=>{const j=this._elementRef.nativeElement.classList,ie=j.contains(ii);"opacity"===B.propertyName&&ie&&j.remove(Cn,ii)},q.runOutsideAngular(()=>{vt.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const vt=this._elementRef.nativeElement.classList;vt.remove(ii),vt.add(Cn)}deactivate(){this._elementRef.nativeElement.classList.add(ii)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return At.\u0275fac=function(vt){return new(vt||At)(C.Y36(C.SBq),C.Y36(C.R0b))},At.\u0275dir=C.lG2({type:At,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),At})(),ae=(()=>{class At{constructor(vt,q){this._elementRef=vt,this._ngZone=q,this.open=!1}ngAfterViewInit(){const vt=this._elementRef.nativeElement.querySelector(".mdc-floating-label");vt?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(vt.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>vt.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(vt){this._notch.nativeElement.style.width=this.open&&vt?`calc(${vt}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}}return At.\u0275fac=function(vt){return new(vt||At)(C.Y36(C.SBq),C.Y36(C.R0b))},At.\u0275cmp=C.Xpm({type:At,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(vt,q){if(1&vt&&C.Gf(Ti,5),2&vt){let B;C.iGM(B=C.CRH())&&(q._notch=B.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(vt,q){2&vt&&C.ekj("mdc-notched-outline--notched",q.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:Yt,ngContentSelectors:Le,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(vt,q){1&vt&&(C.F$t(),C._UZ(0,"div",0),C.TgZ(1,"div",1,2),C.Hsn(3),C.qZA(),C._UZ(4,"div",3))},encapsulation:2,changeDetection:0}),At})();const Se={transitionMessages:(0,ct.X$)("transitionMessages",[(0,ct.SB)("enter",(0,ct.oB)({opacity:1,transform:"translateY(0%)"})),(0,ct.eR)("void => enter",[(0,ct.oB)({opacity:0,transform:"translateY(-5px)"}),(0,ct.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Pe=(()=>{class At{}return At.\u0275fac=function(vt){return new(vt||At)},At.\u0275dir=C.lG2({type:At}),At})();const xt=new C.OlP("MatFormField"),Jt=new C.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let Lt=0,Qi=(()=>{class At{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(vt){this._hideRequiredMarker=(0,Xe.Ig)(vt)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(vt){vt!==this._floatLabel&&(this._floatLabel=vt,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(vt){const q=this._appearance;this._appearance=vt||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==q&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(vt){this._subscriptSizing=vt||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(vt){this._hintLabel=vt,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(vt){this._explicitFormFieldControl=vt}constructor(vt,q,B,j,ie,_e,ke,ge){this._elementRef=vt,this._changeDetectorRef=q,this._ngZone=B,this._dir=j,this._platform=ie,this._defaults=_e,this._animationMode=ke,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+Lt++,this._hintLabelId="mat-mdc-hint-"+Lt++,this._subscriptAnimationState="",this._destroyed=new je.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,_e&&(_e.appearance&&(this.appearance=_e.appearance),this._hideRequiredMarker=!!_e?.hideRequiredMarker,_e.color&&(this.color=_e.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const vt=this._control;vt.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${vt.controlType}`),vt.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),vt.ngControl&&vt.ngControl.valueChanges&&vt.ngControl.valueChanges.pipe((0,He.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(vt=>!vt._isText),this._hasTextPrefix=!!this._prefixChildren.find(vt=>vt._isText),this._hasIconSuffix=!!this._suffixChildren.find(vt=>!vt._isText),this._hasTextSuffix=!!this._suffixChildren.find(vt=>vt._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,ne.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,He.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,He.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(vt){const q=this._control?this._control.ngControl:null;return q&&q[vt]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let vt=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&vt.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const q=this._hintChildren?this._hintChildren.find(j=>"start"===j.align):null,B=this._hintChildren?this._hintChildren.find(j=>"end"===j.align):null;q?vt.push(q.id):this._hintLabel&&vt.push(this._hintLabelId),B&&vt.push(B.id)}else this._errorChildren&&vt.push(...this._errorChildren.map(q=>q.id));this._control.setDescribedByIds(vt)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const vt=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(vt.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const q=this._iconPrefixContainer?.nativeElement,B=this._textPrefixContainer?.nativeElement,j=q?.getBoundingClientRect().width??0,ie=B?.getBoundingClientRect().width??0;vt.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${j+ie}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const vt=this._elementRef.nativeElement;if(vt.getRootNode){const q=vt.getRootNode();return q&&q!==vt}return document.documentElement.contains(vt)}}return At.\u0275fac=function(vt){return new(vt||At)(C.Y36(C.SBq),C.Y36(C.sBO),C.Y36(C.R0b),C.Y36(l.Is),C.Y36(le.t4),C.Y36(Jt,8),C.Y36(C.QbO,8),C.Y36(bt.K0))},At.\u0275cmp=C.Xpm({type:At,selectors:[["mat-form-field"]],contentQueries:function(vt,q,B){if(1&vt&&(C.Suo(B,rt,5),C.Suo(B,rt,7),C.Suo(B,Pe,5),C.Suo(B,ri,5),C.Suo(B,Dt,5),C.Suo(B,Ee,5),C.Suo(B,Bt,5)),2&vt){let j;C.iGM(j=C.CRH())&&(q._labelChildNonStatic=j.first),C.iGM(j=C.CRH())&&(q._labelChildStatic=j.first),C.iGM(j=C.CRH())&&(q._formFieldControl=j.first),C.iGM(j=C.CRH())&&(q._prefixChildren=j),C.iGM(j=C.CRH())&&(q._suffixChildren=j),C.iGM(j=C.CRH())&&(q._errorChildren=j),C.iGM(j=C.CRH())&&(q._hintChildren=j)}},viewQuery:function(vt,q){if(1&vt&&(C.Gf(Ue,5),C.Gf(Ae,5),C.Gf(It,5),C.Gf(Wi,5),C.Gf(ae,5),C.Gf(at,5)),2&vt){let B;C.iGM(B=C.CRH())&&(q._textField=B.first),C.iGM(B=C.CRH())&&(q._iconPrefixContainer=B.first),C.iGM(B=C.CRH())&&(q._textPrefixContainer=B.first),C.iGM(B=C.CRH())&&(q._floatingLabel=B.first),C.iGM(B=C.CRH())&&(q._notchedOutline=B.first),C.iGM(B=C.CRH())&&(q._lineRipple=B.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(vt,q){2&vt&&C.ekj("mat-mdc-form-field-label-always-float",q._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",q._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",q._hasIconSuffix)("mat-form-field-invalid",q._control.errorState)("mat-form-field-disabled",q._control.disabled)("mat-form-field-autofilled",q._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===q._animationMode)("mat-form-field-appearance-fill","fill"==q.appearance)("mat-form-field-appearance-outline","outline"==q.appearance)("mat-form-field-hide-placeholder",q._hasFloatingLabel()&&!q._shouldLabelFloat())("mat-focused",q._control.focused)("mat-primary","accent"!==q.color&&"warn"!==q.color)("mat-accent","accent"===q.color)("mat-warn","warn"===q.color)("ng-untouched",q._shouldForward("untouched"))("ng-touched",q._shouldForward("touched"))("ng-pristine",q._shouldForward("pristine"))("ng-dirty",q._shouldForward("dirty"))("ng-valid",q._shouldForward("valid"))("ng-invalid",q._shouldForward("invalid"))("ng-pending",q._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[C._Bn([{provide:xt,useExisting:At},{provide:vn,useExisting:At}])],ngContentSelectors:Be,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(vt,q){1&vt&&(C.F$t(li),C.YNc(0,ui,1,1,"ng-template",null,0,C.W1O),C.TgZ(2,"div",1,2),C.NdJ("click",function(j){return q._control.onContainerClick(j)}),C.YNc(4,ti,1,0,"div",3),C.TgZ(5,"div",4),C.YNc(6,Tn,2,2,"div",5),C.YNc(7,$n,3,0,"div",6),C.YNc(8,pn,3,0,"div",7),C.TgZ(9,"div",8),C.YNc(10,In,1,1,"ng-template",9),C.Hsn(11),C.qZA(),C.YNc(12,Et,2,0,"div",10),C.YNc(13,gt,2,0,"div",11),C.qZA(),C.YNc(14,Nt,1,0,"div",12),C.qZA(),C.TgZ(15,"div",13),C.YNc(16,zt,2,1,"div",14),C.YNc(17,Ct,5,2,"div",15),C.qZA()),2&vt&&(C.xp6(2),C.ekj("mdc-text-field--filled",!q._hasOutline())("mdc-text-field--outlined",q._hasOutline())("mdc-text-field--no-label",!q._hasFloatingLabel())("mdc-text-field--disabled",q._control.disabled)("mdc-text-field--invalid",q._control.errorState),C.xp6(2),C.Q6J("ngIf",!q._hasOutline()&&!q._control.disabled),C.xp6(2),C.Q6J("ngIf",q._hasOutline()),C.xp6(1),C.Q6J("ngIf",q._hasIconPrefix),C.xp6(1),C.Q6J("ngIf",q._hasTextPrefix),C.xp6(2),C.Q6J("ngIf",!q._hasOutline()||q._forceDisplayInfixLabel()),C.xp6(2),C.Q6J("ngIf",q._hasTextSuffix),C.xp6(1),C.Q6J("ngIf",q._hasIconSuffix),C.xp6(1),C.Q6J("ngIf",!q._hasOutline()),C.xp6(1),C.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===q.subscriptSizing),C.Q6J("ngSwitch",q._getDisplayedMessages()),C.xp6(1),C.Q6J("ngSwitchCase","error"),C.xp6(1),C.Q6J("ngSwitchCase","hint"))},dependencies:[bt.O5,bt.tP,bt.RF,bt.n9,Bt,Wi,ae,at],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Se.transitionMessages]},changeDetection:0}),At})(),Vi=(()=>{class At{}return At.\u0275fac=function(vt){return new(vt||At)},At.\u0275mod=C.oAB({type:At}),At.\u0275inj=C.cJS({imports:[oi.BQ,bt.ez,Vt.Q8,oi.BQ]}),At})()},617:(_i,pt,H)=>{"use strict";H.d(pt,{Hw:()=>zt,Ps:()=>ni,jv:()=>Ot});var C=H(5879),l=H(3680),le=H(2495),v=H(6814),je=H(2096),ne=H(8504),He=H(9315),Oe=H(7394),Ge=H(9397),Ve=H(7398),nt=H(6306),Fe=H(4716),et=H(3020),Xe=H(8180),ct=H(9862),bt=H(6593);const Vt=["*"];let oi;function Yt(Ct){return function Ti(){if(void 0===oi&&(oi=null,typeof window<"u")){const Ct=window;void 0!==Ct.trustedTypes&&(oi=Ct.trustedTypes.createPolicy("angular#components",{createHTML:li=>li}))}return oi}()?.createHTML(Ct)||Ct}function Le(Ct){return Error(`Unable to find icon with the name "${Ct}"`)}function Ae(Ct){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${Ct}".`)}function It(Ct){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${Ct}".`)}class Pt{constructor(li,Be,rt){this.url=li,this.svgText=Be,this.options=rt}}let Ot=(()=>{class Ct{constructor(Be,rt,ut,Ee){this._httpClient=Be,this._sanitizer=rt,this._errorHandler=Ee,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=ut}addSvgIcon(Be,rt,ut){return this.addSvgIconInNamespace("",Be,rt,ut)}addSvgIconLiteral(Be,rt,ut){return this.addSvgIconLiteralInNamespace("",Be,rt,ut)}addSvgIconInNamespace(Be,rt,ut,Ee){return this._addSvgIconConfig(Be,rt,new Pt(ut,null,Ee))}addSvgIconResolver(Be){return this._resolvers.push(Be),this}addSvgIconLiteralInNamespace(Be,rt,ut,Ee){const ht=this._sanitizer.sanitize(C.q3G.HTML,ut);if(!ht)throw It(ut);const Kt=Yt(ht);return this._addSvgIconConfig(Be,rt,new Pt("",Kt,Ee))}addSvgIconSet(Be,rt){return this.addSvgIconSetInNamespace("",Be,rt)}addSvgIconSetLiteral(Be,rt){return this.addSvgIconSetLiteralInNamespace("",Be,rt)}addSvgIconSetInNamespace(Be,rt,ut){return this._addSvgIconSetConfig(Be,new Pt(rt,null,ut))}addSvgIconSetLiteralInNamespace(Be,rt,ut){const Ee=this._sanitizer.sanitize(C.q3G.HTML,rt);if(!Ee)throw It(rt);const ht=Yt(Ee);return this._addSvgIconSetConfig(Be,new Pt("",ht,ut))}registerFontClassAlias(Be,rt=Be){return this._fontCssClassesByAlias.set(Be,rt),this}classNameForFontAlias(Be){return this._fontCssClassesByAlias.get(Be)||Be}setDefaultFontSetClass(...Be){return this._defaultFontSetClass=Be,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(Be){const rt=this._sanitizer.sanitize(C.q3G.RESOURCE_URL,Be);if(!rt)throw Ae(Be);const ut=this._cachedIconsByUrl.get(rt);return ut?(0,je.of)(Fi(ut)):this._loadSvgIconFromConfig(new Pt(Be,null)).pipe((0,Ge.b)(Ee=>this._cachedIconsByUrl.set(rt,Ee)),(0,Ve.U)(Ee=>Fi(Ee)))}getNamedSvgIcon(Be,rt=""){const ut=Oi(rt,Be);let Ee=this._svgIconConfigs.get(ut);if(Ee)return this._getSvgFromConfig(Ee);if(Ee=this._getIconConfigFromResolvers(rt,Be),Ee)return this._svgIconConfigs.set(ut,Ee),this._getSvgFromConfig(Ee);const ht=this._iconSetConfigs.get(rt);return ht?this._getSvgFromIconSetConfigs(Be,ht):(0,ne._)(Le(ut))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(Be){return Be.svgText?(0,je.of)(Fi(this._svgElementFromConfig(Be))):this._loadSvgIconFromConfig(Be).pipe((0,Ve.U)(rt=>Fi(rt)))}_getSvgFromIconSetConfigs(Be,rt){const ut=this._extractIconWithNameFromAnySet(Be,rt);if(ut)return(0,je.of)(ut);const Ee=rt.filter(ht=>!ht.svgText).map(ht=>this._loadSvgIconSetFromConfig(ht).pipe((0,nt.K)(Kt=>{const ri=`Loading icon set URL: ${this._sanitizer.sanitize(C.q3G.RESOURCE_URL,ht.url)} failed: ${Kt.message}`;return this._errorHandler.handleError(new Error(ri)),(0,je.of)(null)})));return(0,He.D)(Ee).pipe((0,Ve.U)(()=>{const ht=this._extractIconWithNameFromAnySet(Be,rt);if(!ht)throw Le(Be);return ht}))}_extractIconWithNameFromAnySet(Be,rt){for(let ut=rt.length-1;ut>=0;ut--){const Ee=rt[ut];if(Ee.svgText&&Ee.svgText.toString().indexOf(Be)>-1){const ht=this._svgElementFromConfig(Ee),Kt=this._extractSvgIconFromSet(ht,Be,Ee.options);if(Kt)return Kt}}return null}_loadSvgIconFromConfig(Be){return this._fetchIcon(Be).pipe((0,Ge.b)(rt=>Be.svgText=rt),(0,Ve.U)(()=>this._svgElementFromConfig(Be)))}_loadSvgIconSetFromConfig(Be){return Be.svgText?(0,je.of)(null):this._fetchIcon(Be).pipe((0,Ge.b)(rt=>Be.svgText=rt))}_extractSvgIconFromSet(Be,rt,ut){const Ee=Be.querySelector(`[id="${rt}"]`);if(!Ee)return null;const ht=Ee.cloneNode(!0);if(ht.removeAttribute("id"),"svg"===ht.nodeName.toLowerCase())return this._setSvgAttributes(ht,ut);if("symbol"===ht.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(ht),ut);const Kt=this._svgElementFromString(Yt("<svg></svg>"));return Kt.appendChild(ht),this._setSvgAttributes(Kt,ut)}_svgElementFromString(Be){const rt=this._document.createElement("DIV");rt.innerHTML=Be;const ut=rt.querySelector("svg");if(!ut)throw Error("<svg> tag not found");return ut}_toSvgElement(Be){const rt=this._svgElementFromString(Yt("<svg></svg>")),ut=Be.attributes;for(let Ee=0;Ee<ut.length;Ee++){const{name:ht,value:Kt}=ut[Ee];"id"!==ht&&rt.setAttribute(ht,Kt)}for(let Ee=0;Ee<Be.childNodes.length;Ee++)Be.childNodes[Ee].nodeType===this._document.ELEMENT_NODE&&rt.appendChild(Be.childNodes[Ee].cloneNode(!0));return rt}_setSvgAttributes(Be,rt){return Be.setAttribute("fit",""),Be.setAttribute("height","100%"),Be.setAttribute("width","100%"),Be.setAttribute("preserveAspectRatio","xMidYMid meet"),Be.setAttribute("focusable","false"),rt&&rt.viewBox&&Be.setAttribute("viewBox",rt.viewBox),Be}_fetchIcon(Be){const{url:rt,options:ut}=Be,Ee=ut?.withCredentials??!1;if(!this._httpClient)throw function Ue(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==rt)throw Error(`Cannot fetch icon from URL "${rt}".`);const ht=this._sanitizer.sanitize(C.q3G.RESOURCE_URL,rt);if(!ht)throw Ae(rt);const Kt=this._inProgressUrlFetches.get(ht);if(Kt)return Kt;const Bt=this._httpClient.get(ht,{responseType:"text",withCredentials:Ee}).pipe((0,Ve.U)(ri=>Yt(ri)),(0,Fe.x)(()=>this._inProgressUrlFetches.delete(ht)),(0,et.B)());return this._inProgressUrlFetches.set(ht,Bt),Bt}_addSvgIconConfig(Be,rt,ut){return this._svgIconConfigs.set(Oi(Be,rt),ut),this}_addSvgIconSetConfig(Be,rt){const ut=this._iconSetConfigs.get(Be);return ut?ut.push(rt):this._iconSetConfigs.set(Be,[rt]),this}_svgElementFromConfig(Be){if(!Be.svgElement){const rt=this._svgElementFromString(Be.svgText);this._setSvgAttributes(rt,Be.options),Be.svgElement=rt}return Be.svgElement}_getIconConfigFromResolvers(Be,rt){for(let ut=0;ut<this._resolvers.length;ut++){const Ee=this._resolvers[ut](rt,Be);if(Ee)return Tn(Ee)?new Pt(Ee.url,null,Ee.options):new Pt(Ee,null)}}}return Ct.\u0275fac=function(Be){return new(Be||Ct)(C.LFG(ct.eN,8),C.LFG(bt.H7),C.LFG(v.K0,8),C.LFG(C.qLn))},Ct.\u0275prov=C.Yz7({token:Ct,factory:Ct.\u0275fac,providedIn:"root"}),Ct})();function Fi(Ct){return Ct.cloneNode(!0)}function Oi(Ct,li){return Ct+":"+li}function Tn(Ct){return!(!Ct.url||!Ct.options)}const $n=(0,l.pj)(class{constructor(Ct){this._elementRef=Ct}}),pn=new C.OlP("MAT_ICON_DEFAULT_OPTIONS"),jn=new C.OlP("mat-icon-location",{providedIn:"root",factory:function In(){const Ct=(0,C.f3M)(v.K0),li=Ct?Ct.location:null;return{getPathname:()=>li?li.pathname+li.search:""}}}),Et=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],gt=Et.map(Ct=>`[${Ct}]`).join(", "),Nt=/^url\(['"]?#(.*?)['"]?\)$/;let zt=(()=>{class Ct extends $n{get inline(){return this._inline}set inline(Be){this._inline=(0,le.Ig)(Be)}get svgIcon(){return this._svgIcon}set svgIcon(Be){Be!==this._svgIcon&&(Be?this._updateSvgIcon(Be):this._svgIcon&&this._clearSvgElement(),this._svgIcon=Be)}get fontSet(){return this._fontSet}set fontSet(Be){const rt=this._cleanupFontValue(Be);rt!==this._fontSet&&(this._fontSet=rt,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(Be){const rt=this._cleanupFontValue(Be);rt!==this._fontIcon&&(this._fontIcon=rt,this._updateFontIconClasses())}constructor(Be,rt,ut,Ee,ht,Kt){super(Be),this._iconRegistry=rt,this._location=Ee,this._errorHandler=ht,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Oe.w0.EMPTY,Kt&&(Kt.color&&(this.color=this.defaultColor=Kt.color),Kt.fontSet&&(this.fontSet=Kt.fontSet)),ut||Be.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(Be){if(!Be)return["",""];const rt=Be.split(":");switch(rt.length){case 1:return["",rt[0]];case 2:return rt;default:throw Error(`Invalid icon name: "${Be}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const Be=this._elementsWithExternalReferences;if(Be&&Be.size){const rt=this._location.getPathname();rt!==this._previousPath&&(this._previousPath=rt,this._prependPathToReferences(rt))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(Be){this._clearSvgElement();const rt=this._location.getPathname();this._previousPath=rt,this._cacheChildrenWithExternalReferences(Be),this._prependPathToReferences(rt),this._elementRef.nativeElement.appendChild(Be)}_clearSvgElement(){const Be=this._elementRef.nativeElement;let rt=Be.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();rt--;){const ut=Be.childNodes[rt];(1!==ut.nodeType||"svg"===ut.nodeName.toLowerCase())&&ut.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const Be=this._elementRef.nativeElement,rt=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(ut=>ut.length>0);this._previousFontSetClass.forEach(ut=>Be.classList.remove(ut)),rt.forEach(ut=>Be.classList.add(ut)),this._previousFontSetClass=rt,this.fontIcon!==this._previousFontIconClass&&!rt.includes("mat-ligature-font")&&(this._previousFontIconClass&&Be.classList.remove(this._previousFontIconClass),this.fontIcon&&Be.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(Be){return"string"==typeof Be?Be.trim().split(" ")[0]:Be}_prependPathToReferences(Be){const rt=this._elementsWithExternalReferences;rt&&rt.forEach((ut,Ee)=>{ut.forEach(ht=>{Ee.setAttribute(ht.name,`url('${Be}#${ht.value}')`)})})}_cacheChildrenWithExternalReferences(Be){const rt=Be.querySelectorAll(gt),ut=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Ee=0;Ee<rt.length;Ee++)Et.forEach(ht=>{const Kt=rt[Ee],Bt=Kt.getAttribute(ht),ri=Bt?Bt.match(Nt):null;if(ri){let ot=ut.get(Kt);ot||(ot=[],ut.set(Kt,ot)),ot.push({name:ht,value:ri[1]})}})}_updateSvgIcon(Be){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),Be){const[rt,ut]=this._splitIconName(Be);rt&&(this._svgNamespace=rt),ut&&(this._svgName=ut),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(ut,rt).pipe((0,Xe.q)(1)).subscribe(Ee=>this._setSvgElement(Ee),Ee=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${rt}:${ut}! ${Ee.message}`))})}}}return Ct.\u0275fac=function(Be){return new(Be||Ct)(C.Y36(C.SBq),C.Y36(Ot),C.$8M("aria-hidden"),C.Y36(jn),C.Y36(C.qLn),C.Y36(pn,8))},Ct.\u0275cmp=C.Xpm({type:Ct,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(Be,rt){2&Be&&(C.uIk("data-mat-icon-type",rt._usingFontIcon()?"font":"svg")("data-mat-icon-name",rt._svgName||rt.fontIcon)("data-mat-icon-namespace",rt._svgNamespace||rt.fontSet)("fontIcon",rt._usingFontIcon()?rt.fontIcon:null),C.ekj("mat-icon-inline",rt.inline)("mat-icon-no-color","primary"!==rt.color&&"accent"!==rt.color&&"warn"!==rt.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[C.qOj],ngContentSelectors:Vt,decls:1,vars:0,template:function(Be,rt){1&Be&&(C.F$t(),C.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),Ct})(),ni=(()=>{class Ct{}return Ct.\u0275fac=function(Be){return new(Be||Ct)},Ct.\u0275mod=C.oAB({type:Ct}),Ct.\u0275inj=C.cJS({imports:[l.BQ,l.BQ]}),Ct})()},8525:(_i,pt,H)=>{"use strict";H.d(pt,{LD:()=>Kt,gD:()=>ht});var C=H(3651),l=H(6814),le=H(5879),v=H(3680),je=H(4170),ne=H(799),He=H(7849),Oe=H(9388),Ge=H(2495),Ve=H(8337),nt=H(6028),Fe=H(6223),et=H(8645),Xe=H(4911),ct=H(3019),bt=H(7921),Vt=H(4664),oi=H(8180),Ti=H(2181),Yt=H(7398),Le=H(3997),Ue=H(9773),Ae=H(6825);const It=["trigger"],Pt=["panel"];function Ot(Bt,ri){if(1&Bt&&(le.TgZ(0,"span",10),le._uU(1),le.qZA()),2&Bt){const ot=le.oxw();le.xp6(1),le.Oqu(ot.placeholder)}}function ui(Bt,ri){if(1&Bt&&(le.TgZ(0,"span",14),le._uU(1),le.qZA()),2&Bt){const ot=le.oxw(2);le.xp6(1),le.Oqu(ot.triggerValue)}}function ti(Bt,ri){1&Bt&&le.Hsn(0,0,["*ngSwitchCase","true"])}function Fi(Bt,ri){if(1&Bt&&(le.TgZ(0,"span",11),le.YNc(1,ui,2,1,"span",12),le.YNc(2,ti,1,0,"ng-content",13),le.qZA()),2&Bt){const ot=le.oxw();le.Q6J("ngSwitch",!!ot.customTrigger),le.xp6(2),le.Q6J("ngSwitchCase",!0)}}function Oi(Bt,ri){if(1&Bt){const ot=le.EpF();le.O4$(),le.kcU(),le.TgZ(0,"div",15,16),le.NdJ("@transformPanel.done",function(wi){le.CHM(ot);const vn=le.oxw();return le.KtG(vn._panelDoneAnimatingStream.next(wi.toState))})("keydown",function(wi){le.CHM(ot);const vn=le.oxw();return le.KtG(vn._handleKeydown(wi))}),le.Hsn(2,1),le.qZA()}if(2&Bt){const ot=le.oxw();le.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",ot._getPanelTheme(),""),le.Q6J("ngClass",ot.panelClass)("@transformPanel","showing"),le.uIk("id",ot.id+"-panel")("aria-multiselectable",ot.multiple)("aria-label",ot.ariaLabel||null)("aria-labelledby",ot._getPanelAriaLabelledby())}}const Tn=[[["mat-select-trigger"]],"*"],$n=["mat-select-trigger","*"],pn={transformPanelWrap:(0,Ae.X$)("transformPanelWrap",[(0,Ae.eR)("* => void",(0,Ae.IO)("@transformPanel",[(0,Ae.pV)()],{optional:!0}))]),transformPanel:(0,Ae.X$)("transformPanel",[(0,Ae.SB)("void",(0,Ae.oB)({opacity:0,transform:"scale(1, 0.8)"})),(0,Ae.eR)("void => showing",(0,Ae.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,Ae.oB)({opacity:1,transform:"scale(1, 1)"}))),(0,Ae.eR)("* => void",(0,Ae.jt)("100ms linear",(0,Ae.oB)({opacity:0})))])};let gt=0;const Nt=new le.OlP("mat-select-scroll-strategy"),ni=new le.OlP("MAT_SELECT_CONFIG"),Ct={provide:Nt,deps:[C.aV],useFactory:function zt(Bt){return()=>Bt.scrollStrategies.reposition()}},li=new le.OlP("MatSelectTrigger");class Be{constructor(ri,ot){this.source=ri,this.value=ot}}const rt=(0,v.Kr)((0,v.sb)((0,v.Id)((0,v.FD)(class{constructor(Bt,ri,ot,Dt,wi){this._elementRef=Bt,this._defaultErrorStateMatcher=ri,this._parentForm=ot,this._parentFormGroup=Dt,this.ngControl=wi,this.stateChanges=new et.x}}))));let ut=(()=>{class Bt extends rt{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(ot){this._placeholder=ot,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Fe.kI.required)??!1}set required(ot){this._required=(0,Ge.Ig)(ot),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(ot){this._multiple=(0,Ge.Ig)(ot)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(ot){this._disableOptionCentering=(0,Ge.Ig)(ot)}get compareWith(){return this._compareWith}set compareWith(ot){this._compareWith=ot,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(ot){this._assignValue(ot)&&this._onChange(ot)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(ot){this._typeaheadDebounceInterval=(0,Ge.su)(ot)}get id(){return this._id}set id(ot){this._id=ot||this._uid,this.stateChanges.next()}constructor(ot,Dt,wi,vn,Wi,Nn,Cn,ii,at,ae,Se,Pe,he,de){super(Wi,vn,Cn,ii,ae),this._viewportRuler=ot,this._changeDetectorRef=Dt,this._ngZone=wi,this._dir=Nn,this._parentFormField=at,this._liveAnnouncer=he,this._defaultOptions=de,this._panelOpen=!1,this._compareWith=(Re,xt)=>Re===xt,this._uid="mat-select-"+gt++,this._triggerAriaLabelledBy=null,this._destroy=new et.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+gt++,this._panelDoneAnimatingStream=new et.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,Xe.P)(()=>{const Re=this.options;return Re?Re.changes.pipe((0,bt.O)(Re),(0,Vt.w)(()=>(0,ct.T)(...Re.map(xt=>xt.onSelectionChange)))):this._ngZone.onStable.pipe((0,oi.q)(1),(0,Vt.w)(()=>this.optionSelectionChanges))}),this.openedChange=new le.vpe,this._openedStream=this.openedChange.pipe((0,Ti.h)(Re=>Re),(0,Yt.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,Ti.h)(Re=>!Re),(0,Yt.U)(()=>{})),this.selectionChange=new le.vpe,this.valueChange=new le.vpe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=de?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=de.typeaheadDebounceInterval),this._scrollStrategyFactory=Pe,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(Se)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Ve.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,Le.x)(),(0,Ue.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,Ue.R)(this._destroy)).subscribe(ot=>{ot.added.forEach(Dt=>Dt.select()),ot.removed.forEach(Dt=>Dt.deselect())}),this.options.changes.pipe((0,bt.O)(null),(0,Ue.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const ot=this._getTriggerAriaLabelledby(),Dt=this.ngControl;if(ot!==this._triggerAriaLabelledBy){const wi=this._elementRef.nativeElement;this._triggerAriaLabelledBy=ot,ot?wi.setAttribute("aria-labelledby",ot):wi.removeAttribute("aria-labelledby")}Dt&&(this._previousControl!==Dt.control&&(void 0!==this._previousControl&&null!==Dt.disabled&&Dt.disabled!==this.disabled&&(this.disabled=Dt.disabled),this._previousControl=Dt.control),this.updateErrorState())}ngOnChanges(ot){(ot.disabled||ot.userAriaDescribedBy)&&this.stateChanges.next(),ot.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const ot=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!ot)return;const Dt=`${this.id}-panel`;this._trackedModal&&(0,He.iD)(this._trackedModal,"aria-owns",Dt),(0,He.Zf)(ot,"aria-owns",Dt),this._trackedModal=ot}_clearFromModal(){this._trackedModal&&((0,He.iD)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(ot){this._assignValue(ot)}registerOnChange(ot){this._onChange=ot}registerOnTouched(ot){this._onTouched=ot}setDisabledState(ot){this.disabled=ot,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const ot=this._selectionModel.selected.map(Dt=>Dt.viewValue);return this._isRtl()&&ot.reverse(),ot.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(ot){this.disabled||(this.panelOpen?this._handleOpenKeydown(ot):this._handleClosedKeydown(ot))}_handleClosedKeydown(ot){const Dt=ot.keyCode,wi=Dt===nt.JH||Dt===nt.LH||Dt===nt.oh||Dt===nt.SV,vn=Dt===nt.K5||Dt===nt.L_,Wi=this._keyManager;if(!Wi.isTyping()&&vn&&!(0,nt.Vb)(ot)||(this.multiple||ot.altKey)&&wi)ot.preventDefault(),this.open();else if(!this.multiple){const Nn=this.selected;Wi.onKeydown(ot);const Cn=this.selected;Cn&&Nn!==Cn&&this._liveAnnouncer.announce(Cn.viewValue,1e4)}}_handleOpenKeydown(ot){const Dt=this._keyManager,wi=ot.keyCode,vn=wi===nt.JH||wi===nt.LH,Wi=Dt.isTyping();if(vn&&ot.altKey)ot.preventDefault(),this.close();else if(Wi||wi!==nt.K5&&wi!==nt.L_||!Dt.activeItem||(0,nt.Vb)(ot))if(!Wi&&this._multiple&&wi===nt.A&&ot.ctrlKey){ot.preventDefault();const Nn=this.options.some(Cn=>!Cn.disabled&&!Cn.selected);this.options.forEach(Cn=>{Cn.disabled||(Nn?Cn.select():Cn.deselect())})}else{const Nn=Dt.activeItemIndex;Dt.onKeydown(ot),this._multiple&&vn&&ot.shiftKey&&Dt.activeItem&&Dt.activeItemIndex!==Nn&&Dt.activeItem._selectViaInteraction()}else ot.preventDefault(),Dt.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,oi.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(ot){if(this.options.forEach(Dt=>Dt.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&ot)Array.isArray(ot),ot.forEach(Dt=>this._selectOptionByValue(Dt)),this._sortValues();else{const Dt=this._selectOptionByValue(ot);Dt?this._keyManager.updateActiveItem(Dt):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(ot){const Dt=this.options.find(wi=>{if(this._selectionModel.isSelected(wi))return!1;try{return null!=wi.value&&this._compareWith(wi.value,ot)}catch{return!1}});return Dt&&this._selectionModel.select(Dt),Dt}_assignValue(ot){return!!(ot!==this._value||this._multiple&&Array.isArray(ot))&&(this.options&&this._setSelectionByValue(ot),this._value=ot,!0)}_skipPredicate(ot){return ot.disabled}_initKeyManager(){this._keyManager=new He.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const ot=(0,ct.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,Ue.R)(ot)).subscribe(Dt=>{this._onSelect(Dt.source,Dt.isUserInput),Dt.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,ct.T)(...this.options.map(Dt=>Dt._stateChanges)).pipe((0,Ue.R)(ot)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(ot,Dt){const wi=this._selectionModel.isSelected(ot);null!=ot.value||this._multiple?(wi!==ot.selected&&(ot.selected?this._selectionModel.select(ot):this._selectionModel.deselect(ot)),Dt&&this._keyManager.setActiveItem(ot),this.multiple&&(this._sortValues(),Dt&&this.focus())):(ot.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(ot.value)),wi!==this._selectionModel.isSelected(ot)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const ot=this.options.toArray();this._selectionModel.sort((Dt,wi)=>this.sortComparator?this.sortComparator(Dt,wi,ot):ot.indexOf(Dt)-ot.indexOf(wi)),this.stateChanges.next()}}_propagateChanges(ot){let Dt=null;Dt=this.multiple?this.selected.map(wi=>wi.value):this.selected?this.selected.value:ot,this._value=Dt,this.valueChange.emit(Dt),this._onChange(Dt),this.selectionChange.emit(this._getChangeEvent(Dt)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let ot=-1;for(let Dt=0;Dt<this.options.length;Dt++)if(!this.options.get(Dt).disabled){ot=Dt;break}this._keyManager.setActiveItem(ot)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(ot){this._elementRef.nativeElement.focus(ot)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const ot=this._parentFormField?.getLabelId();return this.ariaLabelledby?(ot?ot+" ":"")+this.ariaLabelledby:ot}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const ot=this._parentFormField?.getLabelId();let Dt=(ot?ot+" ":"")+this._valueId;return this.ariaLabelledby&&(Dt+=" "+this.ariaLabelledby),Dt}_panelDoneAnimating(ot){this.openedChange.emit(ot)}setDescribedByIds(ot){ot.length?this._elementRef.nativeElement.setAttribute("aria-describedby",ot.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return Bt.\u0275fac=function(ot){return new(ot||Bt)(le.Y36(ne.rL),le.Y36(le.sBO),le.Y36(le.R0b),le.Y36(v.rD),le.Y36(le.SBq),le.Y36(Oe.Is,8),le.Y36(Fe.F,8),le.Y36(Fe.sg,8),le.Y36(je.G_,8),le.Y36(Fe.a5,10),le.$8M("tabindex"),le.Y36(Nt),le.Y36(He.Kd),le.Y36(ni,8))},Bt.\u0275dir=le.lG2({type:Bt,viewQuery:function(ot,Dt){if(1&ot&&(le.Gf(It,5),le.Gf(Pt,5),le.Gf(C.pI,5)),2&ot){let wi;le.iGM(wi=le.CRH())&&(Dt.trigger=wi.first),le.iGM(wi=le.CRH())&&(Dt.panel=wi.first),le.iGM(wi=le.CRH())&&(Dt._overlayDir=wi.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[le.qOj,le.TTD]}),Bt})(),ht=(()=>{class Bt extends ut{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=ot=>!this.panelOpen&&ot.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,Ue.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(ot){const Dt=this.options.toArray()[ot];if(Dt){const wi=this.panel.nativeElement,vn=(0,v.CB)(ot,this.options,this.optionGroups),Wi=Dt._getHostElement();wi.scrollTop=0===ot&&1===vn?0:(0,v.jH)(Wi.offsetTop,Wi.offsetHeight,wi.scrollTop,wi.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(ot){return new Be(this,ot)}_getOverlayWidth(ot){return"auto"===this.panelWidth?(ot instanceof C.xu?ot.elementRef:ot||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(ot){this._hideSingleSelectionIndicator=(0,Ge.Ig)(ot),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const ot of this.options)ot._changeDetectorRef.markForCheck()}}return Bt.\u0275fac=function(){let ri;return function(Dt){return(ri||(ri=le.n5z(Bt)))(Dt||Bt)}}(),Bt.\u0275cmp=le.Xpm({type:Bt,selectors:[["mat-select"]],contentQueries:function(ot,Dt,wi){if(1&ot&&(le.Suo(wi,li,5),le.Suo(wi,v.ey,5),le.Suo(wi,v.K7,5)),2&ot){let vn;le.iGM(vn=le.CRH())&&(Dt.customTrigger=vn.first),le.iGM(vn=le.CRH())&&(Dt.options=vn),le.iGM(vn=le.CRH())&&(Dt.optionGroups=vn)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(ot,Dt){1&ot&&le.NdJ("keydown",function(vn){return Dt._handleKeydown(vn)})("focus",function(){return Dt._onFocus()})("blur",function(){return Dt._onBlur()}),2&ot&&(le.uIk("id",Dt.id)("tabindex",Dt.tabIndex)("aria-controls",Dt.panelOpen?Dt.id+"-panel":null)("aria-expanded",Dt.panelOpen)("aria-label",Dt.ariaLabel||null)("aria-required",Dt.required.toString())("aria-disabled",Dt.disabled.toString())("aria-invalid",Dt.errorState)("aria-activedescendant",Dt._getAriaActiveDescendant()),le.ekj("mat-mdc-select-disabled",Dt.disabled)("mat-mdc-select-invalid",Dt.errorState)("mat-mdc-select-required",Dt.required)("mat-mdc-select-empty",Dt.empty)("mat-mdc-select-multiple",Dt.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[le._Bn([{provide:je.Eo,useExisting:Bt},{provide:v.HF,useExisting:Bt}]),le.qOj],ngContentSelectors:$n,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(ot,Dt){if(1&ot&&(le.F$t(Tn),le.TgZ(0,"div",0,1),le.NdJ("click",function(){return Dt.toggle()}),le.TgZ(3,"div",2),le.YNc(4,Ot,2,1,"span",3),le.YNc(5,Fi,3,2,"span",4),le.qZA(),le.TgZ(6,"div",5)(7,"div",6),le.O4$(),le.TgZ(8,"svg",7),le._UZ(9,"path",8),le.qZA()()()(),le.YNc(10,Oi,3,9,"ng-template",9),le.NdJ("backdropClick",function(){return Dt.close()})("attach",function(){return Dt._onAttached()})("detach",function(){return Dt.close()})),2&ot){const wi=le.MAs(1);le.xp6(3),le.Q6J("ngSwitch",Dt.empty),le.uIk("id",Dt._valueId),le.xp6(1),le.Q6J("ngSwitchCase",!0),le.xp6(1),le.Q6J("ngSwitchCase",!1),le.xp6(5),le.Q6J("cdkConnectedOverlayPanelClass",Dt._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",Dt._scrollStrategy)("cdkConnectedOverlayOrigin",Dt._preferredOverlayOrigin||wi)("cdkConnectedOverlayOpen",Dt.panelOpen)("cdkConnectedOverlayPositions",Dt._positions)("cdkConnectedOverlayWidth",Dt._overlayWidth)}},dependencies:[l.mk,l.RF,l.n9,l.ED,C.pI,C.xu],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[pn.transformPanel]},changeDetection:0}),Bt})(),Kt=(()=>{class Bt{}return Bt.\u0275fac=function(ot){return new(ot||Bt)},Bt.\u0275mod=le.oAB({type:Bt}),Bt.\u0275inj=le.cJS({providers:[Ct],imports:[l.ez,C.U8,v.Ng,v.BQ,ne.ZD,je.lN,v.Ng,v.BQ]}),Bt})()},1274:(_i,pt,H)=>{"use strict";H.d(pt,{Ye:()=>Ge,g0:()=>nt});var C=H(5879),l=H(3680),le=H(2831),v=H(6814);const je=["*",[["mat-toolbar-row"]]],ne=["*","mat-toolbar-row"],He=(0,l.pj)(class{constructor(Fe){this._elementRef=Fe}});let Oe=(()=>{class Fe{}return Fe.\u0275fac=function(Xe){return new(Xe||Fe)},Fe.\u0275dir=C.lG2({type:Fe,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),Fe})(),Ge=(()=>{class Fe extends He{constructor(Xe,ct,bt){super(Xe),this._platform=ct,this._document=bt}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return Fe.\u0275fac=function(Xe){return new(Xe||Fe)(C.Y36(C.SBq),C.Y36(le.t4),C.Y36(v.K0))},Fe.\u0275cmp=C.Xpm({type:Fe,selectors:[["mat-toolbar"]],contentQueries:function(Xe,ct,bt){if(1&Xe&&C.Suo(bt,Oe,5),2&Xe){let Vt;C.iGM(Vt=C.CRH())&&(ct._toolbarRows=Vt)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(Xe,ct){2&Xe&&C.ekj("mat-toolbar-multiple-rows",ct._toolbarRows.length>0)("mat-toolbar-single-row",0===ct._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[C.qOj],ngContentSelectors:ne,decls:2,vars:0,template:function(Xe,ct){1&Xe&&(C.F$t(je),C.Hsn(0),C.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),Fe})(),nt=(()=>{class Fe{}return Fe.\u0275fac=function(Xe){return new(Xe||Fe)},Fe.\u0275mod=C.oAB({type:Fe}),Fe.\u0275inj=C.cJS({imports:[l.BQ,l.BQ]}),Fe})()},6593:(_i,pt,H)=>{"use strict";H.d(pt,{Dx:()=>Nn,H7:()=>Qi,b2:()=>ot,q6:()=>ht,se:()=>Ot});var C=H(5879),l=H(6814);class le extends l.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class v extends le{static makeCurrent(){(0,l.HT)(new v)}onAndCancel(se,X,me){return se.addEventListener(X,me),()=>{se.removeEventListener(X,me)}}dispatchEvent(se,X){se.dispatchEvent(X)}remove(se){se.parentNode&&se.parentNode.removeChild(se)}createElement(se,X){return(X=X||this.getDefaultDocument()).createElement(se)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(se){return se.nodeType===Node.ELEMENT_NODE}isShadowRoot(se){return se instanceof DocumentFragment}getGlobalEventTarget(se,X){return"window"===X?window:"document"===X?se:"body"===X?se.body:null}getBaseHref(se){const X=function ne(){return je=je||document.querySelector("base"),je?je.getAttribute("href"):null}();return null==X?null:function Oe(ge){He=He||document.createElement("a"),He.setAttribute("href",ge);const se=He.pathname;return"/"===se.charAt(0)?se:`/${se}`}(X)}resetBaseElement(){je=null}getUserAgent(){return window.navigator.userAgent}getCookie(se){return(0,l.Mx)(document.cookie,se)}}let He,je=null,Ve=(()=>{class ge{build(){return new XMLHttpRequest}}return ge.\u0275fac=function(X){return new(X||ge)},ge.\u0275prov=C.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const nt=new C.OlP("EventManagerPlugins");let Fe=(()=>{class ge{constructor(X,me){this._zone=me,this._eventNameToPlugin=new Map,X.forEach(Je=>{Je.manager=this}),this._plugins=X.slice().reverse()}addEventListener(X,me,Je){return this._findPluginFor(me).addEventListener(X,me,Je)}getZone(){return this._zone}_findPluginFor(X){let me=this._eventNameToPlugin.get(X);if(me)return me;if(me=this._plugins.find(lt=>lt.supports(X)),!me)throw new C.vHH(5101,!1);return this._eventNameToPlugin.set(X,me),me}}return ge.\u0275fac=function(X){return new(X||ge)(C.LFG(nt),C.LFG(C.R0b))},ge.\u0275prov=C.Yz7({token:ge,factory:ge.\u0275fac}),ge})();class et{constructor(se){this._doc=se}}const Xe="ng-app-id";let ct=(()=>{class ge{constructor(X,me,Je,lt={}){this.doc=X,this.appId=me,this.nonce=Je,this.platformId=lt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,l.PM)(lt),this.resetHostNodes()}addStyles(X){for(const me of X)1===this.changeUsageCount(me,1)&&this.onStyleAdded(me)}removeStyles(X){for(const me of X)this.changeUsageCount(me,-1)<=0&&this.onStyleRemoved(me)}ngOnDestroy(){const X=this.styleNodesInDOM;X&&(X.forEach(me=>me.remove()),X.clear());for(const me of this.getAllStyles())this.onStyleRemoved(me);this.resetHostNodes()}addHost(X){this.hostNodes.add(X);for(const me of this.getAllStyles())this.addStyleToHost(X,me)}removeHost(X){this.hostNodes.delete(X)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(X){for(const me of this.hostNodes)this.addStyleToHost(me,X)}onStyleRemoved(X){const me=this.styleRef;me.get(X)?.elements?.forEach(Je=>Je.remove()),me.delete(X)}collectServerRenderedStyles(){const X=this.doc.head?.querySelectorAll(`style[${Xe}="${this.appId}"]`);if(X?.length){const me=new Map;return X.forEach(Je=>{null!=Je.textContent&&me.set(Je.textContent,Je)}),me}return null}changeUsageCount(X,me){const Je=this.styleRef;if(Je.has(X)){const lt=Je.get(X);return lt.usage+=me,lt.usage}return Je.set(X,{usage:me,elements:[]}),me}getStyleElement(X,me){const Je=this.styleNodesInDOM,lt=Je?.get(me);if(lt?.parentNode===X)return Je.delete(me),lt.removeAttribute(Xe),lt;{const xe=this.doc.createElement("style");return this.nonce&&xe.setAttribute("nonce",this.nonce),xe.textContent=me,this.platformIsServer&&xe.setAttribute(Xe,this.appId),xe}}addStyleToHost(X,me){const Je=this.getStyleElement(X,me);X.appendChild(Je);const lt=this.styleRef,xe=lt.get(me)?.elements;xe?xe.push(Je):lt.set(me,{elements:[Je],usage:1})}resetHostNodes(){const X=this.hostNodes;X.clear(),X.add(this.doc.head)}}return ge.\u0275fac=function(X){return new(X||ge)(C.LFG(l.K0),C.LFG(C.AFp),C.LFG(C.Ojb,8),C.LFG(C.Lbi))},ge.\u0275prov=C.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const bt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vt=/%COMP%/g,Ue=new C.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Pt(ge,se){return se.map(X=>X.replace(Vt,ge))}let Ot=(()=>{class ge{constructor(X,me,Je,lt,xe,Ie,ue,De=null){this.eventManager=X,this.sharedStylesHost=me,this.appId=Je,this.removeStylesOnCompDestroy=lt,this.doc=xe,this.platformId=Ie,this.ngZone=ue,this.nonce=De,this.rendererByCompId=new Map,this.platformIsServer=(0,l.PM)(Ie),this.defaultRenderer=new ui(X,xe,ue,this.platformIsServer)}createRenderer(X,me){if(!X||!me)return this.defaultRenderer;this.platformIsServer&&me.encapsulation===C.ifc.ShadowDom&&(me={...me,encapsulation:C.ifc.Emulated});const Je=this.getOrCreateRenderer(X,me);return Je instanceof pn?Je.applyToHost(X):Je instanceof $n&&Je.applyStyles(),Je}getOrCreateRenderer(X,me){const Je=this.rendererByCompId;let lt=Je.get(me.id);if(!lt){const xe=this.doc,Ie=this.ngZone,ue=this.eventManager,De=this.sharedStylesHost,Qe=this.removeStylesOnCompDestroy,Tt=this.platformIsServer;switch(me.encapsulation){case C.ifc.Emulated:lt=new pn(ue,De,me,this.appId,Qe,xe,Ie,Tt);break;case C.ifc.ShadowDom:return new Tn(ue,De,X,me,xe,Ie,this.nonce,Tt);default:lt=new $n(ue,De,me,Qe,xe,Ie,Tt)}lt.onDestroy=()=>Je.delete(me.id),Je.set(me.id,lt)}return lt}ngOnDestroy(){this.rendererByCompId.clear()}}return ge.\u0275fac=function(X){return new(X||ge)(C.LFG(Fe),C.LFG(ct),C.LFG(C.AFp),C.LFG(Ue),C.LFG(l.K0),C.LFG(C.Lbi),C.LFG(C.R0b),C.LFG(C.Ojb))},ge.\u0275prov=C.Yz7({token:ge,factory:ge.\u0275fac}),ge})();class ui{constructor(se,X,me,Je){this.eventManager=se,this.doc=X,this.ngZone=me,this.platformIsServer=Je,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(se,X){return X?this.doc.createElementNS(bt[X]||X,se):this.doc.createElement(se)}createComment(se){return this.doc.createComment(se)}createText(se){return this.doc.createTextNode(se)}appendChild(se,X){(Oi(se)?se.content:se).appendChild(X)}insertBefore(se,X,me){se&&(Oi(se)?se.content:se).insertBefore(X,me)}removeChild(se,X){se&&se.removeChild(X)}selectRootElement(se,X){let me="string"==typeof se?this.doc.querySelector(se):se;if(!me)throw new C.vHH(-5104,!1);return X||(me.textContent=""),me}parentNode(se){return se.parentNode}nextSibling(se){return se.nextSibling}setAttribute(se,X,me,Je){if(Je){X=Je+":"+X;const lt=bt[Je];lt?se.setAttributeNS(lt,X,me):se.setAttribute(X,me)}else se.setAttribute(X,me)}removeAttribute(se,X,me){if(me){const Je=bt[me];Je?se.removeAttributeNS(Je,X):se.removeAttribute(`${me}:${X}`)}else se.removeAttribute(X)}addClass(se,X){se.classList.add(X)}removeClass(se,X){se.classList.remove(X)}setStyle(se,X,me,Je){Je&(C.JOm.DashCase|C.JOm.Important)?se.style.setProperty(X,me,Je&C.JOm.Important?"important":""):se.style[X]=me}removeStyle(se,X,me){me&C.JOm.DashCase?se.style.removeProperty(X):se.style[X]=""}setProperty(se,X,me){se[X]=me}setValue(se,X){se.nodeValue=X}listen(se,X,me){if("string"==typeof se&&!(se=(0,l.q)().getGlobalEventTarget(this.doc,se)))throw new Error(`Unsupported event target ${se} for event ${X}`);return this.eventManager.addEventListener(se,X,this.decoratePreventDefault(me))}decoratePreventDefault(se){return X=>{if("__ngUnwrap__"===X)return se;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>se(X)):se(X))&&X.preventDefault()}}}function Oi(ge){return"TEMPLATE"===ge.tagName&&void 0!==ge.content}class Tn extends ui{constructor(se,X,me,Je,lt,xe,Ie,ue){super(se,lt,xe,ue),this.sharedStylesHost=X,this.hostEl=me,this.shadowRoot=me.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const De=Pt(Je.id,Je.styles);for(const Qe of De){const Tt=document.createElement("style");Ie&&Tt.setAttribute("nonce",Ie),Tt.textContent=Qe,this.shadowRoot.appendChild(Tt)}}nodeOrShadowRoot(se){return se===this.hostEl?this.shadowRoot:se}appendChild(se,X){return super.appendChild(this.nodeOrShadowRoot(se),X)}insertBefore(se,X,me){return super.insertBefore(this.nodeOrShadowRoot(se),X,me)}removeChild(se,X){return super.removeChild(this.nodeOrShadowRoot(se),X)}parentNode(se){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(se)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class $n extends ui{constructor(se,X,me,Je,lt,xe,Ie,ue){super(se,lt,xe,Ie),this.sharedStylesHost=X,this.removeStylesOnCompDestroy=Je,this.rendererUsageCount=0,this.styles=ue?Pt(ue,me.styles):me.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestroy&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class pn extends $n{constructor(se,X,me,Je,lt,xe,Ie,ue){const De=Je+"-"+me.id;super(se,X,me,lt,xe,Ie,ue,De),this.contentAttr=function Ae(ge){return"_ngcontent-%COMP%".replace(Vt,ge)}(De),this.hostAttr=function It(ge){return"_nghost-%COMP%".replace(Vt,ge)}(De)}applyToHost(se){this.applyStyles(),this.setAttribute(se,this.hostAttr,"")}createElement(se,X){const me=super.createElement(se,X);return super.setAttribute(me,this.contentAttr,""),me}}let jn=(()=>{class ge extends et{constructor(X){super(X)}supports(X){return!0}addEventListener(X,me,Je){return X.addEventListener(me,Je,!1),()=>this.removeEventListener(X,me,Je)}removeEventListener(X,me,Je){return X.removeEventListener(me,Je)}}return ge.\u0275fac=function(X){return new(X||ge)(C.LFG(l.K0))},ge.\u0275prov=C.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const In=["alt","control","meta","shift"],Et={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gt={alt:ge=>ge.altKey,control:ge=>ge.ctrlKey,meta:ge=>ge.metaKey,shift:ge=>ge.shiftKey};let Nt=(()=>{class ge extends et{constructor(X){super(X)}supports(X){return null!=ge.parseEventName(X)}addEventListener(X,me,Je){const lt=ge.parseEventName(me),xe=ge.eventCallback(lt.fullKey,Je,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,l.q)().onAndCancel(X,lt.domEventName,xe))}static parseEventName(X){const me=X.toLowerCase().split("."),Je=me.shift();if(0===me.length||"keydown"!==Je&&"keyup"!==Je)return null;const lt=ge._normalizeKey(me.pop());let xe="",Ie=me.indexOf("code");if(Ie>-1&&(me.splice(Ie,1),xe="code."),In.forEach(De=>{const Qe=me.indexOf(De);Qe>-1&&(me.splice(Qe,1),xe+=De+".")}),xe+=lt,0!=me.length||0===lt.length)return null;const ue={};return ue.domEventName=Je,ue.fullKey=xe,ue}static matchEventFullKeyCode(X,me){let Je=Et[X.key]||X.key,lt="";return me.indexOf("code.")>-1&&(Je=X.code,lt="code."),!(null==Je||!Je)&&(Je=Je.toLowerCase()," "===Je?Je="space":"."===Je&&(Je="dot"),In.forEach(xe=>{xe!==Je&&(0,gt[xe])(X)&&(lt+=xe+".")}),lt+=Je,lt===me)}static eventCallback(X,me,Je){return lt=>{ge.matchEventFullKeyCode(lt,X)&&Je.runGuarded(()=>me(lt))}}static _normalizeKey(X){return"esc"===X?"escape":X}}return ge.\u0275fac=function(X){return new(X||ge)(C.LFG(l.K0))},ge.\u0275prov=C.Yz7({token:ge,factory:ge.\u0275fac}),ge})();const ht=(0,C.eFA)(C._c5,"browser",[{provide:C.Lbi,useValue:l.bD},{provide:C.g9A,useValue:function Be(){v.makeCurrent()},multi:!0},{provide:l.K0,useFactory:function ut(){return(0,C.RDi)(document),document},deps:[]}]),Kt=new C.OlP(""),Bt=[{provide:C.rWj,useClass:class Ge{addToWindow(se){C.dqk.getAngularTestability=(me,Je=!0)=>{const lt=se.findTestabilityInTree(me,Je);if(null==lt)throw new C.vHH(5103,!1);return lt},C.dqk.getAllAngularTestabilities=()=>se.getAllTestabilities(),C.dqk.getAllAngularRootElements=()=>se.getAllRootElements(),C.dqk.frameworkStabilizers||(C.dqk.frameworkStabilizers=[]),C.dqk.frameworkStabilizers.push(me=>{const Je=C.dqk.getAllAngularTestabilities();let lt=Je.length,xe=!1;const Ie=function(ue){xe=xe||ue,lt--,0==lt&&me(xe)};Je.forEach(ue=>{ue.whenStable(Ie)})})}findTestabilityInTree(se,X,me){return null==X?null:se.getTestability(X)??(me?(0,l.q)().isShadowRoot(X)?this.findTestabilityInTree(se,X.host,!0):this.findTestabilityInTree(se,X.parentElement,!0):null)}},deps:[]},{provide:C.lri,useClass:C.dDg,deps:[C.R0b,C.eoX,C.rWj]},{provide:C.dDg,useClass:C.dDg,deps:[C.R0b,C.eoX,C.rWj]}],ri=[{provide:C.zSh,useValue:"root"},{provide:C.qLn,useFactory:function rt(){return new C.qLn},deps:[]},{provide:nt,useClass:jn,multi:!0,deps:[l.K0,C.R0b,C.Lbi]},{provide:nt,useClass:Nt,multi:!0,deps:[l.K0]},Ot,ct,Fe,{provide:C.FYo,useExisting:Ot},{provide:l.JF,useClass:Ve,deps:[]},[]];let ot=(()=>{class ge{constructor(X){}static withServerTransition(X){return{ngModule:ge,providers:[{provide:C.AFp,useValue:X.appId}]}}}return ge.\u0275fac=function(X){return new(X||ge)(C.LFG(Kt,12))},ge.\u0275mod=C.oAB({type:ge}),ge.\u0275inj=C.cJS({providers:[...ri,...Bt],imports:[l.ez,C.hGG]}),ge})(),Nn=(()=>{class ge{constructor(X){this._doc=X}getTitle(){return this._doc.title}setTitle(X){this._doc.title=X||""}}return ge.\u0275fac=function(X){return new(X||ge)(C.LFG(l.K0))},ge.\u0275prov=C.Yz7({token:ge,factory:function(X){let me=null;return me=X?new X:function Wi(){return new Nn((0,C.LFG)(l.K0))}(),me},providedIn:"root"}),ge})();typeof window<"u"&&window;let Qi=(()=>{class ge{}return ge.\u0275fac=function(X){return new(X||ge)},ge.\u0275prov=C.Yz7({token:ge,factory:function(X){let me=null;return me=X?new(X||ge):C.LFG(At),me},providedIn:"root"}),ge})(),At=(()=>{class ge extends Qi{constructor(X){super(),this._doc=X}sanitize(X,me){if(null==me)return null;switch(X){case C.q3G.NONE:return me;case C.q3G.HTML:return(0,C.qzn)(me,"HTML")?(0,C.z3N)(me):(0,C.EiD)(this._doc,String(me)).toString();case C.q3G.STYLE:return(0,C.qzn)(me,"Style")?(0,C.z3N)(me):me;case C.q3G.SCRIPT:if((0,C.qzn)(me,"Script"))return(0,C.z3N)(me);throw new C.vHH(5200,!1);case C.q3G.URL:return(0,C.qzn)(me,"URL")?(0,C.z3N)(me):(0,C.mCW)(String(me));case C.q3G.RESOURCE_URL:if((0,C.qzn)(me,"ResourceURL"))return(0,C.z3N)(me);throw new C.vHH(5201,!1);default:throw new C.vHH(5202,!1)}}bypassSecurityTrustHtml(X){return(0,C.JVY)(X)}bypassSecurityTrustStyle(X){return(0,C.L6k)(X)}bypassSecurityTrustScript(X){return(0,C.eBb)(X)}bypassSecurityTrustUrl(X){return(0,C.LAX)(X)}bypassSecurityTrustResourceUrl(X){return(0,C.pB0)(X)}}return ge.\u0275fac=function(X){return new(X||ge)(C.LFG(l.K0))},ge.\u0275prov=C.Yz7({token:ge,factory:function(X){let me=null;return me=X?new X:function Vi(ge){return new At(ge.get(l.K0))}(C.LFG(C.zs3)),me},providedIn:"root"}),ge})()},8184:(_i,pt,H)=>{"use strict";H.d(pt,{gz:()=>Pn,F0:()=>ir,rH:()=>ps,Od:()=>hn,Bz:()=>Tl,lC:()=>Lo});var C=H(5879),l=H(5592),le=H(4674),je=H(7715),ne=H(2096),He=H(5619),Oe=H(2572),Ge=H(6973),Ve=H(5211),nt=H(4911),Fe=H(8407),et=H(8504),Xe=H(6232),ct=H(7394),bt=H(9360),Vt=H(8251);function oi(){return(0,bt.e)((f,b)=>{let _=null;f._refCount++;const D=(0,Vt.x)(b,void 0,void 0,void 0,()=>{if(!f||f._refCount<=0||0<--f._refCount)return void(_=null);const k=f._connection,R=_;_=null,k&&(!R||k===R)&&k.unsubscribe(),b.unsubscribe()});f.subscribe(D),D.closed||(_=f.connect())})}class Ti extends l.y{constructor(b,_){super(),this.source=b,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,bt.A)(b)&&(this.lift=b.lift)}_subscribe(b){return this.getSubject().subscribe(b)}getSubject(){const b=this._subject;return(!b||b.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:b}=this;this._subject=this._connection=null,b?.unsubscribe()}connect(){let b=this._connection;if(!b){b=this._connection=new ct.w0;const _=this.getSubject();b.add(this.source.subscribe((0,Vt.x)(_,void 0,()=>{this._teardown(),_.complete()},D=>{this._teardown(),_.error(D)},()=>this._teardown()))),b.closed&&(this._connection=null,b=ct.w0.EMPTY)}return b}refCount(){return oi()(this)}}var Yt=H(8645),Le=H(6814),Ue=H(7398),Ae=H(4664),It=H(8180),Pt=H(7921),Ot=H(2181),ui=H(1631),ti=H(1374),Fi=H(6328),Oi=H(9397),Tn=H(6306);var jn=H(3572);function In(f){return f<=0?()=>Xe.E:(0,bt.e)((b,_)=>{let D=[];b.subscribe((0,Vt.x)(_,k=>{D.push(k),f<D.length&&D.shift()},()=>{for(const k of D)_.next(k);_.complete()},void 0,()=>{D=null}))})}var Et=H(3026),gt=H(2737),zt=H(975),ni=H(4716),Ct=H(7537),li=H(6593);const Be="primary",rt=Symbol("RouteTitle");class ut{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const _=this.params[b];return Array.isArray(_)?_[0]:_}return null}getAll(b){if(this.has(b)){const _=this.params[b];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function Ee(f){return new ut(f)}function ht(f,b,_){const D=_.path.split("/");if(D.length>f.length||"full"===_.pathMatch&&(b.hasChildren()||D.length<f.length))return null;const k={};for(let R=0;R<D.length;R++){const z=D[R],ee=f[R];if(z.startsWith(":"))k[z.substring(1)]=ee;else if(z!==ee.path)return null}return{consumed:f.slice(0,D.length),posParams:k}}function Bt(f,b){const _=f?Object.keys(f):void 0,D=b?Object.keys(b):void 0;if(!_||!D||_.length!=D.length)return!1;let k;for(let R=0;R<_.length;R++)if(k=_[R],!ri(f[k],b[k]))return!1;return!0}function ri(f,b){if(Array.isArray(f)&&Array.isArray(b)){if(f.length!==b.length)return!1;const _=[...f].sort(),D=[...b].sort();return _.every((k,R)=>D[R]===k)}return f===b}function ot(f){return f.length>0?f[f.length-1]:null}function Dt(f){return function v(f){return!!f&&(f instanceof l.y||(0,le.m)(f.lift)&&(0,le.m)(f.subscribe))}(f)?f:(0,C.QGY)(f)?(0,je.D)(Promise.resolve(f)):(0,ne.of)(f)}const wi={exact:function Cn(f,b,_){if(!xt(f.segments,b.segments)||!Se(f.segments,b.segments,_)||f.numberOfChildren!==b.numberOfChildren)return!1;for(const D in b.children)if(!f.children[D]||!Cn(f.children[D],b.children[D],_))return!1;return!0},subset:at},vn={exact:function Nn(f,b){return Bt(f,b)},subset:function ii(f,b){return Object.keys(b).length<=Object.keys(f).length&&Object.keys(b).every(_=>ri(f[_],b[_]))},ignored:()=>!0};function Wi(f,b,_){return wi[_.paths](f.root,b.root,_.matrixParams)&&vn[_.queryParams](f.queryParams,b.queryParams)&&!("exact"===_.fragment&&f.fragment!==b.fragment)}function at(f,b,_){return ae(f,b,b.segments,_)}function ae(f,b,_,D){if(f.segments.length>_.length){const k=f.segments.slice(0,_.length);return!(!xt(k,_)||b.hasChildren()||!Se(k,_,D))}if(f.segments.length===_.length){if(!xt(f.segments,_)||!Se(f.segments,_,D))return!1;for(const k in b.children)if(!f.children[k]||!at(f.children[k],b.children[k],D))return!1;return!0}{const k=_.slice(0,f.segments.length),R=_.slice(f.segments.length);return!!(xt(f.segments,k)&&Se(f.segments,k,D)&&f.children[Be])&&ae(f.children[Be],b,R,D)}}function Se(f,b,_){return b.every((D,k)=>vn[_](f[k].parameters,D.parameters))}class Pe{constructor(b=new he([],{}),_={},D=null){this.root=b,this.queryParams=_,this.fragment=D}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ee(this.queryParams)),this._queryParamMap}toString(){return pi.serialize(this)}}class he{constructor(b,_){this.segments=b,this.children=_,this.parent=null,Object.values(_).forEach(D=>D.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return en(this)}}class de{constructor(b,_){this.path=b,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=Ee(this.parameters)),this._parameterMap}toString(){return B(this)}}function xt(f,b){return f.length===b.length&&f.every((_,D)=>_.path===b[D].path)}let Lt=(()=>{class f{}return f.\u0275fac=function(_){return new(_||f)},f.\u0275prov=C.Yz7({token:f,factory:function(){return new yi},providedIn:"root"}),f})();class yi{parse(b){const _=new xe(b);return new Pe(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(b){const _=`/${nn(b.root,!0)}`,D=function ie(f){const b=Object.keys(f).map(_=>{const D=f[_];return Array.isArray(D)?D.map(k=>`${Vi(_)}=${Vi(k)}`).join("&"):`${Vi(_)}=${Vi(D)}`}).filter(_=>!!_);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${_}${D}${"string"==typeof b.fragment?`#${function At(f){return encodeURI(f)}(b.fragment)}`:""}`}}const pi=new yi;function en(f){return f.segments.map(b=>B(b)).join("/")}function nn(f,b){if(!f.hasChildren())return en(f);if(b){const _=f.children[Be]?nn(f.children[Be],!1):"",D=[];return Object.entries(f.children).forEach(([k,R])=>{k!==Be&&D.push(`${k}:${nn(R,!1)}`)}),D.length>0?`${_}(${D.join("//")})`:_}{const _=function Jt(f,b){let _=[];return Object.entries(f.children).forEach(([D,k])=>{D===Be&&(_=_.concat(b(k,D)))}),Object.entries(f.children).forEach(([D,k])=>{D!==Be&&(_=_.concat(b(k,D)))}),_}(f,(D,k)=>k===Be?[nn(f.children[Be],!1)]:[`${k}:${nn(D,!1)}`]);return 1===Object.keys(f.children).length&&null!=f.children[Be]?`${en(f)}/${_[0]}`:`${en(f)}/(${_.join("//")})`}}function Qi(f){return encodeURIComponent(f).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vi(f){return Qi(f).replace(/%3B/gi,";")}function ci(f){return Qi(f).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vt(f){return decodeURIComponent(f)}function q(f){return vt(f.replace(/\+/g,"%20"))}function B(f){return`${ci(f.path)}${function j(f){return Object.keys(f).map(b=>`;${ci(b)}=${ci(f[b])}`).join("")}(f.parameters)}`}const _e=/^[^\/()?;#]+/;function ke(f){const b=f.match(_e);return b?b[0]:""}const ge=/^[^\/()?;=#]+/,X=/^[^=?&#]+/,Je=/^[^&#]+/;class xe{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new he([],{}):new he([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let D={};return this.peekStartsWith("(")&&(D=this.parseParens(!1)),(b.length>0||Object.keys(_).length>0)&&(D[Be]=new he(b,_)),D}parseSegment(){const b=ke(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new C.vHH(4009,!1);return this.capture(b),new de(vt(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const _=function se(f){const b=f.match(ge);return b?b[0]:""}(this.remaining);if(!_)return;this.capture(_);let D="";if(this.consumeOptional("=")){const k=ke(this.remaining);k&&(D=k,this.capture(D))}b[vt(_)]=vt(D)}parseQueryParam(b){const _=function me(f){const b=f.match(X);return b?b[0]:""}(this.remaining);if(!_)return;this.capture(_);let D="";if(this.consumeOptional("=")){const z=function lt(f){const b=f.match(Je);return b?b[0]:""}(this.remaining);z&&(D=z,this.capture(D))}const k=q(_),R=q(D);if(b.hasOwnProperty(k)){let z=b[k];Array.isArray(z)||(z=[z],b[k]=z),z.push(R)}else b[k]=R}parseParens(b){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const D=ke(this.remaining),k=this.remaining[D.length];if("/"!==k&&")"!==k&&";"!==k)throw new C.vHH(4010,!1);let R;D.indexOf(":")>-1?(R=D.slice(0,D.indexOf(":")),this.capture(R),this.capture(":")):b&&(R=Be);const z=this.parseChildren();_[R]=1===Object.keys(z).length?z[Be]:new he([],z),this.consumeOptional("//")}return _}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new C.vHH(4011,!1)}}function Ie(f){return f.segments.length>0?new he([],{[Be]:f}):f}function ue(f){const b={};for(const D of Object.keys(f.children)){const R=ue(f.children[D]);if(D===Be&&0===R.segments.length&&R.hasChildren())for(const[z,ee]of Object.entries(R.children))b[z]=ee;else(R.segments.length>0||R.hasChildren())&&(b[D]=R)}return function De(f){if(1===f.numberOfChildren&&f.children[Be]){const b=f.children[Be];return new he(f.segments.concat(b.segments),b.children)}return f}(new he(f.segments,b))}function Qe(f){return f instanceof Pe}function Ye(f){let b;const k=Ie(function _(R){const z={};for(const oe of R.children){const Me=_(oe);z[oe.outlet]=Me}const ee=new he(R.url,z);return R===f&&(b=ee),ee}(f.root));return b??k}function Te(f,b,_,D){let k=f;for(;k.parent;)k=k.parent;if(0===b.length)return $t(k,k,k,_,D);const R=function bn(f){if("string"==typeof f[0]&&1===f.length&&"/"===f[0])return new di(!0,0,f);let b=0,_=!1;const D=f.reduce((k,R,z)=>{if("object"==typeof R&&null!=R){if(R.outlets){const ee={};return Object.entries(R.outlets).forEach(([oe,Me])=>{ee[oe]="string"==typeof Me?Me.split("/"):Me}),[...k,{outlets:ee}]}if(R.segmentPath)return[...k,R.segmentPath]}return"string"!=typeof R?[...k,R]:0===z?(R.split("/").forEach((ee,oe)=>{0==oe&&"."===ee||(0==oe&&""===ee?_=!0:".."===ee?b++:""!=ee&&k.push(ee))}),k):[...k,R]},[]);return new di(_,b,D)}(b);if(R.toRoot())return $t(k,k,new he([],{}),_,D);const z=function Gn(f,b,_){if(f.isAbsolute)return new Ui(b,!0,0);if(!_)return new Ui(b,!1,NaN);if(null===_.parent)return new Ui(_,!0,0);const D=qe(f.commands[0])?0:1;return function To(f,b,_){let D=f,k=b,R=_;for(;R>k;){if(R-=k,D=D.parent,!D)throw new C.vHH(4005,!1);k=D.segments.length}return new Ui(D,!1,k-R)}(_,_.segments.length-1+D,f.numberOfDoubleDots)}(R,k,f),ee=z.processChildren?Nr(z.segmentGroup,z.index,R.commands):kn(z.segmentGroup,z.index,R.commands);return $t(k,z.segmentGroup,ee,_,D)}function qe(f){return"object"==typeof f&&null!=f&&!f.outlets&&!f.segmentPath}function Ut(f){return"object"==typeof f&&null!=f&&f.outlets}function $t(f,b,_,D,k){let z,R={};D&&Object.entries(D).forEach(([oe,Me])=>{R[oe]=Array.isArray(Me)?Me.map(Ce=>`${Ce}`):`${Me}`}),z=f===b?_:mi(f,b,_);const ee=Ie(ue(z));return new Pe(ee,R,k)}function mi(f,b,_){const D={};return Object.entries(f.children).forEach(([k,R])=>{D[k]=R===b?_:mi(R,b,_)}),new he(f.segments,D)}class di{constructor(b,_,D){if(this.isAbsolute=b,this.numberOfDoubleDots=_,this.commands=D,b&&D.length>0&&qe(D[0]))throw new C.vHH(4003,!1);const k=D.find(Ut);if(k&&k!==ot(D))throw new C.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ui{constructor(b,_,D){this.segmentGroup=b,this.processChildren=_,this.index=D}}function kn(f,b,_){if(f||(f=new he([],{})),0===f.segments.length&&f.hasChildren())return Nr(f,b,_);const D=function io(f,b,_){let D=0,k=b;const R={match:!1,pathIndex:0,commandIndex:0};for(;k<f.segments.length;){if(D>=_.length)return R;const z=f.segments[k],ee=_[D];if(Ut(ee))break;const oe=`${ee}`,Me=D<_.length-1?_[D+1]:null;if(k>0&&void 0===oe)break;if(oe&&Me&&"object"==typeof Me&&void 0===Me.outlets){if(!ls(oe,Me,z))return R;D+=2}else{if(!ls(oe,{},z))return R;D++}k++}return{match:!0,pathIndex:k,commandIndex:D}}(f,b,_),k=_.slice(D.commandIndex);if(D.match&&D.pathIndex<f.segments.length){const R=new he(f.segments.slice(0,D.pathIndex),{});return R.children[Be]=new he(f.segments.slice(D.pathIndex),f.children),Nr(R,0,k)}return D.match&&0===k.length?new he(f.segments,{}):D.match&&!f.hasChildren()?sn(f,b,_):D.match?Nr(f,0,k):sn(f,b,_)}function Nr(f,b,_){if(0===_.length)return new he(f.segments,{});{const D=function kr(f){return Ut(f[0])?f[0].outlets:{[Be]:f}}(_),k={};if(!D[Be]&&f.children[Be]&&1===f.numberOfChildren&&0===f.children[Be].segments.length){const R=Nr(f.children[Be],b,_);return new he(f.segments,R.children)}return Object.entries(D).forEach(([R,z])=>{"string"==typeof z&&(z=[z]),null!==z&&(k[R]=kn(f.children[R],b,z))}),Object.entries(f.children).forEach(([R,z])=>{void 0===D[R]&&(k[R]=z)}),new he(f.segments,k)}}function sn(f,b,_){const D=f.segments.slice(0,b);let k=0;for(;k<_.length;){const R=_[k];if(Ut(R)){const oe=fn(R.outlets);return new he(D,oe)}if(0===k&&qe(_[0])){D.push(new de(f.segments[b].path,Dr(_[0]))),k++;continue}const z=Ut(R)?R.outlets[Be]:`${R}`,ee=k<_.length-1?_[k+1]:null;z&&ee&&qe(ee)?(D.push(new de(z,Dr(ee))),k+=2):(D.push(new de(z,{})),k++)}return new he(D,{})}function fn(f){const b={};return Object.entries(f).forEach(([_,D])=>{"string"==typeof D&&(D=[D]),null!==D&&(b[_]=sn(new he([],{}),0,D))}),b}function Dr(f){const b={};return Object.entries(f).forEach(([_,D])=>b[_]=`${D}`),b}function ls(f,b,_){return f==_.path&&Bt(b,_.parameters)}const er="imperative";class ur{constructor(b,_){this.id=b,this.url=_}}class _o extends ur{constructor(b,_,D="imperative",k=null){super(b,_),this.type=0,this.navigationTrigger=D,this.restoredState=k}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class lo extends ur{constructor(b,_,D){super(b,_),this.urlAfterRedirects=D,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class co extends ur{constructor(b,_,D,k){super(b,_),this.reason=D,this.code=k,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gn extends ur{constructor(b,_,D,k){super(b,_),this.reason=D,this.code=k,this.type=16}}class no extends ur{constructor(b,_,D,k){super(b,_),this.error=D,this.target=k,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ro extends ur{constructor(b,_,D,k){super(b,_),this.urlAfterRedirects=D,this.state=k,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cs extends ur{constructor(b,_,D,k){super(b,_),this.urlAfterRedirects=D,this.state=k,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ma extends ur{constructor(b,_,D,k,R){super(b,_),this.urlAfterRedirects=D,this.state=k,this.shouldActivate=R,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Va extends ur{constructor(b,_,D,k){super(b,_),this.urlAfterRedirects=D,this.state=k,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ic extends ur{constructor(b,_,D,k){super(b,_),this.urlAfterRedirects=D,this.state=k,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Da{constructor(b){this.route=b,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vl{constructor(b){this.route=b,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Sa{constructor(b){this.snapshot=b,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ta{constructor(b){this.snapshot=b,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ua{constructor(b){this.snapshot=b,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cn{constructor(b){this.snapshot=b,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Or{constructor(b,_,D){this.routerEvent=b,this.position=_,this.anchor=D,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Rs{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new vr,this.attachRef=null}}let vr=(()=>{class f{constructor(){this.contexts=new Map}onChildOutletCreated(_,D){const k=this.getOrCreateContext(_);k.outlet=D,this.contexts.set(_,k)}onChildOutletDestroyed(_){const D=this.getContext(_);D&&(D.outlet=null,D.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let D=this.getContext(_);return D||(D=new Rs,this.contexts.set(_,D)),D}getContext(_){return this.contexts.get(_)||null}}return f.\u0275fac=function(_){return new(_||f)},f.\u0275prov=C.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();class Fs{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const _=this.pathFromRoot(b);return _.length>1?_[_.length-2]:null}children(b){const _=yo(b,this._root);return _?_.children.map(D=>D.value):[]}firstChild(b){const _=yo(b,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(b){const _=Jo(b,this._root);return _.length<2?[]:_[_.length-2].children.map(k=>k.value).filter(k=>k!==b)}pathFromRoot(b){return Jo(b,this._root).map(_=>_.value)}}function yo(f,b){if(f===b.value)return b;for(const _ of b.children){const D=yo(f,_);if(D)return D}return null}function Jo(f,b){if(f===b.value)return[b];for(const _ of b.children){const D=Jo(f,_);if(D.length)return D.unshift(b),D}return[]}class Ho{constructor(b,_){this.value=b,this.children=_}toString(){return`TreeNode(${this.value})`}}function Qo(f){const b={};return f&&f.children.forEach(_=>b[_.value.outlet]=_),b}class fr extends Fs{constructor(b,_){super(b),this.snapshot=_,gr(this,b)}toString(){return this.snapshot.toString()}}function Ai(f,b){const _=function rn(f,b){const z=new Kn([],{},{},"",{},Be,b,null,{});return new es("",new Ho(z,[]))}(0,b),D=new He.X([new de("",{})]),k=new He.X({}),R=new He.X({}),z=new He.X({}),ee=new He.X(""),oe=new Pn(D,k,z,ee,R,Be,b,_.root);return oe.snapshot=_.root,new fr(new Ho(oe,[]),_)}class Pn{constructor(b,_,D,k,R,z,ee,oe){this.urlSubject=b,this.paramsSubject=_,this.queryParamsSubject=D,this.fragmentSubject=k,this.dataSubject=R,this.outlet=z,this.component=ee,this._futureSnapshot=oe,this.title=this.dataSubject?.pipe((0,Ue.U)(Me=>Me[rt]))??(0,ne.of)(void 0),this.url=b,this.params=_,this.queryParams=D,this.fragment=k,this.data=R}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ue.U)(b=>Ee(b)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ue.U)(b=>Ee(b)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vo(f,b="emptyOnly"){const _=f.pathFromRoot;let D=0;if("always"!==b)for(D=_.length-1;D>=1;){const k=_[D],R=_[D-1];if(k.routeConfig&&""===k.routeConfig.path)D--;else{if(R.component)break;D--}}return function zr(f){return f.reduce((b,_)=>({params:{...b.params,..._.params},data:{...b.data,..._.data},resolve:{..._.data,...b.resolve,..._.routeConfig?.data,..._._resolvedData}}),{params:{},data:{},resolve:{}})}(_.slice(D))}class Kn{get title(){return this.data?.[rt]}constructor(b,_,D,k,R,z,ee,oe,Me){this.url=b,this.params=_,this.queryParams=D,this.fragment=k,this.data=R,this.outlet=z,this.component=ee,this.routeConfig=oe,this._resolve=Me}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ee(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ee(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(D=>D.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class es extends Fs{constructor(b,_){super(_),this.url=b,gr(this,_)}toString(){return $o(this._root)}}function gr(f,b){b.value._routerState=f,b.children.forEach(_=>gr(f,_))}function $o(f){const b=f.children.length>0?` { ${f.children.map($o).join(", ")} } `:"";return`${f.value}${b}`}function Fo(f){if(f.snapshot){const b=f.snapshot,_=f._futureSnapshot;f.snapshot=_,Bt(b.queryParams,_.queryParams)||f.queryParamsSubject.next(_.queryParams),b.fragment!==_.fragment&&f.fragmentSubject.next(_.fragment),Bt(b.params,_.params)||f.paramsSubject.next(_.params),function Kt(f,b){if(f.length!==b.length)return!1;for(let _=0;_<f.length;++_)if(!Bt(f[_],b[_]))return!1;return!0}(b.url,_.url)||f.urlSubject.next(_.url),Bt(b.data,_.data)||f.dataSubject.next(_.data)}else f.snapshot=f._futureSnapshot,f.dataSubject.next(f._futureSnapshot.data)}function an(f,b){const _=Bt(f.params,b.params)&&function Re(f,b){return xt(f,b)&&f.every((_,D)=>Bt(_.parameters,b[D].parameters))}(f.url,b.url);return _&&!(!f.parent!=!b.parent)&&(!f.parent||an(f.parent,b.parent))}let Lo=(()=>{class f{constructor(){this.activated=null,this._activatedRoute=null,this.name=Be,this.activateEvents=new C.vpe,this.deactivateEvents=new C.vpe,this.attachEvents=new C.vpe,this.detachEvents=new C.vpe,this.parentContexts=(0,C.f3M)(vr),this.location=(0,C.f3M)(C.s_b),this.changeDetector=(0,C.f3M)(C.sBO),this.environmentInjector=(0,C.f3M)(C.lqb),this.inputBinder=(0,C.f3M)(un,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(_){if(_.name){const{firstChange:D,previousValue:k}=_.name;if(D)return;this.isTrackedInParentContexts(k)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(k)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(_){return this.parentContexts.getContext(_)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const _=this.parentContexts.getContext(this.name);_?.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C.vHH(4012,!1);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,D){this.activated=_,this._activatedRoute=D,this.location.insert(_.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,D){if(this.isActivated)throw new C.vHH(4013,!1);this._activatedRoute=_;const k=this.location,z=_.snapshot.component,ee=this.parentContexts.getOrCreateContext(this.name).children,oe=new ia(_,ee,k.injector);this.activated=k.createComponent(z,{index:k.length,injector:oe,environmentInjector:D??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return f.\u0275fac=function(_){return new(_||f)},f.\u0275dir=C.lG2({type:f,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[C.TTD]}),f})();class ia{constructor(b,_,D){this.route=b,this.childContexts=_,this.parent=D}get(b,_){return b===Pn?this.route:b===vr?this.childContexts:this.parent.get(b,_)}}const un=new C.OlP("");let hr=(()=>{class f{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(_){this.unsubscribeFromRouteData(_),this.subscribeToRouteData(_)}unsubscribeFromRouteData(_){this.outletDataSubscriptions.get(_)?.unsubscribe(),this.outletDataSubscriptions.delete(_)}subscribeToRouteData(_){const{activatedRoute:D}=_,k=(0,Oe.a)([D.queryParams,D.params,D.data]).pipe((0,Ae.w)(([R,z,ee],oe)=>(ee={...R,...z,...ee},0===oe?(0,ne.of)(ee):Promise.resolve(ee)))).subscribe(R=>{if(!_.isActivated||!_.activatedComponentRef||_.activatedRoute!==D||null===D.component)return void this.unsubscribeFromRouteData(_);const z=(0,C.qFp)(D.component);if(z)for(const{templateName:ee}of z.inputs)_.activatedComponentRef.setInput(ee,R[ee]);else this.unsubscribeFromRouteData(_)});this.outletDataSubscriptions.set(_,k)}}return f.\u0275fac=function(_){return new(_||f)},f.\u0275prov=C.Yz7({token:f,factory:f.\u0275fac}),f})();function ds(f,b,_){if(_&&f.shouldReuseRoute(b.value,_.value.snapshot)){const D=_.value;D._futureSnapshot=b.value;const k=function bo(f,b,_){return b.children.map(D=>{for(const k of _.children)if(f.shouldReuseRoute(D.value,k.value.snapshot))return ds(f,D,k);return ds(f,D)})}(f,b,_);return new Ho(D,k)}{if(f.shouldAttach(b.value)){const R=f.retrieve(b.value);if(null!==R){const z=R.route;return z.value._futureSnapshot=b.value,z.children=b.children.map(ee=>ds(f,ee)),z}}const D=function na(f){return new Pn(new He.X(f.url),new He.X(f.params),new He.X(f.queryParams),new He.X(f.fragment),new He.X(f.data),f.outlet,f.component,f)}(b.value),k=b.children.map(R=>ds(f,R));return new Ho(D,k)}}const ja="ngNavigationCancelingError";function bs(f,b){const{redirectTo:_,navigationBehaviorOptions:D}=Qe(b)?{redirectTo:b,navigationBehaviorOptions:void 0}:b,k=Go(!1,0,b);return k.url=_,k.navigationBehaviorOptions=D,k}function Go(f,b,_){const D=new Error("NavigationCancelingError: "+(f||""));return D[ja]=!0,D.cancellationCode=b,_&&(D.url=_),D}function uo(f){return Ls(f)&&Qe(f.url)}function Ls(f){return f&&f[ja]}let _n=(()=>{class f{}return f.\u0275fac=function(_){return new(_||f)},f.\u0275cmp=C.Xpm({type:f,selectors:[["ng-component"]],standalone:!0,features:[C.jDz],decls:1,vars:0,template:function(_,D){1&_&&C._UZ(0,"router-outlet")},dependencies:[Lo],encapsulation:2}),f})();function Sr(f){const b=f.children&&f.children.map(Sr),_=b?{...f,children:b}:{...f};return!_.component&&!_.loadComponent&&(b||_.loadChildren)&&_.outlet&&_.outlet!==Be&&(_.component=_n),_}function Jn(f){return f.outlet||Be}function jr(f){if(!f)return null;if(f.routeConfig?._injector)return f.routeConfig._injector;for(let b=f.parent;b;b=b.parent){const _=b.routeConfig;if(_?._loadedInjector)return _._loadedInjector;if(_?._injector)return _._injector}return null}class $a{constructor(b,_,D,k,R){this.routeReuseStrategy=b,this.futureState=_,this.currState=D,this.forwardEvent=k,this.inputBindingEnabled=R}activate(b){const _=this.futureState._root,D=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,D,b),Fo(this.futureState.root),this.activateChildRoutes(_,D,b)}deactivateChildRoutes(b,_,D){const k=Qo(_);b.children.forEach(R=>{const z=R.value.outlet;this.deactivateRoutes(R,k[z],D),delete k[z]}),Object.values(k).forEach(R=>{this.deactivateRouteAndItsChildren(R,D)})}deactivateRoutes(b,_,D){const k=b.value,R=_?_.value:null;if(k===R)if(k.component){const z=D.getContext(k.outlet);z&&this.deactivateChildRoutes(b,_,z.children)}else this.deactivateChildRoutes(b,_,D);else R&&this.deactivateRouteAndItsChildren(_,D)}deactivateRouteAndItsChildren(b,_){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,_):this.deactivateRouteAndOutlet(b,_)}detachAndStoreRouteSubtree(b,_){const D=_.getContext(b.value.outlet),k=D&&b.value.component?D.children:_,R=Qo(b);for(const z of Object.keys(R))this.deactivateRouteAndItsChildren(R[z],k);if(D&&D.outlet){const z=D.outlet.detach(),ee=D.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:z,route:b,contexts:ee})}}deactivateRouteAndOutlet(b,_){const D=_.getContext(b.value.outlet),k=D&&b.value.component?D.children:_,R=Qo(b);for(const z of Object.keys(R))this.deactivateRouteAndItsChildren(R[z],k);D&&(D.outlet&&(D.outlet.deactivate(),D.children.onOutletDeactivated()),D.attachRef=null,D.route=null)}activateChildRoutes(b,_,D){const k=Qo(_);b.children.forEach(R=>{this.activateRoutes(R,k[R.value.outlet],D),this.forwardEvent(new cn(R.value.snapshot))}),b.children.length&&this.forwardEvent(new Ta(b.value.snapshot))}activateRoutes(b,_,D){const k=b.value,R=_?_.value:null;if(Fo(k),k===R)if(k.component){const z=D.getOrCreateContext(k.outlet);this.activateChildRoutes(b,_,z.children)}else this.activateChildRoutes(b,_,D);else if(k.component){const z=D.getOrCreateContext(k.outlet);if(this.routeReuseStrategy.shouldAttach(k.snapshot)){const ee=this.routeReuseStrategy.retrieve(k.snapshot);this.routeReuseStrategy.store(k.snapshot,null),z.children.onOutletReAttached(ee.contexts),z.attachRef=ee.componentRef,z.route=ee.route.value,z.outlet&&z.outlet.attach(ee.componentRef,ee.route.value),Fo(ee.route.value),this.activateChildRoutes(b,null,z.children)}else{const ee=jr(k.snapshot);z.attachRef=null,z.route=k,z.injector=ee,z.outlet&&z.outlet.activateWith(k,z.injector),this.activateChildRoutes(b,null,z.children)}}else this.activateChildRoutes(b,null,D)}}class ol{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class zs{constructor(b,_){this.component=b,this.route=_}}function bl(f,b,_){const D=f._root;return fa(D,b?b._root:null,_,[D.value])}function Bs(f,b){const _=Symbol(),D=b.get(f,_);return D===_?"function"!=typeof f||(0,C.Z0I)(f)?b.get(f):f:D}function fa(f,b,_,D,k={canDeactivateChecks:[],canActivateChecks:[]}){const R=Qo(b);return f.children.forEach(z=>{(function Ul(f,b,_,D,k={canDeactivateChecks:[],canActivateChecks:[]}){const R=f.value,z=b?b.value:null,ee=_?_.getContext(f.value.outlet):null;if(z&&R.routeConfig===z.routeConfig){const oe=function sl(f,b,_){if("function"==typeof _)return _(f,b);switch(_){case"pathParamsChange":return!xt(f.url,b.url);case"pathParamsOrQueryParamsChange":return!xt(f.url,b.url)||!Bt(f.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!an(f,b)||!Bt(f.queryParams,b.queryParams);default:return!an(f,b)}}(z,R,R.routeConfig.runGuardsAndResolvers);oe?k.canActivateChecks.push(new ol(D)):(R.data=z.data,R._resolvedData=z._resolvedData),fa(f,b,R.component?ee?ee.children:null:_,D,k),oe&&ee&&ee.outlet&&ee.outlet.isActivated&&k.canDeactivateChecks.push(new zs(ee.outlet.component,z))}else z&&Ia(b,ee,k),k.canActivateChecks.push(new ol(D)),fa(f,null,R.component?ee?ee.children:null:_,D,k)})(z,R[z.value.outlet],_,D.concat([z.value]),k),delete R[z.value.outlet]}),Object.entries(R).forEach(([z,ee])=>Ia(ee,_.getContext(z),k)),k}function Ia(f,b,_){const D=Qo(f),k=f.value;Object.entries(D).forEach(([R,z])=>{Ia(z,k.component?b?b.children.getContext(R):null:b,_)}),_.canDeactivateChecks.push(new zs(k.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,k))}function Bi(f){return"function"==typeof f}function we(f){return f instanceof Ge.K||"EmptyError"===f?.name}const Ht=Symbol("INITIAL_VALUE");function Di(){return(0,Ae.w)(f=>(0,Oe.a)(f.map(b=>b.pipe((0,It.q)(1),(0,Pt.O)(Ht)))).pipe((0,Ue.U)(b=>{for(const _ of b)if(!0!==_){if(_===Ht)return Ht;if(!1===_||_ instanceof Pe)return _}return!0}),(0,Ot.h)(b=>b!==Ht),(0,It.q)(1)))}function Jc(f){return(0,Fe.z)((0,Oi.b)(b=>{if(Qe(b))throw bs(0,b)}),(0,Ue.U)(b=>!0===b))}class No{constructor(b){this.segmentGroup=b||null}}class xr{constructor(b){this.urlTree=b}}function Rn(f){return(0,et._)(new No(f))}function wr(f){return(0,et._)(new xr(f))}class ka{constructor(b,_){this.urlSerializer=b,this.urlTree=_}noMatchError(b){return new C.vHH(4002,!1)}lineralizeSegments(b,_){let D=[],k=_.root;for(;;){if(D=D.concat(k.segments),0===k.numberOfChildren)return(0,ne.of)(D);if(k.numberOfChildren>1||!k.children[Be])return(0,et._)(new C.vHH(4e3,!1));k=k.children[Be]}}applyRedirectCommands(b,_,D){return this.applyRedirectCreateUrlTree(_,this.urlSerializer.parse(_),b,D)}applyRedirectCreateUrlTree(b,_,D,k){const R=this.createSegmentGroup(b,_.root,D,k);return new Pe(R,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(b,_){const D={};return Object.entries(b).forEach(([k,R])=>{if("string"==typeof R&&R.startsWith(":")){const ee=R.substring(1);D[k]=_[ee]}else D[k]=R}),D}createSegmentGroup(b,_,D,k){const R=this.createSegments(b,_.segments,D,k);let z={};return Object.entries(_.children).forEach(([ee,oe])=>{z[ee]=this.createSegmentGroup(b,oe,D,k)}),new he(R,z)}createSegments(b,_,D,k){return _.map(R=>R.path.startsWith(":")?this.findPosParam(b,R,k):this.findOrReturn(R,D))}findPosParam(b,_,D){const k=D[_.path.substring(1)];if(!k)throw new C.vHH(4001,!1);return k}findOrReturn(b,_){let D=0;for(const k of _){if(k.path===b.path)return _.splice(D),k;D++}return b}}const Cr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $l(f,b,_,D,k){const R=Hs(f,b,_);return R.matched?(D=function us(f,b){return f.providers&&!f._injector&&(f._injector=(0,C.MMx)(f.providers,b,`Route: ${f.path}`)),f._injector??b}(b,D),function Wa(f,b,_,D){const k=b.canMatch;if(!k||0===k.length)return(0,ne.of)(!0);const R=k.map(z=>{const ee=Bs(z,f);return Dt(function Y(f){return f&&Bi(f.canMatch)}(ee)?ee.canMatch(b,_):f.runInContext(()=>ee(b,_)))});return(0,ne.of)(R).pipe(Di(),Jc())}(D,b,_).pipe((0,Ue.U)(z=>!0===z?R:{...Cr}))):(0,ne.of)(R)}function Hs(f,b,_){if(""===b.path)return"full"===b.pathMatch&&(f.hasChildren()||_.length>0)?{...Cr}:{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const k=(b.matcher||ht)(_,f,b);if(!k)return{...Cr};const R={};Object.entries(k.posParams??{}).forEach(([ee,oe])=>{R[ee]=oe.path});const z=k.consumed.length>0?{...R,...k.consumed[k.consumed.length-1].parameters}:R;return{matched:!0,consumedSegments:k.consumed,remainingSegments:_.slice(k.consumed.length),parameters:z,positionalParamSegments:k.posParams??{}}}function qa(f,b,_,D){return _.length>0&&function $r(f,b,_){return _.some(D=>ms(f,b,D)&&Jn(D)!==Be)}(f,_,D)?{segmentGroup:new he(b,hs(D,new he(_,f.children))),slicedSegments:[]}:0===_.length&&function Gl(f,b,_){return _.some(D=>ms(f,b,D))}(f,_,D)?{segmentGroup:new he(f.segments,Tr(f,0,_,D,f.children)),slicedSegments:_}:{segmentGroup:new he(f.segments,f.children),slicedSegments:_}}function Tr(f,b,_,D,k){const R={};for(const z of D)if(ms(f,_,z)&&!k[Jn(z)]){const ee=new he([],{});R[Jn(z)]=ee}return{...k,...R}}function hs(f,b){const _={};_[Be]=b;for(const D of f)if(""===D.path&&Jn(D)!==Be){const k=new he([],{});_[Jn(D)]=k}return _}function ms(f,b,_){return(!(f.hasChildren()||b.length>0)||"full"!==_.pathMatch)&&""===_.path}class Gr{constructor(b,_,D,k,R,z,ee){this.injector=b,this.configLoader=_,this.rootComponentType=D,this.config=k,this.urlTree=R,this.paramsInheritanceStrategy=z,this.urlSerializer=ee,this.allowRedirects=!0,this.applyRedirects=new ka(this.urlSerializer,this.urlTree)}noMatchError(b){return new C.vHH(4002,!1)}recognize(){const b=qa(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,b,Be).pipe((0,Tn.K)(_=>{if(_ instanceof xr)return this.allowRedirects=!1,this.urlTree=_.urlTree,this.match(_.urlTree);throw _ instanceof No?this.noMatchError(_):_}),(0,Ue.U)(_=>{const D=new Kn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Be,this.rootComponentType,null,{}),k=new Ho(D,_),R=new es("",k),z=function Tt(f,b,_=null,D=null){return Te(Ye(f),b,_,D)}(D,[],this.urlTree.queryParams,this.urlTree.fragment);return z.queryParams=this.urlTree.queryParams,R.url=this.urlSerializer.serialize(z),this.inheritParamsAndData(R._root),{state:R,tree:z}}))}match(b){return this.processSegmentGroup(this.injector,this.config,b.root,Be).pipe((0,Tn.K)(D=>{throw D instanceof No?this.noMatchError(D):D}))}inheritParamsAndData(b){const _=b.value,D=vo(_,this.paramsInheritanceStrategy);_.params=Object.freeze(D.params),_.data=Object.freeze(D.data),b.children.forEach(k=>this.inheritParamsAndData(k))}processSegmentGroup(b,_,D,k){return 0===D.segments.length&&D.hasChildren()?this.processChildren(b,_,D):this.processSegment(b,_,D,D.segments,k,!0)}processChildren(b,_,D){const k=[];for(const R of Object.keys(D.children))"primary"===R?k.unshift(R):k.push(R);return(0,je.D)(k).pipe((0,Fi.b)(R=>{const z=D.children[R],ee=function xo(f,b){const _=f.filter(D=>Jn(D)===b);return _.push(...f.filter(D=>Jn(D)!==b)),_}(_,R);return this.processSegmentGroup(b,ee,z,R)}),function pn(f,b){return(0,bt.e)(function $n(f,b,_,D,k){return(R,z)=>{let ee=_,oe=b,Me=0;R.subscribe((0,Vt.x)(z,Ce=>{const it=Me++;oe=ee?f(oe,Ce,it):(ee=!0,Ce),D&&z.next(oe)},k&&(()=>{ee&&z.next(oe),z.complete()})))}}(f,b,arguments.length>=2,!0))}((R,z)=>(R.push(...z),R)),(0,jn.d)(null),function Nt(f,b){const _=arguments.length>=2;return D=>D.pipe(f?(0,Ot.h)((k,R)=>f(k,R,D)):gt.y,In(1),_?(0,jn.d)(b):(0,Et.T)(()=>new Ge.K))}(),(0,ui.z)(R=>{if(null===R)return Rn(D);const z=Zo(R);return function ga(f){f.sort((b,_)=>b.value.outlet===Be?-1:_.value.outlet===Be?1:b.value.outlet.localeCompare(_.value.outlet))}(z),(0,ne.of)(z)}))}processSegment(b,_,D,k,R,z){return(0,je.D)(_).pipe((0,Fi.b)(ee=>this.processSegmentAgainstRoute(ee._injector??b,_,ee,D,k,R,z).pipe((0,Tn.K)(oe=>{if(oe instanceof No)return(0,ne.of)(null);throw oe}))),(0,ti.P)(ee=>!!ee),(0,Tn.K)(ee=>{if(we(ee))return function wl(f,b,_){return 0===b.length&&!f.children[_]}(D,k,R)?(0,ne.of)([]):Rn(D);throw ee}))}processSegmentAgainstRoute(b,_,D,k,R,z,ee){return function Rr(f,b,_,D){return!!(Jn(f)===D||D!==Be&&ms(b,_,f))&&("**"===f.path||Hs(b,f,_).matched)}(D,k,R,z)?void 0===D.redirectTo?this.matchSegmentAgainstRoute(b,k,D,R,z,ee):ee&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(b,k,_,D,R,z):Rn(k):Rn(k)}expandSegmentAgainstRouteUsingRedirect(b,_,D,k,R,z){return"**"===k.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(b,D,k,z):this.expandRegularSegmentAgainstRouteUsingRedirect(b,_,D,k,R,z)}expandWildCardWithParamsAgainstRouteUsingRedirect(b,_,D,k){const R=this.applyRedirects.applyRedirectCommands([],D.redirectTo,{});return D.redirectTo.startsWith("/")?wr(R):this.applyRedirects.lineralizeSegments(D,R).pipe((0,ui.z)(z=>{const ee=new he(z,{});return this.processSegment(b,_,ee,z,k,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(b,_,D,k,R,z){const{matched:ee,consumedSegments:oe,remainingSegments:Me,positionalParamSegments:Ce}=Hs(_,k,R);if(!ee)return Rn(_);const it=this.applyRedirects.applyRedirectCommands(oe,k.redirectTo,Ce);return k.redirectTo.startsWith("/")?wr(it):this.applyRedirects.lineralizeSegments(k,it).pipe((0,ui.z)(yt=>this.processSegment(b,D,_,yt.concat(Me),z,!1)))}matchSegmentAgainstRoute(b,_,D,k,R,z){let ee;if("**"===D.path){const oe=k.length>0?ot(k).parameters:{},Me=new Kn(k,oe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ro(D),Jn(D),D.component??D._loadedComponent??null,D,El(D));ee=(0,ne.of)({snapshot:Me,consumedSegments:[],remainingSegments:[]}),_.children={}}else ee=$l(_,D,k,b).pipe((0,Ue.U)(({matched:oe,consumedSegments:Me,remainingSegments:Ce,parameters:it})=>oe?{snapshot:new Kn(Me,it,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ro(D),Jn(D),D.component??D._loadedComponent??null,D,El(D)),consumedSegments:Me,remainingSegments:Ce}:null));return ee.pipe((0,Ae.w)(oe=>null===oe?Rn(_):this.getChildConfig(b=D._injector??b,D,k).pipe((0,Ae.w)(({routes:Me})=>{const Ce=D._loadedInjector??b,{snapshot:it,consumedSegments:yt,remainingSegments:$e}=oe,{segmentGroup:ft,slicedSegments:Ft}=qa(_,yt,$e,Me);if(0===Ft.length&&ft.hasChildren())return this.processChildren(Ce,Me,ft).pipe((0,Ue.U)(Gt=>null===Gt?null:[new Ho(it,Gt)]));if(0===Me.length&&0===Ft.length)return(0,ne.of)([new Ho(it,[])]);const Zt=Jn(D)===R;return this.processSegment(Ce,Me,ft,Ft,Zt?Be:R,!0).pipe((0,Ue.U)(Gt=>[new Ho(it,Gt)]))}))))}getChildConfig(b,_,D){return _.children?(0,ne.of)({routes:_.children,injector:b}):_.loadChildren?void 0!==_._loadedRoutes?(0,ne.of)({routes:_._loadedRoutes,injector:_._loadedInjector}):function Us(f,b,_,D){const k=b.canLoad;if(void 0===k||0===k.length)return(0,ne.of)(!0);const R=k.map(z=>{const ee=Bs(z,f);return Dt(function On(f){return f&&Bi(f.canLoad)}(ee)?ee.canLoad(b,_):f.runInContext(()=>ee(b,_)))});return(0,ne.of)(R).pipe(Di(),Jc())}(b,_,D).pipe((0,ui.z)(k=>k?this.configLoader.loadChildren(b,_).pipe((0,Oi.b)(R=>{_._loadedRoutes=R.routes,_._loadedInjector=R.injector})):function js(f){return(0,et._)(Go(!1,3))}())):(0,ne.of)({routes:[],injector:b})}}function Zr(f){const b=f.value.routeConfig;return b&&""===b.path}function Zo(f){const b=[],_=new Set;for(const D of f){if(!Zr(D)){b.push(D);continue}const k=b.find(R=>D.value.routeConfig===R.value.routeConfig);void 0!==k?(k.children.push(...D.children),_.add(k)):b.push(D)}for(const D of _){const k=Zo(D.children);b.push(new Ho(D.value,k))}return b.filter(D=>!_.has(D))}function ro(f){return f.data||{}}function El(f){return f.resolve||{}}function Gs(f){return"string"==typeof f.title||null===f.title}function _r(f){return(0,Ae.w)(b=>{const _=f(b);return _?(0,je.D)(_).pipe((0,Ue.U)(()=>b)):(0,ne.of)(b)})}const fi=new C.OlP("ROUTES");let V=(()=>{class f{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,C.f3M)(C.Sil)}loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return(0,ne.of)(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const D=Dt(_.loadComponent()).pipe((0,Ue.U)($),(0,Oi.b)(R=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=R}),(0,ni.x)(()=>{this.componentLoaders.delete(_)})),k=new Ti(D,()=>new Yt.x).pipe(oi());return this.componentLoaders.set(_,k),k}loadChildren(_,D){if(this.childrenLoaders.get(D))return this.childrenLoaders.get(D);if(D._loadedRoutes)return(0,ne.of)({routes:D._loadedRoutes,injector:D._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(D);const R=this.loadModuleFactoryOrRoutes(D.loadChildren).pipe((0,Ue.U)(ee=>{this.onLoadEndListener&&this.onLoadEndListener(D);let oe,Me;return Array.isArray(ee)?Me=ee:(oe=ee.create(_).injector,Me=oe.get(fi,[],C.XFs.Self|C.XFs.Optional).flat()),{routes:Me.map(Sr),injector:oe}}),(0,ni.x)(()=>{this.childrenLoaders.delete(D)})),z=new Ti(R,()=>new Yt.x).pipe(oi());return this.childrenLoaders.set(D,z),z}loadModuleFactoryOrRoutes(_){return Dt(_()).pipe((0,Ue.U)($),(0,ui.z)(D=>D instanceof C.YKP||Array.isArray(D)?(0,ne.of)(D):(0,je.D)(this.compiler.compileModuleAsync(D))))}}return f.\u0275fac=function(_){return new(_||f)},f.\u0275prov=C.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();function $(f){return function Q(f){return f&&"object"==typeof f&&"default"in f}(f)?f.default:f}let fe=(()=>{class f{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Yt.x,this.configLoader=(0,C.f3M)(V),this.environmentInjector=(0,C.f3M)(C.lqb),this.urlSerializer=(0,C.f3M)(Lt),this.rootContexts=(0,C.f3M)(vr),this.inputBindingEnabled=null!==(0,C.f3M)(un,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ne.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=k=>this.events.next(new vl(k)),this.configLoader.onLoadStartListener=k=>this.events.next(new Da(k))}complete(){this.transitions?.complete()}handleNavigationRequest(_){const D=++this.navigationId;this.transitions?.next({...this.transitions.value,..._,id:D})}setupNavigations(_){return this.transitions=new He.X({id:0,currentUrlTree:_.currentUrlTree,currentRawUrl:_.currentUrlTree,extractedUrl:_.urlHandlingStrategy.extract(_.currentUrlTree),urlAfterRedirects:_.urlHandlingStrategy.extract(_.currentUrlTree),rawUrl:_.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:er,restoredState:null,currentSnapshot:_.routerState.snapshot,targetSnapshot:null,currentRouterState:_.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ot.h)(D=>0!==D.id),(0,Ue.U)(D=>({...D,extractedUrl:_.urlHandlingStrategy.extract(D.rawUrl)})),(0,Ae.w)(D=>{let k=!1,R=!1;return(0,ne.of)(D).pipe((0,Oi.b)(z=>{this.currentNavigation={id:z.id,initialUrl:z.rawUrl,extractedUrl:z.extractedUrl,trigger:z.source,extras:z.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ae.w)(z=>{const ee=_.browserUrlTree.toString(),oe=!_.navigated||z.extractedUrl.toString()!==ee||ee!==_.currentUrlTree.toString();if(!oe&&"reload"!==(z.extras.onSameUrlNavigation??_.onSameUrlNavigation)){const Ce="";return this.events.next(new gn(z.id,_.serializeUrl(D.rawUrl),Ce,0)),_.rawUrlTree=z.rawUrl,z.resolve(null),Xe.E}if(_.urlHandlingStrategy.shouldProcessUrl(z.rawUrl))return Ze(z.source)&&(_.browserUrlTree=z.extractedUrl),(0,ne.of)(z).pipe((0,Ae.w)(Ce=>{const it=this.transitions?.getValue();return this.events.next(new _o(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),Ce.source,Ce.restoredState)),it!==this.transitions?.getValue()?Xe.E:Promise.resolve(Ce)}),function Ya(f,b,_,D,k,R){return(0,ui.z)(z=>function xs(f,b,_,D,k,R,z="emptyOnly"){return new Gr(f,b,_,D,k,z,R).recognize()}(f,b,_,D,z.extractedUrl,k,R).pipe((0,Ue.U)(({state:ee,tree:oe})=>({...z,targetSnapshot:ee,urlAfterRedirects:oe}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,_.config,this.urlSerializer,_.paramsInheritanceStrategy),(0,Oi.b)(Ce=>{if(D.targetSnapshot=Ce.targetSnapshot,D.urlAfterRedirects=Ce.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ce.urlAfterRedirects},"eager"===_.urlUpdateStrategy){if(!Ce.extras.skipLocationChange){const yt=_.urlHandlingStrategy.merge(Ce.urlAfterRedirects,Ce.rawUrl);_.setBrowserUrl(yt,Ce)}_.browserUrlTree=Ce.urlAfterRedirects}const it=new Ro(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),this.urlSerializer.serialize(Ce.urlAfterRedirects),Ce.targetSnapshot);this.events.next(it)}));if(oe&&_.urlHandlingStrategy.shouldProcessUrl(_.rawUrlTree)){const{id:Ce,extractedUrl:it,source:yt,restoredState:$e,extras:ft}=z,Ft=new _o(Ce,this.urlSerializer.serialize(it),yt,$e);this.events.next(Ft);const Zt=Ai(0,this.rootComponentType).snapshot;return D={...z,targetSnapshot:Zt,urlAfterRedirects:it,extras:{...ft,skipLocationChange:!1,replaceUrl:!1}},(0,ne.of)(D)}{const Ce="";return this.events.next(new gn(z.id,_.serializeUrl(D.extractedUrl),Ce,1)),_.rawUrlTree=z.rawUrl,z.resolve(null),Xe.E}}),(0,Oi.b)(z=>{const ee=new cs(z.id,this.urlSerializer.serialize(z.extractedUrl),this.urlSerializer.serialize(z.urlAfterRedirects),z.targetSnapshot);this.events.next(ee)}),(0,Ue.U)(z=>D={...z,guards:bl(z.targetSnapshot,z.currentSnapshot,this.rootContexts)}),function Xr(f,b){return(0,ui.z)(_=>{const{targetSnapshot:D,currentSnapshot:k,guards:{canActivateChecks:R,canDeactivateChecks:z}}=_;return 0===z.length&&0===R.length?(0,ne.of)({..._,guardsResult:!0}):function mo(f,b,_,D){return(0,je.D)(f).pipe((0,ui.z)(k=>function al(f,b,_,D,k){const R=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!R||0===R.length)return(0,ne.of)(!0);const z=R.map(ee=>{const oe=jr(b)??k,Me=Bs(ee,oe);return Dt(function dr(f){return f&&Bi(f.canDeactivate)}(Me)?Me.canDeactivate(f,b,_,D):oe.runInContext(()=>Me(f,b,_,D))).pipe((0,ti.P)())});return(0,ne.of)(z).pipe(Di())}(k.component,k.route,_,b,D)),(0,ti.P)(k=>!0!==k,!0))}(z,D,k,f).pipe((0,ui.z)(ee=>ee&&function jl(f){return"boolean"==typeof f}(ee)?function Vs(f,b,_,D){return(0,je.D)(b).pipe((0,Fi.b)(k=>(0,Ve.z)(function Za(f,b){return null!==f&&b&&b(new Sa(f)),(0,ne.of)(!0)}(k.route.parent,D),function Aa(f,b){return null!==f&&b&&b(new Ua(f)),(0,ne.of)(!0)}(k.route,D),function Hr(f,b,_){const D=b[b.length-1],R=b.slice(0,b.length-1).reverse().map(z=>function Ac(f){const b=f.routeConfig?f.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:f,guards:b}:null}(z)).filter(z=>null!==z).map(z=>(0,nt.P)(()=>{const ee=z.guards.map(oe=>{const Me=jr(z.node)??_,Ce=Bs(oe,Me);return Dt(function mr(f){return f&&Bi(f.canActivateChild)}(Ce)?Ce.canActivateChild(D,f):Me.runInContext(()=>Ce(D,f))).pipe((0,ti.P)())});return(0,ne.of)(ee).pipe(Di())}));return(0,ne.of)(R).pipe(Di())}(f,k.path,_),function Hl(f,b,_){const D=b.routeConfig?b.routeConfig.canActivate:null;if(!D||0===D.length)return(0,ne.of)(!0);const k=D.map(R=>(0,nt.P)(()=>{const z=jr(b)??_,ee=Bs(R,z);return Dt(function Ga(f){return f&&Bi(f.canActivate)}(ee)?ee.canActivate(b,f):z.runInContext(()=>ee(b,f))).pipe((0,ti.P)())}));return(0,ne.of)(k).pipe(Di())}(f,k.route,_))),(0,ti.P)(k=>!0!==k,!0))}(D,R,f,b):(0,ne.of)(ee)),(0,Ue.U)(ee=>({..._,guardsResult:ee})))})}(this.environmentInjector,z=>this.events.next(z)),(0,Oi.b)(z=>{if(D.guardsResult=z.guardsResult,Qe(z.guardsResult))throw bs(0,z.guardsResult);const ee=new Ma(z.id,this.urlSerializer.serialize(z.extractedUrl),this.urlSerializer.serialize(z.urlAfterRedirects),z.targetSnapshot,!!z.guardsResult);this.events.next(ee)}),(0,Ot.h)(z=>!!z.guardsResult||(_.restoreHistory(z),this.cancelNavigationTransition(z,"",3),!1)),_r(z=>{if(z.guards.canActivateChecks.length)return(0,ne.of)(z).pipe((0,Oi.b)(ee=>{const oe=new Va(ee.id,this.urlSerializer.serialize(ee.extractedUrl),this.urlSerializer.serialize(ee.urlAfterRedirects),ee.targetSnapshot);this.events.next(oe)}),(0,Ae.w)(ee=>{let oe=!1;return(0,ne.of)(ee).pipe(function Zl(f,b){return(0,ui.z)(_=>{const{targetSnapshot:D,guards:{canActivateChecks:k}}=_;if(!k.length)return(0,ne.of)(_);let R=0;return(0,je.D)(k).pipe((0,Fi.b)(z=>function $s(f,b,_,D){const k=f.routeConfig,R=f._resolve;return void 0!==k?.title&&!Gs(k)&&(R[rt]=k.title),function Ni(f,b,_,D){const k=function ts(f){return[...Object.keys(f),...Object.getOwnPropertySymbols(f)]}(f);if(0===k.length)return(0,ne.of)({});const R={};return(0,je.D)(k).pipe((0,ui.z)(z=>function Ml(f,b,_,D){const k=jr(b)??D,R=Bs(f,k);return Dt(R.resolve?R.resolve(b,_):k.runInContext(()=>R(b,_)))}(f[z],b,_,D).pipe((0,ti.P)(),(0,Oi.b)(ee=>{R[z]=ee}))),In(1),(0,zt.h)(R),(0,Tn.K)(z=>we(z)?Xe.E:(0,et._)(z)))}(R,f,b,D).pipe((0,Ue.U)(z=>(f._resolvedData=z,f.data=vo(f,_).resolve,k&&Gs(k)&&(f.data[rt]=k.title),null)))}(z.route,D,f,b)),(0,Oi.b)(()=>R++),In(1),(0,ui.z)(z=>R===k.length?(0,ne.of)(_):Xe.E))})}(_.paramsInheritanceStrategy,this.environmentInjector),(0,Oi.b)({next:()=>oe=!0,complete:()=>{oe||(_.restoreHistory(ee),this.cancelNavigationTransition(ee,"",2))}}))}),(0,Oi.b)(ee=>{const oe=new Ic(ee.id,this.urlSerializer.serialize(ee.extractedUrl),this.urlSerializer.serialize(ee.urlAfterRedirects),ee.targetSnapshot);this.events.next(oe)}))}),_r(z=>{const ee=oe=>{const Me=[];oe.routeConfig?.loadComponent&&!oe.routeConfig._loadedComponent&&Me.push(this.configLoader.loadComponent(oe.routeConfig).pipe((0,Oi.b)(Ce=>{oe.component=Ce}),(0,Ue.U)(()=>{})));for(const Ce of oe.children)Me.push(...ee(Ce));return Me};return(0,Oe.a)(ee(z.targetSnapshot.root)).pipe((0,jn.d)(),(0,It.q)(1))}),_r(()=>this.afterPreactivation()),(0,Ue.U)(z=>{const ee=function vs(f,b,_){const D=ds(f,b._root,_?_._root:void 0);return new fr(D,b)}(_.routeReuseStrategy,z.targetSnapshot,z.currentRouterState);return D={...z,targetRouterState:ee}}),(0,Oi.b)(z=>{_.currentUrlTree=z.urlAfterRedirects,_.rawUrlTree=_.urlHandlingStrategy.merge(z.urlAfterRedirects,z.rawUrl),_.routerState=z.targetRouterState,"deferred"===_.urlUpdateStrategy&&(z.extras.skipLocationChange||_.setBrowserUrl(_.rawUrlTree,z),_.browserUrlTree=z.urlAfterRedirects)}),((f,b,_,D)=>(0,Ue.U)(k=>(new $a(b,k.targetRouterState,k.currentRouterState,_,D).activate(f),k)))(this.rootContexts,_.routeReuseStrategy,z=>this.events.next(z),this.inputBindingEnabled),(0,It.q)(1),(0,Oi.b)({next:z=>{k=!0,this.lastSuccessfulNavigation=this.currentNavigation,_.navigated=!0,this.events.next(new lo(z.id,this.urlSerializer.serialize(z.extractedUrl),this.urlSerializer.serialize(_.currentUrlTree))),_.titleStrategy?.updateTitle(z.targetRouterState.snapshot),z.resolve(!0)},complete:()=>{k=!0}}),(0,ni.x)(()=>{k||R||this.cancelNavigationTransition(D,"",1),this.currentNavigation?.id===D.id&&(this.currentNavigation=null)}),(0,Tn.K)(z=>{if(R=!0,Ls(z)){uo(z)||(_.navigated=!0,_.restoreHistory(D,!0));const ee=new co(D.id,this.urlSerializer.serialize(D.extractedUrl),z.message,z.cancellationCode);if(this.events.next(ee),uo(z)){const oe=_.urlHandlingStrategy.merge(z.url,_.rawUrlTree),Me={skipLocationChange:D.extras.skipLocationChange,replaceUrl:"eager"===_.urlUpdateStrategy||Ze(D.source)};_.scheduleNavigation(oe,er,null,Me,{resolve:D.resolve,reject:D.reject,promise:D.promise})}else D.resolve(!1)}else{_.restoreHistory(D,!0);const ee=new no(D.id,this.urlSerializer.serialize(D.extractedUrl),z,D.targetSnapshot??void 0);this.events.next(ee);try{D.resolve(_.errorHandler(z))}catch(oe){D.reject(oe)}}return Xe.E}))}))}cancelNavigationTransition(_,D,k){const R=new co(_.id,this.urlSerializer.serialize(_.extractedUrl),D,k);this.events.next(R),_.resolve(!1)}}return f.\u0275fac=function(_){return new(_||f)},f.\u0275prov=C.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();function Ze(f){return f!==er}let kt=(()=>{class f{buildTitle(_){let D,k=_.root;for(;void 0!==k;)D=this.getResolvedTitleForRoute(k)??D,k=k.children.find(R=>R.outlet===Be);return D}getResolvedTitleForRoute(_){return _.data[rt]}}return f.\u0275fac=function(_){return new(_||f)},f.\u0275prov=C.Yz7({token:f,factory:function(){return(0,C.f3M)(Wt)},providedIn:"root"}),f})(),Wt=(()=>{class f extends kt{constructor(_){super(),this.title=_}updateTitle(_){const D=this.buildTitle(_);void 0!==D&&this.title.setTitle(D)}}return f.\u0275fac=function(_){return new(_||f)(C.LFG(li.Dx))},f.\u0275prov=C.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),qi=(()=>{class f{}return f.\u0275fac=function(_){return new(_||f)},f.\u0275prov=C.Yz7({token:f,factory:function(){return(0,C.f3M)(zn)},providedIn:"root"}),f})();class tr{shouldDetach(b){return!1}store(b,_){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,_){return b.routeConfig===_.routeConfig}}let zn=(()=>{class f extends tr{}return f.\u0275fac=function(){let b;return function(D){return(b||(b=C.n5z(f)))(D||f)}}(),f.\u0275prov=C.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const Bn=new C.OlP("",{providedIn:"root",factory:()=>({})});let Mn=(()=>{class f{}return f.\u0275fac=function(_){return new(_||f)},f.\u0275prov=C.Yz7({token:f,factory:function(){return(0,C.f3M)(Wn)},providedIn:"root"}),f})(),Wn=(()=>{class f{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,D){return _}}return f.\u0275fac=function(_){return new(_||f)},f.\u0275prov=C.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();var mn=(()=>((mn=mn||{})[mn.COMPLETE=0]="COMPLETE",mn[mn.FAILED=1]="FAILED",mn[mn.REDIRECTING=2]="REDIRECTING",mn))();function Wr(f,b){f.events.pipe((0,Ot.h)(_=>_ instanceof lo||_ instanceof co||_ instanceof no||_ instanceof gn),(0,Ue.U)(_=>_ instanceof lo||_ instanceof gn?mn.COMPLETE:_ instanceof co&&(0===_.code||1===_.code)?mn.REDIRECTING:mn.FAILED),(0,Ot.h)(_=>_!==mn.REDIRECTING),(0,It.q)(1)).subscribe(()=>{b()})}function Zs(f){throw f}function Ki(f,b,_){return b.parse("/")}const ws={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Cs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ir=(()=>{class f{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,C.f3M)(C.c2e),this.isNgZoneEnabled=!1,this.options=(0,C.f3M)(Bn,{optional:!0})||{},this.pendingTasks=(0,C.f3M)(C.HDt),this.errorHandler=this.options.errorHandler||Zs,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ki,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,C.f3M)(Mn),this.routeReuseStrategy=(0,C.f3M)(qi),this.titleStrategy=(0,C.f3M)(kt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,C.f3M)(fi,{optional:!0})?.flat()??[],this.navigationTransitions=(0,C.f3M)(fe),this.urlSerializer=(0,C.f3M)(Lt),this.location=(0,C.f3M)(Le.Ye),this.componentInputBindingEnabled=!!(0,C.f3M)(un,{optional:!0}),this.isNgZoneEnabled=(0,C.f3M)(C.R0b)instanceof C.R0b&&C.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Pe,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ai(0,null),this.navigationTransitions.setupNavigations(this).subscribe(_=>{this.lastSuccessfulId=_.id,this.currentPageId=this.browserPageId??0},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)})}resetRootComponentType(_){this.routerState.root.component=_,this.navigationTransitions.rootComponentType=_}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const _=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),er,_)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const D="popstate"===_.type?"popstate":"hashchange";"popstate"===D&&setTimeout(()=>{this.navigateToSyncWithBrowser(_.url,D,_.state)},0)}))}navigateToSyncWithBrowser(_,D,k){const R={replaceUrl:!0},z=k?.navigationId?k:null;if(k){const oe={...k};delete oe.navigationId,delete oe.\u0275routerPageId,0!==Object.keys(oe).length&&(R.state=oe)}const ee=this.parseUrl(_);this.scheduleNavigation(ee,D,z,R)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(_){this.config=_.map(Sr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(_,D={}){const{relativeTo:k,queryParams:R,fragment:z,queryParamsHandling:ee,preserveFragment:oe}=D,Me=oe?this.currentUrlTree.fragment:z;let it,Ce=null;switch(ee){case"merge":Ce={...this.currentUrlTree.queryParams,...R};break;case"preserve":Ce=this.currentUrlTree.queryParams;break;default:Ce=R||null}null!==Ce&&(Ce=this.removeEmptyProps(Ce));try{it=Ye(k?k.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof _[0]||!_[0].startsWith("/"))&&(_=[]),it=this.currentUrlTree.root}return Te(it,_,Ce,Me??null)}navigateByUrl(_,D={skipLocationChange:!1}){const k=Qe(_)?_:this.parseUrl(_),R=this.urlHandlingStrategy.merge(k,this.rawUrlTree);return this.scheduleNavigation(R,er,null,D)}navigate(_,D={skipLocationChange:!1}){return function nr(f){for(let b=0;b<f.length;b++)if(null==f[b])throw new C.vHH(4008,!1)}(_),this.navigateByUrl(this.createUrlTree(_,D),D)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let D;try{D=this.urlSerializer.parse(_)}catch(k){D=this.malformedUriErrorHandler(k,this.urlSerializer,_)}return D}isActive(_,D){let k;if(k=!0===D?{...ws}:!1===D?{...Cs}:D,Qe(_))return Wi(this.currentUrlTree,_,k);const R=this.parseUrl(_);return Wi(this.currentUrlTree,R,k)}removeEmptyProps(_){return Object.keys(_).reduce((D,k)=>{const R=_[k];return null!=R&&(D[k]=R),D},{})}scheduleNavigation(_,D,k,R,z){if(this.disposed)return Promise.resolve(!1);let ee,oe,Me;z?(ee=z.resolve,oe=z.reject,Me=z.promise):Me=new Promise((it,yt)=>{ee=it,oe=yt});const Ce=this.pendingTasks.add();return Wr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ce))}),this.navigationTransitions.handleNavigationRequest({source:D,restoredState:k,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:_,extras:R,resolve:ee,reject:oe,promise:Me,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Me.catch(it=>Promise.reject(it))}setBrowserUrl(_,D){const k=this.urlSerializer.serialize(_);if(this.location.isCurrentPathEqualTo(k)||D.extras.replaceUrl){const z={...D.extras.state,...this.generateNgRouterState(D.id,this.browserPageId)};this.location.replaceState(k,"",z)}else{const R={...D.extras.state,...this.generateNgRouterState(D.id,(this.browserPageId??0)+1)};this.location.go(k,"",R)}}restoreHistory(_,D=!1){if("computed"===this.canceledNavigationResolution){const R=this.currentPageId-(this.browserPageId??this.currentPageId);0!==R?this.location.historyGo(R):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===R&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(D&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(_,D){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:D}:{navigationId:_}}}return f.\u0275fac=function(_){return new(_||f)},f.\u0275prov=C.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),ps=(()=>{class f{constructor(_,D,k,R,z,ee){this.router=_,this.route=D,this.tabIndexAttribute=k,this.renderer=R,this.el=z,this.locationStrategy=ee,this.href=null,this.commands=null,this.onChanges=new Yt.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const oe=z.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===oe||"area"===oe,this.isAnchorElement?this.subscription=_.events.subscribe(Me=>{Me instanceof lo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(_){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",_)}ngOnChanges(_){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(_){null!=_?(this.commands=Array.isArray(_)?_:[_],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(_,D,k,R,z){return!!(null===this.urlTree||this.isAnchorElement&&(0!==_||D||k||R||z||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const _=null===this.href?null:(0,C.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",_)}applyAttributeValue(_,D){const k=this.renderer,R=this.el.nativeElement;null!==D?k.setAttribute(R,_,D):k.removeAttribute(R,_)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return f.\u0275fac=function(_){return new(_||f)(C.Y36(ir),C.Y36(Pn),C.$8M("tabindex"),C.Y36(C.Qsj),C.Y36(C.SBq),C.Y36(Le.S$))},f.\u0275dir=C.lG2({type:f,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(_,D){1&_&&C.NdJ("click",function(R){return D.onClick(R.button,R.ctrlKey,R.shiftKey,R.altKey,R.metaKey)}),2&_&&C.uIk("target",D.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",C.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",C.VuI],replaceUrl:["replaceUrl","replaceUrl",C.VuI],routerLink:"routerLink"},standalone:!0,features:[C.Xq5,C.TTD]}),f})(),hn=(()=>{class f{get isActive(){return this._isActive}constructor(_,D,k,R,z){this.router=_,this.element=D,this.renderer=k,this.cdr=R,this.link=z,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new C.vpe,this.routerEventsSubscription=_.events.subscribe(ee=>{ee instanceof lo&&this.update()})}ngAfterContentInit(){(0,ne.of)(this.links.changes,(0,ne.of)(null)).pipe((0,Ct.J)()).subscribe(_=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const _=[...this.links.toArray(),this.link].filter(D=>!!D).map(D=>D.onChanges);this.linkInputChangesSubscription=(0,je.D)(_).pipe((0,Ct.J)()).subscribe(D=>{this._isActive!==this.isLinkActive(this.router)(D)&&this.update()})}set routerLinkActive(_){const D=Array.isArray(_)?_:_.split(" ");this.classes=D.filter(k=>!!k)}ngOnChanges(_){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const _=this.hasActiveLinks();this._isActive!==_&&(this._isActive=_,this.cdr.markForCheck(),this.classes.forEach(D=>{_?this.renderer.addClass(this.element.nativeElement,D):this.renderer.removeClass(this.element.nativeElement,D)}),_&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(_))})}isLinkActive(_){const D=function Ka(f){return!!f.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return k=>!!k.urlTree&&_.isActive(k.urlTree,D)}hasActiveLinks(){const _=this.isLinkActive(this.router);return this.link&&_(this.link)||this.links.some(_)}}return f.\u0275fac=function(_){return new(_||f)(C.Y36(ir),C.Y36(C.SBq),C.Y36(C.Qsj),C.Y36(C.sBO),C.Y36(ps,8))},f.\u0275dir=C.lG2({type:f,selectors:[["","routerLinkActive",""]],contentQueries:function(_,D,k){if(1&_&&C.Suo(k,ps,5),2&_){let R;C.iGM(R=C.CRH())&&(D.links=R)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[C.TTD]}),f})();class Dl{}let _a=(()=>{class f{constructor(_,D,k,R,z){this.router=_,this.injector=k,this.preloadingStrategy=R,this.loader=z}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ot.h)(_=>_ instanceof lo),(0,Fi.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,D){const k=[];for(const R of D){R.providers&&!R._injector&&(R._injector=(0,C.MMx)(R.providers,_,`Route: ${R.path}`));const z=R._injector??_,ee=R._loadedInjector??z;(R.loadChildren&&!R._loadedRoutes&&void 0===R.canLoad||R.loadComponent&&!R._loadedComponent)&&k.push(this.preloadConfig(z,R)),(R.children||R._loadedRoutes)&&k.push(this.processRoutes(ee,R.children??R._loadedRoutes))}return(0,je.D)(k).pipe((0,Ct.J)())}preloadConfig(_,D){return this.preloadingStrategy.preload(D,()=>{let k;k=D.loadChildren&&void 0===D.canLoad?this.loader.loadChildren(_,D):(0,ne.of)(null);const R=k.pipe((0,ui.z)(z=>null===z?(0,ne.of)(void 0):(D._loadedRoutes=z.routes,D._loadedInjector=z.injector,this.processRoutes(z.injector??_,z.routes))));if(D.loadComponent&&!D._loadedComponent){const z=this.loader.loadComponent(D);return(0,je.D)([R,z]).pipe((0,Ct.J)())}return R})}}return f.\u0275fac=function(_){return new(_||f)(C.LFG(ir),C.LFG(C.Sil),C.LFG(C.lqb),C.LFG(Dl),C.LFG(V))},f.\u0275prov=C.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const is=new C.OlP("");let wt=(()=>{class f{constructor(_,D,k,R,z={}){this.urlSerializer=_,this.transitions=D,this.viewportScroller=k,this.zone=R,this.options=z,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},z.scrollPositionRestoration=z.scrollPositionRestoration||"disabled",z.anchorScrolling=z.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof _o?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof lo?(this.lastId=_.id,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.urlAfterRedirects).fragment)):_ instanceof gn&&0===_.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof Or&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,D){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Or(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,D))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return f.\u0275fac=function(_){C.$Z()},f.\u0275prov=C.Yz7({token:f,factory:f.\u0275fac}),f})();function Ws(f,b){return{\u0275kind:f,\u0275providers:b}}function Pa(){const f=(0,C.f3M)(C.zs3);return b=>{const _=f.get(C.z2F);if(b!==_.components[0])return;const D=f.get(ir),k=f.get(cl);1===f.get(Br)&&D.initialNavigation(),f.get(fs,null,C.XFs.Optional)?.setUpPreloading(),f.get(is,null,C.XFs.Optional)?.init(),D.resetRootComponentType(_.componentTypes[0]),k.closed||(k.next(),k.complete(),k.unsubscribe())}}const cl=new C.OlP("",{factory:()=>new Yt.x}),Br=new C.OlP("",{providedIn:"root",factory:()=>1}),fs=new C.OlP("");function oa(f){return Ws(0,[{provide:fs,useExisting:_a},{provide:Dl,useExisting:f}])}const dl=new C.OlP("ROUTER_FORROOT_GUARD"),Oa=[Le.Ye,{provide:Lt,useClass:yi},ir,vr,{provide:Pn,useFactory:function ll(f){return f.routerState.root},deps:[ir]},V,[]];function ql(){return new C.PXZ("Router",ir)}let Tl=(()=>{class f{constructor(_){}static forRoot(_,D){return{ngModule:f,providers:[Oa,[],{provide:fi,multi:!0,useValue:_},{provide:dl,useFactory:Al,deps:[[ir,new C.FiY,new C.tp0]]},{provide:Bn,useValue:D||{}},D?.useHash?{provide:Le.S$,useClass:Le.Do}:{provide:Le.S$,useClass:Le.b0},{provide:is,useFactory:()=>{const f=(0,C.f3M)(Le.EM),b=(0,C.f3M)(C.R0b),_=(0,C.f3M)(Bn),D=(0,C.f3M)(fe),k=(0,C.f3M)(Lt);return _.scrollOffset&&f.setOffset(_.scrollOffset),new wt(k,D,f,b,_)}},D?.preloadingStrategy?oa(D.preloadingStrategy).\u0275providers:[],{provide:C.PXZ,multi:!0,useFactory:ql},D?.initialNavigation?cc(D):[],D?.bindToComponentInputs?Ws(8,[hr,{provide:un,useExisting:hr}]).\u0275providers:[],[{provide:kl,useFactory:Pa},{provide:C.tb,multi:!0,useExisting:kl}]]}}static forChild(_){return{ngModule:f,providers:[{provide:fi,multi:!0,useValue:_}]}}}return f.\u0275fac=function(_){return new(_||f)(C.LFG(dl,8))},f.\u0275mod=C.oAB({type:f}),f.\u0275inj=C.cJS({}),f})();function Al(f){return"guarded"}function cc(f){return["disabled"===f.initialNavigation?Ws(3,[{provide:C.ip1,multi:!0,useFactory:()=>{const b=(0,C.f3M)(ir);return()=>{b.setUpLocationChangeListener()}}},{provide:Br,useValue:2}]).\u0275providers:[],"enabledBlocking"===f.initialNavigation?Ws(2,[{provide:Br,useValue:0},{provide:C.ip1,multi:!0,deps:[C.zs3],useFactory:b=>{const _=b.get(Le.V_,Promise.resolve());return()=>_.then(()=>new Promise(D=>{const k=b.get(ir),R=b.get(cl);Wr(k,()=>{D(!0)}),b.get(fe).afterPreactivation=()=>(D(!0),R.closed?(0,ne.of)(void 0):R),k.initialNavigation()}))}}]).\u0275providers:[]]}const kl=new C.OlP("")},7582:(_i,pt,H)=>{"use strict";function Fe(Et,gt,Nt,zt){return new(Nt||(Nt=Promise))(function(Ct,li){function Be(Ee){try{ut(zt.next(Ee))}catch(ht){li(ht)}}function rt(Ee){try{ut(zt.throw(Ee))}catch(ht){li(ht)}}function ut(Ee){Ee.done?Ct(Ee.value):function ni(Ct){return Ct instanceof Nt?Ct:new Nt(function(li){li(Ct)})}(Ee.value).then(Be,rt)}ut((zt=zt.apply(Et,gt||[])).next())})}function Le(Et){return this instanceof Le?(this.v=Et,this):new Le(Et)}function Ue(Et,gt,Nt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ni,zt=Nt.apply(Et,gt||[]),Ct=[];return ni={},li("next"),li("throw"),li("return"),ni[Symbol.asyncIterator]=function(){return this},ni;function li(Kt){zt[Kt]&&(ni[Kt]=function(Bt){return new Promise(function(ri,ot){Ct.push([Kt,Bt,ri,ot])>1||Be(Kt,Bt)})})}function Be(Kt,Bt){try{!function rt(Kt){Kt.value instanceof Le?Promise.resolve(Kt.value.v).then(ut,Ee):ht(Ct[0][2],Kt)}(zt[Kt](Bt))}catch(ri){ht(Ct[0][3],ri)}}function ut(Kt){Be("next",Kt)}function Ee(Kt){Be("throw",Kt)}function ht(Kt,Bt){Kt(Bt),Ct.shift(),Ct.length&&Be(Ct[0][0],Ct[0][1])}}function It(Et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Nt,gt=Et[Symbol.asyncIterator];return gt?gt.call(Et):(Et=function bt(Et){var gt="function"==typeof Symbol&&Symbol.iterator,Nt=gt&&Et[gt],zt=0;if(Nt)return Nt.call(Et);if(Et&&"number"==typeof Et.length)return{next:function(){return Et&&zt>=Et.length&&(Et=void 0),{value:Et&&Et[zt++],done:!Et}}};throw new TypeError(gt?"Object is not iterable.":"Symbol.iterator is not defined.")}(Et),Nt={},zt("next"),zt("throw"),zt("return"),Nt[Symbol.asyncIterator]=function(){return this},Nt);function zt(Ct){Nt[Ct]=Et[Ct]&&function(li){return new Promise(function(Be,rt){!function ni(Ct,li,Be,rt){Promise.resolve(rt).then(function(ut){Ct({value:ut,done:Be})},li)}(Be,rt,(li=Et[Ct](li)).done,li.value)})}}}H.d(pt,{FC:()=>Ue,KL:()=>It,mG:()=>Fe,qq:()=>Le}),"function"==typeof SuppressedError&&SuppressedError}},_i=>{_i(_i.s=8956)}]);
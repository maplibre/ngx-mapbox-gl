import{a as c}from"./chunk-5WCN4HEM.js";import{m as v,n as M,t as z}from"./chunk-NPX5NUHW.js";import{$a as o,Ab as n,Db as l,Kb as h,Lb as g,Mb as f,da as p,ha as m,hb as d,jc as y,kb as u,kc as a}from"./chunk-ZIEKACJ6.js";import"./chunk-ZQQCSEKW.js";var C=()=>[14],w=()=>({"raster-fade-duration":0}),I=(()=>{let r=class r{constructor(){this.ngZone=p(d),this.size=.001,this.url="assets/red.png",this.center=c.features[0].geometry.coordinates[0],this.coordinates=this.makeRectangle(this.center),u(()=>{let t=c.features[0].geometry.coordinates,e=t.map(_=>this.makeRectangle(_));this.center=t[0],this.coordinates=e[0];let s=0;this.timer=setInterval(()=>{this.ngZone.run(()=>{this.url=Math.random()<.5?"assets/red.png":"assets/blue.png",this.coordinates=e[s],s=(s+1)%e.length})},250)})}ngOnDestroy(){this.timer!==void 0&&clearInterval(this.timer)}makeRectangle([t,e]){return[[t,e],[t+this.size,e],[t+this.size,e-this.size],[t,e-this.size]]}};r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=m({type:r,selectors:[["showcase-demo"]],standalone:!0,features:[y],decls:3,vars:10,consts:[["movingMethod","jumpTo",3,"center","zoom","preserveDrawingBuffer"],["id","test_source",3,"url","coordinates"],["id","test_layer","source","test_source","type","raster",3,"paint"]],template:function(e,s){e&1&&(h(0,"mgl-map",0),f(1,"mgl-image-source",1)(2,"mgl-layer",2),g()),e&2&&(l("https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL"),n("center",s.center)("zoom",a(8,C))("preserveDrawingBuffer",!0),o(),n("url",s.url)("coordinates",s.coordinates),o(),n("paint",a(9,w)))},dependencies:[M,z,v],styles:[`[_nghost-%COMP%]{display:flex;flex:1}mgl-map[_ngcontent-%COMP%]{height:100%;width:100%}
/*# sourceMappingURL=examples-UPBTEGPO.css.map */`]});let i=r;return i})();export{I as LiveUpdateImageSourceComponent};
//# sourceMappingURL=chunk-3Q5E27A2.js.map
